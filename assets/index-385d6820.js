(function(){const eQ=document.createElement("link").relList;if(eQ&&eQ.supports&&eQ.supports("modulepreload"))return;for(const oQ of document.querySelectorAll('link[rel="modulepreload"]'))iQ(oQ);new MutationObserver(oQ=>{for(const rQ of oQ)if(rQ.type==="childList")for(const nQ of rQ.addedNodes)nQ.tagName==="LINK"&&nQ.rel==="modulepreload"&&iQ(nQ)}).observe(document,{childList:!0,subtree:!0});function AQ(oQ){const rQ={};return oQ.integrity&&(rQ.integrity=oQ.integrity),oQ.referrerpolicy&&(rQ.referrerPolicy=oQ.referrerpolicy),oQ.crossorigin==="use-credentials"?rQ.credentials="include":oQ.crossorigin==="anonymous"?rQ.credentials="omit":rQ.credentials="same-origin",rQ}function iQ(oQ){if(oQ.ep)return;oQ.ep=!0;const rQ=AQ(oQ);fetch(oQ.href,rQ)}})();const style="";function e(tQ,eQ){return eQ.forEach(function(AQ){AQ&&typeof AQ!="string"&&!Array.isArray(AQ)&&Object.keys(AQ).forEach(function(iQ){if(iQ!=="default"&&!(iQ in tQ)){var oQ=Object.getOwnPropertyDescriptor(AQ,iQ);Object.defineProperty(tQ,iQ,oQ.get?oQ:{enumerable:!0,get:function(){return AQ[iQ]}})}})}),Object.freeze(tQ)}var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function i(tQ){return tQ&&tQ.__esModule&&Object.prototype.hasOwnProperty.call(tQ,"default")?tQ.default:tQ}var n=function(tQ){try{return!!tQ()}catch{return!0}},r=!n(function(){var tQ=function(){}.bind();return typeof tQ!="function"||tQ.hasOwnProperty("prototype")}),o=r,s=Function.prototype,a=s.call,c=o&&s.bind.bind(a,a),d=o?c:function(tQ){return function(){return a.apply(tQ,arguments)}},l=d({}.isPrototypeOf),u=function(tQ){return tQ&&tQ.Math==Math&&tQ},h=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof t=="object"&&t)||function(){return this}()||t||Function("return this")(),p=r,_=Function.prototype,E=_.apply,m=_.call,f=typeof Reflect=="object"&&Reflect.apply||(p?m.bind(E):function(){return m.apply(E,arguments)}),T=d,S=T({}.toString),g=T("".slice),R=function(tQ){return g(S(tQ),8,-1)},C=R,I=d,v=function(tQ){if(C(tQ)==="Function")return I(tQ)},y=typeof document=="object"&&document.all,A={all:y,IS_HTMLDDA:y===void 0&&y!==void 0},b=A.all,w=A.IS_HTMLDDA?function(tQ){return typeof tQ=="function"||tQ===b}:function(tQ){return typeof tQ=="function"},O={},N=!n(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),D=r,P=Function.prototype.call,L=D?P.bind(P):function(){return P.apply(P,arguments)},k={},M={}.propertyIsEnumerable,U=Object.getOwnPropertyDescriptor,x=U&&!M.call({1:2},1);k.f=x?function(tQ){var eQ=U(this,tQ);return!!eQ&&eQ.enumerable}:M;var V,F,B=function(tQ,eQ){return{enumerable:!(1&tQ),configurable:!(2&tQ),writable:!(4&tQ),value:eQ}},j=n,G=R,W=Object,H=d("".split),K=j(function(){return!W("z").propertyIsEnumerable(0)})?function(tQ){return G(tQ)=="String"?H(tQ,""):W(tQ)}:W,Y=function(tQ){return tQ==null},q=Y,z=TypeError,J=function(tQ){if(q(tQ))throw z("Can't call method on "+tQ);return tQ},X=K,Q=J,Z=function(tQ){return X(Q(tQ))},$=w,ee=A.all,te=A.IS_HTMLDDA?function(tQ){return typeof tQ=="object"?tQ!==null:$(tQ)||tQ===ee}:function(tQ){return typeof tQ=="object"?tQ!==null:$(tQ)},ie={},ne=ie,re=h,oe=w,se=function(tQ){return oe(tQ)?tQ:void 0},ae=function(tQ,eQ){return arguments.length<2?se(ne[tQ])||se(re[tQ]):ne[tQ]&&ne[tQ][eQ]||re[tQ]&&re[tQ][eQ]},ce=typeof navigator<"u"&&String(navigator.userAgent)||"",de=h,le=ce,ue=de.process,he=de.Deno,pe=ue&&ue.versions||he&&he.version,_e=pe&&pe.v8;_e&&(F=(V=_e.split("."))[0]>0&&V[0]<4?1:+(V[0]+V[1])),!F&&le&&(!(V=le.match(/Edge\/(\d+)/))||V[1]>=74)&&(V=le.match(/Chrome\/(\d+)/))&&(F=+V[1]);var Ee=F,me=Ee,fe=n,Te=h.String,Se=!!Object.getOwnPropertySymbols&&!fe(function(){var tQ=Symbol();return!Te(tQ)||!(Object(tQ)instanceof Symbol)||!Symbol.sham&&me&&me<41}),ge=Se&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Re=ae,Ce=w,Ie=l,ve=Object,ye=ge?function(tQ){return typeof tQ=="symbol"}:function(tQ){var eQ=Re("Symbol");return Ce(eQ)&&Ie(eQ.prototype,ve(tQ))},Ae=String,be=function(tQ){try{return Ae(tQ)}catch{return"Object"}},we=w,Oe=be,Ne=TypeError,De=function(tQ){if(we(tQ))return tQ;throw Ne(Oe(tQ)+" is not a function")},Pe=De,Le=Y,ke=function(tQ,eQ){var AQ=tQ[eQ];return Le(AQ)?void 0:Pe(AQ)},Me=L,Ue=w,xe=te,Ve=TypeError,Fe={exports:{}},Be=h,je=Object.defineProperty,Ge=function(tQ,eQ){try{je(Be,tQ,{value:eQ,configurable:!0,writable:!0})}catch{Be[tQ]=eQ}return eQ},We="__core-js_shared__",He=h[We]||Ge(We,{}),Ke=He;(Fe.exports=function(tQ,eQ){return Ke[tQ]||(Ke[tQ]=eQ!==void 0?eQ:{})})("versions",[]).push({version:"3.31.1",mode:"pure",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.31.1/LICENSE",source:"https://github.com/zloirock/core-js"});var Ye=Fe.exports,qe=J,ze=Object,Je=function(tQ){return ze(qe(tQ))},Xe=Je,Qe=d({}.hasOwnProperty),Ze=Object.hasOwn||function(tQ,eQ){return Qe(Xe(tQ),eQ)},$e=d,et=0,tt=Math.random(),it=$e(1 .toString),nt=function(tQ){return"Symbol("+(tQ===void 0?"":tQ)+")_"+it(++et+tt,36)},rt=Ye,ot=Ze,st=nt,at=Se,ct=ge,dt=h.Symbol,lt=rt("wks"),ut=ct?dt.for||dt:dt&&dt.withoutSetter||st,ht=function(tQ){return ot(lt,tQ)||(lt[tQ]=at&&ot(dt,tQ)?dt[tQ]:ut("Symbol."+tQ)),lt[tQ]},pt=L,_t=te,Et=ye,mt=ke,ft=function(tQ,eQ){var AQ,iQ;if(eQ==="string"&&Ue(AQ=tQ.toString)&&!xe(iQ=Me(AQ,tQ))||Ue(AQ=tQ.valueOf)&&!xe(iQ=Me(AQ,tQ))||eQ!=="string"&&Ue(AQ=tQ.toString)&&!xe(iQ=Me(AQ,tQ)))return iQ;throw Ve("Can't convert object to primitive value")},Tt=TypeError,St=ht("toPrimitive"),gt=function(tQ,eQ){if(!_t(tQ)||Et(tQ))return tQ;var AQ,iQ=mt(tQ,St);if(iQ){if(eQ===void 0&&(eQ="default"),AQ=pt(iQ,tQ,eQ),!_t(AQ)||Et(AQ))return AQ;throw Tt("Can't convert object to primitive value")}return eQ===void 0&&(eQ="number"),ft(tQ,eQ)},Rt=ye,Ct=function(tQ){var eQ=gt(tQ,"string");return Rt(eQ)?eQ:eQ+""},It=te,vt=h.document,yt=It(vt)&&It(vt.createElement),At=function(tQ){return yt?vt.createElement(tQ):{}},bt=At,wt=!N&&!n(function(){return Object.defineProperty(bt("div"),"a",{get:function(){return 7}}).a!=7}),Ot=N,Nt=L,Dt=k,Pt=B,Lt=Z,kt=Ct,Mt=Ze,Ut=wt,xt=Object.getOwnPropertyDescriptor;O.f=Ot?xt:function(tQ,eQ){if(tQ=Lt(tQ),eQ=kt(eQ),Ut)try{return xt(tQ,eQ)}catch{}if(Mt(tQ,eQ))return Pt(!Nt(Dt.f,tQ,eQ),tQ[eQ])};var Vt=n,Ft=w,Bt=/#|\.prototype\./,jt=function(tQ,eQ){var AQ=Wt[Gt(tQ)];return AQ==Kt||AQ!=Ht&&(Ft(eQ)?Vt(eQ):!!eQ)},Gt=jt.normalize=function(tQ){return String(tQ).replace(Bt,".").toLowerCase()},Wt=jt.data={},Ht=jt.NATIVE="N",Kt=jt.POLYFILL="P",Yt=jt,qt=De,zt=r,Jt=v(v.bind),Xt=function(tQ,eQ){return qt(tQ),eQ===void 0?tQ:zt?Jt(tQ,eQ):function(){return tQ.apply(eQ,arguments)}},Qt={},Zt=N&&n(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),$t=te,ei=String,ti=TypeError,ii=function(tQ){if($t(tQ))return tQ;throw ti(ei(tQ)+" is not an object")},ni=N,ri=wt,oi=Zt,si=ii,ai=Ct,ci=TypeError,di=Object.defineProperty,li=Object.getOwnPropertyDescriptor,ui="enumerable",hi="configurable",pi="writable";Qt.f=ni?oi?function(tQ,eQ,AQ){if(si(tQ),eQ=ai(eQ),si(AQ),typeof tQ=="function"&&eQ==="prototype"&&"value"in AQ&&pi in AQ&&!AQ[pi]){var iQ=li(tQ,eQ);iQ&&iQ[pi]&&(tQ[eQ]=AQ.value,AQ={configurable:hi in AQ?AQ[hi]:iQ[hi],enumerable:ui in AQ?AQ[ui]:iQ[ui],writable:!1})}return di(tQ,eQ,AQ)}:di:function(tQ,eQ,AQ){if(si(tQ),eQ=ai(eQ),si(AQ),ri)try{return di(tQ,eQ,AQ)}catch{}if("get"in AQ||"set"in AQ)throw ci("Accessors not supported");return"value"in AQ&&(tQ[eQ]=AQ.value),tQ};var _i=Qt,Ei=B,mi=N?function(tQ,eQ,AQ){return _i.f(tQ,eQ,Ei(1,AQ))}:function(tQ,eQ,AQ){return tQ[eQ]=AQ,tQ},fi=h,Ti=f,Si=v,gi=w,Ri=O.f,Ci=Yt,Ii=ie,vi=Xt,yi=mi,Ai=Ze,bi=function(tQ){var eQ=function(AQ,iQ,oQ){if(this instanceof eQ){switch(arguments.length){case 0:return new tQ;case 1:return new tQ(AQ);case 2:return new tQ(AQ,iQ)}return new tQ(AQ,iQ,oQ)}return Ti(tQ,this,arguments)};return eQ.prototype=tQ.prototype,eQ},wi=function(tQ,eQ){var AQ,iQ,oQ,rQ,nQ,sQ,aQ,cQ,gQ,IQ=tQ.target,EQ=tQ.global,CQ=tQ.stat,dQ=tQ.proto,lQ=EQ?fi:CQ?fi[IQ]:(fi[IQ]||{}).prototype,uQ=EQ?Ii:Ii[IQ]||yi(Ii,IQ,{})[IQ],hQ=uQ.prototype;for(rQ in eQ)iQ=!(AQ=Ci(EQ?rQ:IQ+(CQ?".":"#")+rQ,tQ.forced))&&lQ&&Ai(lQ,rQ),sQ=uQ[rQ],iQ&&(aQ=tQ.dontCallGetSet?(gQ=Ri(lQ,rQ))&&gQ.value:lQ[rQ]),nQ=iQ&&aQ?aQ:eQ[rQ],iQ&&typeof sQ==typeof nQ||(cQ=tQ.bind&&iQ?vi(nQ,fi):tQ.wrap&&iQ?bi(nQ):dQ&&gi(nQ)?Si(nQ):nQ,(tQ.sham||nQ&&nQ.sham||sQ&&sQ.sham)&&yi(cQ,"sham",!0),yi(uQ,rQ,cQ),dQ&&(Ai(Ii,oQ=IQ+"Prototype")||yi(Ii,oQ,{}),yi(Ii[oQ],rQ,nQ),tQ.real&&hQ&&(AQ||!hQ[rQ])&&yi(hQ,rQ,nQ)))},Oi=Math.ceil,Ni=Math.floor,Di=Math.trunc||function(tQ){var eQ=+tQ;return(eQ>0?Ni:Oi)(eQ)},Pi=Di,Li=function(tQ){var eQ=+tQ;return eQ!=eQ||eQ===0?0:Pi(eQ)},ki=Li,Mi=Math.max,Ui=Math.min,xi=function(tQ,eQ){var AQ=ki(tQ);return AQ<0?Mi(AQ+eQ,0):Ui(AQ,eQ)},Vi=Li,Fi=Math.min,Bi=function(tQ){return tQ>0?Fi(Vi(tQ),9007199254740991):0},ji=Bi,Gi=function(tQ){return ji(tQ.length)},Wi=Z,Hi=xi,Ki=Gi,Yi=function(tQ){return function(eQ,AQ,iQ){var oQ,rQ=Wi(eQ),nQ=Ki(rQ),sQ=Hi(iQ,nQ);if(tQ&&AQ!=AQ){for(;nQ>sQ;)if((oQ=rQ[sQ++])!=oQ)return!0}else for(;nQ>sQ;sQ++)if((tQ||sQ in rQ)&&rQ[sQ]===AQ)return tQ||sQ||0;return!tQ&&-1}},qi={includes:Yi(!0),indexOf:Yi(!1)},zi=qi.includes;wi({target:"Array",proto:!0,forced:n(function(){return!Array(1).includes()})},{includes:function(tQ){return zi(this,tQ,arguments.length>1?arguments[1]:void 0)}});var Ji=ie,Xi=function(tQ){return Ji[tQ+"Prototype"]},Qi=Xi("Array").includes,Zi=te,$i=R,en=ht("match"),tn=function(tQ){var eQ;return Zi(tQ)&&((eQ=tQ[en])!==void 0?!!eQ:$i(tQ)=="RegExp")},nn=tn,rn=TypeError,on={};on[ht("toStringTag")]="z";var sn=String(on)==="[object z]",an=sn,cn=w,dn=R,ln=ht("toStringTag"),un=Object,hn=dn(function(){return arguments}())=="Arguments",pn=an?dn:function(tQ){var eQ,AQ,iQ;return tQ===void 0?"Undefined":tQ===null?"Null":typeof(AQ=function(oQ,rQ){try{return oQ[rQ]}catch{}}(eQ=un(tQ),ln))=="string"?AQ:hn?dn(eQ):(iQ=dn(eQ))=="Object"&&cn(eQ.callee)?"Arguments":iQ},_n=pn,En=String,mn=function(tQ){if(_n(tQ)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return En(tQ)},fn=ht("match"),Tn=wi,Sn=function(tQ){if(nn(tQ))throw rn("The method doesn't accept regular expressions");return tQ},gn=J,Rn=mn,Cn=function(tQ){var eQ=/./;try{"/./"[tQ](eQ)}catch{try{return eQ[fn]=!1,"/./"[tQ](eQ)}catch{}}return!1},In=d("".indexOf);Tn({target:"String",proto:!0,forced:!Cn("includes")},{includes:function(tQ){return!!~In(Rn(gn(this)),Rn(Sn(tQ)),arguments.length>1?arguments[1]:void 0)}});var vn=Xi("String").includes,yn=l,An=Qi,bn=vn,wn=Array.prototype,On=String.prototype,Nn=function(tQ){var eQ=tQ.includes;return tQ===wn||yn(wn,tQ)&&eQ===wn.includes?An:typeof tQ=="string"||tQ===On||yn(On,tQ)&&eQ===On.includes?bn:eQ},Dn=i(Nn),Pn=De,Ln=Je,kn=K,Mn=Gi,Un=TypeError,xn=function(tQ){return function(eQ,AQ,iQ,oQ){Pn(AQ);var rQ=Ln(eQ),nQ=kn(rQ),sQ=Mn(rQ),aQ=tQ?sQ-1:0,cQ=tQ?-1:1;if(iQ<2)for(;;){if(aQ in nQ){oQ=nQ[aQ],aQ+=cQ;break}if(aQ+=cQ,tQ?aQ<0:sQ<=aQ)throw Un("Reduce of empty array with no initial value")}for(;tQ?aQ>=0:sQ>aQ;aQ+=cQ)aQ in nQ&&(oQ=AQ(oQ,nQ[aQ],aQ,rQ));return oQ}},Vn={left:xn(!1),right:xn(!0)},Fn=n,Bn=function(tQ,eQ){var AQ=[][tQ];return!!AQ&&Fn(function(){AQ.call(null,eQ||function(){return 1},1)})},jn=typeof process<"u"&&R(process)=="process",Gn=Vn.left;wi({target:"Array",proto:!0,forced:!jn&&Ee>79&&Ee<83||!Bn("reduce")},{reduce:function(tQ){var eQ=arguments.length;return Gn(this,tQ,eQ,eQ>1?arguments[1]:void 0)}});var Wn=Xi("Array").reduce,Hn=l,Kn=Wn,Yn=Array.prototype,qn=function(tQ){var eQ=tQ.reduce;return tQ===Yn||Hn(Yn,tQ)&&eQ===Yn.reduce?Kn:eQ},zn=qn,Jn=i(zn);let Xn=!0,Qn=!0;function Zn(tQ,eQ,AQ){const iQ=tQ.match(eQ);return iQ&&iQ.length>=AQ&&parseInt(iQ[AQ],10)}function $n(tQ,eQ,AQ){if(!tQ.RTCPeerConnection)return;const iQ=tQ.RTCPeerConnection.prototype,oQ=iQ.addEventListener;iQ.addEventListener=function(nQ,sQ){if(nQ!==eQ)return oQ.apply(this,arguments);const aQ=cQ=>{const gQ=AQ(cQ);gQ&&(sQ.handleEvent?sQ.handleEvent(gQ):sQ(gQ))};return this._eventMap=this._eventMap||{},this._eventMap[eQ]||(this._eventMap[eQ]=new Map),this._eventMap[eQ].set(sQ,aQ),oQ.apply(this,[nQ,aQ])};const rQ=iQ.removeEventListener;iQ.removeEventListener=function(nQ,sQ){if(nQ!==eQ||!this._eventMap||!this._eventMap[eQ])return rQ.apply(this,arguments);if(!this._eventMap[eQ].has(sQ))return rQ.apply(this,arguments);const aQ=this._eventMap[eQ].get(sQ);return this._eventMap[eQ].delete(sQ),this._eventMap[eQ].size===0&&delete this._eventMap[eQ],Object.keys(this._eventMap).length===0&&delete this._eventMap,rQ.apply(this,[nQ,aQ])},Object.defineProperty(iQ,"on"+eQ,{get(){return this["_on"+eQ]},set(nQ){this["_on"+eQ]&&(this.removeEventListener(eQ,this["_on"+eQ]),delete this["_on"+eQ]),nQ&&this.addEventListener(eQ,this["_on"+eQ]=nQ)},enumerable:!0,configurable:!0})}function er(tQ){return typeof tQ!="boolean"?new Error("Argument type: "+typeof tQ+". Please use a boolean."):(Xn=tQ,tQ?"adapter.js logging disabled":"adapter.js logging enabled")}function tr(tQ){return typeof tQ!="boolean"?new Error("Argument type: "+typeof tQ+". Please use a boolean."):(Qn=!tQ,"adapter.js deprecation warnings "+(tQ?"disabled":"enabled"))}function ir(){if(typeof window=="object"){if(Xn)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function nr(tQ,eQ){Qn&&console.warn(tQ+" is deprecated, please use "+eQ+" instead.")}function rr(tQ){return Object.prototype.toString.call(tQ)==="[object Object]"}function or(tQ){var eQ;return rr(tQ)?Jn(eQ=Object.keys(tQ)).call(eQ,function(AQ,iQ){const oQ=rr(tQ[iQ]),rQ=oQ?or(tQ[iQ]):tQ[iQ],nQ=oQ&&!Object.keys(rQ).length;return rQ===void 0||nQ?AQ:Object.assign(AQ,{[iQ]:rQ})},{}):tQ}function sr(tQ,eQ,AQ){eQ&&!AQ.has(eQ.id)&&(AQ.set(eQ.id,eQ),Object.keys(eQ).forEach(iQ=>{iQ.endsWith("Id")?sr(tQ,tQ.get(eQ[iQ]),AQ):iQ.endsWith("Ids")&&eQ[iQ].forEach(oQ=>{sr(tQ,tQ.get(oQ),AQ)})}))}function ar(tQ,eQ,AQ){const iQ=AQ?"outbound-rtp":"inbound-rtp",oQ=new Map;if(eQ===null)return oQ;const rQ=[];return tQ.forEach(nQ=>{nQ.type==="track"&&nQ.trackIdentifier===eQ.id&&rQ.push(nQ)}),rQ.forEach(nQ=>{tQ.forEach(sQ=>{sQ.type===iQ&&sQ.trackId===nQ.id&&sr(tQ,sQ,oQ)})}),oQ}var cr=nt,dr=Ye("keys"),lr=function(tQ){return dr[tQ]||(dr[tQ]=cr(tQ))},ur=!n(function(){function tQ(){}return tQ.prototype.constructor=null,Object.getPrototypeOf(new tQ)!==tQ.prototype}),hr=Ze,pr=w,_r=Je,Er=ur,mr=lr("IE_PROTO"),fr=Object,Tr=fr.prototype,Sr=Er?fr.getPrototypeOf:function(tQ){var eQ=_r(tQ);if(hr(eQ,mr))return eQ[mr];var AQ=eQ.constructor;return pr(AQ)&&eQ instanceof AQ?AQ.prototype:eQ instanceof fr?Tr:null},gr=d,Rr=De,Cr=w,Ir=String,vr=TypeError,yr=function(tQ,eQ,AQ){try{return gr(Rr(Object.getOwnPropertyDescriptor(tQ,eQ)[AQ]))}catch{}},Ar=ii,br=function(tQ){if(typeof tQ=="object"||Cr(tQ))return tQ;throw vr("Can't set "+Ir(tQ)+" as a prototype")},wr=Object.setPrototypeOf||("__proto__"in{}?function(){var tQ,eQ=!1,AQ={};try{(tQ=yr(Object.prototype,"__proto__","set"))(AQ,[]),eQ=AQ instanceof Array}catch{}return function(iQ,oQ){return Ar(iQ),br(oQ),eQ?tQ(iQ,oQ):iQ.__proto__=oQ,iQ}}():void 0),Or={},Nr={},Dr=Ze,Pr=Z,Lr=qi.indexOf,kr=Nr,Mr=d([].push),Ur=function(tQ,eQ){var AQ,iQ=Pr(tQ),oQ=0,rQ=[];for(AQ in iQ)!Dr(kr,AQ)&&Dr(iQ,AQ)&&Mr(rQ,AQ);for(;eQ.length>oQ;)Dr(iQ,AQ=eQ[oQ++])&&(~Lr(rQ,AQ)||Mr(rQ,AQ));return rQ},xr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Vr=Ur,Fr=xr.concat("length","prototype");Or.f=Object.getOwnPropertyNames||function(tQ){return Vr(tQ,Fr)};var Br={};Br.f=Object.getOwnPropertySymbols;var jr=ae,Gr=Or,Wr=Br,Hr=ii,Kr=d([].concat),Yr=jr("Reflect","ownKeys")||function(tQ){var eQ=Gr.f(Hr(tQ)),AQ=Wr.f;return AQ?Kr(eQ,AQ(tQ)):eQ},qr=Ze,zr=Yr,Jr=O,Xr=Qt,Qr={},Zr=Ur,$r=xr,eo=Object.keys||function(tQ){return Zr(tQ,$r)},to=N,io=Zt,no=Qt,ro=ii,oo=Z,so=eo;Qr.f=to&&!io?Object.defineProperties:function(tQ,eQ){ro(tQ);for(var AQ,iQ=oo(eQ),oQ=so(eQ),rQ=oQ.length,nQ=0;rQ>nQ;)no.f(tQ,AQ=oQ[nQ++],iQ[AQ]);return tQ};var ao,co=ae("document","documentElement"),lo=ii,uo=Qr,ho=xr,po=Nr,_o=co,Eo=At,mo="prototype",fo="script",To=lr("IE_PROTO"),So=function(){},go=function(tQ){return"<"+fo+">"+tQ+"</"+fo+">"},Ro=function(tQ){tQ.write(go("")),tQ.close();var eQ=tQ.parentWindow.Object;return tQ=null,eQ},Co=function(){try{ao=new ActiveXObject("htmlfile")}catch{}var tQ,eQ,AQ;Co=typeof document<"u"?document.domain&&ao?Ro(ao):(eQ=Eo("iframe"),AQ="java"+fo+":",eQ.style.display="none",_o.appendChild(eQ),eQ.src=String(AQ),(tQ=eQ.contentWindow.document).open(),tQ.write(go("document.F=Object")),tQ.close(),tQ.F):Ro(ao);for(var iQ=ho.length;iQ--;)delete Co[mo][ho[iQ]];return Co()};po[To]=!0;var Io=Object.create||function(tQ,eQ){var AQ;return tQ!==null?(So[mo]=lo(tQ),AQ=new So,So[mo]=null,AQ[To]=tQ):AQ=Co(),eQ===void 0?AQ:uo.f(AQ,eQ)},vo=te,yo=mi,Ao=Error,bo=d("".replace),wo=String(Ao("zxcasd").stack),Oo=/\n\s*at [^:]*:[^\n]*/,No=Oo.test(wo),Do=B,Po=!n(function(){var tQ=Error("a");return!("stack"in tQ)||(Object.defineProperty(tQ,"stack",Do(1,7)),tQ.stack!==7)}),Lo=mi,ko=function(tQ,eQ){if(No&&typeof tQ=="string"&&!Ao.prepareStackTrace)for(;eQ--;)tQ=bo(tQ,Oo,"");return tQ},Mo=Po,Uo=Error.captureStackTrace,xo={},Vo=xo,Fo=ht("iterator"),Bo=Array.prototype,jo=function(tQ){return tQ!==void 0&&(Vo.Array===tQ||Bo[Fo]===tQ)},Go=pn,Wo=ke,Ho=Y,Ko=xo,Yo=ht("iterator"),qo=function(tQ){if(!Ho(tQ))return Wo(tQ,Yo)||Wo(tQ,"@@iterator")||Ko[Go(tQ)]},zo=L,Jo=De,Xo=ii,Qo=be,Zo=qo,$o=TypeError,es=function(tQ,eQ){var AQ=arguments.length<2?Zo(tQ):eQ;if(Jo(AQ))return Xo(zo(AQ,tQ));throw $o(Qo(tQ)+" is not iterable")},ts=L,is=ii,ns=ke,rs=function(tQ,eQ,AQ){var iQ,oQ;is(tQ);try{if(!(iQ=ns(tQ,"return"))){if(eQ==="throw")throw AQ;return AQ}iQ=ts(iQ,tQ)}catch(rQ){oQ=!0,iQ=rQ}if(eQ==="throw")throw AQ;if(oQ)throw iQ;return is(iQ),AQ},os=Xt,ss=L,as=ii,cs=be,ds=jo,ls=Gi,us=l,hs=es,ps=qo,_s=rs,Es=TypeError,ms=function(tQ,eQ){this.stopped=tQ,this.result=eQ},fs=ms.prototype,Ts=function(tQ,eQ,AQ){var iQ,oQ,rQ,nQ,sQ,aQ,cQ,gQ=AQ&&AQ.that,IQ=!(!AQ||!AQ.AS_ENTRIES),EQ=!(!AQ||!AQ.IS_RECORD),CQ=!(!AQ||!AQ.IS_ITERATOR),dQ=!(!AQ||!AQ.INTERRUPTED),lQ=os(eQ,gQ),uQ=function(BQ){return iQ&&_s(iQ,"normal",BQ),new ms(!0,BQ)},hQ=function(BQ){return IQ?(as(BQ),dQ?lQ(BQ[0],BQ[1],uQ):lQ(BQ[0],BQ[1])):dQ?lQ(BQ,uQ):lQ(BQ)};if(EQ)iQ=tQ.iterator;else if(CQ)iQ=tQ;else{if(!(oQ=ps(tQ)))throw Es(cs(tQ)+" is not iterable");if(ds(oQ)){for(rQ=0,nQ=ls(tQ);nQ>rQ;rQ++)if((sQ=hQ(tQ[rQ]))&&us(fs,sQ))return sQ;return new ms(!1)}iQ=hs(tQ,oQ)}for(aQ=EQ?tQ.next:iQ.next;!(cQ=ss(aQ,iQ)).done;){try{sQ=hQ(cQ.value)}catch(BQ){_s(iQ,"throw",BQ)}if(typeof sQ=="object"&&sQ&&us(fs,sQ))return sQ}return new ms(!1)},Ss=mn,gs=wi,Rs=l,Cs=Sr,Is=wr,vs=function(tQ,eQ,AQ){for(var iQ=zr(eQ),oQ=Xr.f,rQ=Jr.f,nQ=0;nQ<iQ.length;nQ++){var sQ=iQ[nQ];qr(tQ,sQ)||AQ&&qr(AQ,sQ)||oQ(tQ,sQ,rQ(eQ,sQ))}},ys=Io,As=mi,bs=B,ws=function(tQ,eQ){vo(eQ)&&"cause"in eQ&&yo(tQ,"cause",eQ.cause)},Os=function(tQ,eQ,AQ,iQ){Mo&&(Uo?Uo(tQ,eQ):Lo(tQ,"stack",ko(AQ,iQ)))},Ns=Ts,Ds=function(tQ,eQ){return tQ===void 0?arguments.length<2?"":eQ:Ss(tQ)},Ps=ht("toStringTag"),Ls=Error,ks=[].push,Ms=function(tQ,eQ){var AQ,iQ=Rs(Us,this);Is?AQ=Is(Ls(),iQ?Cs(this):Us):(AQ=iQ?this:ys(Us),As(AQ,Ps,"Error")),eQ!==void 0&&As(AQ,"message",Ds(eQ)),Os(AQ,Ms,AQ.stack,1),arguments.length>2&&ws(AQ,arguments[2]);var oQ=[];return Ns(tQ,ks,{that:oQ}),As(AQ,"errors",oQ),AQ};Is?Is(Ms,Ls):vs(Ms,Ls,{name:!0});var Us=Ms.prototype=ys(Ls.prototype,{constructor:bs(1,Ms),message:bs(1,""),name:bs(1,"AggregateError")});gs({global:!0,constructor:!0,arity:2},{AggregateError:Ms});var xs,Vs,Fs,Bs=w,js=h.WeakMap,Gs=Bs(js)&&/native code/.test(String(js)),Ws=h,Hs=te,Ks=mi,Ys=Ze,qs=He,zs=lr,Js=Nr,Xs="Object already initialized",Qs=Ws.TypeError,Zs=Ws.WeakMap;if(Gs||qs.state){var $s=qs.state||(qs.state=new Zs);$s.get=$s.get,$s.has=$s.has,$s.set=$s.set,xs=function(tQ,eQ){if($s.has(tQ))throw Qs(Xs);return eQ.facade=tQ,$s.set(tQ,eQ),eQ},Vs=function(tQ){return $s.get(tQ)||{}},Fs=function(tQ){return $s.has(tQ)}}else{var ea=zs("state");Js[ea]=!0,xs=function(tQ,eQ){if(Ys(tQ,ea))throw Qs(Xs);return eQ.facade=tQ,Ks(tQ,ea,eQ),eQ},Vs=function(tQ){return Ys(tQ,ea)?tQ[ea]:{}},Fs=function(tQ){return Ys(tQ,ea)}}var ta,ia,na,ra={set:xs,get:Vs,has:Fs,enforce:function(tQ){return Fs(tQ)?Vs(tQ):xs(tQ,{})},getterFor:function(tQ){return function(eQ){var AQ;if(!Hs(eQ)||(AQ=Vs(eQ)).type!==tQ)throw Qs("Incompatible receiver, "+tQ+" required");return AQ}}},oa=N,sa=Ze,aa=Function.prototype,ca=oa&&Object.getOwnPropertyDescriptor,da=sa(aa,"name"),la={EXISTS:da,PROPER:da&&function(){}.name==="something",CONFIGURABLE:da&&(!oa||oa&&ca(aa,"name").configurable)},ua=mi,ha=function(tQ,eQ,AQ,iQ){return iQ&&iQ.enumerable?tQ[eQ]=AQ:ua(tQ,eQ,AQ),tQ},pa=n,_a=w,Ea=te,ma=Io,fa=Sr,Ta=ha,Sa=ht("iterator"),ga=!1;[].keys&&("next"in(na=[].keys())?(ia=fa(fa(na)))!==Object.prototype&&(ta=ia):ga=!0);var Ra=!Ea(ta)||pa(function(){var tQ={};return ta[Sa].call(tQ)!==tQ});_a((ta=Ra?{}:ma(ta))[Sa])||Ta(ta,Sa,function(){return this});var Ca={IteratorPrototype:ta,BUGGY_SAFARI_ITERATORS:ga},Ia=pn,va=sn?{}.toString:function(){return"[object "+Ia(this)+"]"},ya=sn,Aa=Qt.f,ba=mi,wa=Ze,Oa=va,Na=ht("toStringTag"),Da=function(tQ,eQ,AQ,iQ){if(tQ){var oQ=AQ?tQ:tQ.prototype;wa(oQ,Na)||Aa(oQ,Na,{configurable:!0,value:eQ}),iQ&&!ya&&ba(oQ,"toString",Oa)}},Pa=Ca.IteratorPrototype,La=Io,ka=B,Ma=Da,Ua=xo,xa=function(){return this},Va=function(tQ,eQ,AQ,iQ){var oQ=eQ+" Iterator";return tQ.prototype=La(Pa,{next:ka(+!iQ,AQ)}),Ma(tQ,oQ,!1,!0),Ua[oQ]=xa,tQ},Fa=wi,Ba=L,ja=la,Ga=Va,Wa=Sr,Ha=Da,Ka=ha,Ya=xo,qa=Ca,za=ja.PROPER,Ja=qa.BUGGY_SAFARI_ITERATORS,Xa=ht("iterator"),Qa="keys",Za="values",$a="entries",ec=function(){return this},tc=function(tQ,eQ,AQ,iQ,oQ,rQ,nQ){Ga(AQ,eQ,iQ);var sQ,aQ,cQ,gQ=function(hQ){if(hQ===oQ&&lQ)return lQ;if(!Ja&&hQ in CQ)return CQ[hQ];switch(hQ){case Qa:case Za:case $a:return function(){return new AQ(this,hQ)}}return function(){return new AQ(this)}},IQ=eQ+" Iterator",EQ=!1,CQ=tQ.prototype,dQ=CQ[Xa]||CQ["@@iterator"]||oQ&&CQ[oQ],lQ=!Ja&&dQ||gQ(oQ),uQ=eQ=="Array"&&CQ.entries||dQ;if(uQ&&(sQ=Wa(uQ.call(new tQ)))!==Object.prototype&&sQ.next&&(Ha(sQ,IQ,!0,!0),Ya[IQ]=ec),za&&oQ==Za&&dQ&&dQ.name!==Za&&(EQ=!0,lQ=function(){return Ba(dQ,this)}),oQ)if(aQ={values:gQ(Za),keys:rQ?lQ:gQ(Qa),entries:gQ($a)},nQ)for(cQ in aQ)(Ja||EQ||!(cQ in CQ))&&Ka(CQ,cQ,aQ[cQ]);else Fa({target:eQ,proto:!0,forced:Ja||EQ},aQ);return nQ&&CQ[Xa]!==lQ&&Ka(CQ,Xa,lQ,{name:oQ}),Ya[eQ]=lQ,aQ},ic=function(tQ,eQ){return{value:tQ,done:eQ}},nc=Z,rc=xo,oc=ra;Qt.f;var sc=tc,ac=ic,cc="Array Iterator",dc=oc.set,lc=oc.getterFor(cc);sc(Array,"Array",function(tQ,eQ){dc(this,{type:cc,target:nc(tQ),index:0,kind:eQ})},function(){var tQ=lc(this),eQ=tQ.target,AQ=tQ.kind,iQ=tQ.index++;return!eQ||iQ>=eQ.length?(tQ.target=void 0,ac(void 0,!0)):ac(AQ=="keys"?iQ:AQ=="values"?eQ[iQ]:[iQ,eQ[iQ]],!1)},"values"),rc.Arguments=rc.Array;var uc=Qt,hc=function(tQ,eQ,AQ){return uc.f(tQ,eQ,AQ)},pc=ae,_c=hc,Ec=N,mc=ht("species"),fc=l,Tc=TypeError,Sc=function(tQ,eQ){if(fc(eQ,tQ))return tQ;throw Tc("Incorrect invocation")},gc=w,Rc=He,Cc=d(Function.toString);gc(Rc.inspectSource)||(Rc.inspectSource=function(tQ){return Cc(tQ)});var Ic=Rc.inspectSource,vc=d,yc=n,Ac=w,bc=pn,wc=Ic,Oc=function(){},Nc=[],Dc=ae("Reflect","construct"),Pc=/^\s*(?:class|function)\b/,Lc=vc(Pc.exec),kc=!Pc.exec(Oc),Mc=function(tQ){if(!Ac(tQ))return!1;try{return Dc(Oc,Nc,tQ),!0}catch{return!1}},Uc=function(tQ){if(!Ac(tQ))return!1;switch(bc(tQ)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return kc||!!Lc(Pc,wc(tQ))}catch{return!0}};Uc.sham=!0;var xc,Vc,Fc,Bc,jc=!Dc||yc(function(){var tQ;return Mc(Mc.call)||!Mc(Object)||!Mc(function(){tQ=!0})||tQ})?Uc:Mc,Gc=jc,Wc=be,Hc=TypeError,Kc=ii,Yc=function(tQ){if(Gc(tQ))return tQ;throw Hc(Wc(tQ)+" is not a constructor")},qc=Y,zc=ht("species"),Jc=function(tQ,eQ){var AQ,iQ=Kc(tQ).constructor;return iQ===void 0||qc(AQ=Kc(iQ)[zc])?eQ:Yc(AQ)},Xc=d([].slice),Qc=TypeError,Zc=function(tQ,eQ){if(tQ<eQ)throw Qc("Not enough arguments");return tQ},$c=/(?:ipad|iphone|ipod).*applewebkit/i.test(ce),ed=h,td=f,id=Xt,nd=w,rd=Ze,od=n,sd=co,ad=Xc,cd=At,dd=Zc,ld=$c,ud=jn,hd=ed.setImmediate,pd=ed.clearImmediate,_d=ed.process,Ed=ed.Dispatch,md=ed.Function,fd=ed.MessageChannel,Td=ed.String,Sd=0,gd={},Rd="onreadystatechange";od(function(){xc=ed.location});var Cd=function(tQ){if(rd(gd,tQ)){var eQ=gd[tQ];delete gd[tQ],eQ()}},Id=function(tQ){return function(){Cd(tQ)}},vd=function(tQ){Cd(tQ.data)},yd=function(tQ){ed.postMessage(Td(tQ),xc.protocol+"//"+xc.host)};hd&&pd||(hd=function(tQ){dd(arguments.length,1);var eQ=nd(tQ)?tQ:md(tQ),AQ=ad(arguments,1);return gd[++Sd]=function(){td(eQ,void 0,AQ)},Vc(Sd),Sd},pd=function(tQ){delete gd[tQ]},ud?Vc=function(tQ){_d.nextTick(Id(tQ))}:Ed&&Ed.now?Vc=function(tQ){Ed.now(Id(tQ))}:fd&&!ld?(Bc=(Fc=new fd).port2,Fc.port1.onmessage=vd,Vc=id(Bc.postMessage,Bc)):ed.addEventListener&&nd(ed.postMessage)&&!ed.importScripts&&xc&&xc.protocol!=="file:"&&!od(yd)?(Vc=yd,ed.addEventListener("message",vd,!1)):Vc=Rd in cd("script")?function(tQ){sd.appendChild(cd("script"))[Rd]=function(){sd.removeChild(this),Cd(tQ)}}:function(tQ){setTimeout(Id(tQ),0)});var Ad={set:hd,clear:pd},bd=function(){this.head=null,this.tail=null};bd.prototype={add:function(tQ){var eQ={item:tQ,next:null},AQ=this.tail;AQ?AQ.next=eQ:this.head=eQ,this.tail=eQ},get:function(){var tQ=this.head;if(tQ)return(this.head=tQ.next)===null&&(this.tail=null),tQ.item}};var wd,Od,Nd,Dd,Pd,Ld=bd,kd=/ipad|iphone|ipod/i.test(ce)&&typeof Pebble<"u",Md=/web0s(?!.*chrome)/i.test(ce),Ud=h,xd=Xt,Vd=O.f,Fd=Ad.set,Bd=Ld,jd=$c,Gd=kd,Wd=Md,Hd=jn,Kd=Ud.MutationObserver||Ud.WebKitMutationObserver,Yd=Ud.document,qd=Ud.process,zd=Ud.Promise,Jd=Vd(Ud,"queueMicrotask"),Xd=Jd&&Jd.value;if(!Xd){var Qd=new Bd,Zd=function(){var tQ,eQ;for(Hd&&(tQ=qd.domain)&&tQ.exit();eQ=Qd.get();)try{eQ()}catch(AQ){throw Qd.head&&wd(),AQ}tQ&&tQ.enter()};jd||Hd||Wd||!Kd||!Yd?!Gd&&zd&&zd.resolve?((Dd=zd.resolve(void 0)).constructor=zd,Pd=xd(Dd.then,Dd),wd=function(){Pd(Zd)}):Hd?wd=function(){qd.nextTick(Zd)}:(Fd=xd(Fd,Ud),wd=function(){Fd(Zd)}):(Od=!0,Nd=Yd.createTextNode(""),new Kd(Zd).observe(Nd,{characterData:!0}),wd=function(){Nd.data=Od=!Od}),Xd=function(tQ){Qd.head||wd(),Qd.add(tQ)}}var $d=Xd,el=function(tQ){try{return{error:!1,value:tQ()}}catch(eQ){return{error:!0,value:eQ}}},tl=h.Promise,il=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",nl=!il&&!jn&&typeof window=="object"&&typeof document=="object",rl=h,ol=tl,sl=w,al=Yt,cl=Ic,dl=ht,ll=nl,ul=il,hl=Ee,pl=ol&&ol.prototype,_l=dl("species"),El=!1,ml=sl(rl.PromiseRejectionEvent),fl=al("Promise",function(){var tQ=cl(ol),eQ=tQ!==String(ol);if(!eQ&&hl===66||!pl.catch||!pl.finally)return!0;if(!hl||hl<51||!/native code/.test(tQ)){var AQ=new ol(function(oQ){oQ(1)}),iQ=function(oQ){oQ(function(){},function(){})};if((AQ.constructor={})[_l]=iQ,!(El=AQ.then(function(){})instanceof iQ))return!0}return!eQ&&(ll||ul)&&!ml}),Tl={CONSTRUCTOR:fl,REJECTION_EVENT:ml,SUBCLASSING:El},Sl={},gl=De,Rl=TypeError,Cl=function(tQ){var eQ,AQ;this.promise=new tQ(function(iQ,oQ){if(eQ!==void 0||AQ!==void 0)throw Rl("Bad Promise constructor");eQ=iQ,AQ=oQ}),this.resolve=gl(eQ),this.reject=gl(AQ)};Sl.f=function(tQ){return new Cl(tQ)};var Il,vl,yl=wi,Al=jn,bl=h,wl=L,Ol=ha,Nl=Da,Dl=function(tQ){var eQ=pc(tQ);Ec&&eQ&&!eQ[mc]&&_c(eQ,mc,{configurable:!0,get:function(){return this}})},Pl=De,Ll=w,kl=te,Ml=Sc,Ul=Jc,xl=Ad.set,Vl=$d,Fl=function(tQ,eQ){try{arguments.length==1?console.error(tQ):console.error(tQ,eQ)}catch{}},Bl=el,jl=Ld,Gl=ra,Wl=tl,Hl=Tl,Kl=Sl,Yl="Promise",ql=Hl.CONSTRUCTOR,zl=Hl.REJECTION_EVENT,Jl=Gl.getterFor(Yl),Xl=Gl.set,Ql=Wl&&Wl.prototype,Zl=Wl,$l=Ql,eu=bl.TypeError,tu=bl.document,iu=bl.process,nu=Kl.f,ru=nu,ou=!!(tu&&tu.createEvent&&bl.dispatchEvent),su="unhandledrejection",au=function(tQ){var eQ;return!(!kl(tQ)||!Ll(eQ=tQ.then))&&eQ},cu=function(tQ,eQ){var AQ,iQ,oQ,rQ=eQ.value,nQ=eQ.state==1,sQ=nQ?tQ.ok:tQ.fail,aQ=tQ.resolve,cQ=tQ.reject,gQ=tQ.domain;try{sQ?(nQ||(eQ.rejection===2&&pu(eQ),eQ.rejection=1),sQ===!0?AQ=rQ:(gQ&&gQ.enter(),AQ=sQ(rQ),gQ&&(gQ.exit(),oQ=!0)),AQ===tQ.promise?cQ(eu("Promise-chain cycle")):(iQ=au(AQ))?wl(iQ,AQ,aQ,cQ):aQ(AQ)):cQ(rQ)}catch(IQ){gQ&&!oQ&&gQ.exit(),cQ(IQ)}},du=function(tQ,eQ){tQ.notified||(tQ.notified=!0,Vl(function(){for(var AQ,iQ=tQ.reactions;AQ=iQ.get();)cu(AQ,tQ);tQ.notified=!1,eQ&&!tQ.rejection&&uu(tQ)}))},lu=function(tQ,eQ,AQ){var iQ,oQ;ou?((iQ=tu.createEvent("Event")).promise=eQ,iQ.reason=AQ,iQ.initEvent(tQ,!1,!0),bl.dispatchEvent(iQ)):iQ={promise:eQ,reason:AQ},!zl&&(oQ=bl["on"+tQ])?oQ(iQ):tQ===su&&Fl("Unhandled promise rejection",AQ)},uu=function(tQ){wl(xl,bl,function(){var eQ,AQ=tQ.facade,iQ=tQ.value;if(hu(tQ)&&(eQ=Bl(function(){Al?iu.emit("unhandledRejection",iQ,AQ):lu(su,AQ,iQ)}),tQ.rejection=Al||hu(tQ)?2:1,eQ.error))throw eQ.value})},hu=function(tQ){return tQ.rejection!==1&&!tQ.parent},pu=function(tQ){wl(xl,bl,function(){var eQ=tQ.facade;Al?iu.emit("rejectionHandled",eQ):lu("rejectionhandled",eQ,tQ.value)})},_u=function(tQ,eQ,AQ){return function(iQ){tQ(eQ,iQ,AQ)}},Eu=function(tQ,eQ,AQ){tQ.done||(tQ.done=!0,AQ&&(tQ=AQ),tQ.value=eQ,tQ.state=2,du(tQ,!0))},mu=function(tQ,eQ,AQ){if(!tQ.done){tQ.done=!0,AQ&&(tQ=AQ);try{if(tQ.facade===eQ)throw eu("Promise can't be resolved itself");var iQ=au(eQ);iQ?Vl(function(){var oQ={done:!1};try{wl(iQ,eQ,_u(mu,oQ,tQ),_u(Eu,oQ,tQ))}catch(rQ){Eu(oQ,rQ,tQ)}}):(tQ.value=eQ,tQ.state=1,du(tQ,!1))}catch(oQ){Eu({done:!1},oQ,tQ)}}};ql&&($l=(Zl=function(tQ){Ml(this,$l),Pl(tQ),wl(Il,this);var eQ=Jl(this);try{tQ(_u(mu,eQ),_u(Eu,eQ))}catch(AQ){Eu(eQ,AQ)}}).prototype,(Il=function(tQ){Xl(this,{type:Yl,done:!1,notified:!1,parent:!1,reactions:new jl,rejection:!1,state:0,value:void 0})}).prototype=Ol($l,"then",function(tQ,eQ){var AQ=Jl(this),iQ=nu(Ul(this,Zl));return AQ.parent=!0,iQ.ok=!Ll(tQ)||tQ,iQ.fail=Ll(eQ)&&eQ,iQ.domain=Al?iu.domain:void 0,AQ.state==0?AQ.reactions.add(iQ):Vl(function(){cu(iQ,AQ)}),iQ.promise}),vl=function(){var tQ=new Il,eQ=Jl(tQ);this.promise=tQ,this.resolve=_u(mu,eQ),this.reject=_u(Eu,eQ)},Kl.f=nu=function(tQ){return tQ===Zl||tQ===void 0?new vl(tQ):ru(tQ)}),yl({global:!0,constructor:!0,wrap:!0,forced:ql},{Promise:Zl}),Nl(Zl,Yl,!1,!0),Dl(Yl);var fu=ht("iterator"),Tu=!1;try{var Su=0,gu={next:function(){return{done:!!Su++}},return:function(){Tu=!0}};gu[fu]=function(){return this},Array.from(gu,function(){throw 2})}catch{}var Ru=tl,Cu=function(tQ,eQ){if(!eQ&&!Tu)return!1;var AQ=!1;try{var iQ={};iQ[fu]=function(){return{next:function(){return{done:AQ=!0}}}},tQ(iQ)}catch{}return AQ},Iu=Tl.CONSTRUCTOR||!Cu(function(tQ){Ru.all(tQ).then(void 0,function(){})}),vu=L,yu=De,Au=Sl,bu=el,wu=Ts;wi({target:"Promise",stat:!0,forced:Iu},{all:function(tQ){var eQ=this,AQ=Au.f(eQ),iQ=AQ.resolve,oQ=AQ.reject,rQ=bu(function(){var nQ=yu(eQ.resolve),sQ=[],aQ=0,cQ=1;wu(tQ,function(gQ){var IQ=aQ++,EQ=!1;cQ++,vu(nQ,eQ,gQ).then(function(CQ){EQ||(EQ=!0,sQ[IQ]=CQ,--cQ||iQ(sQ))},oQ)}),--cQ||iQ(sQ)});return rQ.error&&oQ(rQ.value),AQ.promise}});var Ou=wi,Nu=Tl.CONSTRUCTOR;tl&&tl.prototype,Ou({target:"Promise",proto:!0,forced:Nu,real:!0},{catch:function(tQ){return this.then(void 0,tQ)}});var Du=L,Pu=De,Lu=Sl,ku=el,Mu=Ts;wi({target:"Promise",stat:!0,forced:Iu},{race:function(tQ){var eQ=this,AQ=Lu.f(eQ),iQ=AQ.reject,oQ=ku(function(){var rQ=Pu(eQ.resolve);Mu(tQ,function(nQ){Du(rQ,eQ,nQ).then(AQ.resolve,iQ)})});return oQ.error&&iQ(oQ.value),AQ.promise}});var Uu=L,xu=Sl;wi({target:"Promise",stat:!0,forced:Tl.CONSTRUCTOR},{reject:function(tQ){var eQ=xu.f(this);return Uu(eQ.reject,void 0,tQ),eQ.promise}});var Vu=ii,Fu=te,Bu=Sl,ju=function(tQ,eQ){if(Vu(tQ),Fu(eQ)&&eQ.constructor===tQ)return eQ;var AQ=Bu.f(tQ);return(0,AQ.resolve)(eQ),AQ.promise},Gu=wi,Wu=tl,Hu=Tl.CONSTRUCTOR,Ku=ju,Yu=ae("Promise"),qu=!Hu;Gu({target:"Promise",stat:!0,forced:!0},{resolve:function(tQ){return Ku(qu&&this===Yu?Wu:this,tQ)}});var zu=L,Ju=De,Xu=Sl,Qu=el,Zu=Ts;wi({target:"Promise",stat:!0,forced:Iu},{allSettled:function(tQ){var eQ=this,AQ=Xu.f(eQ),iQ=AQ.resolve,oQ=AQ.reject,rQ=Qu(function(){var nQ=Ju(eQ.resolve),sQ=[],aQ=0,cQ=1;Zu(tQ,function(gQ){var IQ=aQ++,EQ=!1;cQ++,zu(nQ,eQ,gQ).then(function(CQ){EQ||(EQ=!0,sQ[IQ]={status:"fulfilled",value:CQ},--cQ||iQ(sQ))},function(CQ){EQ||(EQ=!0,sQ[IQ]={status:"rejected",reason:CQ},--cQ||iQ(sQ))})}),--cQ||iQ(sQ)});return rQ.error&&oQ(rQ.value),AQ.promise}});var $u=L,eh=De,th=ae,ih=Sl,nh=el,rh=Ts,oh="No one promise resolved";wi({target:"Promise",stat:!0,forced:Iu},{any:function(tQ){var eQ=this,AQ=th("AggregateError"),iQ=ih.f(eQ),oQ=iQ.resolve,rQ=iQ.reject,nQ=nh(function(){var sQ=eh(eQ.resolve),aQ=[],cQ=0,gQ=1,IQ=!1;rh(tQ,function(EQ){var CQ=cQ++,dQ=!1;gQ++,$u(sQ,eQ,EQ).then(function(lQ){dQ||IQ||(IQ=!0,oQ(lQ))},function(lQ){dQ||IQ||(dQ=!0,aQ[CQ]=lQ,--gQ||rQ(new AQ(aQ,oh)))})}),--gQ||rQ(new AQ(aQ,oh))});return nQ.error&&rQ(nQ.value),iQ.promise}});var sh=wi,ah=tl,ch=n,dh=ae,lh=w,uh=Jc,hh=ju,ph=ah&&ah.prototype;sh({target:"Promise",proto:!0,real:!0,forced:!!ah&&ch(function(){ph.finally.call({then:function(){}},function(){})})},{finally:function(tQ){var eQ=uh(this,dh("Promise")),AQ=lh(tQ);return this.then(AQ?function(iQ){return hh(eQ,tQ()).then(function(){return iQ})}:tQ,AQ?function(iQ){return hh(eQ,tQ()).then(function(){throw iQ})}:tQ)}});var _h=d,Eh=Li,mh=mn,fh=J,Th=_h("".charAt),Sh=_h("".charCodeAt),gh=_h("".slice),Rh=function(tQ){return function(eQ,AQ){var iQ,oQ,rQ=mh(fh(eQ)),nQ=Eh(AQ),sQ=rQ.length;return nQ<0||nQ>=sQ?tQ?"":void 0:(iQ=Sh(rQ,nQ))<55296||iQ>56319||nQ+1===sQ||(oQ=Sh(rQ,nQ+1))<56320||oQ>57343?tQ?Th(rQ,nQ):iQ:tQ?gh(rQ,nQ,nQ+2):oQ-56320+(iQ-55296<<10)+65536}},Ch={codeAt:Rh(!1),charAt:Rh(!0)},Ih=Ch.charAt,vh=mn,yh=ra,Ah=tc,bh=ic,wh="String Iterator",Oh=yh.set,Nh=yh.getterFor(wh);Ah(String,"String",function(tQ){Oh(this,{type:wh,string:vh(tQ),index:0})},function(){var tQ,eQ=Nh(this),AQ=eQ.string,iQ=eQ.index;return iQ>=AQ.length?bh(void 0,!0):(tQ=Ih(AQ,iQ),eQ.index+=tQ.length,bh(tQ,!1))});var Dh=ie.Promise,Ph={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Lh=h,kh=pn,Mh=mi,Uh=xo,xh=ht("toStringTag");for(var Vh in Ph){var Fh=Lh[Vh],Bh=Fh&&Fh.prototype;Bh&&kh(Bh)!==xh&&Mh(Bh,xh,Vh),Uh[Vh]=Uh.Array}var jh=Dh,Gh=i(jh);const Wh=ir;function Hh(tQ,eQ){const AQ=tQ&&tQ.navigator;if(!AQ.mediaDevices)return;const iQ=function(nQ){if(typeof nQ!="object"||nQ.mandatory||nQ.optional)return nQ;const sQ={};return Object.keys(nQ).forEach(aQ=>{if(aQ==="require"||aQ==="advanced"||aQ==="mediaSource")return;const cQ=typeof nQ[aQ]=="object"?nQ[aQ]:{ideal:nQ[aQ]};cQ.exact!==void 0&&typeof cQ.exact=="number"&&(cQ.min=cQ.max=cQ.exact);const gQ=function(IQ,EQ){return IQ?IQ+EQ.charAt(0).toUpperCase()+EQ.slice(1):EQ==="deviceId"?"sourceId":EQ};if(cQ.ideal!==void 0){sQ.optional=sQ.optional||[];let IQ={};typeof cQ.ideal=="number"?(IQ[gQ("min",aQ)]=cQ.ideal,sQ.optional.push(IQ),IQ={},IQ[gQ("max",aQ)]=cQ.ideal,sQ.optional.push(IQ)):(IQ[gQ("",aQ)]=cQ.ideal,sQ.optional.push(IQ))}cQ.exact!==void 0&&typeof cQ.exact!="number"?(sQ.mandatory=sQ.mandatory||{},sQ.mandatory[gQ("",aQ)]=cQ.exact):["min","max"].forEach(IQ=>{cQ[IQ]!==void 0&&(sQ.mandatory=sQ.mandatory||{},sQ.mandatory[gQ(IQ,aQ)]=cQ[IQ])})}),nQ.advanced&&(sQ.optional=(sQ.optional||[]).concat(nQ.advanced)),sQ},oQ=function(nQ,sQ){if(eQ.version>=61)return sQ(nQ);if((nQ=JSON.parse(JSON.stringify(nQ)))&&typeof nQ.audio=="object"){const aQ=function(cQ,gQ,IQ){gQ in cQ&&!(IQ in cQ)&&(cQ[IQ]=cQ[gQ],delete cQ[gQ])};aQ((nQ=JSON.parse(JSON.stringify(nQ))).audio,"autoGainControl","googAutoGainControl"),aQ(nQ.audio,"noiseSuppression","googNoiseSuppression"),nQ.audio=iQ(nQ.audio)}if(nQ&&typeof nQ.video=="object"){let aQ=nQ.video.facingMode;aQ=aQ&&(typeof aQ=="object"?aQ:{ideal:aQ});const cQ=eQ.version<66;if(aQ&&(aQ.exact==="user"||aQ.exact==="environment"||aQ.ideal==="user"||aQ.ideal==="environment")&&(!AQ.mediaDevices.getSupportedConstraints||!AQ.mediaDevices.getSupportedConstraints().facingMode||cQ)){let gQ;if(delete nQ.video.facingMode,aQ.exact==="environment"||aQ.ideal==="environment"?gQ=["back","rear"]:aQ.exact!=="user"&&aQ.ideal!=="user"||(gQ=["front"]),gQ)return AQ.mediaDevices.enumerateDevices().then(IQ=>{let EQ=(IQ=IQ.filter(CQ=>CQ.kind==="videoinput")).find(CQ=>gQ.some(dQ=>{var lQ;return Dn(lQ=CQ.label.toLowerCase()).call(lQ,dQ)}));return!EQ&&IQ.length&&Dn(gQ).call(gQ,"back")&&(EQ=IQ[IQ.length-1]),EQ&&(nQ.video.deviceId=aQ.exact?{exact:EQ.deviceId}:{ideal:EQ.deviceId}),nQ.video=iQ(nQ.video),Wh("chrome: "+JSON.stringify(nQ)),sQ(nQ)})}nQ.video=iQ(nQ.video)}return Wh("chrome: "+JSON.stringify(nQ)),sQ(nQ)},rQ=function(nQ){return eQ.version>=64?nQ:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[nQ.name]||nQ.name,message:nQ.message,constraint:nQ.constraint||nQ.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(AQ.getUserMedia=function(nQ,sQ,aQ){oQ(nQ,cQ=>{AQ.webkitGetUserMedia(cQ,sQ,gQ=>{aQ&&aQ(rQ(gQ))})})}.bind(AQ),AQ.mediaDevices.getUserMedia){const nQ=AQ.mediaDevices.getUserMedia.bind(AQ.mediaDevices);AQ.mediaDevices.getUserMedia=function(sQ){return oQ(sQ,aQ=>nQ(aQ).then(cQ=>{if(aQ.audio&&!cQ.getAudioTracks().length||aQ.video&&!cQ.getVideoTracks().length)throw cQ.getTracks().forEach(gQ=>{gQ.stop()}),new DOMException("","NotFoundError");return cQ},cQ=>Gh.reject(rQ(cQ))))}}}function Kh(tQ){tQ.MediaStream=tQ.MediaStream||tQ.webkitMediaStream}function Yh(tQ){if(typeof tQ=="object"&&tQ.RTCPeerConnection&&!("ontrack"in tQ.RTCPeerConnection.prototype)){Object.defineProperty(tQ.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(AQ){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=AQ)},enumerable:!0,configurable:!0});const eQ=tQ.RTCPeerConnection.prototype.setRemoteDescription;tQ.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=AQ=>{AQ.stream.addEventListener("addtrack",iQ=>{let oQ;oQ=tQ.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(nQ=>nQ.track&&nQ.track.id===iQ.track.id):{track:iQ.track};const rQ=new Event("track");rQ.track=iQ.track,rQ.receiver=oQ,rQ.transceiver={receiver:oQ},rQ.streams=[AQ.stream],this.dispatchEvent(rQ)}),AQ.stream.getTracks().forEach(iQ=>{let oQ;oQ=tQ.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(nQ=>nQ.track&&nQ.track.id===iQ.id):{track:iQ};const rQ=new Event("track");rQ.track=iQ,rQ.receiver=oQ,rQ.transceiver={receiver:oQ},rQ.streams=[AQ.stream],this.dispatchEvent(rQ)})},this.addEventListener("addstream",this._ontrackpoly)),eQ.apply(this,arguments)}}else $n(tQ,"track",eQ=>(eQ.transceiver||Object.defineProperty(eQ,"transceiver",{value:{receiver:eQ.receiver}}),eQ))}function qh(tQ){if(typeof tQ=="object"&&tQ.RTCPeerConnection&&!("getSenders"in tQ.RTCPeerConnection.prototype)&&"createDTMFSender"in tQ.RTCPeerConnection.prototype){const eQ=function(oQ,rQ){return{track:rQ,get dtmf(){return this._dtmf===void 0&&(rQ.kind==="audio"?this._dtmf=oQ.createDTMFSender(rQ):this._dtmf=null),this._dtmf},_pc:oQ}};if(!tQ.RTCPeerConnection.prototype.getSenders){tQ.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const oQ=tQ.RTCPeerConnection.prototype.addTrack;tQ.RTCPeerConnection.prototype.addTrack=function(nQ,sQ){let aQ=oQ.apply(this,arguments);return aQ||(aQ=eQ(this,nQ),this._senders.push(aQ)),aQ};const rQ=tQ.RTCPeerConnection.prototype.removeTrack;tQ.RTCPeerConnection.prototype.removeTrack=function(nQ){rQ.apply(this,arguments);const sQ=this._senders.indexOf(nQ);sQ!==-1&&this._senders.splice(sQ,1)}}const AQ=tQ.RTCPeerConnection.prototype.addStream;tQ.RTCPeerConnection.prototype.addStream=function(oQ){this._senders=this._senders||[],AQ.apply(this,[oQ]),oQ.getTracks().forEach(rQ=>{this._senders.push(eQ(this,rQ))})};const iQ=tQ.RTCPeerConnection.prototype.removeStream;tQ.RTCPeerConnection.prototype.removeStream=function(oQ){this._senders=this._senders||[],iQ.apply(this,[oQ]),oQ.getTracks().forEach(rQ=>{const nQ=this._senders.find(sQ=>sQ.track===rQ);nQ&&this._senders.splice(this._senders.indexOf(nQ),1)})}}else if(typeof tQ=="object"&&tQ.RTCPeerConnection&&"getSenders"in tQ.RTCPeerConnection.prototype&&"createDTMFSender"in tQ.RTCPeerConnection.prototype&&tQ.RTCRtpSender&&!("dtmf"in tQ.RTCRtpSender.prototype)){const eQ=tQ.RTCPeerConnection.prototype.getSenders;tQ.RTCPeerConnection.prototype.getSenders=function(){const AQ=eQ.apply(this,[]);return AQ.forEach(iQ=>iQ._pc=this),AQ},Object.defineProperty(tQ.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function zh(tQ){if(!tQ.RTCPeerConnection)return;const eQ=tQ.RTCPeerConnection.prototype.getStats;tQ.RTCPeerConnection.prototype.getStats=function(){const[AQ,iQ,oQ]=arguments;if(arguments.length>0&&typeof AQ=="function")return eQ.apply(this,arguments);if(eQ.length===0&&(arguments.length===0||typeof AQ!="function"))return eQ.apply(this,[]);const rQ=function(sQ){const aQ={};return sQ.result().forEach(cQ=>{const gQ={id:cQ.id,timestamp:cQ.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[cQ.type]||cQ.type};cQ.names().forEach(IQ=>{gQ[IQ]=cQ.stat(IQ)}),aQ[gQ.id]=gQ}),aQ},nQ=function(sQ){return new Map(Object.keys(sQ).map(aQ=>[aQ,sQ[aQ]]))};if(arguments.length>=2){const sQ=function(aQ){iQ(nQ(rQ(aQ)))};return eQ.apply(this,[sQ,AQ])}return new Gh((sQ,aQ)=>{eQ.apply(this,[function(cQ){sQ(nQ(rQ(cQ)))},aQ])}).then(iQ,oQ)}}function Jh(tQ){if(!(typeof tQ=="object"&&tQ.RTCPeerConnection&&tQ.RTCRtpSender&&tQ.RTCRtpReceiver))return;if(!("getStats"in tQ.RTCRtpSender.prototype)){const AQ=tQ.RTCPeerConnection.prototype.getSenders;AQ&&(tQ.RTCPeerConnection.prototype.getSenders=function(){const oQ=AQ.apply(this,[]);return oQ.forEach(rQ=>rQ._pc=this),oQ});const iQ=tQ.RTCPeerConnection.prototype.addTrack;iQ&&(tQ.RTCPeerConnection.prototype.addTrack=function(){const oQ=iQ.apply(this,arguments);return oQ._pc=this,oQ}),tQ.RTCRtpSender.prototype.getStats=function(){const oQ=this;return this._pc.getStats().then(rQ=>ar(rQ,oQ.track,!0))}}if(!("getStats"in tQ.RTCRtpReceiver.prototype)){const AQ=tQ.RTCPeerConnection.prototype.getReceivers;AQ&&(tQ.RTCPeerConnection.prototype.getReceivers=function(){const iQ=AQ.apply(this,[]);return iQ.forEach(oQ=>oQ._pc=this),iQ}),$n(tQ,"track",iQ=>(iQ.receiver._pc=iQ.srcElement,iQ)),tQ.RTCRtpReceiver.prototype.getStats=function(){const iQ=this;return this._pc.getStats().then(oQ=>ar(oQ,iQ.track,!1))}}if(!("getStats"in tQ.RTCRtpSender.prototype)||!("getStats"in tQ.RTCRtpReceiver.prototype))return;const eQ=tQ.RTCPeerConnection.prototype.getStats;tQ.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof tQ.MediaStreamTrack){const AQ=arguments[0];let iQ,oQ,rQ;return this.getSenders().forEach(nQ=>{nQ.track===AQ&&(iQ?rQ=!0:iQ=nQ)}),this.getReceivers().forEach(nQ=>(nQ.track===AQ&&(oQ?rQ=!0:oQ=nQ),nQ.track===AQ)),rQ||iQ&&oQ?Gh.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):iQ?iQ.getStats():oQ?oQ.getStats():Gh.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return eQ.apply(this,arguments)}}function Xh(tQ){tQ.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(rQ=>this._shimmedLocalStreams[rQ][0])};const eQ=tQ.RTCPeerConnection.prototype.addTrack;tQ.RTCPeerConnection.prototype.addTrack=function(rQ,nQ){if(!nQ)return eQ.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const sQ=eQ.apply(this,arguments);return this._shimmedLocalStreams[nQ.id]?this._shimmedLocalStreams[nQ.id].indexOf(sQ)===-1&&this._shimmedLocalStreams[nQ.id].push(sQ):this._shimmedLocalStreams[nQ.id]=[nQ,sQ],sQ};const AQ=tQ.RTCPeerConnection.prototype.addStream;tQ.RTCPeerConnection.prototype.addStream=function(rQ){this._shimmedLocalStreams=this._shimmedLocalStreams||{},rQ.getTracks().forEach(aQ=>{if(this.getSenders().find(gQ=>gQ.track===aQ))throw new DOMException("Track already exists.","InvalidAccessError")});const nQ=this.getSenders();AQ.apply(this,arguments);const sQ=this.getSenders().filter(aQ=>nQ.indexOf(aQ)===-1);this._shimmedLocalStreams[rQ.id]=[rQ].concat(sQ)};const iQ=tQ.RTCPeerConnection.prototype.removeStream;tQ.RTCPeerConnection.prototype.removeStream=function(rQ){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[rQ.id],iQ.apply(this,arguments)};const oQ=tQ.RTCPeerConnection.prototype.removeTrack;tQ.RTCPeerConnection.prototype.removeTrack=function(rQ){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},rQ&&Object.keys(this._shimmedLocalStreams).forEach(nQ=>{const sQ=this._shimmedLocalStreams[nQ].indexOf(rQ);sQ!==-1&&this._shimmedLocalStreams[nQ].splice(sQ,1),this._shimmedLocalStreams[nQ].length===1&&delete this._shimmedLocalStreams[nQ]}),oQ.apply(this,arguments)}}function Qh(tQ,eQ){if(!tQ.RTCPeerConnection)return;if(tQ.RTCPeerConnection.prototype.addTrack&&eQ.version>=65)return Xh(tQ);const AQ=tQ.RTCPeerConnection.prototype.getLocalStreams;tQ.RTCPeerConnection.prototype.getLocalStreams=function(){const aQ=AQ.apply(this);return this._reverseStreams=this._reverseStreams||{},aQ.map(cQ=>this._reverseStreams[cQ.id])};const iQ=tQ.RTCPeerConnection.prototype.addStream;tQ.RTCPeerConnection.prototype.addStream=function(aQ){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},aQ.getTracks().forEach(cQ=>{if(this.getSenders().find(IQ=>IQ.track===cQ))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[aQ.id]){const cQ=new tQ.MediaStream(aQ.getTracks());this._streams[aQ.id]=cQ,this._reverseStreams[cQ.id]=aQ,aQ=cQ}iQ.apply(this,[aQ])};const oQ=tQ.RTCPeerConnection.prototype.removeStream;function rQ(aQ,cQ){let gQ=cQ.sdp;return Object.keys(aQ._reverseStreams||[]).forEach(IQ=>{const EQ=aQ._reverseStreams[IQ],CQ=aQ._streams[EQ.id];gQ=gQ.replace(new RegExp(CQ.id,"g"),EQ.id)}),new RTCSessionDescription({type:cQ.type,sdp:gQ})}tQ.RTCPeerConnection.prototype.removeStream=function(aQ){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},oQ.apply(this,[this._streams[aQ.id]||aQ]),delete this._reverseStreams[this._streams[aQ.id]?this._streams[aQ.id].id:aQ.id],delete this._streams[aQ.id]},tQ.RTCPeerConnection.prototype.addTrack=function(aQ,cQ){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const gQ=[].slice.call(arguments,1);if(gQ.length!==1||!gQ[0].getTracks().find(CQ=>CQ===aQ))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(CQ=>CQ.track===aQ))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const EQ=this._streams[cQ.id];if(EQ)EQ.addTrack(aQ),Gh.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const CQ=new tQ.MediaStream([aQ]);this._streams[cQ.id]=CQ,this._reverseStreams[CQ.id]=cQ,this.addStream(CQ)}return this.getSenders().find(CQ=>CQ.track===aQ)},["createOffer","createAnswer"].forEach(function(aQ){const cQ=tQ.RTCPeerConnection.prototype[aQ],gQ={[aQ](){const IQ=arguments;return arguments.length&&typeof arguments[0]=="function"?cQ.apply(this,[EQ=>{const CQ=rQ(this,EQ);IQ[0].apply(null,[CQ])},EQ=>{IQ[1]&&IQ[1].apply(null,EQ)},arguments[2]]):cQ.apply(this,arguments).then(EQ=>rQ(this,EQ))}};tQ.RTCPeerConnection.prototype[aQ]=gQ[aQ]});const nQ=tQ.RTCPeerConnection.prototype.setLocalDescription;tQ.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(aQ,cQ){let gQ=cQ.sdp;return Object.keys(aQ._reverseStreams||[]).forEach(IQ=>{const EQ=aQ._reverseStreams[IQ],CQ=aQ._streams[EQ.id];gQ=gQ.replace(new RegExp(EQ.id,"g"),CQ.id)}),new RTCSessionDescription({type:cQ.type,sdp:gQ})}(this,arguments[0]),nQ.apply(this,arguments)):nQ.apply(this,arguments)};const sQ=Object.getOwnPropertyDescriptor(tQ.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(tQ.RTCPeerConnection.prototype,"localDescription",{get(){const aQ=sQ.get.apply(this);return aQ.type===""?aQ:rQ(this,aQ)}}),tQ.RTCPeerConnection.prototype.removeTrack=function(aQ){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!aQ._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(aQ._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let cQ;this._streams=this._streams||{},Object.keys(this._streams).forEach(gQ=>{this._streams[gQ].getTracks().find(IQ=>aQ.track===IQ)&&(cQ=this._streams[gQ])}),cQ&&(cQ.getTracks().length===1?this.removeStream(this._reverseStreams[cQ.id]):cQ.removeTrack(aQ.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Zh(tQ,eQ){!tQ.RTCPeerConnection&&tQ.webkitRTCPeerConnection&&(tQ.RTCPeerConnection=tQ.webkitRTCPeerConnection),tQ.RTCPeerConnection&&eQ.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(AQ){const iQ=tQ.RTCPeerConnection.prototype[AQ],oQ={[AQ](){return arguments[0]=new(AQ==="addIceCandidate"?tQ.RTCIceCandidate:tQ.RTCSessionDescription)(arguments[0]),iQ.apply(this,arguments)}};tQ.RTCPeerConnection.prototype[AQ]=oQ[AQ]})}function $h(tQ,eQ){$n(tQ,"negotiationneeded",AQ=>{const iQ=AQ.target;if(!(eQ.version<72||iQ.getConfiguration&&iQ.getConfiguration().sdpSemantics==="plan-b")||iQ.signalingState==="stable")return AQ})}var ep=Object.freeze({__proto__:null,fixNegotiationNeeded:$h,shimAddTrackRemoveTrack:Qh,shimAddTrackRemoveTrackWithNative:Xh,shimGetDisplayMedia:function(tQ,eQ){tQ.navigator.mediaDevices&&"getDisplayMedia"in tQ.navigator.mediaDevices||tQ.navigator.mediaDevices&&(typeof eQ=="function"?tQ.navigator.mediaDevices.getDisplayMedia=function(AQ){return eQ(AQ).then(iQ=>{const oQ=AQ.video&&AQ.video.width,rQ=AQ.video&&AQ.video.height,nQ=AQ.video&&AQ.video.frameRate;return AQ.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:iQ,maxFrameRate:nQ||3}},oQ&&(AQ.video.mandatory.maxWidth=oQ),rQ&&(AQ.video.mandatory.maxHeight=rQ),tQ.navigator.mediaDevices.getUserMedia(AQ)})}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))},shimGetSendersWithDtmf:qh,shimGetStats:zh,shimGetUserMedia:Hh,shimMediaStream:Kh,shimOnTrack:Yh,shimPeerConnection:Zh,shimSenderReceiverGetStats:Jh});function tp(tQ,eQ){const AQ=tQ&&tQ.navigator,iQ=tQ&&tQ.MediaStreamTrack;if(AQ.getUserMedia=function(oQ,rQ,nQ){nr("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),AQ.mediaDevices.getUserMedia(oQ).then(rQ,nQ)},!(eQ.version>55&&"autoGainControl"in AQ.mediaDevices.getSupportedConstraints())){const oQ=function(nQ,sQ,aQ){sQ in nQ&&!(aQ in nQ)&&(nQ[aQ]=nQ[sQ],delete nQ[sQ])},rQ=AQ.mediaDevices.getUserMedia.bind(AQ.mediaDevices);if(AQ.mediaDevices.getUserMedia=function(nQ){return typeof nQ=="object"&&typeof nQ.audio=="object"&&(nQ=JSON.parse(JSON.stringify(nQ)),oQ(nQ.audio,"autoGainControl","mozAutoGainControl"),oQ(nQ.audio,"noiseSuppression","mozNoiseSuppression")),rQ(nQ)},iQ&&iQ.prototype.getSettings){const nQ=iQ.prototype.getSettings;iQ.prototype.getSettings=function(){const sQ=nQ.apply(this,arguments);return oQ(sQ,"mozAutoGainControl","autoGainControl"),oQ(sQ,"mozNoiseSuppression","noiseSuppression"),sQ}}if(iQ&&iQ.prototype.applyConstraints){const nQ=iQ.prototype.applyConstraints;iQ.prototype.applyConstraints=function(sQ){return this.kind==="audio"&&typeof sQ=="object"&&(sQ=JSON.parse(JSON.stringify(sQ)),oQ(sQ,"autoGainControl","mozAutoGainControl"),oQ(sQ,"noiseSuppression","mozNoiseSuppression")),nQ.apply(this,[sQ])}}}}function ip(tQ){typeof tQ=="object"&&tQ.RTCTrackEvent&&"receiver"in tQ.RTCTrackEvent.prototype&&!("transceiver"in tQ.RTCTrackEvent.prototype)&&Object.defineProperty(tQ.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function np(tQ,eQ){if(typeof tQ!="object"||!tQ.RTCPeerConnection&&!tQ.mozRTCPeerConnection)return;!tQ.RTCPeerConnection&&tQ.mozRTCPeerConnection&&(tQ.RTCPeerConnection=tQ.mozRTCPeerConnection),eQ.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(oQ){const rQ=tQ.RTCPeerConnection.prototype[oQ],nQ={[oQ](){return arguments[0]=new(oQ==="addIceCandidate"?tQ.RTCIceCandidate:tQ.RTCSessionDescription)(arguments[0]),rQ.apply(this,arguments)}};tQ.RTCPeerConnection.prototype[oQ]=nQ[oQ]});const AQ={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},iQ=tQ.RTCPeerConnection.prototype.getStats;tQ.RTCPeerConnection.prototype.getStats=function(){const[oQ,rQ,nQ]=arguments;return iQ.apply(this,[oQ||null]).then(sQ=>{if(eQ.version<53&&!rQ)try{sQ.forEach(aQ=>{aQ.type=AQ[aQ.type]||aQ.type})}catch(aQ){if(aQ.name!=="TypeError")throw aQ;sQ.forEach((cQ,gQ)=>{sQ.set(gQ,Object.assign({},cQ,{type:AQ[cQ.type]||cQ.type}))})}return sQ}).then(rQ,nQ)}}function rp(tQ){if(typeof tQ!="object"||!tQ.RTCPeerConnection||!tQ.RTCRtpSender||tQ.RTCRtpSender&&"getStats"in tQ.RTCRtpSender.prototype)return;const eQ=tQ.RTCPeerConnection.prototype.getSenders;eQ&&(tQ.RTCPeerConnection.prototype.getSenders=function(){const iQ=eQ.apply(this,[]);return iQ.forEach(oQ=>oQ._pc=this),iQ});const AQ=tQ.RTCPeerConnection.prototype.addTrack;AQ&&(tQ.RTCPeerConnection.prototype.addTrack=function(){const iQ=AQ.apply(this,arguments);return iQ._pc=this,iQ}),tQ.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Gh.resolve(new Map)}}function op(tQ){if(typeof tQ!="object"||!tQ.RTCPeerConnection||!tQ.RTCRtpSender||tQ.RTCRtpSender&&"getStats"in tQ.RTCRtpReceiver.prototype)return;const eQ=tQ.RTCPeerConnection.prototype.getReceivers;eQ&&(tQ.RTCPeerConnection.prototype.getReceivers=function(){const AQ=eQ.apply(this,[]);return AQ.forEach(iQ=>iQ._pc=this),AQ}),$n(tQ,"track",AQ=>(AQ.receiver._pc=AQ.srcElement,AQ)),tQ.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function sp(tQ){tQ.RTCPeerConnection&&!("removeStream"in tQ.RTCPeerConnection.prototype)&&(tQ.RTCPeerConnection.prototype.removeStream=function(eQ){nr("removeStream","removeTrack"),this.getSenders().forEach(AQ=>{var iQ;AQ.track&&Dn(iQ=eQ.getTracks()).call(iQ,AQ.track)&&this.removeTrack(AQ)})})}function ap(tQ){tQ.DataChannel&&!tQ.RTCDataChannel&&(tQ.RTCDataChannel=tQ.DataChannel)}function cp(tQ){if(typeof tQ!="object"||!tQ.RTCPeerConnection)return;const eQ=tQ.RTCPeerConnection.prototype.addTransceiver;eQ&&(tQ.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let AQ=arguments[1]&&arguments[1].sendEncodings;AQ===void 0&&(AQ=[]),AQ=[...AQ];const iQ=AQ.length>0;iQ&&AQ.forEach(rQ=>{if("rid"in rQ&&!/^[a-z0-9]{0,16}$/i.test(rQ.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in rQ&&!(parseFloat(rQ.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in rQ&&!(parseFloat(rQ.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const oQ=eQ.apply(this,arguments);if(iQ){const{sender:rQ}=oQ,nQ=rQ.getParameters();(!("encodings"in nQ)||nQ.encodings.length===1&&Object.keys(nQ.encodings[0]).length===0)&&(nQ.encodings=AQ,rQ.sendEncodings=AQ,this.setParametersPromises.push(rQ.setParameters(nQ).then(()=>{delete rQ.sendEncodings}).catch(()=>{delete rQ.sendEncodings})))}return oQ})}function dp(tQ){if(typeof tQ!="object"||!tQ.RTCRtpSender)return;const eQ=tQ.RTCRtpSender.prototype.getParameters;eQ&&(tQ.RTCRtpSender.prototype.getParameters=function(){const AQ=eQ.apply(this,arguments);return"encodings"in AQ||(AQ.encodings=[].concat(this.sendEncodings||[{}])),AQ})}function lp(tQ){if(typeof tQ!="object"||!tQ.RTCPeerConnection)return;const eQ=tQ.RTCPeerConnection.prototype.createOffer;tQ.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Gh.all(this.setParametersPromises).then(()=>eQ.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):eQ.apply(this,arguments)}}function up(tQ){if(typeof tQ!="object"||!tQ.RTCPeerConnection)return;const eQ=tQ.RTCPeerConnection.prototype.createAnswer;tQ.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Gh.all(this.setParametersPromises).then(()=>eQ.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):eQ.apply(this,arguments)}}var hp=Object.freeze({__proto__:null,shimAddTransceiver:cp,shimCreateAnswer:up,shimCreateOffer:lp,shimGetDisplayMedia:function(tQ,eQ){tQ.navigator.mediaDevices&&"getDisplayMedia"in tQ.navigator.mediaDevices||tQ.navigator.mediaDevices&&(tQ.navigator.mediaDevices.getDisplayMedia=function(AQ){if(!AQ||!AQ.video){const iQ=new DOMException("getDisplayMedia without video constraints is undefined");return iQ.name="NotFoundError",iQ.code=8,Gh.reject(iQ)}return AQ.video===!0?AQ.video={mediaSource:eQ}:AQ.video.mediaSource=eQ,tQ.navigator.mediaDevices.getUserMedia(AQ)})},shimGetParameters:dp,shimGetUserMedia:tp,shimOnTrack:ip,shimPeerConnection:np,shimRTCDataChannel:ap,shimReceiverGetStats:op,shimRemoveStream:sp,shimSenderGetStats:rp});function pp(tQ){if(typeof tQ=="object"&&tQ.RTCPeerConnection){if("getLocalStreams"in tQ.RTCPeerConnection.prototype||(tQ.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in tQ.RTCPeerConnection.prototype)){const eQ=tQ.RTCPeerConnection.prototype.addTrack;tQ.RTCPeerConnection.prototype.addStream=function(AQ){var iQ;this._localStreams||(this._localStreams=[]),Dn(iQ=this._localStreams).call(iQ,AQ)||this._localStreams.push(AQ),AQ.getAudioTracks().forEach(oQ=>eQ.call(this,oQ,AQ)),AQ.getVideoTracks().forEach(oQ=>eQ.call(this,oQ,AQ))},tQ.RTCPeerConnection.prototype.addTrack=function(AQ){for(var iQ=arguments.length,oQ=new Array(iQ>1?iQ-1:0),rQ=1;rQ<iQ;rQ++)oQ[rQ-1]=arguments[rQ];return oQ&&oQ.forEach(nQ=>{var sQ;this._localStreams?Dn(sQ=this._localStreams).call(sQ,nQ)||this._localStreams.push(nQ):this._localStreams=[nQ]}),eQ.apply(this,arguments)}}"removeStream"in tQ.RTCPeerConnection.prototype||(tQ.RTCPeerConnection.prototype.removeStream=function(eQ){this._localStreams||(this._localStreams=[]);const AQ=this._localStreams.indexOf(eQ);if(AQ===-1)return;this._localStreams.splice(AQ,1);const iQ=eQ.getTracks();this.getSenders().forEach(oQ=>{Dn(iQ).call(iQ,oQ.track)&&this.removeTrack(oQ)})})}}function _p(tQ){if(typeof tQ=="object"&&tQ.RTCPeerConnection&&("getRemoteStreams"in tQ.RTCPeerConnection.prototype||(tQ.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in tQ.RTCPeerConnection.prototype))){Object.defineProperty(tQ.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(AQ){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=AQ),this.addEventListener("track",this._onaddstreampoly=iQ=>{iQ.streams.forEach(oQ=>{var rQ;if(this._remoteStreams||(this._remoteStreams=[]),Dn(rQ=this._remoteStreams).call(rQ,oQ))return;this._remoteStreams.push(oQ);const nQ=new Event("addstream");nQ.stream=oQ,this.dispatchEvent(nQ)})})}});const eQ=tQ.RTCPeerConnection.prototype.setRemoteDescription;tQ.RTCPeerConnection.prototype.setRemoteDescription=function(){const AQ=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(iQ){iQ.streams.forEach(oQ=>{if(AQ._remoteStreams||(AQ._remoteStreams=[]),AQ._remoteStreams.indexOf(oQ)>=0)return;AQ._remoteStreams.push(oQ);const rQ=new Event("addstream");rQ.stream=oQ,AQ.dispatchEvent(rQ)})}),eQ.apply(AQ,arguments)}}}function Ep(tQ){if(typeof tQ!="object"||!tQ.RTCPeerConnection)return;const eQ=tQ.RTCPeerConnection.prototype,AQ=eQ.createOffer,iQ=eQ.createAnswer,oQ=eQ.setLocalDescription,rQ=eQ.setRemoteDescription,nQ=eQ.addIceCandidate;eQ.createOffer=function(aQ,cQ){const gQ=arguments.length>=2?arguments[2]:arguments[0],IQ=AQ.apply(this,[gQ]);return cQ?(IQ.then(aQ,cQ),Gh.resolve()):IQ},eQ.createAnswer=function(aQ,cQ){const gQ=arguments.length>=2?arguments[2]:arguments[0],IQ=iQ.apply(this,[gQ]);return cQ?(IQ.then(aQ,cQ),Gh.resolve()):IQ};let sQ=function(aQ,cQ,gQ){const IQ=oQ.apply(this,[aQ]);return gQ?(IQ.then(cQ,gQ),Gh.resolve()):IQ};eQ.setLocalDescription=sQ,sQ=function(aQ,cQ,gQ){const IQ=rQ.apply(this,[aQ]);return gQ?(IQ.then(cQ,gQ),Gh.resolve()):IQ},eQ.setRemoteDescription=sQ,sQ=function(aQ,cQ,gQ){const IQ=nQ.apply(this,[aQ]);return gQ?(IQ.then(cQ,gQ),Gh.resolve()):IQ},eQ.addIceCandidate=sQ}function mp(tQ){const eQ=tQ&&tQ.navigator;if(eQ.mediaDevices&&eQ.mediaDevices.getUserMedia){const AQ=eQ.mediaDevices,iQ=AQ.getUserMedia.bind(AQ);eQ.mediaDevices.getUserMedia=oQ=>iQ(fp(oQ))}!eQ.getUserMedia&&eQ.mediaDevices&&eQ.mediaDevices.getUserMedia&&(eQ.getUserMedia=function(AQ,iQ,oQ){eQ.mediaDevices.getUserMedia(AQ).then(iQ,oQ)}.bind(eQ))}function fp(tQ){return tQ&&tQ.video!==void 0?Object.assign({},tQ,{video:or(tQ.video)}):tQ}function Tp(tQ){if(!tQ.RTCPeerConnection)return;const eQ=tQ.RTCPeerConnection;tQ.RTCPeerConnection=function(AQ,iQ){if(AQ&&AQ.iceServers){const oQ=[];for(let rQ=0;rQ<AQ.iceServers.length;rQ++){let nQ=AQ.iceServers[rQ];!nQ.hasOwnProperty("urls")&&nQ.hasOwnProperty("url")?(nr("RTCIceServer.url","RTCIceServer.urls"),nQ=JSON.parse(JSON.stringify(nQ)),nQ.urls=nQ.url,delete nQ.url,oQ.push(nQ)):oQ.push(AQ.iceServers[rQ])}AQ.iceServers=oQ}return new eQ(AQ,iQ)},tQ.RTCPeerConnection.prototype=eQ.prototype,"generateCertificate"in eQ&&Object.defineProperty(tQ.RTCPeerConnection,"generateCertificate",{get:()=>eQ.generateCertificate})}function Sp(tQ){typeof tQ=="object"&&tQ.RTCTrackEvent&&"receiver"in tQ.RTCTrackEvent.prototype&&!("transceiver"in tQ.RTCTrackEvent.prototype)&&Object.defineProperty(tQ.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function gp(tQ){const eQ=tQ.RTCPeerConnection.prototype.createOffer;tQ.RTCPeerConnection.prototype.createOffer=function(AQ){if(AQ){AQ.offerToReceiveAudio!==void 0&&(AQ.offerToReceiveAudio=!!AQ.offerToReceiveAudio);const iQ=this.getTransceivers().find(rQ=>rQ.receiver.track.kind==="audio");AQ.offerToReceiveAudio===!1&&iQ?iQ.direction==="sendrecv"?iQ.setDirection?iQ.setDirection("sendonly"):iQ.direction="sendonly":iQ.direction==="recvonly"&&(iQ.setDirection?iQ.setDirection("inactive"):iQ.direction="inactive"):AQ.offerToReceiveAudio!==!0||iQ||this.addTransceiver("audio",{direction:"recvonly"}),AQ.offerToReceiveVideo!==void 0&&(AQ.offerToReceiveVideo=!!AQ.offerToReceiveVideo);const oQ=this.getTransceivers().find(rQ=>rQ.receiver.track.kind==="video");AQ.offerToReceiveVideo===!1&&oQ?oQ.direction==="sendrecv"?oQ.setDirection?oQ.setDirection("sendonly"):oQ.direction="sendonly":oQ.direction==="recvonly"&&(oQ.setDirection?oQ.setDirection("inactive"):oQ.direction="inactive"):AQ.offerToReceiveVideo!==!0||oQ||this.addTransceiver("video",{direction:"recvonly"})}return eQ.apply(this,arguments)}}function Rp(tQ){typeof tQ!="object"||tQ.AudioContext||(tQ.AudioContext=tQ.webkitAudioContext)}var Cp=Object.freeze({__proto__:null,shimAudioContext:Rp,shimCallbacksAPI:Ep,shimConstraints:fp,shimCreateOfferLegacy:gp,shimGetUserMedia:mp,shimLocalStreamsAPI:pp,shimRTCIceServerUrls:Tp,shimRemoteStreamsAPI:_p,shimTrackEventTransceiver:Sp}),Ip=`	
\v\f\r Â áââââââââââââ¯âã\u2028\u2029\uFEFF`,vp=J,yp=mn,Ap=Ip,bp=d("".replace),wp=RegExp("^["+Ap+"]+"),Op=RegExp("(^|[^"+Ap+"])["+Ap+"]+$"),Np=function(tQ){return function(eQ){var AQ=yp(vp(eQ));return 1&tQ&&(AQ=bp(AQ,wp,"")),2&tQ&&(AQ=bp(AQ,Op,"$1")),AQ}},Dp={start:Np(1),end:Np(2),trim:Np(3)},Pp=la.PROPER,Lp=n,kp=Ip,Mp=Dp.trim;wi({target:"String",proto:!0,forced:function(tQ){return Lp(function(){return!!kp[tQ]()||"âÂá "[tQ]()!=="âÂá "||Pp&&kp[tQ].name!==tQ})}("trim")},{trim:function(){return Mp(this)}});var Up=Xi("String").trim,xp=l,Vp=Up,Fp=String.prototype,Bp=function(tQ){var eQ=tQ.trim;return typeof tQ=="string"||tQ===Fp||xp(Fp,tQ)&&eQ===Fp.trim?Vp:eQ},jp=i(Bp),Gp={exports:{}};(function(tQ){const eQ={generateIdentifier:function(){return Math.random().toString(36).substring(2,12)}};eQ.localCName=eQ.generateIdentifier(),eQ.splitLines=function(AQ){return AQ.trim().split(`
`).map(iQ=>iQ.trim())},eQ.splitSections=function(AQ){return AQ.split(`
m=`).map((iQ,oQ)=>(oQ>0?"m="+iQ:iQ).trim()+`\r
`)},eQ.getDescription=function(AQ){const iQ=eQ.splitSections(AQ);return iQ&&iQ[0]},eQ.getMediaSections=function(AQ){const iQ=eQ.splitSections(AQ);return iQ.shift(),iQ},eQ.matchPrefix=function(AQ,iQ){return eQ.splitLines(AQ).filter(oQ=>oQ.indexOf(iQ)===0)},eQ.parseCandidate=function(AQ){let iQ;iQ=AQ.indexOf("a=candidate:")===0?AQ.substring(12).split(" "):AQ.substring(10).split(" ");const oQ={foundation:iQ[0],component:{1:"rtp",2:"rtcp"}[iQ[1]]||iQ[1],protocol:iQ[2].toLowerCase(),priority:parseInt(iQ[3],10),ip:iQ[4],address:iQ[4],port:parseInt(iQ[5],10),type:iQ[7]};for(let rQ=8;rQ<iQ.length;rQ+=2)switch(iQ[rQ]){case"raddr":oQ.relatedAddress=iQ[rQ+1];break;case"rport":oQ.relatedPort=parseInt(iQ[rQ+1],10);break;case"tcptype":oQ.tcpType=iQ[rQ+1];break;case"ufrag":oQ.ufrag=iQ[rQ+1],oQ.usernameFragment=iQ[rQ+1];break;default:oQ[iQ[rQ]]===void 0&&(oQ[iQ[rQ]]=iQ[rQ+1])}return oQ},eQ.writeCandidate=function(AQ){const iQ=[];iQ.push(AQ.foundation);const oQ=AQ.component;oQ==="rtp"?iQ.push(1):oQ==="rtcp"?iQ.push(2):iQ.push(oQ),iQ.push(AQ.protocol.toUpperCase()),iQ.push(AQ.priority),iQ.push(AQ.address||AQ.ip),iQ.push(AQ.port);const rQ=AQ.type;return iQ.push("typ"),iQ.push(rQ),rQ!=="host"&&AQ.relatedAddress&&AQ.relatedPort&&(iQ.push("raddr"),iQ.push(AQ.relatedAddress),iQ.push("rport"),iQ.push(AQ.relatedPort)),AQ.tcpType&&AQ.protocol.toLowerCase()==="tcp"&&(iQ.push("tcptype"),iQ.push(AQ.tcpType)),(AQ.usernameFragment||AQ.ufrag)&&(iQ.push("ufrag"),iQ.push(AQ.usernameFragment||AQ.ufrag)),"candidate:"+iQ.join(" ")},eQ.parseIceOptions=function(AQ){return AQ.substring(14).split(" ")},eQ.parseRtpMap=function(AQ){let iQ=AQ.substring(9).split(" ");const oQ={payloadType:parseInt(iQ.shift(),10)};return iQ=iQ[0].split("/"),oQ.name=iQ[0],oQ.clockRate=parseInt(iQ[1],10),oQ.channels=iQ.length===3?parseInt(iQ[2],10):1,oQ.numChannels=oQ.channels,oQ},eQ.writeRtpMap=function(AQ){let iQ=AQ.payloadType;AQ.preferredPayloadType!==void 0&&(iQ=AQ.preferredPayloadType);const oQ=AQ.channels||AQ.numChannels||1;return"a=rtpmap:"+iQ+" "+AQ.name+"/"+AQ.clockRate+(oQ!==1?"/"+oQ:"")+`\r
`},eQ.parseExtmap=function(AQ){const iQ=AQ.substring(9).split(" ");return{id:parseInt(iQ[0],10),direction:iQ[0].indexOf("/")>0?iQ[0].split("/")[1]:"sendrecv",uri:iQ[1],attributes:iQ.slice(2).join(" ")}},eQ.writeExtmap=function(AQ){return"a=extmap:"+(AQ.id||AQ.preferredId)+(AQ.direction&&AQ.direction!=="sendrecv"?"/"+AQ.direction:"")+" "+AQ.uri+(AQ.attributes?" "+AQ.attributes:"")+`\r
`},eQ.parseFmtp=function(AQ){const iQ={};let oQ;const rQ=AQ.substring(AQ.indexOf(" ")+1).split(";");for(let nQ=0;nQ<rQ.length;nQ++)oQ=rQ[nQ].trim().split("="),iQ[oQ[0].trim()]=oQ[1];return iQ},eQ.writeFmtp=function(AQ){let iQ="",oQ=AQ.payloadType;if(AQ.preferredPayloadType!==void 0&&(oQ=AQ.preferredPayloadType),AQ.parameters&&Object.keys(AQ.parameters).length){const rQ=[];Object.keys(AQ.parameters).forEach(nQ=>{AQ.parameters[nQ]!==void 0?rQ.push(nQ+"="+AQ.parameters[nQ]):rQ.push(nQ)}),iQ+="a=fmtp:"+oQ+" "+rQ.join(";")+`\r
`}return iQ},eQ.parseRtcpFb=function(AQ){const iQ=AQ.substring(AQ.indexOf(" ")+1).split(" ");return{type:iQ.shift(),parameter:iQ.join(" ")}},eQ.writeRtcpFb=function(AQ){let iQ="",oQ=AQ.payloadType;return AQ.preferredPayloadType!==void 0&&(oQ=AQ.preferredPayloadType),AQ.rtcpFeedback&&AQ.rtcpFeedback.length&&AQ.rtcpFeedback.forEach(rQ=>{iQ+="a=rtcp-fb:"+oQ+" "+rQ.type+(rQ.parameter&&rQ.parameter.length?" "+rQ.parameter:"")+`\r
`}),iQ},eQ.parseSsrcMedia=function(AQ){const iQ=AQ.indexOf(" "),oQ={ssrc:parseInt(AQ.substring(7,iQ),10)},rQ=AQ.indexOf(":",iQ);return rQ>-1?(oQ.attribute=AQ.substring(iQ+1,rQ),oQ.value=AQ.substring(rQ+1)):oQ.attribute=AQ.substring(iQ+1),oQ},eQ.parseSsrcGroup=function(AQ){const iQ=AQ.substring(13).split(" ");return{semantics:iQ.shift(),ssrcs:iQ.map(oQ=>parseInt(oQ,10))}},eQ.getMid=function(AQ){const iQ=eQ.matchPrefix(AQ,"a=mid:")[0];if(iQ)return iQ.substring(6)},eQ.parseFingerprint=function(AQ){const iQ=AQ.substring(14).split(" ");return{algorithm:iQ[0].toLowerCase(),value:iQ[1].toUpperCase()}},eQ.getDtlsParameters=function(AQ,iQ){return{role:"auto",fingerprints:eQ.matchPrefix(AQ+iQ,"a=fingerprint:").map(eQ.parseFingerprint)}},eQ.writeDtlsParameters=function(AQ,iQ){let oQ="a=setup:"+iQ+`\r
`;return AQ.fingerprints.forEach(rQ=>{oQ+="a=fingerprint:"+rQ.algorithm+" "+rQ.value+`\r
`}),oQ},eQ.parseCryptoLine=function(AQ){const iQ=AQ.substring(9).split(" ");return{tag:parseInt(iQ[0],10),cryptoSuite:iQ[1],keyParams:iQ[2],sessionParams:iQ.slice(3)}},eQ.writeCryptoLine=function(AQ){return"a=crypto:"+AQ.tag+" "+AQ.cryptoSuite+" "+(typeof AQ.keyParams=="object"?eQ.writeCryptoKeyParams(AQ.keyParams):AQ.keyParams)+(AQ.sessionParams?" "+AQ.sessionParams.join(" "):"")+`\r
`},eQ.parseCryptoKeyParams=function(AQ){if(AQ.indexOf("inline:")!==0)return null;const iQ=AQ.substring(7).split("|");return{keyMethod:"inline",keySalt:iQ[0],lifeTime:iQ[1],mkiValue:iQ[2]?iQ[2].split(":")[0]:void 0,mkiLength:iQ[2]?iQ[2].split(":")[1]:void 0}},eQ.writeCryptoKeyParams=function(AQ){return AQ.keyMethod+":"+AQ.keySalt+(AQ.lifeTime?"|"+AQ.lifeTime:"")+(AQ.mkiValue&&AQ.mkiLength?"|"+AQ.mkiValue+":"+AQ.mkiLength:"")},eQ.getCryptoParameters=function(AQ,iQ){return eQ.matchPrefix(AQ+iQ,"a=crypto:").map(eQ.parseCryptoLine)},eQ.getIceParameters=function(AQ,iQ){const oQ=eQ.matchPrefix(AQ+iQ,"a=ice-ufrag:")[0],rQ=eQ.matchPrefix(AQ+iQ,"a=ice-pwd:")[0];return oQ&&rQ?{usernameFragment:oQ.substring(12),password:rQ.substring(10)}:null},eQ.writeIceParameters=function(AQ){let iQ="a=ice-ufrag:"+AQ.usernameFragment+`\r
a=ice-pwd:`+AQ.password+`\r
`;return AQ.iceLite&&(iQ+=`a=ice-lite\r
`),iQ},eQ.parseRtpParameters=function(AQ){const iQ={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},oQ=eQ.splitLines(AQ)[0].split(" ");iQ.profile=oQ[2];for(let nQ=3;nQ<oQ.length;nQ++){const sQ=oQ[nQ],aQ=eQ.matchPrefix(AQ,"a=rtpmap:"+sQ+" ")[0];if(aQ){const cQ=eQ.parseRtpMap(aQ),gQ=eQ.matchPrefix(AQ,"a=fmtp:"+sQ+" ");switch(cQ.parameters=gQ.length?eQ.parseFmtp(gQ[0]):{},cQ.rtcpFeedback=eQ.matchPrefix(AQ,"a=rtcp-fb:"+sQ+" ").map(eQ.parseRtcpFb),iQ.codecs.push(cQ),cQ.name.toUpperCase()){case"RED":case"ULPFEC":iQ.fecMechanisms.push(cQ.name.toUpperCase())}}}eQ.matchPrefix(AQ,"a=extmap:").forEach(nQ=>{iQ.headerExtensions.push(eQ.parseExtmap(nQ))});const rQ=eQ.matchPrefix(AQ,"a=rtcp-fb:* ").map(eQ.parseRtcpFb);return iQ.codecs.forEach(nQ=>{rQ.forEach(sQ=>{nQ.rtcpFeedback.find(aQ=>aQ.type===sQ.type&&aQ.parameter===sQ.parameter)||nQ.rtcpFeedback.push(sQ)})}),iQ},eQ.writeRtpDescription=function(AQ,iQ){let oQ="";oQ+="m="+AQ+" ",oQ+=iQ.codecs.length>0?"9":"0",oQ+=" "+(iQ.profile||"UDP/TLS/RTP/SAVPF")+" ",oQ+=iQ.codecs.map(nQ=>nQ.preferredPayloadType!==void 0?nQ.preferredPayloadType:nQ.payloadType).join(" ")+`\r
`,oQ+=`c=IN IP4 0.0.0.0\r
`,oQ+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,iQ.codecs.forEach(nQ=>{oQ+=eQ.writeRtpMap(nQ),oQ+=eQ.writeFmtp(nQ),oQ+=eQ.writeRtcpFb(nQ)});let rQ=0;return iQ.codecs.forEach(nQ=>{nQ.maxptime>rQ&&(rQ=nQ.maxptime)}),rQ>0&&(oQ+="a=maxptime:"+rQ+`\r
`),iQ.headerExtensions&&iQ.headerExtensions.forEach(nQ=>{oQ+=eQ.writeExtmap(nQ)}),oQ},eQ.parseRtpEncodingParameters=function(AQ){const iQ=[],oQ=eQ.parseRtpParameters(AQ),rQ=oQ.fecMechanisms.indexOf("RED")!==-1,nQ=oQ.fecMechanisms.indexOf("ULPFEC")!==-1,sQ=eQ.matchPrefix(AQ,"a=ssrc:").map(EQ=>eQ.parseSsrcMedia(EQ)).filter(EQ=>EQ.attribute==="cname"),aQ=sQ.length>0&&sQ[0].ssrc;let cQ;const gQ=eQ.matchPrefix(AQ,"a=ssrc-group:FID").map(EQ=>EQ.substring(17).split(" ").map(CQ=>parseInt(CQ,10)));gQ.length>0&&gQ[0].length>1&&gQ[0][0]===aQ&&(cQ=gQ[0][1]),oQ.codecs.forEach(EQ=>{if(EQ.name.toUpperCase()==="RTX"&&EQ.parameters.apt){let CQ={ssrc:aQ,codecPayloadType:parseInt(EQ.parameters.apt,10)};aQ&&cQ&&(CQ.rtx={ssrc:cQ}),iQ.push(CQ),rQ&&(CQ=JSON.parse(JSON.stringify(CQ)),CQ.fec={ssrc:aQ,mechanism:nQ?"red+ulpfec":"red"},iQ.push(CQ))}}),iQ.length===0&&aQ&&iQ.push({ssrc:aQ});let IQ=eQ.matchPrefix(AQ,"b=");return IQ.length&&(IQ=IQ[0].indexOf("b=TIAS:")===0?parseInt(IQ[0].substring(7),10):IQ[0].indexOf("b=AS:")===0?1e3*parseInt(IQ[0].substring(5),10)*.95-16e3:void 0,iQ.forEach(EQ=>{EQ.maxBitrate=IQ})),iQ},eQ.parseRtcpParameters=function(AQ){const iQ={},oQ=eQ.matchPrefix(AQ,"a=ssrc:").map(sQ=>eQ.parseSsrcMedia(sQ)).filter(sQ=>sQ.attribute==="cname")[0];oQ&&(iQ.cname=oQ.value,iQ.ssrc=oQ.ssrc);const rQ=eQ.matchPrefix(AQ,"a=rtcp-rsize");iQ.reducedSize=rQ.length>0,iQ.compound=rQ.length===0;const nQ=eQ.matchPrefix(AQ,"a=rtcp-mux");return iQ.mux=nQ.length>0,iQ},eQ.writeRtcpParameters=function(AQ){let iQ="";return AQ.reducedSize&&(iQ+=`a=rtcp-rsize\r
`),AQ.mux&&(iQ+=`a=rtcp-mux\r
`),AQ.ssrc!==void 0&&AQ.cname&&(iQ+="a=ssrc:"+AQ.ssrc+" cname:"+AQ.cname+`\r
`),iQ},eQ.parseMsid=function(AQ){let iQ;const oQ=eQ.matchPrefix(AQ,"a=msid:");if(oQ.length===1)return iQ=oQ[0].substring(7).split(" "),{stream:iQ[0],track:iQ[1]};const rQ=eQ.matchPrefix(AQ,"a=ssrc:").map(nQ=>eQ.parseSsrcMedia(nQ)).filter(nQ=>nQ.attribute==="msid");return rQ.length>0?(iQ=rQ[0].value.split(" "),{stream:iQ[0],track:iQ[1]}):void 0},eQ.parseSctpDescription=function(AQ){const iQ=eQ.parseMLine(AQ),oQ=eQ.matchPrefix(AQ,"a=max-message-size:");let rQ;oQ.length>0&&(rQ=parseInt(oQ[0].substring(19),10)),isNaN(rQ)&&(rQ=65536);const nQ=eQ.matchPrefix(AQ,"a=sctp-port:");if(nQ.length>0)return{port:parseInt(nQ[0].substring(12),10),protocol:iQ.fmt,maxMessageSize:rQ};const sQ=eQ.matchPrefix(AQ,"a=sctpmap:");if(sQ.length>0){const aQ=sQ[0].substring(10).split(" ");return{port:parseInt(aQ[0],10),protocol:aQ[1],maxMessageSize:rQ}}},eQ.writeSctpDescription=function(AQ,iQ){let oQ=[];return oQ=AQ.protocol!=="DTLS/SCTP"?["m="+AQ.kind+" 9 "+AQ.protocol+" "+iQ.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+iQ.port+`\r
`]:["m="+AQ.kind+" 9 "+AQ.protocol+" "+iQ.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+iQ.port+" "+iQ.protocol+` 65535\r
`],iQ.maxMessageSize!==void 0&&oQ.push("a=max-message-size:"+iQ.maxMessageSize+`\r
`),oQ.join("")},eQ.generateSessionId=function(){return Math.random().toString().substr(2,22)},eQ.writeSessionBoilerplate=function(AQ,iQ,oQ){let rQ;const nQ=iQ!==void 0?iQ:2;return rQ=AQ||eQ.generateSessionId(),`v=0\r
o=`+(oQ||"thisisadapterortc")+" "+rQ+" "+nQ+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},eQ.getDirection=function(AQ,iQ){const oQ=eQ.splitLines(AQ);for(let rQ=0;rQ<oQ.length;rQ++)switch(oQ[rQ]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return oQ[rQ].substring(2)}return iQ?eQ.getDirection(iQ):"sendrecv"},eQ.getKind=function(AQ){return eQ.splitLines(AQ)[0].split(" ")[0].substring(2)},eQ.isRejected=function(AQ){return AQ.split(" ",2)[1]==="0"},eQ.parseMLine=function(AQ){const iQ=eQ.splitLines(AQ)[0].substring(2).split(" ");return{kind:iQ[0],port:parseInt(iQ[1],10),protocol:iQ[2],fmt:iQ.slice(3).join(" ")}},eQ.parseOLine=function(AQ){const iQ=eQ.matchPrefix(AQ,"o=")[0].substring(2).split(" ");return{username:iQ[0],sessionId:iQ[1],sessionVersion:parseInt(iQ[2],10),netType:iQ[3],addressType:iQ[4],address:iQ[5]}},eQ.isValidSDP=function(AQ){if(typeof AQ!="string"||AQ.length===0)return!1;const iQ=eQ.splitLines(AQ);for(let oQ=0;oQ<iQ.length;oQ++)if(iQ[oQ].length<2||iQ[oQ].charAt(1)!=="=")return!1;return!0},tQ.exports=eQ})(Gp);var Wp=Gp.exports,Hp=i(Wp),Kp=e({__proto__:null,default:Hp},[Wp]);function Yp(tQ){if(!tQ.RTCIceCandidate||tQ.RTCIceCandidate&&"foundation"in tQ.RTCIceCandidate.prototype)return;const eQ=tQ.RTCIceCandidate;tQ.RTCIceCandidate=function(AQ){if(typeof AQ=="object"&&AQ.candidate&&AQ.candidate.indexOf("a=")===0&&((AQ=JSON.parse(JSON.stringify(AQ))).candidate=AQ.candidate.substr(2)),AQ.candidate&&AQ.candidate.length){const iQ=new eQ(AQ),oQ=Hp.parseCandidate(AQ.candidate),rQ=Object.assign(iQ,oQ);return rQ.toJSON=function(){return{candidate:rQ.candidate,sdpMid:rQ.sdpMid,sdpMLineIndex:rQ.sdpMLineIndex,usernameFragment:rQ.usernameFragment}},rQ}return new eQ(AQ)},tQ.RTCIceCandidate.prototype=eQ.prototype,$n(tQ,"icecandidate",AQ=>(AQ.candidate&&Object.defineProperty(AQ,"candidate",{value:new tQ.RTCIceCandidate(AQ.candidate),writable:"false"}),AQ))}function qp(tQ){!tQ.RTCIceCandidate||tQ.RTCIceCandidate&&"relayProtocol"in tQ.RTCIceCandidate.prototype||$n(tQ,"icecandidate",eQ=>{if(eQ.candidate){const AQ=Hp.parseCandidate(eQ.candidate.candidate);AQ.type==="relay"&&(eQ.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[AQ.priority>>24])}return eQ})}function zp(tQ,eQ){if(!tQ.RTCPeerConnection)return;"sctp"in tQ.RTCPeerConnection.prototype||Object.defineProperty(tQ.RTCPeerConnection.prototype,"sctp",{get(){return this._sctp===void 0?null:this._sctp}});const AQ=function(sQ){if(!sQ||!sQ.sdp)return!1;const aQ=Hp.splitSections(sQ.sdp);return aQ.shift(),aQ.some(cQ=>{const gQ=Hp.parseMLine(cQ);return gQ&&gQ.kind==="application"&&gQ.protocol.indexOf("SCTP")!==-1})},iQ=function(sQ){const aQ=sQ.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(aQ===null||aQ.length<2)return-1;const cQ=parseInt(aQ[1],10);return cQ!=cQ?-1:cQ},oQ=function(sQ){let aQ=65536;return eQ.browser==="firefox"&&(aQ=eQ.version<57?sQ===-1?16384:2147483637:eQ.version<60?eQ.version===57?65535:65536:2147483637),aQ},rQ=function(sQ,aQ){let cQ=65536;eQ.browser==="firefox"&&eQ.version===57&&(cQ=65535);const gQ=Hp.matchPrefix(sQ.sdp,"a=max-message-size:");return gQ.length>0?cQ=parseInt(gQ[0].substr(19),10):eQ.browser==="firefox"&&aQ!==-1&&(cQ=2147483637),cQ},nQ=tQ.RTCPeerConnection.prototype.setRemoteDescription;tQ.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,eQ.browser==="chrome"&&eQ.version>=76){const{sdpSemantics:sQ}=this.getConfiguration();sQ==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return this._sctp===void 0?null:this._sctp},enumerable:!0,configurable:!0})}if(AQ(arguments[0])){const sQ=iQ(arguments[0]),aQ=oQ(sQ),cQ=rQ(arguments[0],sQ);let gQ;gQ=aQ===0&&cQ===0?Number.POSITIVE_INFINITY:aQ===0||cQ===0?Math.max(aQ,cQ):Math.min(aQ,cQ);const IQ={};Object.defineProperty(IQ,"maxMessageSize",{get:()=>gQ}),this._sctp=IQ}return nQ.apply(this,arguments)}}function Jp(tQ){if(!tQ.RTCPeerConnection||!("createDataChannel"in tQ.RTCPeerConnection.prototype))return;function eQ(iQ,oQ){const rQ=iQ.send;iQ.send=function(){const nQ=arguments[0],sQ=nQ.length||nQ.size||nQ.byteLength;if(iQ.readyState==="open"&&oQ.sctp&&sQ>oQ.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+oQ.sctp.maxMessageSize+" bytes)");return rQ.apply(iQ,arguments)}}const AQ=tQ.RTCPeerConnection.prototype.createDataChannel;tQ.RTCPeerConnection.prototype.createDataChannel=function(){const iQ=AQ.apply(this,arguments);return eQ(iQ,this),iQ},$n(tQ,"datachannel",iQ=>(eQ(iQ.channel,iQ.target),iQ))}function Xp(tQ){if(!tQ.RTCPeerConnection||"connectionState"in tQ.RTCPeerConnection.prototype)return;const eQ=tQ.RTCPeerConnection.prototype;Object.defineProperty(eQ,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(eQ,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(AQ){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),AQ&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=AQ)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(AQ=>{const iQ=eQ[AQ];eQ[AQ]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=oQ=>{const rQ=oQ.target;if(rQ._lastConnectionState!==rQ.connectionState){rQ._lastConnectionState=rQ.connectionState;const nQ=new Event("connectionstatechange",oQ);rQ.dispatchEvent(nQ)}return oQ},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),iQ.apply(this,arguments)}})}function Qp(tQ,eQ){if(!tQ.RTCPeerConnection||eQ.browser==="chrome"&&eQ.version>=71||eQ.browser==="safari"&&eQ.version>=605)return;const AQ=tQ.RTCPeerConnection.prototype.setRemoteDescription;tQ.RTCPeerConnection.prototype.setRemoteDescription=function(iQ){if(iQ&&iQ.sdp&&iQ.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const oQ=iQ.sdp.split(`
`).filter(rQ=>jp(rQ).call(rQ)!=="a=extmap-allow-mixed").join(`
`);tQ.RTCSessionDescription&&iQ instanceof tQ.RTCSessionDescription?arguments[0]=new tQ.RTCSessionDescription({type:iQ.type,sdp:oQ}):iQ.sdp=oQ}return AQ.apply(this,arguments)}}function Zp(tQ,eQ){if(!tQ.RTCPeerConnection||!tQ.RTCPeerConnection.prototype)return;const AQ=tQ.RTCPeerConnection.prototype.addIceCandidate;AQ&&AQ.length!==0&&(tQ.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(eQ.browser==="chrome"&&eQ.version<78||eQ.browser==="firefox"&&eQ.version<68||eQ.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Gh.resolve():AQ.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Gh.resolve())})}function $p(tQ,eQ){if(!tQ.RTCPeerConnection||!tQ.RTCPeerConnection.prototype)return;const AQ=tQ.RTCPeerConnection.prototype.setLocalDescription;AQ&&AQ.length!==0&&(tQ.RTCPeerConnection.prototype.setLocalDescription=function(){let iQ=arguments[0]||{};if(typeof iQ!="object"||iQ.type&&iQ.sdp)return AQ.apply(this,arguments);if(iQ={type:iQ.type,sdp:iQ.sdp},!iQ.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":iQ.type="offer";break;default:iQ.type="answer"}return iQ.sdp||iQ.type!=="offer"&&iQ.type!=="answer"?AQ.apply(this,[iQ]):(iQ.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(oQ=>AQ.apply(this,[oQ]))})}var e_=Object.freeze({__proto__:null,removeExtmapAllowMixed:Qp,shimAddIceCandidateNullOrEmpty:Zp,shimConnectionState:Xp,shimMaxMessageSize:zp,shimParameterlessSetLocalDescription:$p,shimRTCIceCandidate:Yp,shimRTCIceCandidateRelayProtocol:qp,shimSendThrowTypeError:Jp});(function(){let{window:tQ}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},eQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0};const AQ=ir,iQ=function(rQ){const nQ={browser:null,version:null};if(rQ===void 0||!rQ.navigator)return nQ.browser="Not a browser.",nQ;const{navigator:sQ}=rQ;if(sQ.mozGetUserMedia)nQ.browser="firefox",nQ.version=Zn(sQ.userAgent,/Firefox\/(\d+)\./,1);else if(sQ.webkitGetUserMedia||rQ.isSecureContext===!1&&rQ.webkitRTCPeerConnection)nQ.browser="chrome",nQ.version=Zn(sQ.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!rQ.RTCPeerConnection||!sQ.userAgent.match(/AppleWebKit\/(\d+)\./))return nQ.browser="Not a supported browser.",nQ;nQ.browser="safari",nQ.version=Zn(sQ.userAgent,/AppleWebKit\/(\d+)\./,1),nQ.supportsUnifiedPlan=rQ.RTCRtpTransceiver&&"currentDirection"in rQ.RTCRtpTransceiver.prototype}return nQ}(tQ),oQ={browserDetails:iQ,commonShim:e_,extractVersion:Zn,disableLog:er,disableWarnings:tr,sdp:Kp};switch(iQ.browser){case"chrome":if(!ep||!Zh||!eQ.shimChrome)return AQ("Chrome shim is not included in this adapter release."),oQ;if(iQ.version===null)return AQ("Chrome shim can not determine version, not shimming."),oQ;AQ("adapter.js shimming chrome."),oQ.browserShim=ep,Zp(tQ,iQ),$p(tQ),Hh(tQ,iQ),Kh(tQ),Zh(tQ,iQ),Yh(tQ),Qh(tQ,iQ),qh(tQ),zh(tQ),Jh(tQ),$h(tQ,iQ),Yp(tQ),qp(tQ),Xp(tQ),zp(tQ,iQ),Jp(tQ),Qp(tQ,iQ);break;case"firefox":if(!hp||!np||!eQ.shimFirefox)return AQ("Firefox shim is not included in this adapter release."),oQ;AQ("adapter.js shimming firefox."),oQ.browserShim=hp,Zp(tQ,iQ),$p(tQ),tp(tQ,iQ),np(tQ,iQ),ip(tQ),sp(tQ),rp(tQ),op(tQ),ap(tQ),cp(tQ),dp(tQ),lp(tQ),up(tQ),Yp(tQ),Xp(tQ),zp(tQ,iQ),Jp(tQ);break;case"safari":if(!Cp||!eQ.shimSafari)return AQ("Safari shim is not included in this adapter release."),oQ;AQ("adapter.js shimming safari."),oQ.browserShim=Cp,Zp(tQ,iQ),$p(tQ),Tp(tQ),gp(tQ),Ep(tQ),pp(tQ),_p(tQ),Sp(tQ),mp(tQ),Rp(tQ),Yp(tQ),qp(tQ),zp(tQ,iQ),Jp(tQ),Qp(tQ,iQ);break;default:AQ("Unsupported browser!")}})({window:typeof window>"u"?void 0:window});var t_=Xi("Array").keys,i_=pn,n_=Ze,r_=l,o_=t_,s_=Array.prototype,a_={DOMTokenList:!0,NodeList:!0},c_=function(tQ){var eQ=tQ.keys;return tQ===s_||r_(s_,tQ)&&eQ===s_.keys||n_(a_,i_(tQ))?o_:eQ},d_=i(c_),l_=be,u_=TypeError,h_=Ct,p_=Qt,__=B,E_=function(tQ,eQ,AQ){var iQ=h_(eQ);iQ in tQ?p_.f(tQ,iQ,__(0,AQ)):tQ[iQ]=AQ},m_=xi,f_=Gi,T_=E_,S_=Array,g_=Math.max,R_=function(tQ,eQ,AQ){for(var iQ=f_(tQ),oQ=m_(eQ,iQ),rQ=m_(AQ===void 0?iQ:AQ,iQ),nQ=S_(g_(rQ-oQ,0)),sQ=0;oQ<rQ;oQ++,sQ++)T_(nQ,sQ,tQ[oQ]);return nQ.length=sQ,nQ},C_=R_,I_=Math.floor,v_=function(tQ,eQ){var AQ=tQ.length,iQ=I_(AQ/2);return AQ<8?y_(tQ,eQ):A_(tQ,v_(C_(tQ,0,iQ),eQ),v_(C_(tQ,iQ),eQ),eQ)},y_=function(tQ,eQ){for(var AQ,iQ,oQ=tQ.length,rQ=1;rQ<oQ;){for(iQ=rQ,AQ=tQ[rQ];iQ&&eQ(tQ[iQ-1],AQ)>0;)tQ[iQ]=tQ[--iQ];iQ!==rQ++&&(tQ[iQ]=AQ)}return tQ},A_=function(tQ,eQ,AQ,iQ){for(var oQ=eQ.length,rQ=AQ.length,nQ=0,sQ=0;nQ<oQ||sQ<rQ;)tQ[nQ+sQ]=nQ<oQ&&sQ<rQ?iQ(eQ[nQ],AQ[sQ])<=0?eQ[nQ++]:AQ[sQ++]:nQ<oQ?eQ[nQ++]:AQ[sQ++];return tQ},b_=v_,w_=ce.match(/firefox\/(\d+)/i),O_=!!w_&&+w_[1],N_=/MSIE|Trident/.test(ce),D_=ce.match(/AppleWebKit\/(\d+)\./),P_=!!D_&&+D_[1],L_=wi,k_=d,M_=De,U_=Je,x_=Gi,V_=function(tQ,eQ){if(!delete tQ[eQ])throw u_("Cannot delete property "+l_(eQ)+" of "+l_(tQ))},F_=mn,B_=n,j_=b_,G_=Bn,W_=O_,H_=N_,K_=Ee,Y_=P_,q_=[],z_=k_(q_.sort),J_=k_(q_.push),X_=B_(function(){q_.sort(void 0)}),Q_=B_(function(){q_.sort(null)}),Z_=G_("sort"),$_=!B_(function(){if(K_)return K_<70;if(!(W_&&W_>3)){if(H_)return!0;if(Y_)return Y_<603;var tQ,eQ,AQ,iQ,oQ="";for(tQ=65;tQ<76;tQ++){switch(eQ=String.fromCharCode(tQ),tQ){case 66:case 69:case 70:case 72:AQ=3;break;case 68:case 71:AQ=4;break;default:AQ=2}for(iQ=0;iQ<47;iQ++)q_.push({k:eQ+iQ,v:AQ})}for(q_.sort(function(rQ,nQ){return nQ.v-rQ.v}),iQ=0;iQ<q_.length;iQ++)eQ=q_[iQ].k.charAt(0),oQ.charAt(oQ.length-1)!==eQ&&(oQ+=eQ);return oQ!=="DGBEFHACIJK"}});L_({target:"Array",proto:!0,forced:X_||!Q_||!Z_||!$_},{sort:function(tQ){tQ!==void 0&&M_(tQ);var eQ=U_(this);if($_)return tQ===void 0?z_(eQ):z_(eQ,tQ);var AQ,iQ,oQ=[],rQ=x_(eQ);for(iQ=0;iQ<rQ;iQ++)iQ in eQ&&J_(oQ,eQ[iQ]);for(j_(oQ,function(nQ){return function(sQ,aQ){return aQ===void 0?-1:sQ===void 0?1:nQ!==void 0?+nQ(sQ,aQ)||0:F_(sQ)>F_(aQ)?1:-1}}(tQ)),AQ=x_(oQ),iQ=0;iQ<AQ;)eQ[iQ]=oQ[iQ++];for(;iQ<rQ;)V_(eQ,iQ++);return eQ}});var eE,tE,iE=Xi("Array").sort,nE=l,rE=iE,oE=Array.prototype,sE=function(tQ){var eQ=tQ.sort;return tQ===oE||nE(oE,tQ)&&eQ===oE.sort?rE:eQ},aE=i(sE),cE={exports:{}};eE=cE,tE=cE.exports,function(tQ,eQ){var AQ="function",iQ="undefined",oQ="object",rQ="string",nQ="major",sQ="model",aQ="name",cQ="type",gQ="vendor",IQ="version",EQ="architecture",CQ="console",dQ="mobile",lQ="tablet",uQ="smarttv",hQ="wearable",BQ="embedded",QQ="Amazon",fQ="Apple",_Q="ASUS",RQ="BlackBerry",wQ="Browser",bQ="Chrome",NQ="Firefox",UQ="Google",PQ="Huawei",OQ="LG",YQ="Microsoft",SQ="Motorola",xQ="Opera",VQ="Samsung",TQ="Sharp",kQ="Sony",GQ="Xiaomi",vQ="Zebra",pQ="Facebook",yQ="Chromium OS",mQ="Mac OS",LQ=function(r0){for(var o0={},i0=0;i0<r0.length;i0++)o0[r0[i0].toUpperCase()]=r0[i0];return o0},HQ=function(r0,o0){return typeof r0===rQ&&$Q(o0).indexOf($Q(r0))!==-1},$Q=function(r0){return r0.toLowerCase()},A0=function(r0,o0){if(typeof r0===rQ)return r0=r0.replace(/^\s\s*/,""),typeof o0===iQ?r0:r0.substring(0,350)},n0=function(r0,o0){for(var i0,E0,h0,s0,FQ,C0,DQ=0;DQ<o0.length&&!FQ;){var MQ=o0[DQ],KQ=o0[DQ+1];for(i0=E0=0;i0<MQ.length&&!FQ&&MQ[i0];)if(FQ=MQ[i0++].exec(r0))for(h0=0;h0<KQ.length;h0++)C0=FQ[++E0],typeof(s0=KQ[h0])===oQ&&s0.length>0?s0.length===2?typeof s0[1]==AQ?this[s0[0]]=s0[1].call(this,C0):this[s0[0]]=s0[1]:s0.length===3?typeof s0[1]!==AQ||s0[1].exec&&s0[1].test?this[s0[0]]=C0?C0.replace(s0[1],s0[2]):eQ:this[s0[0]]=C0?s0[1].call(this,C0,s0[2]):eQ:s0.length===4&&(this[s0[0]]=C0?s0[3].call(this,C0.replace(s0[1],s0[2])):eQ):this[s0]=C0||eQ;DQ+=2}},qQ=function(r0,o0){for(var i0 in o0)if(typeof o0[i0]===oQ&&o0[i0].length>0){for(var E0=0;E0<o0[i0].length;E0++)if(HQ(o0[i0][E0],r0))return i0==="?"?eQ:i0}else if(HQ(o0[i0],r0))return i0==="?"?eQ:i0;return r0},I0={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},c0={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[IQ,[aQ,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[IQ,[aQ,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[aQ,IQ],[/opios[\/ ]+([\w\.]+)/i],[IQ,[aQ,xQ+" Mini"]],[/\bopr\/([\w\.]+)/i],[IQ,[aQ,xQ]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[aQ,IQ],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[IQ,[aQ,"UC"+wQ]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[IQ,[aQ,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[IQ,[aQ,"WeChat"]],[/konqueror\/([\w\.]+)/i],[IQ,[aQ,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[IQ,[aQ,"IE"]],[/yabrowser\/([\w\.]+)/i],[IQ,[aQ,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[aQ,/(.+)/,"$1 Secure "+wQ],IQ],[/\bfocus\/([\w\.]+)/i],[IQ,[aQ,NQ+" Focus"]],[/\bopt\/([\w\.]+)/i],[IQ,[aQ,xQ+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[IQ,[aQ,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[IQ,[aQ,"Dolphin"]],[/coast\/([\w\.]+)/i],[IQ,[aQ,xQ+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[IQ,[aQ,"MIUI "+wQ]],[/fxios\/([-\w\.]+)/i],[IQ,[aQ,NQ]],[/\bqihu|(qi?ho?o?|360)browser/i],[[aQ,"360 "+wQ]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[aQ,/(.+)/,"$1 "+wQ],IQ],[/(comodo_dragon)\/([\w\.]+)/i],[[aQ,/_/g," "],IQ],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[aQ,IQ],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[aQ],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[aQ,pQ],IQ],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[aQ,IQ],[/\bgsa\/([\w\.]+) .*safari\//i],[IQ,[aQ,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[IQ,[aQ,bQ+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[aQ,bQ+" WebView"],IQ],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[IQ,[aQ,"Android "+wQ]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[aQ,IQ],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[IQ,[aQ,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[IQ,aQ],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[aQ,[IQ,qQ,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[aQ,IQ],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[aQ,"Netscape"],IQ],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[IQ,[aQ,NQ+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[aQ,IQ],[/(cobalt)\/([\w\.]+)/i],[aQ,[IQ,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[EQ,"amd64"]],[/(ia32(?=;))/i],[[EQ,$Q]],[/((?:i[346]|x)86)[;\)]/i],[[EQ,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[EQ,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[EQ,"armhf"]],[/windows (ce|mobile); ppc;/i],[[EQ,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[EQ,/ower/,"",$Q]],[/(sun4\w)[;\)]/i],[[EQ,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[EQ,$Q]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[sQ,[gQ,VQ],[cQ,lQ]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[sQ,[gQ,VQ],[cQ,dQ]],[/\((ip(?:hone|od)[\w ]*);/i],[sQ,[gQ,fQ],[cQ,dQ]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[sQ,[gQ,fQ],[cQ,lQ]],[/(macintosh);/i],[sQ,[gQ,fQ]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[sQ,[gQ,TQ],[cQ,dQ]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[sQ,[gQ,PQ],[cQ,lQ]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[sQ,[gQ,PQ],[cQ,dQ]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[sQ,/_/g," "],[gQ,GQ],[cQ,dQ]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[sQ,/_/g," "],[gQ,GQ],[cQ,lQ]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[sQ,[gQ,"OPPO"],[cQ,dQ]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[sQ,[gQ,"Vivo"],[cQ,dQ]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[sQ,[gQ,"Realme"],[cQ,dQ]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[sQ,[gQ,SQ],[cQ,dQ]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[sQ,[gQ,SQ],[cQ,lQ]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[sQ,[gQ,OQ],[cQ,lQ]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[sQ,[gQ,OQ],[cQ,dQ]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[sQ,[gQ,"Lenovo"],[cQ,lQ]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[sQ,/_/g," "],[gQ,"Nokia"],[cQ,dQ]],[/(pixel c)\b/i],[sQ,[gQ,UQ],[cQ,lQ]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[sQ,[gQ,UQ],[cQ,dQ]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[sQ,[gQ,kQ],[cQ,dQ]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[sQ,"Xperia Tablet"],[gQ,kQ],[cQ,lQ]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[sQ,[gQ,"OnePlus"],[cQ,dQ]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[sQ,[gQ,QQ],[cQ,lQ]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[sQ,/(.+)/g,"Fire Phone $1"],[gQ,QQ],[cQ,dQ]],[/(playbook);[-\w\),; ]+(rim)/i],[sQ,gQ,[cQ,lQ]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[sQ,[gQ,RQ],[cQ,dQ]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[sQ,[gQ,_Q],[cQ,lQ]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[sQ,[gQ,_Q],[cQ,dQ]],[/(nexus 9)/i],[sQ,[gQ,"HTC"],[cQ,lQ]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[gQ,[sQ,/_/g," "],[cQ,dQ]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[sQ,[gQ,"Acer"],[cQ,lQ]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[sQ,[gQ,"Meizu"],[cQ,dQ]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[gQ,sQ,[cQ,dQ]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[gQ,sQ,[cQ,lQ]],[/(surface duo)/i],[sQ,[gQ,YQ],[cQ,lQ]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[sQ,[gQ,"Fairphone"],[cQ,dQ]],[/(u304aa)/i],[sQ,[gQ,"AT&T"],[cQ,dQ]],[/\bsie-(\w*)/i],[sQ,[gQ,"Siemens"],[cQ,dQ]],[/\b(rct\w+) b/i],[sQ,[gQ,"RCA"],[cQ,lQ]],[/\b(venue[\d ]{2,7}) b/i],[sQ,[gQ,"Dell"],[cQ,lQ]],[/\b(q(?:mv|ta)\w+) b/i],[sQ,[gQ,"Verizon"],[cQ,lQ]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[sQ,[gQ,"Barnes & Noble"],[cQ,lQ]],[/\b(tm\d{3}\w+) b/i],[sQ,[gQ,"NuVision"],[cQ,lQ]],[/\b(k88) b/i],[sQ,[gQ,"ZTE"],[cQ,lQ]],[/\b(nx\d{3}j) b/i],[sQ,[gQ,"ZTE"],[cQ,dQ]],[/\b(gen\d{3}) b.+49h/i],[sQ,[gQ,"Swiss"],[cQ,dQ]],[/\b(zur\d{3}) b/i],[sQ,[gQ,"Swiss"],[cQ,lQ]],[/\b((zeki)?tb.*\b) b/i],[sQ,[gQ,"Zeki"],[cQ,lQ]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[gQ,"Dragon Touch"],sQ,[cQ,lQ]],[/\b(ns-?\w{0,9}) b/i],[sQ,[gQ,"Insignia"],[cQ,lQ]],[/\b((nxa|next)-?\w{0,9}) b/i],[sQ,[gQ,"NextBook"],[cQ,lQ]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[gQ,"Voice"],sQ,[cQ,dQ]],[/\b(lvtel\-)?(v1[12]) b/i],[[gQ,"LvTel"],sQ,[cQ,dQ]],[/\b(ph-1) /i],[sQ,[gQ,"Essential"],[cQ,dQ]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[sQ,[gQ,"Envizen"],[cQ,lQ]],[/\b(trio[-\w\. ]+) b/i],[sQ,[gQ,"MachSpeed"],[cQ,lQ]],[/\btu_(1491) b/i],[sQ,[gQ,"Rotor"],[cQ,lQ]],[/(shield[\w ]+) b/i],[sQ,[gQ,"Nvidia"],[cQ,lQ]],[/(sprint) (\w+)/i],[gQ,sQ,[cQ,dQ]],[/(kin\.[onetw]{3})/i],[[sQ,/\./g," "],[gQ,YQ],[cQ,dQ]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[sQ,[gQ,vQ],[cQ,lQ]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[sQ,[gQ,vQ],[cQ,dQ]],[/smart-tv.+(samsung)/i],[gQ,[cQ,uQ]],[/hbbtv.+maple;(\d+)/i],[[sQ,/^/,"SmartTV"],[gQ,VQ],[cQ,uQ]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[gQ,OQ],[cQ,uQ]],[/(apple) ?tv/i],[gQ,[sQ,fQ+" TV"],[cQ,uQ]],[/crkey/i],[[sQ,bQ+"cast"],[gQ,UQ],[cQ,uQ]],[/droid.+aft(\w)( bui|\))/i],[sQ,[gQ,QQ],[cQ,uQ]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[sQ,[gQ,TQ],[cQ,uQ]],[/(bravia[\w ]+)( bui|\))/i],[sQ,[gQ,kQ],[cQ,uQ]],[/(mitv-\w{5}) bui/i],[sQ,[gQ,GQ],[cQ,uQ]],[/Hbbtv.*(technisat) (.*);/i],[gQ,sQ,[cQ,uQ]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[gQ,A0],[sQ,A0],[cQ,uQ]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[cQ,uQ]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[gQ,sQ,[cQ,CQ]],[/droid.+; (shield) bui/i],[sQ,[gQ,"Nvidia"],[cQ,CQ]],[/(playstation [345portablevi]+)/i],[sQ,[gQ,kQ],[cQ,CQ]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[sQ,[gQ,YQ],[cQ,CQ]],[/((pebble))app/i],[gQ,sQ,[cQ,hQ]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[sQ,[gQ,fQ],[cQ,hQ]],[/droid.+; (glass) \d/i],[sQ,[gQ,UQ],[cQ,hQ]],[/droid.+; (wt63?0{2,3})\)/i],[sQ,[gQ,vQ],[cQ,hQ]],[/(quest( 2| pro)?)/i],[sQ,[gQ,pQ],[cQ,hQ]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[gQ,[cQ,BQ]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[sQ,[cQ,dQ]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[sQ,[cQ,lQ]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[cQ,lQ]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[cQ,dQ]],[/(android[-\w\. ]{0,9});.+buil/i],[sQ,[gQ,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[IQ,[aQ,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[IQ,[aQ,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[aQ,IQ],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[IQ,aQ]],os:[[/microsoft (windows) (vista|xp)/i],[aQ,IQ],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[aQ,[IQ,qQ,I0]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[aQ,"Windows"],[IQ,qQ,I0]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[IQ,/_/g,"."],[aQ,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[aQ,mQ],[IQ,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[IQ,aQ],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[aQ,IQ],[/\(bb(10);/i],[IQ,[aQ,RQ]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[IQ,[aQ,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[IQ,[aQ,NQ+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[IQ,[aQ,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[IQ,[aQ,"watchOS"]],[/crkey\/([\d\.]+)/i],[IQ,[aQ,bQ+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[aQ,yQ],IQ],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[aQ,IQ],[/(sunos) ?([\w\.\d]*)/i],[[aQ,"Solaris"],IQ],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[aQ,IQ]]},g0=function(r0,o0){if(typeof r0===oQ&&(o0=r0,r0=eQ),!(this instanceof g0))return new g0(r0,o0).getResult();var i0=typeof tQ!==iQ&&tQ.navigator?tQ.navigator:eQ,E0=r0||(i0&&i0.userAgent?i0.userAgent:""),h0=i0&&i0.userAgentData?i0.userAgentData:eQ,s0=o0?function(FQ,C0){var DQ={};for(var MQ in FQ)C0[MQ]&&C0[MQ].length%2==0?DQ[MQ]=C0[MQ].concat(FQ[MQ]):DQ[MQ]=FQ[MQ];return DQ}(c0,o0):c0;return this.getBrowser=function(){var FQ={};return FQ[aQ]=eQ,FQ[IQ]=eQ,n0.call(FQ,E0,s0.browser),FQ[nQ]=function(C0){return typeof C0===rQ?C0.replace(/[^\d\.]/g,"").split(".")[0]:eQ}(FQ[IQ]),i0&&i0.brave&&typeof i0.brave.isBrave==AQ&&(FQ[aQ]="Brave"),FQ},this.getCPU=function(){var FQ={};return FQ[EQ]=eQ,n0.call(FQ,E0,s0.cpu),FQ},this.getDevice=function(){var FQ={};return FQ[gQ]=eQ,FQ[sQ]=eQ,FQ[cQ]=eQ,n0.call(FQ,E0,s0.device),!FQ[cQ]&&h0&&h0.mobile&&(FQ[cQ]=dQ),FQ[sQ]=="Macintosh"&&i0&&typeof i0.standalone!==iQ&&i0.maxTouchPoints&&i0.maxTouchPoints>2&&(FQ[sQ]="iPad",FQ[cQ]=lQ),FQ},this.getEngine=function(){var FQ={};return FQ[aQ]=eQ,FQ[IQ]=eQ,n0.call(FQ,E0,s0.engine),FQ},this.getOS=function(){var FQ={};return FQ[aQ]=eQ,FQ[IQ]=eQ,n0.call(FQ,E0,s0.os),!FQ[aQ]&&h0&&h0.platform!="Unknown"&&(FQ[aQ]=h0.platform.replace(/chrome os/i,yQ).replace(/macos/i,mQ)),FQ},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return E0},this.setUA=function(FQ){return E0=typeof FQ===rQ&&FQ.length>350?A0(FQ,350):FQ,this},this.setUA(E0),this};g0.VERSION="0.7.34",g0.BROWSER=LQ([aQ,IQ,nQ]),g0.CPU=LQ([EQ]),g0.DEVICE=LQ([sQ,gQ,cQ,CQ,dQ,uQ,lQ,hQ,BQ]),g0.ENGINE=g0.OS=LQ([aQ,IQ]),eE.exports&&(tE=eE.exports=g0),tE.UAParser=g0;var a0=typeof tQ!==iQ&&(tQ.jQuery||tQ.Zepto);if(a0&&!a0.ua){var f0=new g0;a0.ua=f0.getResult(),a0.ua.get=function(){return f0.getUA()},a0.ua.set=function(r0){f0.setUA(r0);var o0=f0.getResult();for(var i0 in o0)a0.ua[i0]=o0[i0]}}}(typeof window=="object"?window:t);var dE=i(cE.exports),lE=pn,uE=Ze,hE=Y,pE=xo,_E=ht("iterator"),EE=Object,mE=function(tQ){if(hE(tQ))return!1;var eQ=EE(tQ);return eQ[_E]!==void 0||"@@iterator"in eQ||uE(pE,lE(eQ))},fE=i(mE),TE=h;wi({global:!0,forced:TE.globalThis!==TE},{globalThis:TE});var SE=i(h);function gE(tQ,eQ){return function(){return tQ.apply(eQ,arguments)}}const{toString:RE}=Object.prototype,{getPrototypeOf:CE}=Object,IE=(vE=Object.create(null),tQ=>{const eQ=RE.call(tQ);return vE[eQ]||(vE[eQ]=eQ.slice(8,-1).toLowerCase())});var vE;const yE=tQ=>(tQ=tQ.toLowerCase(),eQ=>IE(eQ)===tQ),AE=tQ=>eQ=>typeof eQ===tQ,{isArray:bE}=Array,wE=AE("undefined"),OE=yE("ArrayBuffer"),NE=AE("string"),DE=AE("function"),PE=AE("number"),LE=tQ=>tQ!==null&&typeof tQ=="object",kE=tQ=>{if(IE(tQ)!=="object")return!1;const eQ=CE(tQ);return!(eQ!==null&&eQ!==Object.prototype&&Object.getPrototypeOf(eQ)!==null||Symbol.toStringTag in tQ||fE(tQ))},ME=yE("Date"),UE=yE("File"),xE=yE("Blob"),VE=yE("FileList"),FE=yE("URLSearchParams");function BE(tQ,eQ){let AQ,iQ,{allOwnKeys:oQ=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(tQ!=null)if(typeof tQ!="object"&&(tQ=[tQ]),bE(tQ))for(AQ=0,iQ=tQ.length;AQ<iQ;AQ++)eQ.call(null,tQ[AQ],AQ,tQ);else{const rQ=oQ?Object.getOwnPropertyNames(tQ):Object.keys(tQ),nQ=rQ.length;let sQ;for(AQ=0;AQ<nQ;AQ++)sQ=rQ[AQ],eQ.call(null,tQ[sQ],sQ,tQ)}}function jE(tQ,eQ){eQ=eQ.toLowerCase();const AQ=Object.keys(tQ);let iQ,oQ=AQ.length;for(;oQ-- >0;)if(iQ=AQ[oQ],eQ===iQ.toLowerCase())return iQ;return null}const GE=SE!==void 0?SE:typeof self<"u"?self:typeof window<"u"?window:global,WE=tQ=>!wE(tQ)&&tQ!==GE,HE=(KE=typeof Uint8Array<"u"&&CE(Uint8Array),tQ=>KE&&tQ instanceof KE);var KE;const YE=yE("HTMLFormElement"),qE=(tQ=>{let{hasOwnProperty:eQ}=tQ;return(AQ,iQ)=>eQ.call(AQ,iQ)})(Object.prototype),zE=yE("RegExp"),JE=(tQ,eQ)=>{const AQ=Object.getOwnPropertyDescriptors(tQ),iQ={};BE(AQ,(oQ,rQ)=>{let nQ;(nQ=eQ(oQ,rQ,tQ))!==!1&&(iQ[rQ]=nQ||oQ)}),Object.defineProperties(tQ,iQ)},XE="abcdefghijklmnopqrstuvwxyz",QE="0123456789",ZE={DIGIT:QE,ALPHA:XE,ALPHA_DIGIT:XE+XE.toUpperCase()+QE},$E=yE("AsyncFunction");var em={isArray:bE,isArrayBuffer:OE,isBuffer:function(tQ){return tQ!==null&&!wE(tQ)&&tQ.constructor!==null&&!wE(tQ.constructor)&&DE(tQ.constructor.isBuffer)&&tQ.constructor.isBuffer(tQ)},isFormData:tQ=>{let eQ;return tQ&&(typeof FormData=="function"&&tQ instanceof FormData||DE(tQ.append)&&((eQ=IE(tQ))==="formdata"||eQ==="object"&&DE(tQ.toString)&&tQ.toString()==="[object FormData]"))},isArrayBufferView:function(tQ){let eQ;return eQ=typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(tQ):tQ&&tQ.buffer&&OE(tQ.buffer),eQ},isString:NE,isNumber:PE,isBoolean:tQ=>tQ===!0||tQ===!1,isObject:LE,isPlainObject:kE,isUndefined:wE,isDate:ME,isFile:UE,isBlob:xE,isRegExp:zE,isFunction:DE,isStream:tQ=>LE(tQ)&&DE(tQ.pipe),isURLSearchParams:FE,isTypedArray:HE,isFileList:VE,forEach:BE,merge:function tQ(){const{caseless:eQ}=WE(this)&&this||{},AQ={},iQ=(oQ,rQ)=>{const nQ=eQ&&jE(AQ,rQ)||rQ;kE(AQ[nQ])&&kE(oQ)?AQ[nQ]=tQ(AQ[nQ],oQ):kE(oQ)?AQ[nQ]=tQ({},oQ):bE(oQ)?AQ[nQ]=oQ.slice():AQ[nQ]=oQ};for(let oQ=0,rQ=arguments.length;oQ<rQ;oQ++)arguments[oQ]&&BE(arguments[oQ],iQ);return AQ},extend:function(tQ,eQ,AQ){let{allOwnKeys:iQ}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return BE(eQ,(oQ,rQ)=>{AQ&&DE(oQ)?tQ[rQ]=gE(oQ,AQ):tQ[rQ]=oQ},{allOwnKeys:iQ}),tQ},trim:tQ=>jp(tQ)?jp(tQ).call(tQ):tQ.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:tQ=>(tQ.charCodeAt(0)===65279&&(tQ=tQ.slice(1)),tQ),inherits:(tQ,eQ,AQ,iQ)=>{tQ.prototype=Object.create(eQ.prototype,iQ),tQ.prototype.constructor=tQ,Object.defineProperty(tQ,"super",{value:eQ.prototype}),AQ&&Object.assign(tQ.prototype,AQ)},toFlatObject:(tQ,eQ,AQ,iQ)=>{let oQ,rQ,nQ;const sQ={};if(eQ=eQ||{},tQ==null)return eQ;do{for(oQ=Object.getOwnPropertyNames(tQ),rQ=oQ.length;rQ-- >0;)nQ=oQ[rQ],iQ&&!iQ(nQ,tQ,eQ)||sQ[nQ]||(eQ[nQ]=tQ[nQ],sQ[nQ]=!0);tQ=AQ!==!1&&CE(tQ)}while(tQ&&(!AQ||AQ(tQ,eQ))&&tQ!==Object.prototype);return eQ},kindOf:IE,kindOfTest:yE,endsWith:(tQ,eQ,AQ)=>{tQ=String(tQ),(AQ===void 0||AQ>tQ.length)&&(AQ=tQ.length),AQ-=eQ.length;const iQ=tQ.indexOf(eQ,AQ);return iQ!==-1&&iQ===AQ},toArray:tQ=>{if(!tQ)return null;if(bE(tQ))return tQ;let eQ=tQ.length;if(!PE(eQ))return null;const AQ=new Array(eQ);for(;eQ-- >0;)AQ[eQ]=tQ[eQ];return AQ},forEachEntry:(tQ,eQ)=>{const AQ=(tQ&&tQ[Symbol.iterator]).call(tQ);let iQ;for(;(iQ=AQ.next())&&!iQ.done;){const oQ=iQ.value;eQ.call(tQ,oQ[0],oQ[1])}},matchAll:(tQ,eQ)=>{let AQ;const iQ=[];for(;(AQ=tQ.exec(eQ))!==null;)iQ.push(AQ);return iQ},isHTMLForm:YE,hasOwnProperty:qE,hasOwnProp:qE,reduceDescriptors:JE,freezeMethods:tQ=>{JE(tQ,(eQ,AQ)=>{if(DE(tQ)&&["arguments","caller","callee"].indexOf(AQ)!==-1)return!1;const iQ=tQ[AQ];DE(iQ)&&(eQ.enumerable=!1,"writable"in eQ?eQ.writable=!1:eQ.set||(eQ.set=()=>{throw Error("Can not rewrite read-only method '"+AQ+"'")}))})},toObjectSet:(tQ,eQ)=>{const AQ={},iQ=oQ=>{oQ.forEach(rQ=>{AQ[rQ]=!0})};return bE(tQ)?iQ(tQ):iQ(String(tQ).split(eQ)),AQ},toCamelCase:tQ=>tQ.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(eQ,AQ,iQ){return AQ.toUpperCase()+iQ}),noop:()=>{},toFiniteNumber:(tQ,eQ)=>(tQ=+tQ,Number.isFinite(tQ)?tQ:eQ),findKey:jE,global:GE,isContextDefined:WE,ALPHABET:ZE,generateString:function(){let tQ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16,eQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ZE.ALPHA_DIGIT,AQ="";const{length:iQ}=eQ;for(;tQ--;)AQ+=eQ[Math.random()*iQ|0];return AQ},isSpecCompliantForm:function(tQ){return!!(tQ&&DE(tQ.append)&&tQ[Symbol.toStringTag]==="FormData"&&tQ[Symbol.iterator])},toJSONObject:tQ=>{const eQ=new Array(10),AQ=(iQ,oQ)=>{if(LE(iQ)){if(eQ.indexOf(iQ)>=0)return;if(!("toJSON"in iQ)){eQ[oQ]=iQ;const rQ=bE(iQ)?[]:{};return BE(iQ,(nQ,sQ)=>{const aQ=AQ(nQ,oQ+1);!wE(aQ)&&(rQ[sQ]=aQ)}),eQ[oQ]=void 0,rQ}}return iQ};return AQ(tQ,0)},isAsyncFn:$E,isThenable:tQ=>tQ&&(LE(tQ)||DE(tQ))&&DE(tQ.then)&&DE(tQ.catch)};function tm(tQ,eQ,AQ,iQ,oQ){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=tQ,this.name="AxiosError",eQ&&(this.code=eQ),AQ&&(this.config=AQ),iQ&&(this.request=iQ),oQ&&(this.response=oQ)}em.inherits(tm,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:em.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const im=tm.prototype,nm={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(tQ=>{nm[tQ]={value:tQ}}),Object.defineProperties(tm,nm),Object.defineProperty(im,"isAxiosError",{value:!0}),tm.from=(tQ,eQ,AQ,iQ,oQ,rQ)=>{const nQ=Object.create(im);return em.toFlatObject(tQ,nQ,function(sQ){return sQ!==Error.prototype},sQ=>sQ!=="isAxiosError"),tm.call(nQ,tQ.message,eQ,AQ,iQ,oQ),nQ.cause=tQ,nQ.name=tQ.name,rQ&&Object.assign(nQ,rQ),nQ};function rm(tQ){return em.isPlainObject(tQ)||em.isArray(tQ)}function om(tQ){return em.endsWith(tQ,"[]")?tQ.slice(0,-2):tQ}function sm(tQ,eQ,AQ){return tQ?tQ.concat(eQ).map(function(iQ,oQ){return iQ=om(iQ),!AQ&&oQ?"["+iQ+"]":iQ}).join(AQ?".":""):eQ}const am=em.toFlatObject(em,{},null,function(tQ){return/^is[A-Z]/.test(tQ)});function cm(tQ,eQ,AQ){if(!em.isObject(tQ))throw new TypeError("target must be an object");eQ=eQ||new FormData;const iQ=(AQ=em.toFlatObject(AQ,{metaTokens:!0,dots:!1,indexes:!1},!1,function(EQ,CQ){return!em.isUndefined(CQ[EQ])})).metaTokens,oQ=AQ.visitor||cQ,rQ=AQ.dots,nQ=AQ.indexes,sQ=(AQ.Blob||typeof Blob<"u"&&Blob)&&em.isSpecCompliantForm(eQ);if(!em.isFunction(oQ))throw new TypeError("visitor must be a function");function aQ(EQ){if(EQ===null)return"";if(em.isDate(EQ))return EQ.toISOString();if(!sQ&&em.isBlob(EQ))throw new tm("Blob is not supported. Use a Buffer instead.");return em.isArrayBuffer(EQ)||em.isTypedArray(EQ)?sQ&&typeof Blob=="function"?new Blob([EQ]):Buffer.from(EQ):EQ}function cQ(EQ,CQ,dQ){let lQ=EQ;if(EQ&&!dQ&&typeof EQ=="object"){if(em.endsWith(CQ,"{}"))CQ=iQ?CQ:CQ.slice(0,-2),EQ=JSON.stringify(EQ);else if(em.isArray(EQ)&&function(uQ){return em.isArray(uQ)&&!uQ.some(rm)}(EQ)||(em.isFileList(EQ)||em.endsWith(CQ,"[]"))&&(lQ=em.toArray(EQ)))return CQ=om(CQ),lQ.forEach(function(uQ,hQ){!em.isUndefined(uQ)&&uQ!==null&&eQ.append(nQ===!0?sm([CQ],hQ,rQ):nQ===null?CQ:CQ+"[]",aQ(uQ))}),!1}return!!rm(EQ)||(eQ.append(sm(dQ,CQ,rQ),aQ(EQ)),!1)}const gQ=[],IQ=Object.assign(am,{defaultVisitor:cQ,convertValue:aQ,isVisitable:rm});if(!em.isObject(tQ))throw new TypeError("data must be an object");return function EQ(CQ,dQ){if(!em.isUndefined(CQ)){if(gQ.indexOf(CQ)!==-1)throw Error("Circular reference detected in "+dQ.join("."));gQ.push(CQ),em.forEach(CQ,function(lQ,uQ){(!(em.isUndefined(lQ)||lQ===null)&&oQ.call(eQ,lQ,em.isString(uQ)?jp(uQ).call(uQ):uQ,dQ,IQ))===!0&&EQ(lQ,dQ?dQ.concat(uQ):[uQ])}),gQ.pop()}}(tQ),eQ}function dm(tQ){const eQ={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(tQ).replace(/[!'()~]|%20|%00/g,function(AQ){return eQ[AQ]})}function lm(tQ,eQ){this._pairs=[],tQ&&cm(tQ,this,eQ)}const um=lm.prototype;function hm(tQ){return encodeURIComponent(tQ).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function pm(tQ,eQ,AQ){if(!eQ)return tQ;const iQ=AQ&&AQ.encode||hm,oQ=AQ&&AQ.serialize;let rQ;if(rQ=oQ?oQ(eQ,AQ):em.isURLSearchParams(eQ)?eQ.toString():new lm(eQ,AQ).toString(iQ),rQ){const nQ=tQ.indexOf("#");nQ!==-1&&(tQ=tQ.slice(0,nQ)),tQ+=(tQ.indexOf("?")===-1?"?":"&")+rQ}return tQ}um.append=function(tQ,eQ){this._pairs.push([tQ,eQ])},um.toString=function(tQ){const eQ=tQ?function(AQ){return tQ.call(this,AQ,dm)}:dm;return this._pairs.map(function(AQ){return eQ(AQ[0])+"="+eQ(AQ[1])},"").join("&")};var _m=class{constructor(){this.handlers=[]}use(tQ,eQ,AQ){return this.handlers.push({fulfilled:tQ,rejected:eQ,synchronous:!!AQ&&AQ.synchronous,runWhen:AQ?AQ.runWhen:null}),this.handlers.length-1}eject(tQ){this.handlers[tQ]&&(this.handlers[tQ]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(tQ){em.forEach(this.handlers,function(eQ){eQ!==null&&tQ(eQ)})}},Em={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},mm={exports:{}},fm=wi,Tm=N,Sm=Qt.f;fm({target:"Object",stat:!0,forced:Object.defineProperty!==Sm,sham:!Tm},{defineProperty:Sm});var gm=ie.Object,Rm=mm.exports=function(tQ,eQ,AQ){return gm.defineProperty(tQ,eQ,AQ)};gm.defineProperty.sham&&(Rm.sham=!0);var Cm=i(mm.exports),Im=R,vm=Array.isArray||function(tQ){return Im(tQ)=="Array"},ym=TypeError,Am=vm,bm=jc,wm=te,Om=ht("species"),Nm=Array,Dm=function(tQ){var eQ;return Am(tQ)&&(eQ=tQ.constructor,(bm(eQ)&&(eQ===Nm||Am(eQ.prototype))||wm(eQ)&&(eQ=eQ[Om])===null)&&(eQ=void 0)),eQ===void 0?Nm:eQ},Pm=function(tQ,eQ){return new(Dm(tQ))(eQ===0?0:eQ)},Lm=n,km=Ee,Mm=ht("species"),Um=function(tQ){return km>=51||!Lm(function(){var eQ=[];return(eQ.constructor={})[Mm]=function(){return{foo:1}},eQ[tQ](Boolean).foo!==1})},xm=wi,Vm=n,Fm=vm,Bm=te,jm=Je,Gm=Gi,Wm=function(tQ){if(tQ>9007199254740991)throw ym("Maximum allowed index exceeded");return tQ},Hm=E_,Km=Pm,Ym=Um,qm=Ee,zm=ht("isConcatSpreadable"),Jm=qm>=51||!Vm(function(){var tQ=[];return tQ[zm]=!1,tQ.concat()[0]!==tQ}),Xm=function(tQ){if(!Bm(tQ))return!1;var eQ=tQ[zm];return eQ!==void 0?!!eQ:Fm(tQ)};xm({target:"Array",proto:!0,arity:1,forced:!Jm||!Ym("concat")},{concat:function(tQ){var eQ,AQ,iQ,oQ,rQ,nQ=jm(this),sQ=Km(nQ,0),aQ=0;for(eQ=-1,iQ=arguments.length;eQ<iQ;eQ++)if(Xm(rQ=eQ===-1?nQ:arguments[eQ]))for(oQ=Gm(rQ),Wm(aQ+oQ),AQ=0;AQ<oQ;AQ++,aQ++)AQ in rQ&&Hm(sQ,aQ,rQ[AQ]);else Wm(aQ+1),Hm(sQ,aQ++,rQ);return sQ.length=aQ,sQ}});var Qm={},Zm=R,$m=Z,ef=Or.f,tf=R_,nf=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Qm.f=function(tQ){return nf&&Zm(tQ)=="Window"?function(eQ){try{return ef(eQ)}catch{return tf(nf)}}(tQ):ef($m(tQ))};var rf={},of=ht;rf.f=of;var sf=ie,af=Ze,cf=rf,df=Qt.f,lf=function(tQ){var eQ=sf.Symbol||(sf.Symbol={});af(eQ,tQ)||df(eQ,tQ,{value:cf.f(tQ)})},uf=L,hf=ae,pf=ht,_f=ha,Ef=function(){var tQ=hf("Symbol"),eQ=tQ&&tQ.prototype,AQ=eQ&&eQ.valueOf,iQ=pf("toPrimitive");eQ&&!eQ[iQ]&&_f(eQ,iQ,function(oQ){return uf(AQ,this)},{arity:1})},mf=Xt,ff=K,Tf=Je,Sf=Gi,gf=Pm,Rf=d([].push),Cf=function(tQ){var eQ=tQ==1,AQ=tQ==2,iQ=tQ==3,oQ=tQ==4,rQ=tQ==6,nQ=tQ==7,sQ=tQ==5||rQ;return function(aQ,cQ,gQ,IQ){for(var EQ,CQ,dQ=Tf(aQ),lQ=ff(dQ),uQ=mf(cQ,gQ),hQ=Sf(lQ),BQ=0,QQ=IQ||gf,fQ=eQ?QQ(aQ,hQ):AQ||nQ?QQ(aQ,0):void 0;hQ>BQ;BQ++)if((sQ||BQ in lQ)&&(CQ=uQ(EQ=lQ[BQ],BQ,dQ),tQ))if(eQ)fQ[BQ]=CQ;else if(CQ)switch(tQ){case 3:return!0;case 5:return EQ;case 6:return BQ;case 2:Rf(fQ,EQ)}else switch(tQ){case 4:return!1;case 7:Rf(fQ,EQ)}return rQ?-1:iQ||oQ?oQ:fQ}},If={forEach:Cf(0),map:Cf(1),filter:Cf(2),some:Cf(3),every:Cf(4),find:Cf(5),findIndex:Cf(6),filterReject:Cf(7)},vf=wi,yf=h,Af=L,bf=d,wf=N,Of=Se,Nf=n,Df=Ze,Pf=l,Lf=ii,kf=Z,Mf=Ct,Uf=mn,xf=B,Vf=Io,Ff=eo,Bf=Or,jf=Qm,Gf=Br,Wf=O,Hf=Qt,Kf=Qr,Yf=k,qf=ha,zf=hc,Jf=Ye,Xf=Nr,Qf=nt,Zf=ht,$f=rf,eT=lf,tT=Ef,iT=Da,nT=ra,rT=If.forEach,oT=lr("hidden"),sT="Symbol",aT="prototype",cT=nT.set,dT=nT.getterFor(sT),lT=Object[aT],uT=yf.Symbol,hT=uT&&uT[aT],pT=yf.TypeError,_T=yf.QObject,ET=Wf.f,mT=Hf.f,fT=jf.f,TT=Yf.f,ST=bf([].push),gT=Jf("symbols"),RT=Jf("op-symbols"),CT=Jf("wks"),IT=!_T||!_T[aT]||!_T[aT].findChild,vT=wf&&Nf(function(){return Vf(mT({},"a",{get:function(){return mT(this,"a",{value:7}).a}})).a!=7})?function(tQ,eQ,AQ){var iQ=ET(lT,eQ);iQ&&delete lT[eQ],mT(tQ,eQ,AQ),iQ&&tQ!==lT&&mT(lT,eQ,iQ)}:mT,yT=function(tQ,eQ){var AQ=gT[tQ]=Vf(hT);return cT(AQ,{type:sT,tag:tQ,description:eQ}),wf||(AQ.description=eQ),AQ},AT=function(tQ,eQ,AQ){tQ===lT&&AT(RT,eQ,AQ),Lf(tQ);var iQ=Mf(eQ);return Lf(AQ),Df(gT,iQ)?(AQ.enumerable?(Df(tQ,oT)&&tQ[oT][iQ]&&(tQ[oT][iQ]=!1),AQ=Vf(AQ,{enumerable:xf(0,!1)})):(Df(tQ,oT)||mT(tQ,oT,xf(1,{})),tQ[oT][iQ]=!0),vT(tQ,iQ,AQ)):mT(tQ,iQ,AQ)},bT=function(tQ,eQ){Lf(tQ);var AQ=kf(eQ),iQ=Ff(AQ).concat(DT(AQ));return rT(iQ,function(oQ){wf&&!Af(wT,AQ,oQ)||AT(tQ,oQ,AQ[oQ])}),tQ},wT=function(tQ){var eQ=Mf(tQ),AQ=Af(TT,this,eQ);return!(this===lT&&Df(gT,eQ)&&!Df(RT,eQ))&&(!(AQ||!Df(this,eQ)||!Df(gT,eQ)||Df(this,oT)&&this[oT][eQ])||AQ)},OT=function(tQ,eQ){var AQ=kf(tQ),iQ=Mf(eQ);if(AQ!==lT||!Df(gT,iQ)||Df(RT,iQ)){var oQ=ET(AQ,iQ);return!oQ||!Df(gT,iQ)||Df(AQ,oT)&&AQ[oT][iQ]||(oQ.enumerable=!0),oQ}},NT=function(tQ){var eQ=fT(kf(tQ)),AQ=[];return rT(eQ,function(iQ){Df(gT,iQ)||Df(Xf,iQ)||ST(AQ,iQ)}),AQ},DT=function(tQ){var eQ=tQ===lT,AQ=fT(eQ?RT:kf(tQ)),iQ=[];return rT(AQ,function(oQ){!Df(gT,oQ)||eQ&&!Df(lT,oQ)||ST(iQ,gT[oQ])}),iQ};Of||(qf(hT=(uT=function(){if(Pf(hT,this))throw pT("Symbol is not a constructor");var tQ=arguments.length&&arguments[0]!==void 0?Uf(arguments[0]):void 0,eQ=Qf(tQ),AQ=function(iQ){this===lT&&Af(AQ,RT,iQ),Df(this,oT)&&Df(this[oT],eQ)&&(this[oT][eQ]=!1),vT(this,eQ,xf(1,iQ))};return wf&&IT&&vT(lT,eQ,{configurable:!0,set:AQ}),yT(eQ,tQ)})[aT],"toString",function(){return dT(this).tag}),qf(uT,"withoutSetter",function(tQ){return yT(Qf(tQ),tQ)}),Yf.f=wT,Hf.f=AT,Kf.f=bT,Wf.f=OT,Bf.f=jf.f=NT,Gf.f=DT,$f.f=function(tQ){return yT(Zf(tQ),tQ)},wf&&zf(hT,"description",{configurable:!0,get:function(){return dT(this).description}})),vf({global:!0,constructor:!0,wrap:!0,forced:!Of,sham:!Of},{Symbol:uT}),rT(Ff(CT),function(tQ){eT(tQ)}),vf({target:sT,stat:!0,forced:!Of},{useSetter:function(){IT=!0},useSimple:function(){IT=!1}}),vf({target:"Object",stat:!0,forced:!Of,sham:!wf},{create:function(tQ,eQ){return eQ===void 0?Vf(tQ):bT(Vf(tQ),eQ)},defineProperty:AT,defineProperties:bT,getOwnPropertyDescriptor:OT}),vf({target:"Object",stat:!0,forced:!Of},{getOwnPropertyNames:NT}),tT(),iT(uT,sT),Xf[oT]=!0;var PT=Se&&!!Symbol.for&&!!Symbol.keyFor,LT=wi,kT=ae,MT=Ze,UT=mn,xT=Ye,VT=PT,FT=xT("string-to-symbol-registry"),BT=xT("symbol-to-string-registry");LT({target:"Symbol",stat:!0,forced:!VT},{for:function(tQ){var eQ=UT(tQ);if(MT(FT,eQ))return FT[eQ];var AQ=kT("Symbol")(eQ);return FT[eQ]=AQ,BT[AQ]=eQ,AQ}});var jT=wi,GT=Ze,WT=ye,HT=be,KT=PT,YT=Ye("symbol-to-string-registry");jT({target:"Symbol",stat:!0,forced:!KT},{keyFor:function(tQ){if(!WT(tQ))throw TypeError(HT(tQ)+" is not a symbol");if(GT(YT,tQ))return YT[tQ]}});var qT=vm,zT=w,JT=R,XT=mn,QT=d([].push),ZT=wi,$T=ae,eS=f,tS=L,iS=d,nS=n,rS=w,oS=ye,sS=Xc,aS=function(tQ){if(zT(tQ))return tQ;if(qT(tQ)){for(var eQ=tQ.length,AQ=[],iQ=0;iQ<eQ;iQ++){var oQ=tQ[iQ];typeof oQ=="string"?QT(AQ,oQ):typeof oQ!="number"&&JT(oQ)!="Number"&&JT(oQ)!="String"||QT(AQ,XT(oQ))}var rQ=AQ.length,nQ=!0;return function(sQ,aQ){if(nQ)return nQ=!1,aQ;if(qT(this))return aQ;for(var cQ=0;cQ<rQ;cQ++)if(AQ[cQ]===sQ)return aQ}}},cS=Se,dS=String,lS=$T("JSON","stringify"),uS=iS(/./.exec),hS=iS("".charAt),pS=iS("".charCodeAt),_S=iS("".replace),ES=iS(1 .toString),mS=/[\uD800-\uDFFF]/g,fS=/^[\uD800-\uDBFF]$/,TS=/^[\uDC00-\uDFFF]$/,SS=!cS||nS(function(){var tQ=$T("Symbol")();return lS([tQ])!="[null]"||lS({a:tQ})!="{}"||lS(Object(tQ))!="{}"}),gS=nS(function(){return lS("\uDF06\uD834")!=='"\\udf06\\ud834"'||lS("\uDEAD")!=='"\\udead"'}),RS=function(tQ,eQ){var AQ=sS(arguments),iQ=aS(eQ);if(rS(iQ)||tQ!==void 0&&!oS(tQ))return AQ[1]=function(oQ,rQ){if(rS(iQ)&&(rQ=tS(iQ,this,dS(oQ),rQ)),!oS(rQ))return rQ},eS(lS,null,AQ)},CS=function(tQ,eQ,AQ){var iQ=hS(AQ,eQ-1),oQ=hS(AQ,eQ+1);return uS(fS,tQ)&&!uS(TS,oQ)||uS(TS,tQ)&&!uS(fS,iQ)?"\\u"+ES(pS(tQ,0),16):tQ};lS&&ZT({target:"JSON",stat:!0,arity:3,forced:SS||gS},{stringify:function(tQ,eQ,AQ){var iQ=sS(arguments),oQ=eS(SS?RS:lS,null,iQ);return gS&&typeof oQ=="string"?_S(oQ,mS,CS):oQ}});var IS=Br,vS=Je;wi({target:"Object",stat:!0,forced:!Se||n(function(){IS.f(1)})},{getOwnPropertySymbols:function(tQ){var eQ=IS.f;return eQ?eQ(vS(tQ)):[]}}),lf("asyncIterator"),lf("hasInstance"),lf("isConcatSpreadable"),lf("iterator"),lf("match"),lf("matchAll"),lf("replace"),lf("search"),lf("species"),lf("split");var yS=Ef;lf("toPrimitive"),yS();var AS=ae,bS=Da;lf("toStringTag"),bS(AS("Symbol"),"Symbol"),lf("unscopables"),Da(h.JSON,"JSON",!0);var wS=ie.Symbol,OS=ht,NS=Qt.f,DS=OS("metadata"),PS=Function.prototype;PS[DS]===void 0&&NS(PS,DS,{value:null}),lf("dispose"),lf("metadata");var LS=wS;lf("asyncDispose");var kS=d,MS=ae("Symbol"),US=MS.keyFor,xS=kS(MS.prototype.valueOf),VS=MS.isRegisteredSymbol||function(tQ){try{return US(xS(tQ))!==void 0}catch{return!1}};wi({target:"Symbol",stat:!0},{isRegisteredSymbol:VS});for(var FS=Ye,BS=ae,jS=d,GS=ye,WS=ht,HS=BS("Symbol"),KS=HS.isWellKnownSymbol,YS=BS("Object","getOwnPropertyNames"),qS=jS(HS.prototype.valueOf),zS=FS("wks"),JS=0,XS=YS(HS),QS=XS.length;JS<QS;JS++)try{var ZS=XS[JS];GS(HS[ZS])&&WS(ZS)}catch{}var $S=function(tQ){if(KS&&KS(tQ))return!0;try{for(var eQ=qS(tQ),AQ=0,iQ=YS(zS),oQ=iQ.length;AQ<oQ;AQ++)if(zS[iQ[AQ]]==eQ)return!0}catch{}return!1};wi({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:$S}),lf("matcher"),lf("observable"),wi({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:VS}),wi({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:$S}),lf("metadataKey"),lf("patternMatch"),lf("replaceAll");var eg=i(LS),tg=i(rf.f("iterator"));function ig(tQ){return ig=typeof eg=="function"&&typeof tg=="symbol"?function(eQ){return typeof eQ}:function(eQ){return eQ&&typeof eg=="function"&&eQ.constructor===eg&&eQ!==eg.prototype?"symbol":typeof eQ},ig(tQ)}var ng=i(rf.f("toPrimitive"));function rg(tQ){var eQ=function(AQ,iQ){if(ig(AQ)!=="object"||AQ===null)return AQ;var oQ=AQ[ng];if(oQ!==void 0){var rQ=oQ.call(AQ,iQ||"default");if(ig(rQ)!=="object")return rQ;throw new TypeError("@@toPrimitive must return a primitive value.")}return(iQ==="string"?String:Number)(AQ)}(tQ,"string");return ig(eQ)==="symbol"?eQ:String(eQ)}function og(tQ,eQ,AQ){return(eQ=rg(eQ))in tQ?Cm(tQ,eQ,{value:AQ,enumerable:!0,configurable:!0,writable:!0}):tQ[eQ]=AQ,tQ}var sg=n,ag=ht("iterator"),cg=!sg(function(){var tQ=new URL("b?a=1&b=2&c=3","http://a"),eQ=tQ.searchParams,AQ=new URLSearchParams("a=1&a=2"),iQ="";return tQ.pathname="c%20d",eQ.forEach(function(oQ,rQ){eQ.delete("b"),iQ+=rQ+oQ}),AQ.delete("a",2),!tQ.toJSON||!AQ.has("a",1)||AQ.has("a",2)||!eQ.size&&!0||!eQ.sort||tQ.href!=="http://a/c%20d?a=1&c=3"||eQ.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!eQ[ag]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://ÑÐµÑÑ").host!=="xn--e1aybc"||new URL("http://a#Ð±").hash!=="#%D0%B1"||iQ!=="a1c3"||new URL("http://x",void 0).host!=="x"}),dg=ha,lg=wi,ug=h,hg=L,pg=d,_g=N,Eg=cg,mg=ha,fg=hc,Tg=function(tQ,eQ,AQ){for(var iQ in eQ)AQ&&AQ.unsafe&&tQ[iQ]?tQ[iQ]=eQ[iQ]:dg(tQ,iQ,eQ[iQ],AQ);return tQ},Sg=Da,gg=Va,Rg=ra,Cg=Sc,Ig=w,vg=Ze,yg=Xt,Ag=pn,bg=ii,wg=te,Og=mn,Ng=Io,Dg=B,Pg=es,Lg=qo,kg=Zc,Mg=b_,Ug=ht("iterator"),xg="URLSearchParams",Vg=xg+"Iterator",Fg=Rg.set,Bg=Rg.getterFor(xg),jg=Rg.getterFor(Vg),Gg=Object.getOwnPropertyDescriptor,Wg=function(tQ){if(!_g)return ug[tQ];var eQ=Gg(ug,tQ);return eQ&&eQ.value},Hg=Wg("fetch"),Kg=Wg("Request"),Yg=Wg("Headers"),qg=Kg&&Kg.prototype,zg=Yg&&Yg.prototype,Jg=ug.RegExp,Xg=ug.TypeError,Qg=ug.decodeURIComponent,Zg=ug.encodeURIComponent,$g=pg("".charAt),eR=pg([].join),tR=pg([].push),iR=pg("".replace),nR=pg([].shift),rR=pg([].splice),oR=pg("".split),sR=pg("".slice),aR=/\+/g,cR=Array(4),dR=function(tQ){return cR[tQ-1]||(cR[tQ-1]=Jg("((?:%[\\da-f]{2}){"+tQ+"})","gi"))},lR=function(tQ){try{return Qg(tQ)}catch{return tQ}},uR=function(tQ){var eQ=iR(tQ,aR," "),AQ=4;try{return Qg(eQ)}catch{for(;AQ;)eQ=iR(eQ,dR(AQ--),lR);return eQ}},hR=/[!'()~]|%20/g,pR={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},_R=function(tQ){return pR[tQ]},ER=function(tQ){return iR(Zg(tQ),hR,_R)},mR=gg(function(tQ,eQ){Fg(this,{type:Vg,iterator:Pg(Bg(tQ).entries),kind:eQ})},"Iterator",function(){var tQ=jg(this),eQ=tQ.kind,AQ=tQ.iterator.next(),iQ=AQ.value;return AQ.done||(AQ.value=eQ==="keys"?iQ.key:eQ==="values"?iQ.value:[iQ.key,iQ.value]),AQ},!0),fR=function(tQ){this.entries=[],this.url=null,tQ!==void 0&&(wg(tQ)?this.parseObject(tQ):this.parseQuery(typeof tQ=="string"?$g(tQ,0)==="?"?sR(tQ,1):tQ:Og(tQ)))};fR.prototype={type:xg,bindURL:function(tQ){this.url=tQ,this.update()},parseObject:function(tQ){var eQ,AQ,iQ,oQ,rQ,nQ,sQ,aQ=Lg(tQ);if(aQ)for(AQ=(eQ=Pg(tQ,aQ)).next;!(iQ=hg(AQ,eQ)).done;){if(rQ=(oQ=Pg(bg(iQ.value))).next,(nQ=hg(rQ,oQ)).done||(sQ=hg(rQ,oQ)).done||!hg(rQ,oQ).done)throw Xg("Expected sequence with length 2");tR(this.entries,{key:Og(nQ.value),value:Og(sQ.value)})}else for(var cQ in tQ)vg(tQ,cQ)&&tR(this.entries,{key:cQ,value:Og(tQ[cQ])})},parseQuery:function(tQ){if(tQ)for(var eQ,AQ,iQ=oR(tQ,"&"),oQ=0;oQ<iQ.length;)(eQ=iQ[oQ++]).length&&(AQ=oR(eQ,"="),tR(this.entries,{key:uR(nR(AQ)),value:uR(eR(AQ,"="))}))},serialize:function(){for(var tQ,eQ=this.entries,AQ=[],iQ=0;iQ<eQ.length;)tQ=eQ[iQ++],tR(AQ,ER(tQ.key)+"="+ER(tQ.value));return eR(AQ,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var TR=function(){Cg(this,SR);var tQ=Fg(this,new fR(arguments.length>0?arguments[0]:void 0));_g||(this.size=tQ.entries.length)},SR=TR.prototype;if(Tg(SR,{append:function(tQ,eQ){var AQ=Bg(this);kg(arguments.length,2),tR(AQ.entries,{key:Og(tQ),value:Og(eQ)}),_g||this.length++,AQ.updateURL()},delete:function(tQ){for(var eQ=Bg(this),AQ=kg(arguments.length,1),iQ=eQ.entries,oQ=Og(tQ),rQ=AQ<2?void 0:arguments[1],nQ=rQ===void 0?rQ:Og(rQ),sQ=0;sQ<iQ.length;){var aQ=iQ[sQ];if(aQ.key!==oQ||nQ!==void 0&&aQ.value!==nQ)sQ++;else if(rR(iQ,sQ,1),nQ!==void 0)break}_g||(this.size=iQ.length),eQ.updateURL()},get:function(tQ){var eQ=Bg(this).entries;kg(arguments.length,1);for(var AQ=Og(tQ),iQ=0;iQ<eQ.length;iQ++)if(eQ[iQ].key===AQ)return eQ[iQ].value;return null},getAll:function(tQ){var eQ=Bg(this).entries;kg(arguments.length,1);for(var AQ=Og(tQ),iQ=[],oQ=0;oQ<eQ.length;oQ++)eQ[oQ].key===AQ&&tR(iQ,eQ[oQ].value);return iQ},has:function(tQ){for(var eQ=Bg(this).entries,AQ=kg(arguments.length,1),iQ=Og(tQ),oQ=AQ<2?void 0:arguments[1],rQ=oQ===void 0?oQ:Og(oQ),nQ=0;nQ<eQ.length;){var sQ=eQ[nQ++];if(sQ.key===iQ&&(rQ===void 0||sQ.value===rQ))return!0}return!1},set:function(tQ,eQ){var AQ=Bg(this);kg(arguments.length,1);for(var iQ,oQ=AQ.entries,rQ=!1,nQ=Og(tQ),sQ=Og(eQ),aQ=0;aQ<oQ.length;aQ++)(iQ=oQ[aQ]).key===nQ&&(rQ?rR(oQ,aQ--,1):(rQ=!0,iQ.value=sQ));rQ||tR(oQ,{key:nQ,value:sQ}),_g||(this.size=oQ.length),AQ.updateURL()},sort:function(){var tQ=Bg(this);Mg(tQ.entries,function(eQ,AQ){return eQ.key>AQ.key?1:-1}),tQ.updateURL()},forEach:function(tQ){for(var eQ,AQ=Bg(this).entries,iQ=yg(tQ,arguments.length>1?arguments[1]:void 0),oQ=0;oQ<AQ.length;)iQ((eQ=AQ[oQ++]).value,eQ.key,this)},keys:function(){return new mR(this,"keys")},values:function(){return new mR(this,"values")},entries:function(){return new mR(this,"entries")}},{enumerable:!0}),mg(SR,Ug,SR.entries,{name:"entries"}),mg(SR,"toString",function(){return Bg(this).serialize()},{enumerable:!0}),_g&&fg(SR,"size",{get:function(){return Bg(this).entries.length},configurable:!0,enumerable:!0}),Sg(TR,xg),lg({global:!0,constructor:!0,forced:!Eg},{URLSearchParams:TR}),!Eg&&Ig(Yg)){var gR=pg(zg.has),RR=pg(zg.set),CR=function(tQ){if(wg(tQ)){var eQ,AQ=tQ.body;if(Ag(AQ)===xg)return eQ=tQ.headers?new Yg(tQ.headers):new Yg,gR(eQ,"content-type")||RR(eQ,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),Ng(tQ,{body:Dg(0,Og(AQ)),headers:Dg(0,eQ)})}return tQ};if(Ig(Hg)&&lg({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(tQ){return Hg(tQ,arguments.length>1?CR(arguments[1]):{})}}),Ig(Kg)){var IR=function(tQ){return Cg(this,qg),new Kg(tQ,arguments.length>1?CR(arguments[1]):{})};qg.constructor=IR,IR.prototype=qg,lg({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:IR})}}var vR={URLSearchParams:TR,getState:Bg},yR=i(ie.URLSearchParams),AR={isBrowser:!0,classes:{URLSearchParams:yR!==void 0?yR:lm,FormData:typeof FormData<"u"?FormData:null,Blob:typeof Blob<"u"?Blob:null},protocols:["http","https","file","blob","url","data"]};const bR=typeof window<"u"&&typeof document<"u",wR=(OR=typeof navigator<"u"&&navigator.product,bR&&["ReactNative","NativeScript","NS"].indexOf(OR)<0);var OR;const NR=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function";function DR(tQ,eQ){var AQ=Object.keys(tQ);if(Object.getOwnPropertySymbols){var iQ=Object.getOwnPropertySymbols(tQ);eQ&&(iQ=iQ.filter(function(oQ){return Object.getOwnPropertyDescriptor(tQ,oQ).enumerable})),AQ.push.apply(AQ,iQ)}return AQ}function PR(tQ){for(var eQ=1;eQ<arguments.length;eQ++){var AQ=arguments[eQ]!=null?arguments[eQ]:{};eQ%2?DR(Object(AQ),!0).forEach(function(iQ){og(tQ,iQ,AQ[iQ])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tQ,Object.getOwnPropertyDescriptors(AQ)):DR(Object(AQ)).forEach(function(iQ){Object.defineProperty(tQ,iQ,Object.getOwnPropertyDescriptor(AQ,iQ))})}return tQ}var LR=PR(PR({},Object.freeze({__proto__:null,hasBrowserEnv:bR,hasStandardBrowserEnv:wR,hasStandardBrowserWebWorkerEnv:NR})),AR),kR=ii,MR=L,UR=Ze,xR=l,VR=function(){var tQ=kR(this),eQ="";return tQ.hasIndices&&(eQ+="d"),tQ.global&&(eQ+="g"),tQ.ignoreCase&&(eQ+="i"),tQ.multiline&&(eQ+="m"),tQ.dotAll&&(eQ+="s"),tQ.unicode&&(eQ+="u"),tQ.unicodeSets&&(eQ+="v"),tQ.sticky&&(eQ+="y"),eQ},FR=RegExp.prototype,BR=function(tQ){var eQ=tQ.flags;return eQ!==void 0||"flags"in FR||UR(tQ,"flags")||!xR(FR,tQ)?eQ:MR(VR,tQ)},jR=Ch.charAt,GR=L,WR=ii,HR=w,KR=R,YR=/./.exec,qR=TypeError,zR=wi,JR=L,XR=v,QR=Va,ZR=ic,$R=J,eC=Bi,tC=mn,iC=ii,nC=Y,rC=R,oC=tn,sC=BR,aC=ke,cC=n,dC=Jc,lC=function(tQ,eQ,AQ){return eQ+(AQ?jR(tQ,eQ).length:1)},uC=function(tQ,eQ){var AQ=tQ.exec;if(HR(AQ)){var iQ=GR(AQ,tQ,eQ);return iQ!==null&&WR(iQ),iQ}if(KR(tQ)==="RegExp")return GR(YR,tQ,eQ);throw qR("RegExp#exec called on incompatible receiver")},hC=ra,pC=ht("matchAll"),_C="RegExp String",EC=_C+" Iterator",mC=hC.set,fC=hC.getterFor(EC),TC=TypeError,SC=XR("".indexOf),gC=XR("".matchAll),RC=!!gC&&!cC(function(){gC("a",/./)}),CC=QR(function(tQ,eQ,AQ,iQ){mC(this,{type:EC,regexp:tQ,string:eQ,global:AQ,unicode:iQ,done:!1})},_C,function(){var tQ=fC(this);if(tQ.done)return ZR(void 0,!0);var eQ=tQ.regexp,AQ=tQ.string,iQ=uC(eQ,AQ);return iQ===null?(tQ.done=!0,ZR(void 0,!0)):tQ.global?(tC(iQ[0])===""&&(eQ.lastIndex=lC(AQ,eC(eQ.lastIndex),tQ.unicode)),ZR(iQ,!1)):(tQ.done=!0,ZR(iQ,!1))}),IC=function(tQ){var eQ,AQ,iQ,oQ=iC(this),rQ=tC(tQ),nQ=dC(oQ,RegExp),sQ=tC(sC(oQ));return eQ=new nQ(nQ===RegExp?oQ.source:oQ,sQ),AQ=!!~SC(sQ,"g"),iQ=!!~SC(sQ,"u"),eQ.lastIndex=eC(oQ.lastIndex),new CC(eQ,rQ,AQ,iQ)};zR({target:"String",proto:!0,forced:RC},{matchAll:function(tQ){var eQ,AQ,iQ,oQ,rQ=$R(this);if(nC(tQ)){if(RC)return gC(rQ,tQ)}else{if(oC(tQ)&&(eQ=tC($R(sC(tQ))),!~SC(eQ,"g")))throw TC("`.matchAll` does not allow non-global regexes");if(RC)return gC(rQ,tQ);if((iQ=aC(tQ,pC))===void 0&&rC(tQ)=="RegExp"&&(iQ=IC),iQ)return JR(iQ,tQ,rQ)}return AQ=tC(rQ),oQ=new RegExp(tQ,"g"),JR(IC,oQ,AQ)}});var vC=Xi("String").matchAll,yC=l,AC=vC,bC=String.prototype,wC=function(tQ){var eQ=tQ.matchAll;return typeof tQ=="string"||tQ===bC||yC(bC,tQ)&&eQ===bC.matchAll?AC:eQ},OC=i(wC);function NC(tQ){function eQ(AQ,iQ,oQ,rQ){let nQ=AQ[rQ++];if(nQ==="__proto__")return!0;const sQ=Number.isFinite(+nQ),aQ=rQ>=AQ.length;return nQ=!nQ&&em.isArray(oQ)?oQ.length:nQ,aQ?(em.hasOwnProp(oQ,nQ)?oQ[nQ]=[oQ[nQ],iQ]:oQ[nQ]=iQ,!sQ):(oQ[nQ]&&em.isObject(oQ[nQ])||(oQ[nQ]=[]),eQ(AQ,iQ,oQ[nQ],rQ)&&em.isArray(oQ[nQ])&&(oQ[nQ]=function(cQ){const gQ={},IQ=Object.keys(cQ);let EQ;const CQ=IQ.length;let dQ;for(EQ=0;EQ<CQ;EQ++)dQ=IQ[EQ],gQ[dQ]=cQ[dQ];return gQ}(oQ[nQ])),!sQ)}if(em.isFormData(tQ)&&em.isFunction(tQ.entries)){const AQ={};return em.forEachEntry(tQ,(iQ,oQ)=>{eQ(function(rQ){return OC(em).call(em,/\w+|\[(\w*)]/g,rQ).map(nQ=>nQ[0]==="[]"?"":nQ[1]||nQ[0])}(iQ),oQ,AQ,0)}),AQ}return null}const DC={transitional:Em,adapter:["xhr","http"],transformRequest:[function(tQ,eQ){const AQ=eQ.getContentType()||"",iQ=AQ.indexOf("application/json")>-1,oQ=em.isObject(tQ);if(oQ&&em.isHTMLForm(tQ)&&(tQ=new FormData(tQ)),em.isFormData(tQ))return iQ?JSON.stringify(NC(tQ)):tQ;if(em.isArrayBuffer(tQ)||em.isBuffer(tQ)||em.isStream(tQ)||em.isFile(tQ)||em.isBlob(tQ))return tQ;if(em.isArrayBufferView(tQ))return tQ.buffer;if(em.isURLSearchParams(tQ))return eQ.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),tQ.toString();let rQ;if(oQ){if(AQ.indexOf("application/x-www-form-urlencoded")>-1)return function(nQ,sQ){return cm(nQ,new LR.classes.URLSearchParams,Object.assign({visitor:function(aQ,cQ,gQ,IQ){return LR.isNode&&em.isBuffer(aQ)?(this.append(cQ,aQ.toString("base64")),!1):IQ.defaultVisitor.apply(this,arguments)}},sQ))}(tQ,this.formSerializer).toString();if((rQ=em.isFileList(tQ))||AQ.indexOf("multipart/form-data")>-1){const nQ=this.env&&this.env.FormData;return cm(rQ?{"files[]":tQ}:tQ,nQ&&new nQ,this.formSerializer)}}return oQ||iQ?(eQ.setContentType("application/json",!1),function(nQ,sQ,aQ){if(em.isString(nQ))try{return(sQ||JSON.parse)(nQ),jp(em).call(em,nQ)}catch(cQ){if(cQ.name!=="SyntaxError")throw cQ}return(aQ||JSON.stringify)(nQ)}(tQ)):tQ}],transformResponse:[function(tQ){const eQ=this.transitional||DC.transitional,AQ=eQ&&eQ.forcedJSONParsing,iQ=this.responseType==="json";if(tQ&&em.isString(tQ)&&(AQ&&!this.responseType||iQ)){const oQ=!(eQ&&eQ.silentJSONParsing)&&iQ;try{return JSON.parse(tQ)}catch(rQ){if(oQ)throw rQ.name==="SyntaxError"?tm.from(rQ,tm.ERR_BAD_RESPONSE,this,null,this.response):rQ}}return tQ}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:LR.classes.FormData,Blob:LR.classes.Blob},validateStatus:function(tQ){return tQ>=200&&tQ<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};em.forEach(["delete","get","head","post","put","patch"],tQ=>{DC.headers[tQ]={}});var PC=DC;const LC=em.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),kC=Symbol("internals");function MC(tQ){var eQ;return tQ&&jp(eQ=String(tQ)).call(eQ).toLowerCase()}function UC(tQ){return tQ===!1||tQ==null?tQ:em.isArray(tQ)?tQ.map(UC):String(tQ)}function xC(tQ,eQ,AQ,iQ,oQ){return em.isFunction(iQ)?iQ.call(this,eQ,AQ):(oQ&&(eQ=AQ),em.isString(eQ)?em.isString(iQ)?eQ.indexOf(iQ)!==-1:em.isRegExp(iQ)?iQ.test(eQ):void 0:void 0)}class VC{constructor(eQ){eQ&&this.set(eQ)}set(eQ,AQ,iQ){const oQ=this;function rQ(aQ,cQ,gQ){const IQ=MC(cQ);if(!IQ)throw new Error("header name must be a non-empty string");const EQ=em.findKey(oQ,IQ);(!EQ||oQ[EQ]===void 0||gQ===!0||gQ===void 0&&oQ[EQ]!==!1)&&(oQ[EQ||cQ]=UC(aQ))}const nQ=(aQ,cQ)=>em.forEach(aQ,(gQ,IQ)=>rQ(gQ,IQ,cQ));var sQ;return em.isPlainObject(eQ)||eQ instanceof this.constructor?nQ(eQ,AQ):em.isString(eQ)&&(eQ=jp(eQ).call(eQ))&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(jp(sQ=eQ).call(sQ))?nQ((aQ=>{const cQ={};let gQ,IQ,EQ;return aQ&&aQ.split(`
`).forEach(function(CQ){var dQ,lQ;EQ=CQ.indexOf(":"),gQ=jp(dQ=CQ.substring(0,EQ)).call(dQ).toLowerCase(),IQ=jp(lQ=CQ.substring(EQ+1)).call(lQ),!gQ||cQ[gQ]&&LC[gQ]||(gQ==="set-cookie"?cQ[gQ]?cQ[gQ].push(IQ):cQ[gQ]=[IQ]:cQ[gQ]=cQ[gQ]?cQ[gQ]+", "+IQ:IQ)}),cQ})(eQ),AQ):eQ!=null&&rQ(AQ,eQ,iQ),this}get(eQ,AQ){if(eQ=MC(eQ)){const iQ=em.findKey(this,eQ);if(iQ){const oQ=this[iQ];if(!AQ)return oQ;if(AQ===!0)return function(rQ){const nQ=Object.create(null),sQ=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let aQ;for(;aQ=sQ.exec(rQ);)nQ[aQ[1]]=aQ[2];return nQ}(oQ);if(em.isFunction(AQ))return AQ.call(this,oQ,iQ);if(em.isRegExp(AQ))return AQ.exec(oQ);throw new TypeError("parser must be boolean|regexp|function")}}}has(eQ,AQ){if(eQ=MC(eQ)){const iQ=em.findKey(this,eQ);return!(!iQ||this[iQ]===void 0||AQ&&!xC(0,this[iQ],iQ,AQ))}return!1}delete(eQ,AQ){const iQ=this;let oQ=!1;function rQ(nQ){if(nQ=MC(nQ)){const sQ=em.findKey(iQ,nQ);!sQ||AQ&&!xC(0,iQ[sQ],sQ,AQ)||(delete iQ[sQ],oQ=!0)}}return em.isArray(eQ)?eQ.forEach(rQ):rQ(eQ),oQ}clear(eQ){const AQ=Object.keys(this);let iQ=AQ.length,oQ=!1;for(;iQ--;){const rQ=AQ[iQ];eQ&&!xC(0,this[rQ],rQ,eQ,!0)||(delete this[rQ],oQ=!0)}return oQ}normalize(eQ){const AQ=this,iQ={};return em.forEach(this,(oQ,rQ)=>{var nQ;const sQ=em.findKey(iQ,rQ);if(sQ)return AQ[sQ]=UC(oQ),void delete AQ[rQ];const aQ=eQ?function(cQ){return jp(cQ).call(cQ).toLowerCase().replace(/([a-z\d])(\w*)/g,(gQ,IQ,EQ)=>IQ.toUpperCase()+EQ)}(rQ):jp(nQ=String(rQ)).call(nQ);aQ!==rQ&&delete AQ[rQ],AQ[aQ]=UC(oQ),iQ[aQ]=!0}),this}concat(){for(var eQ=arguments.length,AQ=new Array(eQ),iQ=0;iQ<eQ;iQ++)AQ[iQ]=arguments[iQ];return this.constructor.concat(this,...AQ)}toJSON(eQ){const AQ=Object.create(null);return em.forEach(this,(iQ,oQ)=>{iQ!=null&&iQ!==!1&&(AQ[oQ]=eQ&&em.isArray(iQ)?iQ.join(", "):iQ)}),AQ}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(eQ=>{let[AQ,iQ]=eQ;return AQ+": "+iQ}).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(eQ){return eQ instanceof this?eQ:new this(eQ)}static concat(eQ){const AQ=new this(eQ);for(var iQ=arguments.length,oQ=new Array(iQ>1?iQ-1:0),rQ=1;rQ<iQ;rQ++)oQ[rQ-1]=arguments[rQ];return oQ.forEach(nQ=>AQ.set(nQ)),AQ}static accessor(eQ){const AQ=(this[kC]=this[kC]={accessors:{}}).accessors,iQ=this.prototype;function oQ(rQ){const nQ=MC(rQ);AQ[nQ]||(function(sQ,aQ){const cQ=em.toCamelCase(" "+aQ);["get","set","has"].forEach(gQ=>{Object.defineProperty(sQ,gQ+cQ,{value:function(IQ,EQ,CQ){return this[gQ].call(this,aQ,IQ,EQ,CQ)},configurable:!0})})}(iQ,rQ),AQ[nQ]=!0)}return em.isArray(eQ)?eQ.forEach(oQ):oQ(eQ),this}}VC.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),em.reduceDescriptors(VC.prototype,(tQ,eQ)=>{let{value:AQ}=tQ,iQ=eQ[0].toUpperCase()+eQ.slice(1);return{get:()=>AQ,set(oQ){this[iQ]=oQ}}}),em.freezeMethods(VC);var FC=VC;function BC(tQ,eQ){const AQ=this||PC,iQ=eQ||AQ,oQ=FC.from(iQ.headers);let rQ=iQ.data;return em.forEach(tQ,function(nQ){rQ=nQ.call(AQ,rQ,oQ.normalize(),eQ?eQ.status:void 0)}),oQ.normalize(),rQ}function jC(tQ){return!(!tQ||!tQ.__CANCEL__)}function GC(tQ,eQ,AQ){tm.call(this,tQ??"canceled",tm.ERR_CANCELED,eQ,AQ),this.name="CanceledError"}em.inherits(GC,tm,{__CANCEL__:!0});var WC=LR.hasStandardBrowserEnv?{write(tQ,eQ,AQ,iQ,oQ,rQ){const nQ=[tQ+"="+encodeURIComponent(eQ)];em.isNumber(AQ)&&nQ.push("expires="+new Date(AQ).toGMTString()),em.isString(iQ)&&nQ.push("path="+iQ),em.isString(oQ)&&nQ.push("domain="+oQ),rQ===!0&&nQ.push("secure"),document.cookie=nQ.join("; ")},read(tQ){const eQ=document.cookie.match(new RegExp("(^|;\\s*)("+tQ+")=([^;]*)"));return eQ?decodeURIComponent(eQ[3]):null},remove(tQ){this.write(tQ,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function HC(tQ,eQ){return tQ&&!function(AQ){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(AQ)}(eQ)?function(AQ,iQ){return iQ?AQ.replace(/\/?\/$/,"")+"/"+iQ.replace(/^\/+/,""):AQ}(tQ,eQ):eQ}var KC=LR.hasStandardBrowserEnv?function(){const tQ=/(msie|trident)/i.test(navigator.userAgent),eQ=document.createElement("a");let AQ;function iQ(oQ){let rQ=oQ;return tQ&&(eQ.setAttribute("href",rQ),rQ=eQ.href),eQ.setAttribute("href",rQ),{href:eQ.href,protocol:eQ.protocol?eQ.protocol.replace(/:$/,""):"",host:eQ.host,search:eQ.search?eQ.search.replace(/^\?/,""):"",hash:eQ.hash?eQ.hash.replace(/^#/,""):"",hostname:eQ.hostname,port:eQ.port,pathname:eQ.pathname.charAt(0)==="/"?eQ.pathname:"/"+eQ.pathname}}return AQ=iQ(window.location.href),function(oQ){const rQ=em.isString(oQ)?iQ(oQ):oQ;return rQ.protocol===AQ.protocol&&rQ.host===AQ.host}}():function(){return!0};function YC(tQ,eQ){let AQ=0;const iQ=function(oQ,rQ){oQ=oQ||10;const nQ=new Array(oQ),sQ=new Array(oQ);let aQ,cQ=0,gQ=0;return rQ=rQ!==void 0?rQ:1e3,function(IQ){const EQ=Date.now(),CQ=sQ[gQ];aQ||(aQ=EQ),nQ[cQ]=IQ,sQ[cQ]=EQ;let dQ=gQ,lQ=0;for(;dQ!==cQ;)lQ+=nQ[dQ++],dQ%=oQ;if(cQ=(cQ+1)%oQ,cQ===gQ&&(gQ=(gQ+1)%oQ),EQ-aQ<rQ)return;const uQ=CQ&&EQ-CQ;return uQ?Math.round(1e3*lQ/uQ):void 0}}(50,250);return oQ=>{const rQ=oQ.loaded,nQ=oQ.lengthComputable?oQ.total:void 0,sQ=rQ-AQ,aQ=iQ(sQ);AQ=rQ;const cQ={loaded:rQ,total:nQ,progress:nQ?rQ/nQ:void 0,bytes:sQ,rate:aQ||void 0,estimated:aQ&&nQ&&rQ<=nQ?(nQ-rQ)/aQ:void 0,event:oQ};cQ[eQ?"download":"upload"]=!0,tQ(cQ)}}var qC=typeof XMLHttpRequest<"u"&&function(tQ){return new Gh(function(eQ,AQ){let iQ=tQ.data;const oQ=FC.from(tQ.headers).normalize();let rQ,nQ,{responseType:sQ,withXSRFToken:aQ}=tQ;function cQ(){tQ.cancelToken&&tQ.cancelToken.unsubscribe(rQ),tQ.signal&&tQ.signal.removeEventListener("abort",rQ)}if(em.isFormData(iQ)){if(LR.hasStandardBrowserEnv||LR.hasStandardBrowserWebWorkerEnv)oQ.setContentType(!1);else if((nQ=oQ.getContentType())!==!1){const[dQ,...lQ]=nQ?nQ.split(";").map(uQ=>jp(uQ).call(uQ)).filter(Boolean):[];oQ.setContentType([dQ||"multipart/form-data",...lQ].join("; "))}}let gQ=new XMLHttpRequest;if(tQ.auth){const dQ=tQ.auth.username||"",lQ=tQ.auth.password?unescape(encodeURIComponent(tQ.auth.password)):"";oQ.set("Authorization","Basic "+btoa(dQ+":"+lQ))}const IQ=HC(tQ.baseURL,tQ.url);function EQ(){if(!gQ)return;const dQ=FC.from("getAllResponseHeaders"in gQ&&gQ.getAllResponseHeaders());(function(lQ,uQ,hQ){const BQ=hQ.config.validateStatus;hQ.status&&BQ&&!BQ(hQ.status)?uQ(new tm("Request failed with status code "+hQ.status,[tm.ERR_BAD_REQUEST,tm.ERR_BAD_RESPONSE][Math.floor(hQ.status/100)-4],hQ.config,hQ.request,hQ)):lQ(hQ)})(function(lQ){eQ(lQ),cQ()},function(lQ){AQ(lQ),cQ()},{data:sQ&&sQ!=="text"&&sQ!=="json"?gQ.response:gQ.responseText,status:gQ.status,statusText:gQ.statusText,headers:dQ,config:tQ,request:gQ}),gQ=null}if(gQ.open(tQ.method.toUpperCase(),pm(IQ,tQ.params,tQ.paramsSerializer),!0),gQ.timeout=tQ.timeout,"onloadend"in gQ?gQ.onloadend=EQ:gQ.onreadystatechange=function(){gQ&&gQ.readyState===4&&(gQ.status!==0||gQ.responseURL&&gQ.responseURL.indexOf("file:")===0)&&setTimeout(EQ)},gQ.onabort=function(){gQ&&(AQ(new tm("Request aborted",tm.ECONNABORTED,tQ,gQ)),gQ=null)},gQ.onerror=function(){AQ(new tm("Network Error",tm.ERR_NETWORK,tQ,gQ)),gQ=null},gQ.ontimeout=function(){let dQ=tQ.timeout?"timeout of "+tQ.timeout+"ms exceeded":"timeout exceeded";const lQ=tQ.transitional||Em;tQ.timeoutErrorMessage&&(dQ=tQ.timeoutErrorMessage),AQ(new tm(dQ,lQ.clarifyTimeoutError?tm.ETIMEDOUT:tm.ECONNABORTED,tQ,gQ)),gQ=null},LR.hasStandardBrowserEnv&&(aQ&&em.isFunction(aQ)&&(aQ=aQ(tQ)),aQ||aQ!==!1&&KC(IQ))){const dQ=tQ.xsrfHeaderName&&tQ.xsrfCookieName&&WC.read(tQ.xsrfCookieName);dQ&&oQ.set(tQ.xsrfHeaderName,dQ)}iQ===void 0&&oQ.setContentType(null),"setRequestHeader"in gQ&&em.forEach(oQ.toJSON(),function(dQ,lQ){gQ.setRequestHeader(lQ,dQ)}),em.isUndefined(tQ.withCredentials)||(gQ.withCredentials=!!tQ.withCredentials),sQ&&sQ!=="json"&&(gQ.responseType=tQ.responseType),typeof tQ.onDownloadProgress=="function"&&gQ.addEventListener("progress",YC(tQ.onDownloadProgress,!0)),typeof tQ.onUploadProgress=="function"&&gQ.upload&&gQ.upload.addEventListener("progress",YC(tQ.onUploadProgress)),(tQ.cancelToken||tQ.signal)&&(rQ=dQ=>{gQ&&(AQ(!dQ||dQ.type?new GC(null,tQ,gQ):dQ),gQ.abort(),gQ=null)},tQ.cancelToken&&tQ.cancelToken.subscribe(rQ),tQ.signal&&(tQ.signal.aborted?rQ():tQ.signal.addEventListener("abort",rQ)));const CQ=function(dQ){const lQ=/^([-+\w]{1,25})(:?\/\/|:)/.exec(dQ);return lQ&&lQ[1]||""}(IQ);CQ&&LR.protocols.indexOf(CQ)===-1?AQ(new tm("Unsupported protocol "+CQ+":",tm.ERR_BAD_REQUEST,tQ)):gQ.send(iQ||null)})};const zC={http:null,xhr:qC};em.forEach(zC,(tQ,eQ)=>{if(tQ){try{Object.defineProperty(tQ,"name",{value:eQ})}catch{}Object.defineProperty(tQ,"adapterName",{value:eQ})}});const JC=tQ=>"- ".concat(tQ),XC=tQ=>em.isFunction(tQ)||tQ===null||tQ===!1;var QC={getAdapter:tQ=>{tQ=em.isArray(tQ)?tQ:[tQ];const{length:eQ}=tQ;let AQ,iQ;const oQ={};for(let rQ=0;rQ<eQ;rQ++){let nQ;if(AQ=tQ[rQ],iQ=AQ,!XC(AQ)&&(iQ=zC[(nQ=String(AQ)).toLowerCase()],iQ===void 0))throw new tm("Unknown adapter '".concat(nQ,"'"));if(iQ)break;oQ[nQ||"#"+rQ]=iQ}if(!iQ){const rQ=Object.entries(oQ).map(nQ=>{let[sQ,aQ]=nQ;return"adapter ".concat(sQ," ")+(aQ===!1?"is not supported by the environment":"is not available in the build")});throw new tm("There is no suitable adapter to dispatch the request "+(eQ?rQ.length>1?`since :
`+rQ.map(JC).join(`
`):" "+JC(rQ[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return iQ},adapters:zC};function ZC(tQ){if(tQ.cancelToken&&tQ.cancelToken.throwIfRequested(),tQ.signal&&tQ.signal.aborted)throw new GC(null,tQ)}function $C(tQ){return ZC(tQ),tQ.headers=FC.from(tQ.headers),tQ.data=BC.call(tQ,tQ.transformRequest),["post","put","patch"].indexOf(tQ.method)!==-1&&tQ.headers.setContentType("application/x-www-form-urlencoded",!1),QC.getAdapter(tQ.adapter||PC.adapter)(tQ).then(function(eQ){return ZC(tQ),eQ.data=BC.call(tQ,tQ.transformResponse,eQ),eQ.headers=FC.from(eQ.headers),eQ},function(eQ){return jC(eQ)||(ZC(tQ),eQ&&eQ.response&&(eQ.response.data=BC.call(tQ,tQ.transformResponse,eQ.response),eQ.response.headers=FC.from(eQ.response.headers))),Gh.reject(eQ)})}function eI(tQ,eQ){var AQ=Object.keys(tQ);if(Object.getOwnPropertySymbols){var iQ=Object.getOwnPropertySymbols(tQ);eQ&&(iQ=iQ.filter(function(oQ){return Object.getOwnPropertyDescriptor(tQ,oQ).enumerable})),AQ.push.apply(AQ,iQ)}return AQ}const tI=tQ=>tQ instanceof FC?function(eQ){for(var AQ=1;AQ<arguments.length;AQ++){var iQ=arguments[AQ]!=null?arguments[AQ]:{};AQ%2?eI(Object(iQ),!0).forEach(function(oQ){og(eQ,oQ,iQ[oQ])}):Object.getOwnPropertyDescriptors?Object.defineProperties(eQ,Object.getOwnPropertyDescriptors(iQ)):eI(Object(iQ)).forEach(function(oQ){Object.defineProperty(eQ,oQ,Object.getOwnPropertyDescriptor(iQ,oQ))})}return eQ}({},tQ):tQ;function iI(tQ,eQ){eQ=eQ||{};const AQ={};function iQ(cQ,gQ,IQ){return em.isPlainObject(cQ)&&em.isPlainObject(gQ)?em.merge.call({caseless:IQ},cQ,gQ):em.isPlainObject(gQ)?em.merge({},gQ):em.isArray(gQ)?gQ.slice():gQ}function oQ(cQ,gQ,IQ){return em.isUndefined(gQ)?em.isUndefined(cQ)?void 0:iQ(void 0,cQ,IQ):iQ(cQ,gQ,IQ)}function rQ(cQ,gQ){if(!em.isUndefined(gQ))return iQ(void 0,gQ)}function nQ(cQ,gQ){return em.isUndefined(gQ)?em.isUndefined(cQ)?void 0:iQ(void 0,cQ):iQ(void 0,gQ)}function sQ(cQ,gQ,IQ){return IQ in eQ?iQ(cQ,gQ):IQ in tQ?iQ(void 0,cQ):void 0}const aQ={url:rQ,method:rQ,data:rQ,baseURL:nQ,transformRequest:nQ,transformResponse:nQ,paramsSerializer:nQ,timeout:nQ,timeoutMessage:nQ,withCredentials:nQ,withXSRFToken:nQ,adapter:nQ,responseType:nQ,xsrfCookieName:nQ,xsrfHeaderName:nQ,onUploadProgress:nQ,onDownloadProgress:nQ,decompress:nQ,maxContentLength:nQ,maxBodyLength:nQ,beforeRedirect:nQ,transport:nQ,httpAgent:nQ,httpsAgent:nQ,cancelToken:nQ,socketPath:nQ,responseEncoding:nQ,validateStatus:sQ,headers:(cQ,gQ)=>oQ(tI(cQ),tI(gQ),!0)};return em.forEach(Object.keys(Object.assign({},tQ,eQ)),function(cQ){const gQ=aQ[cQ]||oQ,IQ=gQ(tQ[cQ],eQ[cQ],cQ);em.isUndefined(IQ)&&gQ!==sQ||(AQ[cQ]=IQ)}),AQ}const nI="1.6.8",rI={};["object","boolean","number","function","string","symbol"].forEach((tQ,eQ)=>{rI[tQ]=function(AQ){return typeof AQ===tQ||"a"+(eQ<1?"n ":" ")+tQ}});const oI={};rI.transitional=function(tQ,eQ,AQ){function iQ(oQ,rQ){return"[Axios v"+nI+"] Transitional option '"+oQ+"'"+rQ+(AQ?". "+AQ:"")}return(oQ,rQ,nQ)=>{if(tQ===!1)throw new tm(iQ(rQ," has been removed"+(eQ?" in "+eQ:"")),tm.ERR_DEPRECATED);return eQ&&!oI[rQ]&&(oI[rQ]=!0,console.warn(iQ(rQ," has been deprecated since v"+eQ+" and will be removed in the near future"))),!tQ||tQ(oQ,rQ,nQ)}};var sI={assertOptions:function(tQ,eQ,AQ){if(typeof tQ!="object")throw new tm("options must be an object",tm.ERR_BAD_OPTION_VALUE);const iQ=Object.keys(tQ);let oQ=iQ.length;for(;oQ-- >0;){const rQ=iQ[oQ],nQ=eQ[rQ];if(nQ){const sQ=tQ[rQ],aQ=sQ===void 0||nQ(sQ,rQ,tQ);if(aQ!==!0)throw new tm("option "+rQ+" must be "+aQ,tm.ERR_BAD_OPTION_VALUE)}else if(AQ!==!0)throw new tm("Unknown option "+rQ,tm.ERR_BAD_OPTION)}},validators:rI};const aI=sI.validators;let cI=class{constructor(tQ){this.defaults=tQ,this.interceptors={request:new _m,response:new _m}}async request(tQ,eQ){try{return await this._request(tQ,eQ)}catch(AQ){if(AQ instanceof Error){let iQ;Error.captureStackTrace?Error.captureStackTrace(iQ={}):iQ=new Error;const oQ=iQ.stack?iQ.stack.replace(/^.+\n/,""):"";AQ.stack?oQ&&!String(AQ.stack).endsWith(oQ.replace(/^.+\n.+\n/,""))&&(AQ.stack+=`
`+oQ):AQ.stack=oQ}throw AQ}}_request(tQ,eQ){typeof tQ=="string"?(eQ=eQ||{}).url=tQ:eQ=tQ||{},eQ=iI(this.defaults,eQ);const{transitional:AQ,paramsSerializer:iQ,headers:oQ}=eQ;AQ!==void 0&&sI.assertOptions(AQ,{silentJSONParsing:aI.transitional(aI.boolean),forcedJSONParsing:aI.transitional(aI.boolean),clarifyTimeoutError:aI.transitional(aI.boolean)},!1),iQ!=null&&(em.isFunction(iQ)?eQ.paramsSerializer={serialize:iQ}:sI.assertOptions(iQ,{encode:aI.function,serialize:aI.function},!0)),eQ.method=(eQ.method||this.defaults.method||"get").toLowerCase();let rQ=oQ&&em.merge(oQ.common,oQ[eQ.method]);oQ&&em.forEach(["delete","get","head","post","put","patch","common"],CQ=>{delete oQ[CQ]}),eQ.headers=FC.concat(rQ,oQ);const nQ=[];let sQ=!0;this.interceptors.request.forEach(function(CQ){typeof CQ.runWhen=="function"&&CQ.runWhen(eQ)===!1||(sQ=sQ&&CQ.synchronous,nQ.unshift(CQ.fulfilled,CQ.rejected))});const aQ=[];let cQ;this.interceptors.response.forEach(function(CQ){aQ.push(CQ.fulfilled,CQ.rejected)});let gQ,IQ=0;if(!sQ){const CQ=[$C.bind(this),void 0];for(CQ.unshift.apply(CQ,nQ),CQ.push.apply(CQ,aQ),gQ=CQ.length,cQ=Gh.resolve(eQ);IQ<gQ;)cQ=cQ.then(CQ[IQ++],CQ[IQ++]);return cQ}gQ=nQ.length;let EQ=eQ;for(IQ=0;IQ<gQ;){const CQ=nQ[IQ++],dQ=nQ[IQ++];try{EQ=CQ(EQ)}catch(lQ){dQ.call(this,lQ);break}}try{cQ=$C.call(this,EQ)}catch(CQ){return Gh.reject(CQ)}for(IQ=0,gQ=aQ.length;IQ<gQ;)cQ=cQ.then(aQ[IQ++],aQ[IQ++]);return cQ}getUri(tQ){return pm(HC((tQ=iI(this.defaults,tQ)).baseURL,tQ.url),tQ.params,tQ.paramsSerializer)}};em.forEach(["delete","get","head","options"],function(tQ){cI.prototype[tQ]=function(eQ,AQ){return this.request(iI(AQ||{},{method:tQ,url:eQ,data:(AQ||{}).data}))}}),em.forEach(["post","put","patch"],function(tQ){function eQ(AQ){return function(iQ,oQ,rQ){return this.request(iI(rQ||{},{method:tQ,headers:AQ?{"Content-Type":"multipart/form-data"}:{},url:iQ,data:oQ}))}}cI.prototype[tQ]=eQ(),cI.prototype[tQ+"Form"]=eQ(!0)});var dI=cI;class lI{constructor(eQ){if(typeof eQ!="function")throw new TypeError("executor must be a function.");let AQ;this.promise=new Gh(function(oQ){AQ=oQ});const iQ=this;this.promise.then(oQ=>{if(!iQ._listeners)return;let rQ=iQ._listeners.length;for(;rQ-- >0;)iQ._listeners[rQ](oQ);iQ._listeners=null}),this.promise.then=oQ=>{let rQ;const nQ=new Gh(sQ=>{iQ.subscribe(sQ),rQ=sQ}).then(oQ);return nQ.cancel=function(){iQ.unsubscribe(rQ)},nQ},eQ(function(oQ,rQ,nQ){iQ.reason||(iQ.reason=new GC(oQ,rQ,nQ),AQ(iQ.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(eQ){this.reason?eQ(this.reason):this._listeners?this._listeners.push(eQ):this._listeners=[eQ]}unsubscribe(eQ){if(!this._listeners)return;const AQ=this._listeners.indexOf(eQ);AQ!==-1&&this._listeners.splice(AQ,1)}static source(){let eQ;return{token:new lI(function(AQ){eQ=AQ}),cancel:eQ}}}var uI=lI;const hI={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(hI).forEach(tQ=>{let[eQ,AQ]=tQ;hI[AQ]=eQ});var pI=hI;const _I=function tQ(eQ){const AQ=new dI(eQ),iQ=gE(dI.prototype.request,AQ);return em.extend(iQ,dI.prototype,AQ,{allOwnKeys:!0}),em.extend(iQ,AQ,null,{allOwnKeys:!0}),iQ.create=function(oQ){return tQ(iI(eQ,oQ))},iQ}(PC);_I.Axios=dI,_I.CanceledError=GC,_I.CancelToken=uI,_I.isCancel=jC,_I.VERSION=nI,_I.toFormData=cm,_I.AxiosError=tm,_I.Cancel=_I.CanceledError,_I.all=function(tQ){return Gh.all(tQ)},_I.spread=function(tQ){return function(eQ){return tQ.apply(null,eQ)}},_I.isAxiosError=function(tQ){return em.isObject(tQ)&&tQ.isAxiosError===!0},_I.mergeConfig=iI,_I.AxiosHeaders=FC,_I.formToJSON=tQ=>NC(em.isHTMLForm(tQ)?new FormData(tQ):tQ),_I.getAdapter=QC.getAdapter,_I.HttpStatusCode=pI,_I.default=_I;var EI=_I;const mI=()=>{};function fI(){const tQ={promise:void 0,isResolved:!1,isRejected:!1,isFinished:!1,resolve:void 0,reject:void 0,cancel:mI};return tQ.promise=new Gh((eQ,AQ)=>{tQ.resolve=iQ=>{tQ.isFinished||(tQ.isResolved=!0,tQ.isFinished=!0,eQ(iQ),tQ.value=iQ)},tQ.reject=iQ=>{tQ.isFinished||(tQ.isRejected=!0,tQ.isFinished=!0,AQ(iQ))}}),tQ}const TI=new Map,SI=new Map,gI=new Map;let RI=function(tQ){return tQ.WIN_10="Windows 10",tQ.WIN_81="Windows 8.1",tQ.WIN_8="Windows 8",tQ.WIN_7="Windows 7",tQ.WIN_VISTA="Windows Vista",tQ.WIN_SERVER_2003="Windows Server 2003",tQ.WIN_XP="Windows XP",tQ.WIN_2000="Windows 2000",tQ.ANDROID="Android",tQ.HARMONY_OS="HarmonyOS",tQ.OPEN_BSD="Open BSD",tQ.SUN_OS="Sun OS",tQ.LINUX="Linux",tQ.IOS="iOS",tQ.MAC_OS="Mac OS",tQ.CHROMIUM_OS="Chromium OS",tQ.QNX="QNX",tQ.UNIX="UNIX",tQ.BEOS="BeOS",tQ.OS_2="OS/2",tQ.SEARCH_BOT="Search Bot",tQ}({}),CI=function(tQ){return tQ.CHROME="Chrome",tQ.SAFARI="Safari",tQ.EDGE="Edge",tQ.FIREFOX="Firefox",tQ.OPERA="OPR",tQ.QQ="QQBrowser",tQ.WECHAT="MicroMessenger",tQ}({});const II=new dE;let vI=II.getResult(),yI=null;function AI(tQ){if(!yI){tQ&&II.setUA(tQ),vI=II.getResult();const eQ=function(sQ){if(sQ.engine.name==="Blink"&&sQ.browser.name!=="WeChat")return CI.CHROME;switch(sQ.browser.name){case"Chrome Headless":case"Chrome":case"Chromium":return CI.CHROME;case"Safari":case"Mobile Safari":return CI.SAFARI;case"Edge":return CI.EDGE;case"Firefox":return CI.FIREFOX;case"QQ":case"QQBrowser":return CI.QQ;case"Opera":return CI.OPERA;case"WeChat":return CI.WECHAT;default:return sQ.browser.name||""}}(vI),AQ=bI(vI),iQ=function(sQ){return sQ.os.name==="Windows"?sQ.os.version?sQ.os.name+" "+sQ.os.version:sQ.os.name:sQ.os.name||""}(vI),oQ=vI.os.version,rQ=bI(vI,!1),nQ=vI.device.type;if(!(eQ&&AQ&&iQ&&oQ))return{name:eQ,version:AQ,os:iQ,osVersion:oQ,browserVersion:rQ,deviceType:nQ};yI={name:eQ,version:AQ,os:iQ,osVersion:oQ,browserVersion:rQ,deviceType:nQ}}return yI}function bI(tQ){let eQ,AQ=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return eQ=tQ.engine.name==="Blink"?tQ.engine.version||"":tQ.browser.version||"",AQ?eQ.split(".")[0]:eQ}function wI(){return AI().os}function OI(){const tQ=AI();return"".concat(tQ.os," ").concat(tQ.osVersion)}function NI(){const tQ=AI();return!!(vI.engine.name==="WebKit"&&tQ.os===RI.MAC_OS&&navigator.maxTouchPoints&&navigator.maxTouchPoints>0&&tQ.name!==CI.SAFARI||MI()&&tQ.name!==CI.SAFARI)}function DI(){return AI().name===CI.CHROME}function PI(){return AI().name===CI.SAFARI}function LI(){return AI().name===CI.EDGE}function kI(){return AI().name===CI.FIREFOX}function MI(){return AI().os===RI.IOS}function UI(tQ){const eQ=AI();return!(eQ.name!==CI.CHROME||!eQ.osVersion)&&Number(eQ.version)>=tQ}function xI(tQ){const eQ=AI();return!(eQ.name!==CI.CHROME||!eQ.osVersion)&&Number(eQ.version)<tQ}function VI(tQ){const eQ=AI();return!(eQ.name!==CI.EDGE||!eQ.osVersion)&&Number(eQ.version)>=tQ}function FI(tQ){const eQ=AI();return!(eQ.name!==CI.SAFARI||!eQ.osVersion)&&Number(eQ.version)>=tQ}function BI(tQ,eQ,AQ){const iQ=AI();if(iQ.os!==RI.IOS||!iQ.osVersion)return!1;const oQ=iQ.osVersion.split(".");return AQ?eQ&&Number(oQ[0])===tQ&&Number(oQ[1])<eQ||Number(oQ[0])<tQ:eQ?Number(oQ[0])===tQ&&Number(oQ[1])<=eQ||Number(oQ[0])<tQ:Number(oQ[0])<=tQ}function jI(tQ,eQ,AQ){const iQ=AI();if(iQ.name!==CI.SAFARI||!iQ.osVersion||!iQ.browserVersion)return!1;const oQ=iQ.browserVersion.split(".");return AQ?eQ&&Number(oQ[0])===tQ&&Number(oQ[1])<eQ||Number(oQ[0])<tQ:eQ?Number(oQ[0])===tQ&&Number(oQ[1])<=eQ||Number(oQ[0])<tQ:Number(oQ[0])<=tQ}function GI(tQ){const eQ=AI();return!(eQ.name!==CI.OPERA||!eQ.osVersion)&&Number(eQ.version)>=tQ}function WI(){const tQ=AI();if(tQ.os!==RI.IOS||!tQ.osVersion)return!1;const eQ=tQ.osVersion.split(".");return Number(eQ[0])<14||Number(eQ[0])===14&&Number(eQ[1])<=6}function HI(){const tQ=AI();if(tQ.os!==RI.IOS||!tQ.osVersion)return!1;const eQ=tQ.osVersion.split(".");return Number(eQ[0])===15}function KI(){const tQ=AI();if(tQ.os!==RI.IOS||!tQ.osVersion)return!1;const eQ=tQ.osVersion.split(".");return Number(eQ[0])===16}function YI(){const tQ=AI();if(tQ.os!==RI.IOS||!tQ.osVersion)return!1;const eQ=tQ.osVersion.split(".");return Number(eQ[0])===15&&Number(eQ[1])>=1}function qI(){return PI()&&navigator.maxTouchPoints>0}function zI(){return AI().name===CI.WECHAT}function JI(){return window.navigator.appVersion&&window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)!==null&&window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)[1]<=35}function XI(){const tQ=wI();return function(){const{deviceType:eQ}=AI();return eQ==="mobile"||eQ==="tablet"}()||tQ===RI.ANDROID||tQ===RI.IOS||tQ===RI.HARMONY_OS}function QI(){const tQ=AI();return tQ.name!==CI.EDGE&&tQ.name!==CI.SAFARI&&!!navigator.userAgent.toLocaleLowerCase().match(/chrome\/[\d]./i)}function ZI(){return wI()===RI.ANDROID}function $I(){const tQ=AI();return ZI()&&(tQ.name===CI.CHROME||tQ.name===CI.WECHAT||/chrome|chromium/i.test(navigator.userAgent))}function ev(tQ,eQ,AQ){return(eQ=function(iQ){var oQ=function(rQ,nQ){if(typeof rQ!="object"||!rQ)return rQ;var sQ=rQ[Symbol.toPrimitive];if(sQ!==void 0){var aQ=sQ.call(rQ,"string");if(typeof aQ!="object")return aQ;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(rQ)}(iQ);return typeof oQ=="symbol"?oQ:oQ+""}(eQ))in tQ?Object.defineProperty(tQ,eQ,{value:AQ,enumerable:!0,configurable:!0,writable:!0}):tQ[eQ]=AQ,tQ}function tv(tQ,eQ){var AQ=Object.keys(tQ);if(Object.getOwnPropertySymbols){var iQ=Object.getOwnPropertySymbols(tQ);eQ&&(iQ=iQ.filter(function(oQ){return Object.getOwnPropertyDescriptor(tQ,oQ).enumerable})),AQ.push.apply(AQ,iQ)}return AQ}function iv(tQ){for(var eQ=1;eQ<arguments.length;eQ++){var AQ=arguments[eQ]!=null?arguments[eQ]:{};eQ%2?tv(Object(AQ),!0).forEach(function(iQ){ev(tQ,iQ,AQ[iQ])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tQ,Object.getOwnPropertyDescriptors(AQ)):tv(Object(AQ)).forEach(function(iQ){Object.defineProperty(tQ,iQ,Object.getOwnPropertyDescriptor(AQ,iQ))})}return tQ}let nv=function(tQ){return tQ.UNEXPECTED_ERROR="UNEXPECTED_ERROR",tQ.UNEXPECTED_RESPONSE="UNEXPECTED_RESPONSE",tQ.TIMEOUT="TIMEOUT",tQ.INVALID_PARAMS="INVALID_PARAMS",tQ.NOT_READABLE="NOT_READABLE",tQ.NOT_SUPPORTED="NOT_SUPPORTED",tQ.INVALID_OPERATION="INVALID_OPERATION",tQ.OPERATION_ABORTED="OPERATION_ABORTED",tQ.WEB_SECURITY_RESTRICT="WEB_SECURITY_RESTRICT",tQ.EXCHANGE_SDP_FAILED="EXCHANGE_SDP_FAILED",tQ.ADD_CANDIDATE_FAILED="ADD_CANDIDATE_FAILED",tQ.DATACHANNEL_FAILED="DATACHANNEL_FAILED",tQ.NETWORK_ERROR="NETWORK_ERROR",tQ.NETWORK_TIMEOUT="NETWORK_TIMEOUT",tQ.NETWORK_RESPONSE_ERROR="NETWORK_RESPONSE_ERROR",tQ.API_INVOKE_TIMEOUT="API_INVOKE_TIMEOUT",tQ.ENUMERATE_DEVICES_FAILED="ENUMERATE_DEVICES_FAILED",tQ.DEVICE_NOT_FOUND="DEVICE_NOT_FOUND",tQ.ELECTRON_IS_NULL="ELECTRON_IS_NULL",tQ.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR="ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR",tQ.CHROME_PLUGIN_NO_RESPONSE="CHROME_PLUGIN_NO_RESPONSE",tQ.CHROME_PLUGIN_NOT_INSTALL="CHROME_PLUGIN_NOT_INSTALL",tQ.MEDIA_OPTION_INVALID="MEDIA_OPTION_INVALID",tQ.PERMISSION_DENIED="PERMISSION_DENIED",tQ.CONSTRAINT_NOT_SATISFIED="CONSTRAINT_NOT_SATISFIED",tQ.TRACK_IS_DISABLED="TRACK_IS_DISABLED",tQ.GET_VIDEO_ELEMENT_VISIBLE_ERROR="GET_VIDEO_ELEMENT_VISIBLE_ERROR",tQ.SHARE_AUDIO_NOT_ALLOWED="SHARE_AUDIO_NOT_ALLOWED",tQ.LOW_STREAM_ENCODING_ERROR="LOW_STREAM_ENCODING_ERROR",tQ.SET_ENCODING_PARAMETER_ERROR="SET_ENCODING_PARAMETER_ERROR",tQ.TRACK_STATE_UNREACHABLE="TRACK_STATE_UNREACHABLE",tQ.INVALID_UINT_UID_FROM_STRING_UID="INVALID_UINT_UID_FROM_STRING_UID",tQ.CAN_NOT_GET_PROXY_SERVER="CAN_NOT_GET_PROXY_SERVER",tQ.CAN_NOT_GET_GATEWAY_SERVER="CAN_NOT_GET_GATEWAY_SERVER",tQ.VOID_GATEWAY_ADDRESS="VOID_GATEWAY_ADDRESS",tQ.UID_CONFLICT="UID_CONFLICT",tQ.MULTI_UNILBS_RESPONSE_ERROR="MULTI_UNILBS_RESPONSE_ERROR",tQ.UPDATE_TICKET_FAILED="UPDATE_TICKET_FAILED",tQ.INVALID_LOCAL_TRACK="INVALID_LOCAL_TRACK",tQ.INVALID_TRACK="INVALID_TRACK",tQ.SENDER_NOT_FOUND="SENDER_NOT_FOUND",tQ.CREATE_OFFER_FAILED="CREATE_OFFER_FAILED",tQ.SET_ANSWER_FAILED="SET_ANSWER_FAILED",tQ.ICE_FAILED="ICE_FAILED",tQ.PC_CLOSED="PC_CLOSED",tQ.SENDER_REPLACE_FAILED="SENDER_REPLACE_FAILED",tQ.GET_LOCAL_CAPABILITIES_FAILED="GET_LOCAL_CAPABILITIES_FAILED",tQ.GET_LOCAL_CONNECTION_PARAMS_FAILED="GET_LOCAL_CONNECTION_PARAMS_FAILED",tQ.SUBSCRIBE_FAILED="SUBSCRIBE_FAILED",tQ.UNSUBSCRIBE_FAILED="UNSUBSCRIBE_FAILED",tQ.GATEWAY_P2P_LOST="GATEWAY_P2P_LOST",tQ.NO_ICE_CANDIDATE="NO_ICE_CANDIDATE",tQ.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS="CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS",tQ.EXIST_DISABLED_VIDEO_TRACK="EXIST_DISABLED_VIDEO_TRACK",tQ.INVALID_REMOTE_USER="INVALID_REMOTE_USER",tQ.REMOTE_USER_IS_NOT_PUBLISHED="REMOTE_USER_IS_NOT_PUBLISHED",tQ.CUSTOM_REPORT_SEND_FAILED="CUSTOM_REPORT_SEND_FAILED",tQ.CUSTOM_REPORT_FREQUENCY_TOO_HIGH="CUSTOM_REPORT_FREQUENCY_TOO_HIGH",tQ.FETCH_AUDIO_FILE_FAILED="FETCH_AUDIO_FILE_FAILED",tQ.READ_LOCAL_AUDIO_FILE_ERROR="READ_LOCAL_AUDIO_FILE_ERROR",tQ.DECODE_AUDIO_FILE_FAILED="DECODE_AUDIO_FILE_FAILED",tQ.WS_ABORT="WS_ABORT",tQ.WS_DISCONNECT="WS_DISCONNECT",tQ.WS_ERR="WS_ERR",tQ.EXTERNAL_SIGNAL_ABORT="EXTERNAL_SIGNAL_ABORT",tQ.LIVE_STREAMING_TASK_CONFLICT="LIVE_STREAMING_TASK_CONFLICT",tQ.LIVE_STREAMING_INVALID_ARGUMENT="LIVE_STREAMING_INVALID_ARGUMENT",tQ.LIVE_STREAMING_INTERNAL_SERVER_ERROR="LIVE_STREAMING_INTERNAL_SERVER_ERROR",tQ.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED="LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED",tQ.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED="LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED",tQ.LIVE_STREAMING_CDN_ERROR="LIVE_STREAMING_CDN_ERROR",tQ.LIVE_STREAMING_INVALID_RAW_STREAM="LIVE_STREAMING_INVALID_RAW_STREAM",tQ.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT="LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT",tQ.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE="LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE",tQ.LIVE_STREAMING_WARN_FREQUENT_REQUEST="LIVE_STREAMING_WARN_FREQUENT_REQUEST",tQ.WEBGL_INTERNAL_ERROR="WEBGL_INTERNAL_ERROR",tQ.BEAUTY_PROCESSOR_INTERNAL_ERROR="BEAUTY_PROCESSOR_INTERNAL_ERROR",tQ.CROSS_CHANNEL_WAIT_STATUS_ERROR="CROSS_CHANNEL_WAIT_STATUS_ERROR",tQ.CROSS_CHANNEL_FAILED_JOIN_SRC="CROSS_CHANNEL_FAILED_JOIN_SEC",tQ.CROSS_CHANNEL_FAILED_JOIN_DEST="CROSS_CHANNEL_FAILED_JOIN_DEST",tQ.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST="CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST",tQ.CROSS_CHANNEL_SERVER_ERROR_RESPONSE="CROSS_CHANNEL_SERVER_ERROR_RESPONSE",tQ.METADATA_OUT_OF_RANGE="METADATA_OUT_OF_RANGE",tQ.LOCAL_AEC_ERROR="LOCAL_AEC_ERROR",tQ.INVALID_PLUGIN="INVALID_PLUGIN",tQ.DISCONNECT_P2P="DISCONNECT_P2P",tQ.CONVERTING_IMAGEDATA_TO_BLOB_FAILED="CONVERTING_IMAGEDATA_TO_BLOB_FAILED",tQ.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED="CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED",tQ.INIT_DATACHANNEL_TIMEOUT="INIT_DATACHANNEL_TIMEOUT",tQ.CREATE_DATACHANNEL_ERROR="CREATE_DATACHANNEL_ERROR",tQ.DATACHANNEL_CONNECTION_TIMEOUT="DATACHANNEL_CONNECTION_TIMEOUT",tQ.PROHIBITED_OPERATION="PROHIBITED_OPERATION",tQ.IMAGE_MODERATION_UPLOAD_FAILED="IMAGE_MODERATION_UPLOAD_FAILED",tQ.P2P_MESSAGE_FAILED="P2P_MESSAGE_FAILED",tQ}({}),rv=class extends Error{constructor(tQ){let eQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",AQ=arguments.length>2?arguments[2]:void 0;super(eQ),ev(this,"code",void 0),ev(this,"message",void 0),ev(this,"data",void 0),ev(this,"name","AgoraRTCException"),this.code=tQ,this.message="AgoraRTCError ".concat(this.code,": ").concat(eQ),this.data=AQ}toString(){return this.data?"data: ".concat(JSON.stringify(this.data),`
`).concat(this.stack):"".concat(this.stack)}print(){let tQ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"error",eQ=arguments.length>1?arguments[1]:void 0;return tQ==="error"&&(eQ||console).error(this.toString()),tQ==="warning"&&(eQ||console).warn(this.toString()),this}throw(tQ){throw this.print("error",tQ),this}};function ov(tQ,eQ){if(typeof tQ!="boolean")throw new rv(nv.INVALID_PARAMS,"Invalid ".concat(eQ,": The value is of the boolean type."))}function sv(tQ,eQ,AQ){if(!Dn(AQ).call(AQ,tQ))throw new rv(nv.INVALID_PARAMS,"".concat(eQ," can only be set as ").concat(JSON.stringify(AQ)))}function av(tQ,eQ){let AQ=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,iQ=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1e4;if(tQ<AQ||tQ>iQ||(!(arguments.length>4&&arguments[4]!==void 0)||arguments[4])&&!function(oQ){return typeof oQ=="number"&&oQ%1==0}(tQ))throw new rv(nv.INVALID_PARAMS,"invalid ".concat(eQ,": the value range is [").concat(AQ,", ").concat(iQ,"]. integer only"))}function cv(tQ,eQ){if(typeof tQ!="number"){if(!(tQ.min||tQ.max||tQ.ideal||tQ.exact))throw new rv(nv.INVALID_PARAMS,"".concat(eQ," is not a valid ConstrainLong"));tQ.min!==void 0&&av(tQ.min,"".concat(eQ,".min"),0,1/0),tQ.max!==void 0&&av(tQ.max,"".concat(eQ,".max"),1,1/0),tQ.exact!==void 0&&av(tQ.exact,"".concat(eQ,".exact"),1,1/0),tQ.ideal!==void 0&&av(tQ.ideal,"".concat(eQ,".ideal"),1,1/0)}else av(tQ,eQ,1,1/0)}function dv(tQ,eQ){let AQ=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,iQ=arguments.length>3&&arguments[3]!==void 0?arguments[3]:255,oQ=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(tQ==null)throw new rv(nv.INVALID_PARAMS,"".concat(eQ||"param"," cannot be empty"));if(!hv(tQ,AQ,iQ,oQ))throw new rv(nv.INVALID_PARAMS,"Invalid ".concat(eQ||"string param",": Length of the string: [").concat(AQ,",").concat(iQ,"].").concat(oQ?" ASCII characters only.":""))}function lv(tQ,eQ){if(!Array.isArray(tQ))throw new rv(nv.INVALID_PARAMS,"".concat(eQ," should be an array"))}function uv(tQ){return tQ==null}function hv(tQ){let eQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,AQ=arguments.length>2&&arguments[2]!==void 0?arguments[2]:255,iQ=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];return typeof tQ=="string"&&tQ.length<=AQ&&tQ.length>=eQ&&(!iQ||function(oQ){if(typeof oQ!="string")return!1;for(let rQ=0;rQ<oQ.length;rQ+=1){const nQ=oQ.charCodeAt(rQ);if(nQ<0||nQ>255)return!1}return!0}(tQ))}var pv=function(tQ){return tQ.COVERED="COVERED",tQ.POSITION="POSITION",tQ.SIZE="SIZE",tQ.STYLE="STYLE",tQ}(pv||{}),_v=function(tQ){return tQ.UNMOUNTED="UNMOUNTED",tQ.INVALID_HTML_ELEMENT="INVALID_HTML_ELEMENT",tQ}(_v||{});const Ev=new class{constructor(){ev(this,"_clientSize",null),ev(this,"getClientWidth",()=>document.documentElement?document.documentElement.clientWidth:document.body.clientWidth),ev(this,"getClientHeight",()=>document.documentElement?document.documentElement.clientHeight:document.body.clientHeight),ev(this,"getStyle",tQ=>window.getComputedStyle(tQ,null)),ev(this,"checkCssVisibleProperty",tQ=>{var eQ;let AQ=!0;const iQ=this.getStyle(tQ),{display:oQ,visibility:rQ,opacity:nQ,filter:sQ}=iQ;return(oQ==="none"||Dn(eQ=["hidden","collapse"]).call(eQ,rQ)||Number(nQ)<.1)&&(AQ=!1),!!AQ&&(sQ&&sQ.split(" ").filter(aQ=>{var cQ;const gQ=aQ.split("(")[0];return Dn(cQ=["brightness","blur","opacity"]).call(cQ,gQ)}).map(aQ=>{const[cQ,gQ]=aQ.split(/\(|\)/);return[cQ,Number(gQ.match(/^[0-9\.]+/))]}).forEach(aQ=>{const[cQ,gQ]=aQ;switch(cQ){case"brightness":(gQ<.1||gQ>3)&&(AQ=!1);break;case"blur":gQ>3&&(AQ=!1);break;case"opacity":gQ<.1&&(AQ=!1)}}),AQ)}),ev(this,"checkPropertyUpToAllParentNodes",(tQ,eQ)=>{let AQ=!0,iQ=!0;const oQ=nQ=>eQ(nQ);let rQ=tQ;for(;rQ&&iQ;)oQ(rQ)||(AQ=!1,iQ=!1),rQ=rQ.parentElement,rQ||(iQ=!1);return AQ}),ev(this,"checkActualCssVisibleIncludeInherit",tQ=>this.checkPropertyUpToAllParentNodes(tQ,this.checkCssVisibleProperty)),ev(this,"getSizeAboutClient",tQ=>{const{width:eQ,height:AQ,left:iQ,right:oQ,top:rQ,bottom:nQ}=tQ.getBoundingClientRect(),sQ=this.getClientWidth(),aQ=this.getClientHeight();return{width:eQ,height:AQ,left:iQ,right:oQ,top:rQ,bottom:nQ,clientWidth:sQ,clientHeight:aQ,clientMin:Math.min(sQ,aQ)}}),ev(this,"checkActualSize",()=>{const{width:tQ,height:eQ,clientMin:AQ}=this._clientSize;return this.checkSizeIsVisible(tQ,eQ,AQ)}),ev(this,"elementFromPoint",(tQ,eQ)=>document.elementFromPoint?document.elementFromPoint(tQ,eQ):null),ev(this,"checkCoverForAPoint",(tQ,eQ,AQ)=>{const iQ=this.elementFromPoint(tQ,eQ);return iQ!==null&&iQ!==AQ}),ev(this,"getPointPositionList",()=>{const{width:tQ,height:eQ,left:AQ,top:iQ}=this._clientSize,oQ=tQ/6,rQ=eQ/6,nQ=[],sQ=10**6;for(let aQ=0;aQ<5;aQ++)for(let cQ=0;cQ<5;cQ++){const gQ=(AQ*sQ+(aQ===0?.1:aQ===4?(oQ*aQ*sQ-1e5)/sQ:oQ*aQ)*sQ)/sQ,IQ=(iQ*sQ+(cQ===0?.1:cQ===4?(rQ*cQ*sQ-1e5)/sQ:rQ*cQ)*sQ)/sQ;nQ.push({x:gQ,y:IQ})}return[...nQ]}),ev(this,"checkElementCover",tQ=>this.getPointPositionList().map(eQ=>this.checkCoverForAPoint(eQ.x,eQ.y,tQ)).filter(eQ=>!!eQ).length>6),ev(this,"checkSizeIsVisible",(tQ,eQ,AQ)=>(tQ>50||AQ/tQ<=10)&&(eQ>50||AQ/eQ<=10)),ev(this,"checkSizeOfPartInClient",()=>{const{left:tQ,right:eQ,top:AQ,bottom:iQ,clientHeight:oQ,clientWidth:rQ,clientMin:nQ}=this._clientSize;let sQ,aQ,cQ,gQ;if(tQ<0)sQ=0;else{if(!(tQ<rQ))return!1;sQ=tQ}if(eQ<0)return!1;if(aQ=eQ<rQ?eQ:rQ,AQ<0)cQ=0;else{if(!(AQ<oQ))return!1;cQ=AQ}if(iQ<0)return!1;gQ=iQ<oQ?iQ:oQ;const IQ=aQ-sQ,EQ=gQ-cQ;return this.checkSizeIsVisible(IQ,EQ,nQ)}),ev(this,"returnHiddenResult",tQ=>(this._clientSize=null,{visible:!1,reason:tQ})),ev(this,"checkOneElementVisible",tQ=>{if(tQ instanceof HTMLElement){if(this.checkElementIsMountedOnDom(tQ)){if(this.checkActualCssVisibleIncludeInherit(tQ)){if(this._clientSize=this.getSizeAboutClient(tQ),this.checkElementCover(tQ))return this.returnHiddenResult(pv.COVERED);{const eQ=this.checkActualSize(),AQ=this.checkSizeOfPartInClient();return eQ&&!AQ?this.returnHiddenResult(pv.POSITION):eQ?(this._clientSize=null,{visible:!0}):this.returnHiddenResult(pv.SIZE)}}return this.returnHiddenResult(pv.STYLE)}return this.returnHiddenResult(_v.UNMOUNTED)}return this.returnHiddenResult(_v.INVALID_HTML_ELEMENT)}),ev(this,"checkElementIsMountedOnDom",tQ=>this.checkPropertyUpToAllParentNodes(tQ,eQ=>eQ.nodeName.toUpperCase()!=="HTML"?eQ.parentElement!==null:!!document.documentElement))}};function mv(tQ){return new TextEncoder().encode(tQ)}const fv=function(tQ,eQ){const AQ=new Uint8Array(tQ.byteLength+eQ.byteLength);return AQ.set(new Uint8Array(tQ),0),AQ.set(new Uint8Array(eQ),tQ.byteLength),AQ},Tv=async tQ=>function(eQ,AQ){let iQ="";return new Uint8Array(eQ).forEach(oQ=>{iQ+=oQ.toString(AQ).padStart(2,"0")}),iQ}(await crypto.subtle.digest("SHA-256",mv(tQ)),16);let Sv=class{constructor(){ev(this,"_events",{}),ev(this,"addListener",this.on)}getListeners(tQ){return this._events[tQ]?this._events[tQ].map(eQ=>eQ.listener):[]}on(tQ,eQ){this._events[tQ]||(this._events[tQ]=[]);const AQ=this._events[tQ];this._indexOfListener(AQ,eQ)===-1&&AQ.push({listener:eQ,once:!1})}once(tQ,eQ){this._events[tQ]||(this._events[tQ]=[]);const AQ=this._events[tQ];this._indexOfListener(AQ,eQ)===-1&&AQ.push({listener:eQ,once:!0})}off(tQ,eQ){if(!this._events[tQ])return;const AQ=this._events[tQ],iQ=this._indexOfListener(AQ,eQ);iQ!==-1&&AQ.splice(iQ,1),this._events[tQ].length===0&&delete this._events[tQ]}removeAllListeners(tQ){tQ?delete this._events[tQ]:this._events={}}emit(tQ){this._events[tQ]||(this._events[tQ]=[]);const eQ=this._events[tQ].map(rQ=>rQ);for(var AQ=arguments.length,iQ=new Array(AQ>1?AQ-1:0),oQ=1;oQ<AQ;oQ++)iQ[oQ-1]=arguments[oQ];for(let rQ=0;rQ<eQ.length;rQ+=1){const nQ=eQ[rQ];nQ.once&&this.off(tQ,nQ.listener),nQ.listener.apply(this,iQ||[])}}safeEmit(tQ){for(var eQ=arguments.length,AQ=new Array(eQ>1?eQ-1:0),iQ=1;iQ<eQ;iQ++)AQ[iQ-1]=arguments[iQ];[...this._events[tQ]||[]].forEach(oQ=>{oQ.once&&this.off(tQ,oQ.listener);try{oQ.listener.apply(this,AQ)}catch(rQ){console.error("safeEmit event:".concat(tQ," error ").concat(rQ==null?void 0:rQ.toString()))}})}_indexOfListener(tQ,eQ){let AQ=tQ.length;for(;AQ--;)if(tQ[AQ].listener===eQ)return AQ;return-1}},gv=null;function Rv(){if(gv)return gv;if(window.electron)return gv=window.electron;if(!window.require)return null;try{return gv=window.require("electron"),gv}catch{return null}}let Cv=function(tQ){return tQ.CREATE_CLIENT="createClient",tQ.CHECK_SYSTEM_REQUIREMENTS="checkSystemRequirements",tQ.SET_AREA="setArea",tQ.PRELOAD="PRELOAD",tQ.CHECK_VIDEO_TRACK_IS_ACTIVE="checkVideoTrackIsActive",tQ.CHECK_AUDIO_TRACK_IS_ACTIVE="checkAudioTrackIsActive",tQ.CREATE_MIC_AUDIO_TRACK="createMicrophoneAudioTrack",tQ.CREATE_CUSTOM_AUDIO_TRACK="createCustomAudioTrack",tQ.CREATE_BUFFER_AUDIO_TRACK="createBufferSourceAudioTrack",tQ.CREATE_CAM_VIDEO_TRACK="createCameraVideoTrack",tQ.CREATE_CUSTOM_VIDEO_TRACK="createCustomVideoTrack",tQ.CREATE_MIC_AND_CAM_TRACKS="createMicrophoneAndCameraTracks",tQ.CREATE_SCREEN_VIDEO_TRACK="createScreenVideoTrack",tQ.SET_ENCRYPTION_CONFIG="Client.setEncryptionConfig",tQ.START_PROXY_SERVER="Client.startProxyServer",tQ.STOP_PROXY_SERVER="Client.stopProxyServer",tQ.SET_PROXY_SERVER="Client.setProxyServer",tQ.SET_TURN_SERVER="Client.setTurnServer",tQ.SET_CLIENT_ROLE="Client.setClientRole",tQ.SET_LOW_STREAM_PARAMETER="Client.setLowStreamParameter",tQ.ENABLE_DUAL_STREAM="Client.enableDualStream",tQ.DISABLE_DUAL_STREAM="Client.disableDualStream",tQ.JOIN="Client.join",tQ.LEAVE="Client.leave",tQ.PUBLISH="Client.publish",tQ.UNPUBLISH="Client.unpublish",tQ.SUBSCRIBE="Client.subscribe",tQ.MASS_SUBSCRIBE="Client.massSubscribe",tQ.MASS_UNSUBSCRIBE="Client.massUnsubscribe",tQ.UNSUBSCRIBE="Client.unsubscribe",tQ.RENEW_TOKEN="Client.renewToken",tQ.SET_REMOTE_VIDEO_STREAM_TYPE="Client.setRemoteVideoStreamType",tQ.SET_STREAM_FALLBACK_OPTION="Client.setStreamFallbackOption",tQ.ENABLE_AUDIO_VOLUME_INDICATOR="Client.enableAudioVolumeIndicator",tQ.SEND_CUSTOM_REPORT_MESSAGE="Client.sendCustomReportMessage",tQ.INSPECT_VIDEO_CONTENT="Client.inspectVideoContent",tQ.STOP_INSPECT_VIDEO_CONTENT="Client.stopInspectVideoContent",tQ.JOIN_FALLBACK_TO_PROXY="Client._joinFallbackToProxy",tQ.ON_LIVE_STREAM_WARNING="Client.onLiveStreamWarning",tQ.ON_LIVE_STREAM_ERROR="Client.onLiveStreamingError",tQ.START_LIVE_STREAMING="Client.startLiveStreaming",tQ.SET_LIVE_TRANSCODING="Client.setLiveTranscoding",tQ.STOP_LIVE_STREAMING="Client.stopLiveStreaming",tQ.START_CHANNEL_MEDIA_RELAY="Client.startChannelMediaRelay",tQ.UPDATE_CHANNEL_MEDIA_RELAY="Client.updateChannelMediaRelay",tQ.STOP_CHANNEL_MEDIA_RELAY="Client.stopChannelMediaRelay",tQ.REQUEST_CONFIG_DISTRIBUTE="_config-distribute-request",tQ.SET_CONFIG_DISTRIBUTE="_configDistribute",tQ.LOCAL_TRACK_SET_MUTED="LocalTrack.setMute",tQ.LOCAL_AUDIO_TRACK_PLAY="LocalAudioTrack.play",tQ.LOCAL_AUDIO_TRACK_PLAY_IN_ELEMENT="LocalAudioTrack.playInElement",tQ.LOCAL_AUDIO_TRACK_STOP="LocalAudioTrack.stop",tQ.LOCAL_AUDIO_TRACK_SET_VOLUME="LocalAudioTrack.setVolume",tQ.MIC_AUDIO_TRACK_SET_DEVICE="MicrophoneAudioTrack.setDevice",tQ.BUFFER_AUDIO_TRACK_START="BufferSourceAudioTrack.startProcessAudioBuffer",tQ.BUFFER_AUDIO_TRACK_STOP="BufferSourceAudioTrack.stopProcessAudioBuffer",tQ.BUFFER_AUDIO_TRACK_PAUSE="BufferSourceAudioTrack.pauseProcessAudioBuffer",tQ.BUFFER_AUDIO_TRACK_RESUME="BufferSourceAudioTrack.resumeProcessAudioBuffer",tQ.BUFFER_AUDIO_TRACK_SEEK="BufferSourceAudioTrack.seekAudioBuffer",tQ.LOCAL_VIDEO_TRACK_PLAY="LocalVideoTrack.play",tQ.LOCAL_VIDEO_TRACK_STOP="LocalVideoTrack.stop",tQ.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE="LocalVideoTrack.getVideoElementVisibleStatus",tQ.LOCAL_VIDEO_TRACK_BEAUTY="LocalVideoTrack.setBeautyEffect",tQ.LOCAL_VIDEO_SEND_SEI_DATA="LocalVideoTrack.sendSeiData",tQ.CAM_VIDEO_TRACK_SET_DEVICE="CameraVideoTrack.setDevice",tQ.CAM_VIDEO_TRACK_SET_ENCODER_CONFIG="CameraVideoTrack.setEncoderConfiguration",tQ.REMOTE_VIDEO_TRACK_PLAY="RemoteVideoTrack.play",tQ.REMOTE_VIDEO_TRACK_STOP="RemoteVideoTrack.stop",tQ.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE="RemoteVideoTrack.getVideoElementVisibleStatus",tQ.REMOTE_AUDIO_TRACK_PLAY="RemoteAudioTrack.play",tQ.REMOTE_AUDIO_TRACK_STOP="RemoteAudioTrack.stop",tQ.REMOTE_AUDIO_SET_VOLUME="RemoteAudioTrack.setVolume",tQ.REMOTE_AUDIO_SET_OUTPUT_DEVICE="RemoteAudioTrack.setOutputDevice",tQ.GET_MEDIA_STREAM_TRACK="Track.getMediaStreamTrack",tQ.STREAM_TYPE_CHANGE="streamTypeChange",tQ.CONNECTION_STATE_CHANGE="connectionStateChange",tQ.LOAD_CONFIG_FROM_LOCALSTORAGE="loadConfigFromLocalStorage",tQ.IMAGE_MODERATION_UPLOAD="imageModerationUpload",tQ}({}),Iv=function(tQ){return tQ.TRACER="tracer",tQ}({});function vv(tQ){return av(tQ.timeout,"config.timeout",0,1e5),av(tQ.timeoutFactor,"config.timeoutFactor",0,100,!1),av(tQ.maxRetryCount,"config.maxRetryConfig",0,1/0),av(tQ.maxRetryTimeout,"config.maxRetryTimeout",0,1/0),!0}let yv=function(tQ){return tQ[tQ.AUDIENCE_LEVEL_LOW_LATENCY=1]="AUDIENCE_LEVEL_LOW_LATENCY",tQ[tQ.AUDIENCE_LEVEL_ULTRA_LOW_LATENCY=2]="AUDIENCE_LEVEL_ULTRA_LOW_LATENCY",tQ[tQ.AUDIENCE_LEVEL_SYNC_LATENCY=3]="AUDIENCE_LEVEL_SYNC_LATENCY",tQ}({}),Av=function(tQ){return tQ.LEAVE="LEAVE",tQ.NETWORK_ERROR="NETWORK_ERROR",tQ.SERVER_ERROR="SERVER_ERROR",tQ.UID_BANNED="UID_BANNED",tQ.FALLBACK="FALLBACK",tQ.IP_BANNED="IP_BANNED",tQ.CHANNEL_BANNED="CHANNEL_BANNED",tQ.LICENSE_MISSING="LICENSE_MISSING",tQ.LICENSE_EXPIRED="LICENSE_EXPIRED",tQ.LICENSE_MINUTES_EXCEEDED="LICENSE_MINUTES_EXCEEDED",tQ.LICENSE_PERIOD_INVALID="LICENSE_PERIOD_INVALID",tQ.LICENSE_MULTIPLE_SDK_SERVICE="LICENSE_MULTIPLE_SDK_SERVICE",tQ.LICENSE_ILLEGAL="LICENSE_ILLEGAL",tQ.TOKEN_EXPIRE="TOKEN_EXPIRE",tQ}({});function bv(tQ){if(!Array.isArray(tQ)||tQ.length<1)return!1;try{tQ.forEach(eQ=>{if(!eQ.urls)throw Error()})}catch{return!1}return!0}function wv(tQ){return dv(tQ.turnServerURL,"turnServerURL"),dv(tQ.username,"username"),dv(tQ.password,"password"),tQ.udpport&&av(tQ.udpport,"udpport",1,99999,!0),tQ.forceturn&&ov(tQ.forceturn,"forceturn"),tQ.security&&ov(tQ.security,"security"),tQ.tcpport&&av(tQ.tcpport,"tcpport",1,99999,!0),!0}function Ov(tQ){return tQ.level!==void 0&&sv(tQ.level,"level",[1,2,3]),tQ.delay!==void 0&&av(tQ.delay,"delay",0,3e3,!0),!0}let Nv=function(tQ){return tQ.CONNECTION_STATE_CHANGE="connection-state-change",tQ.MEDIA_RECONNECT_START="media-reconnect-start",tQ.MEDIA_RECONNECT_END="media-reconnect-end",tQ.IS_USING_CLOUD_PROXY="is-using-cloud-proxy",tQ.USER_JOINED="user-joined",tQ.USER_LEAVED="user-left",tQ.USER_PUBLISHED="user-published",tQ.USER_UNPUBLISHED="user-unpublished",tQ.USER_INFO_UPDATED="user-info-updated",tQ.CLIENT_BANNED="client-banned",tQ.CHANNEL_MEDIA_RELAY_STATE="channel-media-relay-state",tQ.CHANNEL_MEDIA_RELAY_EVENT="channel-media-relay-event",tQ.VOLUME_INDICATOR="volume-indicator",tQ.CRYPT_ERROR="crypt-error",tQ.ON_TOKEN_PRIVILEGE_WILL_EXPIRE="token-privilege-will-expire",tQ.ON_TOKEN_PRIVILEGE_DID_EXPIRE="token-privilege-did-expire",tQ.NETWORK_QUALITY="network-quality",tQ.STREAM_TYPE_CHANGED="stream-type-changed",tQ.STREAM_FALLBACK="stream-fallback",tQ.RECEIVE_METADATA="receive-metadata",tQ.STREAM_MESSAGE="stream-message",tQ.LIVE_STREAMING_ERROR="live-streaming-error",tQ.LIVE_STREAMING_WARNING="live-streaming-warning",tQ.EXCEPTION="exception",tQ.ERROR="error",tQ.P2P_LOST="p2p_lost",tQ.JOIN_FALLBACK_TO_PROXY="join-fallback-to-proxy",tQ.CHANNEL_FALLBACK_TO_WEBSOCKET="channel-fallback-to-websocket",tQ.MEDIA_CONNECTION_TYPE_CHANGE="media-connection-type-change",tQ.PUBLISHED_USER_LIST="published-user-list",tQ.CONTENT_INSPECT_CONNECTION_STATE_CHANGE="content-inspect-connection-state-change",tQ.CONTENT_INSPECT_ERROR="content-inspect-error",tQ.CONTENT_INSPECT_RESULT="content-inspect-result",tQ.IMAGE_MODERATION_CONNECTION_STATE_CHANGE="image-moderation-connection-state-change",tQ}({}),Dv=function(tQ){return tQ.NETWORK_ERROR="NETWORK_ERROR",tQ.SERVER_ERROR="SERVER_ERROR",tQ.MULTI_IP="MULTI_IP",tQ.TIMEOUT="TIMEOUT",tQ.OFFLINE="OFFLINE",tQ.LEAVE="LEAVE",tQ.P2P_FAILED="P2P_FAILED",tQ.FALLBACK="FALLBACK",tQ}({}),Pv=function(tQ){return tQ.ONLINE="ONLINE",tQ.OFFLINE="OFFLINE",tQ}({}),Lv=function(tQ){return tQ.NETWORK_STATE_CHANGE="NETWORK_STATE_CHANGE",tQ.ONLINE="ONLINE",tQ.OFFLINE="OFFLINE",tQ}({});function kv(tQ,eQ){for(var AQ=arguments.length,iQ=new Array(AQ>2?AQ-2:0),oQ=2;oQ<AQ;oQ++)iQ[oQ-2]=arguments[oQ];return tQ.getListeners(eQ).length===0?Gh.reject(new rv(nv.UNEXPECTED_ERROR,"can not emit promise")):new Gh((rQ,nQ)=>{tQ.emit(eQ,...iQ,rQ,nQ)})}function Mv(tQ,eQ){if(tQ.getListeners(eQ).length===0)return Gh.resolve();for(var AQ=arguments.length,iQ=new Array(AQ>2?AQ-2:0),oQ=2;oQ<AQ;oQ++)iQ[oQ-2]=arguments[oQ];return kv(tQ,eQ,...iQ)}function Uv(tQ,eQ){if(tQ.getListeners(eQ).length===0)return null;for(var AQ=arguments.length,iQ=new Array(AQ>2?AQ-2:0),oQ=2;oQ<AQ;oQ++)iQ[oQ-2]=arguments[oQ];return xv(tQ,eQ,...iQ)}function xv(tQ,eQ){let AQ=null,iQ=null;for(var oQ=arguments.length,rQ=new Array(oQ>2?oQ-2:0),nQ=2;nQ<oQ;nQ++)rQ[nQ-2]=arguments[nQ];if(tQ.emit(eQ,...rQ,sQ=>{AQ=sQ},sQ=>{iQ=sQ}),iQ!==null)throw iQ;if(AQ===null)throw new rv(nv.UNEXPECTED_ERROR,"handler is not sync");return AQ}const Vv=new class extends Sv{set networkState(tQ){this.emit(Lv.NETWORK_STATE_CHANGE,tQ,this._networkState),tQ===Pv.ONLINE?this.emit(Lv.ONLINE):tQ===Pv.OFFLINE&&(this.onlineWaiter=new Gh(eQ=>{this.once(Lv.ONLINE,()=>{this.onlineWaiter=void 0,eQ(Pv.ONLINE)})}),this.emit(Lv.OFFLINE)),this._networkState=tQ}get networkState(){return this._networkState}get isOnline(){return this._networkState===Pv.ONLINE}constructor(){super(),ev(this,"_moduleName","network-indicator"),ev(this,"_networkState",Pv.ONLINE),ev(this,"onlineWaiter",void 0),window.addEventListener("online",()=>{this.networkState=Pv.ONLINE}),window.addEventListener("offline",()=>{this.networkState=Pv.OFFLINE})}};function Fv(tQ,eQ){const AQ=tQ.indexOf(eQ);AQ!==-1&&tQ.splice(AQ,1)}function Bv(tQ){const eQ=[];return tQ.forEach(AQ=>{eQ.indexOf(AQ)===-1&&eQ.push(AQ)}),eQ}function jv(tQ){Gh!==void 0?Gh.resolve().then(tQ):setTimeout(tQ,0)}function Gv(tQ){return JSON.parse(JSON.stringify(tQ))}function Wv(tQ){try{return Gv(tQ)}catch{return tQ}}const Hv={};function Kv(tQ,eQ){Hv[eQ]||(Hv[eQ]=!0,tQ())}function Yv(tQ){const eQ=window.atob(tQ),AQ=new Uint8Array(new ArrayBuffer(eQ.length));for(let iQ=0;iQ<eQ.length;iQ+=1)AQ[iQ]=eQ.charCodeAt(iQ);return AQ}function qv(tQ){let eQ="";for(let AQ=0;AQ<tQ.length;AQ+=1)eQ+=String.fromCharCode(tQ[AQ]);return window.btoa(eQ)}function zv(tQ){let eQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:16,AQ=new TextEncoder().encode(tQ);if(AQ.length>eQ)AQ=AQ.slice(0,eQ);else if(AQ.length<eQ){const iQ=new Uint8Array(eQ);iQ.set(AQ),AQ=iQ}return AQ}function Jv(){for(var tQ=arguments.length,eQ=new Array(tQ),AQ=0;AQ<tQ;AQ++)eQ[AQ]=arguments[AQ];const iQ=Jn(eQ).call(eQ,(nQ,sQ)=>nQ+sQ.length,0),oQ=new Uint8Array(new ArrayBuffer(iQ));let rQ=0;return eQ.forEach(nQ=>{oQ.set(nQ,rQ),rQ+=nQ.length}),oQ}function Xv(tQ){return window.TextEncoder?new TextEncoder().encode(tQ).length:tQ.length}function Qv(tQ){let eQ=0;return(/DingTalk/i.test(navigator.userAgent)||/AliApp/i.test(navigator.userAgent))&&tQ.realFormData&&(tQ=tQ.realFormData),tQ.forEach(AQ=>{eQ+=typeof AQ=="string"?Xv(AQ):AQ.size}),eQ+138}function Zv(tQ){const eQ=new rv(nv.TIMEOUT,"timeout");return new Gh((AQ,iQ)=>{window.setTimeout(()=>iQ(eQ),tQ)})}function $v(tQ){return new Gh(eQ=>{window.setTimeout(eQ,tQ)})}function ey(){let tQ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:7,eQ=arguments.length>1?arguments[1]:void 0;const AQ=Math.random().toString(16).substr(2,tQ).toLowerCase();return AQ.length===tQ?"".concat(eQ).concat(AQ):"".concat(eQ).concat(AQ)+ey(tQ-AQ.length,"")}function ty(){return ey(32,"").toUpperCase()}const iy=()=>{},ny=new class{constructor(){ev(this,"fnMap",new Map)}throttleByKey(tQ,eQ,AQ,iQ){for(var oQ=arguments.length,rQ=new Array(oQ>4?oQ-4:0),nQ=4;nQ<oQ;nQ++)rQ[nQ-4]=arguments[nQ];if(this.fnMap.has(eQ)){const sQ=this.fnMap.get(eQ);if(sQ.threshold!==AQ){sQ.fn(...sQ.args),clearTimeout(sQ.timer);const aQ=window.setTimeout(()=>{const cQ=this.fnMap.get(eQ);cQ&&cQ.fn(...cQ.args),this.fnMap.delete(eQ)},AQ);this.fnMap.set(eQ,{fn:tQ,threshold:AQ,timer:aQ,args:rQ,skipFn:iQ})}else sQ.skipFn&&sQ.skipFn(...sQ.args),this.fnMap.set(eQ,iv(iv({},sQ),{},{fn:tQ,args:rQ,skipFn:iQ}))}else{const sQ=window.setTimeout(()=>{const aQ=this.fnMap.get(eQ);aQ&&aQ.fn(...aQ.args),this.fnMap.delete(eQ)},AQ);this.fnMap.set(eQ,{fn:tQ,threshold:AQ,timer:sQ,args:rQ,skipFn:iQ})}}},ry=ny.throttleByKey.bind(ny);function oy(tQ){return typeof tQ=="object"&&tQ!==null&&!(tQ instanceof RegExp)}function sy(tQ,eQ){if(!oy(tQ)||!oy(eQ)||Array.isArray(tQ)&&!Array.isArray(eQ)||!Array.isArray(tQ)&&Array.isArray(eQ))return eQ;if(Array.isArray(eQ)&&Array.isArray(tQ)){const AQ=[...tQ];for(let iQ=0;iQ<eQ.length;iQ++)AQ[iQ]=sy(tQ[iQ],eQ[iQ]);return AQ}{const AQ=iv({},tQ);for(const iQ in eQ)Object.prototype.hasOwnProperty.call(eQ,iQ)&&(Object.prototype.hasOwnProperty.call(tQ,iQ)?AQ[iQ]=sy(tQ[iQ],eQ[iQ]):AQ[iQ]=eQ[iQ]);return AQ}}function ay(tQ,eQ){let AQ=[0];if(eQ&&(AQ=new Array(eQ).fill(0)),tQ===0)return AQ;let iQ=0;for(;tQ>0&&(AQ[iQ]=255&tQ,tQ>>=8,iQ++,!eQ||iQ!==eQ););return AQ}function cy(tQ){return typeof tQ=="number"?tQ:tQ.exact||tQ.ideal||tQ.max||tQ.min||0}function dy(tQ){const eQ="0123456789abcdef";function AQ(QQ){let fQ,_Q="";for(fQ=0;fQ<=3;fQ++)_Q+=eQ.charAt(QQ>>8*fQ+4&15)+eQ.charAt(QQ>>8*fQ&15);return _Q}function iQ(QQ,fQ){const _Q=(65535&QQ)+(65535&fQ);return(QQ>>16)+(fQ>>16)+(_Q>>16)<<16|65535&_Q}function oQ(QQ,fQ,_Q,RQ,wQ,bQ){return iQ(function(NQ,UQ){return NQ<<UQ|NQ>>>32-UQ}(iQ(iQ(fQ,QQ),iQ(RQ,bQ)),wQ),_Q)}function rQ(QQ,fQ,_Q,RQ,wQ,bQ,NQ){return oQ(fQ&_Q|~fQ&RQ,QQ,fQ,wQ,bQ,NQ)}function nQ(QQ,fQ,_Q,RQ,wQ,bQ,NQ){return oQ(fQ&RQ|_Q&~RQ,QQ,fQ,wQ,bQ,NQ)}function sQ(QQ,fQ,_Q,RQ,wQ,bQ,NQ){return oQ(fQ^_Q^RQ,QQ,fQ,wQ,bQ,NQ)}function aQ(QQ,fQ,_Q,RQ,wQ,bQ,NQ){return oQ(_Q^(fQ|~RQ),QQ,fQ,wQ,bQ,NQ)}const cQ=function(QQ){let fQ;const _Q=1+(QQ.length+8>>6),RQ=new Array(16*_Q);for(fQ=0;fQ<16*_Q;fQ++)RQ[fQ]=0;for(fQ=0;fQ<QQ.length;fQ++)RQ[fQ>>2]|=QQ.charCodeAt(fQ)<<fQ%4*8;return RQ[fQ>>2]|=128<<fQ%4*8,RQ[16*_Q-2]=8*QQ.length,RQ}(tQ);let gQ,IQ,EQ,CQ,dQ,lQ=1732584193,uQ=-271733879,hQ=-1732584194,BQ=271733878;for(gQ=0;gQ<cQ.length;gQ+=16)IQ=lQ,EQ=uQ,CQ=hQ,dQ=BQ,lQ=rQ(lQ,uQ,hQ,BQ,cQ[gQ+0],7,-680876936),BQ=rQ(BQ,lQ,uQ,hQ,cQ[gQ+1],12,-389564586),hQ=rQ(hQ,BQ,lQ,uQ,cQ[gQ+2],17,606105819),uQ=rQ(uQ,hQ,BQ,lQ,cQ[gQ+3],22,-1044525330),lQ=rQ(lQ,uQ,hQ,BQ,cQ[gQ+4],7,-176418897),BQ=rQ(BQ,lQ,uQ,hQ,cQ[gQ+5],12,1200080426),hQ=rQ(hQ,BQ,lQ,uQ,cQ[gQ+6],17,-1473231341),uQ=rQ(uQ,hQ,BQ,lQ,cQ[gQ+7],22,-45705983),lQ=rQ(lQ,uQ,hQ,BQ,cQ[gQ+8],7,1770035416),BQ=rQ(BQ,lQ,uQ,hQ,cQ[gQ+9],12,-1958414417),hQ=rQ(hQ,BQ,lQ,uQ,cQ[gQ+10],17,-42063),uQ=rQ(uQ,hQ,BQ,lQ,cQ[gQ+11],22,-1990404162),lQ=rQ(lQ,uQ,hQ,BQ,cQ[gQ+12],7,1804603682),BQ=rQ(BQ,lQ,uQ,hQ,cQ[gQ+13],12,-40341101),hQ=rQ(hQ,BQ,lQ,uQ,cQ[gQ+14],17,-1502002290),uQ=rQ(uQ,hQ,BQ,lQ,cQ[gQ+15],22,1236535329),lQ=nQ(lQ,uQ,hQ,BQ,cQ[gQ+1],5,-165796510),BQ=nQ(BQ,lQ,uQ,hQ,cQ[gQ+6],9,-1069501632),hQ=nQ(hQ,BQ,lQ,uQ,cQ[gQ+11],14,643717713),uQ=nQ(uQ,hQ,BQ,lQ,cQ[gQ+0],20,-373897302),lQ=nQ(lQ,uQ,hQ,BQ,cQ[gQ+5],5,-701558691),BQ=nQ(BQ,lQ,uQ,hQ,cQ[gQ+10],9,38016083),hQ=nQ(hQ,BQ,lQ,uQ,cQ[gQ+15],14,-660478335),uQ=nQ(uQ,hQ,BQ,lQ,cQ[gQ+4],20,-405537848),lQ=nQ(lQ,uQ,hQ,BQ,cQ[gQ+9],5,568446438),BQ=nQ(BQ,lQ,uQ,hQ,cQ[gQ+14],9,-1019803690),hQ=nQ(hQ,BQ,lQ,uQ,cQ[gQ+3],14,-187363961),uQ=nQ(uQ,hQ,BQ,lQ,cQ[gQ+8],20,1163531501),lQ=nQ(lQ,uQ,hQ,BQ,cQ[gQ+13],5,-1444681467),BQ=nQ(BQ,lQ,uQ,hQ,cQ[gQ+2],9,-51403784),hQ=nQ(hQ,BQ,lQ,uQ,cQ[gQ+7],14,1735328473),uQ=nQ(uQ,hQ,BQ,lQ,cQ[gQ+12],20,-1926607734),lQ=sQ(lQ,uQ,hQ,BQ,cQ[gQ+5],4,-378558),BQ=sQ(BQ,lQ,uQ,hQ,cQ[gQ+8],11,-2022574463),hQ=sQ(hQ,BQ,lQ,uQ,cQ[gQ+11],16,1839030562),uQ=sQ(uQ,hQ,BQ,lQ,cQ[gQ+14],23,-35309556),lQ=sQ(lQ,uQ,hQ,BQ,cQ[gQ+1],4,-1530992060),BQ=sQ(BQ,lQ,uQ,hQ,cQ[gQ+4],11,1272893353),hQ=sQ(hQ,BQ,lQ,uQ,cQ[gQ+7],16,-155497632),uQ=sQ(uQ,hQ,BQ,lQ,cQ[gQ+10],23,-1094730640),lQ=sQ(lQ,uQ,hQ,BQ,cQ[gQ+13],4,681279174),BQ=sQ(BQ,lQ,uQ,hQ,cQ[gQ+0],11,-358537222),hQ=sQ(hQ,BQ,lQ,uQ,cQ[gQ+3],16,-722521979),uQ=sQ(uQ,hQ,BQ,lQ,cQ[gQ+6],23,76029189),lQ=sQ(lQ,uQ,hQ,BQ,cQ[gQ+9],4,-640364487),BQ=sQ(BQ,lQ,uQ,hQ,cQ[gQ+12],11,-421815835),hQ=sQ(hQ,BQ,lQ,uQ,cQ[gQ+15],16,530742520),uQ=sQ(uQ,hQ,BQ,lQ,cQ[gQ+2],23,-995338651),lQ=aQ(lQ,uQ,hQ,BQ,cQ[gQ+0],6,-198630844),BQ=aQ(BQ,lQ,uQ,hQ,cQ[gQ+7],10,1126891415),hQ=aQ(hQ,BQ,lQ,uQ,cQ[gQ+14],15,-1416354905),uQ=aQ(uQ,hQ,BQ,lQ,cQ[gQ+5],21,-57434055),lQ=aQ(lQ,uQ,hQ,BQ,cQ[gQ+12],6,1700485571),BQ=aQ(BQ,lQ,uQ,hQ,cQ[gQ+3],10,-1894986606),hQ=aQ(hQ,BQ,lQ,uQ,cQ[gQ+10],15,-1051523),uQ=aQ(uQ,hQ,BQ,lQ,cQ[gQ+1],21,-2054922799),lQ=aQ(lQ,uQ,hQ,BQ,cQ[gQ+8],6,1873313359),BQ=aQ(BQ,lQ,uQ,hQ,cQ[gQ+15],10,-30611744),hQ=aQ(hQ,BQ,lQ,uQ,cQ[gQ+6],15,-1560198380),uQ=aQ(uQ,hQ,BQ,lQ,cQ[gQ+13],21,1309151649),lQ=aQ(lQ,uQ,hQ,BQ,cQ[gQ+4],6,-145523070),BQ=aQ(BQ,lQ,uQ,hQ,cQ[gQ+11],10,-1120210379),hQ=aQ(hQ,BQ,lQ,uQ,cQ[gQ+2],15,718787259),uQ=aQ(uQ,hQ,BQ,lQ,cQ[gQ+9],21,-343485551),lQ=iQ(lQ,IQ),uQ=iQ(uQ,EQ),hQ=iQ(hQ,CQ),BQ=iQ(BQ,dQ);return AQ(lQ)+AQ(uQ)+AQ(hQ)+AQ(BQ)}let ly=1,uy=console,hy=class{static setLogger(tQ){uy=tQ}constructor(tQ){ev(this,"lockingPromise",Gh.resolve()),ev(this,"locks",0),ev(this,"name",""),ev(this,"lockId",void 0),this.lockId=ly++,tQ&&(this.name=tQ),uy.debug("[lock-".concat(this.name,"-").concat(this.lockId,"] is created."))}get isLocked(){return this.locks>0}lock(tQ){let eQ;this.locks+=1,uy.debug("[lock-".concat(this.name,"-").concat(this.lockId,"] is locked, current queue ").concat(this.locks,". ").concat(typeof tQ=="string"?tQ:""));const AQ=new Gh(oQ=>{eQ=()=>{this.locks-=1,uy.debug("[lock-".concat(this.name,"-").concat(this.lockId,"] is not locked, current queue ").concat(this.locks,". ").concat(typeof tQ=="string"?tQ:"")),oQ()}}),iQ=this.lockingPromise.then(()=>eQ);return this.lockingPromise=this.lockingPromise.then(()=>AQ),iQ}};function py(tQ,eQ){return function(AQ,iQ,oQ){const rQ=oQ.value;if(typeof rQ!="function")throw new Error("Cannot use mutex on object property.");return oQ.value=async function(){const nQ=this[eQ];if(!nQ)throw new Error("mutex property key ".concat(eQ," doesn't exist on ").concat(tQ));const sQ=await nQ.lock("From ".concat(tQ,".").concat(iQ));try{for(var aQ=arguments.length,cQ=new Array(aQ),gQ=0;gQ<aQ;gQ++)cQ[gQ]=arguments[gQ];return await rQ.apply(this,cQ)}finally{sQ()}},oQ}}const _y={timeout:500,timeoutFactor:1.5,maxRetryCount:1/0,maxRetryTimeout:1e4};function Ey(tQ,eQ){const AQ=Math.floor(eQ.timeout*Math.pow(eQ.timeoutFactor,tQ));return Math.min(eQ.maxRetryTimeout,AQ)}function my(tQ,eQ,AQ,iQ){const oQ=Object.assign({},_y,iQ);let rQ=oQ.timeout;const nQ=async()=>{await function(cQ){return new Gh(gQ=>{window.setTimeout(gQ,cQ)})}(rQ),rQ*=oQ.timeoutFactor,rQ=Math.min(oQ.maxRetryTimeout,rQ)};let sQ=!1;const aQ=new Gh(async(cQ,gQ)=>{eQ=eQ||(()=>!1),AQ=AQ||(()=>!0);for(let IQ=0;IQ<oQ.maxRetryCount;IQ+=1){if(sQ)return gQ(new rv(nv.OPERATION_ABORTED));try{const EQ=await tQ();if(!eQ(EQ,IQ)||IQ+1===oQ.maxRetryCount)return cQ(EQ);await nQ()}catch(EQ){if(!AQ(EQ,IQ)||IQ+1===oQ.maxRetryCount)return gQ(EQ);await nQ()}}});return aQ.cancel=()=>sQ=!0,aQ}class fy{constructor(eQ){ev(this,"input",[]),ev(this,"size",void 0),this.size=eQ}add(eQ){this.input.push(eQ),this.input.length>this.size&&this.input.splice(0,1)}mean(){var eQ;return this.input.length===0?0:Jn(eQ=this.input).call(eQ,(AQ,iQ)=>AQ+iQ)/this.input.length}}let Ty,Sy=0,gy=0;function Ry(tQ,eQ,AQ,iQ){return new Gh((oQ,rQ)=>{eQ.responseType=eQ.responseType||"json",eQ.data&&!AQ?(eQ.data=JSON.stringify(eQ.data),Sy+=Xv(eQ.data)):AQ&&(eQ.data.size?Sy+=eQ.data.size:eQ.data instanceof FormData?Sy+=Qv(eQ.data):Sy+=Xv(JSON.stringify(eQ.data))),eQ.headers=eQ.headers||{},eQ.headers["Content-Type"]=eQ.headers["Content-Type"]||"application/json",eQ.method="POST",eQ.url=tQ,EI.request(eQ).then(nQ=>{typeof nQ.data=="string"?gy+=Xv(nQ.data):nQ.data instanceof ArrayBuffer||nQ.data instanceof Uint8Array?gy+=nQ.data.byteLength:gy+=Xv(JSON.stringify(nQ.data)),iQ&&oQ({data:nQ.data,headers:nQ.headers}),oQ(nQ.data)}).catch(nQ=>{EI.isCancel(nQ)?rQ(new rv(nv.OPERATION_ABORTED,"cancel token canceled")):nQ.code==="ECONNABORTED"?rQ(new rv(nv.NETWORK_TIMEOUT,nQ.message)):nQ.response?rQ(new rv(nv.NETWORK_RESPONSE_ERROR,nQ.response.status)):rQ(new rv(nv.NETWORK_ERROR,nQ.message))})})}async function Cy(tQ,eQ){const AQ=new Blob([eQ.data],{type:"buffer"});return await Ry(tQ,iv(iv({},eQ),{},{data:AQ,headers:{"Content-Type":"application/octet-stream"}}),!0)}const Iy=()=>window.isSecureContext!==void 0,vy=function(tQ){if(tQ.match(/[0-9]+\.[0-9]+\.[0-9]+$/))return tQ;const eQ=tQ.match(/([0-9]+\.[0-9]+\.[0-9]+)\-alpha\.([0-9]+)/);if(eQ&&eQ[1]&&eQ[2]){const iQ=eQ[1],oQ=eQ[2];return"".concat(iQ,".").concat(oQ)}const AQ=tQ.match(/([0-9]+\.[0-9]+\.[0-9]+)\-special\.([0-9]+)/);if(AQ&&AQ[1]&&AQ[2]){const iQ=AQ[1],oQ=AQ[2];return"".concat(iQ,".").concat(100*(Number(oQ)+1))}return"4.0.0.999"}("4.22.0"),yy=function(){try{return JSON.parse("true")===!0}catch{return!0}}();let Ay=function(tQ){return tQ.Default="default",tQ.Auto="auto",tQ.Relay="relay",tQ.SdRtn="sd-rtn",tQ}({});const by={MIN_FRAME_RATE:1,MAX_FRAME_RATE:30,MAX_THRESHOLD_FRAMERATE:30,BITRATE_MIN_THRESHOLD:100,BITRATE_MAX_THRESHOLD:100,MAX_SCALE:5,BWE_SCALE_UP_THRESHOLD:.6,BWE_SCALE_DOWN_THRESHOLD:.6,PERF_SCALE_UP_THRESHOLD:.7,PERF_SCALE_DOWN_THRESHOLD:.6,MOTION_RESOLUTION_FACTOR:.8,MOTION_BITRATE_FACTOR:.6,DETAIL_FRAMERATE_FACTOR:.8,DETAIL_BITRATE_FACTOR:.6,BALANCE_RESOLUTION_FACTOR:.9,BALANCE_FRAMERATE_FACTOR:.9,BALANCE_BITRATE_FACTOR:.6,OVERUSE_TIMES_THRESHOLD:10,UNDERUSE_TIMES_THRESHOLD:40},wy="v4.22.0-0-g8569241d-dirty(8/15/2024, 7:04:06 PM)",Oy=iv(iv({PROCESS_ID:"",ENCRYPT_AES:!0,AREAS:["CHINA","GLOBAL"],WEBCS_DOMAIN:["webrtc2-ap-web-1.agora.io","webrtc2-2.ap.sd-rtn.com"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-3.agora.io","webrtc2-4.ap.sd-rtn.com"],PROXY_CS:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],CDS_AP:["cds-ap-web-1.agora.io","cds-web-2.ap.sd-rtn.com","cds-ap-web-3.agora.io","cds-web-4.ap.sd-rtn.com"],ACCOUNT_REGISTER:["sua-ap-web-1.agora.io","sua-web-2.ap.sd-rtn.com","sua-ap-web-3.agora.io","sua-web-4.ap.sd-rtn.com"],UAP_AP:["uap-ap-web-1.agora.io","uap-web-2.ap.sd-rtn.com","uap-ap-web-3.agora.io","uap-web-4.ap.sd-rtn.com"],LOG_UPLOAD_SERVER:"logservice.agora.io",EVENT_REPORT_DOMAIN:"statscollector-1.agora.io",EVENT_REPORT_BACKUP_DOMAIN:"web-2.statscollector.sd-rtn.com",ENABLE_EVENT_REPORT:!0,GATEWAY_ADDRESS:[],GATEWAY_WSS_ADDRESS:"",LIVE_STREAMING_ADDRESS:"",HTTP_CONNECT_TIMEOUT:5e3,SIGNAL_REQUEST_TIMEOUT:1e4,REPORT_STATS:!0,UPLOAD_LOG:!1,NOT_REPORT_EVENT:[],PING_PONG_TIME_OUT:10,WEBSOCKET_TIMEOUT_MIN:1e4,EVENT_REPORT_SEND_INTERVAL:3e3,CONFIG_DISTRIBUTE_INTERVAL:3e5,ENABLE_CONFIG_DISTRIBUTE:!0,CANDIDATE_TIMEOUT:5e3,SHOW_REPORT_INVOKER_LOG:!1,JOIN_EXTEND:"",PUB_EXTEND:"",SUB_EXTEND:"",FORCE_TURN:!1,TURN_ENABLE_TCP:!0,TURN_ENABLE_UDP:!0,MAX_UPLOAD_CACHE:50,UPLOAD_CACHE_INTERVAL:2e3,AJAX_REQUEST_CONCURRENT:3,REPORT_APP_SCENARIO:void 0,GATEWAY_DOMAINS:["edge.agora.io","edge.sd-rtn.com"],CONNECT_GATEWAY_WITHOUT_DOMAIN:!1,WORKER_DOMAIN:"edge.agora.io",TURN_DOMAIN:"edge.agora.io",EVENT_REPORT_RETRY:!0,CHROME_FORCE_PLAN_B:!1,AUDIO_SOURCE_VOLUME_UPDATE_INTERVAL:400,AUDIO_SOURCE_AVG_VOLUME_DURATION:3e3,AUDIO_VOLUME_INDICATION_INTERVAL:2e3,VOLUME_VOICE_WEIGHT:10,GET_VOLUME_OF_MUTED_AUDIO_TRACK:!1,STATS_UPDATE_INTERVAL:250,NORMAL_EVENT_QUEUE_CAPACITY:100,CUSTOM_REPORT:!0,CUSTOM_REPORT_LIMIT:20,PROXY_SERVER_TYPE2:"webnginx-proxy.agora.io",PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.sd-rtn.com","webrtc-cloud-proxy.agora.io"],CUSTOM_PUB_ANSWER_MODIFIER:null,CUSTOM_SUB_ANSWER_MODIFIER:null,CUSTOM_PUB_OFFER_MODIFIER:null,CUSTOM_SUB_OFFER_MODIFIER:null,DSCP_TYPE:"high",REMOVE_NEW_CODECS:!0,FRAGEMENT_LENGTH:3,WEBSOCKET_COMPRESS:!1,SIMULCAST:!1,PRELOAD_MEDIA_COUNT:0,CHECK_VIDEO_VISIBLE_INTERVAL:3e4,CHECK_LOCAL_STATS_INTERVAL:250,PROFILE_SWITCH_INTERVAL:2e3,UNSUPPORTED_VIDEO_CODEC:[],ENUMERATE_DEVICES_INTERVAL:!1,ENUMERATE_DEVICES_INTERVAL_TIME:1e4,USE_NEW_TOKEN:!1,CLOSE_AFB_FOR_LOCAL_AP:!0,JOIN_MAX_CONCURRENCY:6,JOIN_WITH_FALLBACK_SIGNAL_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE:!1,JOIN_GATEWAY_TRY_443PORT_DURATION:2e3,JOIN_GATEWAY_USE_443PORT_ONLY:!1,JOIN_GATEWAY_USE_DUAL_DOMAIN:!0,JOIN_GATEWAY_FALLBACK_PORT:443,USE_TURN_SERVER_OF_GATEWAY:!1,H264_PROFILE_LEVEL_ID:"",USE_NEW_LOG:!1,LOG_VERSION:3,MEDIA_DEVICE_CONSTRAINTS:null,ENCRYPT_PROXY_USERNAME_AND_PSW:!0,SDP_LOGGING:!1,CSP_DETECTED_HOSTNAME_LIST:["agora.io","sd-rtn.com"],REMOTE_AUDIO_TRACK_USES_WEB_AUDIO:!1,LOCAL_AUDIO_TRACK_USES_WEB_AUDIO:!1,BITRATE_ADAPTER_TYPE:"STANDARD_BITRATE",AI_DENOISER_PARAMETERS:{excludedLinks:[]},ADJUST_3A_FROM_PLUGINS:!0,RAISE_H264_BASELINE_PRIORITY:!0,FILTER_SEND_H264_BASELINE:!1,X_GOOGLE_START_BITRATE:void 0,NEW_REPORT_SERVER:!1,NEW_REPORT_SERVER_DOMAINS:["data-reporting.agora.io","data-reporting.agora.io"],VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT:3e5,VIDEO_INSPECT_INTERVAL_MINIMUM:1e3,VIDEO_INSPECT_QUALITY_RATIO:.9,VIDEO_INSPECT_WORKER_MANAGER_HOST:"edge.agora.io",VIDEO_INSPECT_WORKER_MANAGER_PORT:"",VIDEO_INSPECT_WORKER_PORT:"",SHOW_VIDEO_INSPECT_WORKER_MESSAGE:!1,STATS_COLLECTOR_PORT:443,FORCE_TURN_TCP:!1,WEBAUDIO_INIT_OPTIONS:void 0,FILTER_VIDEO_FEC:!0,FILTER_AUDIO_FEC:!1,CHROME_DUAL_STREAM_USE_ENCODING:!0,DISABLE_DUAL_STREAM_USE_ENCODING:!1,EXTENSION_USAGE_UPLOAD_INTERVAL:1e4,ICE_RESTART:!0,ICE_RESTART_INTERVAL:1e4,NEW_ICE_RESTART:!1,TRANSMITTER_INITIAL_RTT:30,TRANSMITTER_INITIAL_RTO:30,TRANSMITTER_MAX_BATCH_ACK_COUNT:2,TRANSMITTER_MAX_RTO:500,DATACHANNEL_COMPRESS:!1,FINGERPRINT:null,DC_JOIN_WITH_FAILBACK:5e3,ENABLE_VIDEO_FRAME_CALLBACK:!0,VIDEO_FREEZE_DURATION:500,SPATIALIZER_PARAMETERS:{},UPLOAD_LOG_INTERVAL:3e3,UPLOAD_LOG_REQUEST_RETRY_INTERVAL:2e3,UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL:2e4,UPLOAD_LOG_TRY_INTERVAL_WHILE_OFF:5e3,UPLOAD_LOG_RETRY_INTERVAL_V1:1e4,UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1:200,UPLOAD_LOG_LENGTH_EACH_TIME:10,APP_TYPE:0,DISABLE_WEBAUDIO:!1,CHANNEL_MEDIA_RELAY_SERVERS:void 0,KEEP_LAST_FRAME:!0,FORWARD_P2P_CREATION:!0,SYNC_GROUP:!0,BLOCK_LOCAL_CLIENT:!1,AP_AREA:!0,ENABLE_ENCODED_TRANSFORM:!1,ENABLE_VIDEO_SEI:!1,IMAGE_MODERATION_WORKER_HOST:"edge.agora.io",IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT:3e5,IMAGE_MODERATION_INTERVAL_MINIMUM:1e3,SHOW_IMAGE_MODERATION_WORKER_MESSAGE:!1,IMAGE_MODERATION_QUALITY_RATIO:.9,IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL:5e3,SHOW_GLOBAL_CLIENT_LIST:!1,DATASTREAM_MAX_RETRANSMITS:10,TCP_CANDIDATE_ONLY:!1,EXTERNAL_SIGNAL_REQUEST_TIMEOUT:3e3,SHOW_P2P_LOG:!1,MAX_P2P_TIMEOUT:3e4,P2P_TOKEN_INTERVAL:1e3,SHOW_DATASTREAM2_LOG:!1,RESTRICTION_SET_PLAYBACK_DEVICE:!0,USE_PURE_ENCRYPTION_MASTER_KEY:!1,ACCOUNT_REGISTER_RETRY_TIMEOUT:1,ACCOUNT_REGISTER_RETRY_RATIO:2,ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX:6e4,ACCOUNT_REGISTER_RETRY_COUNT_MAX:1e5,AUDIO_CONTEXT:null,WEBCS_BACKUP_CONNECT_TIMEOUT:6e3,PLAYER_STATE_DEFER:2e3,SIGNAL_REQUEST_WATCH_INTERVAL:1e3,FILEPATH_LENMAX:255,DUALSTREAM_OPERATION_CHECK:!0,MEDIA_ELEMENT_EXISTS_DEPTH:3,SHIM_CANDIDATE:!1,LEAVE_MSG_TIMEOUT:2e3,STATS_FILTER:{transportId:!0,googTrackId:!0},FILTER_VIDEO_CODEC:[],USE_NEW_NETWORK_CONFIG:!1,AUTO_RESET_AUDIO_ROUTE:!1,PLUGIN_INFO:[],OVERUSE_DETECTOR_PARAMS:by,ENABLE_AG_ADAPTATION:!0,FORCE_AG_HIGH_FRAMERATE:!1,FORCE_SUPPORT_AG_ADAPTATION:!1,CUSTOM_ADAPTATION_DEFAULT_MODE:"",ENCODER_CONFIG_LIMIT:{},CAMERA_CAPTURE_CONFIG:void 0,HIDE_NO_POSTER:!1,AP_CACHE_NUM:10,AP_UPDATE_INTERVAL:12e4,AP_CACHE_LIFETIME:12e4,MAX_PRELOAD_ASYNC_LENGTH:3,ENABLE_PRELOAD:!0},{ENABLE_PUBLISHED_USER_LIST:!0,MAX_SUBSCRIPTION:50,SUBSCRIBE_AUDIO_FILTER_TOPN:void 0,ENABLE_PUBLISH_AUDIO_FILTER:void 0,ENABLE_USER_LICENSE_CHECK:!0,USE_PUB_RTX:!0,USE_SUB_RTX:!0,DISABLE_FEC:void 0,ENABLE_NTP_REPORT:!1,ENABLE_INSTANT_VIDEO:!1,ENABLE_DATASTREAM_2:!1,ENABLE_USER_AUTO_REBALANCE_CHECK:!0,USE_XR:!0,ENABLE_LOSSBASED_BWE:!0,ENABLE_AUT_CC:!1,ENABLE_CC_FALLBACK:void 0,ENABLE_PREALLOC_PC:!1,SUBSCRIBE_TWCC:!0,PUBLISH_TWCC:!1,ENABLE_SVC:!1,ENABLE_SVC_DEFAULT_CODECS:["H264","VP8","VP9","AV1"],SVC:[],ENABLE_FULL_LINK_AV_SYNC:!1,SVC_MODE:null,PRE_SUB_NUM:2,ENABLE_PRE_SUB:!1,ENABLE_AUT_FEEDBACK:!1}),{},{USE_CANDIDATE_FROM_AP_DETAIL:!1});function Ny(tQ,eQ,AQ){var iQ,oQ,rQ;Dn(iQ=Object.keys(Oy)).call(iQ,tQ)&&(!AQ&&Dn(oQ=Object.keys(Py)).call(oQ,tQ)||(Oy[tQ]=eQ,tQ==="ENABLE_VIDEO_SEI"&&eQ===!0&&(Oy.ENABLE_ENCODED_TRANSFORM=!0),tQ==="USE_NEW_NETWORK_CONFIG"&&eQ&&(rQ=!!eQ,Oy.USE_NEW_NETWORK_CONFIG=rQ,rQ&&(Oy.WEBCS_DOMAIN=["webrtc2-2.ap.sd-rtn.com"],Oy.WEBCS_DOMAIN_BACKUP_LIST=["webrtc2-4.ap.sd-rtn.com"],Oy.CDS_AP=["cds-web-2.ap.sd-rtn.com","cds-web-4.ap.sd-rtn.com"],Oy.ACCOUNT_REGISTER=["sua-web-2.ap.sd-rtn.com","sua-web-4.ap.sd-rtn.com"],Oy.EVENT_REPORT_DOMAIN="web-2.statscollector.sd-rtn.com",Oy.EVENT_REPORT_BACKUP_DOMAIN="statscollector-1.agora.io",Oy.GATEWAY_DOMAINS=["edge.sd-rtn.com"])),tQ==="ENABLE_PRE_SUB"&&eQ&&(Oy.ENABLE_INSTANT_VIDEO=!0,Oy.ENABLE_PREALLOC_PC=!0),tQ==="ENABLE_SVC"&&eQ&&(Oy.ENABLE_AUT_CC=!0)))}function Dy(tQ){return Oy[tQ]}const Py={};var Ly=function(tQ){return tQ.SET_SESSION_ID="SET_SESSION_ID",tQ.SET_P2P_ID="SET_P2P_id",tQ.SET_DC_ID="SET_DC_id",tQ.SET_UID="SET_UID",tQ.SET_INT_UID="SET_INT_UID",tQ.SET_PUB_ID="SET_PUB_ID",tQ.SET_CLOUD_PROXY_SERVER_MODE="SET_CLOUD_PROXY_SERVER_MODE",tQ.KEY_METRIC_CLIENT_CREATED="KEY_METRIC_CLIENT_CREATED",tQ.KEY_METRIC_JOIN_START="KEY_METRIC_JOIN_START",tQ.AVOID_JOIN_START="AVOID_JOIN_START",tQ.KEY_METRIC_JOIN_END="KEY_METRIC_JOIN_END",tQ.KEY_METRIC_REQUEST_AP_START="KEY_METRIC_REQUEST_AP_START",tQ.KEY_METRIC_REQUEST_AP_END="KEY_METRIC_REQUEST_AP_END",tQ.KEY_METRIC_JOIN_GATEWAY_START="KEY_METRIC_JOIN_GATEWAY_START",tQ.KEY_METRIC_JOIN_GATEWAY_END="KEY_METRIC_JOIN_GATEWAY_END",tQ.KEY_METRIC_PEER_CONNECTION_START="KEY_METRIC_PEER_CONNECTION_START",tQ.KEY_METRIC_PEER_CONNECTION_END="KEY_METRIC_PEER_CONNECTION_END",tQ.KEY_METRIC_DESCRIPTION_START="KEY_METRIC_DESCRIPTION_START",tQ.KEY_METRIC_ICE_CONNECTION_END="KEY_METRIC_ICE_CONNECTION_END",tQ.KEY_METRIC_SIGNAL_CHANNEL_OPEN="KEY_METRIC_SIGNAL_CHANNEL_OPEN",tQ.KEY_METRIC_PUBLISH="KEY_METRIC_PUBLISH",tQ.KEY_METRIC_SUBSCRIBE="KEY_METRIC_SUBSCRIBE",tQ.RECORD_JOIN_CHANNEL_SERVICE="RECORD_JOIN_CHANNEL_SERVICE",tQ.RESET_JOIN_CHANNEL_SERVICE_RECORDS="RESET_JOIN_CHANNEL_SERVICE_RECORDS",tQ.RESET_KEY_METRICS="RESET_KEY_METRICS",tQ.SET_USE_P2P="SET_USE_P2P",tQ.SET_TRANSPORT_TYPE="SET_TRANSPORT_TYPE",tQ}(Ly||{});class ky{constructor(eQ,AQ,iQ,oQ){ev(this,"state",void 0),this.state={codec:eQ,audioCodec:AQ,mode:iQ,clientId:oQ,sessionId:null,p2pId:0,dcId:0,pubId:0,subId:0,avoidJoinStart:0,keyMetrics:{publish:[],subscribe:[]},joinChannelServiceRecords:[],cloudProxyServerMode:"disabled",useP2P:!1,p2pTransport:Ay.Default}}dispatch(eQ){this.state=function(AQ,iQ){switch(iQ.type){case Ly.SET_SESSION_ID:return iv(iv({},AQ),{},{sessionId:iQ.sessionId});case Ly.SET_P2P_ID:return iv(iv({},AQ),{},{p2pId:iQ.p2pId});case Ly.SET_UID:return iv(iv({},AQ),{},{uid:iQ.uid});case Ly.SET_INT_UID:return iv(iv({},AQ),{},{intUid:iQ.intUid});case Ly.SET_PUB_ID:return iv(iv({},AQ),{},{pubId:iQ.pubId});case Ly.KEY_METRIC_CLIENT_CREATED:return iv(iv({},AQ),{},{keyMetrics:iv(iv({},AQ.keyMetrics),{},{clientCreated:iQ.metric})});case Ly.KEY_METRIC_JOIN_START:return iv(iv({},AQ),{},{keyMetrics:iv(iv({},AQ.keyMetrics),{},{joinStart:iQ.metric})});case Ly.AVOID_JOIN_START:return iv(iv({},AQ),{},{avoidJoinStart:iQ.avoidJoinStart});case Ly.KEY_METRIC_JOIN_END:return iv(iv({},AQ),{},{keyMetrics:iv(iv({},AQ.keyMetrics),{},{joinEnd:iQ.metric})});case Ly.KEY_METRIC_REQUEST_AP_START:return iv(iv({},AQ),{},{keyMetrics:iv(iv({},AQ.keyMetrics),{},{requestAPStart:iQ.metric})});case Ly.KEY_METRIC_REQUEST_AP_END:return iv(iv({},AQ),{},{keyMetrics:iv(iv({},AQ.keyMetrics),{},{requestAPEnd:iQ.metric})});case Ly.KEY_METRIC_JOIN_GATEWAY_START:return iv(iv({},AQ),{},{keyMetrics:iv(iv({},AQ.keyMetrics),{},{joinGatewayStart:iQ.metric})});case Ly.KEY_METRIC_JOIN_GATEWAY_END:return iv(iv({},AQ),{},{keyMetrics:iv(iv({},AQ.keyMetrics),{},{joinGatewayEnd:iQ.metric})});case Ly.KEY_METRIC_PEER_CONNECTION_START:return iv(iv({},AQ),{},{keyMetrics:iv(iv({},AQ.keyMetrics),{},{peerConnectionStart:iQ.metric})});case Ly.KEY_METRIC_PEER_CONNECTION_END:return iv(iv({},AQ),{},{keyMetrics:iv(iv({},AQ.keyMetrics),{},{peerConnectionEnd:iQ.metric})});case Ly.KEY_METRIC_DESCRIPTION_START:return iv(iv({},AQ),{},{keyMetrics:iv(iv({},AQ.keyMetrics),{},{descriptionStart:iQ.metric})});case Ly.KEY_METRIC_SIGNAL_CHANNEL_OPEN:return iv(iv({},AQ),{},{keyMetrics:iv(iv({},AQ.keyMetrics),{},{signalChannelOpen:iQ.metric})});case Ly.KEY_METRIC_ICE_CONNECTION_END:return iv(iv({},AQ),{},{keyMetrics:iv(iv({},AQ.keyMetrics),{},{iceConnectionEnd:iQ.metric})});case Ly.KEY_METRIC_PUBLISH:{const oQ=AQ.keyMetrics.publish,rQ=oQ.findIndex(nQ=>nQ.trackId===iQ.metric.trackId);return rQ!==-1?(oQ[rQ]=iv(iv({},oQ[rQ]),iQ.metric),iv(iv({},AQ),{},{keyMetrics:iv(iv({},AQ.keyMetrics),{},{publish:[...oQ]})})):iv(iv({},AQ),{},{keyMetrics:iv(iv({},AQ.keyMetrics),{},{publish:[...AQ.keyMetrics.publish,iQ.metric]})})}case Ly.KEY_METRIC_SUBSCRIBE:{const oQ=AQ.keyMetrics.subscribe,rQ=oQ.findIndex(nQ=>nQ.userId===iQ.metric.userId&&nQ.type===iQ.metric.type);return rQ!==-1?(oQ[rQ]=iv(iv({},oQ[rQ]),iQ.metric),iv(iv({},AQ),{},{keyMetrics:iv(iv({},AQ.keyMetrics),{},{subscribe:[...oQ]})})):iv(iv({},AQ),{},{keyMetrics:iv(iv({},AQ.keyMetrics),{},{subscribe:[...AQ.keyMetrics.subscribe,iQ.metric]})})}case Ly.SET_CLOUD_PROXY_SERVER_MODE:return AQ.cloudProxyServerMode=iQ.mode,AQ;case Ly.RECORD_JOIN_CHANNEL_SERVICE:return typeof iQ.index!="number"?AQ.joinChannelServiceRecords=[...AQ.joinChannelServiceRecords,iQ.record]:(AQ.joinChannelServiceRecords[iQ.index]=iv(iv({},AQ.joinChannelServiceRecords[iQ.index]),iQ.record),AQ.joinChannelServiceRecords=[...AQ.joinChannelServiceRecords]),AQ;case Ly.RESET_JOIN_CHANNEL_SERVICE_RECORDS:return AQ.joinChannelServiceRecords=[],AQ;case Ly.RESET_KEY_METRICS:return AQ.keyMetrics={publish:[],subscribe:[]},AQ;case Ly.SET_USE_P2P:return iv(iv({},AQ),{},{useP2P:iQ.val});case Ly.SET_TRANSPORT_TYPE:return iv(iv({},AQ),{},{p2pTransport:iQ.val});default:return AQ}}(this.state,eQ)}set sessionId(eQ){this.dispatch({type:Ly.SET_SESSION_ID,sessionId:eQ})}get sessionId(){return this.state.sessionId}set codec(eQ){this.state.codec=eQ}get codec(){return this.state.codec}get mode(){return this.state.mode}get audioCodec(){return this.state.audioCodec}get clientId(){return this.state.clientId}set p2pId(eQ){this.dispatch({type:Ly.SET_P2P_ID,p2pId:eQ})}get p2pId(){return this.state.p2pId}set dcId(eQ){this.dispatch({type:Ly.SET_DC_ID,dcId:eQ})}get dcId(){return this.state.dcId}set uid(eQ){this.dispatch({type:Ly.SET_UID,uid:eQ})}get uid(){return this.state.uid}set intUid(eQ){this.dispatch({type:Ly.SET_INT_UID,intUid:eQ})}get intUid(){return this.state.intUid}set pubId(eQ){this.dispatch({type:Ly.SET_PUB_ID,pubId:eQ})}get pubId(){return this.state.pubId}set cloudProxyServerMode(eQ){this.dispatch({type:Ly.SET_CLOUD_PROXY_SERVER_MODE,mode:eQ})}get cloudProxyServerMode(){return this.state.cloudProxyServerMode}set useP2P(eQ){this.dispatch({type:Ly.SET_USE_P2P,val:eQ})}get useP2P(){return this.state.useP2P}set p2pTransport(eQ){this.dispatch({type:Ly.SET_TRANSPORT_TYPE,val:eQ})}get p2pTransport(){return this.state.p2pTransport}clientCreated(){this.dispatch({type:Ly.KEY_METRIC_CLIENT_CREATED,metric:Date.now()})}joinStart(){this.dispatch({type:Ly.KEY_METRIC_JOIN_START,metric:Date.now()})}joinEnd(){this.dispatch({type:Ly.KEY_METRIC_JOIN_END,metric:Date.now()})}requestAPStart(){this.dispatch({type:Ly.KEY_METRIC_REQUEST_AP_START,metric:Date.now()})}requestAPEnd(){this.dispatch({type:Ly.KEY_METRIC_REQUEST_AP_END,metric:Date.now()})}joinGatewayStart(){this.dispatch({type:Ly.KEY_METRIC_JOIN_GATEWAY_START,metric:Date.now()})}joinGatewayEnd(){this.dispatch({type:Ly.KEY_METRIC_JOIN_GATEWAY_END,metric:Date.now()})}peerConnectionStart(){this.dispatch({type:Ly.KEY_METRIC_PEER_CONNECTION_START,metric:Date.now()})}peerConnectionEnd(){this.dispatch({type:Ly.KEY_METRIC_PEER_CONNECTION_END,metric:Date.now()})}descriptionStart(){this.dispatch({type:Ly.KEY_METRIC_DESCRIPTION_START,metric:Date.now()})}signalChannelOpen(){this.dispatch({type:Ly.KEY_METRIC_SIGNAL_CHANNEL_OPEN,metric:Date.now()})}iceConnectionEnd(){this.dispatch({type:Ly.KEY_METRIC_ICE_CONNECTION_END,metric:Date.now()})}publish(eQ,AQ,iQ,oQ){this.dispatch({type:Ly.KEY_METRIC_PUBLISH,metric:iv(iv({trackId:eQ,type:AQ},iQ&&{publishStart:iQ}),oQ&&{publishEnd:oQ})})}subscribe(eQ,AQ,iQ,oQ,rQ,nQ,sQ){this.dispatch({type:Ly.KEY_METRIC_SUBSCRIBE,metric:iv(iv(iv(iv(iv({userId:eQ,type:AQ},iQ&&{subscribeStart:iQ}),oQ&&{subscribeEnd:oQ}),rQ&&{firstFrame:rQ}),nQ&&{streamAdded:nQ}),sQ&&{firstDecoded:sQ})})}massSubscribe(eQ,AQ,iQ,oQ){eQ.forEach(rQ=>{this.dispatch({type:Ly.KEY_METRIC_SUBSCRIBE,metric:iv(iv(iv({userId:rQ.userId,type:rQ.type},AQ&&{subscribeStart:AQ}),iQ&&{subscribeEnd:iQ}),oQ&&{firstFrame:oQ})})})}get keyMetrics(){return this.state.keyMetrics}recordJoinChannelService(eQ,AQ){eQ.service==="gateway"&&Array.isArray(eQ.urls)&&(eQ.urls=eQ.urls.map(iQ=>iQ.replace(/(\d+)-\d+-\d+-(\d+)/,"$1-*-*-$2")));try{return typeof AQ!="number"?(this.dispatch({type:Ly.RECORD_JOIN_CHANNEL_SERVICE,record:iv(iv({},eQ),{},{sessionId:this.sessionId,cloudProxyMode:this.cloudProxyServerMode,uid:this.uid})}),this.state.joinChannelServiceRecords.length-1):(AQ<0||AQ>=this.state.joinChannelServiceRecords.length||this.dispatch({type:Ly.RECORD_JOIN_CHANNEL_SERVICE,record:eQ,index:AQ}),AQ)}catch{return 0}}resetJoinChannelServiceRecords(){this.dispatch({type:Ly.RESET_JOIN_CHANNEL_SERVICE_RECORDS})}resetKeyMetrics(){this.dispatch({type:Ly.RESET_KEY_METRICS})}get joinChannelServiceRecords(){try{return this.state.joinChannelServiceRecords}catch{return[]}}get avoidJoinStart(){return this.state.avoidJoinStart}set avoidJoinStart(eQ){this.dispatch({type:Ly.AVOID_JOIN_START,avoidJoinStart:eQ})}}let My=function(tQ){return tQ.h264="h264",tQ.h265="h265",tQ.vp8="vp8",tQ.vp9="vp9",tQ.av1="av1",tQ}({});(function(tQ){tQ.opus="opus",tQ.pcma="pcma",tQ.pcmu="pcmu",tQ.g722="g722"})({});const Uy=128,xy=96,Vy=1e3,Fy=10;let By=0;function jy(tQ,eQ,AQ){return(eQ=function(iQ){var oQ=function(rQ,nQ){if(typeof rQ!="object"||!rQ)return rQ;var sQ=rQ[Symbol.toPrimitive];if(sQ!==void 0){var aQ=sQ.call(rQ,"string");if(typeof aQ!="object")return aQ;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(rQ)}(iQ);return typeof oQ=="symbol"?oQ:oQ+""}(eQ))in tQ?Object.defineProperty(tQ,eQ,{value:AQ,enumerable:!0,configurable:!0,writable:!0}):tQ[eQ]=AQ,tQ}function Gy(tQ,eQ){var AQ=Object.keys(tQ);if(Object.getOwnPropertySymbols){var iQ=Object.getOwnPropertySymbols(tQ);eQ&&(iQ=iQ.filter(function(oQ){return Object.getOwnPropertyDescriptor(tQ,oQ).enumerable})),AQ.push.apply(AQ,iQ)}return AQ}function Wy(tQ){for(var eQ=1;eQ<arguments.length;eQ++){var AQ=arguments[eQ]!=null?arguments[eQ]:{};eQ%2?Gy(Object(AQ),!0).forEach(function(iQ){jy(tQ,iQ,AQ[iQ])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tQ,Object.getOwnPropertyDescriptors(AQ)):Gy(Object(AQ)).forEach(function(iQ){Object.defineProperty(tQ,iQ,Object.getOwnPropertyDescriptor(AQ,iQ))})}return tQ}const Hy=new class extends Sv{constructor(){super(...arguments),jy(this,"currentUploadLogID",0)}reportLogUploadError(tQ){const{errorRange:eQ}=tQ;eQ[eQ.length-1]&&eQ[eQ.length-1]>this.currentUploadLogID&&(this.currentUploadLogID=eQ[eQ.length-1],this.emit("REPORT_LOG_UPLOAD",tQ))}};class Ky{constructor(eQ){jy(this,"logger",void 0),jy(this,"prefixLists",[]),this.logger=eQ}debug(){for(var eQ=arguments.length,AQ=new Array(eQ),iQ=0;iQ<eQ;iQ++)AQ[iQ]=arguments[iQ];this.logger.debug(...this.prefixLists,...AQ)}info(){for(var eQ=arguments.length,AQ=new Array(eQ),iQ=0;iQ<eQ;iQ++)AQ[iQ]=arguments[iQ];this.logger.info(...this.prefixLists,...AQ)}warning(){for(var eQ=arguments.length,AQ=new Array(eQ),iQ=0;iQ<eQ;iQ++)AQ[iQ]=arguments[iQ];this.logger.warning(...this.prefixLists,...AQ)}error(){for(var eQ=arguments.length,AQ=new Array(eQ),iQ=0;iQ<eQ;iQ++)AQ[iQ]=arguments[iQ];this.logger.error(...this.prefixLists,...AQ)}prefix(eQ){return this.prefixLists.push(eQ),this}popPrefix(){return this.prefixLists.pop(),this}}function Yy(){const tQ=new Date;return tQ.toTimeString().split(" ")[0]+":"+tQ.getMilliseconds()}function qy(){const tQ=new Date,eQ=/((\d+:){2}\d+)/.exec(new Date().toUTCString());return eQ?(eQ==null?void 0:eQ[0])+":"+tQ.getUTCMilliseconds():tQ.toTimeString().split(" ")[0]+":"+tQ.getMilliseconds()}const zy={DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4},Jy=Date.now(),Xy=tQ=>{for(const eQ in zy)if(Object.prototype.hasOwnProperty.call(zy,eQ)&&zy[eQ]===tQ)return eQ;return"DEFAULT"},Qy=new class{constructor(){jy(this,"proxyServerURL",void 0),jy(this,"logLevel",zy.DEBUG),jy(this,"uploadState","collecting"),jy(this,"uploadLogWaitingList",[]),jy(this,"uploadLogUploadingList",[]),jy(this,"uploadErrorCount",0),jy(this,"currentLogID",0),jy(this,"url",void 0),jy(this,"extLog",(tQ,eQ)=>{this.appendLogToWaitingList(tQ,...eQ)})}debug(){for(var tQ=arguments.length,eQ=new Array(tQ),AQ=0;AQ<tQ;AQ++)eQ[AQ]=arguments[AQ];const iQ=[zy.DEBUG].concat(eQ);this.log.apply(this,iQ)}info(){for(var tQ=arguments.length,eQ=new Array(tQ),AQ=0;AQ<tQ;AQ++)eQ[AQ]=arguments[AQ];const iQ=[zy.INFO].concat(eQ);this.log.apply(this,iQ)}warning(){for(var tQ=arguments.length,eQ=new Array(tQ),AQ=0;AQ<tQ;AQ++)eQ[AQ]=arguments[AQ];const iQ=[zy.WARNING].concat(eQ);this.log.apply(this,iQ)}warn(){this.warning(...arguments)}error(){for(var tQ=arguments.length,eQ=new Array(tQ),AQ=0;AQ<tQ;AQ++)eQ[AQ]=arguments[AQ];const iQ=[zy.ERROR].concat(eQ);this.log.apply(this,iQ)}upload(){for(var tQ=arguments.length,eQ=new Array(tQ),AQ=0;AQ<tQ;AQ++)eQ[AQ]=arguments[AQ];const iQ=[zy.DEBUG].concat(eQ);this.uploadLog.apply(this,iQ)}setLogLevel(tQ){tQ=Math.min(Math.max(0,tQ),4),this.logLevel=tQ}enableLogUpload(){Ny("UPLOAD_LOG",!0)}disableLogUpload(){Ny("UPLOAD_LOG",!1),this.uploadLogUploadingList=[],this.uploadLogWaitingList=[]}setProxyServer(tQ){this.proxyServerURL=tQ}prefix(tQ){return new Ky(this).prefix(tQ)}log(){for(var tQ=arguments.length,eQ=new Array(tQ),AQ=0;AQ<tQ;AQ++)eQ[AQ]=arguments[AQ];if(Date.now()-Jy<100)return void setTimeout(()=>{this.log(...eQ)},Date.now()-Jy);const iQ=Math.max(0,Math.min(4,eQ[0]));if(eQ[0]=Yy()+" Agora-SDK [".concat(Xy(iQ),"]:"),this.appendLogToWaitingList(iQ,...eQ),iQ<this.logLevel)return;const oQ=Yy()+" %cAgora-SDK [".concat(Xy(iQ),"]:");let rQ=[];if(!Dy("USE_NEW_LOG"))switch(iQ){case zy.DEBUG:rQ=[oQ,"color: #64B5F6;"].concat(eQ.slice(1)),console.log.apply(console,rQ);break;case zy.INFO:rQ=[oQ,"color: #1E88E5; font-weight: bold;"].concat(eQ.slice(1)),console.log.apply(console,rQ);break;case zy.WARNING:rQ=[oQ,"color: #FB8C00; font-weight: bold;"].concat(eQ.slice(1)),console.warn.apply(console,rQ);break;case zy.ERROR:rQ=[oQ,"color: #B00020; font-weight: bold;"].concat(eQ.slice(1)),console.error.apply(console,rQ)}}uploadLog(){for(var tQ=arguments.length,eQ=new Array(tQ),AQ=0;AQ<tQ;AQ++)eQ[AQ]=arguments[AQ];if(Date.now()-Jy<100)return void setTimeout(()=>{this.uploadLog(...eQ)},Date.now()-Jy);const iQ=Math.max(0,Math.min(4,eQ[0]));eQ[0]=Yy()+" Agora-SDK [".concat(Xy(iQ),"]:"),this.appendLogToWaitingList(iQ,...eQ)}appendLogToWaitingList(tQ){if(!Dy("UPLOAD_LOG"))return;for(var eQ=arguments.length,AQ=new Array(eQ>1?eQ-1:0),iQ=1;iQ<eQ;iQ++)AQ[iQ-1]=arguments[iQ];Array.isArray(AQ[0])?AQ[0][0]=qy()+" Agora-SDK [".concat(Xy(tQ),"]:"):AQ[0]=qy()+" Agora-SDK [".concat(Xy(tQ),"]:");let oQ="";AQ.forEach(rQ=>{typeof rQ=="object"&&(rQ=JSON.stringify(rQ)),oQ+="".concat(rQ," ")}),this.uploadLogWaitingList.push({payload_str:oQ,log_level:tQ,log_item_id:this.currentLogID++}),this.uploadState==="uploading"&&this.uploadLogUploadingList.length===0&&this.uploadLogInterval()}startUpload(){this.uploadState="uploading",this.uploadLogUploadingList.length===0&&this.uploadLogInterval()}async uploadLogs(){const tQ=this.uploadLogUploadingList,eQ={sdk_version:vy,process_id:Dy("PROCESS_ID"),payload:JSON.stringify(tQ)};return my(async()=>{const AQ=await EI.post(this.url||(this.proxyServerURL?"https://".concat(this.proxyServerURL,"/ls/?h=").concat(Dy("LOG_UPLOAD_SERVER"),"&p=443&d=upload/v1"):"https://".concat(Dy("LOG_UPLOAD_SERVER"),"/upload/v1")),eQ,{responseType:"text"});if(AQ.data!=="OK"){const iQ=new Error("unexpected upload log response");throw iQ.response=AQ,iQ}},()=>(this.uploadLogUploadingList=[],!1),AQ=>{const iQ={status:-1,message:AQ.message,errorRange:tQ.map(oQ=>oQ.log_item_id)};return AQ.response?(iQ.status=AQ.response.status,iQ.data=AQ.response.data,iQ.headers=AQ.response.headers):AQ.request&&(iQ.status=AQ.request.status),Hy.reportLogUploadError(iQ),!0},{timeout:Dy("UPLOAD_LOG_REQUEST_RETRY_INTERVAL"),maxRetryTimeout:Dy("UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL")})}uploadLogInterval(){this.uploadLogUploadingList.length===0&&this.uploadLogWaitingList.length===0||(this.uploadLogUploadingList.length===0&&(this.uploadLogUploadingList=this.uploadLogWaitingList.splice(0,Dy("UPLOAD_LOG_LENGTH_EACH_TIME"))),this.uploadLogs().then(()=>{this.uploadErrorCount=0,this.uploadLogWaitingList.length>0&&window.setTimeout(()=>this.uploadLogInterval(),Dy("UPLOAD_LOG_INTERVAL"))}).catch(tQ=>{this.uploadErrorCount+=1,this.uploadErrorCount<2?window.setTimeout(()=>this.uploadLogInterval(),Dy("UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1")):window.setTimeout(()=>this.uploadLogInterval(),Dy("UPLOAD_LOG_RETRY_INTERVAL_V1"))}))}};var Zy;function $y(tQ){return dv(tQ.reportId,"params.reportId",0,100,!1),dv(tQ.category,"params.category",0,100,!1),dv(tQ.event,"params.event",0,100,!1),dv(tQ.label,"params.label",0,100,!1),av(tQ.value,"params.value",Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,!1),!0}(Zy={}).FREE="free",Zy.UPLOADING="uploading",function(tQ){tQ[tQ.MISC=0]="MISC",tQ[tQ.INTERNAL_EVENT=1]="INTERNAL_EVENT",tQ[tQ.PUBLIC_EVENT=2]="PUBLIC_EVENT",tQ[tQ.WEB_EVENT=3]="WEB_EVENT",tQ[tQ.INTERNAL_API=4]="INTERNAL_API",tQ[tQ.WEB_API=5]="WEB_API",tQ[tQ.PUBLIC_API=6]="PUBLIC_API"}({});const eA={sid:"",lts:0,success:null,cname:null,uid:null,peer:null,cid:null,elapse:null,extend:null,vid:0};let tA=function(tQ){return tQ.PUBLISH="publish",tQ.SUBSCRIBE="subscribe",tQ.WS_COMPRESSOR_INIT="ws_compressor_init",tQ.SESSION_INIT="session_init",tQ.JOIN_CHOOSE_SERVER="join_choose_server",tQ.REQ_USER_ACCOUNT="req_user_account",tQ.JOIN_GATEWAY="join_gateway",tQ.REJOIN_GATEWAY="rejoin_gateway",tQ.STREAM_SWITCH="stream_switch",tQ.REQUEST_PROXY_WORKER_MANAGER="request_proxy_worker_manager",tQ.REQUEST_PROXY_APPCENTER="request_proxy_appcenter",tQ.FIRST_VIDEO_RECEIVED="first_video_received",tQ.FIRST_AUDIO_RECEIVED="first_audio_received",tQ.FIRST_VIDEO_DECODE="first_video_decode",tQ.FIRST_AUDIO_DECODE="first_audio_decode",tQ.ON_ADD_AUDIO_STREAM="on_add_audio_stream",tQ.ON_ADD_VIDEO_STREAM="on_add_video_stream",tQ.ON_UPDATE_STREAM="on_update_stream",tQ.ON_REMOVE_STREAM="on_remove_stream",tQ.USER_ANALYTICS="req_user_analytics",tQ.PC_STATS="pc_stats",tQ.UPDATE_REMOTE_RTPCAPABILITIES="update_remote_rtpCapabilities",tQ}({}),iA=function(tQ){return tQ.SESSION="io.agora.pb.Wrtc.Session",tQ.JOIN_CHOOSE_SERVER="io.agora.pb.Wrtc.JoinChooseServer",tQ.REQ_USER_ACCOUNT="io.agora.pb.Wrtc.ReqUserAccount",tQ.JOIN_GATEWAY="io.agora.pb.Wrtc.JoinGateway",tQ.RE_JOIN_GATEWAY="io.agora.pb.Wrtc.ReJoinGateway",tQ.PUBLISH="io.agora.pb.Wrtc.Publish",tQ.SUBSCRIBE="io.agora.pb.Wrtc.Subscribe",tQ.WS_COMPRESSOR_INIT="io.agora.pb.Wrtc.WsCompressorInit",tQ.STREAM_SWITCH="io.agora.pb.Wrtc.StreamSwitch",tQ.AUDIO_SENDING_STOPPED="io.agora.pb.Wrtc.AudioSendingStopped",tQ.VIDEO_SENDING_STOPPED="io.agora.pb.Wrtc.VideoSendingStopped",tQ.REQUEST_PROXY_APPCENTER="io.agora.pb.Wrtc.RequestProxyAppCenter",tQ.REQUEST_PROXY_WORKER_MANAGER="io.agora.pb.Wrtc.RequestProxyWorkerManager",tQ.API_INVOKE="io.agora.pb.Wrtc.ApiInvoke",tQ.FIRST_VIDEO_RECEIVED="io.agora.pb.Wrtc.FirstVideoReceived",tQ.FIRST_AUDIO_RECEIVED="io.agora.pb.Wrtc.FirstAudioReceived",tQ.FIRST_VIDEO_DECODE="io.agora.pb.Wrtc.FirstVideoDecode",tQ.FIRST_AUDIO_DECODE="io.agora.pb.Wrtc.FirstAudioDecode",tQ.ON_ADD_AUDIO_STREAM="io.agora.pb.Wrtc.OnAddAudioStream",tQ.ON_ADD_VIDEO_STREAM="io.agora.pb.Wrtc.OnAddVideoStream",tQ.ON_UPDATE_STREAM="io.agora.pb.Wrtc.OnUpdateStream",tQ.ON_REMOVE_STREAM="io.agora.pb.Wrtc.OnRemoveStream",tQ.JOIN_CHANNEL_TIMEOUT="io.agora.pb.Wrtc.JoinChannelTimeout",tQ.PEER_PUBLISH_STATUS="io.agora.pb.Wrtc.PeerPublishStatus",tQ.WORKER_EVENT="io.agora.pb.Wrtc.WorkerEvent",tQ.AP_WORKER_EVENT="io.agora.pb.Wrtc.APWorkerEvent",tQ.JOIN_WEB_PROXY_AP="io.agora.pb.Wrtc.JoinWebProxyAP",tQ.WEBSOCKET_QUIT="io.agora.pb.Wrtc.WebSocketQuit",tQ.USER_ANALYTICS="io.agora.pb.Wrtc.UserAnalytics",tQ.AUTOPLAY_FAILED="io.agora.pb.Wrtc.AutoplayFailed",tQ.PC_STATS="io.agora.pb.Wrtc.PCStats",tQ.UPDATE_REMOTE_RTPCAPABILITIES="io.agora.pb.Wrtc.UpdateRemoteRTPCapabilities",tQ}({});(function(tQ){tQ[tQ.WORKER_EVENT=156]="WORKER_EVENT",tQ[tQ.AP_WORKER_EVENT=160]="AP_WORKER_EVENT"})({});let nA=function(tQ){return tQ[tQ.SESSION=26]="SESSION",tQ[tQ.JOIN_CHOOSE_SERVER=27]="JOIN_CHOOSE_SERVER",tQ[tQ.REQ_USER_ACCOUNT=196]="REQ_USER_ACCOUNT",tQ[tQ.JOIN_GATEWAY=28]="JOIN_GATEWAY",tQ[tQ.PUBLISH=30]="PUBLISH",tQ[tQ.SUBSCRIBE=29]="SUBSCRIBE",tQ[tQ.WS_COMPRESSOR_INIT=9430]="WS_COMPRESSOR_INIT",tQ[tQ.STREAM_SWITCH=32]="STREAM_SWITCH",tQ[tQ.AUDIO_SENDING_STOPPED=33]="AUDIO_SENDING_STOPPED",tQ[tQ.VIDEO_SENDING_STOPPED=34]="VIDEO_SENDING_STOPPED",tQ[tQ.REQUEST_PROXY_APPCENTER=35]="REQUEST_PROXY_APPCENTER",tQ[tQ.REQUEST_PROXY_WORKER_MANAGER=36]="REQUEST_PROXY_WORKER_MANAGER",tQ[tQ.API_INVOKE=41]="API_INVOKE",tQ[tQ.FIRST_VIDEO_RECEIVED=348]="FIRST_VIDEO_RECEIVED",tQ[tQ.FIRST_AUDIO_RECEIVED=349]="FIRST_AUDIO_RECEIVED",tQ[tQ.FIRST_VIDEO_DECODE=350]="FIRST_VIDEO_DECODE",tQ[tQ.FIRST_AUDIO_DECODE=351]="FIRST_AUDIO_DECODE",tQ[tQ.ON_ADD_AUDIO_STREAM=352]="ON_ADD_AUDIO_STREAM",tQ[tQ.ON_ADD_VIDEO_STREAM=353]="ON_ADD_VIDEO_STREAM",tQ[tQ.ON_UPDATE_STREAM=356]="ON_UPDATE_STREAM",tQ[tQ.ON_REMOVE_STREAM=355]="ON_REMOVE_STREAM",tQ[tQ.JOIN_CHANNEL_TIMEOUT=407]="JOIN_CHANNEL_TIMEOUT",tQ[tQ.PEER_PUBLISH_STATUS=408]="PEER_PUBLISH_STATUS",tQ[tQ.WORKER_EVENT=156]="WORKER_EVENT",tQ[tQ.AP_WORKER_EVENT=160]="AP_WORKER_EVENT",tQ[tQ.JOIN_WEB_PROXY_AP=700]="JOIN_WEB_PROXY_AP",tQ[tQ.WEBSOCKET_QUIT=671]="WEBSOCKET_QUIT",tQ[tQ.USER_ANALYTICS=1e4]="USER_ANALYTICS",tQ[tQ.AUTOPLAY_FAILED=9178]="AUTOPLAY_FAILED",tQ}({});class rA{constructor(){jy(this,"baseInfoMap",new Map),jy(this,"proxyServer",void 0),jy(this,"eventUploadTimer",void 0),jy(this,"setSessionIdTimer",void 0),jy(this,"url",void 0),jy(this,"backupUrl",void 0),jy(this,"_appId",void 0),jy(this,"keyEventUploadPendingItems",[]),jy(this,"normalEventUploadPendingItems",[]),jy(this,"apiInvokeUploadPendingItems",[]),jy(this,"apiInvokeCount",0),jy(this,"ltsList",[]),jy(this,"lastSendNormalEventTime",Date.now()),jy(this,"customReportCounterTimer",void 0),jy(this,"customReportCount",0),jy(this,"extApiInvoke",async eQ=>{for(const AQ of eQ){const iQ=Wy(Wy({},AQ),{},{sid:null,invokeId:++this.apiInvokeCount,tag:Iv.TRACER});this.sendApiInvoke(iQ)}}),this.eventUploadTimer=window.setInterval(this.doSend.bind(this),Dy("EVENT_REPORT_SEND_INTERVAL")),this.setSessionIdTimer=window.setInterval(this.appendSessionId.bind(this),Dy("EVENT_REPORT_SEND_INTERVAL"))}getBaseInfoBySessionId(eQ){return this.baseInfoMap.get(eQ)}adjustSessionStartTime(eQ){if(!this.baseInfoMap.has(eQ)&&!this.baseInfoMap.get(eQ))return void Qy.error("adjust session ".concat(eQ," start time, sid is not exist or info is undefined"));const AQ=this.baseInfoMap.get(eQ),iQ=Date.now(),oQ=AQ.startTime;AQ.startTime=iQ,Qy.debug("rewrite session ".concat(eQ," startTime: ").concat(iQ," , ").concat(iQ-oQ,"ms")),this.baseInfoMap.set(eQ,AQ)}setAppId(eQ){this._appId=eQ}reportApiInvoke(eQ,AQ,iQ){AQ.timeout=AQ.timeout||6e4,AQ.reportResult=AQ.reportResult===void 0||AQ.reportResult;const oQ=Date.now();this.apiInvokeCount+=1;const rQ=this.apiInvokeCount,nQ=()=>({tag:AQ.tag,invokeId:rQ,sid:eQ,name:AQ.name,apiInvokeTime:oQ,options:AQ.options,states:AQ.states||null}),sQ=!!Dy("SHOW_REPORT_INVOKER_LOG");sQ&&Qy.info("".concat(AQ.name," start"),AQ.options);let aQ=!1;$v(AQ.timeout).then(()=>{aQ||(this.sendApiInvoke(Wy(Wy({},nQ()),{},{error:nv.API_INVOKE_TIMEOUT,success:!1})),Qy.debug("".concat(AQ.name," timeout")))});const cQ=new rv(nv.UNEXPECTED_ERROR,"".concat(AQ.name,": this api invoke is end"));return{onSuccess:gQ=>{const IQ=()=>{if(aQ)throw cQ;return aQ=!0,this.sendApiInvoke(Wy(Wy({},nQ()),{},{success:!0},AQ.reportResult&&{result:gQ})),sQ&&Qy.info("".concat(AQ.name," onSuccess")),gQ};return iQ?ry(IQ,AQ.name+"Success",iQ,()=>aQ=!0):IQ()},onError:gQ=>{const IQ=()=>{if(aQ)throw gQ;aQ=!0,this.sendApiInvoke(Wy(Wy({},nQ()),{},{success:!1,error:gQ})),sQ&&Qy.info("".concat(AQ.name," onFailure"),gQ.toString())};return iQ?ry(IQ,AQ.name+"Error",iQ,()=>aQ=!0):IQ()}}}sessionInit(eQ,AQ){if(this.baseInfoMap.has(eQ))return;const iQ=Date.now(),oQ=this.createBaseInfo(eQ,iQ);oQ.cname=AQ.cname;const rQ=Object.assign({},{willUploadConsoleLog:Dy("UPLOAD_LOG"),maxTouchPoints:navigator.maxTouchPoints,areaVersion:yy?"global":"oversea",areas:Dy("AREAS")&&Dy("AREAS").join(",")},AQ.extend),{stringUid:nQ,channelProfile:sQ,channelMode:aQ,isABTestSuccess:cQ,lsid:gQ,clientRole:IQ}=AQ,EQ=Date.now(),CQ=Wy(Wy({},oQ),{},{eventType:tA.SESSION_INIT,appid:AQ.appid,browser:navigator.userAgent,buildFormat:AQ.buildFormat,build:wy,lts:EQ,elapse:EQ-iQ,extend:JSON.stringify(rQ),mode:AQ.mode,process:Dy("PROCESS_ID"),appType:Dy("APP_TYPE"),success:!0,version:vy,stringUid:nQ,channelProfile:sQ,channelMode:aQ,isABTestSuccess:cQ,lsid:gQ,clientType:Dn(dQ=window.navigator.userAgent).call(dQ,"AgoraWebView")?42:20,clientRole:IQ,serviceId:Dy("PROCESS_ID"),extensionID:Dy("PLUGIN_INFO").join(",")||""});var dQ;this.send({type:iA.SESSION,data:CQ},!0)}joinChooseServer(eQ,AQ){const iQ=this.baseInfoMap.get(eQ);if(!iQ)return;const oQ=iQ.info,rQ=Date.now(),nQ=Wy(Wy({},oQ),{},{eventType:tA.JOIN_CHOOSE_SERVER,lts:rQ,eventElapse:AQ.elapse||rQ-AQ.lts,chooseServerAddr:AQ.csAddr,errorCode:AQ.ec,elapse:rQ-iQ.startTime,success:AQ.succ,chooseServerAddrList:JSON.stringify(AQ.serverList),uid:AQ.uid?parseInt(AQ.uid):null,cid:AQ.cid?parseInt(AQ.cid):null,chooseServerIp:AQ.csIp||"",opid:AQ.opid,unilbsServerIds:AQ.unilbsServerIds,extend:AQ.extend||void 0,isHttp3:AQ.isHttp3});this.send({type:iA.JOIN_CHOOSE_SERVER,data:nQ},!0)}reqUserAccount(eQ,AQ){const iQ=this.baseInfoMap.get(eQ);if(!iQ)return;const oQ=iQ.info,rQ=Date.now(),nQ=Wy(Wy({},oQ),{},{eventType:tA.REQ_USER_ACCOUNT,lts:rQ,success:AQ.success,serverAddress:AQ.serverAddr,stringUid:AQ.stringUid,uid:AQ.uid,errorCode:AQ.errorCode,elapse:AQ.elapse||rQ-iQ.startTime,eventElapse:rQ-AQ.lts,extend:JSON.stringify(AQ.extend)});this.send({type:iA.REQ_USER_ACCOUNT,data:nQ},!0)}joinGateway(eQ,AQ){const iQ=this.baseInfoMap.get(eQ);if(!iQ)return;const oQ=iQ.info;AQ.vid&&(oQ.vid=AQ.vid),oQ.uid=AQ.uid,oQ.cid=AQ.cid;const rQ=Date.now(),{firstSuccess:nQ,avoidJoinStartTime:sQ}=AQ,aQ=rQ-(nQ&&sQ?sQ:iQ.startTime),cQ=Wy(Wy({},oQ),{},{eventType:tA.JOIN_GATEWAY,lts:rQ,gatewayAddr:AQ.addr,success:AQ.succ,errorCode:AQ.ec,errorMsg:AQ.errorMsg||"",elapse:aQ,eventElapse:rQ-AQ.lts,firstSuccess:nQ,signalChannel:AQ.signalChannel,preload:AQ.preload?1:0});AQ.succ&&(iQ.lastJoinSuccessTime=rQ),this.send({type:iA.JOIN_GATEWAY,data:cQ},!0)}joinChannelTimeout(eQ,AQ){const iQ=this.baseInfoMap.get(eQ);if(!iQ)return;const oQ=Date.now(),rQ=Wy(Wy({},iQ.info),{},{lts:oQ,timeout:AQ,elapse:oQ-iQ.startTime});this.send({type:iA.JOIN_CHANNEL_TIMEOUT,data:rQ},!0)}publish(eQ,AQ){const iQ=this.baseInfoMap.get(eQ);if(!iQ)return;const oQ=iQ.info,rQ=Date.now(),nQ=Wy(Wy({},oQ),{},{eventType:tA.PUBLISH,lts:rQ,eventElapse:AQ.eventElapse,elapse:rQ-iQ.startTime,success:AQ.succ,errorCode:AQ.ec,videoName:AQ.videoName,audioName:AQ.audioName,screenName:AQ.screenName,screenshare:AQ.screenshare,audio:AQ.audio,video:AQ.video,p2pid:AQ.p2pid,publishRequestid:AQ.publishRequestid});this.send({type:iA.PUBLISH,data:nQ},!0)}subscribe(eQ,AQ,iQ){const oQ=this.baseInfoMap.get(eQ);if(!oQ)return;const rQ=oQ.info,nQ=Date.now(),sQ=Wy(Wy({},rQ),{},{eventType:tA.SUBSCRIBE,lts:nQ,eventElapse:AQ.eventElapse,elapse:nQ-oQ.startTime,success:AQ.succ,errorCode:AQ.ec,video:AQ.video,audio:AQ.audio,subscribeRequestid:AQ.subscribeRequestid,p2pid:AQ.p2pid,preSsrc:AQ.preSsrc?1:0},iQ&&{extend:JSON.stringify({isMassSubscribe:!0})});typeof AQ.peerid=="string"?sQ.peerSuid=AQ.peerid:sQ.peer=AQ.peerid,this.send({type:iA.SUBSCRIBE,data:sQ},!0)}wsCompressorInit(eQ){var AQ;const iQ=[...d_(AQ=this.baseInfoMap).call(AQ)],oQ=iQ.length?iQ[0]:"UnableToGetSid",rQ=this.baseInfoMap.get(oQ);if(!rQ)return;const nQ=rQ.info,sQ=Date.now(),aQ=Wy(Wy({},nQ),{},{eventType:tA.WS_COMPRESSOR_INIT,lts:sQ,eventElapse:eQ.eventElapse,elapse:sQ-rQ.startTime,status:eQ.status?1:2});this.send({type:iA.WS_COMPRESSOR_INIT,data:aQ},!0)}firstRemoteVideoDecode(eQ,AQ,iQ,oQ){const rQ=this.baseInfoMap.get(eQ);if(!rQ)return;const nQ=rQ.info,sQ=Date.now(),aQ=Wy(Wy(Wy({},nQ),oQ),{},{elapse:sQ-rQ.startTime,eventType:AQ,lts:sQ,firstDecodeFrame:Math.max((oQ.firstFrame||sQ)-rQ.startTime,0),apEnd:Math.max(oQ.apEnd-rQ.startTime,0),apStart:Math.max(oQ.apStart-rQ.startTime,0),joinGwEnd:Math.max(oQ.joinGwEnd-rQ.startTime,0),joinGwStart:Math.max(oQ.joinGwStart-rQ.startTime,0),pcEnd:Math.max(oQ.pcEnd-rQ.startTime,0),pcStart:Math.max(oQ.pcStart-rQ.startTime,0),subscriberEnd:Math.max(oQ.subscriberEnd-rQ.startTime,0),subscriberStart:Math.max(oQ.subscriberStart-rQ.startTime,0),videoAddNotify:Math.max(oQ.videoAddNotify-rQ.startTime,0)});this.send({type:iQ,data:aQ},!0)}firstRemoteFrame(eQ,AQ,iQ,oQ){const rQ=this.baseInfoMap.get(eQ);if(!rQ)return;const nQ=rQ.info,sQ=Date.now(),aQ=Wy(Wy(Wy({},nQ),oQ),{},{elapse:sQ-rQ.startTime,eventType:AQ,lts:sQ});this.send({type:iQ,data:aQ},!0)}pcStats(eQ,AQ){const iQ=this.baseInfoMap.get(eQ);if(!iQ)return;const oQ=iQ.info,rQ=Date.now(),nQ=Wy(Wy(Wy({},oQ),AQ),{},{vid:oQ.vid===void 0?0:Number(oQ.vid),elapse:rQ-iQ.startTime,eventType:tA.PC_STATS,lts:rQ,preallocation:AQ.preallocation?1:0});this.send({type:iA.PC_STATS,data:nQ},!0)}updateRemoteRTPCapabilities(eQ,AQ){if(eQ){const iQ=this.baseInfoMap.get(eQ);if(!iQ)return;const oQ=iQ.info,rQ=Date.now(),nQ=Wy(Wy(Wy({},oQ),AQ),{},{vid:oQ.vid===void 0?0:Number(oQ.vid),eventType:tA.UPDATE_REMOTE_RTPCAPABILITIES,lts:rQ});this.send({type:iA.UPDATE_REMOTE_RTPCAPABILITIES,data:nQ},!0)}}onGatewayStream(eQ,AQ,iQ,oQ){const rQ=this.baseInfoMap.get(eQ);if(!rQ)return;const nQ=rQ.info,sQ=Date.now(),aQ=Wy(Wy(Wy({},nQ),oQ),{},{eventType:AQ,lts:sQ});this.send({type:iQ,data:aQ},!0)}streamSwitch(eQ,AQ){const iQ=this.baseInfoMap.get(eQ);if(!iQ)return;const oQ=iQ.info,rQ=Date.now(),nQ=Wy(Wy({},oQ),{},{eventType:tA.STREAM_SWITCH,lts:rQ,isDual:AQ.isdual,elapse:rQ-iQ.startTime,success:AQ.succ});this.send({type:iA.STREAM_SWITCH,data:nQ},!0)}requestProxyAppCenter(eQ,AQ){const iQ=this.baseInfoMap.get(eQ);if(!iQ)return;const oQ=iQ.info,rQ=Date.now(),nQ=Wy(Wy({},oQ),{},{eventType:tA.REQUEST_PROXY_APPCENTER,lts:rQ,eventElapse:rQ-AQ.lts,elapse:rQ-iQ.startTime,APAddr:AQ.APAddr,workerManagerList:AQ.workerManagerList,response:AQ.response,errorCode:AQ.ec,success:AQ.succ});this.send({type:iA.REQUEST_PROXY_APPCENTER,data:nQ},!0)}requestProxyWorkerManager(eQ,AQ){const iQ=this.baseInfoMap.get(eQ);if(!iQ)return;const oQ=iQ.info,rQ=Date.now(),nQ=Wy(Wy({},oQ),{},{eventType:tA.REQUEST_PROXY_WORKER_MANAGER,lts:rQ,eventElapse:rQ-AQ.lts,elapse:rQ-iQ.startTime,workerManagerAddr:AQ.workerManagerAddr,response:AQ.response,errorCode:AQ.ec,success:AQ.succ});this.send({type:iA.REQUEST_PROXY_WORKER_MANAGER,data:nQ},!0)}setProxyServer(eQ){this.proxyServer=eQ,eQ?Qy.debug("reportProxyServerurl: ".concat(eQ)):Qy.debug("disable reportProxyServerurl: ".concat(eQ))}peerPublishStatus(eQ,AQ){const iQ=this.baseInfoMap.get(eQ);if(!iQ)return;const oQ=iQ.info,rQ=Date.now(),nQ=Wy(Wy({},oQ),{},{subscribeElapse:AQ.subscribeElapse,peer:AQ.peer,peerPublishDuration:Math.max(AQ.audioPublishDuration,AQ.videoPublishDuration),audiotag:AQ.audioPublishDuration>0?1:-1,videotag:AQ.videoPublishDuration>0?1:-1,lts:rQ,elapse:rQ-iQ.startTime,joinChannelSuccessElapse:rQ-(iQ.lastJoinSuccessTime||rQ),peerPublishDurationVideo:AQ.videoPublishDuration,peerPublishDurationAudio:AQ.audioPublishDuration});this.send({type:iA.PEER_PUBLISH_STATUS,data:nQ},!0)}workerEvent(eQ,AQ){const iQ=this.baseInfoMap.get(eQ);if(!iQ)return;const oQ=iQ.info,rQ=Date.now();(function(nQ,sQ,aQ){const cQ=nQ[sQ];if(!cQ||typeof cQ!="string")return[nQ];nQ[sQ]="";const gQ=Xv(JSON.stringify(nQ));let IQ=0;const EQ=[];let CQ=0;for(let dQ=0;dQ<cQ.length;dQ++)CQ+=cQ.charCodeAt(dQ)<=127?1:3,CQ<=aQ-gQ||(EQ[EQ.length]=iv(iv({},nQ),{},{[sQ]:cQ.substring(IQ,dQ)}),IQ=dQ,CQ=cQ.charCodeAt(dQ)<=127?1:3);return IQ!==cQ.length-1&&(EQ[EQ.length]=iv(iv({},nQ),{},{[sQ]:cQ.substring(IQ)})),EQ})(Wy(Wy(Wy({},oQ),AQ),{},{elapse:rQ-iQ.startTime,lts:rQ,productType:"WebRTC"}),"payload",1300).forEach(nQ=>this.send({type:iA.WORKER_EVENT,data:nQ},!0))}apworkerEvent(eQ,AQ){const iQ=this.baseInfoMap.get(eQ);if(!iQ)return;const oQ=iQ.info,rQ=Date.now(),nQ=Wy(Wy(Wy({},oQ),AQ),{},{elapse:rQ-iQ.startTime,lts:rQ});this.send({type:iA.AP_WORKER_EVENT,data:nQ},!0)}joinWebProxyAP(eQ,AQ){const iQ=this.baseInfoMap.get(eQ);if(!iQ)return;const oQ=iQ.info,rQ=Date.now(),nQ=Wy(Wy(Wy({},oQ),AQ),{},{elapse:rQ-iQ.startTime,lts:rQ,extend:AQ.extend||void 0});this.send({type:iA.JOIN_WEB_PROXY_AP,data:nQ},!0)}WebSocketQuit(eQ,AQ){const iQ=this.baseInfoMap.get(eQ);if(!iQ)return;const oQ=iQ.info,rQ=Date.now(),nQ=Wy(Wy(Wy({},oQ),AQ),{},{elapse:rQ-iQ.startTime,lts:rQ});this.send({type:iA.WEBSOCKET_QUIT,data:nQ},!0)}async sendCustomReportMessage(eQ,AQ){if(this.customReportCount+=AQ.length,this.customReportCount>Dy("CUSTOM_REPORT_LIMIT"))throw new rv(nv.CUSTOM_REPORT_FREQUENCY_TOO_HIGH);this.customReportCounterTimer||(this.customReportCounterTimer=window.setInterval(()=>{this.customReportCount=0},5e3));const iQ=Date.now(),oQ=AQ.map(rQ=>({type:iA.USER_ANALYTICS,data:Wy(Wy({sid:eQ},rQ),{},{lts:iQ})}));try{Dy("NEW_REPORT_SERVER")?await this.postDataToStatsCollector2(oQ):await this.postDataToStatsCollector(oQ)}catch(rQ){throw Qy.error("send custom report message failed",rQ.toString()),new rv(nv.CUSTOM_REPORT_SEND_FAILED,rQ.message)}}sendApiInvoke(eQ){const AQ=Dy("NOT_REPORT_EVENT");if(eQ.tag&&Dn(AQ)&&Dn(AQ).call(AQ,eQ.tag))return!1;if(eQ.sid===null)return this.apiInvokeUploadPendingItems.push(eQ),!1;const iQ=this.baseInfoMap.get(eQ.sid);if(!iQ)return this.apiInvokeUploadPendingItems.push(eQ),!1;const{cname:oQ,uid:rQ,cid:nQ}=iQ.info;let sQ;if(eQ.lts=eQ.lts||Date.now(),eQ.error)if(eQ.error instanceof rv){const{code:cQ,message:gQ}=eQ.error;sQ=cQ||gQ||eQ.error.toString()}else sQ=eQ.error.toString();const aQ={invokeId:eQ.invokeId,sid:eQ.sid,cname:oQ,cid:nQ,uid:rQ,lts:eQ.lts,success:eQ.success,elapse:eQ.lts-iQ.startTime,execElapse:eQ.lts-eQ.apiInvokeTime,apiName:eQ.name,options:eQ.options?JSON.stringify(eQ.options):void 0,execStates:eQ.states?JSON.stringify(eQ.states):void 0,execResult:eQ.result?JSON.stringify(eQ.result):void 0,errorCode:eQ.error?sQ:void 0,errorMsg:eQ.error?JSON.stringify(eQ.error):void 0};return this.send({type:iA.API_INVOKE,data:aQ},!1),!0}appendSessionId(){rA.__CLIENT_LIST__.forEach(eQ=>{if(eQ._sessionId){const AQ=this.apiInvokeUploadPendingItems.length;for(let iQ=0;iQ<AQ;iQ++){const oQ=this.apiInvokeUploadPendingItems.shift();oQ&&(oQ.sid=eQ._sessionId,this.sendApiInvoke(Object.assign({},oQ)))}}})}send(eQ,AQ){if(AQ)return this.keyEventUploadPendingItems.push(eQ),void this.sendItems(this.keyEventUploadPendingItems,!0);this.normalEventUploadPendingItems.push(eQ),this.normalEventUploadPendingItems.length>Dy("NORMAL_EVENT_QUEUE_CAPACITY")&&this.normalEventUploadPendingItems.splice(0,1),this.normalEventUploadPendingItems.length>=10&&this.sendItems(this.normalEventUploadPendingItems,!1)}doSend(){this.keyEventUploadPendingItems.length>0&&this.sendItems(this.keyEventUploadPendingItems,!0),this.normalEventUploadPendingItems.length>0&&Date.now()-this.lastSendNormalEventTime>=5e3&&this.sendItems(this.normalEventUploadPendingItems,!1)}sendItems(eQ,AQ){const iQ=[],oQ=[];for(;eQ.length;){const nQ=eQ.shift();iQ.length<20?iQ.push(nQ):oQ.push(nQ)}eQ.push(...oQ);for(const nQ of[...iQ]){var rQ;this.ltsList.indexOf(nQ.data.lts)!==-1?(nQ.data.lts=this.ltsList[this.ltsList.length-1]+1,this.ltsList.push(nQ.data.lts)):(this.ltsList.push(nQ.data.lts),aE(rQ=this.ltsList).call(rQ,(sQ,aQ)=>sQ-aQ))}return AQ||(this.lastSendNormalEventTime=Date.now()),Dy("ENABLE_EVENT_REPORT")&&iQ.length&&(Dy("NEW_REPORT_SERVER")?this.postDataToStatsCollector2(iQ):this.postDataToStatsCollector(iQ)).catch((nQ=>sQ=>{Dy("EVENT_REPORT_RETRY")&&(AQ?this.keyEventUploadPendingItems=this.keyEventUploadPendingItems.concat(nQ):(this.normalEventUploadPendingItems=this.normalEventUploadPendingItems.concat(nQ),this.normalEventUploadPendingItems.length>Dy("NORMAL_EVENT_QUEUE_CAPACITY")&&(this.normalEventUploadPendingItems.splice(0,this.normalEventUploadPendingItems.length-Dy("NORMAL_EVENT_QUEUE_CAPACITY")),Qy.warning("report: drop normal events"))))})(iQ)),eQ}async postDataToStatsCollector2(eQ){Vv.networkState===Pv.OFFLINE&&await Gh.race([Vv.onlineWaiter,$v(2*_y.maxRetryTimeout)]);const AQ=rQ=>{let nQ=new Uint8Array;return rQ.forEach(sQ=>{const aQ=mv(JSON.stringify(sQ.data)),cQ=new ArrayBuffer(5),gQ=(EQ=>{let CQ=0;return Object.entries(iA).forEach(dQ=>{let[lQ,uQ]=dQ;uQ===EQ.type&&(CQ=nA[lQ])}),CQ})(sQ),IQ=new DataView(cQ);IQ.setUint16(0,aQ.byteLength,!0),IQ.setUint8(2,255&gQ),IQ.setUint8(3,gQ>>>8&255),IQ.setUint8(4,gQ>>>16&255),nQ=fv(nQ,new Uint8Array(cQ)),nQ=fv(nQ,aQ)}),nQ},iQ="event";let oQ=this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(Dy("NEW_REPORT_SERVER_DOMAINS")[0],"&p=443&d=").concat(iQ):"https://".concat(Dy("NEW_REPORT_SERVER_DOMAINS")[0],"/").concat(iQ);for(let rQ=0;rQ<2;rQ+=1){rQ===1&&(oQ=this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(Dy("NEW_REPORT_SERVER_DOMAINS")[1],"&p=443&d=").concat(iQ):"https://".concat(Dy("NEW_REPORT_SERVER_DOMAINS")[1],"/").concat(iQ));try{await Ry(oQ,{timeout:1e4,data:AQ(eQ),headers:Wy(Wy({biz:"webrtc",sendts:Math.round(Date.now()/1e3),debug:"false"},this._appId&&{appid:this._appId}),{},{"Content-Type":"application/octet-stream"})},!0)}catch(nQ){if(rQ===1)throw nQ;continue}return}}async postDataToStatsCollector(eQ){let AQ=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const iQ={msgType:"EventMessages",sentTs:Math.round(Date.now()/1e3),payloads:eQ.map(nQ=>JSON.stringify(nQ)),vid:(nQ=>{const sQ=nQ&&nQ.data.sid&&this.baseInfoMap.get(nQ.data.sid);return sQ&&sQ.info.vid&&+sQ.info.vid||0})(eQ[0])};Vv.networkState===Pv.OFFLINE&&await Gh.race([Vv.onlineWaiter,$v(2*_y.maxRetryTimeout)]);const oQ=AQ?"/events/proto-raws":"/events/messages";let rQ=this.url||(this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(Dy("EVENT_REPORT_DOMAIN"),"&p=").concat(Dy("STATS_COLLECTOR_PORT"),"&d=").concat(oQ):"https://".concat(Dy("EVENT_REPORT_DOMAIN"),":").concat(Dy("STATS_COLLECTOR_PORT")).concat(oQ));for(let nQ=0;nQ<2;nQ+=1){nQ===1&&(rQ=this.backupUrl||(this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(Dy("EVENT_REPORT_BACKUP_DOMAIN"),"&p=").concat(Dy("STATS_COLLECTOR_PORT"),"&d=").concat(oQ):"https://".concat(Dy("EVENT_REPORT_BACKUP_DOMAIN"),":").concat(Dy("STATS_COLLECTOR_PORT")).concat(oQ)));try{AQ?await Cy(rQ,{timeout:1e4,data:iQ}):await Ry(rQ,{timeout:1e4,data:iQ})}catch(sQ){if(nQ===1)throw sQ;continue}return}}createBaseInfo(eQ,AQ){const iQ=Object.assign({},eA);return iQ.sid=eQ,this.baseInfoMap.set(eQ,{info:iQ,startTime:AQ}),iQ}reportResourceTiming(eQ,AQ){const iQ=performance.getEntriesByName(eQ),oQ=iQ[iQ.length-1];oQ&&this.reportApiInvoke(AQ,{name:"Client.resourceTiming",options:oQ,tag:Iv.TRACER}).onSuccess()}}function oA(){let tQ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(eQ,AQ,iQ){const oQ=iQ.value;if(typeof oQ=="function"){const rQ=tQ.className||eQ.__className__||(eQ.constructor.name==="AgoraRTCClient"?"Client":eQ.constructor.name);iQ.value=function(){for(var nQ=arguments.length,sQ=new Array(nQ),aQ=0;aQ<nQ;aQ++)sQ[aQ]=arguments[aQ];let cQ=sQ;if(tQ.argsMap)try{cQ=tQ.argsMap(this,...sQ)}catch(IQ){Qy.warning(IQ),cQ=[]}try{JSON.stringify(cQ)}catch{Qy.warning("arguments for method ".concat(rQ,".").concat(String(AQ)," not serializable for apiInvoke.")),cQ=[]}const gQ=(tQ.report||sA).reportApiInvoke(this._sessionId||null,{name:"".concat(rQ,".").concat(String(AQ)),options:cQ,tag:Iv.TRACER,reportResult:tQ.reportResult},tQ.throttleTime);try{const IQ=oQ.apply(this,sQ);return IQ instanceof Gh?IQ.then(EQ=>(gQ.onSuccess(tQ.reportResult&&EQ),EQ)).catch(EQ=>{throw gQ.onError(EQ),EQ}):(gQ.onSuccess(tQ.reportResult&&IQ),IQ)}catch(IQ){throw gQ.onError(IQ),IQ}}}return iQ}}jy(rA,"__CLIENT_LIST__",[]);const sA=new rA;Hy.on("REPORT_LOG_UPLOAD",tQ=>{tQ.networkState=Vv.networkState,sA.reportApiInvoke(null,{name:"logUploadError",options:tQ,tag:Iv.TRACER}).onSuccess("logUploadError")});const aA=["CHINA","GLOBAL"],cA=function(){const tQ="us".concat("erna","me"),eQ="pa".concat("sswo","rd"),AQ=["t","s","t"];AQ.splice(1,0,"e");const iQ=AQ.join(""),oQ=[];for(let sQ=0;sQ<6;sQ++)oQ.push("1");const rQ=oQ.join(""),nQ={};return nQ[tQ]=iQ,nQ[eQ]=rQ,Object.assign(nQ,{turnServerURL:"",tcpport:3433,udpport:3478,forceturn:!1})}();window.DEFAULT_TURN_CONFIG=cA,yy||(Oy.WEBCS_DOMAIN=["ap-web-1-oversea.agora.io","ap-web-1-north-america.agora.io"],Oy.WEBCS_DOMAIN_BACKUP_LIST=["ap-web-2-oversea.agora.io","ap-web-2-north-america.agora.io"],Oy.PROXY_CS=["proxy-ap-web-oversea.agora.io","proxy-ap-web-america.agora.io"],Oy.CDS_AP=["cds-ap-web-oversea.agora.io","cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],Oy.ACCOUNT_REGISTER=["sua-ap-web-oversea.agora.io","sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],Oy.UAP_AP=["uap-ap-web-oversea.agora.io","uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],Oy.LOG_UPLOAD_SERVER="logservice-oversea.agora.io",Oy.EVENT_REPORT_DOMAIN="statscollector-1-oversea.agora.io",Oy.EVENT_REPORT_BACKUP_DOMAIN="statscollector-2-oversea.agora.io",Oy.PROXY_SERVER_TYPE3="webrtc-cloud-proxy.agora.io",Oy.AREAS=["NORTH_AMERICA","OVERSEA"]);const dA=[[0,1,2,3,4,5,5],[0,2,2,3,4,5,5],[0,3,3,3,4,5,5],[0,4,4,4,4,5,5],[0,5,5,5,5,5,5]],lA=[];function uA(tQ,eQ){return!!eQ&&lA.some(AQ=>AQ.uid===tQ&&AQ.channelName===eQ)}rA.__CLIENT_LIST__=lA;var hA=If.forEach,pA=Bn("forEach")?[].forEach:function(tQ){return hA(this,tQ,arguments.length>1?arguments[1]:void 0)};wi({target:"Array",proto:!0,forced:[].forEach!=pA},{forEach:pA});var _A=Xi("Array").forEach,EA=pn,mA=Ze,fA=l,TA=_A,SA=Array.prototype,gA={DOMTokenList:!0,NodeList:!0},RA=function(tQ){var eQ=tQ.forEach;return tQ===SA||fA(SA,tQ)&&eQ===SA.forEach||mA(gA,EA(tQ))?TA:eQ},CA=i(RA),IA=Je,vA=eo;wi({target:"Object",stat:!0,forced:n(function(){vA(1)})},{keys:function(tQ){return vA(IA(tQ))}});var yA=i(ie.Object.keys),AA=i(zn),bA=wi,wA=vm,OA=d([].reverse),NA=[1,2];bA({target:"Array",proto:!0,forced:String(NA)===String(NA.reverse())},{reverse:function(){return wA(this)&&(this.length=this.length),OA(this)}});var DA=Xi("Array").reverse,PA=l,LA=DA,kA=Array.prototype,MA=function(tQ){var eQ=tQ.reverse;return tQ===kA||PA(kA,tQ)&&eQ===kA.reverse?LA:eQ},UA=MA,xA=i(UA),VA=wi,FA=vm,BA=jc,jA=te,GA=xi,WA=Gi,HA=Z,KA=E_,YA=ht,qA=Xc,zA=Um("slice"),JA=YA("species"),XA=Array,QA=Math.max;VA({target:"Array",proto:!0,forced:!zA},{slice:function(tQ,eQ){var AQ,iQ,oQ,rQ=HA(this),nQ=WA(rQ),sQ=GA(tQ,nQ),aQ=GA(eQ===void 0?nQ:eQ,nQ);if(FA(rQ)&&(AQ=rQ.constructor,(BA(AQ)&&(AQ===XA||FA(AQ.prototype))||jA(AQ)&&(AQ=AQ[JA])===null)&&(AQ=void 0),AQ===XA||AQ===void 0))return qA(rQ,sQ,aQ);for(iQ=new(AQ===void 0?XA:AQ)(QA(aQ-sQ,0)),oQ=0;sQ<aQ;sQ++,oQ++)sQ in rQ&&KA(iQ,oQ,rQ[sQ]);return iQ.length=oQ,iQ}});var ZA=Xi("Array").slice,$A=l,eb=ZA,tb=Array.prototype,ib=function(tQ){var eQ=tQ.slice;return tQ===tb||$A(tb,tQ)&&eQ===tb.slice?eb:eQ},nb=i(ib);function rb(tQ,eQ,AQ,iQ,oQ){var rQ,nQ,sQ,aQ={};return CA(rQ=yA(iQ)).call(rQ,function(cQ){aQ[cQ]=iQ[cQ]}),aQ.enumerable=!!aQ.enumerable,aQ.configurable=!!aQ.configurable,("value"in aQ||aQ.initializer)&&(aQ.writable=!0),aQ=AA(nQ=xA(sQ=nb(AQ).call(AQ)).call(sQ)).call(nQ,function(cQ,gQ){return gQ(tQ,eQ,cQ)||cQ},aQ),oQ&&aQ.initializer!==void 0&&(aQ.value=aQ.initializer?aQ.initializer.call(oQ):void 0,aQ.initializer=void 0),aQ.initializer===void 0&&(Cm(tQ,eQ,aQ),aQ=null),aQ}let ob=function(tQ){return tQ.L1T1="L1T1",tQ.L1T2="L1T2",tQ.L1T3="L1T3",tQ.L1T3_KEY="L1T3_KEY",tQ.L2T1_KEY="L2T1_KEY",tQ.L2T2_KEY="L2T2_KEY",tQ.L2T3_KEY="L2T3_KEY",tQ.L3T1_KEY="L3T1_KEY",tQ.L3T2_KEY="L3T2_KEY",tQ.L3T3_KEY="L3T3_KEY",tQ}({}),sb=function(tQ){return tQ.CERTIFICATE="certificate",tQ.CODEC="codec",tQ.CANDIDATE_PAIR="candidate-pair",tQ.LOCAL_CANDIDATE="local-candidate",tQ.REMOTE_CANDIDATE="remote-candidate",tQ.INBOUND="inbound-rtp",tQ.TRACK="track",tQ.OUTBOUND="outbound-rtp",tQ.PC="peer-connection",tQ.REMOTE_INBOUND="remote-inbound-rtp",tQ.REMOTE_OUTBOUND="remote-outbound-rtp",tQ.TRANSPORT="transport",tQ.CSRC="csrc",tQ.DATA_CHANNEL="data-channel",tQ.STREAM="stream",tQ.SENDER="sender",tQ.RECEIVER="receiver",tQ}({}),ab=function(tQ){return tQ[tQ.ACCESS_POINT=101]="ACCESS_POINT",tQ[tQ.UNILBS=201]="UNILBS",tQ[tQ.STRING_UID_ALLOCATOR=901]="STRING_UID_ALLOCATOR",tQ}({}),cb=function(tQ){return tQ[tQ.IIIEGAL_APPID=1]="IIIEGAL_APPID",tQ[tQ.IIIEGAL_UID=2]="IIIEGAL_UID",tQ[tQ.INTERNAL_ERROR=3]="INTERNAL_ERROR",tQ}({}),db=function(tQ){return tQ[tQ.INVALID_VENDOR_KEY=5]="INVALID_VENDOR_KEY",tQ[tQ.INVALID_CHANNEL_NAME=7]="INVALID_CHANNEL_NAME",tQ[tQ.INTERNAL_ERROR=8]="INTERNAL_ERROR",tQ[tQ.NO_AUTHORIZED=9]="NO_AUTHORIZED",tQ[tQ.DYNAMIC_KEY_TIMEOUT=10]="DYNAMIC_KEY_TIMEOUT",tQ[tQ.NO_ACTIVE_STATUS=11]="NO_ACTIVE_STATUS",tQ[tQ.DYNAMIC_KEY_EXPIRED=13]="DYNAMIC_KEY_EXPIRED",tQ[tQ.STATIC_USE_DYNAMIC_KEY=14]="STATIC_USE_DYNAMIC_KEY",tQ[tQ.DYNAMIC_USE_STATIC_KEY=15]="DYNAMIC_USE_STATIC_KEY",tQ[tQ.USER_OVERLOAD=16]="USER_OVERLOAD",tQ[tQ.FORBIDDEN_REGION=18]="FORBIDDEN_REGION",tQ[tQ.CANNOT_MEET_AREA_DEMAND=19]="CANNOT_MEET_AREA_DEMAND",tQ}({}),lb=function(tQ){return tQ[tQ.NO_FLAG_SET=100]="NO_FLAG_SET",tQ[tQ.FLAG_SET_BUT_EMPTY=101]="FLAG_SET_BUT_EMPTY",tQ[tQ.INVALID_FALG_SET=102]="INVALID_FALG_SET",tQ[tQ.FLAG_SET_BUT_NO_RE=103]="FLAG_SET_BUT_NO_RE",tQ[tQ.INVALID_SERVICE_ID=104]="INVALID_SERVICE_ID",tQ[tQ.NO_SERVICE_AVAILABLE=200]="NO_SERVICE_AVAILABLE",tQ[tQ.NO_SERVICE_AVAILABLE_P2P=201]="NO_SERVICE_AVAILABLE_P2P",tQ[tQ.NO_SERVICE_AVAILABLE_VOICE=202]="NO_SERVICE_AVAILABLE_VOICE",tQ[tQ.NO_SERVICE_AVAILABLE_WEBRTC=203]="NO_SERVICE_AVAILABLE_WEBRTC",tQ[tQ.NO_SERVICE_AVAILABLE_CDS=204]="NO_SERVICE_AVAILABLE_CDS",tQ[tQ.NO_SERVICE_AVAILABLE_CDN=205]="NO_SERVICE_AVAILABLE_CDN",tQ[tQ.NO_SERVICE_AVAILABLE_TDS=206]="NO_SERVICE_AVAILABLE_TDS",tQ[tQ.NO_SERVICE_AVAILABLE_REPORT=207]="NO_SERVICE_AVAILABLE_REPORT",tQ[tQ.NO_SERVICE_AVAILABLE_APP_CENTER=208]="NO_SERVICE_AVAILABLE_APP_CENTER",tQ[tQ.NO_SERVICE_AVAILABLE_ENV0=209]="NO_SERVICE_AVAILABLE_ENV0",tQ[tQ.NO_SERVICE_AVAILABLE_VOET=210]="NO_SERVICE_AVAILABLE_VOET",tQ[tQ.NO_SERVICE_AVAILABLE_STRING_UID=211]="NO_SERVICE_AVAILABLE_STRING_UID",tQ[tQ.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS=212]="NO_SERVICE_AVAILABLE_WEBRTC_UNILBS",tQ[tQ.NO_SERVICE_AVAILABLE_UNILBS_FLV=213]="NO_SERVICE_AVAILABLE_UNILBS_FLV",tQ}({}),ub=function(tQ){return tQ[tQ.K_TIMESTAMP_EXPIRED=2]="K_TIMESTAMP_EXPIRED",tQ[tQ.K_CHANNEL_PERMISSION_INVALID=3]="K_CHANNEL_PERMISSION_INVALID",tQ[tQ.K_CERTIFICATE_INVALID=4]="K_CERTIFICATE_INVALID",tQ[tQ.K_CHANNEL_NAME_EMPTY=5]="K_CHANNEL_NAME_EMPTY",tQ[tQ.K_CHANNEL_NOT_FOUND=6]="K_CHANNEL_NOT_FOUND",tQ[tQ.K_TICKET_INVALID=7]="K_TICKET_INVALID",tQ[tQ.K_CHANNEL_CONFLICTED=8]="K_CHANNEL_CONFLICTED",tQ[tQ.K_SERVICE_NOT_READY=9]="K_SERVICE_NOT_READY",tQ[tQ.K_SERVICE_TOO_HEAVY=10]="K_SERVICE_TOO_HEAVY",tQ[tQ.K_UID_BANNED=14]="K_UID_BANNED",tQ[tQ.K_IP_BANNED=15]="K_IP_BANNED",tQ[tQ.K_CHANNEL_BANNED=16]="K_CHANNEL_BANNED",tQ[tQ.K_AUTO_REBALANCE=28]="K_AUTO_REBALANCE",tQ[tQ.WARN_NO_AVAILABLE_CHANNEL=103]="WARN_NO_AVAILABLE_CHANNEL",tQ[tQ.WARN_LOOKUP_CHANNEL_TIMEOUT=104]="WARN_LOOKUP_CHANNEL_TIMEOUT",tQ[tQ.WARN_LOOKUP_CHANNEL_REJECTED=105]="WARN_LOOKUP_CHANNEL_REJECTED",tQ[tQ.WARN_OPEN_CHANNEL_TIMEOUT=106]="WARN_OPEN_CHANNEL_TIMEOUT",tQ[tQ.WARN_OPEN_CHANNEL_REJECTED=107]="WARN_OPEN_CHANNEL_REJECTED",tQ[tQ.WARN_REQUEST_DEFERRED=108]="WARN_REQUEST_DEFERRED",tQ[tQ.ERR_DYNAMIC_KEY_TIMEOUT=109]="ERR_DYNAMIC_KEY_TIMEOUT",tQ[tQ.ERR_NO_AUTHORIZED=110]="ERR_NO_AUTHORIZED",tQ[tQ.ERR_VOM_SERVICE_UNAVAILABLE=111]="ERR_VOM_SERVICE_UNAVAILABLE",tQ[tQ.ERR_NO_CHANNEL_AVAILABLE_CODE=112]="ERR_NO_CHANNEL_AVAILABLE_CODE",tQ[tQ.ERR_MASTER_VOCS_UNAVAILABLE=114]="ERR_MASTER_VOCS_UNAVAILABLE",tQ[tQ.ERR_INTERNAL_ERROR=115]="ERR_INTERNAL_ERROR",tQ[tQ.ERR_NO_ACTIVE_STATUS=116]="ERR_NO_ACTIVE_STATUS",tQ[tQ.ERR_INVALID_UID=117]="ERR_INVALID_UID",tQ[tQ.ERR_DYNAMIC_KEY_EXPIRED=118]="ERR_DYNAMIC_KEY_EXPIRED",tQ[tQ.ERR_STATIC_USE_DYANMIC_KE=119]="ERR_STATIC_USE_DYANMIC_KE",tQ[tQ.ERR_DYNAMIC_USE_STATIC_KE=120]="ERR_DYNAMIC_USE_STATIC_KE",tQ[tQ.ERR_NO_VOCS_AVAILABLE=2e3]="ERR_NO_VOCS_AVAILABLE",tQ[tQ.ERR_NO_VOS_AVAILABLE=2001]="ERR_NO_VOS_AVAILABLE",tQ[tQ.ERR_JOIN_CHANNEL_TIMEOUT=2002]="ERR_JOIN_CHANNEL_TIMEOUT",tQ[tQ.ERR_REPEAT_JOIN_CHANNEL=2003]="ERR_REPEAT_JOIN_CHANNEL",tQ[tQ.ERR_JOIN_BY_MULTI_IP=2004]="ERR_JOIN_BY_MULTI_IP",tQ[tQ.ERR_NOT_JOINED=2011]="ERR_NOT_JOINED",tQ[tQ.ERR_REPEAT_JOIN_REQUEST=2012]="ERR_REPEAT_JOIN_REQUEST",tQ[tQ.ERR_INVALID_VENDOR_KEY=2013]="ERR_INVALID_VENDOR_KEY",tQ[tQ.ERR_INVALID_CHANNEL_NAME=2014]="ERR_INVALID_CHANNEL_NAME",tQ[tQ.ERR_INVALID_STRINGUID=2015]="ERR_INVALID_STRINGUID",tQ[tQ.ERR_TOO_MANY_USERS=2016]="ERR_TOO_MANY_USERS",tQ[tQ.ERR_SET_CLIENT_ROLE_TIMEOUT=2017]="ERR_SET_CLIENT_ROLE_TIMEOUT",tQ[tQ.ERR_SET_CLIENT_ROLE_NO_PERMISSION=2018]="ERR_SET_CLIENT_ROLE_NO_PERMISSION",tQ[tQ.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE=2019]="ERR_SET_CLIENT_ROLE_ALREADY_IN_USE",tQ[tQ.ERR_PUBLISH_REQUEST_INVALID=2020]="ERR_PUBLISH_REQUEST_INVALID",tQ[tQ.ERR_SUBSCRIBE_REQUEST_INVALID=2021]="ERR_SUBSCRIBE_REQUEST_INVALID",tQ[tQ.ERR_NOT_SUPPORTED_MESSAGE=2022]="ERR_NOT_SUPPORTED_MESSAGE",tQ[tQ.ERR_ILLEAGAL_PLUGIN=2023]="ERR_ILLEAGAL_PLUGIN",tQ[tQ.ERR_REJOIN_TOKEN_INVALID=2024]="ERR_REJOIN_TOKEN_INVALID",tQ[tQ.ERR_REJOIN_USER_NOT_JOINED=2025]="ERR_REJOIN_USER_NOT_JOINED",tQ[tQ.ERR_INVALID_OPTIONAL_INFO=2027]="ERR_INVALID_OPTIONAL_INFO",tQ[tQ.ILLEGAL_AES_PASSWORD=2028]="ILLEGAL_AES_PASSWORD",tQ[tQ.ILLEGAL_CLIENT_ROLE_LEVEL=2029]="ILLEGAL_CLIENT_ROLE_LEVEL",tQ[tQ.ERR_TOO_MANY_BROADCASTERS=2031]="ERR_TOO_MANY_BROADCASTERS",tQ[tQ.ERR_TOO_MANY_SUBSCRIBERS=2032]="ERR_TOO_MANY_SUBSCRIBERS",tQ[tQ.ERR_LICENSE_MISSING=32769]="ERR_LICENSE_MISSING",tQ[tQ.ERR_LICENSE_EXPIRED=32771]="ERR_LICENSE_EXPIRED",tQ[tQ.ERR_LICENSE_MINUTES_EXCEEDED=32773]="ERR_LICENSE_MINUTES_EXCEEDED",tQ[tQ.ERR_LICENSE_PERIOD_INVALID=32774]="ERR_LICENSE_PERIOD_INVALID",tQ[tQ.ERR_LICENSE_MULTIPLE_SDK_SERVICE=32778]="ERR_LICENSE_MULTIPLE_SDK_SERVICE",tQ[tQ.ERR_LICENSE_ILLEGAL=32783]="ERR_LICENSE_ILLEGAL",tQ[tQ.ERR_TEST_RECOVER=9e3]="ERR_TEST_RECOVER",tQ[tQ.ERR_TEST_TRYNEXT=9001]="ERR_TEST_TRYNEXT",tQ[tQ.ERR_TEST_RETRY=9002]="ERR_TEST_RETRY",tQ}({}),hb=function(tQ){return tQ.CONNECTING="connecting",tQ.CONNECTED="connected",tQ.RECONNECTING="reconnecting",tQ.CLOSED="closed",tQ}({}),pb=function(tQ){return tQ.WS_CONNECTED="ws_connected",tQ.WS_RECONNECTING="ws_reconnecting",tQ.WS_CLOSED="ws_closed",tQ.WS_RECONNECT_WAITTING_FINISH="ws_reconnect_waitting_finish",tQ.WS_RECONNECT_CREATE_CONNECTION="ws_reconnect_create_connection",tQ.ON_BINARY_DATA="on_binary_data",tQ.REQUEST_RECOVER="request_recover",tQ.REQUEST_JOIN_INFO="request_join_info",tQ.REQUEST_REJOIN_INFO="req_rejoin_info",tQ.IS_P2P_DISCONNECTED="is_p2p_dis",tQ.DISCONNECT_P2P="dis_p2p",tQ.ABORT_P2P_EXECUTION="abort_p2p_execution",tQ.NEED_RENEW_SESSION="need-sid",tQ.REPORT_JOIN_GATEWAY="report_join_gateway",tQ.REQUEST_TIMEOUT="request_timeout",tQ.REQUEST_SUCCESS="request_success",tQ.JOIN_RESPONSE="join_response",tQ.PRE_CONNECT_PC="pre_connect_pc",tQ.P2P_CONNECTION="p2p_connection",tQ.P2P_REMOTE_CANDIDATE_UPDATE="p2p_remote_candidate_update",tQ.P2P_SUBSCRIBE="p2p_subscribe",tQ.P2P_UNSUBSCRIBE="p2p_unsubscribe",tQ.P2P_EXCHANGE_SDP="p2p_exchange_sdp",tQ.P2P_ON_ADD_VIDEO_STREAM="p2p_on_add_video_stream",tQ.P2P_ON_ADD_AUDIO_STREAM="p2p_on_add_audio_stream",tQ}({}),_b=function(tQ){return tQ.PING="ping",tQ.PING_BACK="ping_back",tQ.JOIN="join_v3",tQ.REJOIN="rejoin_v3",tQ.LEAVE="leave",tQ.SET_CLIENT_ROLE="set_client_role",tQ.PUBLISH="publish",tQ.PUBLISH_DATASTREAM="publish_datastream",tQ.UNPUBLISH="unpublish",tQ.UNPUBLISH_DATASTREAM="unpublish_datastream",tQ.SUBSCRIBE="subscribe",tQ.PRE_SUBSCRIBE="pre_subscribe",tQ.SUBSCRIBE_DATASTREAM="subscribe_datastream",tQ.SUBSCRIBE_STREAMS="subscribe_streams",tQ.UNSUBSCRIBE="unsubscribe",tQ.UNSUBSCRIBE_DATASTREAM="unsubscribe_datastream",tQ.UNSUBSCRIBE_STREAMS="unsubscribe_streams",tQ.SUBSCRIBE_CHANGE="subscribe_change",tQ.TRAFFIC_STATS="traffic_stats",tQ.RENEW_TOKEN="renew_token",tQ.SWITCH_VIDEO_STREAM="switch_video_stream",tQ.DEFAULT_VIDEO_STREAM="default_video_stream",tQ.SET_FALLBACK_OPTION="set_fallback_option",tQ.GATEWAY_INFO="gateway_info",tQ.CONTROL="control",tQ.SEND_METADATA="send_metadata",tQ.DATA_STREAM="data_stream",tQ.PICK_SVC_LAYER="pick_svc_layer",tQ.RESTART_ICE="restart_ice",tQ.CONNECT_PC="connect_pc",tQ.SET_VIDEO_PROFILE="set_video_profile",tQ.SET_PARAMETER="set_parameter",tQ.SET_RTM2_FLAG="set_rtm2_flag",tQ}({}),Eb=function(tQ){return tQ.WRTC_STATS="wrtc_stats",tQ.WS_INFLATE_DATA_LENGTH="ws_inflate_data_length",tQ.DENOISER_STATS="denoiser_stats",tQ.EXTENSION_USAGE_STATS="extension_usage_stats",tQ}({}),mb=function(tQ){return tQ.ON_USER_ONLINE="on_user_online",tQ.ON_USER_OFFLINE="on_user_offline",tQ.ON_STREAM_FALLBACK_UPDATE="on_stream_fallback_update",tQ.ON_PUBLISH_STREAM="on_publish_stream",tQ.ON_UPLINK_STATS="on_uplink_stats",tQ.ON_P2P_LOST="on_p2p_lost",tQ.ON_REMOVE_STREAM="on_remove_stream",tQ.ON_ADD_AUDIO_STREAM="on_add_audio_stream",tQ.ON_ADD_VIDEO_STREAM="on_add_video_stream",tQ.ON_TOKEN_PRIVILEGE_WILL_EXPIRE="on_token_privilege_will_expire",tQ.ON_TOKEN_PRIVILEGE_DID_EXPIRE="on_token_privilege_did_expire",tQ.ON_USER_BANNED="on_user_banned",tQ.ON_USER_LICENSE_BANNED="on_user_license_banned",tQ.ON_NOTIFICATION="on_notification",tQ.ON_CRYPT_ERROR="on_crypt_error",tQ.MUTE_AUDIO="mute_audio",tQ.MUTE_VIDEO="mute_video",tQ.UNMUTE_AUDIO="unmute_audio",tQ.UNMUTE_VIDEO="unmute_video",tQ.ON_P2P_OK="on_p2p_ok",tQ.RECEIVE_METADATA="receive_metadata",tQ.ON_DATA_STREAM="on_data_stream",tQ.ON_RTP_CAPABILITY_CHANGE="on_rtp_capability_change",tQ.ON_REMOTE_DATASTREAM_UPDATE="on_remote_datastream_update",tQ.ON_REMOTE_FULL_DATASTREAM_INFO="on_remote_full_datastream_info",tQ.ENABLE_LOCAL_VIDEO="enable_local_video",tQ.DISABLE_LOCAL_VIDEO="disable_local_video",tQ.ENABLE_LOCAL_AUDIO="enable_local_audio",tQ.DISABLE_LOCAL_AUDIO="disable_local_audio",tQ.ON_PUBLISHED_USER_LIST="on_published_user_list",tQ}({}),fb=function(tQ){return tQ.SEND_ONLY="SEND_ONLY",tQ.RECEIVE_ONLY="RECEIVE_ONLY",tQ}({}),Tb=function(tQ){return tQ.CONNECTED="websocket:connected",tQ.RECONNECTING="websocket:reconnecting",tQ.WILL_RECONNECT="websocket:will_reconnect",tQ.CLOSED="websocket:closed",tQ.FAILED="websocket:failed",tQ.ON_MESSAGE="websocket:on_message",tQ.REQUEST_NEW_URLS="websocket:request_new_urls",tQ.RECONNECT_WAITTING_FINISH="websocket:reconnect_waitting_finish",tQ.RECONNECT_CREATE_CONNECTION="websocket:reconnect_create_connection",tQ.ON_TOKEN_PRIVILEGE_DID_EXPIRE="websocket:on_token_privilege_did_expire",tQ}({});class Sb extends rv{constructor(eQ){super(eQ,arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",arguments.length>2?arguments[2]:void 0),og(this,"name","AgoraRTCException")}print(){let eQ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"error";return super.print(eQ,Qy)}throw(){super.throw(Qy)}}function gb(tQ){if(typeof tQ!="string"||!/^[a-zA-Z0-9 \!\#\$\%\&\(\)\+\-\:\;\<\=\.\>\?\@\[\]\^\_\{\}\|\~\,]{1,64}$/.test(tQ))throw Qy.error("Invalid Channel Name ".concat(tQ)),new Sb(nv.INVALID_PARAMS,"The length must be within 64 bytes. The supported characters: a-z,A-Z,0-9,space,!, #, $, %, &, (, ), +, -, :, ;, <, =, ., >, ?, @, [, ], ^, _,  {, }, |, ~, ,")}function Rb(tQ){if(!function(eQ){return typeof eQ=="number"&&Math.floor(eQ)===eQ&&0<=eQ&&eQ<=4294967295}(tQ)&&!hv(tQ,1,255))throw new Sb(nv.INVALID_PARAMS,"[String uid] Length of the string: [1,255]. ASCII characters only. [Number uid] The value range is [0,10000]");typeof tQ=="string"&&Qy.warn("You input a string as the user ID, to ensure better end-user experience, Agora highly suggests not using a string as the user ID.")}let Cb=function(tQ){return tQ.TRANSCODE="mix_streaming",tQ.RAW="raw_streaming",tQ}({});const Ib={alpha:1,height:640,width:360,x:0,y:0,zOrder:0,audioChannel:0},vb={x:0,y:0,width:160,height:160,zOrder:255,alpha:1};function yb(tQ,eQ){dv(tQ.url,"".concat(eQ,".url"),1,1e3,!1),uv(tQ.x)||av(tQ.x,"".concat(eQ,".x"),0,1e4),uv(tQ.y)||av(tQ.y,"".concat(eQ,".y"),0,1e4),uv(tQ.width)||av(tQ.width,"".concat(eQ,".width"),0,1e4),uv(tQ.height)||av(tQ.height,"".concat(eQ,".height"),0,1e4),uv(tQ.zOrder)||av(tQ.zOrder,"".concat(eQ,".zOrder"),0,255),uv(tQ.alpha)||av(tQ.alpha,"".concat(eQ,".alpha"),0,1,!1)}const Ab={audioBitrate:48,audioChannels:1,audioSampleRate:48e3,backgroundColor:0,height:360,lowLatency:!1,videoBitrate:400,videoCodecProfile:100,videoCodecType:1,videoFrameRate:15,videoGop:30,width:640,images:[],userConfigs:[],userConfigExtraInfo:""};let bb=function(tQ){return tQ.WARNING="@live_uap-warning",tQ.ERROR="@line_uap-error",tQ.PUBLISH_STREAM_STATUS="@live_uap-publish-status",tQ.WORKER_STATUS="@live_uap-worker-status",tQ.REQUEST_NEW_ADDRESS="@live_uap-request-address",tQ}({}),wb=function(tQ){return tQ.REQUEST_WORKER_MANAGER_LIST="@live_req_worker_manager",tQ}({}),Ob=function(tQ){return tQ[tQ.LIVE_STREAM_RESPONSE_SUCCEED=200]="LIVE_STREAM_RESPONSE_SUCCEED",tQ[tQ.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM=454]="LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM",tQ[tQ.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR=450]="LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR",tQ[tQ.LIVE_STREAM_RESPONSE_BAD_STREAM=451]="LIVE_STREAM_RESPONSE_BAD_STREAM",tQ[tQ.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR=400]="LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR",tQ[tQ.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST=404]="LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST",tQ[tQ.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED=456]="LIVE_STREAM_RESPONSE_NOT_AUTHORIZED",tQ[tQ.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE=457]="LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE",tQ[tQ.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN=429]="LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN",tQ[tQ.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH=452]="LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH",tQ[tQ.LIVE_STREAM_RESPONSE_NOT_SUPPORTED=453]="LIVE_STREAM_RESPONSE_NOT_SUPPORTED",tQ[tQ.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM=455]="LIVE_STREAM_RESPONSE_MAX_STREAM_NUM",tQ[tQ.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR=500]="LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR",tQ[tQ.LIVE_STREAM_RESPONSE_WORKER_LOST=501]="LIVE_STREAM_RESPONSE_WORKER_LOST",tQ[tQ.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT=502]="LIVE_STREAM_RESPONSE_RESOURCE_LIMIT",tQ[tQ.LIVE_STREAM_RESPONSE_WORKER_QUIT=503]="LIVE_STREAM_RESPONSE_WORKER_QUIT",tQ[tQ.ERROR_FAIL_SEND_MESSAGE=504]="ERROR_FAIL_SEND_MESSAGE",tQ[tQ.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE=30]="PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE",tQ[tQ.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT=31]="PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT",tQ[tQ.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH=32]="PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH",tQ[tQ.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN=33]="PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN",tQ}({});function Nb(tQ){if(!tQ.channelName)throw new Sb(nv.INVALID_PARAMS,"invalid channelName in info");if(typeof tQ.uid!="number")throw new Sb(nv.INVALID_PARAMS,"invalid uid in info, uid must be a number");return tQ.token&&dv(tQ.token,"info.token",1,2047),Rb(tQ.uid),gb(tQ.channelName),!0}let Db=function(tQ){return tQ[tQ.SetSdkProfile=0]="SetSdkProfile",tQ[tQ.SetSourceChannel=1]="SetSourceChannel",tQ[tQ.SetSourceUserId=2]="SetSourceUserId",tQ[tQ.SetDestChannel=3]="SetDestChannel",tQ[tQ.StartPacketTransfer=4]="StartPacketTransfer",tQ[tQ.StopPacketTransfer=5]="StopPacketTransfer",tQ[tQ.UpdateDestChannel=6]="UpdateDestChannel",tQ[tQ.Reconnect=7]="Reconnect",tQ[tQ.SetVideoProfile=8]="SetVideoProfile",tQ}({}),Pb=function(tQ){return tQ.NETWORK_DISCONNECTED="NETWORK_DISCONNECTED",tQ.NETWORK_CONNECTED="NETWORK_CONNECTED",tQ.PACKET_JOINED_SRC_CHANNEL="PACKET_JOINED_SRC_CHANNEL",tQ.PACKET_JOINED_DEST_CHANNEL="PACKET_JOINED_DEST_CHANNEL",tQ.PACKET_SENT_TO_DEST_CHANNEL="PACKET_SENT_TO_DEST_CHANNEL",tQ.PACKET_RECEIVED_VIDEO_FROM_SRC="PACKET_RECEIVED_VIDEO_FROM_SRC",tQ.PACKET_RECEIVED_AUDIO_FROM_SRC="PACKET_RECEIVED_AUDIO_FROM_SRC",tQ.PACKET_UPDATE_DEST_CHANNEL="PACKET_UPDATE_DEST_CHANNEL",tQ.PACKET_UPDATE_DEST_CHANNEL_REFUSED="PACKET_UPDATE_DEST_CHANNEL_REFUSED",tQ.PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE="PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE",tQ}({}),Lb=function(tQ){return tQ.RELAY_STATE_IDLE="RELAY_STATE_IDLE",tQ.RELAY_STATE_CONNECTING="RELAY_STATE_CONNECTING",tQ.RELAY_STATE_RUNNING="RELAY_STATE_RUNNING",tQ.RELAY_STATE_FAILURE="RELAY_STATE_FAILURE",tQ}({}),kb=function(tQ){return tQ.RELAY_OK="RELAY_OK",tQ.SERVER_CONNECTION_LOST="SERVER_CONNECTION_LOST",tQ.SRC_TOKEN_EXPIRED="SRC_TOKEN_EXPIRED",tQ.DEST_TOKEN_EXPIRED="DEST_TOKEN_EXPIRED",tQ}({}),Mb=function(tQ){return tQ.High="high",tQ.Low="low",tQ.Audio="audio",tQ.Screen="screen",tQ.ScreenLow="screen_low",tQ}({}),Ub=function(tQ){return tQ.DISCONNECT="disconnect",tQ.CONNECTION_STATE_CHANGE="connection-state-change",tQ.NETWORK_QUALITY="network-quality",tQ.STREAM_TYPE_CHANGE="stream-type-change",tQ.IS_P2P_DISCONNECTED="is-p2p-dis",tQ.DISCONNECT_P2P="dis-p2p",tQ.REQUEST_NEW_GATEWAY_LIST="req-gate-url",tQ.NEED_RENEW_SESSION="need-sid",tQ.REQUEST_P2P_CONNECTION_PARAMS="request-p2p-connection-params",tQ.JOIN_RESPONSE="join-response",tQ.RESET_CONNECTION_EVENTS="reset-connection-events",tQ.PRE_CONNECT_PC="pre-connect_pc",tQ}({}),xb=function(tQ){return tQ.P2P_DISCONNECTED="P2P_DISCONNECTED",tQ.A_ROUND_WS_FAILED="A_ROUND_WS_FAILED",tQ.TIMEOUT="TIMEOUT",tQ.UNKNOWN_REASON="UNKNOWN_REASON",tQ}({}),Vb=function(tQ){return tQ[tQ.Nothing=0]="Nothing",tQ[tQ.Audio=1]="Audio",tQ[tQ.LwoVideo=2]="LwoVideo",tQ[tQ.Video=4]="Video",tQ[tQ.Data=8]="Data",tQ[tQ.DataStream0=256]="DataStream0",tQ[tQ.DataStream1=512]="DataStream1",tQ[tQ.DataStream2=1024]="DataStream2",tQ[tQ.DataStream3=2048]="DataStream3",tQ[tQ.DataStream4=4096]="DataStream4",tQ[tQ.DataStream5=8192]="DataStream5",tQ[tQ.DataStream6=16384]="DataStream6",tQ[tQ.DataStream7=32768]="DataStream7",tQ}({}),Fb=function(tQ){return tQ.CHINA="CHINA",tQ.ASIA="ASIA",tQ.NORTH_AMERICA="NORTH_AMERICA",tQ.EUROPE="EUROPE",tQ.JAPAN="JAPAN",tQ.INDIA="INDIA",tQ.KOREA="KOREA",tQ.HKMC="HKMC",tQ.US="US",tQ.OCEANIA="OCEANIA",tQ.SOUTH_AMERICA="SOUTH_AMERICA",tQ.AFRICA="AFRICA",tQ.OVERSEA="OVERSEA",tQ.GLOBAL="GLOBAL",tQ.EXTENSIONS="EXTENSIONS",tQ}({});const Bb=[Fb.AFRICA,Fb.ASIA,Fb.CHINA,Fb.EUROPE,Fb.GLOBAL,Fb.INDIA,Fb.JAPAN,Fb.NORTH_AMERICA,Fb.OCEANIA,Fb.OVERSEA,Fb.SOUTH_AMERICA];let jb=function(tQ){return tQ.CHINA="CN",tQ.ASIA="AS",tQ.NORTH_AMERICA="NA",tQ.EUROPE="EU",tQ.JAPAN="JP",tQ.INDIA="IN",tQ.KOREA="KR",tQ.HKMC="HK",tQ.US="US",tQ.OCEANIA="OC",tQ.SOUTH_AMERICA="SA",tQ.AFRICA="AF",tQ.OVERSEA="OVERSEA",tQ.GLOBAL="GLOBAL",tQ.EXTENSIONS="GLOBAL",tQ}({});const Gb={CHINA:{},ASIA:{CODE:jb.ASIA,WEBCS_DOMAIN:["ap-web-1-asia.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-asia.agora.io"],PROXY_CS:["proxy-ap-web-asia.agora.io"],CDS_AP:["cds-ap-web-asia.agora.io","cds-ap-web-asia2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-asia.agora.io","sua-ap-web-asia2.agora.io"],UAP_AP:["uap-ap-web-asia.agora.io","uap-ap-web-asia2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-asia.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-asia.agora.io"],LOG_UPLOAD_SERVER:["logservice-asia.agora.io"],PROXY_SERVER_TYPE3:["southeast-asia.webrtc-cloud-proxy.sd-rtn.com"]},NORTH_AMERICA:{CODE:jb.NORTH_AMERICA,WEBCS_DOMAIN:["ap-web-1-north-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-north-america.agora.io"],PROXY_CS:["proxy-ap-web-america.agora.io"],CDS_AP:["cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],UAP_AP:["uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-north-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-north-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-north-america.agora.io"],PROXY_SERVER_TYPE3:["east-usa.webrtc-cloud-proxy.sd-rtn.com"]},EUROPE:{CODE:jb.EUROPE,WEBCS_DOMAIN:["ap-web-1-europe.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-europe.agora.io"],PROXY_CS:["proxy-ap-web-europe.agora.io"],CDS_AP:["cds-ap-web-europe.agora.io","cds-ap-web-europe2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-europe.agora.io","sua-ap-web-europe.agora.io"],UAP_AP:["uap-ap-web-europe.agora.io","uap-ap-web-europe2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-europe.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-europe.agora.io"],LOG_UPLOAD_SERVER:["logservice-europe.agora.io"],PROXY_SERVER_TYPE3:["europe.webrtc-cloud-proxy.sd-rtn.com"]},JAPAN:{CODE:jb.JAPAN,WEBCS_DOMAIN:["ap-web-1-japan.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-japan.agora.io"],PROXY_CS:["proxy-ap-web-japan.agora.io"],CDS_AP:["cds-ap-web-japan.agora.io","cds-ap-web-japan2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-japan.agora.io","sua-ap-web-japan2.agora.io"],UAP_AP:["uap-ap-web-japan.agora.io","uap-ap-web-japan2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-japan.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-japan.agora.io"],LOG_UPLOAD_SERVER:["logservice-japan.agora.io"],PROXY_SERVER_TYPE3:["japan.webrtc-cloud-proxy.sd-rtn.com"]},INDIA:{CODE:jb.INDIA,WEBCS_DOMAIN:["ap-web-1-india.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-india.agora.io"],PROXY_CS:["proxy-ap-web-india.agora.io"],CDS_AP:["cds-ap-web-india.agora.io","cds-ap-web-india2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-india.agora.io","sua-ap-web-india2.agora.io"],UAP_AP:["uap-ap-web-india.agora.io","uap-ap-web-india2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-india.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-india.agora.io"],LOG_UPLOAD_SERVER:["logservice-india.agora.io"],PROXY_SERVER_TYPE3:["india.webrtc-cloud-proxy.sd-rtn.com"]},KOREA:{CODE:jb.KOREA,WEBCS_DOMAIN:["ap-web-1-korea.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-korea.agora.io"],PROXY_CS:["proxy-ap-web-korea.agora.io"],CDS_AP:["cds-ap-web-korea.agora.io","cds-ap-web-korea2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-korea.agora.io","sua-ap-web-korea2.agora.io"],UAP_AP:["uap-ap-web-korea.agora.io","uap-ap-web-korea2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-korea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-korea.agora.io"],LOG_UPLOAD_SERVER:["logservice-korea.agora.io"],PROXY_SERVER_TYPE3:["korea.webrtc-cloud-proxy.sd-rtn.com"]},HKMC:{CODE:jb.HKMC,WEBCS_DOMAIN:["ap-web-1-hkmc.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-hkmc.agora.io"],PROXY_CS:["proxy-ap-web-hkmc.agora.io"],CDS_AP:["cds-ap-web-hkmc.agora.io","cds-ap-web-hkmc2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-hkmc.agora.io","sua-ap-web-hkmc2.agora.io"],UAP_AP:["uap-ap-web-hkmc.agora.io","uap-ap-web-hkmc2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-hkmc.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-hkmc.agora.io"],LOG_UPLOAD_SERVER:["logservice-hkmc.agora.io"],PROXY_SERVER_TYPE3:["hkmc.webrtc-cloud-proxy.sd-rtn.com"]},US:{CODE:jb.US,WEBCS_DOMAIN:["ap-web-1-us.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-us.agora.io"],PROXY_CS:["proxy-ap-web-us.agora.io"],CDS_AP:["cds-ap-web-us.agora.io","cds-ap-web-us2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-us.agora.io","sua-ap-web-us2.agora.io"],UAP_AP:["uap-ap-web-us.agora.io","uap-ap-web-us2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-us.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-us.agora.io"],LOG_UPLOAD_SERVER:["logservice-us.agora.io"],PROXY_SERVER_TYPE3:["us.webrtc-cloud-proxy.sd-rtn.com"]},OVERSEA:{CODE:jb.OVERSEA,WEBCS_DOMAIN:["ap-web-1-oversea.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oversea.agora.io"],PROXY_CS:["proxy-ap-web-oversea.agora.io"],CDS_AP:["cds-ap-web-oversea.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oversea.agora.io"],UAP_AP:["uap-ap-web-oversea.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oversea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oversea.agora.io"],LOG_UPLOAD_SERVER:["logservice-oversea.agora.io"],PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.agora.io"]},GLOBAL:{CODE:jb.GLOBAL,WEBCS_DOMAIN:["webrtc2-ap-web-1.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-3.agora.io"],PROXY_CS:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],CDS_AP:["cds-ap-web-1.agora.io","cds-ap-web-3.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-1.agora.io","sua-ap-web-3.agora.io"],UAP_AP:["uap-ap-web-1.agora.io","uap-ap-web-3.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2.agora.io"],LOG_UPLOAD_SERVER:["logservice.agora.io"],PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.sd-rtn.com"]},OCEANIA:{CODE:jb.OCEANIA,WEBCS_DOMAIN:["ap-web-1-oceania.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oceania.agora.io"],PROXY_CS:["proxy-ap-web-oceania.agora.io"],CDS_AP:["cds-ap-web-oceania.agora.io","cds-ap-web-oceania2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oceania.agora.io","sua-ap-web-oceania2.agora.io"],UAP_AP:["uap-ap-web-oceania.agora.io","uap-ap-web-oceania2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oceania.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oceania.agora.io"],LOG_UPLOAD_SERVER:["logservice-oceania.agora.io"],PROXY_SERVER_TYPE3:["oceania.webrtc-cloud-proxy.sd-rtn.com"]},SOUTH_AMERICA:{CODE:jb.SOUTH_AMERICA,WEBCS_DOMAIN:["ap-web-1-south-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-south-america.agora.io"],PROXY_CS:["proxy-ap-web-south-america.agora.io"],CDS_AP:["cds-ap-web-south-america.agora.io","cds-ap-web-south-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-south-america.agora.io","sua-ap-web-south-america2.agora.io"],UAP_AP:["uap-ap-web-south-america.agora.io","uap-ap-web-south-america2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-south-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-south-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-america.agora.io"],PROXY_SERVER_TYPE3:["south-america.webrtc-cloud-proxy.sd-rtn.com"]},AFRICA:{CODE:jb.AFRICA,WEBCS_DOMAIN:["ap-web-1-africa.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-africa.agora.io"],PROXY_CS:["proxy-ap-web-africa.agora.io"],CDS_AP:["cds-ap-web-africa.agora.io","cds-ap-web-africa2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-africa.agora.io","sua-ap-web-africa2.agora.io"],UAP_AP:["uap-ap-web-africa.agora.io","uap-ap-web-africa2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-africa.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-africa.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-africa.agora.io"],PROXY_SERVER_TYPE3:["africa.webrtc-cloud-proxy.sd-rtn.com"]},EXTENSIONS:{}};yy&&(Gb.CHINA={CODE:jb.CHINA,WEBCS_DOMAIN:["webrtc2-2.ap.sd-rtn.com"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-4.ap.sd-rtn.com"],PROXY_CS:["proxy-web.ap.sd-rtn.com"],CDS_AP:["cds-web-2.ap.sd-rtn.com","cds-web-4.ap.sd-rtn.com"],ACCOUNT_REGISTER:["sua-web-2.ap.sd-rtn.com","sua-web-4.ap.sd-rtn.com"],UAP_AP:["uap-web-2.ap.sd-rtn.com","uap-web-4.ap.sd-rtn.com"],EVENT_REPORT_DOMAIN:["web-3.statscollector.sd-rtn.com"],EVENT_REPORT_BACKUP_DOMAIN:["web-4.statscollector.sd-rtn.com"],LOG_UPLOAD_SERVER:["logservice-china.agora.io"],PROXY_SERVER_TYPE3:["east-cn.webrtc-cloud-proxy.sd-rtn.com"]});let Wb=function(tQ){return tQ.UPDATE_BITRATE_LIMIT="update_bitrate_limit",tQ}({});class Hb extends Sv{constructor(eQ,AQ){super(),og(this,"onICEConnectionStateChange",void 0),og(this,"onConnectionStateChange",void 0),og(this,"onDTLSTransportStateChange",void 0),og(this,"onDTLSTransportError",void 0),og(this,"onICETransportStateChange",void 0),og(this,"onFirstAudioReceived",void 0),og(this,"onFirstVideoReceived",void 0),og(this,"onFirstAudioDecoded",void 0),og(this,"onFirstVideoDecoded",void 0),og(this,"onFirstVideoDecodedTimeout",void 0),og(this,"onSelectedLocalCandidateChanged",void 0),og(this,"onSelectedRemoteCandidateChanged",void 0),og(this,"getLocalVideoStats",void 0)}}class Kb extends Hb{constructor(eQ,AQ){super(eQ,AQ),og(this,"establishPromise",void 0)}}let Yb=function(tQ){return tQ.VIDEO="video",tQ.AUDIO="audio",tQ}({}),qb=function(tQ){return tQ[tQ.UDP=0]="UDP",tQ[tQ.TCP=1]="TCP",tQ[tQ.RELAY=2]="RELAY",tQ}({}),zb=function(tQ){return tQ[tQ.FIRST_CONNECTION=0]="FIRST_CONNECTION",tQ[tQ.TCP_RESTART=1]="TCP_RESTART",tQ[tQ.RELAY_RESTART=2]="RELAY_RESTART",tQ[tQ.OLD_FIRST_CONNECTION=10]="OLD_FIRST_CONNECTION",tQ[tQ.OLD_RESTART=11]="OLD_RESTART",tQ[tQ.DISCONNECTED_OR_FAILED=20]="DISCONNECTED_OR_FAILED",tQ}({}),Jb=function(tQ){return tQ.LocalVideoTrack="videoTrack",tQ.LocalAudioTrack="audioTrack",tQ.LocalVideoLowTrack="videoLowTrack",tQ}({}),Xb=function(tQ){return tQ.New="new",tQ.Connected="connected",tQ.Reconnecting="reconnecting",tQ.Disconnected="disconnected",tQ}({}),Qb=function(tQ){return tQ.StateChange="stateChange",tQ.IceConnectionStateChange="iceConnectionStateChange",tQ.RequestMuteLocal="requestMuteLocal",tQ.RequestUnmuteLocal="requestUnmuteLocal",tQ.RequestRePublish="requestRePublish",tQ.RequestRePublishDataChannel="requestRePublishDataChannel",tQ.RequestReSubscribe="requestReSubscribe",tQ.RequestUploadStats="requestUploadStats",tQ.RequestUpload="requestUpload",tQ.MediaReconnectStart="MediaReconnectStart",tQ.MediaReconnectEnd="MediaReconnectEnd",tQ.NeedSignalRTT="NeedSignalRTT",tQ.RequestRestartICE="RequestRestartIce",tQ.PeerConnectionStateChange="PeerConnectionStateChange",tQ.RequestReconnect="RequestReconnect",tQ.RequestReconnectPC="RequestReconnectPC",tQ.RequestUnpublishForReconnectPC="RequestUnpublishForReconnectPC",tQ.P2PLost="P2PLost",tQ.UpdateVideoEncoder="UpdateVideoEncoder",tQ.ConnectionTypeChange="ConnectionTypeChange",tQ.RequestLowStreamParameter="RequestLowStreamParameter",tQ.QueryClientConnectionState="QueryClientConnectionState",tQ.LocalCandidate="LocalCandidate",tQ.RequestP2PMuteLocal="requestP2PMuteLocal",tQ.RequestP2PUnPublish="RequestP2PUnPublish",tQ.RequestP2PUnmuteRemote="RequestP2PUnmuteRemote",tQ.RequestP2PMuteRemote="RequestP2PMuteRemote",tQ.RequestP2PRestartICE="RequestP2PRestartICE",tQ}({}),Zb=function(tQ){return tQ.CONNECTING="CONNECTING",tQ.RECONNECTING="RECONNECTING",tQ.CONNECTED="CONNECTED",tQ.CLOSED="CLOSED",tQ}({}),$b=function(tQ){return tQ[tQ.CONNECT_AP=0]="CONNECT_AP",tQ[tQ.AP_CONNECTED=1]="AP_CONNECTED",tQ[tQ.CONNECT_WORKER_MANAGER=2]="CONNECT_WORKER_MANAGER",tQ[tQ.WORKER_MANAGER_CONNECTED=3]="WORKER_MANAGER_CONNECTED",tQ[tQ.GET_WORKER_MANAGER_RESPONSE=4]="GET_WORKER_MANAGER_RESPONSE",tQ[tQ.CONNECT_WORKER=5]="CONNECT_WORKER",tQ[tQ.WORKER_CONNECTED=6]="WORKER_CONNECTED",tQ[tQ.CLOSED=7]="CLOSED",tQ}({}),ew=function(tQ){return tQ.CONNECTION_STATE_CHANGE="connection-state-change",tQ.STATE_CHANGE="state-change",tQ.INSPECT_RESULT="inspect-result",tQ.CLIENT_LOCAL_VIDEO_TRACK="client-local-video-track",tQ.REQUEST_NEW_WORKER_URL="request-new-worker-url",tQ}({}),tw=function(tQ){return tQ.CONNECTED="transmitter:connected",tQ.RECONNECTING="transmitter:reconnecting",tQ.WILL_RECONNECT="transmitter:will_reconnect",tQ.CLOSED="transmitter:closed",tQ.FAILED="transmitter:failed",tQ.ON_MESSAGE="transmitter:on_message",tQ.REQUEST_NEW_URLS="transmitter:request_new_urls",tQ.RECONNECT_WAITTING_FINISH="transmitter:reconnect_waitting_finish",tQ.RECONNECT_CREATE_CONNECTION="transmitter:reconnect_create_connection",tQ.ON_TOKEN_PRIVILEGE_DID_EXPIRE="transmitter:on_token_privilege_did_expire",tQ.TO_CONNECT_DATACHANNEL="transmitter:to_connect_datachannel",tQ.FAILBACK="transmitter:failback",tQ.PRE_CONNECT_PC="transmitter:pre_connect_pc",tQ}({}),iw=function(tQ){return tQ.CAMERA_CHANGED="camera-changed",tQ.MICROPHONE_CHANGED="microphone-changed",tQ.PLAYBACK_DEVICE_CHANGED="playback-device-changed",tQ.AUDIO_AUTOPLAY_FAILED="audio-autoplay-failed",tQ.AUTOPLAY_FAILED="autoplay-failed",tQ.AUDIO_CONTEXT_STATE_CHANGED="audio-context-state-changed",tQ.SECURITY_POLICY_VIOLATION="security-policy-violation",tQ}({}),nw=function(tQ){return tQ.CONNECTING="CONNECTING",tQ.RECONNECTING="RECONNECTING",tQ.CONNECTED="CONNECTED",tQ.CLOSED="CLOSED",tQ}({}),rw=function(tQ){return tQ.CONNECTION_STATE_CHANGE="connection-state-change",tQ.STATE_CHANGE="state-change",tQ.INSPECT_RESULT="inspect-result",tQ.CLIENT_LOCAL_VIDEO_TRACK="client-local-video-track",tQ.REQUEST_NEW_WORKER_URL="request-new-worker-url",tQ}({}),ow=function(tQ){return tQ[tQ.CONNECT_AP=0]="CONNECT_AP",tQ[tQ.AP_CONNECTED=1]="AP_CONNECTED",tQ[tQ.CONNECT_WORKER_MANAGER=2]="CONNECT_WORKER_MANAGER",tQ[tQ.WORKER_MANAGER_CONNECTED=3]="WORKER_MANAGER_CONNECTED",tQ[tQ.GET_WORKER_MANAGER_RESPONSE=4]="GET_WORKER_MANAGER_RESPONSE",tQ[tQ.CONNECT_WORKER=5]="CONNECT_WORKER",tQ[tQ.WORKER_CONNECTED=6]="WORKER_CONNECTED",tQ[tQ.CLOSED=7]="CLOSED",tQ}({}),sw=function(tQ){return tQ.CALL="call",tQ.CANDIDATE="candidate",tQ.PUBLISH="publish",tQ.UNPUBLISH="unpublish",tQ.CONTROL="control",tQ.RESTART_ICE="restart_ice",tQ.ACK="ack",tQ.RESPONSE="response",tQ.JOIN="join",tQ.CHECK="check",tQ}({}),aw=function(tQ){return tQ.ABORT="abort",tQ}({}),cw=function(tQ){return tQ.MUTE_LOCAL_AUDIO="mute_local_audio",tQ.MUTE_LOCAL_VIDEO="mute_local_video",tQ.UNMUTE_LOCAL_AUDIO="unmute_local_audio",tQ.UNMUTE_LOCAL_VIDEO="unmute_local_video",tQ}({}),dw=function(tQ){return tQ.P2P_TOKEN_TIMEOUT="p2p_token_timeout",tQ.P2P_TOKEN_CHANGED="p2p_token_changed",tQ}({});const lw={[ab.ACCESS_POINT]:{[lb.NO_FLAG_SET]:{desc:"flag is zero",retry:!1},[lb.FLAG_SET_BUT_EMPTY]:{desc:"flag is empty",retry:!1},[lb.INVALID_FALG_SET]:{desc:"invalid flag",retry:!1},[lb.FLAG_SET_BUT_NO_RE]:{desc:"flag set unilbs but no request",retry:!1},[lb.INVALID_SERVICE_ID]:{desc:"invalid service id",retry:!1},[lb.NO_SERVICE_AVAILABLE]:{desc:"no service available",retry:!0},[lb.NO_SERVICE_AVAILABLE_P2P]:{desc:"no unilbs p2p service available",retry:!0},[lb.NO_SERVICE_AVAILABLE_VOICE]:{desc:"no unilbs voice service available",retry:!0},[lb.NO_SERVICE_AVAILABLE_WEBRTC]:{desc:"no unilbs webrtc service available",retry:!0},[lb.NO_SERVICE_AVAILABLE_CDS]:{desc:"no cds service available",retry:!0},[lb.NO_SERVICE_AVAILABLE_CDN]:{desc:"no cdn dispatcher service available",retry:!0},[lb.NO_SERVICE_AVAILABLE_TDS]:{desc:"no tds service available",retry:!0},[lb.NO_SERVICE_AVAILABLE_REPORT]:{desc:"no unilbs report service available",retry:!0},[lb.NO_SERVICE_AVAILABLE_APP_CENTER]:{desc:"no app center service available",retry:!0},[lb.NO_SERVICE_AVAILABLE_ENV0]:{desc:"no unilbs sig env0 service available",retry:!0},[lb.NO_SERVICE_AVAILABLE_VOET]:{desc:"no unilbs voet service available",retry:!0},[lb.NO_SERVICE_AVAILABLE_STRING_UID]:{desc:"no string uid service available",retry:!0},[lb.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS]:{desc:"no webrtc unilbs service available",retry:!0}},[ab.UNILBS]:{[db.INVALID_VENDOR_KEY]:{desc:"invalid vendor key, can not find appid",retry:!1},[db.INVALID_CHANNEL_NAME]:{desc:"invalid channel name",retry:!1},[db.INTERNAL_ERROR]:{desc:"unilbs internal error",retry:!1},[db.NO_AUTHORIZED]:{desc:"invalid token, authorized failed",retry:!1},[db.DYNAMIC_KEY_TIMEOUT]:{desc:"dynamic key or token timeout",retry:!1},[db.NO_ACTIVE_STATUS]:{desc:"no active status",retry:!1},[db.DYNAMIC_KEY_EXPIRED]:{desc:"dynamic key expired",retry:!1},[db.STATIC_USE_DYNAMIC_KEY]:{desc:"static use dynamic key",retry:!1},[db.DYNAMIC_USE_STATIC_KEY]:{desc:"dynamic use static key",retry:!1},[db.USER_OVERLOAD]:{desc:"amount of users over load",retry:!1},[db.FORBIDDEN_REGION]:{desc:"the request is forbidden in this area",retry:!1},[db.CANNOT_MEET_AREA_DEMAND]:{desc:"unable to allocate services in this area",retry:!1}},[ab.STRING_UID_ALLOCATOR]:{[cb.IIIEGAL_APPID]:{desc:"invalid appid",retry:!1},[cb.IIIEGAL_UID]:{desc:"invalid string uid",retry:!1},[cb.INTERNAL_ERROR]:{desc:"string uid allocator internal error",retry:!0}}};function uw(tQ){const eQ=lw[Math.floor(tQ/1e4)];if(!eQ)return{desc:"unknown error",retry:!1};const AQ=eQ[tQ%1e4];if(!AQ){if(Math.floor(tQ/1e4)===ab.ACCESS_POINT){const iQ=tQ%1e4;if(iQ.toString()[0]==="1")return{desc:tQ.toString(),retry:!1};if(iQ.toString()[0]==="2")return{desc:tQ.toString(),retry:!0}}return{desc:"unknown error",retry:!1}}return AQ}const hw={[ub.K_TIMESTAMP_EXPIRED]:{desc:"K_TIMESTAMP_EXPIRED",action:"failed"},[ub.K_CHANNEL_PERMISSION_INVALID]:{desc:"K_CHANNEL_PERMISSION_INVALID",action:"failed"},[ub.K_CERTIFICATE_INVALID]:{desc:"K_CERTIFICATE_INVALID",action:"failed"},[ub.K_CHANNEL_NAME_EMPTY]:{desc:"K_CHANNEL_NAME_EMPTY",action:"failed"},[ub.K_CHANNEL_NOT_FOUND]:{desc:"K_CHANNEL_NOT_FOUND",action:"failed"},[ub.K_TICKET_INVALID]:{desc:"K_TICKET_INVALID",action:"failed"},[ub.K_CHANNEL_CONFLICTED]:{desc:"K_CHANNEL_CONFLICTED",action:"failed"},[ub.K_SERVICE_NOT_READY]:{desc:"K_SERVICE_NOT_READY",action:"tryNext"},[ub.K_SERVICE_TOO_HEAVY]:{desc:"K_SERVICE_TOO_HEAVY",action:"tryNext"},[ub.K_UID_BANNED]:{desc:"K_UID_BANNED",action:"failed"},[ub.K_IP_BANNED]:{desc:"K_IP_BANNED",action:"failed"},[ub.K_AUTO_REBALANCE]:{desc:"k_AUTO_REBALANCE",action:"recover"},[ub.ERR_INVALID_VENDOR_KEY]:{desc:"ERR_INVALID_VENDOR_KEY",action:"failed"},[ub.ERR_INVALID_CHANNEL_NAME]:{desc:"ERR_INVALID_CHANNEL_NAME",action:"failed"},[ub.WARN_NO_AVAILABLE_CHANNEL]:{desc:"WARN_NO_AVAILABLE_CHANNEL",action:"failed"},[ub.WARN_LOOKUP_CHANNEL_TIMEOUT]:{desc:"WARN_LOOKUP_CHANNEL_TIMEOUT",action:"tryNext"},[ub.WARN_LOOKUP_CHANNEL_REJECTED]:{desc:"WARN_LOOKUP_CHANNEL_REJECTED",action:"failed"},[ub.WARN_OPEN_CHANNEL_TIMEOUT]:{desc:"WARN_OPEN_CHANNEL_TIMEOUT",action:"tryNext"},[ub.WARN_OPEN_CHANNEL_REJECTED]:{desc:"WARN_OPEN_CHANNEL_REJECTED",action:"failed"},[ub.WARN_REQUEST_DEFERRED]:{desc:"WARN_REQUEST_DEFERRED",action:"failed"},[ub.ERR_DYNAMIC_KEY_TIMEOUT]:{desc:"ERR_DYNAMIC_KEY_TIMEOUT",action:"failed"},[ub.ERR_NO_AUTHORIZED]:{desc:"ERR_NO_AUTHORIZED",action:"failed"},[ub.ERR_VOM_SERVICE_UNAVAILABLE]:{desc:"ERR_VOM_SERVICE_UNAVAILABLE",action:"tryNext"},[ub.ERR_NO_CHANNEL_AVAILABLE_CODE]:{desc:"ERR_NO_CHANNEL_AVAILABLE_CODE",action:"failed"},[ub.ERR_MASTER_VOCS_UNAVAILABLE]:{desc:"ERR_MASTER_VOCS_UNAVAILABLE",action:"tryNext"},[ub.ERR_INTERNAL_ERROR]:{desc:"ERR_INTERNAL_ERROR",action:"tryNext"},[ub.ERR_NO_ACTIVE_STATUS]:{desc:"ERR_NO_ACTIVE_STATUS",action:"failed"},[ub.ERR_INVALID_UID]:{desc:"ERR_INVALID_UID",action:"failed"},[ub.ERR_DYNAMIC_KEY_EXPIRED]:{desc:"ERR_DYNAMIC_KEY_EXPIRED",action:"failed"},[ub.ERR_STATIC_USE_DYANMIC_KE]:{desc:"ERR_STATIC_USE_DYANMIC_KE",action:"failed"},[ub.ERR_DYNAMIC_USE_STATIC_KE]:{desc:"ERR_DYNAMIC_USE_STATIC_KE",action:"failed"},[ub.ERR_NO_VOCS_AVAILABLE]:{desc:"ERR_NO_VOCS_AVAILABLE",action:"tryNext"},[ub.ERR_NO_VOS_AVAILABLE]:{desc:"ERR_NO_VOS_AVAILABLE",action:"tryNext"},[ub.ERR_JOIN_CHANNEL_TIMEOUT]:{desc:"ERR_JOIN_CHANNEL_TIMEOUT",action:"tryNext"},[ub.ERR_JOIN_BY_MULTI_IP]:{desc:"ERR_JOIN_BY_MULTI_IP",action:"recover"},[ub.ERR_NOT_JOINED]:{desc:"ERR_NOT_JOINED",action:"failed"},[ub.ERR_REPEAT_JOIN_REQUEST]:{desc:"ERR_REPEAT_JOIN_REQUEST",action:"quit"},[ub.ERR_REPEAT_JOIN_CHANNEL]:{desc:"ERR_REPEAT_JOIN_CHANNEL",action:"quit"},[ub.ERR_INVALID_STRINGUID]:{desc:"ERR_INVALID_STRINGUID",action:"failed"},[ub.ERR_TOO_MANY_USERS]:{desc:"ERR_TOO_MANY_USERS",action:"tryNext"},[ub.ERR_SET_CLIENT_ROLE_TIMEOUT]:{desc:"ERR_SET_CLIENT_ROLE_TIMEOUT",action:"failed"},[ub.ERR_SET_CLIENT_ROLE_NO_PERMISSION]:{desc:"ERR_SET_CLIENT_ROLE_TIMEOUT",action:"failed"},[ub.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE]:{desc:"ERR_SET_CLIENT_ROLE_ALREADY_IN_USE",action:"success"},[ub.ERR_PUBLISH_REQUEST_INVALID]:{desc:"ERR_PUBLISH_REQUEST_INVALID",action:"failed"},[ub.ERR_SUBSCRIBE_REQUEST_INVALID]:{desc:"ERR_SUBSCRIBE_REQUEST_INVALID",action:"failed"},[ub.ERR_NOT_SUPPORTED_MESSAGE]:{desc:"ERR_NOT_SUPPORTED_MESSAGE",action:"failed"},[ub.ERR_ILLEAGAL_PLUGIN]:{desc:"ERR_ILLEAGAL_PLUGIN",action:"failed"},[ub.ILLEGAL_CLIENT_ROLE_LEVEL]:{desc:"ILLEGAL_CLIENT_ROLE_LEVEL",action:"failed"},[ub.ERR_REJOIN_TOKEN_INVALID]:{desc:"ERR_REJOIN_TOKEN_INVALID",action:"failed"},[ub.ERR_REJOIN_USER_NOT_JOINED]:{desc:"ERR_REJOIN_NOT_JOINED",action:"failed"},[ub.ERR_INVALID_OPTIONAL_INFO]:{desc:"ERR_INVALID_OPTIONAL_INFO",action:"quit"},[ub.ERR_TEST_RECOVER]:{desc:"ERR_TEST_RECOVER",action:"recover"},[ub.ERR_TEST_TRYNEXT]:{desc:"ERR_TEST_TRYNEXT",action:"recover"},[ub.ERR_TEST_RETRY]:{desc:"ERR_TEST_RETRY",action:"recover"},[ub.ILLEGAL_AES_PASSWORD]:{desc:"ERR_TEST_RETRY",action:"failed"},[ub.ERR_TOO_MANY_BROADCASTERS]:{desc:"ERR_TOO_MANY_BROADCASTERS",action:"failed"},[ub.ERR_TOO_MANY_SUBSCRIBERS]:{desc:"ERR_TOO_MANY_SUBSCRIBERS",action:"failed"},[ub.ERR_LICENSE_ILLEGAL]:{desc:"ERR_LICENSE_ILLEGAL",action:"quit"},[ub.ERR_LICENSE_MISSING]:{desc:"ERR_LICENSE_MISSING",action:"quit"},[ub.ERR_LICENSE_EXPIRED]:{desc:"ERR_LICENSE_EXPIRED",action:"quit"},[ub.ERR_LICENSE_MINUTES_EXCEEDED]:{desc:"ERR_LICENSE_MINUTES_EXCEEDED",action:"quit"},[ub.ERR_LICENSE_PERIOD_INVALID]:{desc:"ERR_LICENSE_PERIOD_INVALID",action:"quit"},[ub.ERR_LICENSE_MULTIPLE_SDK_SERVICE]:{desc:"ERR_LICENSE_MULTIPLE_SDK_SERVICE",action:"quit"}};function pw(tQ){return hw[tQ]||{desc:"UNKNOWN_ERROR_".concat(tQ),action:"failed"}}function _w(tQ,eQ){var AQ=Object.keys(tQ);if(Object.getOwnPropertySymbols){var iQ=Object.getOwnPropertySymbols(tQ);eQ&&(iQ=iQ.filter(function(oQ){return Object.getOwnPropertyDescriptor(tQ,oQ).enumerable})),AQ.push.apply(AQ,iQ)}return AQ}function Ew(tQ){for(var eQ=1;eQ<arguments.length;eQ++){var AQ=arguments[eQ]!=null?arguments[eQ]:{};eQ%2?_w(Object(AQ),!0).forEach(function(iQ){og(tQ,iQ,AQ[iQ])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tQ,Object.getOwnPropertyDescriptors(AQ)):_w(Object(AQ)).forEach(function(iQ){Object.defineProperty(tQ,iQ,Object.getOwnPropertyDescriptor(AQ,iQ))})}return tQ}function mw(tQ){return tQ.every(eQ=>eQ.readyState===WebSocket.CLOSED||eQ.readyState===WebSocket.CLOSING)}function fw(tQ,eQ){if(typeof tQ=="string")return tQ;const{proxy:AQ,host:iQ,port:oQ}=tQ;if(eQ){const rQ=Dy("JOIN_GATEWAY_FALLBACK_PORT")||443;return rQ===443?"wss://".concat(iQ,"/ws/?p=").concat(Number(oQ)+150):"wss://".concat(iQ,":").concat(rQ,"/ws/?p=").concat(Number(oQ)+150)}return AQ?"wss://".concat(AQ,"/ws/?h=").concat(iQ,"&p=").concat(oQ):"wss://".concat(iQ,":").concat(oQ)}const Tw=/wss:\/\/(.+)\/ws\/\?h=(.+)&p=([0-9]+)\/?/,Sw=/wss:\/\/(.+)\/ws\/\?p=([0-9]+)\/?/,gw=/wss:\/\/(.+):([0-9]+)\/?/,Rw=/wss:\/\/(.[^\/]+)\/?/;let Cw=0;class Iw{constructor(eQ,AQ){og(this,"id",0),og(this,"store",void 0),og(this,"recordIndex",void 0),og(this,"websockets",[]),og(this,"try443PortDuration",2e3),og(this,"forceCloseWSDuration",5e3),og(this,"try443PortTimeout",null),og(this,"forceCloseTimeout",null),og(this,"isTry443PortFailed",!1),og(this,"isNormalPortFailed",!1),og(this,"useDoubleDomain",!1),og(this,"useProxy",!1),og(this,"startTime",Date.now()),this.id=++Cw,this.try443PortDuration=Dy("JOIN_GATEWAY_TRY_443PORT_DURATION")||2e3,this.forceCloseWSDuration=eQ||5e3,this.store=AQ}closeAllWebsockets(){this.websockets.forEach(eQ=>{eQ.onopen=null,eQ.onclose=null,eQ.onmessage=null,eQ.close()}),this.websockets.length=0}clearTimeout(){this.forceCloseTimeout&&clearTimeout(this.forceCloseTimeout),this.try443PortTimeout&&clearTimeout(this.try443PortTimeout)}logger(){var eQ;const AQ=Date.now()-this.startTime;for(var iQ=arguments.length,oQ=new Array(iQ),rQ=0;rQ<iQ;rQ++)oQ[rQ]=arguments[rQ];Qy.debug("[choose-best-ws ".concat((eQ=this.store)===null||eQ===void 0?void 0:eQ.clientId," ").concat(this.id,"] ").concat(AQ,"ms:"),...oQ)}createWebSocket(eQ,AQ,iQ){this.logger("createWebSocket:",eQ,{isTry443Port:AQ,hasTimeoutDetection:iQ});const oQ=Dy("GATEWAY_DOMAINS"),rQ=Date.now(),nQ=[],sQ=oQ.find(gQ=>{var IQ;return Dn(IQ=eQ.host).call(IQ,gQ)});sQ||(this.useDoubleDomain=!1);const aQ=[];if(this.useDoubleDomain)oQ.forEach(gQ=>{aQ.push(fw(Ew(Ew({},eQ),{},{host:eQ.host.replace(sQ,gQ)}),AQ))});else{const gQ=Ew({},eQ);if(AQ&&sQ){const IQ=oQ.find(EQ=>EQ!==sQ);IQ&&(gQ.host=gQ.host.replace(sQ,IQ))}aQ.push(fw(gQ,AQ))}try{aQ.forEach(gQ=>{const IQ=new WebSocket(gQ);IQ.binaryType="arraybuffer",nQ.push(IQ),this.logger("ws is connecting:",IQ.url)})}catch(gQ){if(this.logger("ws create failed"),nQ.forEach(IQ=>IQ.close()),nQ.length=0,this.useDoubleDomain)return this.useDoubleDomain=!1,this.createWebSocket(eQ,AQ,iQ);if(!AQ&&Number(eQ.port)!==443)return this.createWebSocket(eQ,!0,iQ);throw new Sb(nv.WS_ERR,"init websocket failed! Error: ".concat(gQ.toString()))}const cQ=fI();return this.store&&this.store.recordJoinChannelService({urls:nQ.map(gQ=>gQ.url),service:"gateway"},this.recordIndex),nQ.forEach(gQ=>{gQ.onopen=()=>{this.logger("onopen: ws ".concat(gQ.url," open cost ").concat(Date.now()-rQ,"ms")),this.websockets.forEach(IQ=>{IQ!==gQ&&(IQ.onopen=null,IQ.onclose=null,IQ.onmessage=null,IQ.close(),this.logger("close backup websocket: ".concat(IQ.url)))}),this.websockets.length=0,cQ.resolve(gQ)},gQ.onclose=IQ=>{this.logger("onclose: ws ".concat(gQ.url," closed cost ").concat(Date.now()-rQ,"ms state: ").concat(gQ.readyState)),AQ?this.isTry443PortFailed=mw(nQ):this.isNormalPortFailed=mw(nQ),this.logger("443: ".concat(this.useProxy?"not try":this.isTry443PortFailed?"failed":"trying"," 47xx: ").concat(this.isNormalPortFailed?"failed":"trying")),(AQ&&this.isTry443PortFailed||!AQ&&(this.isTry443PortFailed||this.useProxy)&&this.isNormalPortFailed)&&(this.logger("onclose: all websocket is closed, ".concat(IQ.reason)),cQ.reject({code:IQ.code,reason:xb.A_ROUND_WS_FAILED}))},gQ.onmessage=IQ=>this.logger("".concat(gQ.url," onmessage: ").concat(IQ.data))}),this.websockets.push(...nQ),iQ||(()=>{const gQ=()=>{this.logger("5s timeout close un-opens, isWebsocket created: ",cQ.isResolved),this.websockets.forEach(IQ=>IQ.readyState!==WebSocket.OPEN&&IQ.close())};if(AQ||this.useProxy)return this.logger("add 5s timeout at ".concat(AQ?"try-443":"proxy"," condition")),this.forceCloseTimeout=window.setTimeout(gQ,this.forceCloseWSDuration);this.try443PortTimeout=window.setTimeout(()=>{if(this.logger("2s timeout, isWebsocket created: ",cQ.isResolved),cQ.isResolved)return gQ();AI().os===RI.MAC_OS&&kI()&&gQ(),this.createWebSocket(eQ,!0,!0).then(IQ=>cQ.resolve(IQ)).catch(IQ=>{this.isNormalPortFailed&&cQ.reject(IQ),this.logger("try 443 port to create ws failed")}),this.forceCloseTimeout=window.setTimeout(gQ,this.forceCloseWSDuration)},this.try443PortDuration)})(),cQ.promise}chooseBestWebsocket(eQ,AQ,iQ,oQ){return this.useDoubleDomain=!!AQ,typeof eQ=="string"&&(eQ=function(rQ){let nQ,sQ,aQ;return[,nQ,sQ,aQ]=rQ.match(Tw)||[],nQ||([,sQ,aQ]=rQ.match(Sw)||[]),sQ&&aQ||([,sQ,aQ]=rQ.match(gw)||[]),sQ&&aQ||([,sQ]=rQ.match(Rw)||[]),sQ||Qy.warning("un-destructible url: ",rQ),{proxy:nQ,host:sQ,port:aQ||"443"}}(eQ)),this.recordIndex=oQ,this.useProxy=!!eQ.proxy,iQ&&this.useProxy&&(Qy.warn("cannot use 443 only when use proxy"),iQ=!1),this.createWebSocket(eQ,!!iQ,!1).finally(()=>this.clearTimeout())}}function vw(tQ,eQ){var AQ=Object.keys(tQ);if(Object.getOwnPropertySymbols){var iQ=Object.getOwnPropertySymbols(tQ);eQ&&(iQ=iQ.filter(function(oQ){return Object.getOwnPropertyDescriptor(tQ,oQ).enumerable})),AQ.push.apply(AQ,iQ)}return AQ}class yw extends Sv{get url(){return this.websocket&&this.websocket.url||null}get reconnectMode(){return this._reconnectMode}set reconnectMode(eQ){var AQ;Dn(AQ=["tryNext","recover"]).call(AQ,eQ)&&this.resetReconnectCount(eQ),this._reconnectMode=eQ}get state(){return this._state}set state(eQ){eQ!==this._state&&(this._state=eQ,this._state==="reconnecting"?this.emit(Tb.RECONNECTING,this.reconnectReason):this._state==="connected"?this.emit(Tb.CONNECTED):this._state==="closed"?this.emit(Tb.CLOSED):this._state==="failed"&&this.emit(Tb.FAILED))}resetReconnectCount(eQ){Qy.debug("websocket reset reconnect count, reason: "+eQ),this.reconnectCount=0}constructor(eQ,AQ){let iQ=arguments.length>2&&arguments[2]!==void 0&&arguments[2],oQ=arguments.length>3&&arguments[3]!==void 0&&arguments[3],rQ=arguments.length>4&&arguments[4]!==void 0&&arguments[4],nQ=arguments.length>5?arguments[5]:void 0;super(),og(this,"connectionID",0),og(this,"currentURLIndex",0),og(this,"urls",[]),og(this,"_reconnectMode","tryNext"),og(this,"reconnectReason",void 0),og(this,"_initMutex",new hy("websocket")),og(this,"name",void 0),og(this,"_state","closed"),og(this,"reconnectInterrupter",void 0),og(this,"websocket",void 0),og(this,"retryConfig",void 0),og(this,"reconnectCount",0),og(this,"forceCloseTimeout",5e3),og(this,"onlineReconnectListener",void 0),og(this,"useCompress",void 0),og(this,"tryDoubleDomain",!1),og(this,"use443PortOnly",!1),og(this,"wsInflateLength",0),og(this,"wsDeflateLength",0),og(this,"closeEstablishingWs",()=>{}),og(this,"store",void 0),og(this,"joinGatewayRecordIndex",void 0),this.store=nQ,this.name=eQ,this.retryConfig=function(IQ){for(var EQ=1;EQ<arguments.length;EQ++){var CQ=arguments[EQ]!=null?arguments[EQ]:{};EQ%2?vw(Object(CQ),!0).forEach(function(dQ){og(IQ,dQ,CQ[dQ])}):Object.getOwnPropertyDescriptors?Object.defineProperties(IQ,Object.getOwnPropertyDescriptors(CQ)):vw(Object(CQ)).forEach(function(dQ){Object.defineProperty(IQ,dQ,Object.getOwnPropertyDescriptor(CQ,dQ))})}return IQ}({},AQ),this.useCompress=iQ,this.tryDoubleDomain=oQ,this.use443PortOnly=rQ;const{timeout:sQ,timeoutFactor:aQ}=AQ,cQ=Math.max(300,Math.floor(3*sQ/5)),gQ=Math.max(1.2,Math.floor(8*aQ)/10);Pv.ONLINE&&(this.retryConfig.timeout=cQ,this.retryConfig.timeoutFactor=gQ),Vv.on(Lv.NETWORK_STATE_CHANGE,(IQ,EQ)=>{IQ!==EQ&&(this.resetReconnectCount("network state change: ".concat(EQ," -> ").concat(IQ)),IQ===Pv.ONLINE?(this.retryConfig.timeout=cQ,this.retryConfig.timeoutFactor=gQ):(this.retryConfig.timeout=sQ,this.retryConfig.timeoutFactor=aQ))})}getConnection(){return this.websocket||void 0}async init(eQ){let AQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5e3;const iQ=await this._initMutex.lock();this.forceCloseTimeout=AQ,this.urls=eQ,this.state="connecting";try{const oQ=fI(),rQ=this.urls[this.currentURLIndex];Dy("ENABLE_PREALLOC_PC")&&this.emit(tw.PRE_CONNECT_PC),this.createWebSocketConnection(rQ).then(oQ.resolve).catch(oQ.reject),this.once(Tb.CLOSED,()=>{oQ.reject(new rv(nv.WS_DISCONNECT))}),this.once(Tb.CONNECTED,oQ.resolve),await oQ.promise}catch{}finally{iQ()}}close(eQ,AQ){if(this.currentURLIndex=0,this.resetReconnectCount("close"),this.reconnectInterrupter&&this.reconnectInterrupter(),this.websocket){this.websocket.onclose=null,this.websocket.onopen=null,this.websocket.onmessage=null;const iQ=this.websocket;AQ?setTimeout(()=>iQ.close(),500):iQ.close(),this.websocket=void 0}this.state=eQ?"failed":"closed",this.closeEstablishingWs&&this.closeEstablishingWs()}reconnect(eQ,AQ){if(!this.websocket)return void Qy.warning("[".concat(this.name,"] can not reconnect, no websocket"));eQ!==void 0&&(this.reconnectMode=eQ),Qy.debug("[".concat(this.name,"] reconnect is triggered initiative")),typeof this.joinGatewayRecordIndex=="number"&&this.store&&this.store.recordJoinChannelService({status:"error",errors:[new Error(AQ)]},this.joinGatewayRecordIndex);const iQ=this.websocket.onclose;this.websocket.onclose=null,this.websocket.close(),iQ&&iQ.bind(this.websocket)({code:9999,reason:AQ})}sendMessage(eQ){let AQ=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!this.websocket||this.websocket.readyState!==WebSocket.OPEN)throw new rv(nv.WS_ABORT,"websocket is not ready");try{AQ||(eQ=JSON.stringify(eQ)),this.websocket.send(eQ)}catch(iQ){throw new rv(nv.WS_ERR,"send websocket message error"+iQ.toString())}}setWsInflateData(eQ){this.wsDeflateLength=this.wsDeflateLength+eQ.originLength,this.wsInflateLength=this.wsInflateLength+eQ.compressedLength}getWsInflateData(){const eQ=this.wsInflateLength,AQ=this.wsDeflateLength;return this.clearWsInflateData(),{wsInflateLength:eQ,wsDeflateLength:AQ}}clearWsInflateData(){this.wsInflateLength=0,this.wsDeflateLength=0}async createWebSocketConnection(eQ){var AQ;const iQ=fI();this.connectionID+=1,this.joinGatewayRecordIndex=void 0;const oQ=gQ=>{var IQ;(IQ=this.store)===null||IQ===void 0||IQ.signalChannelOpen(),Qy.debug("[".concat(this.name,"] websocket opened:"),gQ),this.reconnectMode="retry",this.state="connected",this.resetReconnectCount("opened"),iQ.resolve()},rQ=async gQ=>{var IQ;if(Qy.debug("[".concat(this.name,"] websocket close ").concat((IQ=this.websocket)===null||IQ===void 0?void 0:IQ.url,", code: ").concat(gQ.code,", reason: ").concat(gQ.reason,", current mode: ").concat(this.reconnectMode)),this.reconnectCount>=this.retryConfig.maxRetryCount)iQ.reject(new rv(nv.WS_DISCONNECT,"websocket close: ".concat(gQ.code))),this.close();else{this.state==="connected"&&(this.reconnectReason=gQ.reason,this.state="reconnecting");const EQ=Uv(this,Tb.WILL_RECONNECT,this.reconnectMode,gQ.reason)||this.reconnectMode,CQ=await this.reconnectWithAction(EQ);if(this.state==="closed")return void Qy.debug("[".concat(this.connectionID,"] ws is closed, no need to reconnect"));if(!CQ)return iQ.reject(new rv(nv.WS_DISCONNECT,"websocket reconnect failed: ".concat(gQ.code))),this.close(!0);iQ.resolve()}},nQ=gQ=>{this.emit(Tb.ON_MESSAGE,gQ)},sQ=gQ=>{Qy.warn("[".concat(this.connectionID,"] ws open error ").concat(gQ))};this.websocket&&(this.websocket.onclose=null,this.websocket.close()),Dy("GATEWAY_WSS_ADDRESS")&&this.name.startsWith("gateway")&&(eQ=Dy("GATEWAY_WSS_ADDRESS")),Qy.debug("[".concat(this.name,"] start connect, url:"),eQ);const aQ=(AQ=this.store)===null||AQ===void 0?void 0:AQ.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"gateway"});try{var cQ;const gQ=await this.chooseBestWebsocketConnection(eQ);this.websocket=gQ,oQ&&oQ(this.websocket.url),this.websocket.onclose=rQ,this.websocket.onmessage=nQ,this.websocket.onerror=sQ,(cQ=this.store)===null||cQ===void 0||cQ.recordJoinChannelService({endTs:Date.now(),status:"success"},aQ),this.joinGatewayRecordIndex=aQ}catch(gQ){const IQ=this.state==="closed",EQ=gQ instanceof rv,CQ=EQ&&gQ.code===nv.WS_ABORT,dQ=EQ&&gQ.code===nv.WS_ERR,lQ=EQ?gQ.message:gQ&&(gQ.reason||gQ.toString());Qy.warning("[choose-best-ws] chooseBestWebsocket error: ".concat(lQ)),this.store&&this.store.recordJoinChannelService({endTs:Date.now(),status:CQ?"aborted":"error",errors:[gQ]},aQ),IQ||dQ?(iQ.reject(IQ?new rv(nv.WS_DISCONNECT,"websocket is closed: ".concat(lQ)):new rv(nv.WS_ERR,"init websocket failed: ".concat(lQ))),dQ&&Qy.error("[".concat(this.name,"] init websocket failed: ").concat(lQ))):rQ&&rQ(gQ)}return iQ.promise}async reconnectWithAction(eQ){let AQ=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(this.reconnectCount>=this.retryConfig.maxRetryCount||this.urls.length===0||this.state==="closed")return!1;Qy.warning("[choose-best-ws] action: =>",eQ),this.onlineReconnectListener||Vv.isOnline||!Vv.onlineWaiter||(this.onlineReconnectListener=Vv.onlineWaiter.then(()=>{this.onlineReconnectListener=void 0}));let iQ=!0;if(this.reconnectInterrupter=()=>iQ=!1,AQ){const nQ=Ey(this.reconnectCount,this.retryConfig);Qy.debug("[".concat(this.name,"] wait ").concat(nQ,"ms to reconnect websocket, mode: ").concat(eQ)),await Gh.race([$v(nQ),this.onlineReconnectListener||new Gh(()=>{})])}if(this._state==="closed"||!iQ)return!1;this.reconnectCount+=1;const oQ=async(nQ,sQ)=>{this.emit(Tb.RECONNECT_CREATE_CONNECTION,sQ),await this.createWebSocketConnection(nQ)};try{if(eQ==="retry")this.emit(Tb.RECONNECT_WAITTING_FINISH,eQ),await oQ(this.urls[this.currentURLIndex],eQ);else if(eQ==="tryNext"){if(this.currentURLIndex+=1,this.currentURLIndex>=this.urls.length)return this.reconnectWithAction("recover",!1);Qy.debug("[".concat(this.name,"] websocket url length: ").concat(this.urls.length," current index: ").concat(this.currentURLIndex)),this.emit(Tb.RECONNECT_WAITTING_FINISH,eQ),await oQ(this.urls[this.currentURLIndex],eQ)}else eQ==="recover"&&(Qy.debug("[".concat(this.name,"] request new urls")),this.resetReconnectCount("recover mode"),this.emit(Tb.RECONNECT_WAITTING_FINISH,eQ),this.urls=await kv(this,Tb.REQUEST_NEW_URLS),this.currentURLIndex=0,await oQ(this.urls[this.currentURLIndex],eQ))}catch(nQ){var rQ;Qy.error("[".concat(this.name,"] reconnect failed ").concat(nQ&&nQ.toString()));const sQ=nQ==null||(rQ=nQ.data)===null||rQ===void 0?void 0:rQ.desc;return Array.isArray(sQ)&&Dn(sQ).call(sQ,"dynamic key expired")?(this.emit(Tb.ON_TOKEN_PRIVILEGE_DID_EXPIRE),!1):this.reconnectWithAction(eQ,AQ)}return!0}}class Aw extends yw{constructor(eQ,AQ){super(eQ,AQ,arguments.length>2&&arguments[2]!==void 0&&arguments[2],arguments.length>3&&arguments[3]!==void 0&&arguments[3],arguments.length>4&&arguments[4]!==void 0&&arguments[4],arguments.length>5?arguments[5]:void 0)}async chooseBestWebsocketConnection(eQ,AQ){const iQ=fI(),oQ=function(nQ,sQ){return new Iw(nQ,sQ)}(this.forceCloseTimeout,this.store);this.closeEstablishingWs=()=>{Qy.debug("[choose-best-ws] close establishing websockets"),oQ.closeAllWebsockets(),iQ.reject(new rv(nv.WS_ABORT,"choose best websocket aborted"))};const rQ=Dy("GATEWAY_DOMAINS");return Qy.debug("[choose-best-ws] currentDomain: ",eQ,", domains: ",rQ,"total: ".concat(this.urls.length),"current: ".concat(this.currentURLIndex+1)),oQ.chooseBestWebsocket(eQ,this.tryDoubleDomain,this.use443PortOnly,AQ).then(iQ.resolve).catch(iQ.reject),iQ.promise.finally(()=>{this.closeEstablishingWs=void 0})}}class bw extends yw{constructor(eQ,AQ){super(eQ,AQ,arguments.length>2&&arguments[2]!==void 0&&arguments[2],arguments.length>3&&arguments[3]!==void 0&&arguments[3],arguments.length>4&&arguments[4]!==void 0&&arguments[4],arguments.length>5?arguments[5]:void 0)}async chooseBestWebsocketConnection(eQ,AQ){return new Gh((iQ,oQ)=>{let rQ=!1;const nQ=[];this.closeEstablishingWs=()=>{Qy.debug("[choose-best-ws] close establishing websockets"),nQ.forEach(dQ=>{dQ.onclose=null,dQ.onopen=null,dQ.onmessage=null,dQ.close()}),oQ(new rv(nv.WS_ABORT,"choose best websocket aborted"))};const sQ=Dy("GATEWAY_DOMAINS");let aQ;const cQ=eQ.indexOf("?h="),gQ=sQ.find(dQ=>cQ!==-1?Dn(eQ).call(eQ,dQ,cQ):Dn(eQ).call(eQ,dQ));Qy.debug("[choose-best-ws] currentDomain: ",gQ,", domains: ",sQ);let IQ=!this.tryDoubleDomain||!gQ;if(!IQ&&gQ){var EQ;const dQ=Date.now();try{sQ.forEach(lQ=>{const uQ=cQ===-1?eQ.replace(gQ,lQ):eQ.substr(0,cQ)+eQ.substr(cQ).replace(gQ,lQ),hQ=new WebSocket(uQ);hQ.binaryType="arraybuffer",nQ.push(hQ),Qy.debug("[choose-best-ws] ws is connecting:",hQ.url)})}catch{for(Qy.debug("[choose-best-ws] ws create failed, fallback to single url"),nQ.forEach(uQ=>uQ.close());nQ.length;)nQ.pop();IQ=!0}(EQ=this.store)===null||EQ===void 0||EQ.recordJoinChannelService({urls:nQ.map(lQ=>lQ.url),service:"gateway"},AQ),nQ.forEach(lQ=>{lQ.onopen=()=>{if(rQ)return;const uQ=Date.now()-dQ;Qy.debug("[choose-best-ws] ws open cost ".concat(uQ,"ms")),nQ.filter(hQ=>hQ!==lQ).forEach(hQ=>{Qy.debug("[choose-best-ws]close backup websocket: ".concat(hQ.url)),hQ.close()}),rQ=!0,iQ(lQ)},lQ.onclose=uQ=>{aQ=uQ,!rQ&&(nQ.find(hQ=>!(hQ.readyState===WebSocket.CLOSED||hQ.readyState===WebSocket.CLOSING))||(Qy.debug("[choose-best-ws] all websocket is closed"),rQ=!0,oQ(aQ)))},lQ.onmessage=uQ=>{Qy.debug("[choose-best-ws]".concat(lQ.url," onmessage: ").concat(uQ.data))}}),$v(this.forceCloseTimeout).then(()=>{nQ.forEach(lQ=>{lQ.readyState!==WebSocket.OPEN&&lQ.close()})})}if(IQ){var CQ;let dQ;Qy.debug("[choose-best-ws] use single url: ",eQ),(CQ=this.store)===null||CQ===void 0||CQ.recordJoinChannelService({urls:[eQ],service:"gateway"},AQ);try{dQ=new WebSocket(eQ),nQ.push(dQ),dQ.binaryType="arraybuffer"}catch(lQ){const uQ=new rv(nv.WS_ERR,"init websocket failed! Error: ".concat(lQ.toString()));return Qy.error("[".concat(this.name,"]").concat(uQ)),void oQ(uQ)}dQ.onopen=()=>{iQ(dQ)},dQ.onclose=lQ=>{oQ(lQ)},dQ.onmessage=lQ=>{Qy.debug("[choose-best-ws]".concat(dQ.url," onmessage: ").concat(lQ.data))},$v(this.forceCloseTimeout).then(()=>{dQ&&dQ.readyState!==WebSocket.OPEN&&dQ.close()})}}).then(iQ=>(this.closeEstablishingWs=void 0,iQ)).catch(iQ=>{throw this.closeEstablishingWs=void 0,iQ})}}class ww extends Sv{get connectionState(){return this._connectionState}set connectionState(eQ){eQ!==this._connectionState&&(this._connectionState=eQ,eQ===hb.CONNECTED?this.emit(pb.WS_CONNECTED):eQ===hb.RECONNECTING?this.emit(pb.WS_RECONNECTING,this._websocketReconnectReason):eQ===hb.CLOSED&&this.emit(pb.WS_CLOSED,this._disconnectedReason))}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket&&this.websocket.url||null}get rtt(){return this.rttRolling.mean()}constructor(eQ,AQ){super(),og(this,"_disconnectedReason",void 0),og(this,"_websocketReconnectReason",void 0),og(this,"_connectionState",hb.CLOSED),og(this,"reconnectToken",void 0),og(this,"websocket",void 0),og(this,"openConnectionTime",void 0),og(this,"clientId",void 0),og(this,"lastMsgTime",Date.now()),og(this,"uploadCache",[]),og(this,"uploadCacheInterval",void 0),og(this,"rttRolling",new fy(5)),og(this,"pingpongTimer",void 0),og(this,"wsInflateDataTimer",void 0),og(this,"pingpongTimeoutCount",0),og(this,"joinResponse",void 0),og(this,"multiIpOption",void 0),og(this,"initError",void 0),og(this,"spec",void 0),og(this,"store",void 0),og(this,"onWebsocketMessage",iQ=>{if(iQ.data instanceof ArrayBuffer)return void this.emit(pb.ON_BINARY_DATA,iQ.data);const oQ=JSON.parse(iQ.data);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(oQ,"_id")){const rQ="res-@".concat(oQ._id);this.emit(rQ,oQ._result,oQ._message)}else if(Object.prototype.hasOwnProperty.call(oQ,"_type")){if(this.emit(oQ._type,oQ._message),oQ._type===mb.ON_NOTIFICATION&&this.handleNotification(oQ._message),oQ._type===mb.ON_USER_BANNED)switch(oQ._message.error_code){case 14:this.close(Av.UID_BANNED);break;case 15:this.close(Av.IP_BANNED);break;case 16:this.close(Av.CHANNEL_BANNED)}if(oQ._type===mb.ON_USER_LICENSE_BANNED)switch(oQ._message.error_code){case ub.ERR_LICENSE_MISSING:this.close(Av.LICENSE_MISSING);break;case ub.ERR_LICENSE_EXPIRED:this.close(Av.LICENSE_EXPIRED);break;case ub.ERR_LICENSE_MINUTES_EXCEEDED:this.close(Av.LICENSE_MINUTES_EXCEEDED);break;case ub.ERR_LICENSE_PERIOD_INVALID:this.close(Av.LICENSE_PERIOD_INVALID);break;case ub.ERR_LICENSE_MULTIPLE_SDK_SERVICE:this.close(Av.LICENSE_MULTIPLE_SDK_SERVICE);break;case ub.ERR_LICENSE_ILLEGAL:this.close(Av.LICENSE_ILLEGAL);break;default:this.close()}}}),this.clientId=eQ.clientId,this.spec=eQ,this.store=AQ,this.websocket=new Aw("gateway-".concat(this.clientId),this.spec.retryConfig,!0,Dy("JOIN_GATEWAY_USE_DUAL_DOMAIN"),Dy("JOIN_GATEWAY_USE_443PORT_ONLY"),AQ),this.handleWebsocketEvents(),window.addEventListener("offline",()=>{this.connectionState===hb.CONNECTED&&this.reconnect("retry",Dv.OFFLINE)})}async request(eQ,AQ,iQ,oQ){const rQ=ey(6,""),nQ={_id:rQ,_type:eQ,_message:AQ},sQ=this.websocket.connectionID,aQ=()=>new Gh((dQ,lQ)=>{if(this.connectionState===hb.CONNECTED)return dQ();const uQ=()=>{this.off(pb.WS_CLOSED,hQ),dQ()},hQ=()=>{this.off(pb.WS_CONNECTED,uQ),lQ(new Sb(nv.WS_ABORT))};this.once(pb.WS_CONNECTED,uQ),this.once(pb.WS_CLOSED,hQ),eQ!==_b.PUBLISH&&eQ!==_b.PUBLISH_DATASTREAM&&eQ!==_b.SUBSCRIBE&&eQ!==_b.SUBSCRIBE_DATASTREAM&&eQ!==_b.UNSUBSCRIBE&&eQ!==_b.UNSUBSCRIBE_DATASTREAM&&eQ!==_b.UNPUBLISH&&eQ!==_b.UNPUBLISH_DATASTREAM&&eQ!==_b.CONTROL&&eQ!==_b.RESTART_ICE||this.once(pb.DISCONNECT_P2P,()=>{lQ(new Sb(nv.DISCONNECT_P2P))}),eQ!==_b.PUBLISH&&eQ!==_b.RESTART_ICE||this.once(pb.ABORT_P2P_EXECUTION,()=>{lQ(new Sb(nv.DISCONNECT_P2P))})});if(this.connectionState!==hb.CONNECTING&&this.connectionState!==hb.RECONNECTING||eQ===_b.JOIN||eQ===_b.REJOIN||await aQ(),this.websocket.sendMessage(nQ,!0),oQ)return;const cQ=new Gh((dQ,lQ)=>{let uQ=!1;const hQ=(QQ,fQ)=>{uQ=!0,dQ({isSuccess:QQ==="success",message:fQ||{}}),this.off(pb.WS_CLOSED,BQ),this.off(pb.WS_RECONNECTING,BQ),this.emit(pb.REQUEST_SUCCESS,eQ,AQ)};this.once("res-@".concat(rQ),hQ);const BQ=()=>{lQ(new Sb(nv.WS_ABORT,"type: ".concat(eQ))),this.off(pb.WS_CLOSED,BQ),this.off(pb.WS_RECONNECTING,BQ),this.off("res-@".concat(rQ),hQ)};this.once(pb.WS_CLOSED,BQ),this.once(pb.WS_RECONNECTING,BQ),$v(Dy("SIGNAL_REQUEST_TIMEOUT")).then(()=>{this.websocket.connectionID!==sQ||uQ||(Qy.warning("[".concat(this.clientId,"] ws request timeout, type: ").concat(eQ)),this.emit(pb.REQUEST_TIMEOUT,eQ,AQ))})});let gQ=null;try{gQ=await cQ}catch(dQ){if(this.connectionState===hb.CLOSED||eQ===_b.LEAVE)throw new Sb(nv.WS_ABORT);return!this.spec.forceWaitGatewayResponse||iQ?dQ.throw():eQ===_b.JOIN||eQ===_b.REJOIN?null:(await aQ(),await this.request(eQ,AQ))}if(gQ.isSuccess)return gQ.message;const IQ=Number(gQ.message.error_code||gQ.message.code),EQ=pw(IQ),CQ=new Sb(nv.UNEXPECTED_RESPONSE,"".concat(EQ.desc,": ").concat(gQ.message.error_str),{code:IQ,data:gQ.message,desc:EQ.desc});return EQ.action==="success"?gQ.message:(Qy.warning("[".concat(this.clientId,"] [").concat(this.websocket.connectionID,"] unexpected response from type ").concat(eQ,", error_code: ").concat(IQ,", message: ").concat(EQ.desc,", action: ").concat(EQ.action)),IQ===ub.ERR_TOO_MANY_BROADCASTERS?((eQ===_b.JOIN||eQ===_b.REJOIN)&&(this.initError=CQ,this.close()),CQ.throw()):EQ.action==="failed"?CQ.throw():EQ.action==="quit"?(this.initError=CQ,this.close(),CQ.throw()):(IQ===ub.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=gQ.message.option,Qy.warning("[".concat(this.clientId,"] detect multi ip, recover")),this.reconnect("recover",Dv.MULTI_IP)):this.reconnect(EQ.action,Dv.SERVER_ERROR),eQ===_b.JOIN||eQ===_b.REJOIN?null:await this.request(eQ,AQ)))}waitMessage(eQ,AQ){return new Gh(iQ=>{const oQ=rQ=>{(!AQ||AQ(rQ))&&(this.off(eQ,oQ),iQ(rQ))};this.on(eQ,oQ)})}uploadWRTCStats(eQ){if(!this.store.sessionId)return void Qy.warn("[".concat(this.clientId,"] no session id when upload wrtc stats"));const AQ={lts:Date.now(),sid:this.store.sessionId,uid:this.store.intUid,stats:eQ};this.upload(Eb.WRTC_STATS,AQ)}upload(eQ,AQ){const iQ={_type:eQ,_message:AQ};try{this.websocket.sendMessage(iQ)}catch{const rQ=Dy("MAX_UPLOAD_CACHE")||50;this.uploadCache.push(iQ),this.uploadCache.length>rQ&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval(()=>{if(this.connectionState!==hb.CONNECTED)return;const nQ=this.uploadCache.splice(0,1)[0];this.uploadCache.length===0&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(nQ._type,nQ._message)},Dy("UPLOAD_CACHE_INTERVAL")||2e3))}}send(eQ,AQ){const iQ={_type:eQ,_message:AQ};this.websocket.sendMessage(iQ)}init(eQ,AQ){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new Gh((iQ,oQ)=>{this.once(pb.WS_CONNECTED,()=>iQ(this.joinResponse)),this.once(pb.WS_CLOSED,()=>oQ(this.initError||new Sb(nv.WS_ABORT))),this.connectionState=hb.CONNECTING,this.websocket.init(eQ).catch(oQ),this.wsInflateDataTimer&&window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=window.setInterval(()=>{this.handleWsInflateData()},2e4)})}close(eQ){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.wsInflateDataTimer&&(this.handleWsInflateData(),window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._disconnectedReason=eQ||Av.LEAVE,this.connectionState=hb.CLOSED,Qy.debug("[".concat(this.clientId,"] ")+"will close websocket in signal"),this.websocket.close()}async join(){if(!this.joinResponse){this.emit(pb.ABORT_P2P_EXECUTION);const eQ=await kv(this,pb.REQUEST_JOIN_INFO),AQ=await this.request(_b.JOIN,eQ);if(!AQ)return this.emit(pb.REPORT_JOIN_GATEWAY,xb.TIMEOUT,this.url||""),!1;this.joinResponse=AQ,this.emit(pb.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token}return this.connectionState=hb.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0}async rejoin(){if(!this.reconnectToken)throw new Sb(nv.UNEXPECTED_ERROR,"can not rejoin, no rejoin token");const eQ=xv(this,pb.REQUEST_REJOIN_INFO);eQ.token=this.reconnectToken;const AQ=await this.request(_b.REJOIN,eQ);return!!AQ&&(this.connectionState=hb.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),AQ.peers&&AQ.peers.forEach(iQ=>{this.emit(mb.ON_USER_ONLINE,{uid:iQ.uid}),iQ.audio&&this.emit(mb.ON_ADD_AUDIO_STREAM,{uid:iQ.uid,uint_id:iQ.uint_id,audio:!0,ssrcId:iQ.audio_ssrc}),iQ.video&&this.emit(mb.ON_ADD_VIDEO_STREAM,{uid:iQ.uid,uint_id:iQ.uint_id,video:!0,ssrcId:iQ.video_ssrc}),iQ.audio_mute?this.emit(mb.MUTE_AUDIO,{uid:iQ.uid}):this.emit(mb.UNMUTE_AUDIO,{uid:iQ.uid}),iQ.video_mute?this.emit(mb.MUTE_VIDEO,{uid:iQ.uid}):this.emit(mb.UNMUTE_VIDEO,{uid:iQ.uid}),iQ.audio_enable_local?this.emit(mb.ENABLE_LOCAL_AUDIO,{uid:iQ.uid}):this.emit(mb.DISABLE_LOCAL_AUDIO,{uid:iQ.uid}),iQ.video_enable_local?this.emit(mb.ENABLE_LOCAL_VIDEO,{uid:iQ.uid}):this.emit(mb.DISABLE_LOCAL_VIDEO,{uid:iQ.uid}),iQ.audio||iQ.video||this.emit(mb.ON_REMOVE_STREAM,{uid:iQ.uid,uint_id:iQ.uint_id})}),!0)}reconnect(eQ,AQ){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(eQ,AQ)}handleNotification(eQ){Qy.debug("[".concat(this.clientId,"] receive notification: "),eQ);const AQ=pw(eQ.code);if(AQ.action!=="success"){if(AQ.action!=="failed")return AQ.action==="quit"?(AQ.desc==="ERR_REPEAT_JOIN_CHANNEL"&&this.close(Av.UID_BANNED),void this.close()):void this.reconnect(AQ.action,Dv.SERVER_ERROR);Qy.error("[".concat(this.clientId,"] ignore error: "),AQ.desc)}}handlePingPong(){if(!this.websocket||this.websocket.state!=="connected")return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;const eQ=Dy("PING_PONG_TIME_OUT"),AQ=Date.now();this.pingpongTimeoutCount>=eQ&&(Qy.warning("[".concat(this.clientId,"] PING-PONG Timeout. Last Socket Message: ").concat(AQ-this.lastMsgTime,"ms")),AQ-this.lastMsgTime>Dy("WEBSOCKET_TIMEOUT_MIN"))?this.reconnect("retry",Dv.TIMEOUT):this.request(_b.PING,void 0,!0).then(()=>{this.pingpongTimeoutCount=0;const iQ=Date.now()-AQ;this.rttRolling.add(iQ),Dy("REPORT_STATS")&&this.send(_b.PING_BACK,{pingpongElapse:iQ})}).catch(iQ=>{})}handleWsInflateData(){const{wsInflateLength:eQ,wsDeflateLength:AQ}=this.websocket.getWsInflateData();eQ!==0&&AQ!==0&&this.upload(Eb.WS_INFLATE_DATA_LENGTH,{ws_deflate_length:AQ,ws_inflate_length:eQ})}handleWebsocketEvents(){this.websocket.on(Tb.RECONNECT_WAITTING_FINISH,eQ=>{this.emit(pb.WS_RECONNECT_WAITTING_FINISH,eQ)}),this.websocket.on(Tb.RECONNECT_CREATE_CONNECTION,eQ=>{this.emit(pb.WS_RECONNECT_CREATE_CONNECTION,eQ)}),this.websocket.on(Tb.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(Tb.CLOSED,()=>{this.connectionState=hb.CLOSED}),this.websocket.on(Tb.FAILED,()=>{this._disconnectedReason=Av.NETWORK_ERROR,this.connectionState=hb.CLOSED}),this.websocket.on(Tb.RECONNECTING,eQ=>{this._websocketReconnectReason=eQ,this.joinResponse=void 0,this.connectionState===hb.CONNECTED?this.connectionState=hb.RECONNECTING:this.connectionState=hb.CONNECTING}),this.websocket.on(Tb.WILL_RECONNECT,(eQ,AQ,iQ)=>{const oQ=xv(this,pb.IS_P2P_DISCONNECTED),rQ=oQ||eQ!=="retry";oQ&&eQ==="retry"&&(Qy.debug("".concat(this.clientId," reconnect mode is retry, but p2p lost, change to tryNext")),eQ="tryNext",AQ=xb.P2P_DISCONNECTED),rQ&&(Qy.debug("".concat(this.clientId," will renewSession, reconnect mode: ").concat(eQ)),this.emit(pb.REPORT_JOIN_GATEWAY,AQ||xb.UNKNOWN_REASON,this.url||""),this.reconnectToken=void 0,this.emit(pb.DISCONNECT_P2P)),iQ(eQ)}),this.websocket.on(Tb.CONNECTED,()=>{this.openConnectionTime=Date.now(),this.reconnectToken?this.rejoin().catch(eQ=>{Qy.warning("[".concat(this.clientId,"] rejoin failed ").concat(eQ)),this.reconnect("tryNext",Dv.SERVER_ERROR)}):this.join().catch(eQ=>{if(this.emit(pb.REPORT_JOIN_GATEWAY,eQ,this.url||""),eQ instanceof Sb){if(eQ.code===nv.UNEXPECTED_RESPONSE&&eQ.data.code===ub.ERR_NO_AUTHORIZED)return this.initError=new Sb(nv.CAN_NOT_GET_GATEWAY_SERVER,"AgoraRTCError CAN_NOT_GET_GATEWAY_SERVER: dynamic key expired"),Qy.warning("[".concat(this.clientId,"] reconnect no authorized, recover")),void this.reconnect("recover",Dv.SERVER_ERROR);Qy.error("[".concat(this.clientId,"] join gateway request failed"),eQ.toString()),this.spec.forceWaitGatewayResponse?this.reconnect("tryNext",Dv.SERVER_ERROR):(this.initError=eQ,this.close())}})}),this.websocket.on(Tb.REQUEST_NEW_URLS,(eQ,AQ)=>{kv(this,pb.REQUEST_RECOVER,this.multiIpOption).then(eQ).catch(AQ)}),this.websocket.on(Tb.ON_TOKEN_PRIVILEGE_DID_EXPIRE,()=>{this.emit(mb.ON_TOKEN_PRIVILEGE_DID_EXPIRE)}),this.websocket.on(tw.PRE_CONNECT_PC,()=>{this.emit(pb.PRE_CONNECT_PC)})}}let Ow=function(tQ){return tQ[tQ.CHOOSE_SERVER=11]="CHOOSE_SERVER",tQ[tQ.CLOUD_PROXY=18]="CLOUD_PROXY",tQ[tQ.CLOUD_PROXY_5=20]="CLOUD_PROXY_5",tQ[tQ.CLOUD_PROXY_FALLBACK=26]="CLOUD_PROXY_FALLBACK",tQ}({});function Nw(tQ,eQ){var AQ=Object.keys(tQ);if(Object.getOwnPropertySymbols){var iQ=Object.getOwnPropertySymbols(tQ);eQ&&(iQ=iQ.filter(function(oQ){return Object.getOwnPropertyDescriptor(tQ,oQ).enumerable})),AQ.push.apply(AQ,iQ)}return AQ}function Dw(tQ){for(var eQ=1;eQ<arguments.length;eQ++){var AQ=arguments[eQ]!=null?arguments[eQ]:{};eQ%2?Nw(Object(AQ),!0).forEach(function(iQ){og(tQ,iQ,AQ[iQ])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tQ,Object.getOwnPropertyDescriptors(AQ)):Nw(Object(AQ)).forEach(function(iQ){Object.defineProperty(tQ,iQ,Object.getOwnPropertyDescriptor(AQ,iQ))})}return tQ}function Pw(tQ){return tQ.match(/^[\.\:\d]+$/)?"".concat(tQ.replace(/[^\d]/g,"-"),".").concat(Dy("TURN_DOMAIN")):(Qy.info("Unidentified as ip: ".concat(tQ,", use as host")),tQ)}function Lw(tQ,eQ){tQ.addresses||(tQ.addresses=[]);const AQ=function(sQ,aQ){if(Dy("CONNECT_GATEWAY_WITHOUT_DOMAIN"))return sQ.map(IQ=>{let{ip:EQ,port:CQ}=IQ;return{address:"".concat(EQ,":").concat(CQ)}});const cQ=Dy("GATEWAY_DOMAINS");let gQ=cQ[1]&&Dn(aQ).call(aQ,cQ[1])?1:0;return sQ.map(IQ=>{let{domain_prefix:EQ,port:CQ,ip:dQ}=IQ;if(EQ)return{address:"".concat(EQ,".").concat(cQ[gQ++%cQ.length],":").concat(CQ)};const lQ=/^[\.\:\d]+$/.test(dQ),uQ=lQ?"".concat(dQ.replace(/[^\d]/g,"-"),".").concat(cQ[gQ++%cQ.length],":").concat(CQ):"".concat(dQ,":").concat(CQ);return lQ||Qy.info("Unidentified as ip: ".concat(dQ,", use as host")),{ip:dQ,port:CQ,address:uQ}})}(tQ.addresses,eQ),iQ=Array.isArray(tQ.detail)&&tQ.detail[18];if(iQ&&typeof iQ=="string"){const sQ=iQ.split(";");for(let aQ=0;aQ<sQ.length;aQ++){var oQ;const cQ=jp(oQ=sQ[aQ]).call(oQ);AQ[aQ]&&cQ&&(AQ[aQ].ip6=cQ)}}const rQ=tQ.detail&&tQ.detail.candidate;let nQ;if(rQ){const[sQ,aQ]=rQ.split(":");sQ&&aQ&&(nQ={port:Number(aQ),ip:sQ,address:"".concat(sQ,":").concat(aQ)})}return{gatewayAddrs:AQ,apGatewayAddress:nQ,uid:tQ.uid,cid:tQ.cid,cert:tQ.cert,vid:tQ.detail&&tQ.detail[8],uni_lbs_ip:tQ.detail&&tQ.detail[1],res:tQ,csIp:tQ.detail&&tQ.detail[502]}}function kw(tQ){return typeof tQ=="number"?tQ:tQ.exact||tQ.ideal||tQ.max||tQ.min||0}function Mw(tQ){const eQ=tQ._encoderConfig;if(!eQ)return{};const AQ={resolution:eQ.width&&eQ.height?"".concat(kw(eQ.width),"x").concat(kw(eQ.height)):void 0,maxVideoBW:eQ.bitrateMax,minVideoBW:eQ.bitrateMin};return typeof eQ.frameRate=="number"?(AQ.maxFrameRate=eQ.frameRate,AQ.minFrameRate=eQ.frameRate):eQ.frameRate&&(AQ.maxFrameRate=eQ.frameRate.max||eQ.frameRate.ideal||eQ.frameRate.exact||eQ.frameRate.min,AQ.minFrameRate=eQ.frameRate.min||eQ.frameRate.ideal||eQ.frameRate.exact||eQ.frameRate.max),AQ}function Uw(tQ){return tQ>=0&&tQ<.17?1:tQ>=.17&&tQ<.36?2:tQ>=.36&&tQ<.59?3:tQ>=.59&&tQ<=1?4:tQ>1?5:0}function xw(tQ,eQ){let AQ,iQ,oQ;switch(eQ){case Ow.CHOOSE_SERVER:iQ=4096,oQ="choose server";break;case Ow.CLOUD_PROXY:iQ=1048576,oQ="proxy";break;case Ow.CLOUD_PROXY_5:iQ=4194304,oQ="proxy5";break;case Ow.CLOUD_PROXY_FALLBACK:iQ=4194310,oQ="proxy fallback";break;default:throw new Sb(nv.UNEXPECTED_ERROR,"multi unlibs response transformer get unknown service id",{csIp:tQ.detail&&tQ.detail[502],retry:!1})}if(tQ.response_body.forEach(rQ=>{rQ.buffer&&rQ.buffer.flag===iQ&&(AQ={code:rQ.buffer.code,addresses:(rQ.buffer.edges_services||[]).map(nQ=>Dw(Dw({},nQ),{},{ticket:rQ.buffer.cert})),server_ts:tQ.enter_ts,uid:rQ.buffer.uid,cid:rQ.buffer.cid,cname:rQ.buffer.cname,detail:Dw(Dw({},rQ.buffer.detail),tQ.detail),flag:rQ.buffer.flag,opid:tQ.opid,cert:rQ.buffer.cert})}),!AQ)throw new Sb(nv.MULTI_UNILBS_RESPONSE_ERROR,"cannot parse response ".concat(oQ," from multi unilbs response"),{csIp:tQ.detail&&tQ.detail[502]});return AQ}async function Vw(tQ,eQ){return await Gh.all(tQ.addresses.map(async AQ=>({address:Pw(AQ.ip),tcpport:AQ.port,udpport:AQ.port,username:eQ&&Dy("ENCRYPT_PROXY_USERNAME_AND_PSW")&&window.isSecureContext?eQ.toString():cA.username,password:eQ&&Dy("ENCRYPT_PROXY_USERNAME_AND_PSW")&&window.isSecureContext?await Tv(eQ.toString()):cA.password})))}function Fw(tQ,eQ){const AQ=eQ.getMediaStreamTrack(!0).getSettings(),iQ=eQ.videoHeight||AQ.height,oQ=eQ.videoWidth||AQ.width;return iQ&&oQ?Math.max(Math.min(iQ,oQ)/Math.min(kw(tQ.height),kw(tQ.width)),1):(Qy.warning("can't get ori-track's height, default scale down 4 times for low stream"),4)}function Bw(tQ){let{candidateType:eQ,relayProtocol:AQ,type:iQ,address:oQ,port:rQ,protocol:nQ}=tQ;return iQ==="local-candidate"?{candidateType:eQ,relayProtocol:AQ,protocol:nQ}:{candidateType:eQ,relayProtocol:AQ,address:oQ,port:rQ,protocol:nQ}}var jw,Gw=i(UA),Ww=Xi("Array").values,Hw=pn,Kw=Ze,Yw=l,qw=Ww,zw=Array.prototype,Jw={DOMTokenList:!0,NodeList:!0},Xw=function(tQ){var eQ=tQ.values;return tQ===zw||Yw(zw,tQ)&&eQ===zw.values||Kw(Jw,Hw(tQ))?qw:eQ},Qw=i(Xw),Zw=N,$w=d,eO=L,tO=n,iO=eo,nO=Br,rO=k,oO=Je,sO=K,aO=Object.assign,cO=Object.defineProperty,dO=$w([].concat),lO=!aO||tO(function(){if(Zw&&aO({b:1},aO(cO({},"a",{enumerable:!0,get:function(){cO(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var tQ={},eQ={},AQ=Symbol(),iQ="abcdefghijklmnopqrst";return tQ[AQ]=7,iQ.split("").forEach(function(oQ){eQ[oQ]=oQ}),aO({},tQ)[AQ]!=7||iO(aO({},eQ)).join("")!=iQ})?function(tQ,eQ){for(var AQ=oO(tQ),iQ=arguments.length,oQ=1,rQ=nO.f,nQ=rO.f;iQ>oQ;)for(var sQ,aQ=sO(arguments[oQ++]),cQ=rQ?dO(iO(aQ),rQ(aQ)):iO(aQ),gQ=cQ.length,IQ=0;gQ>IQ;)sQ=cQ[IQ++],Zw&&!eO(nQ,aQ,sQ)||(AQ[sQ]=aQ[sQ]);return AQ}:aO,uO=ii,hO=rs,pO=Xt,_O=L,EO=Je,mO=function(tQ,eQ,AQ,iQ){try{return iQ?eQ(uO(AQ)[0],AQ[1]):eQ(AQ)}catch(oQ){hO(tQ,"throw",oQ)}},fO=jo,TO=jc,SO=Gi,gO=E_,RO=es,CO=qo,IO=Array,vO=d,yO=2147483647,AO=/[^\0-\u007E]/,bO=/[.\u3002\uFF0E\uFF61]/g,wO="Overflow: input needs wider integers to process",OO=RangeError,NO=vO(bO.exec),DO=Math.floor,PO=String.fromCharCode,LO=vO("".charCodeAt),kO=vO([].join),MO=vO([].push),UO=vO("".replace),xO=vO("".split),VO=vO("".toLowerCase),FO=function(tQ){return tQ+22+75*(tQ<26)},BO=function(tQ,eQ,AQ){var iQ=0;for(tQ=AQ?DO(tQ/700):tQ>>1,tQ+=DO(tQ/eQ);tQ>455;)tQ=DO(tQ/35),iQ+=36;return DO(iQ+36*tQ/(tQ+38))},jO=function(tQ){var eQ=[];tQ=function(hQ){for(var BQ=[],QQ=0,fQ=hQ.length;QQ<fQ;){var _Q=LO(hQ,QQ++);if(_Q>=55296&&_Q<=56319&&QQ<fQ){var RQ=LO(hQ,QQ++);(64512&RQ)==56320?MO(BQ,((1023&_Q)<<10)+(1023&RQ)+65536):(MO(BQ,_Q),QQ--)}else MO(BQ,_Q)}return BQ}(tQ);var AQ,iQ,oQ=tQ.length,rQ=128,nQ=0,sQ=72;for(AQ=0;AQ<tQ.length;AQ++)(iQ=tQ[AQ])<128&&MO(eQ,PO(iQ));var aQ=eQ.length,cQ=aQ;for(aQ&&MO(eQ,"-");cQ<oQ;){var gQ=yO;for(AQ=0;AQ<tQ.length;AQ++)(iQ=tQ[AQ])>=rQ&&iQ<gQ&&(gQ=iQ);var IQ=cQ+1;if(gQ-rQ>DO((yO-nQ)/IQ))throw OO(wO);for(nQ+=(gQ-rQ)*IQ,rQ=gQ,AQ=0;AQ<tQ.length;AQ++){if((iQ=tQ[AQ])<rQ&&++nQ>yO)throw OO(wO);if(iQ==rQ){for(var EQ=nQ,CQ=36;;){var dQ=CQ<=sQ?1:CQ>=sQ+26?26:CQ-sQ;if(EQ<dQ)break;var lQ=EQ-dQ,uQ=36-dQ;MO(eQ,PO(FO(dQ+lQ%uQ))),EQ=DO(lQ/uQ),CQ+=36}MO(eQ,PO(FO(EQ))),sQ=BO(nQ,IQ,cQ==aQ),nQ=0,cQ++}}nQ++,rQ++}return kO(eQ,"")},GO=wi,WO=N,HO=cg,KO=h,YO=Xt,qO=d,zO=ha,JO=hc,XO=Sc,QO=Ze,ZO=lO,$O=function(tQ){var eQ=EO(tQ),AQ=TO(this),iQ=arguments.length,oQ=iQ>1?arguments[1]:void 0,rQ=oQ!==void 0;rQ&&(oQ=pO(oQ,iQ>2?arguments[2]:void 0));var nQ,sQ,aQ,cQ,gQ,IQ,EQ=CO(eQ),CQ=0;if(!EQ||this===IO&&fO(EQ))for(nQ=SO(eQ),sQ=AQ?new this(nQ):IO(nQ);nQ>CQ;CQ++)IQ=rQ?oQ(eQ[CQ],CQ):eQ[CQ],gO(sQ,CQ,IQ);else for(gQ=(cQ=RO(eQ,EQ)).next,sQ=AQ?new this:[];!(aQ=_O(gQ,cQ)).done;CQ++)IQ=rQ?mO(cQ,oQ,[aQ.value,CQ],!0):aQ.value,gO(sQ,CQ,IQ);return sQ.length=CQ,sQ},eN=R_,tN=Ch.codeAt,iN=function(tQ){var eQ,AQ,iQ=[],oQ=xO(UO(VO(tQ),bO,"."),".");for(eQ=0;eQ<oQ.length;eQ++)AQ=oQ[eQ],MO(iQ,NO(AO,AQ)?"xn--"+jO(AQ):AQ);return kO(iQ,".")},nN=mn,rN=Da,oN=Zc,sN=vR,aN=ra,cN=aN.set,dN=aN.getterFor("URL"),lN=sN.URLSearchParams,uN=sN.getState,hN=KO.URL,pN=KO.TypeError,_N=KO.parseInt,EN=Math.floor,mN=Math.pow,fN=qO("".charAt),TN=qO(/./.exec),SN=qO([].join),gN=qO(1 .toString),RN=qO([].pop),CN=qO([].push),IN=qO("".replace),vN=qO([].shift),yN=qO("".split),AN=qO("".slice),bN=qO("".toLowerCase),wN=qO([].unshift),ON="Invalid scheme",NN="Invalid host",DN="Invalid port",PN=/[a-z]/i,LN=/[\d+-.a-z]/i,kN=/\d/,MN=/^0x/i,UN=/^[0-7]+$/,xN=/^\d+$/,VN=/^[\da-f]+$/i,FN=/[\0\t\n\r #%/:<>?@[\\\]^|]/,BN=/[\0\t\n\r #/:<>?@[\\\]^|]/,jN=/^[\u0000-\u0020]+/,GN=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,WN=/[\t\n\r]/g,HN=function(tQ){var eQ,AQ,iQ,oQ;if(typeof tQ=="number"){for(eQ=[],AQ=0;AQ<4;AQ++)wN(eQ,tQ%256),tQ=EN(tQ/256);return SN(eQ,".")}if(typeof tQ=="object"){for(eQ="",iQ=function(rQ){for(var nQ=null,sQ=1,aQ=null,cQ=0,gQ=0;gQ<8;gQ++)rQ[gQ]!==0?(cQ>sQ&&(nQ=aQ,sQ=cQ),aQ=null,cQ=0):(aQ===null&&(aQ=gQ),++cQ);return cQ>sQ&&(nQ=aQ,sQ=cQ),nQ}(tQ),AQ=0;AQ<8;AQ++)oQ&&tQ[AQ]===0||(oQ&&(oQ=!1),iQ===AQ?(eQ+=AQ?":":"::",oQ=!0):(eQ+=gN(tQ[AQ],16),AQ<7&&(eQ+=":")));return"["+eQ+"]"}return tQ},KN={},YN=ZO({},KN,{" ":1,'"':1,"<":1,">":1,"`":1}),qN=ZO({},YN,{"#":1,"?":1,"{":1,"}":1}),zN=ZO({},qN,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),JN=function(tQ,eQ){var AQ=tN(tQ,0);return AQ>32&&AQ<127&&!QO(eQ,tQ)?tQ:encodeURIComponent(tQ)},XN={ftp:21,file:null,http:80,https:443,ws:80,wss:443},QN=function(tQ,eQ){var AQ;return tQ.length==2&&TN(PN,fN(tQ,0))&&((AQ=fN(tQ,1))==":"||!eQ&&AQ=="|")},ZN=function(tQ){var eQ;return tQ.length>1&&QN(AN(tQ,0,2))&&(tQ.length==2||(eQ=fN(tQ,2))==="/"||eQ==="\\"||eQ==="?"||eQ==="#")},$N=function(tQ){return tQ==="."||bN(tQ)==="%2e"},eD={},tD={},iD={},nD={},rD={},oD={},sD={},aD={},cD={},dD={},lD={},uD={},hD={},pD={},_D={},ED={},mD={},fD={},TD={},SD={},gD={},RD=function(tQ,eQ,AQ){var iQ,oQ,rQ,nQ=nN(tQ);if(eQ){if(oQ=this.parse(nQ))throw pN(oQ);this.searchParams=null}else{if(AQ!==void 0&&(iQ=new RD(AQ,!0)),oQ=this.parse(nQ,null,iQ))throw pN(oQ);(rQ=uN(new lN)).bindURL(this),this.searchParams=rQ}};RD.prototype={type:"URL",parse:function(tQ,eQ,AQ){var iQ,oQ,rQ,nQ,sQ,aQ=this,cQ=eQ||eD,gQ=0,IQ="",EQ=!1,CQ=!1,dQ=!1;for(tQ=nN(tQ),eQ||(aQ.scheme="",aQ.username="",aQ.password="",aQ.host=null,aQ.port=null,aQ.path=[],aQ.query=null,aQ.fragment=null,aQ.cannotBeABaseURL=!1,tQ=IN(tQ,jN,""),tQ=IN(tQ,GN,"$1")),tQ=IN(tQ,WN,""),iQ=$O(tQ);gQ<=iQ.length;){switch(oQ=iQ[gQ],cQ){case eD:if(!oQ||!TN(PN,oQ)){if(eQ)return ON;cQ=iD;continue}IQ+=bN(oQ),cQ=tD;break;case tD:if(oQ&&(TN(LN,oQ)||oQ=="+"||oQ=="-"||oQ=="."))IQ+=bN(oQ);else{if(oQ!=":"){if(eQ)return ON;IQ="",cQ=iD,gQ=0;continue}if(eQ&&(aQ.isSpecial()!=QO(XN,IQ)||IQ=="file"&&(aQ.includesCredentials()||aQ.port!==null)||aQ.scheme=="file"&&!aQ.host))return;if(aQ.scheme=IQ,eQ)return void(aQ.isSpecial()&&XN[aQ.scheme]==aQ.port&&(aQ.port=null));IQ="",aQ.scheme=="file"?cQ=pD:aQ.isSpecial()&&AQ&&AQ.scheme==aQ.scheme?cQ=nD:aQ.isSpecial()?cQ=aD:iQ[gQ+1]=="/"?(cQ=rD,gQ++):(aQ.cannotBeABaseURL=!0,CN(aQ.path,""),cQ=TD)}break;case iD:if(!AQ||AQ.cannotBeABaseURL&&oQ!="#")return ON;if(AQ.cannotBeABaseURL&&oQ=="#"){aQ.scheme=AQ.scheme,aQ.path=eN(AQ.path),aQ.query=AQ.query,aQ.fragment="",aQ.cannotBeABaseURL=!0,cQ=gD;break}cQ=AQ.scheme=="file"?pD:oD;continue;case nD:if(oQ!="/"||iQ[gQ+1]!="/"){cQ=oD;continue}cQ=cD,gQ++;break;case rD:if(oQ=="/"){cQ=dD;break}cQ=fD;continue;case oD:if(aQ.scheme=AQ.scheme,oQ==jw)aQ.username=AQ.username,aQ.password=AQ.password,aQ.host=AQ.host,aQ.port=AQ.port,aQ.path=eN(AQ.path),aQ.query=AQ.query;else if(oQ=="/"||oQ=="\\"&&aQ.isSpecial())cQ=sD;else if(oQ=="?")aQ.username=AQ.username,aQ.password=AQ.password,aQ.host=AQ.host,aQ.port=AQ.port,aQ.path=eN(AQ.path),aQ.query="",cQ=SD;else{if(oQ!="#"){aQ.username=AQ.username,aQ.password=AQ.password,aQ.host=AQ.host,aQ.port=AQ.port,aQ.path=eN(AQ.path),aQ.path.length--,cQ=fD;continue}aQ.username=AQ.username,aQ.password=AQ.password,aQ.host=AQ.host,aQ.port=AQ.port,aQ.path=eN(AQ.path),aQ.query=AQ.query,aQ.fragment="",cQ=gD}break;case sD:if(!aQ.isSpecial()||oQ!="/"&&oQ!="\\"){if(oQ!="/"){aQ.username=AQ.username,aQ.password=AQ.password,aQ.host=AQ.host,aQ.port=AQ.port,cQ=fD;continue}cQ=dD}else cQ=cD;break;case aD:if(cQ=cD,oQ!="/"||fN(IQ,gQ+1)!="/")continue;gQ++;break;case cD:if(oQ!="/"&&oQ!="\\"){cQ=dD;continue}break;case dD:if(oQ=="@"){EQ&&(IQ="%40"+IQ),EQ=!0,rQ=$O(IQ);for(var lQ=0;lQ<rQ.length;lQ++){var uQ=rQ[lQ];if(uQ!=":"||dQ){var hQ=JN(uQ,zN);dQ?aQ.password+=hQ:aQ.username+=hQ}else dQ=!0}IQ=""}else if(oQ==jw||oQ=="/"||oQ=="?"||oQ=="#"||oQ=="\\"&&aQ.isSpecial()){if(EQ&&IQ=="")return"Invalid authority";gQ-=$O(IQ).length+1,IQ="",cQ=lD}else IQ+=oQ;break;case lD:case uD:if(eQ&&aQ.scheme=="file"){cQ=ED;continue}if(oQ!=":"||CQ){if(oQ==jw||oQ=="/"||oQ=="?"||oQ=="#"||oQ=="\\"&&aQ.isSpecial()){if(aQ.isSpecial()&&IQ=="")return NN;if(eQ&&IQ==""&&(aQ.includesCredentials()||aQ.port!==null))return;if(nQ=aQ.parseHost(IQ))return nQ;if(IQ="",cQ=mD,eQ)return;continue}oQ=="["?CQ=!0:oQ=="]"&&(CQ=!1),IQ+=oQ}else{if(IQ=="")return NN;if(nQ=aQ.parseHost(IQ))return nQ;if(IQ="",cQ=hD,eQ==uD)return}break;case hD:if(!TN(kN,oQ)){if(oQ==jw||oQ=="/"||oQ=="?"||oQ=="#"||oQ=="\\"&&aQ.isSpecial()||eQ){if(IQ!=""){var BQ=_N(IQ,10);if(BQ>65535)return DN;aQ.port=aQ.isSpecial()&&BQ===XN[aQ.scheme]?null:BQ,IQ=""}if(eQ)return;cQ=mD;continue}return DN}IQ+=oQ;break;case pD:if(aQ.scheme="file",oQ=="/"||oQ=="\\")cQ=_D;else{if(!AQ||AQ.scheme!="file"){cQ=fD;continue}if(oQ==jw)aQ.host=AQ.host,aQ.path=eN(AQ.path),aQ.query=AQ.query;else if(oQ=="?")aQ.host=AQ.host,aQ.path=eN(AQ.path),aQ.query="",cQ=SD;else{if(oQ!="#"){ZN(SN(eN(iQ,gQ),""))||(aQ.host=AQ.host,aQ.path=eN(AQ.path),aQ.shortenPath()),cQ=fD;continue}aQ.host=AQ.host,aQ.path=eN(AQ.path),aQ.query=AQ.query,aQ.fragment="",cQ=gD}}break;case _D:if(oQ=="/"||oQ=="\\"){cQ=ED;break}AQ&&AQ.scheme=="file"&&!ZN(SN(eN(iQ,gQ),""))&&(QN(AQ.path[0],!0)?CN(aQ.path,AQ.path[0]):aQ.host=AQ.host),cQ=fD;continue;case ED:if(oQ==jw||oQ=="/"||oQ=="\\"||oQ=="?"||oQ=="#"){if(!eQ&&QN(IQ))cQ=fD;else if(IQ==""){if(aQ.host="",eQ)return;cQ=mD}else{if(nQ=aQ.parseHost(IQ))return nQ;if(aQ.host=="localhost"&&(aQ.host=""),eQ)return;IQ="",cQ=mD}continue}IQ+=oQ;break;case mD:if(aQ.isSpecial()){if(cQ=fD,oQ!="/"&&oQ!="\\")continue}else if(eQ||oQ!="?")if(eQ||oQ!="#"){if(oQ!=jw&&(cQ=fD,oQ!="/"))continue}else aQ.fragment="",cQ=gD;else aQ.query="",cQ=SD;break;case fD:if(oQ==jw||oQ=="/"||oQ=="\\"&&aQ.isSpecial()||!eQ&&(oQ=="?"||oQ=="#")){if((sQ=bN(sQ=IQ))===".."||sQ==="%2e."||sQ===".%2e"||sQ==="%2e%2e"?(aQ.shortenPath(),oQ=="/"||oQ=="\\"&&aQ.isSpecial()||CN(aQ.path,"")):$N(IQ)?oQ=="/"||oQ=="\\"&&aQ.isSpecial()||CN(aQ.path,""):(aQ.scheme=="file"&&!aQ.path.length&&QN(IQ)&&(aQ.host&&(aQ.host=""),IQ=fN(IQ,0)+":"),CN(aQ.path,IQ)),IQ="",aQ.scheme=="file"&&(oQ==jw||oQ=="?"||oQ=="#"))for(;aQ.path.length>1&&aQ.path[0]==="";)vN(aQ.path);oQ=="?"?(aQ.query="",cQ=SD):oQ=="#"&&(aQ.fragment="",cQ=gD)}else IQ+=JN(oQ,qN);break;case TD:oQ=="?"?(aQ.query="",cQ=SD):oQ=="#"?(aQ.fragment="",cQ=gD):oQ!=jw&&(aQ.path[0]+=JN(oQ,KN));break;case SD:eQ||oQ!="#"?oQ!=jw&&(oQ=="'"&&aQ.isSpecial()?aQ.query+="%27":aQ.query+=oQ=="#"?"%23":JN(oQ,KN)):(aQ.fragment="",cQ=gD);break;case gD:oQ!=jw&&(aQ.fragment+=JN(oQ,YN))}gQ++}},parseHost:function(tQ){var eQ,AQ,iQ;if(fN(tQ,0)=="["){if(fN(tQ,tQ.length-1)!="]"||(eQ=function(oQ){var rQ,nQ,sQ,aQ,cQ,gQ,IQ,EQ=[0,0,0,0,0,0,0,0],CQ=0,dQ=null,lQ=0,uQ=function(){return fN(oQ,lQ)};if(uQ()==":"){if(fN(oQ,1)!=":")return;lQ+=2,dQ=++CQ}for(;uQ();){if(CQ==8)return;if(uQ()!=":"){for(rQ=nQ=0;nQ<4&&TN(VN,uQ());)rQ=16*rQ+_N(uQ(),16),lQ++,nQ++;if(uQ()=="."){if(nQ==0||(lQ-=nQ,CQ>6))return;for(sQ=0;uQ();){if(aQ=null,sQ>0){if(!(uQ()=="."&&sQ<4))return;lQ++}if(!TN(kN,uQ()))return;for(;TN(kN,uQ());){if(cQ=_N(uQ(),10),aQ===null)aQ=cQ;else{if(aQ==0)return;aQ=10*aQ+cQ}if(aQ>255)return;lQ++}EQ[CQ]=256*EQ[CQ]+aQ,++sQ!=2&&sQ!=4||CQ++}if(sQ!=4)return;break}if(uQ()==":"){if(lQ++,!uQ())return}else if(uQ())return;EQ[CQ++]=rQ}else{if(dQ!==null)return;lQ++,dQ=++CQ}}if(dQ!==null)for(gQ=CQ-dQ,CQ=7;CQ!=0&&gQ>0;)IQ=EQ[CQ],EQ[CQ--]=EQ[dQ+gQ-1],EQ[dQ+--gQ]=IQ;else if(CQ!=8)return;return EQ}(AN(tQ,1,-1)),!eQ))return NN;this.host=eQ}else if(this.isSpecial()){if(tQ=iN(tQ),TN(FN,tQ)||(eQ=function(oQ){var rQ,nQ,sQ,aQ,cQ,gQ,IQ,EQ=yN(oQ,".");if(EQ.length&&EQ[EQ.length-1]==""&&EQ.length--,(rQ=EQ.length)>4)return oQ;for(nQ=[],sQ=0;sQ<rQ;sQ++){if((aQ=EQ[sQ])=="")return oQ;if(cQ=10,aQ.length>1&&fN(aQ,0)=="0"&&(cQ=TN(MN,aQ)?16:8,aQ=AN(aQ,cQ==8?1:2)),aQ==="")gQ=0;else{if(!TN(cQ==10?xN:cQ==8?UN:VN,aQ))return oQ;gQ=_N(aQ,cQ)}CN(nQ,gQ)}for(sQ=0;sQ<rQ;sQ++)if(gQ=nQ[sQ],sQ==rQ-1){if(gQ>=mN(256,5-rQ))return null}else if(gQ>255)return null;for(IQ=RN(nQ),sQ=0;sQ<nQ.length;sQ++)IQ+=nQ[sQ]*mN(256,3-sQ);return IQ}(tQ),eQ===null))return NN;this.host=eQ}else{if(TN(BN,tQ))return NN;for(eQ="",AQ=$O(tQ),iQ=0;iQ<AQ.length;iQ++)eQ+=JN(AQ[iQ],KN);this.host=eQ}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme=="file"},includesCredentials:function(){return this.username!=""||this.password!=""},isSpecial:function(){return QO(XN,this.scheme)},shortenPath:function(){var tQ=this.path,eQ=tQ.length;!eQ||this.scheme=="file"&&eQ==1&&QN(tQ[0],!0)||tQ.length--},serialize:function(){var tQ=this,eQ=tQ.scheme,AQ=tQ.username,iQ=tQ.password,oQ=tQ.host,rQ=tQ.port,nQ=tQ.path,sQ=tQ.query,aQ=tQ.fragment,cQ=eQ+":";return oQ!==null?(cQ+="//",tQ.includesCredentials()&&(cQ+=AQ+(iQ?":"+iQ:"")+"@"),cQ+=HN(oQ),rQ!==null&&(cQ+=":"+rQ)):eQ=="file"&&(cQ+="//"),cQ+=tQ.cannotBeABaseURL?nQ[0]:nQ.length?"/"+SN(nQ,"/"):"",sQ!==null&&(cQ+="?"+sQ),aQ!==null&&(cQ+="#"+aQ),cQ},setHref:function(tQ){var eQ=this.parse(tQ);if(eQ)throw pN(eQ);this.searchParams.update()},getOrigin:function(){var tQ=this.scheme,eQ=this.port;if(tQ=="blob")try{return new CD(tQ.path[0]).origin}catch{return"null"}return tQ!="file"&&this.isSpecial()?tQ+"://"+HN(this.host)+(eQ!==null?":"+eQ:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(tQ){this.parse(nN(tQ)+":",eD)},getUsername:function(){return this.username},setUsername:function(tQ){var eQ=$O(nN(tQ));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var AQ=0;AQ<eQ.length;AQ++)this.username+=JN(eQ[AQ],zN)}},getPassword:function(){return this.password},setPassword:function(tQ){var eQ=$O(nN(tQ));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var AQ=0;AQ<eQ.length;AQ++)this.password+=JN(eQ[AQ],zN)}},getHost:function(){var tQ=this.host,eQ=this.port;return tQ===null?"":eQ===null?HN(tQ):HN(tQ)+":"+eQ},setHost:function(tQ){this.cannotBeABaseURL||this.parse(tQ,lD)},getHostname:function(){var tQ=this.host;return tQ===null?"":HN(tQ)},setHostname:function(tQ){this.cannotBeABaseURL||this.parse(tQ,uD)},getPort:function(){var tQ=this.port;return tQ===null?"":nN(tQ)},setPort:function(tQ){this.cannotHaveUsernamePasswordPort()||((tQ=nN(tQ))==""?this.port=null:this.parse(tQ,hD))},getPathname:function(){var tQ=this.path;return this.cannotBeABaseURL?tQ[0]:tQ.length?"/"+SN(tQ,"/"):""},setPathname:function(tQ){this.cannotBeABaseURL||(this.path=[],this.parse(tQ,mD))},getSearch:function(){var tQ=this.query;return tQ?"?"+tQ:""},setSearch:function(tQ){(tQ=nN(tQ))==""?this.query=null:(fN(tQ,0)=="?"&&(tQ=AN(tQ,1)),this.query="",this.parse(tQ,SD)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var tQ=this.fragment;return tQ?"#"+tQ:""},setHash:function(tQ){(tQ=nN(tQ))!=""?(fN(tQ,0)=="#"&&(tQ=AN(tQ,1)),this.fragment="",this.parse(tQ,gD)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var CD=function(tQ){var eQ=XO(this,ID),AQ=oN(arguments.length,1)>1?arguments[1]:void 0,iQ=cN(eQ,new RD(tQ,!1,AQ));WO||(eQ.href=iQ.serialize(),eQ.origin=iQ.getOrigin(),eQ.protocol=iQ.getProtocol(),eQ.username=iQ.getUsername(),eQ.password=iQ.getPassword(),eQ.host=iQ.getHost(),eQ.hostname=iQ.getHostname(),eQ.port=iQ.getPort(),eQ.pathname=iQ.getPathname(),eQ.search=iQ.getSearch(),eQ.searchParams=iQ.getSearchParams(),eQ.hash=iQ.getHash())},ID=CD.prototype,vD=function(tQ,eQ){return{get:function(){return dN(this)[tQ]()},set:eQ&&function(AQ){return dN(this)[eQ](AQ)},configurable:!0,enumerable:!0}};if(WO&&(JO(ID,"href",vD("serialize","setHref")),JO(ID,"origin",vD("getOrigin")),JO(ID,"protocol",vD("getProtocol","setProtocol")),JO(ID,"username",vD("getUsername","setUsername")),JO(ID,"password",vD("getPassword","setPassword")),JO(ID,"host",vD("getHost","setHost")),JO(ID,"hostname",vD("getHostname","setHostname")),JO(ID,"port",vD("getPort","setPort")),JO(ID,"pathname",vD("getPathname","setPathname")),JO(ID,"search",vD("getSearch","setSearch")),JO(ID,"searchParams",vD("getSearchParams")),JO(ID,"hash",vD("getHash","setHash"))),zO(ID,"toJSON",function(){return dN(this).serialize()},{enumerable:!0}),zO(ID,"toString",function(){return dN(this).serialize()},{enumerable:!0}),hN){var yD=hN.createObjectURL,AD=hN.revokeObjectURL;yD&&zO(CD,"createObjectURL",YO(yD,hN)),AD&&zO(CD,"revokeObjectURL",YO(AD,hN))}rN(CD,"URL"),GO({global:!0,constructor:!0,forced:!HO,sham:!WO},{URL:CD});var bD=wi,wD=n,OD=Zc,ND=mn,DD=cg,PD=ae("URL");bD({target:"URL",stat:!0,forced:!(DD&&wD(function(){PD.canParse()}))},{canParse:function(tQ){var eQ=OD(arguments.length,1),AQ=ND(tQ),iQ=eQ<2||arguments[1]===void 0?void 0:ND(arguments[1]);try{return!!new PD(AQ,iQ)}catch{return!1}}});var LD=i(ie.URL);const kD={getDisplayMedia:!1,getStreamFromExtension:!1,supportUnifiedPlan:!1,supportMinBitrate:!1,supportSetRtpSenderParameters:!1,supportDualStream:!0,webAudioMediaStreamDest:!1,supportReplaceTrack:!1,supportWebGL:!1,webAudioWithAEC:!1,supportRequestFrame:!1,supportShareAudio:!1,supportDualStreamEncoding:!1,supportDataChannel:!1,supportPCSetConfiguration:!1,supportWebRTCEncodedTransform:!1,supportWebRTCInsertableStream:!1,supportRequestVideoFrameCallback:!1,supportWebCrypto:!1};function MD(){return kD}function UD(){return"setSinkId"in HTMLAudioElement.prototype&&(!Dy("RESTRICTION_SET_PLAYBACK_DEVICE")||(DI()||LI())&&!XI())}function xD(){return!kD.supportUnifiedPlan||Dy("CHROME_FORCE_PLAN_B")&&QI()}let VD=function(tQ){return tQ.IOS_15_16_INTERRUPTION_START="ios15_16-interruption-start",tQ.IOS_15_16_INTERRUPTION_END="ios15_16-interruption-end",tQ.IOS_INTERRUPTION_START="ios-interruption-start",tQ.IOS_INTERRUPTION_END="ios-interruption-end",tQ.STATE_CHANGE="state-change",tQ}({});function FD(tQ,eQ,AQ){return{sampleRate:tQ,stereo:eQ,bitrate:AQ}}function BD(tQ,eQ,AQ,iQ,oQ){return{width:tQ,height:eQ,frameRate:AQ,bitrateMin:iQ,bitrateMax:oQ}}function jD(tQ,eQ,AQ,iQ,oQ){return{width:{max:tQ},height:{max:eQ},frameRate:AQ,bitrateMin:iQ,bitrateMax:oQ}}function GD(tQ,eQ){return{numSpatialLayers:tQ,numTemporalLayers:eQ}}const WD={"90p":BD(160,90),"90p_1":BD(160,90),"120p":BD(160,120,15,30,65),"120p_1":BD(160,120,15,30,65),"120p_3":BD(120,120,15,30,50),"120p_4":BD(212,120),"180p":BD(320,180,15,30,140),"180p_1":BD(320,180,15,30,140),"180p_3":BD(180,180,15,30,100),"180p_4":BD(240,180,15,30,120),"240p":BD(320,240,15,40,200),"240p_1":BD(320,240,15,40,200),"240p_3":BD(240,240,15,40,140),"240p_4":BD(424,240,15,40,220),"360p":BD(640,360,15,80,400),"360p_1":BD(640,360,15,80,400),"360p_3":BD(360,360,15,80,260),"360p_4":BD(640,360,30,80,600),"360p_6":BD(360,360,30,80,400),"360p_7":BD(480,360,15,80,320),"360p_8":BD(480,360,30,80,490),"360p_9":BD(640,360,15,80,800),"360p_10":BD(640,360,24,80,800),"360p_11":BD(640,360,24,80,1e3),"480p":BD(640,480,15,100,500),"480p_1":BD(640,480,15,100,500),"480p_2":BD(640,480,30,100,1e3),"480p_3":BD(480,480,15,100,400),"480p_4":BD(640,480,30,100,750),"480p_6":BD(480,480,30,100,600),"480p_8":BD(848,480,15,100,610),"480p_9":BD(848,480,30,100,930),"480p_10":BD(640,480,10,100,400),"720p":BD(1280,720,15,120,1130),"720p_auto":BD(1280,720,30,900,3e3),"720p_1":BD(1280,720,15,120,1130),"720p_2":BD(1280,720,30,120,2e3),"720p_3":BD(1280,720,30,120,1710),"720p_5":BD(960,720,15,120,910),"720p_6":BD(960,720,30,120,1380),"1080p":BD(1920,1080,15,120,2080),"1080p_1":BD(1920,1080,15,120,2080),"1080p_2":BD(1920,1080,30,120,3e3),"1080p_3":BD(1920,1080,30,120,3150),"1080p_5":BD(1920,1080,60,120,4780),"1440p":BD(2560,1440,30,120,4850),"1440p_1":BD(2560,1440,30,120,4850),"1440p_2":BD(2560,1440,60,120,7350),"4k":BD(3840,2160,30,120,8910),"4k_1":BD(3840,2160,30,120,8910),"4k_3":BD(3840,2160,60,120,13500)},HD={"480p":jD(640,480,5),"480p_1":jD(640,480,5),"480p_2":jD(640,480,30),"480p_3":jD(640,480,15),"720p":jD(1280,720,5),"720p_auto":BD(1280,720,30,900,3e3),"720p_1":jD(1280,720,5),"720p_2":jD(1280,720,30),"720p_3":jD(1280,720,15),"1080p":jD(1920,1080,5),"1080p_1":jD(1920,1080,5),"1080p_2":jD(1920,1080,30),"1080p_3":jD(1920,1080,15)},KD={"1SL1TL":GD(1,1),"3SL3TL":GD(3,3),"2SL3TL":GD(2,3)};function YD(tQ){return tQ||(tQ="480p_1"),typeof tQ=="string"?Object.assign({},WD[tQ]):tQ}function qD(tQ){return typeof tQ=="string"?Object.assign({},HD[tQ]):tQ}function zD(tQ){return typeof tQ=="string"?Object.assign({},KD[tQ]):tQ}const JD={speech_low_quality:FD(16e3,!1),speech_standard:FD(32e3,!1,18),music_standard:FD(48e3,!1),standard_stereo:FD(48e3,!0,56),high_quality:FD(48e3,!1,128),high_quality_stereo:FD(48e3,!0,192)};function XD(tQ){return typeof tQ=="string"?Object.assign({},JD[tQ]):tQ}const QD=[];function ZD(tQ){return sv(tQ,"mediaSource",["screen","window","application"]),!0}let $D=function(tQ){return tQ.NEED_RENEGOTIATE="@need_renegotiate",tQ.NEED_REPLACE_TRACK="@need_replace_track",tQ.NEED_REPLACE_MIXING_TRACK="@need_replace_mixing_track",tQ.NEED_CLOSE="@need_close",tQ.NEED_ENABLE_TRACK="@need_enable_track",tQ.NEED_DISABLE_TRACK="@need_disable_track",tQ.NEED_SESSION_ID="@need_sid",tQ.SET_OPTIMIZATION_MODE="@set_optimization_mode",tQ.GET_STATS="@get_stats",tQ.GET_RTC_STATS="@get_rtc_stats",tQ.GET_LOW_VIDEO_TRACK="@get_low_video_track",tQ.NEED_RESET_REMOTE_SDP="@need_reset_remote_sdp",tQ.NEED_UPDATE_VIDEO_ENCODER="@need_update_video_encoder",tQ.NEED_UPDATE_VIDEO_SEND_PARAMETERS="@need_update_video_send_parameters",tQ.NEED_MUTE_TRACK="@need_mute_track",tQ.NEED_UNMUTE_TRACK="@need_unmute_track",tQ}({}),eP=function(tQ){return tQ.SCREEN_TRACK="screen_track",tQ.CUSTOM_TRACK="custome_track",tQ.LOW_STREAM="low_stream",tQ}({}),tP=function(tQ){return tQ[tQ.HIGH_STREAM=0]="HIGH_STREAM",tQ[tQ.LOW_STREAM=1]="LOW_STREAM",tQ}({}),iP=function(tQ){return tQ[tQ.HIGH_STREAM=0]="HIGH_STREAM",tQ[tQ.LOW_STREAM=1]="LOW_STREAM",tQ}({}),nP=function(tQ){return tQ[tQ.DISABLE=0]="DISABLE",tQ[tQ.LOW_STREAM=1]="LOW_STREAM",tQ[tQ.AUDIO_ONLY=2]="AUDIO_ONLY",tQ}({}),rP=function(tQ){return tQ.TRANSCEIVER_UPDATED="transceiver-updated",tQ.SEI_TO_SEND="sei-to-send",tQ.SEI_RECEIVED="sei-received",tQ.TRACK_UPDATED="track-updated",tQ}({}),oP=function(tQ){return tQ.SOURCE_STATE_CHANGE="source-state-change",tQ.TRACK_ENDED="track-ended",tQ.BEAUTY_EFFECT_OVERLOAD="beauty-effect-overload",tQ.VIDEO_ELEMENT_VISIBLE_STATUS="video-element-visible-status",tQ.CLOSED="closed",tQ}({}),sP=function(tQ){return tQ.FIRST_FRAME_DECODED="first-frame-decoded",tQ.VIDEO_ELEMENT_VISIBLE_STATUS="video-element-visible-status",tQ.VIDEO_STATE_CHANGED="video-state-changed",tQ}({}),aP=function(tQ){return tQ.AUDIO="audio",tQ.VIDEO="video",tQ.DATA="data",tQ}({}),cP=function(tQ){return tQ.AUDIO_SOURCE_STATE_CHANGE="audio_source_state_change",tQ.RECEIVE_TRACK_BUFFER="receive_track_buffer",tQ.ON_AUDIO_BUFFER="on_audio_buffer",tQ.UPDATE_SOURCE="update_source",tQ}({});(function(tQ){tQ.UPDATE_TRACK_SOURCE="update-track-source"})({});const dP={sendVolumeLevel:0,sendBitrate:0,sendBytes:0,sendPackets:0,sendPacketsLost:0,sendJitterMs:0,sendRttMs:0,currentPacketLossRate:0},lP={sendBytes:0,sendBitrate:0,sendPackets:0,sendPacketsLost:0,sendJitterMs:0,sendRttMs:0,sendResolutionHeight:0,sendResolutionWidth:0,captureResolutionHeight:0,captureResolutionWidth:0,targetSendBitrate:0,totalDuration:0,totalFreezeTime:0,currentPacketLossRate:0},uP={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveLevel:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,receivePacketsDiscarded:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1},hP={uplinkNetworkQuality:0,downlinkNetworkQuality:0},pP={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,receiveResolutionHeight:0,receiveResolutionWidth:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1};let _P=function(tQ){return tQ.ON_TRACK="on_track",tQ.ON_NODE="on_node",tQ}({}),EP=function(tQ){return tQ.REQUEST_UPDATE_CONSTRAINTS="request_update_constraints",tQ.REQUEST_CONSTRAINTS="request_constraints",tQ}({}),mP=function(tQ){return tQ.IDLE="IDLE",tQ.INITING="INITING",tQ.INITEND="INITEND",tQ}({}),fP=function(tQ){return tQ.STATE_CHANGE="state_change",tQ.RECORDING_DEVICE_CHANGED="recordingDeviceChanged",tQ.PLAYOUT_DEVICE_CHANGED="playoutDeviceChanged",tQ.CAMERA_DEVICE_CHANGED="cameraDeviceChanged",tQ}({}),TP=function(tQ){return tQ.NONE="none",tQ.INIT="init",tQ.CANPLAY="canplay",tQ.PLAYING="playing",tQ.PAUSED="paused",tQ.SUSPEND="suspend",tQ.STALLED="stalled",tQ.WAITING="waiting",tQ.ERROR="error",tQ.DESTROYED="destroyed",tQ.ABORT="abort",tQ.ENDED="ended",tQ.EMPTIED="emptied",tQ.LOADEDDATA="loadeddata",tQ}({}),SP=function(tQ){return tQ[tQ.VideoStateStopped=0]="VideoStateStopped",tQ[tQ.VideoStateStarting=1]="VideoStateStarting",tQ[tQ.VideoStateDecoding=2]="VideoStateDecoding",tQ[tQ.VideoStateFrozen=3]="VideoStateFrozen",tQ}({});const gP={uninit:100,none:110,init:120,loadeddata:130,canplay:200,playing:210,paused:220,suspend:300,stalled:310,waiting:320,error:330,destroyed:340,abort:350,ended:360,emptied:370};let RP=function(tQ){return tQ.OPEN="open",tQ.MESSAGE="message",tQ.CLOSE="close",tQ.CLOSING="closing",tQ.ERROR="error",tQ}({});function CP(tQ,eQ,AQ,iQ,oQ){var rQ,nQ,sQ={};return Object.keys(iQ).forEach(function(aQ){sQ[aQ]=iQ[aQ]}),sQ.enumerable=!!sQ.enumerable,sQ.configurable=!!sQ.configurable,("value"in sQ||sQ.initializer)&&(sQ.writable=!0),sQ=Jn(rQ=Gw(nQ=AQ.slice()).call(nQ)).call(rQ,function(aQ,cQ){return cQ(tQ,eQ,aQ)||aQ},sQ),oQ&&sQ.initializer!==void 0&&(sQ.value=sQ.initializer?sQ.initializer.call(oQ):void 0,sQ.initializer=void 0),sQ.initializer===void 0&&(Object.defineProperty(tQ,eQ,sQ),sQ=null),sQ}function IP(tQ,eQ,AQ){return(eQ=function(iQ){var oQ=function(rQ,nQ){if(typeof rQ!="object"||!rQ)return rQ;var sQ=rQ[Symbol.toPrimitive];if(sQ!==void 0){var aQ=sQ.call(rQ,"string");if(typeof aQ!="object")return aQ;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(rQ)}(iQ);return typeof oQ=="symbol"?oQ:oQ+""}(eQ))in tQ?Object.defineProperty(tQ,eQ,{value:AQ,enumerable:!0,configurable:!0,writable:!0}):tQ[eQ]=AQ,tQ}function vP(tQ,eQ){var AQ=Object.keys(tQ);if(Object.getOwnPropertySymbols){var iQ=Object.getOwnPropertySymbols(tQ);eQ&&(iQ=iQ.filter(function(oQ){return Object.getOwnPropertyDescriptor(tQ,oQ).enumerable})),AQ.push.apply(AQ,iQ)}return AQ}function yP(tQ){for(var eQ=1;eQ<arguments.length;eQ++){var AQ=arguments[eQ]!=null?arguments[eQ]:{};eQ%2?vP(Object(AQ),!0).forEach(function(iQ){IP(tQ,iQ,AQ[iQ])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tQ,Object.getOwnPropertyDescriptors(AQ)):vP(Object(AQ)).forEach(function(iQ){Object.defineProperty(tQ,iQ,Object.getOwnPropertyDescriptor(AQ,iQ))})}return tQ}class AP extends Sv{set _mediaStreamTrack(eQ){eQ!==this.mediaStreamTrack&&(this.safeEmit(rP.TRACK_UPDATED,eQ),this.mediaStreamTrack=eQ)}get _mediaStreamTrack(){return this.mediaStreamTrack}constructor(eQ,AQ){super(),IP(this,"trackMediaType",void 0),IP(this,"_ID",void 0),IP(this,"_rtpTransceiver",void 0),IP(this,"_lowRtpTransceiver",void 0),IP(this,"_hints",[]),IP(this,"_isClosed",!1),IP(this,"_originMediaStreamTrack",void 0),IP(this,"mediaStreamTrack",void 0),IP(this,"_external",{}),this._ID=AQ||ey(8,"track-"),this._originMediaStreamTrack=eQ,this.mediaStreamTrack=eQ,function(iQ){Dn(QD).call(QD,iQ)||QD.push(iQ)}(this)}toString(){return this._ID}getTrackId(){return this._ID}getMediaStreamTrack(eQ){return eQ||Kv(()=>{var AQ;sA.reportApiInvoke(null,{name:Cv.GET_MEDIA_STREAM_TRACK,options:[],tag:Iv.TRACER}).onSuccess(((AQ=this._mediaStreamTrack)===null||AQ===void 0?void 0:AQ.label)||"")},this.mediaStreamTrack.id||this.getTrackId()),this._mediaStreamTrack}getRTCRtpTransceiver(eQ){return eQ===tP.LOW_STREAM?this._lowRtpTransceiver:this._rtpTransceiver}getMediaStreamTrackSettings(){return this.getMediaStreamTrack(!0).getSettings()}close(){this._isClosed=!0,this._lowRtpTransceiver=void 0,this._rtpTransceiver=void 0,function(eQ){const AQ=QD.indexOf(eQ);AQ!==-1&&QD.splice(AQ,1)}(this),this.emit(oP.CLOSED),this.removeAllListeners(rP.SEI_RECEIVED)}_updateRtpTransceiver(eQ,AQ){if(AQ===tP.LOW_STREAM){if(this._lowRtpTransceiver===eQ)return;this._lowRtpTransceiver=eQ}else{if(this._rtpTransceiver===eQ)return;this._rtpTransceiver=eQ}this.emit(rP.TRANSCEIVER_UPDATED,eQ,AQ)}}class bP extends AP{get isExternalTrack(){return this._isExternalTrack}get muted(){return this._muted}get enabled(){return this._enabled}get processorContext(){return this._processorContext}constructor(eQ,AQ){super(eQ,AQ),IP(this,"_enabled",!0),IP(this,"_muted",!1),IP(this,"_isExternalTrack",!1),IP(this,"_isClosed",!1),IP(this,"_enabledMutex",void 0),IP(this,"processor",void 0),IP(this,"_processorContext",void 0),IP(this,"_handleTrackEnded",()=>{this.onTrackEnded()}),this._enabledMutex=new hy("".concat(this.getTrackId())),eQ.addEventListener("ended",this._handleTrackEnded)}getTrackLabel(){var eQ,AQ;return(eQ=(AQ=this._originMediaStreamTrack)===null||AQ===void 0?void 0:AQ.label)!==null&&eQ!==void 0?eQ:""}close(){this._isClosed||(this.stop(),this._originMediaStreamTrack.stop(),this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack.stop(),this._mediaStreamTrack=null),this._originMediaStreamTrack=null,this._enabledMutex=null,Qy.debug("[".concat(this.getTrackId(),"] close")),this.emit($D.NEED_CLOSE),super.close())}async _updateOriginMediaStreamTrack(eQ,AQ){let iQ=arguments.length>2&&arguments[2]!==void 0&&arguments[2];this._isExternalTrack=iQ,eQ!==this._originMediaStreamTrack&&(this._originMediaStreamTrack&&(this._originMediaStreamTrack.removeEventListener("ended",this._handleTrackEnded),AQ&&this._originMediaStreamTrack.stop()),eQ.addEventListener("ended",this._handleTrackEnded),this._originMediaStreamTrack=eQ,this._muted&&(this._originMediaStreamTrack.enabled=!1),this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await Mv(this,$D.NEED_REPLACE_TRACK,this),this.processor&&this._processorContext&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this._processorContext}))}_getDefaultPlayerConfig(){return{}}onTrackEnded(){Qy.debug("[".concat(this.getTrackId(),"] track ended")),this.safeEmit(oP.TRACK_ENDED)}stateCheck(eQ,AQ){if(Qy.debug("check track state, [muted: ".concat(this._muted,", enabled: ").concat(this._enabled,"] to [").concat(eQ,": ").concat(AQ,"]")),ov(AQ,eQ),this._enabled&&this._muted&&eQ==="enabled"&&AQ===!1)throw new rv(nv.TRACK_STATE_UNREACHABLE,"cannot set enabled while the track is muted").print("error",Qy);if(!this._enabled&&!this._muted&&eQ==="muted"&&AQ===!0)throw new rv(nv.TRACK_STATE_UNREACHABLE,"cannot set muted while the track is disabled").print("error",Qy)}getProcessorStats(){return this._processorContext&&this._processorContext.gatherStats()||[]}getProcessorUsage(){return this._processorContext?this._processorContext.gatherUsage():Gh.resolve([])}}const wP=window.AudioContext||window.webkitAudioContext;let OP=null;const NP=new class extends Sv{constructor(){super(...arguments),IP(this,"prevState",void 0),IP(this,"curState",void 0),IP(this,"currentTime",void 0),IP(this,"currentTimeStuckAt",void 0),IP(this,"interruptDetectorTrack",void 0),IP(this,"onLocalAudioTrackMute",()=>{Qy.info("ios15-interruption-start"),this.emit(VD.IOS_15_16_INTERRUPTION_START)}),IP(this,"onLocalAudioTrackUnmute",async()=>{Qy.info("ios15-interruption-end"),this.curState!=="running"||this.duringInterruption?Qy.info("ios15-interruption-end-canceled"):(OP&&await OP.suspend(),this.emit(VD.IOS_15_16_INTERRUPTION_END))})}get duringInterruption(){return this.prevState==="running"&&this.curState==="interrupted"}bindInterruptDetectorTrack(tQ){Qy.debug("webaudio bindInterruptDetectorTrack ".concat(tQ.getTrackId())),this.interruptDetectorTrack||(this.interruptDetectorTrack=tQ,this.interruptDetectorTrack._mediaStreamTrack.onmute=this.onLocalAudioTrackMute,this.interruptDetectorTrack._mediaStreamTrack.onunmute=this.onLocalAudioTrackUnmute)}unbindInterruptDetectorTrack(tQ){Qy.debug("webaudio unbindInterruptDetectorTrack ".concat(tQ.getTrackId())),this.interruptDetectorTrack&&this.interruptDetectorTrack===tQ&&(this.interruptDetectorTrack._mediaStreamTrack&&(this.interruptDetectorTrack._mediaStreamTrack.onmute=null,this.interruptDetectorTrack._mediaStreamTrack.onunmute=null),this.interruptDetectorTrack=void 0)}};function DP(){if(!OP){if(function(){if(!wP)return void Qy.error("your browser is not support web audio");Qy.info("create audio context");const tQ=yP({},Dy("WEBAUDIO_INIT_OPTIONS"));Qy.debug("audio context init option:",JSON.stringify(tQ)),OP=new wP(tQ),NP.curState=OP.state,OP.onstatechange=()=>{NP.prevState=NP.curState,NP.curState=OP?OP.state:void 0;const{prevState:eQ,curState:AQ}=NP,iQ=AQ==="running",oQ=AQ==="interrupted",rQ=eQ==="running",nQ=eQ==="suspended",sQ=eQ==="interrupted",aQ=AI().osVersion;(MI()||qI())&&rQ&&oQ&&(Qy.info("ios".concat(aQ,"-interruption-start")),NP.emit(VD.IOS_INTERRUPTION_START)),(MI()||qI())&&(nQ||sQ)&&iQ&&(Qy.info("ios".concat(aQ,"-interruption-end")),NP.emit(VD.IOS_INTERRUPTION_END)),eQ!==AQ&&NP.emit(VD.STATE_CHANGE,AQ,eQ)},setInterval(()=>{var eQ;const AQ=(eQ=OP)===null||eQ===void 0?void 0:eQ.currentTime;NP.currentTime!==AQ?(NP.currentTimeStuckAt&&(Qy.debug("AudioContext current time resume at ".concat(AQ)),NP.currentTimeStuckAt=void 0),NP.currentTime=AQ):(AQ!==NP.currentTimeStuckAt&&(sA.reportApiInvoke(null,{name:"WEB_AUDIO_CURRENT_TIME_STUCK",options:{currentTime:AQ},tag:Iv.TRACER}).onSuccess(),Qy.warning("AudioContext current time stuck at ".concat(AQ))),NP.currentTimeStuckAt=AQ)},5e3),async function(eQ){const AQ=["click","contextmenu","auxclick","dblclick","mousedown","mouseup","touchend","keydown","keyup"];let iQ,oQ=!1,rQ=!1,nQ=!1;function sQ(lQ){eQ.state==="running"?aQ(!1):MI()||qI()?eQ.state==="suspended"&&(aQ(!0),lQ&&eQ.resume().then(cQ,cQ)):eQ.state!=="closed"&&(aQ(!0),lQ&&eQ.resume().then(cQ,cQ))}function aQ(lQ){if(oQ!==lQ){oQ=lQ;for(let uQ=0,hQ=AQ;uQ<hQ.length;uQ+=1){const BQ=hQ[uQ];lQ?window.addEventListener(BQ,gQ,{capture:!0,passive:!0}):window.removeEventListener(BQ,gQ,{capture:!0,passive:!0})}}}function cQ(){sQ(!1)}function gQ(){sQ(!0)}function IQ(lQ){if(!nQ)if(iQ.paused)if(lQ){let uQ;EQ(!1),nQ=!0;try{uQ=iQ.play(),uQ?uQ.then(CQ,CQ):(iQ.addEventListener("playing",CQ),iQ.addEventListener("abort",CQ),iQ.addEventListener("error",CQ))}catch{CQ()}}else EQ(!0);else EQ(!1)}function EQ(lQ){if(rQ!==lQ){rQ=lQ;for(let uQ=0,hQ=AQ;uQ<hQ.length;uQ++){const BQ=hQ[uQ];lQ?window.addEventListener(BQ,dQ,{capture:!0,passive:!0}):window.removeEventListener(BQ,dQ,{capture:!0,passive:!0})}}}function CQ(){iQ.removeEventListener("playing",CQ),iQ.removeEventListener("abort",CQ),iQ.removeEventListener("error",CQ),nQ=!1,IQ(!1)}function dQ(){IQ(!0)}if(MI()){const lQ=eQ.createMediaStreamDestination(),uQ=document.createElement("div");uQ.innerHTML="<audio x-webkit-airplay='deny'></audio>",iQ=uQ.children.item(0),iQ.controls=!1,iQ.disableRemotePlayback=!0,iQ.preload="auto",iQ.srcObject=lQ.stream,IQ(!0)}NP.on(VD.STATE_CHANGE,function(){sQ(!0)}),sQ(!1)}(OP)}(),!OP)throw new rv(nv.NOT_SUPPORTED,"can not create audio context");return OP}return OP}function PP(tQ){if(function(){if(LP!==null)return LP;const iQ=DP(),oQ=iQ.createBufferSource(),rQ=iQ.createGain(),nQ=iQ.createGain();oQ.connect(rQ),oQ.connect(nQ),oQ.disconnect(rQ);let sQ=!1;try{oQ.disconnect(rQ)}catch{sQ=!0}return oQ.disconnect(),LP=sQ,sQ}())return;const eQ=tQ.connect,AQ=tQ.disconnect;tQ.connect=(iQ,oQ,rQ)=>{var nQ;return tQ._inputNodes||(tQ._inputNodes=[]),Dn(nQ=tQ._inputNodes).call(nQ,iQ)||(iQ instanceof AudioNode?(tQ._inputNodes.push(iQ),eQ.call(tQ,iQ,oQ,rQ)):eQ.call(tQ,iQ,oQ)),tQ},tQ.disconnect=(iQ,oQ,rQ)=>{AQ.call(tQ),iQ?Fv(tQ._inputNodes,iQ):tQ._inputNodes=[];for(const nQ of tQ._inputNodes)eQ.call(tQ,nQ)}}let LP=null;function kP(tQ,eQ){let AQ=!1;const iQ=1/eQ;if(Dy("DISABLE_WEBAUDIO")){const oQ=window.setInterval(()=>{AQ?window.clearInterval(oQ):tQ(performance.now()/1e3)},1e3*iQ)}else{const oQ=DP();let rQ=oQ.createGain();rQ.gain.value=0,rQ.connect(oQ.destination);const nQ=()=>{if(AQ)return void(rQ=null);const sQ=oQ.createOscillator();sQ.onended=nQ,sQ.connect(rQ),sQ.start(0),sQ.stop(oQ.currentTime+iQ),tQ(oQ.currentTime)};nQ()}return()=>{AQ=!0}}class MP{constructor(){IP(this,"context",void 0),IP(this,"analyserNode",void 0),IP(this,"sourceNode",void 0),this.context=DP(),this.analyserNode=this.context.createAnalyser(),this.analyserNode.fftSize=2048,this.analyserNode.smoothingTimeConstant=.4}updateSource(eQ){if(eQ!==this.sourceNode){if(this.sourceNode)try{this.sourceNode.disconnect(this.analyserNode)}catch{}this.sourceNode=eQ,eQ==null||eQ.connect(this.analyserNode)}}getVolumeLevel(){if(!this.sourceNode||(!this.context||MI()||qI()||this.context.state!=="running"&&this.context.resume(),!this.analyserNode))return 0;const eQ=new Float32Array(this.analyserNode.fftSize);if(this.analyserNode.getFloatTimeDomainData)this.analyserNode.getFloatTimeDomainData(eQ);else{const iQ=new Uint8Array(this.analyserNode.fftSize);this.analyserNode.getByteTimeDomainData(iQ);for(let oQ=0;oQ<eQ.length;++oQ)eQ[oQ]=iQ[oQ]/128-1}const AQ=Jn(eQ).call(eQ,(iQ,oQ)=>iQ+oQ*oQ,0)/eQ.length;return Math.max(10*Math.log10(AQ)+100,0)/100}getAnalyserNode(){return this.analyserNode}rebuildAnalyser(){try{var eQ,AQ;(eQ=this.sourceNode)===null||eQ===void 0||eQ.disconnect(this.analyserNode),this.analyserNode=this.context.createAnalyser(),this.analyserNode.fftSize=2048,this.analyserNode.smoothingTimeConstant=.4,(AQ=this.sourceNode)===null||AQ===void 0||AQ.connect(this.analyserNode)}catch{Qy.warning("rebuild analyser node failed.")}}destroy(){this.updateSource(void 0)}}class UP extends Sv{get processSourceNode(){return this.sourceNode}set processedNode(eQ){var AQ;if(!this.isDestroyed&&this._processedNode!==eQ){try{var iQ;(iQ=this.sourceNode)===null||iQ===void 0||iQ.disconnect(this.outputNode)}catch{}(AQ=this._processedNode)===null||AQ===void 0||AQ.disconnect(),this._processedNode=eQ,this.connect()}}get processedNode(){return this._processedNode}constructor(){super(),IP(this,"outputNode",void 0),IP(this,"outputTrack",void 0),IP(this,"isPlayed",!1),IP(this,"sourceNode",void 0),IP(this,"context",void 0),IP(this,"audioBufferNode",void 0),IP(this,"destNode",void 0),IP(this,"audioOutputLevel",0),IP(this,"volumeLevelAnalyser",void 0),IP(this,"_processedNode",void 0),IP(this,"playNode",void 0),IP(this,"isDestroyed",!1),IP(this,"onNoAudioInput",void 0),IP(this,"isNoAudioInput",!1),IP(this,"_noAudioInputCount",0),this.context=DP(),this.playNode=this.context.destination,this.outputNode=this.context.createGain(),PP(this.outputNode),this.volumeLevelAnalyser=new MP}startGetAudioBuffer(eQ){this.audioBufferNode||(this.audioBufferNode=this.context.createScriptProcessor(eQ),this.outputNode.connect(this.audioBufferNode),this.audioBufferNode.connect(this.context.destination),this.audioBufferNode.onaudioprocess=AQ=>{this.emit(cP.ON_AUDIO_BUFFER,function(iQ){for(let oQ=0;oQ<iQ.outputBuffer.numberOfChannels;oQ+=1){const rQ=iQ.outputBuffer.getChannelData(oQ);for(let nQ=0;nQ<rQ.length;nQ+=1)rQ[nQ]=0}return iQ.inputBuffer}(AQ))})}stopGetAudioBuffer(){this.audioBufferNode&&(this.audioBufferNode.onaudioprocess=null,this.outputNode.disconnect(this.audioBufferNode),this.audioBufferNode=void 0)}createOutputTrack(){if(!MD().webAudioMediaStreamDest)throw new rv(nv.NOT_SUPPORTED,"your browser is not support audio processor");return this.destNode&&this.outputTrack||(this.destNode=this.context.createMediaStreamDestination(),this.outputNode.connect(this.destNode),this.outputTrack=this.destNode.stream.getAudioTracks()[0]),this.outputTrack}play(eQ){this.context.state!=="running"&&jv(()=>{NP.emit("autoplay-failed")}),this.isPlayed=!0,this.playNode=eQ||this.context.destination,this.outputNode.connect(this.playNode)}stop(){if(this.isPlayed)try{this.outputNode.disconnect(this.playNode)}catch{}this.isPlayed=!1}getAccurateVolumeLevel(){return this.volumeLevelAnalyser.getVolumeLevel()}async checkHasAudioInput(){let eQ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if(eQ>5)return this.isNoAudioInput=!0,this.onNoAudioInput&&this.onNoAudioInput(),!1;MI()||qI()?this.context.state==="suspended"&&this.context.resume():this.context.state!=="running"&&this.context.resume();const AQ=this.volumeLevelAnalyser.getAnalyserNode();let iQ;AQ.getFloatTimeDomainData?(iQ=new Float32Array(AQ.fftSize),AQ.getFloatTimeDomainData(iQ)):(iQ=new Uint8Array(AQ.fftSize),AQ.getByteTimeDomainData(iQ));let oQ=!1;for(let rQ=0;rQ<iQ.length;rQ++)iQ[rQ]!==0&&(oQ=!0);return oQ?(this.isNoAudioInput=!1,!0):(await $v(200),await this.checkHasAudioInput(eQ?eQ+1:1)&&oQ)}getAudioVolume(){return this.outputNode.gain.value}setVolume(eQ){this.outputNode.gain.setValueAtTime(eQ,this.context.currentTime)}destroy(){this.disconnect(),this.stop(),this.isDestroyed=!0,this.onNoAudioInput=void 0}disconnect(){var eQ,AQ;(eQ=this.processedNode)===null||eQ===void 0||eQ.disconnect(),(AQ=this.sourceNode)===null||AQ===void 0||AQ.disconnect(),this.outputNode&&this.outputNode.disconnect()}connect(){var eQ;this.processedNode?(eQ=this.processedNode)===null||eQ===void 0||eQ.connect(this.outputNode):this.sourceNode&&this.sourceNode.connect(this.outputNode),this.volumeLevelAnalyser.updateSource(this.outputNode)}}class xP extends UP{get isFreeze(){return!1}constructor(eQ,AQ,iQ){var oQ;if(super(),IP(this,"sourceNode",void 0),IP(this,"track",void 0),IP(this,"clonedTrack",void 0),IP(this,"audioElement",void 0),IP(this,"isCurrentTrackCloned",!1),IP(this,"isRemoteTrack",!1),IP(this,"originVolumeLevelAnalyser",void 0),IP(this,"rebuildWebAudio",async()=>{if(Qy.debug("ready to rebuild web audio, state:",this.context.state),this.isNoAudioInput&&await this.checkHasAudioInput(),!this.isNoAudioInput||this.isDestroyed)return document.body.removeEventListener("click",this.rebuildWebAudio,!0),void Qy.debug("rebuild web audio success, current volume status",this.getAccurateVolumeLevel());this.context.resume().then(()=>Qy.info("resume success")),Qy.debug("rebuild web audio because of ios 12 bugs"),this.disconnect();const sQ=this.track;this.track=this.track.clone(),this.isCurrentTrackCloned?sQ.stop():this.isCurrentTrackCloned=!0;const aQ=new MediaStream([this.track]);this.sourceNode=this.context.createMediaStreamSource(aQ),PP(this.sourceNode),this.volumeLevelAnalyser.rebuildAnalyser();const cQ=this.outputNode.gain.value;this.outputNode=this.context.createGain(),this.outputNode.gain.setValueAtTime(cQ,this.context.currentTime),PP(this.outputNode),this.emit(cP.UPDATE_SOURCE),this.connect(),this.audioElement.srcObject=aQ,this.isPlayed&&this.play(this.playNode),this.checkHasAudioInput()}),eQ.kind!=="audio")throw new rv(nv.UNEXPECTED_ERROR);this.track=eQ;const rQ=new MediaStream([this.track]);if(this.isRemoteTrack=!!AQ,this.sourceNode=this.context.createMediaStreamSource(rQ),PP(this.sourceNode),iQ){const sQ=iQ.clone();sQ.enabled=!0,this.clonedTrack=sQ,Qy.debug("create an unmuted track ".concat(sQ.id," from the original track ").concat(iQ.id," to get the volume"));const aQ=this.context.createMediaStreamSource(new MediaStream([sQ]));PP(aQ),this.originVolumeLevelAnalyser=new MP,this.originVolumeLevelAnalyser.updateSource(aQ)}this.connect(),this.audioElement=document.createElement("audio"),this.audioElement.srcObject=rQ;const nQ=AI();AQ&&nQ.os===RI.IOS&&Number((oQ=nQ.osVersion)===null||oQ===void 0?void 0:oQ.split(".")[0])<15&&(NP.on(VD.STATE_CHANGE,()=>{this.context.state==="suspended"?document.body.addEventListener("click",this.rebuildWebAudio,!0):this.context.state==="running"&&this.rebuildWebAudio()}),this.checkHasAudioInput().then(sQ=>{sQ||document.body.addEventListener("click",this.rebuildWebAudio,!0)}))}updateTrack(eQ){this.sourceNode.disconnect(),this.track=eQ,this.isCurrentTrackCloned=!1;const AQ=new MediaStream([eQ]);this.sourceNode=this.context.createMediaStreamSource(AQ),PP(this.sourceNode),this.processedNode||this.sourceNode.connect(this.outputNode),this.emit(cP.UPDATE_SOURCE),this.audioElement.srcObject=AQ}destroy(){var eQ;this.audioElement.srcObject=null,this.audioElement.remove(),NP.off("state-change",this.rebuildWebAudio),(eQ=this.originVolumeLevelAnalyser)===null||eQ===void 0||eQ.destroy(),this.clonedTrack=void 0,super.destroy()}createMediaStreamSourceNode(eQ){return this.context.createMediaStreamSource(new MediaStream([eQ]))}updateOriginTrack(eQ){const AQ=eQ.clone();AQ.enabled=!0,this.clonedTrack&&(this.clonedTrack.stop(),this.clonedTrack=AQ),Qy.debug("create an unmuted track ".concat(AQ.id," from the original track ").concat(eQ.id," to get the volume"));const iQ=this.context.createMediaStreamSource(new MediaStream([AQ]));PP(iQ),this.originVolumeLevelAnalyser&&this.originVolumeLevelAnalyser.updateSource(iQ)}getOriginVolumeLevel(){return this.originVolumeLevelAnalyser?this.originVolumeLevelAnalyser.getVolumeLevel():this.getAccurateVolumeLevel()}}async function VP(tQ,eQ,AQ){const iQ=(rQ,nQ)=>rQ?typeof rQ!="number"?rQ.max||rQ.exact||rQ.ideal||rQ.min||nQ:rQ:nQ,oQ={audio:!!AQ&&{mandatory:{chromeMediaSource:"desktop"}},video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:tQ,maxHeight:iQ(eQ.height,1080),maxWidth:iQ(eQ.width,1920)}}};return eQ.frameRate&&typeof eQ.frameRate!="number"?(oQ.video.mandatory.maxFrameRate=eQ.frameRate.max,oQ.video.mandatory.minFrameRate=eQ.frameRate.min):typeof eQ.frameRate=="number"&&(oQ.video.mandatory.maxFrameRate=eQ.frameRate),await navigator.mediaDevices.getUserMedia(oQ)}async function FP(tQ,eQ){const AQ=await BP(tQ.mediaSource),{sourceId:iQ,audio:oQ}=await function(rQ){let nQ=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new Gh((sQ,aQ)=>{const cQ=document.createElement("div");cQ.innerText="share screen",cQ.setAttribute("style","text-align: center; height: 25px; line-height: 25px; border-radius: 4px 4px 0 0; background: #D4D2D4; border-bottom:  solid 1px #B9B8B9;");const gQ=document.createElement("div");gQ.setAttribute("style","width: 100%; height: 500px; padding: 15px 25px ; box-sizing: border-box;");const IQ=document.createElement("div");IQ.innerText="Agora Web Screensharing wants to share the contents of your screen with webdemo.agorabeckon.com. Choose what you'd like to share.",IQ.setAttribute("style","height: 12%;");const EQ=document.createElement("div");EQ.setAttribute("style","width: 100%; height: 80%; background: #FFF; border:  solid 1px #CBCBCB; display: flex; flex-wrap: wrap; justify-content: space-around; overflow-y: scroll; padding: 0 15px; box-sizing: border-box;");const CQ=document.createElement("div");CQ.setAttribute("style","display: flex; justify-content: space-between; padding: 16px 0;");const dQ=document.createElement("button");dQ.innerHTML="cancel",dQ.setAttribute("style","width: 85px;"),dQ.onclick=()=>{document.body.removeChild(hQ);const BQ=new Error("NotAllowedError");BQ.name="NotAllowedError",aQ(BQ)};let lQ=nQ;const uQ=document.createElement("div");if(nQ){const BQ=document.createElement("input");BQ.setAttribute("type","checkbox");const QQ=document.createElement("span");BQ.setAttribute("style","margin-right: 6px;"),QQ.innerText="Share audio",BQ.checked=lQ,BQ.onchange=()=>{lQ=BQ.checked},uQ.appendChild(BQ),uQ.appendChild(QQ)}CQ.appendChild(uQ),CQ.appendChild(dQ),gQ.appendChild(IQ),gQ.appendChild(EQ),gQ.appendChild(CQ);const hQ=document.createElement("div");hQ.setAttribute("style","position: fixed; z-index: 99999999; top: 50%; left: 50%; width: 620px; height: 525px; background: #ECECEC; border-radius: 4px; -webkit-transform: translate(-50%,-50%); transform: translate(-50%,-50%);"),hQ.appendChild(cQ),hQ.appendChild(gQ),document.body.appendChild(hQ),rQ.map(BQ=>{if(BQ.id){const QQ=document.createElement("div");QQ.setAttribute("style","width: 30%; height: 160px; padding: 20px 0; text-align: center;box-sizing: content-box;");let fQ=BQ.thumbnail;try{const{width:_Q}=fQ.getSize();_Q>1920&&(fQ=fQ.resize({width:1920}))}catch(_Q){throw _Q&&_Q.message.startsWith("Illegal invocation")&&console.error("Operate thumbnail error, please try to set contextIsolation: false. (https://github.com/electron/electron/issues/34953)"),_Q}QQ.innerHTML='<div style="height: 120px; display: table-cell; vertical-align: middle;"><img style="width: 100%; background: #333333; box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, 0.2);" src='+fQ.toDataURL()+' /></div><span style="	height: 40px; line-height: 40px; display: inline-block; width: 70%; word-break: keep-all; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">'+BQ.name.replace(/[\u00A0-\u9999<>\&]/g,function(_Q){return"&#"+_Q.charCodeAt(0)+";"})+"</span>",QQ.onclick=()=>{document.body.removeChild(hQ),sQ({sourceId:BQ.id,audio:lQ})},EQ.appendChild(QQ)}})})}(AQ,eQ);return await VP(iQ,tQ,oQ)}async function BP(tQ){let eQ=["window","screen"];tQ!=="application"&&tQ!=="window"||(eQ=["window"]),tQ==="screen"&&(eQ=["screen"]);const AQ=Rv();if(!AQ)throw console.error("failed to fetch electron, please mount it to window"),new rv(nv.ELECTRON_IS_NULL);let iQ=null;try{var oQ;iQ=((oQ=AQ.desktopCapturer)===null||oQ===void 0?void 0:oQ.getSources({types:eQ}))||AQ.ipcRenderer.invoke("DESKTOP_CAPTURER_GET_SOURCES",{types:eQ})}catch{iQ=null}iQ&&iQ.then||(iQ=new Gh((rQ,nQ)=>{AQ.desktopCapturer.getSources({types:eQ},(sQ,aQ)=>{sQ?nQ(sQ):rQ(aQ)})}));try{return await iQ}catch(rQ){throw new rv(nv.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR,rQ.toString())}}const jP=new hy("safari");let GP=!1,WP=!1;async function HP(tQ,eQ){let AQ=0,iQ=null;for(;AQ<2;)try{iQ=await KP(tQ,eQ,AQ>0);break}catch(oQ){if(oQ instanceof rv)throw Qy.error("[".concat(eQ,"] ").concat(oQ.toString())),oQ;const rQ=YP(oQ.name||oQ.code||oQ,oQ.message);if(rQ.code===nv.MEDIA_OPTION_INVALID){Qy.debug("[".concat(eQ,"] detect media option invalid, retry")),AQ+=1,await $v(500);continue}throw Qy.error("[".concat(eQ,"] ").concat(rQ.toString())),rQ}if(!iQ)throw new rv(nv.UNEXPECTED_ERROR,"can not find stream after getUserMedia");return iQ}async function KP(tQ,eQ,AQ){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new rv(nv.NOT_SUPPORTED,"can not find getUserMedia");AQ&&(tQ.video&&(delete tQ.video.width,delete tQ.video.height),tQ.screen&&(delete tQ.screen.width,delete tQ.screen.height));const iQ=MD(),oQ=new MediaStream;if(tQ.audioSource&&oQ.addTrack(tQ.audioSource),tQ.videoSource&&oQ.addTrack(tQ.videoSource),!tQ.audio&&!tQ.video&&!tQ.screen)return Qy.debug("Using Video Source/ Audio Source"),oQ;if(tQ.screen)if(Rv())tQ.screen.sourceId?qP(oQ,await VP(tQ.screen.sourceId,tQ.screen,tQ.screenAudio)):qP(oQ,await FP(tQ.screen,tQ.screenAudio));else if(DI()&&tQ.screen.extensionId&&tQ.screen.mandatory){if(!iQ.getStreamFromExtension)throw new rv(nv.NOT_SUPPORTED,"This browser does not support screen sharing");Qy.debug("[".concat(eQ,'] Screen access on chrome stable, looking for extension"'));const EQ=await(nQ=tQ.screen.extensionId,sQ=eQ,new Gh((CQ,dQ)=>{try{chrome.runtime.sendMessage(nQ,{getStream:!0},lQ=>{if(!lQ||!lQ.streamId)return Qy.error("[".concat(sQ,"] No response from Chrome Plugin. Plugin not installed properly"),lQ),void dQ(new rv(nv.CHROME_PLUGIN_NO_RESPONSE,"No response from Chrome Plugin. Plugin not installed properly"));CQ(lQ.streamId)})}catch(lQ){Qy.error("[".concat(sQ,"] AgoraRTC screensharing plugin is not accessible(").concat(nQ,")"),lQ.toString()),dQ(new rv(nv.CHROME_PLUGIN_NOT_INSTALL))}}));tQ.screen.mandatory.chromeMediaSourceId=EQ,qP(oQ,await navigator.mediaDevices.getUserMedia({video:{mandatory:tQ.screen.mandatory}}))}else if(iQ.getDisplayMedia){var rQ;tQ.screen.mediaSource&&ZD(tQ.screen.mediaSource);const EQ={width:tQ.screen.width,height:tQ.screen.height,frameRate:tQ.screen.frameRate,displaySurface:(rQ=tQ.screen.displaySurface)!==null&&rQ!==void 0?rQ:tQ.screen.mediaSource==="screen"?"monitor":tQ.screen.mediaSource},{selfBrowserSurface:CQ,surfaceSwitching:dQ,systemAudio:lQ}=tQ.screen,uQ={selfBrowserSurface:CQ,surfaceSwitching:dQ,systemAudio:lQ};!CQ&&delete uQ.selfBrowserSurface,!dQ&&delete uQ.surfaceSwitching,!lQ&&delete uQ.systemAudio,Qy.debug("[".concat(eQ,"] getDisplayMedia:"),JSON.stringify({video:EQ,audio:!!tQ.screenAudio,controls:uQ})),qP(oQ,await navigator.mediaDevices.getDisplayMedia(yP({video:EQ,audio:!!tQ.screenAudio},uQ)))}else{if(!kI())throw Qy.error("[".concat(eQ,"] This browser does not support screenSharing")),new rv(nv.NOT_SUPPORTED,"This browser does not support screen sharing");{tQ.screen.mediaSource&&ZD(tQ.screen.mediaSource);const EQ={video:{mediaSource:tQ.screen.mediaSource,width:tQ.screen.width,height:tQ.screen.height,frameRate:tQ.screen.frameRate}};Qy.debug("[".concat(eQ,"] getUserMedia: ").concat(JSON.stringify(EQ))),qP(oQ,await navigator.mediaDevices.getUserMedia(EQ))}}var nQ,sQ;if(!tQ.video&&!tQ.audio)return oQ;let aQ={video:tQ.video,audio:tQ.audio},cQ=Dy("MEDIA_DEVICE_CONSTRAINTS");if(cQ)try{typeof cQ=="string"&&(cQ=JSON.parse(cQ)),aQ=sy(aQ,cQ)}catch{}Qy.debug("[".concat(eQ,"] GetUserMedia"),JSON.stringify(aQ)),AI();let gQ,IQ=null;(PI()||MI()||NI())&&(IQ=await jP.lock());try{gQ=await navigator.mediaDevices.getUserMedia(aQ)}catch(EQ){throw IQ&&IQ(),EQ}return aQ.audio&&(GP=!0),aQ.video&&(WP=!0),qP(oQ,gQ),IQ&&IQ(),oQ}function YP(tQ,eQ){switch(tQ){case"Starting video failed":case"OverconstrainedError":case"TrackStartError":return new rv(nv.MEDIA_OPTION_INVALID,"".concat(tQ,": ").concat(eQ));case"NotFoundError":case"DevicesNotFoundError":return new rv(nv.DEVICE_NOT_FOUND,"".concat(tQ,": ").concat(eQ));case"NotSupportedError":return new rv(nv.NOT_SUPPORTED,"".concat(tQ,": ").concat(eQ));case"NotReadableError":return new rv(nv.NOT_READABLE,"".concat(tQ,": ").concat(eQ));case"InvalidStateError":case"NotAllowedError":case"PERMISSION_DENIED":case"PermissionDeniedError":return new rv(nv.PERMISSION_DENIED,"".concat(tQ,": ").concat(eQ));case"ConstraintNotSatisfiedError":return new rv(nv.CONSTRAINT_NOT_SATISFIED,"".concat(tQ,": ").concat(eQ));default:return Qy.error("getUserMedia unexpected error",tQ),new rv(nv.UNEXPECTED_ERROR,"".concat(tQ,": ").concat(eQ))}}function qP(tQ,eQ){const AQ=tQ.getVideoTracks()[0],iQ=tQ.getAudioTracks()[0],oQ=eQ.getVideoTracks()[0],rQ=eQ.getAudioTracks()[0];rQ&&(iQ&&tQ.removeTrack(iQ),tQ.addTrack(rQ)),oQ&&(AQ&&tQ.removeTrack(AQ),tQ.addTrack(oQ))}const zP=new class extends Sv{get state(){return this._state}set state(tQ){tQ!==this._state&&(this.emit(fP.STATE_CHANGE,tQ),this._state=tQ)}constructor(){super(),IP(this,"_state",mP.IDLE),IP(this,"isAccessMicrophonePermission",!1),IP(this,"isAccessCameraPermission",!1),IP(this,"lastAccessMicrophonePermission",!1),IP(this,"lastAccessCameraPermission",!1),IP(this,"checkdeviceMatched",!1),IP(this,"deviceInfoMap",new Map),this.init().then(()=>{navigator.mediaDevices.addEventListener&&navigator.mediaDevices.addEventListener("devicechange",this.updateDevicesInfo.bind(this)),window.setInterval(()=>{(Dy("ENUMERATE_DEVICES_INTERVAL")||(ZI()||wI()===RI.HARMONY_OS)&&QI())&&this.updateDevicesInfo()},Dy("ENUMERATE_DEVICES_INTERVAL_TIME"))}).catch(tQ=>Qy.error(tQ.toString()))}async enumerateDevices(tQ,eQ){let AQ=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices)return new rv(nv.NOT_SUPPORTED,"enumerateDevices() not supported.").throw();const iQ=await navigator.mediaDevices.enumerateDevices(),oQ=this.checkMediaDeviceInfoIsOk(iQ);let rQ=!this.isAccessMicrophonePermission&&tQ,nQ=!this.isAccessCameraPermission&&eQ;oQ.audio&&(rQ=!1),oQ.video&&(nQ=!1);let sQ=null,aQ=null,cQ=null;if(!AQ&&(rQ||nQ)){if(jP.isLocked&&(Qy.debug("[device manager] wait GUM lock"),(await jP.lock())(),Qy.debug("[device manager] GUM unlock")),GP&&(rQ=!1,this.isAccessMicrophonePermission=!0),WP&&(nQ=!1,this.isAccessCameraPermission=!0),Qy.debug("[device manager] check media device permissions",tQ,eQ,rQ,nQ),rQ&&nQ){try{cQ=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0})}catch(gQ){const IQ=YP(gQ.name||gQ.code||gQ,gQ.message);if(IQ.code===nv.PERMISSION_DENIED)throw IQ;Qy.warning("getUserMedia failed in getDevices",IQ)}this.isAccessCameraPermission=!0,this.isAccessMicrophonePermission=!0}else if(rQ){try{sQ=await navigator.mediaDevices.getUserMedia({audio:tQ})}catch(gQ){const IQ=YP(gQ.name||gQ.code||gQ,gQ.message);if(IQ.code===nv.PERMISSION_DENIED)throw IQ;Qy.warning("getUserMedia failed in getDevices",IQ)}this.isAccessMicrophonePermission=!0}else if(nQ){try{aQ=await navigator.mediaDevices.getUserMedia({video:eQ})}catch(gQ){const IQ=YP(gQ.name||gQ.code||gQ,gQ.message);if(IQ.code===nv.PERMISSION_DENIED)throw IQ;Qy.warning("getUserMedia failed in getDevices",IQ)}this.isAccessCameraPermission=!0}Qy.debug("[device manager] mic permission",tQ,"cam permission",eQ)}try{const gQ=await navigator.mediaDevices.enumerateDevices();return sQ&&sQ.getTracks().forEach(IQ=>IQ.stop()),aQ&&aQ.getTracks().forEach(IQ=>IQ.stop()),cQ&&cQ.getTracks().forEach(IQ=>IQ.stop()),sQ=null,aQ=null,cQ=null,gQ}catch(gQ){return sQ&&sQ.getTracks().forEach(IQ=>IQ.stop()),aQ&&aQ.getTracks().forEach(IQ=>IQ.stop()),cQ&&cQ.getTracks().forEach(IQ=>IQ.stop()),sQ=null,aQ=null,cQ=null,new rv(nv.ENUMERATE_DEVICES_FAILED,gQ.toString()).throw()}}async getRecordingDevices(){let tQ=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return(await this.enumerateDevices(!0,!1,tQ)).filter(eQ=>eQ.kind==="audioinput")}async getCamerasDevices(){let tQ=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return(await this.enumerateDevices(!1,!0,tQ)).filter(eQ=>eQ.kind==="videoinput")}async getSpeakers(){let tQ=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return(await this.enumerateDevices(!0,!1,tQ)).filter(eQ=>eQ.kind==="audiooutput")}searchDeviceIdByName(tQ){let eQ=null;return this.deviceInfoMap.forEach(AQ=>{AQ.device.label===tQ&&(eQ=AQ.device.deviceId)}),eQ}async getDeviceById(tQ){const eQ=(await this.enumerateDevices(!0,!0,!0)).find(AQ=>AQ.deviceId===tQ);if(!eQ)throw new rv(nv.DEVICE_NOT_FOUND,"deviceId: ".concat(tQ));return eQ}async init(){this.state=mP.INITING;try{await this.updateDevicesInfo(),this.state=mP.INITEND}catch(tQ){throw Qy.warning("Device Detection functionality cannot start properly.",tQ.toString()),this.state=mP.IDLE,(typeof isSecureContext=="boolean"?isSecureContext:location.protocol==="https:"||location.protocol==="file:"||location.hostname==="localhost"||location.hostname==="127.0.0.1"||location.hostname==="::1")||new rv(nv.WEB_SECURITY_RESTRICT,"Your context is limited by web security, please try using https protocol or localhost.").throw(),tQ}}async updateDevicesInfo(){const tQ=await this.enumerateDevices(!0,!0,!0),eQ=Date.now(),AQ=[];if(tQ[0]&&tQ[0].label&&this.checkdeviceMatched===!1){this.checkdeviceMatched=!0;const oQ=tQ.find(nQ=>nQ.kind==="audioinput"&&nQ.deviceId==="default"),rQ=tQ.find(nQ=>nQ.kind==="audiooutput"&&nQ.deviceId==="default");oQ&&rQ?rQ.groupId===oQ.groupId?Qy.debug("[device-check] default input ".concat(oQ.label," and output ").concat(rQ.label," is the same group")):Qy.warning("[device-check] default input ".concat(oQ.label," and output ").concat(rQ.label," is not the same group")):Qy.debug("[device-check] default input or output not found")}const iQ=this.checkMediaDeviceInfoIsOk(tQ);if(tQ.forEach(oQ=>{if(!oQ.deviceId)return;const rQ=this.deviceInfoMap.get("".concat(oQ.kind,"_").concat(oQ.deviceId));if((rQ?rQ.state:"INACTIVE")!=="ACTIVE"){const nQ={initAt:eQ,updateAt:eQ,device:oQ,state:"ACTIVE"};this.deviceInfoMap.set("".concat(oQ.kind,"_").concat(oQ.deviceId),nQ),AQ.push(nQ)}rQ&&(rQ.updateAt=eQ)}),this.deviceInfoMap.forEach((oQ,rQ)=>{oQ.state==="ACTIVE"&&oQ.updateAt!==eQ&&(oQ.state="INACTIVE",AQ.push(oQ))}),this.state!==mP.INITEND)return iQ.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),void(iQ.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0));AQ.forEach(oQ=>{switch(oQ.device.kind){case"audioinput":this.lastAccessMicrophonePermission&&this.isAccessMicrophonePermission&&this.emit(fP.RECORDING_DEVICE_CHANGED,oQ);break;case"videoinput":this.lastAccessCameraPermission&&this.isAccessCameraPermission&&this.emit(fP.CAMERA_DEVICE_CHANGED,oQ);break;case"audiooutput":this.lastAccessMicrophonePermission&&this.isAccessMicrophonePermission&&this.emit(fP.PLAYOUT_DEVICE_CHANGED,oQ)}}),iQ.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),iQ.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0)}checkMediaDeviceInfoIsOk(tQ){const eQ=tQ.filter(oQ=>oQ.kind==="audioinput"),AQ=tQ.filter(oQ=>oQ.kind==="videoinput"),iQ={audio:!1,video:!1};for(const oQ of eQ)if(oQ.label&&oQ.deviceId){iQ.audio=!0;break}for(const oQ of AQ)if(oQ.label&&oQ.deviceId){iQ.video=!0;break}return iQ}};let JP=!1;const XP=new class extends Sv{constructor(){super(...arguments),IP(this,"onAutoplayFailed",void 0),IP(this,"onAudioAutoplayFailed",void 0)}};function QP(){if(AI(),!JP){const tQ=eQ=>{eQ.preventDefault(),JP=!1,$I()?document.body.removeEventListener("click",tQ,!0):(document.body.removeEventListener("touchstart",tQ,!0),document.body.removeEventListener("mousedown",tQ,!0))};JP=!0,$I()?document.body.addEventListener("click",tQ,!0):(document.body.addEventListener("touchstart",tQ,!0),document.body.addEventListener("mousedown",tQ,!0)),Qy.info("detect media autoplay failed, document: https://docs.agora.io/cn/Voice/autoplay_policy_web_ng?platform=Web"),XP.onAutoplayFailed?XP.onAutoplayFailed():XP.onAudioAutoplayFailed?Qy.warning(`AgoraRTC.onAudioAutoplayFailed has been deprecated in favor of AgoraRTC.onAutoplayFailed.

  Please refer to the Agora document to migrate the newer API, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web .`):Qy.warning(`We have detected a media autoplay failed event, and found out that you haven't implemented AgoraRTC.onAutoplayFailed callback yet.

  It will cause audio/video element not playing automatically on some browsers without user interaction, possibly hurting user experiences.

  Please refer to the Agora document to properly handle autoplay failed event, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web .`),XP.emit("autoplay-failed")}}function ZP(tQ,eQ,AQ,iQ){if(!tQ)return;const oQ=sA.getBaseInfoBySessionId(tQ);if(!oQ)return;const rQ=oQ.info,nQ=Date.now(),sQ=yP(yP({},rQ),{},{vid:rQ.vid===void 0?0:Number(rQ.vid),lts:nQ,elapse:nQ-oQ.startTime,cbRegistered:XP.onAutoplayFailed||XP.onAudioAutoplayFailed?1:-1,errorMsg:AQ,mediaType:eQ,trackId:iQ,extend:void 0});sA.send({type:iA.AUTOPLAY_FAILED,data:sQ},!0)}const $P=["play","playing","loadeddata","canplay","pause","stalled","suspend","waiting","abort","emptied","ended","error"],eL=new class{constructor(){IP(this,"onAutoplayFailed",void 0),IP(this,"elementMap",new Map),IP(this,"elementStateMap",new Map),IP(this,"elementsNeedToResume",[]),IP(this,"sinkIdMap",new Map),IP(this,"autoResumeAfterInterruption",tQ=>{Array.from(this.elementMap.entries()).forEach(eQ=>{let[AQ,iQ]=eQ;const oQ=this.elementStateMap.get(AQ),rQ=iQ.srcObject.getAudioTracks()[0],nQ=rQ&&rQ.readyState;if(Qy.debug("resume after interrupted, ele: ".concat(oQ," audio: ").concat(nQ," ").concat(tQ)),nQ==="live"){if(tQ)return iQ.pause(),void iQ.play();if(NP.curState==="running")return HI()?(iQ.pause(),void iQ.play()):void(oQ&&oQ==="paused"&&iQ.play())}})}),IP(this,"autoResumeAfterInterruptionOnIOS15_16",()=>{Array.from(this.elementMap.entries()).forEach(tQ=>{let[eQ,AQ]=tQ;const iQ=AQ.srcObject.getAudioTracks()[0];iQ&&iQ.readyState==="live"&&(Qy.debug("auto resume after interruption inside autoResumeAfterInterruptionOnIOS15"),AQ.pause(),AQ.play())})}),this.autoResumeAudioElement(),NP.on(VD.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),NP.on(VD.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16),NP.on(VD.STATE_CHANGE,()=>{MI()&&NP.prevState==="suspended"&&NP.curState==="running"&&this.autoResumeAfterInterruption()})}async setSinkID(tQ,eQ){const AQ=this.elementMap.get(tQ);if(this.sinkIdMap.set(tQ,eQ),AQ)try{await AQ.setSinkId(eQ)}catch(iQ){throw new rv(nv.PERMISSION_DENIED,"can not set sink id: "+iQ.toString())}}play(tQ,eQ,AQ,iQ){if(this.elementMap.has(eQ))return;const oQ=document.createElement("audio");oQ.autoplay=!0,oQ.srcObject=new MediaStream([tQ]),this.bindAudioElementEvents(eQ,oQ),this.elementMap.set(eQ,oQ),this.elementStateMap.set(eQ,TP.INIT),this.setVolume(eQ,AQ);const rQ=this.sinkIdMap.get(eQ);if(rQ)try{oQ.setSinkId(rQ).catch(sQ=>{Qy.warning("[".concat(eQ,"] set sink id failed"),sQ.toString())})}catch(sQ){Qy.warning("[".concat(eQ,"] set sink id failed"),sQ.toString())}const nQ=oQ.play();nQ&&nQ.then&&nQ.catch(sQ=>{iQ&&ZP(iQ,"audio",sQ.message,eQ),Qy.warning("audio element play warning",sQ.toString()),this.elementMap.has(eQ)&&sQ.name==="NotAllowedError"&&(Qy.warning("detected audio element autoplay failed"),this.elementsNeedToResume.push(oQ),jv(()=>{this.onAutoplayFailed&&this.onAutoplayFailed(),QP()}))})}updateTrack(tQ,eQ){const AQ=this.elementMap.get(tQ);AQ&&(AQ.srcObject=new MediaStream([eQ]))}isPlaying(tQ){return this.elementMap.has(tQ)&&this.elementStateMap.get(tQ)==="playing"}setVolume(tQ,eQ){const AQ=this.elementMap.get(tQ);AQ&&(eQ=Math.max(0,Math.min(100,eQ)),AQ.volume=eQ/100)}stop(tQ){const eQ=this.elementMap.get(tQ);if(this.sinkIdMap.delete(tQ),!eQ)return;const AQ=this.elementsNeedToResume.indexOf(eQ);this.elementsNeedToResume.splice(AQ,1),eQ.srcObject=null,eQ.remove(),this.elementMap.delete(tQ),this.elementStateMap.delete(tQ)}bindAudioElementEvents(tQ,eQ){$P.forEach(AQ=>{eQ.addEventListener(AQ,iQ=>{const oQ=this.elementStateMap.get(tQ),rQ=iQ.type==="pause"?"paused":iQ.type;if(Qy.debug("[".concat(tQ,"] audio-element-status change ").concat(oQ," => ").concat(rQ)),iQ.type==="error"){const nQ=eQ==null?void 0:eQ.error;nQ&&Qy.error("[".concat(tQ,"] media error, code: ").concat(nQ.code,", message: ").concat(nQ.message))}this.elementStateMap.set(tQ,rQ)})})}getPlayerState(tQ){return this.elementStateMap.get(tQ)||"uninit"}autoResumeAudioElement(){const tQ=()=>{this.elementsNeedToResume.forEach(eQ=>{eQ.play().then(AQ=>{Qy.debug("Auto resume audio element success")}).catch(AQ=>{Qy.warning("Auto resume audio element failed!",AQ)})}),this.elementsNeedToResume=[]};new Gh(eQ=>{document.body?eQ():window.addEventListener("load",()=>eQ())}).then(()=>{$I()?document.body.addEventListener("click",tQ,!0):(document.body.addEventListener("touchstart",tQ,!0),document.body.addEventListener("mousedown",tQ,!0))})}};function tL(){return function(tQ,eQ,AQ){const iQ=AQ.value;return typeof iQ=="function"&&(AQ.value=function(){this._isClosed&&new rv(nv.INVALID_OPERATION,"[".concat(this.getTrackId(),"] cannot operate a closed track")).print("warning",Qy);for(var oQ=arguments.length,rQ=new Array(oQ),nQ=0;nQ<oQ;nQ++)rQ[nQ]=arguments[nQ];const sQ=iQ.apply(this,rQ);return sQ instanceof Gh?new Gh((aQ,cQ)=>{sQ.then(aQ).catch(cQ)}):sQ}),AQ}}class iL extends Sv{constructor(eQ){super(),IP(this,"name","VideoProcessorDestination"),IP(this,"ID","0"),IP(this,"_source",void 0),IP(this,"videoContext",void 0),IP(this,"inputTrack",void 0),this.videoContext=eQ}get kind(){return"video"}get enabled(){return!0}pipe(){throw new rv(nv.NOT_SUPPORTED,"VideoProcessor cannot pipe to any other Processor")}unpipe(){throw new rv(nv.NOT_SUPPORTED,"VideoProcessor cannot unpipe to any other Processor")}enable(){}disable(){}updateInput(eQ){if(eQ.context!==this.videoContext)throw new Error(`ProcessorContext passed to VideoTrack.processorDestination doesn't match it's belonging VideoTrack's context.
Probably you are making pipeline like this:
videoTrack1.pipe(processor).pipe(videoTrack2.processorDestination).`);eQ.track&&eQ.track!==this.inputTrack&&(this.videoContext.chained=!0,this.inputTrack=eQ.track,this.emit(_P.ON_TRACK,eQ.track))}reset(){this.inputTrack=void 0,this.videoContext.chained=!1,this.emit(_P.ON_TRACK,void 0)}}class nL extends Sv{set chained(eQ){this._chained=eQ}get chained(){return this._chained}constructor(eQ,AQ){super(),IP(this,"constraintsMap",new Map),IP(this,"statsRegistry",[]),IP(this,"usageRegistry",[]),IP(this,"trackId",void 0),IP(this,"direction",void 0),IP(this,"_chained",!1),this.trackId=eQ,this.direction=AQ}async getConstraints(){return await kv(this,EP.REQUEST_CONSTRAINTS)}async requestApplyConstraints(eQ,AQ){var iQ;return Qy.info("processor ".concat(AQ.name," requestApplyConstraints for ").concat(this.trackId)),eQ&&this.constraintsMap.set(AQ,eQ),Mv(this,EP.REQUEST_UPDATE_CONSTRAINTS,Array.from(Qw(iQ=this.constraintsMap).call(iQ)))}async requestRevertConstraints(eQ){var AQ;if(this.constraintsMap.has(eQ))return Qy.info("processor ".concat(eQ.name," requestRevertConstraints for ").concat(this.trackId)),this.constraintsMap.delete(eQ),Mv(this,EP.REQUEST_UPDATE_CONSTRAINTS,Array.from(Qw(AQ=this.constraintsMap).call(AQ)))}registerStats(eQ,AQ,iQ){this.statsRegistry.find(oQ=>oQ.processorID===eQ.ID&&oQ.processorName===eQ.name&&oQ.type===AQ)||this.statsRegistry.push({processorName:eQ.name,processorID:eQ.ID,type:AQ,cb:iQ})}unregisterStats(eQ,AQ){const iQ=this.statsRegistry.findIndex(oQ=>oQ.processorID===eQ.ID&&oQ.processorName===eQ.name&&oQ.type===AQ);iQ!==-1&&this.statsRegistry.splice(iQ,1)}gatherStats(){const eQ=[];for(const{processorID:AQ,processorName:iQ,type:oQ,cb:rQ}of this.statsRegistry)try{const nQ=rQ();eQ.push({processorID:AQ,processorName:iQ,type:oQ,stats:nQ})}catch(nQ){Qy.error(new rv(nv.UNEXPECTED_ERROR,nQ.message))}return eQ}registerUsage(eQ,AQ){this.usageRegistry.find(iQ=>iQ.processorID===eQ.ID&&iQ.processorName===eQ.name)||this.usageRegistry.push({processorID:eQ.ID,processorName:eQ.name,cb:AQ})}unregisterUsage(eQ){const AQ=this.usageRegistry.findIndex(iQ=>iQ.processorID===eQ.ID&&iQ.processorName===eQ.name);AQ!==-1&&this.usageRegistry.splice(AQ,1)}async gatherUsage(){const eQ=[];if(!this.chained)return[];for(const{cb:AQ}of this.usageRegistry)try{let iQ=AQ();iQ instanceof Gh&&(iQ=await iQ),eQ.push(yP(yP({},iQ),{},{direction:this.direction}))}catch(iQ){Qy.error("gather extension usage error",iQ)}return eQ}getDirection(){return this.direction}}class rL extends Sv{constructor(eQ){super(),IP(this,"name","AudioProcessorDestination"),IP(this,"ID","0"),IP(this,"inputTrack",void 0),IP(this,"inputNode",void 0),IP(this,"audioProcessorContext",void 0),IP(this,"_source",void 0),this.audioProcessorContext=eQ}get kind(){return"audio"}get enabled(){return!0}pipe(){throw new rv(nv.NOT_SUPPORTED,"AudioProcessorDestination cannot pipe to any other Processor")}unpipe(){throw new rv(nv.NOT_SUPPORTED,"AudioProcessor cannot unpipe to any other Processor")}enable(){}disable(){}reset(){this.inputTrack=void 0,this.inputNode=void 0,this.audioProcessorContext.chained=!1,this.emit(_P.ON_TRACK,void 0),this.emit(_P.ON_NODE,void 0)}updateInput(eQ){if(eQ.context!==this.audioProcessorContext)throw new Error(`ProcessorContext passed to AudioTrack.processorDestination doesn't match it's belonging AudioTrack's context.
        Probably you are making pipeline like this: audioTrack1.pipe(processor).pipe(audioTrack2.processorDestination).`);eQ.track&&this.inputTrack!==eQ.track&&(this.audioProcessorContext.chained=!0,this.inputTrack=eQ.track,this.emit(_P.ON_TRACK,this.inputTrack)),eQ.node&&this.inputNode!==eQ.node&&(this.audioProcessorContext.chained=!0,this.inputNode=eQ.node,this.emit(_P.ON_NODE,this.inputNode))}}class oL extends Sv{set chained(eQ){this._chained=eQ}get chained(){return this._chained}constructor(eQ,AQ,iQ){super(),IP(this,"constraintsMap",new Map),IP(this,"statsRegistry",[]),IP(this,"audioContext",void 0),IP(this,"trackId",void 0),IP(this,"direction",void 0),IP(this,"usageRegistry",[]),IP(this,"_chained",!1),this.audioContext=eQ,this.trackId=AQ,this.direction=iQ}async getConstraints(){return kv(this,EP.REQUEST_CONSTRAINTS)}getAudioContext(){return this.audioContext}async requestApplyConstraints(eQ,AQ){var iQ;return Qy.info("processor ".concat(AQ.name," requestApplyConstraints for ").concat(this.trackId)),eQ&&this.constraintsMap.set(AQ,eQ),Mv(this,EP.REQUEST_UPDATE_CONSTRAINTS,Array.from(Qw(iQ=this.constraintsMap).call(iQ)))}async requestRevertConstraints(eQ){var AQ;if(this.constraintsMap.has(eQ))return this.constraintsMap.delete(eQ),Mv(this,EP.REQUEST_UPDATE_CONSTRAINTS,Array.from(Qw(AQ=this.constraintsMap).call(AQ)))}registerStats(eQ,AQ,iQ){this.statsRegistry.find(oQ=>oQ.processorID===eQ.ID&&oQ.processorName===eQ.name&&oQ.type===AQ)||this.statsRegistry.push({processorName:eQ.name,processorID:eQ.ID,type:AQ,cb:iQ})}unregisterStats(eQ,AQ){const iQ=this.statsRegistry.findIndex(oQ=>oQ.processorID===eQ.ID&&oQ.processorName===eQ.name&&oQ.type===AQ);iQ!==-1&&this.statsRegistry.splice(iQ,1)}gatherStats(){const eQ=[];for(const{processorID:AQ,processorName:iQ,type:oQ,cb:rQ}of this.statsRegistry)try{const nQ=rQ();eQ.push({processorID:AQ,processorName:iQ,type:oQ,stats:nQ})}catch(nQ){Qy.error(new rv(nv.UNEXPECTED_ERROR,nQ.message))}return eQ}registerUsage(eQ,AQ){this.usageRegistry.find(iQ=>iQ.processorID===eQ.ID&&iQ.processorName===eQ.name)||this.usageRegistry.push({processorID:eQ.ID,processorName:eQ.name,cb:AQ})}unregisterUsage(eQ){const AQ=this.usageRegistry.findIndex(iQ=>iQ.processorID===eQ.ID&&iQ.processorName===eQ.name);AQ!==-1&&this.usageRegistry.splice(AQ,1)}async gatherUsage(){const eQ=[];if(!this.chained)return[];for(const{cb:AQ}of this.usageRegistry)try{let iQ=AQ();iQ instanceof Gh&&(iQ=await iQ),eQ.push(yP(yP({},iQ),{},{direction:this.direction}))}catch(iQ){Qy.error("gather extension usage error",iQ)}return eQ}getDirection(){return this.direction}}class sL extends Sv{get isPlayed(){return!0}get isFreeze(){return!1}constructor(){super(),IP(this,"context",void 0),IP(this,"processSourceNode",void 0),IP(this,"outputTrack",void 0),IP(this,"processedNode",void 0),IP(this,"clonedTrack",void 0),IP(this,"outputNode",void 0),this.outputNode=new aL}setVolume(){}createOutputTrack(){throw new rv(nv.NOT_SUPPORTED,"can not create output MediaStreamTrack when WebAudio disabled")}getOriginVolumeLevel(){return 0}getAccurateVolumeLevel(){return 0}stopGetAudioBuffer(){}startGetAudioBuffer(){}play(){}stop(){}destroy(){}updateTrack(){}updateOriginTrack(){}createMediaStreamSourceNode(){}}class aL{disconnect(){}connect(){}}function cL(tQ){return new Gh((eQ,AQ)=>{let iQ=!1;const oQ=document.createElement("video");oQ.setAttribute("autoplay",""),oQ.setAttribute("muted",""),oQ.muted=!0,oQ.autoplay=!0,oQ.setAttribute("playsinline",""),oQ.setAttribute("style","position: fixed; top: 0; left: 0; width: 1px; height: 1px"),document.body.appendChild(oQ);const rQ=MI()?"canplay":"playing";oQ.addEventListener(rQ,()=>{const nQ=oQ.videoWidth,sQ=oQ.videoHeight;!nQ&&kI()||(iQ=!0,oQ.srcObject=null,oQ.remove(),eQ([nQ,sQ]))}),oQ.srcObject=new MediaStream([tQ]),oQ.play().catch(iy),setTimeout(()=>{iQ||(oQ.srcObject=null,oQ.remove(),eQ([oQ.videoWidth,oQ.videoHeight]))},4e3)})}function dL(tQ){const eQ={};tQ.facingMode&&(eQ.facingMode=tQ.facingMode),tQ.cameraId&&(eQ.deviceId={exact:tQ.cameraId});const AQ=YD(tQ.encoderConfig);return AQ.width!=null&&(eQ.width=AQ.width),AQ.height!=null&&(eQ.height=AQ.height),!JI()&&AQ.frameRate&&(eQ.frameRate=AQ.frameRate),LI()&&typeof eQ.frameRate=="object"&&(eQ.frameRate.max=60),kI()&&(eQ.frameRate={ideal:30,max:30}),eQ}function lL(tQ){const eQ={};if(JI()||(tQ.AGC!==void 0&&(eQ.autoGainControl=tQ.AGC),tQ.AEC!==void 0&&(eQ.echoCancellation=tQ.AEC),tQ.ANS!==void 0&&(eQ.noiseSuppression=tQ.ANS,DI()&&tQ.ANS&&(eQ.googHighpassFilter=tQ.ANS))),tQ.encoderConfig){const AQ=XD(tQ.encoderConfig);eQ.channelCount=AQ.stereo?2:1,eQ.sampleRate=AQ.sampleRate,eQ.sampleSize=AQ.sampleSize}return tQ.microphoneId&&(eQ.deviceId={exact:tQ.microphoneId}),ZI()&&(eQ.sampleRate=void 0),eQ}const uL=tQ=>{const eQ=tQ._encoderConfig;if(!eQ)return;const{frameRate:AQ,width:iQ,height:oQ}=tQ.getMediaStreamTrackSettings();let{frameRate:rQ=AQ,width:nQ=iQ,height:sQ=oQ}=eQ;if(!rQ||!nQ||!sQ)return;nQ=cy(nQ),sQ=cy(sQ),rQ=cy(rQ);const{max:aQ,min:cQ}=function(CQ,dQ,lQ){const uQ=200*Math.pow(lQ/15,.6)*Math.pow(CQ*dQ/640/360,.75);return{min:Math.floor(uQ),max:Math.floor(4*uQ)}}(nQ,sQ,rQ),{bitrateMax:gQ,bitrateMin:IQ}=eQ||{};gQ||Qy.debug("calculate bitrate: [w: ".concat(nQ,", h: ").concat(sQ,", fps: ").concat(rQ,"] => [brMax: ").concat(gQ,", brMin: ").concat(IQ,"]"));const{maxFramerate:EQ}=Dy("ENCODER_CONFIG_LIMIT");return EQ&&typeof EQ=="number"&&(rQ=Math.min(rQ,EQ)),{frameRate:rQ,bitrateMax:gQ||aQ,bitrateMin:IQ||cQ,scaleResolutionDownBy:1,scale:0}},hL=async(tQ,eQ,AQ)=>await(async(iQ,oQ,rQ)=>{const nQ=function(cQ){const gQ=[];for(let IQ=0;IQ<cQ.length;IQ+=2)gQ.push(parseInt(cQ.slice(IQ,IQ+2),16));return Uint8Array.from(gQ)}(dy(""+oQ+rQ)).slice(0,16),sQ=nQ.slice(0,12),aQ=await window.crypto.subtle.importKey("raw",nQ,"AES-GCM",!0,["encrypt"]);return new Uint8Array(await window.crypto.subtle.encrypt({name:"AES-GCM",iv:sQ},aQ,iQ))})(tQ.buffer,eQ,AQ),pL=tQ=>{const eQ=document.createElement("canvas");return eQ.width=2,eQ.height=2,new Gh((AQ,iQ)=>{eQ.toBlob(async oQ=>{if(eQ.remove(),oQ){const rQ=await _L(oQ);AQ({buffer:rQ,width:eQ.width,height:eQ.height})}else iQ(new rv(nv.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED))},tQ,1)})},_L=async tQ=>{const eQ=await tQ.arrayBuffer();return new Uint8Array(eQ)};var EL,mL,fL,TL,SL,gL,RL,CL,IL,vL,yL,AL,bL,wL,OL,NL,DL,PL,LL,kL,ML,UL,xL,VL,FL,BL,jL,GL,WL,HL,KL,YL,qL,zL,JL,XL,QL,ZL,$L,ek;let tk=(EL=oA({argsMap:(tQ,eQ)=>[tQ.getTrackId(),eQ],throttleTime:300}),mL=oA({argsMap:(tQ,eQ)=>[tQ.getTrackId(),eQ]}),fL=tL(),TL=py("LocalAudioTrack","_enabledMutex"),SL=oA({argsMap:(tQ,eQ)=>[tQ.getTrackId(),eQ]}),gL=tL(),RL=py("LocalAudioTrack","_enabledMutex"),CL=oA({argsMap:(tQ,eQ)=>[tQ.getTrackId(),eQ]}),IL=tL(),vL=tL(),yL=tL(),AL=oA({argsMap:tQ=>[tQ.getTrackId()]}),bL=tL(),wL=oA({argsMap:tQ=>[tQ.getTrackId()]}),OL=tL(),NL=oA({argsMap:tQ=>[tQ.getTrackId()]}),DL=oA({argsMap:(tQ,eQ)=>[tQ.getTrackId(),eQ.name]}),PL=oA({argsMap:tQ=>[tQ.getTrackId()]}),CP((LL=class extends bP{get _source(){return this.initWebAudio()}set _source(tQ){this._trackSource=tQ}get processorContext(){return this._processorContext||(this._processorContext=this.initProcessor().processorContext),this._processorContext}get processorDestination(){return this._processorDestination||(this._processorDestination=this.initProcessor().processorDestination),this._processorDestination}get isPlaying(){return this._useAudioElement?eL.isPlaying(this.getTrackId()):this._source.isPlayed}get __className__(){return"LocalAudioTrack"}constructor(tQ,eQ,AQ,iQ){super(tQ,AQ),IP(this,"trackMediaType",aP.AUDIO),IP(this,"_encoderConfig",void 0),IP(this,"_trackSource",void 0),IP(this,"_enabled",!0),IP(this,"_volume",100),IP(this,"_useAudioElement",!0),IP(this,"_bypassWebAudio",!1),IP(this,"processor",void 0),IP(this,"_processorContext",void 0),IP(this,"_processorDestination",void 0),IP(this,"_getOriginVolumeLevel",void 0),this._encoderConfig=eQ,this._getOriginVolumeLevel=!!iQ,this._trackSource=new sL,Dy("DISABLE_WEBAUDIO")&&(this._bypassWebAudio=!0),Dy("LOCAL_AUDIO_TRACK_USES_WEB_AUDIO")&&(this._useAudioElement=!1),PI()&&!OP?setTimeout(()=>this.initWebAudio()):this.initWebAudio()}setVolume(tQ){av(tQ,"volume",0,1e3),this._volume=tQ,this._source.setVolume(tQ/100),this._useAudioElement&&eL.setVolume(this.getTrackId(),tQ);try{if(this._bypassWebAudio)return void Qy.debug("[".concat(this.getTrackId(),"] setVolume returned because no pass through WebAudio."));const eQ=this._source.createOutputTrack();this._mediaStreamTrack!==eQ&&(this._mediaStreamTrack=eQ,Mv(this,$D.NEED_REPLACE_TRACK,this).then(()=>{Qy.debug("[".concat(this.getTrackId(),"] replace web audio track success"))}).catch(AQ=>{Qy.warning("[".concat(this.getTrackId(),"] replace web audio track failed"),AQ)}))}catch{}}getVolumeLevel(){return this._muted&&this.enabled&&this._getOriginVolumeLevel?this._source.getOriginVolumeLevel():this._source.getAccurateVolumeLevel()}async setPlaybackDevice(tQ){if(!this._useAudioElement||!UD())throw new rv(nv.NOT_SUPPORTED,"your browser does not support setting the audio output device");await eL.setSinkID(this.getTrackId(),tQ)}async setEnabled(tQ,eQ,AQ){return this._setEnabled(tQ,eQ,AQ)}async _setEnabled(tQ,eQ,AQ){if(!AQ){if(tQ===this._enabled)return;this.stateCheck("enabled",tQ)}if(Qy.info("[".concat(this.getTrackId(),"] start setEnabled"),tQ),tQ){this._originMediaStreamTrack.enabled=!0;try{AQ||(this._enabled=!0),await Mv(this,$D.NEED_ENABLE_TRACK,this),Qy.info("[".concat(this.getTrackId(),"] setEnabled to ").concat(tQ," success"))}catch(iQ){throw AQ||(this._enabled=!1),Qy.error("[".concat(this.getTrackId(),"] setEnabled to true error"),iQ.toString()),iQ}}else{this._originMediaStreamTrack.enabled=!1,AQ||(this._enabled=!1);try{await Mv(this,$D.NEED_DISABLE_TRACK,this)}catch(iQ){throw AQ||(this._enabled=!0),Qy.error("[".concat(this.getTrackId(),"] setEnabled to false error"),iQ.toString()),iQ}}}async setMuted(tQ){tQ!==this._muted&&(this.stateCheck("muted",tQ),this._muted=tQ,this._originMediaStreamTrack.enabled=!tQ,Qy.debug("[".concat(this.getTrackId(),"] start set muted: ").concat(tQ)),tQ?await Mv(this,$D.NEED_MUTE_TRACK,this):await Mv(this,$D.NEED_UNMUTE_TRACK,this))}getStats(){return Kv(()=>{Qy.warning("[deprecated] LocalAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalAudioStats instead")},"localAudioTrackGetStatsWarning"),Uv(this,$D.GET_STATS)||yP({},dP)}setAudioFrameCallback(tQ){let eQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4096;if(!tQ)return this._source.removeAllListeners(cP.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(eQ),this._source.removeAllListeners(cP.ON_AUDIO_BUFFER),this._source.on(cP.ON_AUDIO_BUFFER,AQ=>tQ(AQ))}play(){Qy.debug("[".concat(this.getTrackId(),"] start audio playback")),this._useAudioElement?(Qy.debug("[".concat(this.getTrackId(),"] start audio playback in element")),eL.play(this._mediaStreamTrack,this.getTrackId(),this._volume)):this._source.play()}stop(){Qy.debug("[".concat(this.getTrackId(),"] stop audio playback")),this._useAudioElement?eL.stop(this.getTrackId()):this._source.stop()}close(){super.close(),this._processorDestination&&this.unbindProcessorDestinationEvents(this._processorDestination),this._processorContext&&this.unbindProcessorContextEvents(this._processorContext),this.unpipe(),this._processorDestination&&this._processorDestination._source&&this._processorDestination._source.unpipe(),this._source.destroy()}_updatePlayerSource(){let tQ=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];Qy.debug("[".concat(this.getTrackId(),"] update player source track")),tQ&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&eL.updateTrack(this.getTrackId(),this._mediaStreamTrack)}async _updateOriginMediaStreamTrack(tQ,eQ){this._originMediaStreamTrack!==tQ&&(this._originMediaStreamTrack&&(this._originMediaStreamTrack.removeEventListener("ended",this._handleTrackEnded),eQ&&this._originMediaStreamTrack.stop()),tQ.addEventListener("ended",this._handleTrackEnded),this._originMediaStreamTrack=tQ,this._muted&&(this._originMediaStreamTrack.enabled=!1),this.processor&&this._processorContext&&this.processor.updateInput({track:tQ,context:this._processorContext}),this._mediaStreamTrack!==this._source.outputTrack?(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await Mv(this,$D.NEED_REPLACE_TRACK,this)):this._source.updateTrack(this._originMediaStreamTrack),this._getOriginVolumeLevel&&this._source.updateOriginTrack(tQ))}renewMediaStreamTrack(tQ){return Gh.resolve(void 0)}pipe(tQ){if(this._bypassWebAudio)throw new rv(nv.INVALID_OPERATION,"Can not process AudioTrack when bypassWebAudio set to true.");if(this.processor===tQ)return tQ;if(tQ._source)throw new rv(nv.INVALID_OPERATION,"Processor ".concat(tQ.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=tQ,this.processor._source=this,tQ.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),tQ}unpipe(){var tQ;if(!this.processor)return;const eQ=this.processor;(tQ=this._source.processSourceNode)===null||tQ===void 0||tQ.disconnect(),this.processor._source=!1,this.processor=void 0,eQ.reset()}bindProcessorDestinationEvents(tQ){tQ.on(_P.ON_TRACK,async eQ=>{eQ?eQ!==this._mediaStreamTrack&&(this._mediaStreamTrack=eQ,this._updatePlayerSource(!1),this._source.processedNode=this._source.createMediaStreamSourceNode(eQ),await Mv(this,$D.NEED_REPLACE_TRACK,this)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await Mv(this,$D.NEED_REPLACE_TRACK,this))}),tQ.on(_P.ON_NODE,eQ=>{this._source.processedNode=eQ})}unbindProcessorDestinationEvents(tQ){tQ.removeAllListeners(_P.ON_TRACK),tQ.removeAllListeners(_P.ON_NODE)}bindProcessorContextEvents(tQ){tQ.on(EP.REQUEST_CONSTRAINTS,async eQ=>{eQ(this._originMediaStreamTrack.getSettings())})}unbindProcessorContextEvents(tQ){tQ.removeAllListeners(EP.REQUEST_CONSTRAINTS)}initWebAudio(){return this._trackSource instanceof sL&&(this._trackSource=new xP(this._mediaStreamTrack,!1,this._getOriginVolumeLevel?this._mediaStreamTrack:void 0)),this._trackSource}initProcessor(){const tQ=new oL(this._source.context,this.getTrackId(),"local"),eQ=new rL(tQ);return this._processorContext=tQ,this._processorDestination=eQ,this.bindProcessorContextEvents(tQ),this.bindProcessorDestinationEvents(eQ),this._source.on(cP.UPDATE_SOURCE,()=>{this.processor&&this.processor.updateInput({node:this._source.processSourceNode,context:tQ})}),this._useAudioElement&&(this._useAudioElement=!1,this.isPlaying&&(eL.stop(this.getTrackId()),this._source.play()),Mv(this,$D.NEED_REPLACE_MIXING_TRACK,this).then(()=>{Qy.debug("[".concat(this.getTrackId(),"] replace from origin track to web audio track success"))}).catch(AQ=>{Qy.warning("[".concat(this.getTrackId(),"] replace from origin track to web audio track failed"),AQ)})),{processorContext:tQ,processorDestination:eQ}}}).prototype,"setVolume",[EL],Object.getOwnPropertyDescriptor(LL.prototype,"setVolume"),LL.prototype),CP(LL.prototype,"setPlaybackDevice",[mL,fL],Object.getOwnPropertyDescriptor(LL.prototype,"setPlaybackDevice"),LL.prototype),CP(LL.prototype,"setEnabled",[TL,SL,gL],Object.getOwnPropertyDescriptor(LL.prototype,"setEnabled"),LL.prototype),CP(LL.prototype,"setMuted",[RL,CL,IL],Object.getOwnPropertyDescriptor(LL.prototype,"setMuted"),LL.prototype),CP(LL.prototype,"getStats",[vL],Object.getOwnPropertyDescriptor(LL.prototype,"getStats"),LL.prototype),CP(LL.prototype,"setAudioFrameCallback",[yL],Object.getOwnPropertyDescriptor(LL.prototype,"setAudioFrameCallback"),LL.prototype),CP(LL.prototype,"play",[AL,bL],Object.getOwnPropertyDescriptor(LL.prototype,"play"),LL.prototype),CP(LL.prototype,"stop",[wL,OL],Object.getOwnPropertyDescriptor(LL.prototype,"stop"),LL.prototype),CP(LL.prototype,"close",[NL],Object.getOwnPropertyDescriptor(LL.prototype,"close"),LL.prototype),CP(LL.prototype,"pipe",[DL],Object.getOwnPropertyDescriptor(LL.prototype,"pipe"),LL.prototype),CP(LL.prototype,"unpipe",[PL],Object.getOwnPropertyDescriptor(LL.prototype,"unpipe"),LL.prototype),LL),ik=(kL=oA({argsMap:(tQ,eQ)=>[tQ.getTrackId(),eQ]}),ML=tL(),UL=py("MicrophoneAudioTrack","_enabledMutex"),xL=oA({argsMap:(tQ,eQ,AQ)=>[tQ.getTrackId(),eQ,AQ]}),VL=tL(),FL=oA({argsMap:tQ=>[tQ.getTrackId()]}),CP((BL=class extends tk{get __className__(){return"MicrophoneAudioTrack"}constructor(tQ,eQ,AQ,iQ){super(tQ,eQ.encoderConfig?XD(eQ.encoderConfig):{},iQ,Dy("GET_VOLUME_OF_MUTED_AUDIO_TRACK")),IP(this,"_config",void 0),IP(this,"_deviceName","default"),IP(this,"_constraints",void 0),IP(this,"_originalConstraints",void 0),IP(this,"_enabled",!0),this._config=eQ,this._constraints=AQ,this._originalConstraints=AQ,this._deviceName=tQ.label,typeof eQ.bypassWebAudio=="boolean"&&(this._bypassWebAudio=eQ.bypassWebAudio),(HI()||KI())&&NP.bindInterruptDetectorTrack(this)}async setDevice(tQ){if(Qy.info("[".concat(this.getTrackId(),"] start set device to ").concat(tQ)),this._enabled)try{const eQ=await zP.getDeviceById(tQ),AQ={};AQ.audio=yP({},this._constraints),AQ.audio.deviceId={exact:tQ},this._originMediaStreamTrack.stop();let iQ=null;try{iQ=await HP(AQ,this.getTrackId())}catch(oQ){throw Qy.error("[".concat(this.getTrackId(),"] setDevice failed"),oQ.toString()),iQ=await HP({audio:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(iQ.getAudioTracks()[0],!1),oQ}await this._updateOriginMediaStreamTrack(iQ.getAudioTracks()[0],!1),this._deviceName=eQ.label,this._config.microphoneId=tQ,this._constraints.deviceId={exact:tQ}}catch(eQ){throw Qy.error("[".concat(this.getTrackId(),"] setDevice error"),eQ.toString()),eQ}else try{const eQ=await zP.getDeviceById(tQ);this._deviceName=eQ.label,this._config.microphoneId=tQ,this._constraints.deviceId={exact:tQ}}catch(eQ){throw Qy.error("[".concat(this.getTrackId(),"] setDevice error"),eQ.toString()),eQ}Qy.info("[".concat(this.getTrackId(),"] set device to ").concat(tQ," success"))}async setEnabled(tQ,eQ,AQ){if(eQ)return Qy.debug("[".concat(this.getTrackId(),"] setEnabled false (do not close microphone)")),await super._setEnabled(tQ);if(!AQ){if(tQ===this._enabled)return;this.stateCheck("enabled",tQ)}if(Qy.info("[".concat(this.getTrackId(),"] start setEnabled"),tQ),Dy("AUTO_RESET_AUDIO_ROUTE")&&(MI()||qI())){const nQ=navigator.audioSession;nQ&&(tQ||(nQ.type="playback"),nQ.type="auto")}if(!tQ){var iQ;this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop(),(iQ=this._source.clonedTrack)===null||iQ===void 0||iQ.stop(),AQ||(this._enabled=!1);try{await Mv(this,$D.NEED_DISABLE_TRACK,this)}catch(nQ){throw Qy.error("[".concat(this.getTrackId(),"] setEnabled false failed"),nQ.toString()),nQ}return}const oQ=yP({},this._constraints),rQ=zP.searchDeviceIdByName(this._deviceName);rQ&&!oQ.deviceId&&(oQ.deviceId=rQ);try{AQ||(this._enabled=!0);const nQ=await HP({audio:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(nQ.getAudioTracks()[0],!1),await Mv(this,$D.NEED_ENABLE_TRACK,this)}catch(nQ){throw AQ||(this._enabled=!1),Qy.error("[".concat(this.getTrackId(),"] setEnabled true failed"),nQ.toString()),nQ}Qy.info("[".concat(this.getTrackId(),"] setEnabled success"))}close(){super.close(),(HI()||KI())&&NP.unbindInterruptDetectorTrack(this)}onTrackEnded(){if((MI()||qI())&&this._enabled&&!this._isClosed&&NP.duringInterruption){const tQ=async()=>{NP.off(VD.IOS_INTERRUPTION_END,tQ),this._enabled&&!this._isClosed&&(Qy.debug("[".concat(this.getTrackId(),"] try capture microphone media device for interrupted iOS device.")),await this.setEnabled(!1),await this.setEnabled(!0))};NP.on(VD.IOS_INTERRUPTION_END,tQ)}else Qy.debug("[".concat(this.getTrackId(),"] track ended")),this.safeEmit(oP.TRACK_ENDED)}async renewMediaStreamTrack(tQ){const eQ=tQ||this._constraints,AQ=zP.searchDeviceIdByName(this._deviceName);if(AQ&&!eQ.deviceId&&(eQ.deviceId=AQ),this._constraints=eQ,this._enabled){this._originMediaStreamTrack.stop();const iQ=await HP({audio:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(iQ.getAudioTracks()[0],!0)}}bindProcessorContextEvents(tQ){super.bindProcessorContextEvents(tQ),tQ.on(EP.REQUEST_UPDATE_CONSTRAINTS,async(eQ,AQ,iQ)=>{try{const oQ=Object.assign({},this._originalConstraints,...eQ);await this.renewMediaStreamTrack(oQ),AQ()}catch(oQ){iQ(oQ)}})}unbindProcessorContextEvents(tQ){super.unbindProcessorContextEvents(tQ),tQ.removeAllListeners(EP.REQUEST_UPDATE_CONSTRAINTS)}}).prototype,"setDevice",[kL,ML],Object.getOwnPropertyDescriptor(BL.prototype,"setDevice"),BL.prototype),CP(BL.prototype,"setEnabled",[UL,xL,VL],Object.getOwnPropertyDescriptor(BL.prototype,"setEnabled"),BL.prototype),CP(BL.prototype,"close",[FL],Object.getOwnPropertyDescriptor(BL.prototype,"close"),BL.prototype),BL),nk=(jL=oA({argsMap:(tQ,eQ)=>[tQ.getTrackId(),eQ,tQ.duration]}),GL=tL(),WL=oA({argsMap:tQ=>[tQ.getTrackId()]}),HL=tL(),KL=oA({argsMap:tQ=>[tQ.getTrackId()]}),YL=tL(),qL=oA({argsMap:tQ=>[tQ.getTrackId()]}),zL=tL(),JL=oA({argsMap:tQ=>[tQ.getTrackId()]}),XL=tL(),QL=oA({argsMap:tQ=>[tQ.getTrackId()]}),ZL=oA({argsMap:tQ=>[tQ.getTrackId()]}),$L=tL(),CP((ek=class extends tk{get __className__(){return"BufferSourceAudioTrack"}constructor(tQ,eQ,AQ,iQ){super(eQ.createOutputTrack(),AQ,iQ),IP(this,"source",void 0),IP(this,"_bufferSource",void 0),this._useAudioElement=!1,this.source=tQ,this._bufferSource=eQ,this._bufferSource.on(cP.AUDIO_SOURCE_STATE_CHANGE,oQ=>{this.safeEmit(oP.SOURCE_STATE_CHANGE,oQ)});try{this._mediaStreamTrack=this._source.createOutputTrack()}catch{}}get currentState(){return this._bufferSource.currentState}get duration(){return this._bufferSource.duration}get playbackSpeed(){return this._bufferSource.playbackSpeed}getCurrentTime(){return this._bufferSource.currentTime}startProcessAudioBuffer(tQ){tQ&&this._bufferSource.updateOptions(tQ),this._bufferSource.startProcessAudioBuffer()}pauseProcessAudioBuffer(){this._bufferSource.pauseProcessAudioBuffer()}seekAudioBuffer(tQ){this._bufferSource.seekAudioBuffer(tQ)}resumeProcessAudioBuffer(){this._bufferSource.resumeProcessAudioBuffer()}stopProcessAudioBuffer(){this._bufferSource.stopProcessAudioBuffer()}close(){this.source=null,this._bufferSource.destroy(),super.close()}setAudioBufferPlaybackSpeed(tQ){av(tQ,"speed",0),this._bufferSource.setAudioBufferPlaybackSpeed(tQ)}}).prototype,"startProcessAudioBuffer",[jL,GL],Object.getOwnPropertyDescriptor(ek.prototype,"startProcessAudioBuffer"),ek.prototype),CP(ek.prototype,"pauseProcessAudioBuffer",[WL,HL],Object.getOwnPropertyDescriptor(ek.prototype,"pauseProcessAudioBuffer"),ek.prototype),CP(ek.prototype,"seekAudioBuffer",[KL,YL],Object.getOwnPropertyDescriptor(ek.prototype,"seekAudioBuffer"),ek.prototype),CP(ek.prototype,"resumeProcessAudioBuffer",[qL,zL],Object.getOwnPropertyDescriptor(ek.prototype,"resumeProcessAudioBuffer"),ek.prototype),CP(ek.prototype,"stopProcessAudioBuffer",[JL,XL],Object.getOwnPropertyDescriptor(ek.prototype,"stopProcessAudioBuffer"),ek.prototype),CP(ek.prototype,"close",[QL],Object.getOwnPropertyDescriptor(ek.prototype,"close"),ek.prototype),CP(ek.prototype,"setAudioBufferPlaybackSpeed",[ZL,$L],Object.getOwnPropertyDescriptor(ek.prototype,"setAudioBufferPlaybackSpeed"),ek.prototype),ek);class rk extends tk{get __className__(){return"MixingAudioTrack"}get isActive(){for(const eQ of this.trackList)if(eQ._enabled&&!eQ._isClosed&&!eQ.muted)return!0;return!1}constructor(){const eQ=DP().createMediaStreamDestination();super(eQ.stream.getAudioTracks()[0],void 0,ey(8,"track-mix-")),IP(this,"trackList",void 0),IP(this,"destNode",void 0),this._useAudioElement=!1;try{this._mediaStreamTrack=this._source.createOutputTrack()}catch{}this.destNode=eQ,this.trackList=[]}hasAudioTrack(eQ){return this.trackList.indexOf(eQ)!==-1}addAudioTrack(eQ){this.trackList.indexOf(eQ)===-1?(Qy.debug("add ".concat(eQ.getTrackId()," to mixing track")),eQ._source.outputNode.connect(this.destNode),this.trackList.push(eQ),this.updateEncoderConfig()):Qy.debug("track ".concat(eQ.getTrackId()," is already added"))}removeAudioTrack(eQ){if(this.trackList.indexOf(eQ)!==-1){Qy.debug("remove ".concat(eQ.getTrackId()," from mixing track"));try{eQ._source.outputNode.disconnect(this.destNode)}catch{}Fv(this.trackList,eQ),this.updateEncoderConfig()}}updateEncoderConfig(){const eQ={};this.trackList.forEach(AQ=>{AQ._encoderConfig&&((AQ._encoderConfig.bitrate||0)>(eQ.bitrate||0)&&(eQ.bitrate=AQ._encoderConfig.bitrate),(AQ._encoderConfig.sampleRate||0)>(eQ.sampleRate||0)&&(eQ.sampleRate=AQ._encoderConfig.sampleRate),(AQ._encoderConfig.sampleSize||0)>(eQ.sampleSize||0)&&(eQ.sampleSize=AQ._encoderConfig.sampleSize),AQ._encoderConfig.stereo&&(eQ.stereo=!0))}),this._encoderConfig=eQ}_updateRtpTransceiver(eQ){this._rtpTransceiver!==eQ&&(this._rtpTransceiver=eQ,this.trackList.forEach(AQ=>{AQ instanceof rk?AQ.emit(rP.TRANSCEIVER_UPDATED,eQ):AQ._updateRtpTransceiver(eQ)}))}}class ok extends UP{set currentState(eQ){eQ!==this._currentState&&(this._currentState=eQ,this.safeEmit(cP.AUDIO_SOURCE_STATE_CHANGE,this._currentState))}get currentState(){return this._currentState}constructor(eQ){let AQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),IP(this,"audioBuffer",void 0),IP(this,"sourceNode",void 0),IP(this,"startPlayTime",0),IP(this,"startPlayOffset",0),IP(this,"pausePlayTime",0),IP(this,"options",void 0),IP(this,"currentLoopCount",0),IP(this,"currentPlaybackSpeed",100),IP(this,"_currentState","stopped"),this.audioBuffer=eQ,this.options=AQ,this.startPlayOffset=this.options.startPlayTime||0}createWebAudioDiagram(){return this.context.createGain()}get duration(){return this.audioBuffer?this.audioBuffer.duration:0}get playbackSpeed(){return this.currentPlaybackSpeed}get currentTime(){return this.audioBuffer?this.currentState==="stopped"?0:this.currentState==="paused"?this.pausePlayTime:((this.context.currentTime-this.startPlayTime)*(this.playbackSpeed/100)+this.startPlayOffset)%this.audioBuffer.duration:0}updateOptions(eQ){this.currentState==="stopped"?(this.options=eQ,this.startPlayOffset=this.options.startPlayTime||0):Qy.warning("can not set audio source options")}startProcessAudioBuffer(){this.sourceNode&&this.stopProcessAudioBuffer(),this.sourceNode=this.createSourceNode(),this.startSourceNode(),this.currentState="playing"}pauseProcessAudioBuffer(){this.sourceNode&&this.currentState==="playing"&&(this.pausePlayTime=this.currentTime,this.sourceNode.onended=null,this.sourceNode.stop(),this.sourceNode.buffer=null,this.sourceNode=this.createSourceNode(),this.currentState="paused")}seekAudioBuffer(eQ){this.sourceNode&&(this.sourceNode.onended=null,this.currentState==="playing"&&this.sourceNode.stop(),this.sourceNode=this.createSourceNode(),this.currentState==="playing"?(this.startPlayOffset=eQ,this.startSourceNode()):this.currentState==="paused"&&(this.pausePlayTime=eQ))}resumeProcessAudioBuffer(){this.currentState==="paused"&&this.sourceNode&&(this.startPlayOffset=this.pausePlayTime,this.pausePlayTime=0,this.startSourceNode(),this.currentState="playing")}stopProcessAudioBuffer(){if(this.sourceNode){this.sourceNode.onended=null;try{this.sourceNode.stop()}catch{}this.reset()}}destroy(){this.audioBuffer=null,super.destroy()}setAudioBufferPlaybackSpeed(eQ){this.sourceNode&&(this.currentState==="playing"&&(this.startPlayOffset=this.currentTime,this.startPlayTime=this.context.currentTime),this.sourceNode.playbackRate.value=eQ/100),this.currentPlaybackSpeed=eQ}startSourceNode(){this.sourceNode&&this.sourceNode.buffer&&(this.sourceNode.start(0,this.startPlayOffset),this.startPlayTime=this.context.currentTime,this.sourceNode.onended=this.handleSourceNodeEnded.bind(this))}createSourceNode(){const eQ=this.context.createBufferSource();return eQ.buffer=this.audioBuffer,eQ.loop=!!this.options.loop,eQ.connect(this.outputNode),eQ.playbackRate.value=this.currentPlaybackSpeed/100,eQ}handleSourceNodeEnded(){if(this.currentLoopCount+=1,this.options.cycle&&this.options.cycle>this.currentLoopCount)return this.startPlayOffset=0,this.sourceNode=void 0,void this.startProcessAudioBuffer();this.reset()}reset(){this.startPlayOffset=this.options.startPlayTime||0,this.currentState="stopped",this.sourceNode&&(this.sourceNode.disconnect(),this.sourceNode=void 0),this.currentLoopCount=0}}const sk=new Map;class ak{get rendFrameRate(){if(this.renderStats&&this.renderStats.curTs!==this.renderStats.lastTs){const eQ=this.renderStats.curTs-this.renderStats.lastTs,AQ=(this.renderStats.renderNum-this.renderStats.lastRenderNum)/eQ;return this.renderStats.lastRenderNum=this.renderStats.renderNum,this.renderStats.lastTs=this.renderStats.curTs,AQ}return 0}get videoElementStatus(){return this._videoElementStatus}set videoElementStatus(eQ){eQ!==this._videoElementStatus&&(Qy.debug("[".concat(this.trackId,"] video-element-status change ").concat(this._videoElementStatus," => ").concat(eQ)),this._videoElementStatus=eQ)}get videoState(){return this._videoState}set videoState(eQ){var AQ;eQ!==this._videoState&&(this._videoState=eQ,(AQ=this.onVideoStateChanged)===null||AQ===void 0||AQ.call(this,this.videoState))}constructor(eQ){IP(this,"trackId",void 0),IP(this,"config",void 0),IP(this,"onFirstVideoFrameDecoded",void 0),IP(this,"onVideoStateChanged",void 0),IP(this,"freezeTimeCounterList",[]),IP(this,"renderFreezeAccTime",0),IP(this,"isKeepLastFrame",!1),IP(this,"timeUpdatedCount",0),IP(this,"freezeTime",0),IP(this,"playbackTime",0),IP(this,"lastTimeUpdatedTime",0),IP(this,"autoplayFailed",!1),IP(this,"videoTrack",void 0),IP(this,"videoElement",void 0),IP(this,"cacheVideoElement",void 0),IP(this,"renderStats",void 0),IP(this,"_videoState",SP.VideoStateStopped),IP(this,"videoElementCheckInterval",void 0),IP(this,"videoElementFreezeTimeout",void 0),IP(this,"_videoElementStatus",TP.NONE),IP(this,"isGettingVideoDimensions",!1),IP(this,"startGetVideoDimensions",()=>{const AQ=()=>{if(this.isGettingVideoDimensions=!0,this.videoElement.videoWidth*this.videoElement.videoHeight>4)return Qy.debug("[".concat(this.trackId,"] current video dimensions:"),this.videoElement.videoWidth,this.videoElement.videoHeight),void(this.isGettingVideoDimensions=!1);setTimeout(AQ,500)};!this.isGettingVideoDimensions&&AQ()}),IP(this,"autoResumeAfterInterruption",()=>{this.videoTrack&&this.videoTrack.readyState==="live"&&NP.curState==="running"&&(Qy.debug("[track-".concat(this.trackId,"] video element paused, auto resume for ").concat(OI())),YI()?(this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):(this.videoElement.pause(),this.videoElement.play()))}),IP(this,"handleVideoEvents",AQ=>{switch(AQ.type){case"play":case"playing":this.startGetVideoDimensions(),this.videoElementStatus=TP.PLAYING;break;case"loadeddata":if(this.videoState=SP.VideoStateStarting,this.onFirstVideoFrameDecoded&&this.onFirstVideoFrameDecoded(),this.cacheVideoElement){try{this.cacheVideoElement.srcObject=null,this.cacheVideoElement.remove()}catch{}this.cacheVideoElement=void 0}break;case"canplay":this.videoElementStatus=TP.CANPLAY;break;case"stalled":this.videoElementStatus=TP.STALLED;break;case"suspend":this.videoElementStatus=TP.SUSPEND;break;case"pause":this.videoElementStatus=TP.PAUSED,MI()||qI()||PI()&&this.autoplayFailed||!this.videoTrack||this.videoTrack.readyState!=="live"||(Qy.debug("[track-".concat(this.trackId,"] video element paused, auto resume")),this.videoElement.play());break;case"waiting":this.videoElementStatus=TP.WAITING;break;case"abort":this.videoElementStatus=TP.ABORT;break;case"ended":this.videoElementStatus=TP.ENDED;break;case"emptied":this.videoElementStatus=TP.EMPTIED;break;case"error":{const iQ=this.videoElement.error;iQ?(this.videoElementStatus=TP.ERROR,Qy.error("[".concat(this.trackId,"] media error: ").concat(iQ.message," (").concat(iQ.code,")"))):Qy.debug("[".concat(this.trackId,"] media not been an error."));break}case"timeupdate":{const iQ=performance.now();if(this.timeUpdatedCount+=1,this.timeUpdatedCount<10)return void(this.lastTimeUpdatedTime=iQ);const oQ=iQ-this.lastTimeUpdatedTime,rQ=this.lastTimeUpdatedTime;if(this.lastTimeUpdatedTime=iQ,cM.lastVisibleTime<cM.lastHiddenTime||rQ<cM.lastHiddenTime||rQ<cM.lastVisibleTime)return;for(oQ>Dy("VIDEO_FREEZE_DURATION")&&(this.freezeTime+=oQ),this.playbackTime+=oQ;this.playbackTime>=6e3;){this.playbackTime-=6e3;const nQ=Math.min(6e3,this.freezeTime);this.freezeTimeCounterList.push(nQ),this.freezeTime=Math.max(0,this.freezeTime-6e3)}break}}}),IP(this,"autoResumeAfterInterruptionOnIOS15_16",()=>{this.videoTrack&&this.videoTrack.readyState==="live"&&(Qy.debug("[track-".concat(this.trackId,"] video element paused, auto resume for ").concat(OI())),YI()?(this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):(this.videoElement.pause(),this.videoElement.play()))}),this.trackId=eQ.trackId,this.config=eQ,eQ.element instanceof HTMLVideoElement?this.videoElement=eQ.element:this.videoElement=document.createElement("video"),NP.on(VD.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),NP.on(VD.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16)}getVideoElement(){return this.videoElement}getContainerElement(){var eQ;return(eQ=this.videoElement.parentElement)!==null&&eQ!==void 0?eQ:void 0}updateConfig(eQ){this.config=eQ,this.trackId=eQ.trackId,eQ.element!==this.videoElement&&(this.destroy(),this.videoElement=eQ.element),this.videoTrack&&this.initVideoElement()}updateVideoTrack(eQ){this.videoTrack!==eQ&&(this.videoTrack=eQ,this.initVideoElement())}play(eQ){const AQ=this.videoElement.play();AQ&&AQ.catch&&AQ.catch(oQ=>{eQ&&ZP(eQ,"video",oQ.message,this.trackId),oQ.name==="NotAllowedError"?(Qy.warning("detected video element autoplay failed",oQ),this.autoplayFailed=!0,this.handleAutoPlayFailed()):Qy.warning("[".concat(this.trackId,"] play warning: "),oQ)});const iQ=AI();if((iQ.name==="Safari"&&Number(iQ.version)===15||HI())&&AQ&&AQ.then){const oQ=()=>{this.config.mirror&&(this.videoElement.style.transform="rotateY(180deg)")};AQ.then(oQ).catch(oQ)}}getCurrentFrame(){const eQ=document.createElement("canvas");eQ.width=this.videoElement.videoWidth,eQ.height=this.videoElement.videoHeight;const AQ=eQ.getContext("2d");if(!AQ)return Qy.error("create canvas context failed!"),new ImageData(2,2);AQ.drawImage(this.videoElement,0,0,eQ.width,eQ.height);const iQ=AQ.getImageData(0,0,eQ.width,eQ.height);return eQ.remove(),iQ}async getCurrentFrameToUint8Array(eQ){let AQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const iQ=document.createElement("canvas");iQ.width=this.videoElement.videoWidth,iQ.height=this.videoElement.videoHeight;const oQ=iQ.getContext("2d");return oQ?(oQ.drawImage(this.videoElement,0,0,iQ.width,iQ.height),new Gh((rQ,nQ)=>{iQ.toBlob(async sQ=>{if(iQ.remove(),sQ){const aQ=await _L(sQ);rQ({buffer:aQ,width:iQ.width,height:iQ.height})}else nQ(new rv(nv.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED))},eQ,AQ<0?.1:AQ>1?1:AQ)})):await pL(eQ)}destroy(){this.renderStats=void 0,NP.off(VD.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),NP.off(VD.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16),this.videoElement.srcObject=null,this.resetVideoElement(),this.freezeTimeCounterList=[],this.videoState=SP.VideoStateStopped}initVideoElement(){if(this.videoElementStatus=TP.INIT,!this.videoElementCheckInterval&&(ck.forEach(rQ=>{this.videoElement.addEventListener(rQ,this.handleVideoEvents)}),this.videoElementCheckInterval=window.setInterval(()=>{(function(rQ){return rQ!==document.body&&document.body.contains(rQ)})(this.videoElement)||(this.videoElementStatus=TP.DESTROYED)},1e3),Dy("ENABLE_VIDEO_FRAME_CALLBACK"))){var eQ,AQ;let rQ;const nQ=()=>{document.visibilityState==="visible"&&(document.removeEventListener("visibilitychange",nQ),this.videoElementFreezeTimeout=window.setTimeout(sQ,Dy("VIDEO_FREEZE_DURATION")))},sQ=()=>{this.videoElementFreezeTimeout=void 0,this.videoState===SP.VideoStateDecoding&&(document.visibilityState==="visible"?this.videoState=SP.VideoStateFrozen:document.addEventListener("visibilitychange",nQ))},aQ=(cQ,gQ)=>{if(this.videoElementStatus===TP.PLAYING){if(this.renderStats?(this.renderStats.renderNum++,this.renderStats.curTs=gQ.mediaTime):this.renderStats={lastTs:gQ.mediaTime,curTs:gQ.mediaTime,lastRenderNum:0,renderNum:0},rQ){const CQ=gQ.presentationTime-rQ.presentationTime;this.videoState===SP.VideoStateStarting&&(this.videoState=SP.VideoStateDecoding),this.videoState===SP.VideoStateDecoding&&this.onVideoStateChanged&&(this.videoElementFreezeTimeout&&window.clearTimeout(this.videoElementFreezeTimeout),this.videoElementFreezeTimeout=window.setTimeout(sQ,Dy("VIDEO_FREEZE_DURATION"))),CQ<Dy("VIDEO_FREEZE_DURATION")&&this.videoState===SP.VideoStateFrozen&&(this.videoState=SP.VideoStateDecoding),CQ>Dy("VIDEO_FREEZE_DURATION")&&cM.lastVisibleTime>=cM.lastHiddenTime&&rQ.timestamp>cM.lastVisibleTime&&rQ.timestamp>cM.lastHiddenTime&&(this.renderFreezeAccTime+=CQ)}rQ=yP(yP({},gQ),{},{timestamp:cQ})}var IQ,EQ;Dy("ENABLE_VIDEO_FRAME_CALLBACK")&&((IQ=(EQ=this.videoElement).requestVideoFrameCallback)===null||IQ===void 0||IQ.call(EQ,aQ))};(eQ=(AQ=this.videoElement).requestVideoFrameCallback)===null||eQ===void 0||eQ.call(AQ,aQ)}this.videoElement.controls=!1,this.videoElement.setAttribute("playsinline",""),ZI()&&!Dy("HIDE_NO_POSTER")&&(this.videoElement.poster="noposter");const iQ=AI();iQ.name==="Safari"&&Number(iQ.version)===15||HI()||!this.config.mirror||(this.videoElement.style.transform="rotateY(180deg)"),this.config.fit?this.videoElement.style.objectFit=this.config.fit:this.videoElement.style.objectFit="cover",this.videoElement.setAttribute("muted",""),this.videoElement.muted=!0,this.videoElement.srcObject&&this.videoElement.srcObject instanceof MediaStream?this.videoElement.srcObject.getVideoTracks()[0]!==this.videoTrack&&(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,kI()&&this.videoElement.load()):(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,kI()&&this.videoElement.load());const oQ=this.videoElement.play();oQ!==void 0&&oQ.catch(rQ=>{Qy.debug("[".concat(this.trackId,"] playback interrupted"),rQ.toString())})}resetVideoElement(){ck.forEach(eQ=>{this.videoElement&&this.videoElement.removeEventListener(eQ,this.handleVideoEvents)}),this.videoElementCheckInterval&&(window.clearInterval(this.videoElementCheckInterval),this.videoElementCheckInterval=void 0),this.videoElementStatus=TP.NONE}handleAutoPlayFailed(){const eQ=AQ=>{AQ.preventDefault(),this.videoElement.play().then(()=>{Qy.debug("[".concat(this.trackId,"] Video element for trackId:").concat(this.trackId," autoplay resumed."))}).catch(iQ=>{Qy.error(iQ)}),this.autoplayFailed=!1,$I()?document.body.removeEventListener("click",eQ,!0):(document.body.removeEventListener("touchstart",eQ,!0),document.body.removeEventListener("mousedown",eQ,!0))};$I()?document.body.addEventListener("click",eQ,!0):(document.body.addEventListener("touchstart",eQ,!0),document.body.addEventListener("mousedown",eQ,!0)),QP()}}const ck=["play","playing","loadeddata","canplay","pause","stalled","suspend","waiting","abort","emptied","ended","timeupdate","error"];class dk extends ak{constructor(eQ){super(eQ),IP(this,"container",void 0),IP(this,"slot",void 0),this.slot=eQ.element,this.updateConfig(eQ)}updateConfig(eQ){this.config=eQ,this.trackId=eQ.trackId;const AQ=eQ.element;AQ!==this.slot&&(this.destroy(),this.slot=AQ),this.createElements()}updateVideoTrack(eQ){this.videoTrack!==eQ&&(this.videoTrack=eQ,this.createElements())}play(eQ){var AQ;(AQ=this.container)!==null&&AQ!==void 0&&AQ.contains(this.videoElement)&&super.play(eQ)}getCurrentFrame(){var eQ;return(eQ=this.container)!==null&&eQ!==void 0&&eQ.contains(this.videoElement)?super.getCurrentFrame():new ImageData(2,2)}async getCurrentFrameToUint8Array(eQ){var AQ;let iQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return(AQ=this.container)!==null&&AQ!==void 0&&AQ.contains(this.videoElement)?await super.getCurrentFrameToUint8Array(eQ,iQ):await pL(eQ)}destroy(){if(super.destroy(),this.videoElement.remove(),this.videoElement=document.createElement("video"),this.container){try{this.container.remove(),this.slot.removeChild(this.container)}catch{}this.container=void 0}}createElements(){this.container||(this.container=document.createElement("div")),this.container.id="agora-video-player-".concat(this.trackId),this.container.style.width="100%",this.container.style.height="100%",this.container.style.position="relative",this.container.style.overflow="hidden",this.videoTrack?(this.container.style.backgroundColor="black",Dy("KEEP_LAST_FRAME")&&this.isKeepLastFrame&&this.videoElement.paused&&this.resetVideoElement(),this.mountedVideoElement()):this.unmountedVideoElement(),this.slot.appendChild(this.container)}mountedVideoElement(){var eQ;!this.container||(eQ=this.container)!==null&&eQ!==void 0&&eQ.contains(this.videoElement)||this.container.appendChild(this.videoElement),super.initVideoElement(),this.videoElement.id="video_".concat(this.trackId),this.videoElement.className="agora_video_player",this.videoElement.style.width="100%",this.videoElement.style.height="100%",this.videoElement.style.position="absolute",this.videoElement.style.left="0",this.videoElement.style.top="0"}unmountedVideoElement(){var eQ;if((eQ=this.container)!==null&&eQ!==void 0&&eQ.contains(this.videoElement)){super.resetVideoElement();try{this.container&&this.container.removeChild(this.videoElement)}catch{}this.videoElement=document.createElement("video")}}resetVideoElement(){var eQ;(eQ=this.container)!==null&&eQ!==void 0&&eQ.contains(this.videoElement)&&(super.resetVideoElement(),this.cacheVideoElement=this.videoElement,this.videoElement=document.createElement("video"))}getContainerElement(){return this.container}}var lk,uk,hk,pk,_k,Ek,mk,fk,Tk,Sk,gk,Rk,Ck,Ik,vk,yk,Ak,bk,wk,Ok,Nk,Dk,Pk,Lk,kk,Mk,Uk,xk,Vk,Fk,Bk,jk,Gk,Wk;let Hk=(lk=oA({argsMap:(tQ,eQ,AQ)=>[tQ.getTrackId(),typeof eQ=="string"?eQ:eQ instanceof HTMLVideoElement?"HTMLVideoElement":"HTMLElement",AQ]}),uk=tL(),hk=oA({argsMap:tQ=>[tQ.getTrackId()]}),pk=py("LocalVideoTrack","_enabledMutex"),_k=oA({argsMap:(tQ,eQ)=>[tQ.getTrackId(),eQ]}),Ek=tL(),mk=py("LocalVideoTrack","_enabledMutex"),fk=oA({argsMap:(tQ,eQ)=>[tQ.getTrackId(),eQ]}),Tk=tL(),Sk=oA({argsMap:(tQ,eQ)=>[tQ.getTrackId(),eQ]}),gk=tL(),Rk=tL(),Ck=oA({argsMap:(tQ,eQ,AQ)=>[tQ.getTrackId(),eQ,AQ]}),Ik=tL(),vk=tL(),yk=tL(),Ak=tL(),bk=tL(),wk=tL(),Ok=tL(),Nk=oA({argsMap:(tQ,eQ)=>[tQ.getTrackId(),eQ.name]}),Dk=oA({argsMap:tQ=>[tQ.getTrackId()]}),Pk=oA({argsMap:tQ=>[tQ.getTrackId()]}),Lk=oA({argsMap:(tQ,eQ,AQ)=>[tQ.getTrackId(),eQ.label,AQ]}),kk=class F0 extends bP{get videoHeight(){if(PI()){const{height:eQ}=this._mediaStreamTrack.getSettings();return this._videoHeight=eQ,this._videoHeight}return this._videoHeight}get videoWidth(){if(PI()){const{width:eQ}=this._mediaStreamTrack.getSettings();return this._videoWidth=eQ,this._videoWidth}return this._videoWidth}get isPlaying(){return!(!this._player||this._player.videoElementStatus!==TP.PLAYING)}get processorDestination(){return this._processorDestination}get processorContext(){return this._processorContext}set processorContext(eQ){this._processorContext=eQ}get __className__(){return"LocalVideoTrack"}constructor(eQ,AQ,iQ,oQ,rQ,nQ){if(super(eQ,rQ),IP(this,"trackMediaType",aP.VIDEO),IP(this,"_player",void 0),IP(this,"isUseScaleResolutionDownBy",!1),IP(this,"_videoVisibleTimer",null),IP(this,"_previousVideoVisibleStatus",void 0),IP(this,"_clearPreviousVideoVisibleStatus",()=>this._previousVideoVisibleStatus=void 0),IP(this,"_encoderConfig",void 0),IP(this,"_scalabilityMode",{numSpatialLayers:1,numTemporalLayers:1}),IP(this,"_optimizationMode",void 0),IP(this,"_videoHeight",void 0),IP(this,"_videoWidth",void 0),IP(this,"_forceBitrateLimit",void 0),IP(this,"_enabled",!0),IP(this,"_processorDestination",void 0),IP(this,"_processorContext",void 0),PI()){const{width:sQ,height:aQ}=eQ.getSettings();this._videoWidth=sQ,this._videoHeight=aQ}else this.updateMediaStreamTrackResolution();if(this._encoderConfig=AQ,this._scalabilityMode=iQ,this._optimizationMode=oQ,this._hints=nQ||[],this._hints.indexOf(eP.SCREEN_TRACK)===-1)this.updateBitrateFromProfile();else if(function(sQ,aQ,cQ){const gQ=AI();return!(gQ.name!==sQ||!gQ.osVersion)&&(cQ?Number(gQ.version)>=aQ&&Number(gQ.version)<=cQ:Number(gQ.version)===aQ)}(CI.CHROME,115)&&wI().indexOf("Windows")!==-1){const sQ=function(aQ,cQ){if("VideoFrame"in window&&"TransformStream"in window&&MD().supportWebRTCInsertableStream){const gQ=new MediaStreamTrackProcessor(aQ),IQ=new MediaStreamTrackGenerator({kind:"video"});let EQ,CQ,dQ=Date.now();const lQ=()=>{uQ&&(clearInterval(uQ),uQ=void 0),EQ&&(EQ.close(),EQ=void 0),aQ.stop(),CQ=void 0,IQ.removeEventListener("ended",lQ)};let uQ=window.setInterval(()=>{if(CQ&&EQ&&Date.now()-dQ>(cQ??1e3))try{IQ.readyState==="live"?CQ.enqueue(EQ.clone()):lQ()}catch{lQ()}},cQ??1e3);const hQ=new TransformStream({transform:(BQ,QQ)=>{IQ.readyState==="live"?(CQ=QQ,dQ=Date.now(),EQ===void 0?(EQ=BQ,QQ.enqueue(BQ.clone())):(QQ.enqueue(EQ),EQ=BQ)):BQ.close()}});return IQ.addEventListener("ended",lQ),gQ.readable.pipeThrough(hQ).pipeTo(IQ.writable),IQ}}(eQ);sQ&&(Qy.info("local screen video track begin to inject frame"),this._mediaStreamTrack=sQ)}AQ&&this._hints.indexOf(eP.CUSTOM_TRACK)!==-1&&this.setEncoderConfiguration(AQ),this._processorContext=new nL(this.getTrackId(),"local"),this._processorDestination=new iL(this.processorContext),this.bindProcessorDestinationEvents()}play(eQ){let AQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof eQ=="string"){const oQ=document.getElementById(eQ);oQ?eQ=oQ:(Qy.warning("[".concat(this.getTrackId(),'] can not find "#').concat(eQ,'" element, use document.body')),eQ=document.body)}Qy.debug("[".concat(this.getTrackId(),"] start video playback in ").concat(eQ instanceof HTMLVideoElement?"HTMLVideoElement":"HTMLElement"),JSON.stringify(AQ));const iQ=yP(yP(yP({},this._getDefaultPlayerConfig()),AQ),{},{trackId:this.getTrackId(),element:eQ});this._player?this._player.updateConfig(iQ):(eQ instanceof HTMLVideoElement?this._player=new ak(iQ):this._player=new dk(iQ),this._player.updateVideoTrack(this._mediaStreamTrack)),this._player.play(),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval(()=>{try{const oQ=this.getVideoElementVisibleStatus();this.safeEmit(oP.VIDEO_ELEMENT_VISIBLE_STATUS,oQ)}catch{}},Dy("CHECK_VIDEO_VISIBLE_INTERVAL"))}stop(){this._player&&(this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,Qy.debug("[".concat(this.getTrackId(),"] stop video playback")))}async setEnabled(eQ,AQ){if(!AQ){if(eQ===this._enabled)return;this.stateCheck("enabled",eQ)}if(Qy.info("[".concat(this.getTrackId(),"] start setEnabled"),eQ),!eQ){this._originMediaStreamTrack.enabled=!1;try{await Mv(this,$D.NEED_DISABLE_TRACK,this)}catch(iQ){throw Qy.error("[".concat(this.getTrackId(),"] setEnabled to false error"),iQ.toString()),iQ}return AQ||(this._enabled=!1),void Qy.info("[".concat(this.getTrackId(),"] setEnabled to false success"))}this._originMediaStreamTrack.enabled=!0;try{await Mv(this,$D.NEED_ENABLE_TRACK,this)}catch(iQ){throw Qy.error("[".concat(this.getTrackId(),"] setEnabled to true error"),iQ.toString()),iQ}Qy.info("[".concat(this.getTrackId(),"] setEnabled to true success")),AQ||(this._enabled=!0)}async setMuted(eQ){eQ!==this._muted&&(this.stateCheck("muted",eQ),this._muted=eQ,this._originMediaStreamTrack.enabled=!eQ,Qy.debug("[".concat(this.getTrackId(),"] start set muted: ").concat(eQ)),eQ?await Mv(this,$D.NEED_MUTE_TRACK,this):await Mv(this,$D.NEED_UNMUTE_TRACK,this))}async setEncoderConfiguration(eQ,AQ){if(!this._enabled)throw new rv(nv.TRACK_IS_DISABLED,"can not set encoder configuration when track is disabled");if(eQ=YD(eQ),this._forceBitrateLimit&&(eQ.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:eQ.bitrateMax,eQ.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:eQ.bitrateMin),eQ.width||eQ.height||eQ.frameRate){const iQ=dL({encoderConfig:eQ});(PI()||MI()||qI())&&(iQ.deviceId=void 0),Qy.debug("[".concat(this.getTrackId(),"] setEncoderConfiguration applyConstraints"),JSON.stringify(eQ),JSON.stringify(iQ));try{await this._originMediaStreamTrack.applyConstraints(iQ),this.updateMediaStreamTrackResolution()}catch(oQ){const rQ=new rv(nv.UNEXPECTED_ERROR,oQ.toString());throw Qy.error("[".concat(this.getTrackId(),"] applyConstraints error"),rQ.toString()),rQ}}this._encoderConfig=eQ,this._hints.indexOf(eP.SCREEN_TRACK)===-1&&this.updateBitrateFromProfile();try{await Mv(this,$D.NEED_UPDATE_VIDEO_ENCODER,this)}catch(iQ){return iQ.throw(Qy)}}getStats(){return Kv(()=>{Qy.warning("[deprecated] LocalVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalVideoStats instead")},"localVideoTrackGetStatsWarning"),Uv(this,$D.GET_STATS)||yP({},lP)}async setBeautyEffect(eQ){Qy.error("LocalVideoTrack.setBeautyEffect was deprecated, please migrate to agora-extension-beauty-effect")}getCurrentFrameData(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}async getCurrentFrameImage(eQ){let AQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this._player?this._player.getCurrentFrameToUint8Array(eQ,AQ):await pL(eQ)}async setBitrateLimit(eQ){if(Qy.debug("[".concat(this.getTrackId(),"] set bitrate limit, ").concat(JSON.stringify(eQ))),eQ){this._forceBitrateLimit=eQ,this._encoderConfig&&(this._encoderConfig.bitrateMax?this._encoderConfig.bitrateMax=this._encoderConfig.bitrateMax<eQ.max_bitrate?this._encoderConfig.bitrateMax:eQ.max_bitrate:this._encoderConfig.bitrateMax=eQ.max_bitrate,this._encoderConfig.bitrateMin,this._encoderConfig.bitrateMin=eQ.min_bitrate);try{await Mv(this,$D.NEED_UPDATE_VIDEO_ENCODER,this)}catch(AQ){return AQ.throw(Qy)}}}async setOptimizationMode(eQ){if(eQ!=="motion"&&eQ!=="detail"&&eQ!=="balanced")return void Qy.error(nv.INVALID_PARAMS,"optimization mode must be motion, detail or balanced");const AQ=this._optimizationMode;try{this._optimizationMode=eQ,await Mv(this,$D.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this)}catch(iQ){throw this._optimizationMode=AQ,Qy.error("[".concat(this.getTrackId(),"] set optimization mode failed"),iQ.toString()),iQ}Qy.info("[".concat(this.getTrackId(),"] set optimization mode success (").concat(eQ,")"))}setScalabiltyMode(eQ){if(eQ.numSpatialLayers===1&&eQ.numTemporalLayers!==1)return Qy.error(nv.INVALID_PARAMS,"scalability mode currently not supported, no SVC."),void(this._scalabilityMode={numSpatialLayers:1,numTemporalLayers:1});this._scalabilityMode=eQ,Qy.info("[".concat(this.getTrackId(),"] set scalability mode success (").concat(eQ,")"))}updateMediaStreamTrackResolution(){cL(this._originMediaStreamTrack).then(eQ=>{let[AQ,iQ]=eQ;this._videoHeight=iQ,this._videoWidth=AQ}).catch(iy)}_updatePlayerSource(){this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}_getDefaultPlayerConfig(){return{fit:"contain"}}async setSenderConfiguration(eQ){if(!this._enabled)throw new rv(nv.TRACK_IS_DISABLED,"can not set encoder configuration when track is disabled");Qy.debug("[".concat(this.getTrackId(),"] setSenderConfiguration applyConstraints"),JSON.stringify(eQ)),eQ=YD(eQ),this._forceBitrateLimit&&(eQ.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:eQ.bitrateMax,eQ.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:eQ.bitrateMin),this._encoderConfig=eQ,this._hints.indexOf(eP.SCREEN_TRACK)===-1&&this.updateBitrateFromProfile();try{await Mv(this,$D.NEED_UPDATE_VIDEO_ENCODER,this)}catch(AQ){return AQ.throw(Qy)}}updateBitrateFromProfile(){if(!this._encoderConfig)return;const{width:eQ,height:AQ,frameRate:iQ}=this.getMediaStreamTrackSettings();if(!eQ||!AQ||!iQ)return;const{bitrateMax:oQ,bitrateMin:rQ}=this._encoderConfig;if(rQ==null||oQ==null){const{max:nQ,min:sQ}=function(aQ,cQ,gQ,IQ,EQ){const CQ=Dy("BITRATE_ADAPTER_TYPE");if(CQ==="DEFAULT_BITRATE")return{min:IQ,max:EQ};if(EQ===void 0){var dQ;const uQ=Math.floor(200*Math.pow(gQ/15,.6)*Math.pow(aQ*cQ/640/360,.75));EQ=CQ==="STANDARD_BITRATE"?4*uQ:2*uQ,IQ=(dQ=IQ)!==null&&dQ!==void 0?dQ:uQ}else{var lQ;IQ=(lQ=IQ)!==null&&lQ!==void 0?lQ:Math.floor(EQ/10)}return{min:IQ,max:EQ}}(eQ,AQ,iQ,rQ,oQ);this._encoderConfig.bitrateMin=sQ,this._encoderConfig.bitrateMax=nQ,Qy.debug("[".concat(this.getTrackId(),"] update bitrate from profile, [w: ").concat(eQ,", h: ").concat(AQ,", fps: ").concat(iQ,"] => [brMax: ").concat(nQ,", brMin: ").concat(sQ,"]"))}}getVideoElementVisibleStatus(){try{var eQ,AQ;const iQ=this==null||(eQ=this._player)===null||eQ===void 0?void 0:eQ.getContainerElement(),oQ={track:this,element:this==null||(AQ=this._player)===null||AQ===void 0?void 0:AQ.getVideoElement(),slot:iQ==null?void 0:iQ.parentElement},{element:rQ,slot:nQ}=oQ;if(this.isPlaying&&rQ instanceof HTMLVideoElement&&nQ instanceof HTMLElement){const sQ=Ev.checkOneElementVisible(rQ),aQ=Object.assign({},sQ);if(aQ.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=aQ.visible;const cQ=sA.reportApiInvoke(null,{tag:Iv.TRACER,name:Cv.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});aQ.visible?cQ.onSuccess("Video is visible"):cQ.onSuccess("Invisible because of ".concat(aQ.reason))}return aQ}return}catch(iQ){throw new rv(nv.GET_VIDEO_ELEMENT_VISIBLE_ERROR,iQ.message)}}async renewMediaStreamTrack(eQ){}pipe(eQ){if(this.processor===eQ)return eQ;if(eQ._source)throw new rv(nv.INVALID_OPERATION,"Processor ".concat(eQ.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=eQ,this.processor._source=this,eQ.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),eQ}unpipe(){if(!this.processor)return;const eQ=this.processor;this.processor._source=void 0,this.processor=void 0,eQ.reset()}close(){super.close(),this.unbindProcessorDestinationEvents(),this.unbindProcessorContextEvents(),this.unpipe(),this.processorDestination._source&&this.processorDestination._source.unpipe()}clone(eQ){let AQ=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],iQ=this._encoderConfig;eQ&&(iQ=yP(yP({},iQ),YD(eQ))),iQ=Wv(iQ);const oQ=ey(8,"track-video-cloned-"),rQ=new F0(AQ?this._mediaStreamTrack.clone():this._mediaStreamTrack,iQ,Wv(this._scalabilityMode),this._optimizationMode,oQ,Wv(this._hints));return eQ&&iQ&&rQ.setEncoderConfiguration(iQ),Qy.debug("clone video track from ".concat(this.getTrackId()," to ").concat(oQ,", clone ").concat(AQ)),rQ}async replaceTrack(eQ,AQ){if(!(eQ instanceof MediaStreamTrack))throw new rv(nv.INVALID_PARAMS,"track should be an instance of MediaStreamTrack");if(eQ.kind!=="video")throw new rv(nv.INVALID_PARAMS,"track should be a video MediaStreamTrack");await this._updateOriginMediaStreamTrack(eQ,AQ,!0),this.updateMediaStreamTrackResolution()}sendSeiData(eQ){if(Kv(()=>{sA.reportApiInvoke(null,{name:Cv.LOCAL_VIDEO_SEND_SEI_DATA,options:[],tag:Iv.TRACER}).onSuccess("")},this._mediaStreamTrack.id||this.getTrackId()),!Dy("ENABLE_VIDEO_SEI")||!Dy("ENABLE_ENCODED_TRANSFORM"))return void Qy.warning('To send/receive SEI, please call AgoraRTC.setParameter("ENABLE_VIDEO_SEI", true) before instantiate IAgoraRtcClient');if(eQ instanceof Uint8Array==0)return new rv(nv.INVALID_PARAMS,"Invalid argument type, ILocalVideoTrack.sendSeiData() only accept Uint8Array argument.").throw();const AQ=this.getRTCRtpTransceiver();if(!AQ)return void Qy.warning("Video track is not published, SEI can not be send");const iQ=AQ.sender.getParameters();if(iQ.codecs.length===0)return;const oQ=iQ.codecs[0].mimeType.toLocaleLowerCase();oQ==="video/h264"?this.safeEmit("sei-to-send",eQ):Qy.warning("SEI is not supported by ".concat(oQ))}bindProcessorDestinationEvents(){this.processorDestination.on(_P.ON_TRACK,async eQ=>{eQ?eQ!==this._mediaStreamTrack&&(this._mediaStreamTrack=eQ,this._updatePlayerSource(),await Mv(this,$D.NEED_REPLACE_TRACK,this)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await Mv(this,$D.NEED_REPLACE_TRACK,this))})}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(_P.ON_TRACK)}unbindProcessorContextEvents(){this.processorContext.removeAllListeners(EP.REQUEST_UPDATE_CONSTRAINTS),this.processorContext.removeAllListeners(EP.REQUEST_CONSTRAINTS)}},CP(kk.prototype,"play",[lk,uk],Object.getOwnPropertyDescriptor(kk.prototype,"play"),kk.prototype),CP(kk.prototype,"stop",[hk],Object.getOwnPropertyDescriptor(kk.prototype,"stop"),kk.prototype),CP(kk.prototype,"setEnabled",[pk,_k,Ek],Object.getOwnPropertyDescriptor(kk.prototype,"setEnabled"),kk.prototype),CP(kk.prototype,"setMuted",[mk,fk,Tk],Object.getOwnPropertyDescriptor(kk.prototype,"setMuted"),kk.prototype),CP(kk.prototype,"setEncoderConfiguration",[Sk,gk],Object.getOwnPropertyDescriptor(kk.prototype,"setEncoderConfiguration"),kk.prototype),CP(kk.prototype,"getStats",[Rk],Object.getOwnPropertyDescriptor(kk.prototype,"getStats"),kk.prototype),CP(kk.prototype,"setBeautyEffect",[Ck,Ik],Object.getOwnPropertyDescriptor(kk.prototype,"setBeautyEffect"),kk.prototype),CP(kk.prototype,"getCurrentFrameData",[vk],Object.getOwnPropertyDescriptor(kk.prototype,"getCurrentFrameData"),kk.prototype),CP(kk.prototype,"getCurrentFrameImage",[yk],Object.getOwnPropertyDescriptor(kk.prototype,"getCurrentFrameImage"),kk.prototype),CP(kk.prototype,"setBitrateLimit",[Ak],Object.getOwnPropertyDescriptor(kk.prototype,"setBitrateLimit"),kk.prototype),CP(kk.prototype,"setOptimizationMode",[bk],Object.getOwnPropertyDescriptor(kk.prototype,"setOptimizationMode"),kk.prototype),CP(kk.prototype,"setScalabiltyMode",[wk],Object.getOwnPropertyDescriptor(kk.prototype,"setScalabiltyMode"),kk.prototype),CP(kk.prototype,"updateMediaStreamTrackResolution",[Ok],Object.getOwnPropertyDescriptor(kk.prototype,"updateMediaStreamTrackResolution"),kk.prototype),CP(kk.prototype,"pipe",[Nk],Object.getOwnPropertyDescriptor(kk.prototype,"pipe"),kk.prototype),CP(kk.prototype,"unpipe",[Dk],Object.getOwnPropertyDescriptor(kk.prototype,"unpipe"),kk.prototype),CP(kk.prototype,"close",[Pk],Object.getOwnPropertyDescriptor(kk.prototype,"close"),kk.prototype),CP(kk.prototype,"replaceTrack",[Lk],Object.getOwnPropertyDescriptor(kk.prototype,"replaceTrack"),kk.prototype),kk),Kk=(Mk=oA({argsMap:(tQ,eQ)=>[tQ.getTrackId(),eQ]}),Uk=tL(),xk=py("CameraVideoTrack","_enabledMutex"),Vk=oA({argsMap:(tQ,eQ)=>[tQ.getTrackId(),eQ]}),Fk=tL(),Bk=oA({argsMap:(tQ,eQ)=>[tQ.getTrackId(),eQ]}),jk=tL(),Gk=oA({argsMap:tQ=>[tQ.getTrackId()]}),Wk=class K0 extends Hk{get __className__(){return"CameraVideoTrack"}constructor(eQ,AQ,iQ,oQ,rQ,nQ){super(eQ,YD(AQ.encoderConfig),oQ,rQ,nQ),IP(this,"_config",void 0),IP(this,"_originalConstraints",void 0),IP(this,"_constraints",void 0),IP(this,"_enabled",!0),IP(this,"_deviceName","default"),IP(this,"tryResumeVideoForIOS15_16WeChat",async()=>{(HI()||KI())&&!function(){const sQ=AI();if(sQ.os!==RI.IOS||!sQ.osVersion)return!1;const aQ=sQ.osVersion.split(".");return Number(aQ[0])===15&&Number(aQ[1])>=2}()&&zI()&&this._enabled&&!this._isClosed&&(Qy.debug("[".concat(this.getTrackId(),"] try capture camera media device for interrupted iOS 15 device on WeChat.")),await this.renewMediaStreamTrack())}),this._config=AQ,this._originalConstraints=iQ,this._constraints=iQ,this._deviceName=eQ.label,this._encoderConfig=YD(this._config.encoderConfig),NP.on(VD.IOS_15_16_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),NP.on(VD.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),this.bindProcessorContextEvents()}async setDevice(eQ){return typeof eQ=="string"?this._setDeviceById(eQ):eQ.deviceId?this._setDeviceById(eQ.deviceId):eQ.facingMode?this._setDeviceByFacingModel(eQ.facingMode):void 0}async _setDeviceById(eQ){if(Qy.info("[".concat(this.getTrackId(),"] set device to ").concat(eQ)),this._enabled)try{const AQ=await zP.getDeviceById(eQ),iQ={};iQ.video=yP({},this._constraints),iQ.video.deviceId={exact:eQ},iQ.video.facingMode=void 0,this._originMediaStreamTrack.stop();let oQ=null;try{oQ=await HP(iQ,this.getTrackId())}catch(rQ){throw Qy.error("[".concat(this.getTrackId(),"] setDevice failed"),rQ.toString()),oQ=await HP({video:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(oQ.getVideoTracks()[0],!1),rQ}await this._updateOriginMediaStreamTrack(oQ.getVideoTracks()[0],!1),this.updateMediaStreamTrackResolution(),this._deviceName=AQ.label,this._config.cameraId=eQ,this._constraints.deviceId={exact:eQ}}catch(AQ){throw Qy.error("[".concat(this.getTrackId(),"] setDevice error"),AQ.toString()),AQ}else try{const AQ=await zP.getDeviceById(eQ);this._deviceName=AQ.label,this._config.cameraId=eQ,this._constraints.deviceId={exact:eQ}}catch(AQ){throw Qy.error("[".concat(this.getTrackId(),"] setDevice error"),AQ.toString()),AQ}Qy.info("[".concat(this.getTrackId(),"] setDevice success"))}async _setDeviceByFacingModel(eQ){Qy.info("[".concat(this.getTrackId(),"] set facingMode ").concat(eQ));const AQ={video:yP(yP({},this._constraints),{},{deviceId:void 0,facingMode:{exact:eQ}})};if(this._enabled){this._originMediaStreamTrack.stop();let iQ=null;try{iQ=await HP(AQ,this.getTrackId())}catch(oQ){throw Qy.error("[".concat(this.getTrackId(),"] setDeviceByFacingModel failed"),oQ.toString()),iQ=await HP({video:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(iQ.getVideoTracks()[0],!1),oQ}await this._updateOriginMediaStreamTrack(iQ.getVideoTracks()[0],!1),this.updateMediaStreamTrackResolution()}this._deviceName="",this._config.facingMode=eQ,this._config.cameraId=void 0,this._constraints=yP({},AQ.video),Qy.info("[".concat(this.getTrackId(),"] setDeviceByFacingModel success"))}async setEnabled(eQ,AQ){if(!AQ){if(eQ===this._enabled)return;this.stateCheck("enabled",eQ)}if(Qy.info("[".concat(this.getTrackId(),"] start setEnabled"),eQ),eQ){try{if(this.isExternalTrack)this._originMediaStreamTrack.enabled=!0;else{const iQ=await HP({video:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(iQ.getVideoTracks()[0],!1)}await Mv(this,$D.NEED_ENABLE_TRACK,this)}catch(iQ){throw Qy.error("[".concat(this.getTrackId(),"] setEnabled true error"),iQ.toString()),iQ}this.updateMediaStreamTrackResolution(),Qy.info("[".concat(this.getTrackId(),"] setEnabled to true success")),AQ||(this._enabled=!0)}else{this.isExternalTrack?this._originMediaStreamTrack.enabled=!1:(this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop()),AQ||(this._enabled=!1);try{await Mv(this,$D.NEED_DISABLE_TRACK,this)}catch(iQ){throw Qy.error("[".concat(this.getTrackId(),"] setEnabled to false error"),iQ.toString()),iQ}Qy.info("[".concat(this.getTrackId(),"] setEnabled to false success"))}}async setEncoderConfiguration(eQ,AQ){if(!this._enabled)throw new rv(nv.TRACK_IS_DISABLED,"can not set encoder configuration when track is disabled");eQ=YD(eQ),this._forceBitrateLimit&&(eQ.bitrateMax=this._forceBitrateLimit.max_bitrate||eQ.bitrateMax,eQ.bitrateMin=this._forceBitrateLimit.min_bitrate||eQ.bitrateMin);const iQ=Gv(this._config);iQ.encoderConfig=eQ;const oQ=dL(iQ);(PI()||MI()||qI())&&(oQ.deviceId=void 0),Qy.debug("[".concat(this.getTrackId(),"] setEncoderConfiguration applyConstraints"),JSON.stringify(eQ),JSON.stringify(oQ));try{await this._originMediaStreamTrack.applyConstraints(oQ),this.updateMediaStreamTrackResolution()}catch(rQ){const nQ=new rv(nv.UNEXPECTED_ERROR,rQ.toString());throw Qy.error("[".concat(this.getTrackId(),"] applyConstraints error"),nQ.toString()),nQ}this._config=iQ,this._constraints=oQ,this._originalConstraints=oQ,this._encoderConfig=eQ,this._hints.indexOf(eP.SCREEN_TRACK)===-1&&this.updateBitrateFromProfile();try{await Mv(this,$D.NEED_UPDATE_VIDEO_ENCODER,this)}catch(rQ){return rQ.throw(Qy)}}_getDefaultPlayerConfig(){return{mirror:!0,fit:"cover"}}onTrackEnded(){if((MI()||qI())&&this._enabled&&!this._isClosed&&NP.duringInterruption){const eQ=async()=>{NP.off(VD.IOS_INTERRUPTION_END,eQ),this._enabled&&!this._isClosed&&(Qy.debug("[".concat(this.getTrackId(),"] try capture camera media device for interrupted iOS device.")),await this.setEnabled(!1),await this.setEnabled(!0))};NP.on(VD.IOS_INTERRUPTION_END,eQ)}else Qy.debug("[".concat(this.getTrackId(),"] track ended")),this.safeEmit(oP.TRACK_ENDED)}async renewMediaStreamTrack(eQ){const AQ=eQ||this._constraints,iQ=zP.searchDeviceIdByName(this._deviceName);if(iQ&&!AQ.deviceId&&(AQ.deviceId={exact:iQ}),this._enabled){const oQ=await HP({video:AQ},this.getTrackId());this._constraints=AQ,await this._updateOriginMediaStreamTrack(oQ.getVideoTracks()[0],!0),this.updateMediaStreamTrackResolution()}}close(){super.close(),NP.off(VD.IOS_15_16_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),NP.off(VD.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat)}clone(eQ){let AQ=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],iQ=this._encoderConfig;eQ&&(iQ=yP(yP({},iQ),YD(eQ))),iQ=Wv(iQ);const oQ=ey(8,"track-cam-cloned-"),rQ=new K0(AQ?this._mediaStreamTrack.clone():this._mediaStreamTrack,Wv(yP(yP({},this._config),{},{encoderConfig:iQ})),Wv(this._constraints),Wv(this._scalabilityMode),this._optimizationMode,oQ);return eQ&&iQ&&rQ.setEncoderConfiguration(iQ),Qy.debug("clone track from ".concat(this.getTrackId()," to ").concat(oQ,", clone ").concat(AQ)),rQ}bindProcessorContextEvents(){this.processorContext.on(EP.REQUEST_UPDATE_CONSTRAINTS,async(eQ,AQ,iQ)=>{try{const oQ=Object.assign({},this._originalConstraints,...eQ);await this.renewMediaStreamTrack(oQ),AQ()}catch(oQ){iQ(oQ)}}),this.processorContext.on(EP.REQUEST_CONSTRAINTS,async eQ=>{eQ(this._originMediaStreamTrack.getSettings())})}},CP(Wk.prototype,"setDevice",[Mk,Uk],Object.getOwnPropertyDescriptor(Wk.prototype,"setDevice"),Wk.prototype),CP(Wk.prototype,"setEnabled",[xk,Vk,Fk],Object.getOwnPropertyDescriptor(Wk.prototype,"setEnabled"),Wk.prototype),CP(Wk.prototype,"setEncoderConfiguration",[Bk,jk],Object.getOwnPropertyDescriptor(Wk.prototype,"setEncoderConfiguration"),Wk.prototype),CP(Wk.prototype,"close",[Gk],Object.getOwnPropertyDescriptor(Wk.prototype,"close"),Wk.prototype),Wk);function Yk(tQ,eQ,AQ,iQ){AQ.optimizationMode&&(iQ&&iQ.width&&iQ.height?(AQ.encoderConfig=yP(yP({},iQ),{},{bitrateMin:iQ.bitrateMin,bitrateMax:iQ.bitrateMax}),AQ.optimizationMode!=="motion"&&AQ.optimizationMode!=="detail"||(eQ.contentHint=AQ.optimizationMode,eQ.contentHint===AQ.optimizationMode?Qy.debug("[".concat(tQ,"] set content hint to"),AQ.optimizationMode):Qy.debug("[".concat(tQ,"] set content hint failed")))):Qy.warning("[".concat(tQ,"] can not apply optimization mode bitrate config, no encoderConfig")))}var qk,zk,Jk,Xk,Qk,Zk,$k,eM,tM,iM,nM,rM;class oM extends AP{getUserId(){return this._userId}constructor(eQ,AQ,iQ,oQ){super(eQ,"track-".concat(eQ.kind,"-").concat(AQ,"-").concat(oQ.clientId,"_").concat(ey(5,""))),IP(this,"_userId",void 0),IP(this,"_uintId",void 0),IP(this,"_isDestroyed",!1),IP(this,"store",void 0),IP(this,"processor",void 0),IP(this,"processorContext",void 0),this._userId=AQ,this._uintId=iQ,this.store=oQ}_updateOriginMediaStreamTrack(eQ){this._originMediaStreamTrack=eQ,this._mediaStreamTrack=eQ,this._updatePlayerSource(),this.processor&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this.processorContext})}_destroy(){this._isDestroyed=!0,Qy.info("[".concat(this.getTrackId(),"] is destroyed")),this.stop(),super.close()}getProcessorStats(){return this.processorContext.gatherStats()}getProcessorUsage(){return this.processorContext.gatherUsage()}}let sM=(qk=oA({argsMap:(tQ,eQ,AQ)=>[tQ.getTrackId(),typeof eQ=="string"?eQ:eQ instanceof HTMLVideoElement?"HTMLVideoElement":"HTMLElement",AQ]}),zk=oA({argsMap:tQ=>[tQ.getTrackId()]}),Jk=oA({argsMap:(tQ,eQ)=>[tQ.getTrackId(),eQ.name]}),Xk=oA({argsMap:tQ=>[tQ.getTrackId()]}),CP((Qk=class extends oM{get isPlaying(){return!(!this._player||this._player.videoElementStatus!==TP.PLAYING)}get __className__(){return"RemoteVideoTrack"}constructor(tQ,eQ,AQ,iQ){super(tQ,eQ,AQ,iQ),IP(this,"_videoVisibleTimer",null),IP(this,"_previousVideoVisibleStatus",void 0),IP(this,"_clearPreviousVideoVisibleStatus",()=>this._previousVideoVisibleStatus=void 0),IP(this,"trackMediaType",aP.VIDEO),IP(this,"_videoWidth",void 0),IP(this,"_videoHeight",void 0),IP(this,"_player",void 0),IP(this,"processorDestination",void 0),IP(this,"processorContext",void 0),this.updateMediaStreamTrackResolution(),this.processorContext=new nL(this.getTrackId(),"remote"),this.processorDestination=new iL(this.processorContext),this.bindProcessorDestinationEvents()}getStats(){return Kv(()=>{Qy.warning("[deprecated] RemoteVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteVideoStats instead")},"remoteVideoTrackGetStatsWarning"),Uv(this,$D.GET_STATS)||yP({},pP)}play(tQ){let eQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof tQ=="string"){const iQ=document.getElementById(tQ);iQ?tQ=iQ:(Qy.warning("[".concat(this.getTrackId(),'] can not find "#').concat(tQ,'" element, use document.body')),tQ=document.body)}Qy.debug("[".concat(this.getTrackId(),"] start video playback in ").concat(tQ instanceof HTMLVideoElement?"HTMLVideoElement":"HTMLElement"),JSON.stringify(eQ));const AQ=yP(yP({fit:"cover"},eQ),{},{trackId:this.getTrackId(),element:tQ});this._player?this._player.updateConfig(AQ):(tQ instanceof HTMLVideoElement?this._player=new ak(AQ):this._player=new dk(AQ),this._player.updateVideoTrack(this._mediaStreamTrack),this._player.onFirstVideoFrameDecoded=()=>{this.store.subscribe(this.getUserId(),"video",void 0,void 0,Date.now()),this.safeEmit(sP.FIRST_FRAME_DECODED)},this._player.onVideoStateChanged=iQ=>{this.safeEmit(sP.VIDEO_STATE_CHANGED,iQ)}),this._player.play(this.store.sessionId||void 0),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval(()=>{try{const iQ=this.getVideoElementVisibleStatus();this.safeEmit(sP.VIDEO_ELEMENT_VISIBLE_STATUS,iQ)}catch{}},Dy("CHECK_VIDEO_VISIBLE_INTERVAL"))}stop(){this._player&&(this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,Qy.debug("[".concat(this.getTrackId(),"] stop video playback")))}getCurrentFrameData(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}updateMediaStreamTrackResolution(){cL(this._originMediaStreamTrack).then(tQ=>{let[eQ,AQ]=tQ;this._videoHeight=AQ,this._videoWidth=eQ}).catch(iy)}_updatePlayerSource(){Qy.debug("[".concat(this.getTrackId(),"] update player source track")),this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}getVideoElementVisibleStatus(){try{var tQ,eQ;const AQ=this==null||(tQ=this._player)===null||tQ===void 0?void 0:tQ.getContainerElement(),iQ={track:this,element:this==null||(eQ=this._player)===null||eQ===void 0?void 0:eQ.getVideoElement(),slot:AQ==null?void 0:AQ.parentElement},{element:oQ,slot:rQ}=iQ;if(this.isPlaying&&oQ instanceof HTMLVideoElement&&rQ instanceof HTMLElement){const nQ=Ev.checkOneElementVisible(oQ),sQ=Object.assign({},nQ);if(sQ.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=sQ.visible;const aQ=sA.reportApiInvoke(null,{tag:Iv.TRACER,name:Cv.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});sQ.visible?aQ.onSuccess("Video is visible"):aQ.onSuccess("Invisible because of ".concat(sQ.reason))}return sQ}return}catch(AQ){throw new rv(nv.GET_VIDEO_ELEMENT_VISIBLE_ERROR,AQ.message)}}pipe(tQ){if(this.processor===tQ)return tQ;if(tQ._source)throw new rv(nv.INVALID_OPERATION,"Processor ".concat(tQ.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=tQ,this.processor._source=this,tQ.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),tQ}unpipe(){if(!this.processor)return;const tQ=this.processor;this.processor._source=void 0,this.processor=void 0,tQ.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(_P.ON_TRACK,async tQ=>{tQ?tQ!==this._mediaStreamTrack&&(this._mediaStreamTrack=tQ,this._updatePlayerSource()):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource())})}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(_P.ON_TRACK)}_destroy(){super._destroy(),this.unbindProcessorDestinationEvents()}_onSei(tQ){this.emit(rP.SEI_RECEIVED,tQ)}}).prototype,"play",[qk],Object.getOwnPropertyDescriptor(Qk.prototype,"play"),Qk.prototype),CP(Qk.prototype,"stop",[zk],Object.getOwnPropertyDescriptor(Qk.prototype,"stop"),Qk.prototype),CP(Qk.prototype,"pipe",[Jk],Object.getOwnPropertyDescriptor(Qk.prototype,"pipe"),Qk.prototype),CP(Qk.prototype,"unpipe",[Xk],Object.getOwnPropertyDescriptor(Qk.prototype,"unpipe"),Qk.prototype),Qk),aM=(Zk=oA({argsMap:(tQ,eQ)=>[tQ.getTrackId(),eQ],throttleTime:300}),$k=oA({argsMap:(tQ,eQ)=>[tQ.getTrackId(),eQ]}),eM=oA({argsMap:tQ=>[tQ.getTrackId()]}),tM=oA({argsMap:tQ=>[tQ.getTrackId()]}),iM=oA({argsMap:(tQ,eQ)=>[tQ.getTrackId(),eQ.name]}),nM=oA({argsMap:tQ=>[tQ.getTrackId()]}),CP((rM=class extends oM{get isPlaying(){return this._useAudioElement?eL.isPlaying(this.getTrackId()):this._source.isPlayed}get __className__(){return"RemoteAudioTrack"}constructor(tQ,eQ,AQ,iQ){super(tQ,eQ,AQ,iQ),IP(this,"trackMediaType",aP.AUDIO),IP(this,"_source",void 0),IP(this,"_useAudioElement",!0),IP(this,"_volume",100),IP(this,"processorContext",void 0),IP(this,"processorDestination",void 0),IP(this,"_played",!1),IP(this,"_bypassWebAudio",!1),Dy("DISABLE_WEBAUDIO")?(this._source=new sL,this._bypassWebAudio=!0,this._useAudioElement=!0):(this._source=new xP(tQ,!0),Dy("REMOTE_AUDIO_TRACK_USES_WEB_AUDIO")&&(this._useAudioElement=!1)),this._source.once(cP.RECEIVE_TRACK_BUFFER,()=>{this.safeEmit(sP.FIRST_FRAME_DECODED)}),this.processorContext=new oL(this._source.context,this.getTrackId(),"remote"),this.processorDestination=new rL(this.processorContext),this.bindProcessorDestinationEvents(),this._source.on(cP.UPDATE_SOURCE,()=>{this.processor&&this.processor.updateInput({node:this._source.processSourceNode,context:this.processorContext})})}setAudioFrameCallback(tQ){let eQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4096;if(!tQ)return this._source.removeAllListeners(cP.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(eQ),this._source.removeAllListeners(cP.ON_AUDIO_BUFFER),this._source.on(cP.ON_AUDIO_BUFFER,AQ=>tQ(AQ))}setVolume(tQ){this._volume=tQ,this._useAudioElement?eL.setVolume(this.getTrackId(),tQ):this._source.setVolume(tQ/100)}async setPlaybackDevice(tQ){if(!this._useAudioElement||!UD())throw new rv(nv.NOT_SUPPORTED,"your browser does not support setting the audio output device");await eL.setSinkID(this.getTrackId(),tQ)}getVolumeLevel(){return this._source.getAccurateVolumeLevel()}getStats(){return Kv(()=>{Qy.warning("[deprecated] RemoteAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteAudioStats instead")},"remoteAudioTrackGetStatsWarning"),Uv(this,$D.GET_STATS)||yP({},uP)}play(){Qy.debug("[".concat(this.getTrackId(),"] start audio playback")),this._played=!0,this._useAudioElement?(Qy.debug("[".concat(this.getTrackId(),"] use audio element to play")),eL.play(this._mediaStreamTrack,this.getTrackId(),this._volume,this.store.sessionId||void 0)):this._source.play()}stop(){Qy.debug("[".concat(this.getTrackId(),"] stop audio playback")),this._played=!1,this._useAudioElement?eL.stop(this.getTrackId()):this._source.stop()}_destroy(){super._destroy(),this._played=!1,this.unbindProcessorDestinationEvents(),this._source.destroy()}_isFreeze(){return this._source.isFreeze}_updatePlayerSource(){let tQ=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];Qy.debug("[".concat(this.getTrackId(),"] update player source track")),tQ&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&eL.updateTrack(this.getTrackId(),this._mediaStreamTrack)}pipe(tQ){if(this._bypassWebAudio)throw new rv(nv.NOT_SUPPORTED,"can not pipe extension when WebAudio disabled");if(this.processor===tQ)return tQ;if(tQ._source)throw new rv(nv.INVALID_OPERATION,"Processor ".concat(tQ.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=tQ,this.processor._source=this,tQ.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),tQ}unpipe(){var tQ;if(this._bypassWebAudio)throw new rv(nv.NOT_SUPPORTED,"can not unpipe extension when WebAudio disabled");if(!this.processor)return;const eQ=this.processor;(tQ=this._source.processSourceNode)===null||tQ===void 0||tQ.disconnect(),this.processor._source=!1,this.processor=void 0,eQ.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(_P.ON_TRACK,async tQ=>{tQ?tQ!==this._mediaStreamTrack&&(this._mediaStreamTrack=tQ,this._updatePlayerSource(!1),this._source.processedNode=this._source.createMediaStreamSourceNode(tQ)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource())}),this.processorDestination.on(_P.ON_NODE,tQ=>{this._source.processedNode=tQ;const eQ=!tQ;this._useAudioElement!==eQ&&(this._played?(this.stop(),this._useAudioElement=eQ,this.play()):this._useAudioElement=eQ)})}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(_P.ON_TRACK),this.processorDestination.removeAllListeners(_P.ON_NODE)}}).prototype,"setVolume",[Zk],Object.getOwnPropertyDescriptor(rM.prototype,"setVolume"),rM.prototype),CP(rM.prototype,"setPlaybackDevice",[$k],Object.getOwnPropertyDescriptor(rM.prototype,"setPlaybackDevice"),rM.prototype),CP(rM.prototype,"play",[eM],Object.getOwnPropertyDescriptor(rM.prototype,"play"),rM.prototype),CP(rM.prototype,"stop",[tM],Object.getOwnPropertyDescriptor(rM.prototype,"stop"),rM.prototype),CP(rM.prototype,"pipe",[iM],Object.getOwnPropertyDescriptor(rM.prototype,"pipe"),rM.prototype),CP(rM.prototype,"unpipe",[nM],Object.getOwnPropertyDescriptor(rM.prototype,"unpipe"),rM.prototype),rM);const cM=new class extends Sv{get visibility(){return document.visibilityState}get lastHiddenTime(){return this._lastHiddenTime}get lastVisibleTime(){return this._lastVisibleTime}constructor(){super(),IP(this,"_lastHiddenTime",0),IP(this,"_lastVisibleTime",0),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"?this._lastHiddenTime=performance.now():this._lastVisibleTime=performance.now(),Qy.debug("document visibility went ".concat(document.visibilityState)),this.emit("VISIBILITY_CHANGE",document.visibilityState)})}};class dM extends Sv{constructor(eQ,AQ){super(),IP(this,"trackMediaType",aP.DATA),IP(this,"_version",1),IP(this,"_type",3),IP(this,"_config",void 0),IP(this,"_originDataChannel",void 0),IP(this,"_dataStreamPacketHeader",new ArrayBuffer(4)),IP(this,"_dataStreamPacketHandler",{serialize:iQ=>iQ,deserialize:iQ=>iQ}),IP(this,"_datachannelEventMap",new Map),this._config=eQ,AQ&&(this._originDataChannel=AQ,this._bandDataChannelEvents(AQ)),this._initPacketHeader()}useDataStream(eQ){this._dataStreamPacketHandler=eQ}get id(){return this._config.id}get ordered(){return this._config.ordered}get maxRetransmits(){return Dy("DATASTREAM_MAX_RETRANSMITS")}get metadata(){return this._config.metadata}get readyState(){var eQ,AQ;return(eQ=(AQ=this._originDataChannel)===null||AQ===void 0?void 0:AQ.readyState)!==null&&eQ!==void 0?eQ:"connecting"}get _originDataChannelId(){var eQ,AQ;return(eQ=(AQ=this._originDataChannel)===null||AQ===void 0?void 0:AQ.id)!==null&&eQ!==void 0?eQ:null}getChannelId(){return this.id}getConfig(){return this._config}_close(){this._originDataChannel&&(this._unbindDataChannelEvents(this._originDataChannel),this._originDataChannel=void 0)}async _waitTillOpen(){return new Gh((eQ,AQ)=>{if(this._originDataChannel){this._originDataChannel.readyState==="open"&&eQ();const iQ=setTimeout(()=>{var oQ;AQ(new rv(nv.DATACHANNEL_CONNECTION_TIMEOUT,"Cannot create datachannel, id: ".concat((oQ=this._originDataChannel)===null||oQ===void 0?void 0:oQ.id)))},1e4);this._originDataChannel.onopen=()=>{clearTimeout(iQ),this._originDataChannel&&this._bandDataChannelEvents(this._originDataChannel),eQ()},this._originDataChannel.onerror=()=>{throw clearTimeout(iQ),new rv(nv.DATACHANNEL_CONNECTION_TIMEOUT)}}else AQ(new rv(nv.DATACHANNEL_CONNECTION_TIMEOUT,"cannot find dataChannel"))})}_updateOriginDataChannel(eQ){this._originDataChannel=eQ,this._bandDataChannelEvents(eQ)}_initPacketHeader(){const eQ=new DataView(this._dataStreamPacketHeader);eQ.setUint16(0,this._version),eQ.setUint8(2,this._type),eQ.setUint8(3,this._config.id)}_bandDataChannelEvents(eQ){this._unbindDataChannelEvents(eQ),[RP.OPEN,RP.CLOSE,RP.ERROR].forEach(AQ=>{const iQ=()=>{this.emit(AQ)};this._datachannelEventMap.set(AQ,iQ),eQ.addEventListener(AQ,iQ)})}_unbindDataChannelEvents(eQ){Array.from(this._datachannelEventMap.entries()).forEach(AQ=>{let[iQ,oQ]=AQ;eQ.removeEventListener(iQ,oQ)}),this._datachannelEventMap.clear()}}class lM extends dM{constructor(eQ){super(eQ),IP(this,"_messageListener",void 0),this._messageListener=AQ=>{if(AQ.data.byteLength<this._dataStreamPacketHeader.byteLength)throw Error("invalid byteLength: the byte length must exceed "+this._dataStreamPacketHeader.byteLength);const iQ=AQ.data.slice(0,this._dataStreamPacketHeader.byteLength),oQ=new DataView(iQ).getUint8(3);if(oQ!==this.id)return void(Dy("SHOW_DATASTREAM2_LOG")&&Qy.debug("invalid datachannel id: ".concat(oQ," !== ").concat(this.id)));let rQ=AQ.data.slice(this._dataStreamPacketHeader.byteLength);rQ=this._dataStreamPacketHandler.deserialize(rQ),this.emit(RP.MESSAGE,rQ)}}_updateOriginDataChannel(eQ){super._updateOriginDataChannel(eQ),this._bandRemoteDataChannelEvents()}_close(){this._originDataChannel&&(this._originDataChannel.removeEventListener("message",this._messageListener),super._close())}_bandRemoteDataChannelEvents(){this._originDataChannel&&this._originDataChannel.addEventListener("message",this._messageListener)}}class uM extends dM{send(eQ){if(this._originDataChannel){let AQ=eQ;AQ=this._dataStreamPacketHandler.serialize(eQ);const iQ=new Uint8Array(this._dataStreamPacketHeader.byteLength+AQ.byteLength);iQ.set(new Uint8Array(this._dataStreamPacketHeader),0),iQ.set(new Uint8Array(AQ),this._dataStreamPacketHeader.byteLength),this._originDataChannel.send(iQ.buffer)}}}function hM(){const tQ=new Blob([atob("ZnVuY3Rpb24gZShlLHQsbil7bGV0IHI9bmV3IFVpbnQ4QXJyYXkoZSx0LG4pLGE9W10sbz0wO2Zvcig7YS5sZW5ndGg8bjspbyszPG4mJjA9PT1yW29dJiYwPT09cltvKzFdJiYzPT09cltvKzJdJiYoMD09PXJbbyszXXx8MT09PXJbbyszXXx8Mj09PXJbbyszXXx8Mz09PXJbbyszXSk/KGEucHVzaChyW29dLHJbbysxXSxyW28rM10pLG8rPTQpOihhLnB1c2gocltvXSksbysrKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYSl9ZnVuY3Rpb24gdChlLHQpe2NvbnN0IG49ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLmxlbmd0aDtsZXQgbj1bXSxyPTA7Zm9yKDtyPHQ7KXIrMjx0JiYwPT09ZVtyXSYmMD09PWVbcisxXSYmKDA9PT1lW3IrMl18fDE9PT1lW3IrMl18fDI9PT1lW3IrMl18fDM9PT1lW3IrMl0pPyhuLnB1c2goZVtyXSxlW3IrMV0sMyxlW3IrMl0pLHIrPTMpOihuLnB1c2goZVtyXSkscisrKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkobil9KHQpLHI9bi5sZW5ndGgsYT1NYXRoLmZsb29yKHIvMjU1KSxvPXIlMjU1LHM9bmV3IFVpbnQ4QXJyYXkoNithKzErcitlLmJ5dGVMZW5ndGgpO3NbMF09MCxzWzFdPTAsc1syXT0wLHNbM109MSxzWzRdPTYsc1s1XT0xMDE7bGV0IGk9MDtmb3IoO2k8YTspc1s2K2ldPTI1NSxpKys7cmV0dXJuIHNbNitpXT1vLGkrKyxzLnNldChuLDYraSkscy5zZXQobmV3IFVpbnQ4QXJyYXkoZSksNitpK3IpLHMuYnVmZmVyfW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiU2FmYXJpIik+LTEmJi0xPT09bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJDaHJvbWUiKSYmKHNlbGYub25ydGN0cmFuc2Zvcm09bj0+e2NvbnN0IHI9bi50cmFuc2Zvcm1lcjtsZXQgYT1bXTtyLm9wdGlvbnMucG9ydC5vbm1lc3NhZ2U9ZT0+e2UuZGF0YS5zZWkmJmEucHVzaChlLmRhdGEuc2VpKX0sc2VsZi5wb3N0TWVzc2FnZSgic3RhcnRlZCIpO2NvbnN0IG89ci5yZWFkYWJsZS5nZXRSZWFkZXIoKSxzPXIud3JpdGFibGUuZ2V0V3JpdGVyKCk7InJ4Ij09PXIub3B0aW9ucy5uYW1lP2Z1bmN0aW9uIHQobil7by5yZWFkKCkudGhlbigocj0+e2lmKCFyLmRvbmUpe2lmKHIudmFsdWUgaW5zdGFuY2VvZiBSVENFbmNvZGVkVmlkZW9GcmFtZSl7Y29uc3QgdD1mdW5jdGlvbih0KXtjb25zdCBuPW5ldyBEYXRhVmlldyh0LmRhdGEpO2xldCByPTA7Zm9yKDtyKzQ8dC5kYXRhLmJ5dGVMZW5ndGg7KXtpZigwPT09bi5nZXRVaW50OChyKzApJiYwPT09bi5nZXRVaW50OChyKzEpJiYwPT09bi5nZXRVaW50OChyKzIpJiYxPT09bi5nZXRVaW50OChyKzMpJiY2PT09bi5nZXRVaW50OChyKzQpKXtsZXQgYT1yKzYsbz0wLHM9MDtmb3IoOzI1NT09PShzPW4uZ2V0VWludDgoYSsrKSk7KW8rPTI1NTtvKz1zO2NvbnN0IGk9ZSh0LmRhdGEsYSxvKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoaSl9cisrfXJldHVybiBudWxsfShyLnZhbHVlKTt0JiZuLm9wdGlvbnMucG9ydC5wb3N0TWVzc2FnZSh7c2VpOnR9KX1zLndyaXRlKHIudmFsdWUpLG4ub3B0aW9ucy5wb3J0LnBvc3RNZXNzYWdlKHt0cmFuc2Zvcm1lZDohMH0pLHQobil9fSkpfShyKToidHgiPT09ci5vcHRpb25zLm5hbWUmJmZ1bmN0aW9uIGUobil7by5yZWFkKCkudGhlbigocj0+e2lmKCFyLmRvbmUpe2lmKHIudmFsdWUgaW5zdGFuY2VvZiBSVENFbmNvZGVkVmlkZW9GcmFtZSl7Y29uc3QgZT1hLnNoaWZ0KCk7ZSYmKHIudmFsdWUuZGF0YT10KHIudmFsdWUuZGF0YSxlKSl9cy53cml0ZShyLnZhbHVlKSxuLm9wdGlvbnMucG9ydC5wb3N0TWVzc2FnZSh7dHJhbnNmb3JtZWQ6ITB9KSxlKG4pfX0pKX0ocil9LHNlbGYucG9zdE1lc3NhZ2UoInJlZ2lzdGVyZWQiKSk7Cg==")],{type:"text/javascript"});return setTimeout(()=>LD.revokeObjectURL(tQ),0),new Worker(LD.createObjectURL(tQ))}const pM=new Map,_M=new Map;function EM(tQ,eQ,AQ){let iQ=new Uint8Array(tQ,eQ,AQ),oQ=[],rQ=0;for(;oQ.length<AQ;)rQ+3<AQ&&iQ[rQ]===0&&iQ[rQ+1]===0&&iQ[rQ+2]===3&&(iQ[rQ+3]===0||iQ[rQ+3]===1||iQ[rQ+3]===2||iQ[rQ+3]===3)?(oQ.push(iQ[rQ],iQ[rQ+1],iQ[rQ+3]),rQ+=4):(oQ.push(iQ[rQ]),rQ++);return new Uint8Array(oQ)}const mM=new Map;async function fM(tQ,eQ){if(!MD().supportWebRTCEncodedTransform)return void Qy.warning("browser not support video encoded transform");if(mM.has(tQ)||!tQ.track)return;const AQ={track:tQ.track};if(DI()){if(!tQ.createEncodedStreams)return void Qy.warning("browser not support createEncodedStreams() API");let oQ=null;try{oQ=tQ.createEncodedStreams()}catch(sQ){return void Qy.error("create video-encoded-streams error",sQ&&sQ.message)}let rQ=[];eQ.on("sei-to-send",sQ=>{rQ.push(sQ)});const nQ=new TransformStream({transform(sQ,aQ){AQ.controller||(AQ.controller=aQ),tQ.track&&tQ.track.id!==AQ.track.id&&(Qy.debug("video track changed: ".concat(AQ.track.id," => ").concat(tQ.track.id)),AQ.track.removeEventListener("ended",iQ),AQ.track=tQ.track,AQ.track.addEventListener("ended",iQ));const cQ=rQ.shift();cQ&&(sQ.data=function(gQ,IQ){const EQ=function(BQ){const QQ=BQ.length;let fQ=[],_Q=0;for(;_Q<QQ;)_Q+2<QQ&&BQ[_Q]===0&&BQ[_Q+1]===0&&(BQ[_Q+2]===0||BQ[_Q+2]===1||BQ[_Q+2]===2||BQ[_Q+2]===3)?(fQ.push(BQ[_Q],BQ[_Q+1],3,BQ[_Q+2]),_Q+=3):(fQ.push(BQ[_Q]),_Q++);return new Uint8Array(fQ)}(IQ),CQ=EQ.length,dQ=Math.floor(CQ/255),lQ=CQ%255,uQ=new Uint8Array(6+dQ+1+CQ+gQ.byteLength);uQ[0]=0,uQ[1]=0,uQ[2]=0,uQ[3]=1,uQ[4]=6,uQ[5]=101;let hQ=0;for(;hQ<dQ;)uQ[6+hQ]=255,hQ++;return uQ[6+hQ]=lQ,hQ++,uQ.set(EQ,6+hQ),uQ.set(new Uint8Array(gQ),6+hQ+CQ),uQ.buffer}(sQ.data,cQ)),aQ.enqueue(sQ)}});oQ.readable.pipeThrough(nQ).pipeTo(oQ.writable)}else{if(!PI())return;{if(typeof RTCRtpScriptTransform>"u")return void Qy.warning("browser not support RTCRtpScriptTransform");const oQ=hM(),rQ=new MessageChannel;await new Gh(sQ=>oQ.onmessage=aQ=>{aQ.data==="registered"&&sQ(void 0)});const nQ=new RTCRtpScriptTransform(oQ,{name:"tx",port:rQ.port2},[rQ.port2]);tQ.transform=nQ,await new Gh(sQ=>oQ.onmessage=aQ=>{aQ.data==="started"&&sQ(void 0)}),eQ.on("sei-to-send",sQ=>{rQ.port1.postMessage({sei:sQ})}),rQ.port1.onmessage=sQ=>{var aQ;sQ.data.transformed&&tQ.track&&((aQ=tQ.track)===null||aQ===void 0?void 0:aQ.id)!==AQ.track.id&&(Qy.debug("video track changed: ".concat(AQ.track.id," => ").concat(tQ.track.id)),AQ.track.removeEventListener("ended",iQ),AQ.track=tQ.track,AQ.track.addEventListener("ended",iQ))},AQ.worker=oQ}}function iQ(){if(tQ.track){if(this.id!==tQ.track.id)return;tQ.track.removeEventListener("ended",iQ)}const oQ=mM.get(tQ);if(oQ){mM.delete(tQ);try{var rQ,nQ;(rQ=oQ.controller)===null||rQ===void 0||rQ.terminate(),(nQ=oQ.worker)===null||nQ===void 0||nQ.terminate()}catch(sQ){Qy.warning(sQ&&sQ.message)}}}mM.set(tQ,AQ),tQ.track.addEventListener("ended",iQ)}const TM=new Map;(function(){const tQ=AI();kD.getDisplayMedia=!(!navigator.mediaDevices||!navigator.mediaDevices.getDisplayMedia),kD.getStreamFromExtension=tQ.name===CI.CHROME&&Number(tQ.version)>34,kD.supportUnifiedPlan=function(){if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;const eQ=new RTCPeerConnection;let AQ=!1;try{eQ.addTransceiver("audio"),AQ=!0}catch{}return eQ.close(),AQ}(),kD.supportMinBitrate=tQ.name===CI.CHROME||tQ.name===CI.EDGE,kD.supportSetRtpSenderParameters=function(){const eQ=AI();return!!(window.RTCRtpSender&&window.RTCRtpSender.prototype.setParameters&&window.RTCRtpSender.prototype.getParameters)&&(!!QI()||!(!PI()&&!NI())||eQ.name===CI.FIREFOX&&Number(eQ.version)>=64)}(),tQ.name===CI.SAFARI&&(Number(tQ.version)>=14?kD.supportDualStream=!0:kD.supportDualStream=!1),kD.webAudioMediaStreamDest=function(){const eQ=AI();return!(eQ.name===CI.SAFARI&&Number(eQ.version)<12)}(),kD.supportReplaceTrack=!!window.RTCRtpSender&&typeof RTCRtpSender.prototype.replaceTrack=="function",kD.supportWebGL=typeof WebGLRenderingContext<"u",kD.supportRequestFrame=!!window.CanvasCaptureMediaStreamTrack,QI()||(kD.webAudioWithAEC=!0),kD.supportShareAudio=function(){const eQ=AI();return(eQ.os===RI.WIN_10||eQ.os===RI.WIN_81||eQ.os===RI.WIN_7||eQ.os===RI.LINUX||eQ.os===RI.MAC_OS||eQ.os===RI.CHROMIUM_OS)&&eQ.name===CI.CHROME&&Number(eQ.version)>=74}(),kD.supportDataChannel=!!(UI(76)||function(eQ){const AQ=AI();return!(AQ.name!==CI.FIREFOX||!AQ.osVersion)&&Number(AQ.version)>=eQ}(68)||FI(14)),kD.supportPCSetConfiguration=function(){const eQ=window.RTCPeerConnection;return!kI()&&!!eQ&&eQ.prototype.setConfiguration instanceof Function}(),kD.supportWebRTCEncodedTransform=function(){const eQ=AI();return eQ.name==="Chrome"&&Number(eQ.version)>=86||eQ.name==="Safari"&&Number(eQ.version)>=15}(),kD.supportWebRTCInsertableStream=function(){const eQ=AI();return(eQ.name===CI.CHROME||eQ.name===CI.EDGE)&&Number(eQ.version)>=94&&"MediaStreamTrackGenerator"in window&&"MediaStreamTrackProcessor"in window}(),kD.supportRequestVideoFrameCallback="requestVideoFrameCallback"in HTMLVideoElement.prototype,kD.supportWebCrypto=typeof window<"u"&&window.crypto!==void 0&&window.crypto.subtle!==void 0,jv(()=>{kD.supportDualStreamEncoding=function(){const eQ=AI();return!!Dy("DISABLE_WEBAUDIO")||eQ.name==="Safari"&&Number(eQ.version)>=14||!!(eQ.name==="Chrome"&&/Windows/i.test(eQ.os||"")&&Number(eQ.version)>=100&&Dy("CHROME_DUAL_STREAM_USE_ENCODING"))}(),Qy.info("browser compatibility",JSON.stringify(kD),JSON.stringify(tQ))})})();class SM extends Sv{constructor(eQ,AQ){super(),og(this,"signal",void 0),og(this,"token",void 0),og(this,"tokenTimeout",void 0),og(this,"tokenInterval",void 0),og(this,"_sequence",0),og(this,"userMap",new Map),og(this,"encoder",new TextEncoder),this.signal=eQ,this.token=AQ;const iQ=()=>{this.signal.connectionState===hb.CONNECTED&&this.check(),this.userMap.size===0?this.tokenInterval=window.setTimeout(iQ,1e3):this.tokenInterval=window.setTimeout(iQ,3*Dy("P2P_TOKEN_INTERVAL"))};iQ()}async send(eQ,AQ,iQ,oQ,rQ){var nQ,sQ,aQ;if(this.userMap.size===0)return;const cQ=Array.from(Qw(nQ=this.userMap).call(nQ))[0].token;typeof AQ!="string"&&(AQ=JSON.stringify(AQ)),oQ=(sQ=oQ)!==null&&sQ!==void 0?sQ:ey(6,""),rQ=(aQ=rQ)!==null&&aQ!==void 0?aQ:this._sequence++;const gQ={_id:oQ,_type:eQ,_seq:rQ,_message:AQ,token:"".concat(this.token,"_").concat(cQ)};Dy("SHOW_P2P_LOG")&&Qy.debug("send message",gQ,"noNeedResponse : ".concat(iQ)),this.splitMessage(JSON.stringify(gQ)).forEach(EQ=>{this.signal.request(_b.DATA_STREAM,{payload:qv(this.encoder.encode(EQ))})});const IQ=new Gh((EQ,CQ)=>{const dQ=window.setTimeout(()=>{this.off("res-@".concat(oQ,"_ack"),lQ),this.off("res-@".concat(oQ),hQ),this.off(aw.ABORT,uQ),Qy.debug("[external-signal] request timeout, type: ".concat(eQ,", requestId: ").concat(oQ)),this.userMap.size===0?CQ(new rv(nv.INVALID_REMOTE_USER)):CQ(new rv(nv.TIMEOUT))},Dy("EXTERNAL_SIGNAL_REQUEST_TIMEOUT")),lQ=()=>{dQ&&window.clearTimeout(dQ),this.off(aw.ABORT,uQ),iQ&&EQ()},uQ=()=>{dQ&&window.clearTimeout(dQ),this.off("res-@".concat(oQ,"_ack"),lQ),this.off("res-@".concat(oQ),hQ),CQ(new rv(nv.EXTERNAL_SIGNAL_ABORT,"type: ".concat(eQ,", requestId: ").concat(oQ)))};this.once(aw.ABORT,uQ),this.once("res-@".concat(oQ,"_ack"),lQ);const hQ=(QQ,fQ)=>{BQ=!0,dQ&&window.clearTimeout(dQ),this.off("res-@".concat(oQ,"_ack"),lQ),this.off(aw.ABORT,uQ),QQ==="success"?EQ(fQ):CQ(new rv(nv.P2P_MESSAGE_FAILED,"request ".concat(eQ," failed, requestId: ").concat(oQ)))};let BQ=!1;iQ||(this.once("res-@".concat(oQ),hQ),$v(Dy("SIGNAL_REQUEST_TIMEOUT")).then(()=>{BQ||Qy.warning("external_signal request timeout, type: ".concat(eQ,", requestId: ").concat(oQ,", ").concat(gQ))}))});try{return await IQ}catch(EQ){if(EQ.code===nv.TIMEOUT)return await this.send(eQ,AQ,iQ,oQ,rQ);throw EQ}}onMessage(eQ){var AQ;const{_uid:iQ}=eQ;let oQ,rQ=this.userMap.get(iQ);if(rQ)oQ=rQ.splitMessageMap;else{if(this.userMap.size>0||!("_type"in eQ)||eQ._type!==sw.CHECK)return;const{token:cQ}=eQ;oQ=new Map,rQ={uid:iQ,isStart:!0,token:cQ,splitMessageMap:oQ,nextExpectedSequenceNumber:0,receivedMessagesMap:new Map},this.userMap.set(iQ,rQ),this.signal.emit(mb.ON_USER_ONLINE,{uid:iQ}),this.handleUserOnline()}if("id"in eQ&&"total"in eQ){var nQ;const{id:cQ,total:gQ}=eQ,IQ=(nQ=oQ.get(cQ))!==null&&nQ!==void 0?nQ:[];if(IQ.push(eQ),oQ.has(cQ)||oQ.set(cQ,IQ),IQ.length!==gQ)return;{const EQ=aE(IQ).call(IQ,(CQ,dQ)=>CQ.index-dQ.index).map(CQ=>CQ.payload).join("");oQ.delete(cQ),(eQ=JSON.parse(EQ))._uid=iQ}}const{_type:sQ,token:aQ}=eQ;if(Dn(AQ=[sw.ACK,sw.CHECK]).call(AQ,sQ))return sQ===sw.CHECK&&this.handleCheckToken(rQ,aQ),void this.receiveMessage(eQ);aQ==="".concat(rQ.token,"_").concat(this.token)?this.handleReceivedMessage(eQ):Qy.debug('Receive unexpected message", '.concat(aQ,", cur_token: ").concat(rQ.token,"_").concat(this.token),eQ)}check(){const eQ={_id:ey(6,""),token:this.token,_type:sw.CHECK};Dy("SHOW_P2P_LOG")&&Qy.debug("send message",eQ),this.signal.request(_b.DATA_STREAM,{payload:qv(this.encoder.encode(JSON.stringify(eQ)))})}ack(eQ){const AQ={_id:eQ,_type:sw.ACK,token:this.token};Dy("SHOW_P2P_LOG")&&Qy.debug("send message",AQ),this.signal.request(_b.DATA_STREAM,{payload:qv(this.encoder.encode(JSON.stringify(AQ)))})}response(eQ,AQ,iQ){this.send(sw.RESPONSE,JSON.stringify({success:!iQ,message:AQ}),!0,eQ)}handleReceivedMessage(eQ){const AQ=()=>{this.userMap.forEach(cQ=>{const{receivedMessagesMap:gQ,nextExpectedSequenceNumber:IQ}=cQ;for(;gQ.has(IQ);){const EQ=gQ.get(IQ);gQ.delete(IQ),this.receiveMessage(EQ),cQ.nextExpectedSequenceNumber++}})};if(!eQ)return void AQ();const{_uid:iQ,_seq:oQ}=eQ,rQ=this.userMap.get(iQ),{receivedMessagesMap:nQ,isStart:sQ,nextExpectedSequenceNumber:aQ}=rQ;if(oQ<aQ)return this.ack(eQ._id),void Qy.debug("[external-signal] receive old message, seq: ".concat(oQ,", ").concat(eQ._message));nQ.set(oQ,eQ),sQ&&oQ===aQ&&(this.receiveMessage(eQ),nQ.delete(aQ),rQ.nextExpectedSequenceNumber++,AQ())}receiveMessage(eQ){const{_id:AQ,_type:iQ,_message:oQ,_uid:rQ}=eQ;if(Dy("SHOW_P2P_LOG")&&Qy.debug("receive message",eQ),AQ){let nQ;switch(eQ._type!==sw.ACK&&(oQ&&(nQ=JSON.parse(oQ)),this.ack(eQ._id)),eQ._type){case sw.CANDIDATE:case sw.CONTROL:this.signal.emit(iQ,nQ,rQ);break;case sw.PUBLISH:case sw.UNPUBLISH:case sw.RESTART_ICE:case sw.CALL:nQ.uid=rQ,kv(this.signal,iQ,nQ).then(sQ=>{this.response(eQ._id,sQ)}).catch(()=>{this.response(eQ._id,void 0,!0)});break;case sw.ACK:this.getListeners("res-@".concat(AQ,"_ack")).length>0&&this.emit("res-@".concat(AQ,"_ack"));break;case sw.RESPONSE:{const{success:sQ,message:aQ}=nQ;this.emit("res-@".concat(AQ),sQ?"success":"failed",aQ);break}}}}splitMessage(eQ){if(eQ.length<SM.MAX_MESSAGE_SIZE)return[eQ];const AQ=[],{remoteToken:iQ}=JSON.parse(eQ),oQ=ey(6,"");let rQ=0,nQ=800;const sQ=Math.ceil(eQ.length/nQ);for(;eQ.length>0;){rQ++;const aQ={id:oQ,index:rQ,total:sQ,payload:eQ.slice(0,nQ),token:"".concat(this.token,"_").concat(iQ)};JSON.stringify(aQ).length>SM.MAX_MESSAGE_SIZE?nQ-=50:(AQ.push(aQ),eQ=eQ.slice(nQ))}return AQ.map(aQ=>JSON.stringify(aQ))}handleCheckToken(eQ,AQ){return eQ.token!==AQ?(Qy.debug("token changed, from ".concat(eQ.token," to ").concat(AQ)),this.reset(eQ.uid,AQ),!1):(this.tokenTimeout&&(window.clearTimeout(this.tokenTimeout),this.tokenTimeout=void 0),this.tokenTimeout=window.setTimeout(()=>{Qy.debug("token timeout, ".concat(AQ)),this.reset(eQ.uid)},Dy("MAX_P2P_TIMEOUT")),!0)}async handleUserOnline(){const eQ=await kv(this.signal,sw.CALL,void 0),AQ=await this.send(sw.CALL,eQ);this.signal.emit(pb.P2P_CONNECTION,AQ,!0)}async reset(eQ,AQ){const iQ=this.userMap.get(eQ);iQ&&(this.emit(aw.ABORT),this.signal.emit(mb.ON_USER_OFFLINE,{uid:iQ.uid,reason:dw.P2P_TOKEN_CHANGED}),this._sequence=0,this.userMap.clear(),AQ||(Qy.debug("change local token from ".concat(AQ," to ").concat(AQ)),this.token=ey(6,"")))}clear(){this._sequence=0,this.userMap.clear(),this.tokenInterval&&window.clearTimeout(this.tokenInterval),this.tokenInterval=void 0,this.tokenTimeout&&window.clearTimeout(this.tokenTimeout),this.tokenTimeout=void 0,this.emit(aw.ABORT)}}og(SM,"MAX_SIZE",1),og(SM,"MAX_MESSAGE_SIZE",1024);class gM extends Sv{get connectionState(){return this._connectionState}set connectionState(eQ){eQ!==this._connectionState&&(this._connectionState=eQ,eQ===hb.CONNECTED?this.emit(pb.WS_CONNECTED):eQ===hb.RECONNECTING?this.emit(pb.WS_RECONNECTING,this._websocketReconnectReason):eQ===hb.CLOSED&&this.emit(pb.WS_CLOSED,this._disconnectedReason))}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket&&this.websocket.url||null}get rtt(){return this.rttRolling.mean()}constructor(eQ,AQ){super(),og(this,"_disconnectedReason",void 0),og(this,"_websocketReconnectReason",void 0),og(this,"_connectionState",hb.CLOSED),og(this,"reconnectToken",void 0),og(this,"p2pToken",void 0),og(this,"websocket",void 0),og(this,"openConnectionTime",void 0),og(this,"clientId",void 0),og(this,"lastMsgTime",Date.now()),og(this,"uploadCache",[]),og(this,"uploadCacheInterval",void 0),og(this,"rttRolling",new fy(5)),og(this,"pingpongTimer",void 0),og(this,"pingpongTimeoutCount",0),og(this,"joinResponse",void 0),og(this,"multiIpOption",void 0),og(this,"initError",void 0),og(this,"spec",void 0),og(this,"store",void 0),og(this,"_external_signal",void 0),og(this,"onWebsocketMessage",iQ=>{if(iQ.data instanceof ArrayBuffer)return void this.emit(pb.ON_BINARY_DATA,iQ.data);const oQ=JSON.parse(iQ.data);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(oQ,"_id")){const rQ="res-@".concat(oQ._id);this.emit(rQ,oQ._result,oQ._message)}else if(Object.prototype.hasOwnProperty.call(oQ,"_type")){switch(oQ._type){case mb.ON_DATA_STREAM:return void this.handleDataStream(oQ._message);case mb.MUTE_AUDIO:case mb.MUTE_VIDEO:case mb.ON_P2P_LOST:case mb.ON_USER_ONLINE:return;case mb.ON_USER_OFFLINE:const{uid:rQ}=oQ._message;return Qy.debug("[".concat(this.clientId,"] user-offline uid: ").concat(rQ)),void this._external_signal.reset(rQ)}if(this.emit(oQ._type,oQ._message),oQ._type===mb.ON_NOTIFICATION&&this.handleNotification(oQ._message),oQ._type===mb.ON_USER_BANNED)switch(oQ._message.error_code){case 14:this.close(Av.UID_BANNED);break;case 15:this.close(Av.IP_BANNED);break;case 16:this.close(Av.CHANNEL_BANNED)}if(oQ._type===mb.ON_USER_LICENSE_BANNED)switch(oQ._message.error_code){case ub.ERR_LICENSE_MISSING:this.close(Av.LICENSE_MISSING);break;case ub.ERR_LICENSE_EXPIRED:this.close(Av.LICENSE_EXPIRED);break;case ub.ERR_LICENSE_MINUTES_EXCEEDED:this.close(Av.LICENSE_MINUTES_EXCEEDED);break;case ub.ERR_LICENSE_PERIOD_INVALID:this.close(Av.LICENSE_PERIOD_INVALID);break;case ub.ERR_LICENSE_MULTIPLE_SDK_SERVICE:this.close(Av.LICENSE_MULTIPLE_SDK_SERVICE);break;case ub.ERR_LICENSE_ILLEGAL:this.close(Av.LICENSE_ILLEGAL);break;default:this.close()}}}),this.clientId=eQ.clientId,this.spec=eQ,this.store=AQ,this.websocket=new Aw("gateway-".concat(this.clientId),this.spec.retryConfig,!0,Dy("JOIN_GATEWAY_USE_DUAL_DOMAIN"),Dy("JOIN_GATEWAY_USE_443PORT_ONLY"),AQ),this.handleWebsocketEvents(),window.addEventListener("offline",()=>{this.connectionState===hb.CONNECTED&&this.reconnect("retry",Dv.OFFLINE)}),this.p2pToken=ey(6,""),this._external_signal=new SM(this,this.p2pToken)}async request(eQ,AQ,iQ,oQ){const rQ=ey(6,""),nQ={_id:rQ,_type:eQ,_message:AQ},sQ=this.websocket.connectionID,aQ=()=>new Gh((dQ,lQ)=>{if(this.connectionState===hb.CONNECTED)return dQ();const uQ=()=>{this.off(pb.WS_CLOSED,hQ),dQ()},hQ=()=>{this.off(pb.WS_CONNECTED,uQ),lQ(new rv(nv.WS_ABORT))};this.once(pb.WS_CONNECTED,uQ),this.once(pb.WS_CLOSED,hQ)});if(this.connectionState!==hb.CONNECTING&&this.connectionState!==hb.RECONNECTING||eQ===_b.JOIN||eQ===_b.REJOIN||await aQ(),this.websocket.sendMessage(nQ,!0),oQ)return;const cQ=new Gh((dQ,lQ)=>{let uQ=!1;const hQ=(QQ,fQ)=>{uQ=!0,dQ({isSuccess:QQ==="success",message:fQ||{}}),this.off(pb.WS_CLOSED,BQ),this.off(pb.WS_RECONNECTING,BQ),this.emit(pb.REQUEST_SUCCESS,eQ,AQ)};this.once("res-@".concat(rQ),hQ);const BQ=()=>{lQ(new rv(nv.WS_ABORT,"type: ".concat(eQ))),this.off(pb.WS_CLOSED,BQ),this.off(pb.WS_RECONNECTING,BQ),this.off("res-@".concat(rQ),hQ)};this.once(pb.WS_CLOSED,BQ),this.once(pb.WS_RECONNECTING,BQ),$v(Dy("SIGNAL_REQUEST_TIMEOUT")).then(()=>{this.websocket.connectionID!==sQ||uQ||(Qy.warning("[".concat(this.clientId,"] ws request timeout, type: ").concat(eQ)),this.emit(pb.REQUEST_TIMEOUT,eQ,AQ))})});let gQ=null;try{gQ=await cQ}catch(dQ){if(this.connectionState===hb.CLOSED||eQ===_b.LEAVE)throw new rv(nv.WS_ABORT);return!this.spec.forceWaitGatewayResponse||iQ?dQ.throw():eQ===_b.JOIN||eQ===_b.REJOIN?null:(await aQ(),await this.request(eQ,AQ))}if(gQ.isSuccess)return gQ.message;const IQ=Number(gQ.message.error_code||gQ.message.code),EQ=pw(IQ),CQ=new rv(nv.UNEXPECTED_RESPONSE,"".concat(EQ.desc,": ").concat(gQ.message.error_str),{code:IQ,data:gQ.message,desc:EQ.desc});return EQ.action==="success"?gQ.message:(Qy.warning("[".concat(this.clientId,"] [").concat(this.websocket.connectionID,"] unexpected response from type ").concat(eQ,", error_code: ").concat(IQ,", message: ").concat(EQ.desc,", action: ").concat(EQ.action)),IQ===ub.ERR_TOO_MANY_BROADCASTERS?((eQ===_b.JOIN||eQ===_b.REJOIN)&&(this.initError=CQ,this.close()),CQ.throw()):EQ.action==="failed"?CQ.throw():EQ.action==="quit"?(this.initError=CQ,this.close(),CQ.throw()):(IQ===ub.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=gQ.message.option,Qy.warning("[".concat(this.clientId,"] detect multi ip, recover")),this.reconnect("recover",Dv.MULTI_IP)):this.reconnect(EQ.action,Dv.SERVER_ERROR),eQ===_b.JOIN||eQ===_b.REJOIN?null:await this.request(eQ,AQ)))}waitMessage(eQ,AQ){return new Gh(iQ=>{const oQ=rQ=>{(!AQ||AQ(rQ))&&(this.off(eQ,oQ),iQ(rQ))};this.on(eQ,oQ)})}uploadWRTCStats(eQ){if(!this.store.sessionId)return void Qy.warn("[".concat(this.clientId,"] no session id when upload wrtc stats"));const AQ={lts:Date.now(),sid:this.store.sessionId,uid:this.store.intUid,stats:eQ};this.upload(Eb.WRTC_STATS,AQ)}upload(eQ,AQ){const iQ={_type:eQ,_message:AQ};try{this.websocket.sendMessage(iQ)}catch{const rQ=Dy("MAX_UPLOAD_CACHE")||50;this.uploadCache.push(iQ),this.uploadCache.length>rQ&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval(()=>{if(this.connectionState!==hb.CONNECTED)return;const nQ=this.uploadCache.splice(0,1)[0];this.uploadCache.length===0&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(nQ._type,nQ._message)},Dy("UPLOAD_CACHE_INTERVAL")||2e3))}}send(eQ,AQ){const iQ={_type:eQ,_message:AQ};this.websocket.sendMessage(iQ)}async sendExtensionMessage(eQ,AQ,iQ){return await this._external_signal.send(eQ,AQ,iQ)}init(eQ){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new Gh((AQ,iQ)=>{this.once(pb.WS_CONNECTED,()=>AQ(this.joinResponse)),this.once(pb.WS_CLOSED,()=>iQ(this.initError||new rv(nv.WS_ABORT))),this.connectionState=hb.CONNECTING,this.websocket.init(eQ).catch(iQ)})}close(eQ){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._external_signal.clear(),this._disconnectedReason=eQ||Av.LEAVE,this.connectionState=hb.CLOSED,Qy.debug("[".concat(this.clientId,"] ")+"will close websocket in signal"),this.websocket.close(),this.p2pToken=ey(6,""),this._external_signal.clear(),this._external_signal=new SM(this,this.p2pToken)}async join(){if(!this.joinResponse){this.emit(pb.ABORT_P2P_EXECUTION);const eQ=await kv(this,pb.REQUEST_JOIN_INFO),AQ=await this.request(_b.JOIN,eQ);if(!AQ)return this.emit(pb.REPORT_JOIN_GATEWAY,nv.TIMEOUT,this.url||""),!1;this.joinResponse=AQ,this.emit(pb.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token}return this.connectionState=hb.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0}reconnect(eQ,AQ){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(eQ,AQ)}handleDataStream(eQ){try{var AQ;const iQ=Yv(eQ.payload),oQ=new TextDecoder().decode(iQ),rQ=JSON.parse(oQ);"total"in rQ&&"id"in rQ||Dn(AQ=Object.values(sw)).call(AQ,rQ._type)?(rQ._uid=eQ.uid,this._external_signal.onMessage(rQ)):this.emit(mb.ON_DATA_STREAM,eQ)}catch{this.emit(mb.ON_DATA_STREAM,eQ)}}handleNotification(eQ){Qy.debug("[".concat(this.clientId,"] receive notification: "),eQ);const AQ=pw(eQ.code);if(AQ.action!=="success"){if(AQ.action!=="failed")return AQ.action==="quit"?(AQ.desc==="ERR_REPEAT_JOIN_CHANNEL"&&this.close(Av.UID_BANNED),void this.close()):void this.reconnect(AQ.action,Dv.SERVER_ERROR);Qy.error("[".concat(this.clientId,"] ignore error: "),AQ.desc)}}handlePingPong(){if(!this.websocket||this.websocket.state!=="connected")return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;const eQ=Dy("PING_PONG_TIME_OUT"),AQ=Date.now();this.pingpongTimeoutCount>=eQ&&(Qy.warning("[".concat(this.clientId,"] PINGPONG Timeout. Last Socket Message: ").concat(AQ-this.lastMsgTime,"ms")),AQ-this.lastMsgTime>Dy("WEBSOCKET_TIMEOUT_MIN"))?this.reconnect("retry",Dv.TIMEOUT):this.request(_b.PING,void 0,!0).then(()=>{this.pingpongTimeoutCount=0;const iQ=Date.now()-AQ;this.rttRolling.add(iQ),Dy("REPORT_STATS")&&this.send(_b.PING_BACK,{pingpongElapse:iQ})}).catch(iQ=>{})}handleWebsocketEvents(){this.websocket.on(Tb.RECONNECT_WAITTING_FINISH,eQ=>{this.emit(pb.WS_RECONNECT_WAITTING_FINISH,eQ)}),this.websocket.on(Tb.RECONNECT_CREATE_CONNECTION,eQ=>{this.emit(pb.WS_RECONNECT_CREATE_CONNECTION,eQ)}),this.websocket.on(Tb.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(Tb.CLOSED,()=>{this.connectionState=hb.CLOSED}),this.websocket.on(Tb.FAILED,()=>{this._disconnectedReason=Av.NETWORK_ERROR,this.connectionState=hb.CLOSED}),this.websocket.on(Tb.RECONNECTING,eQ=>{this._websocketReconnectReason=eQ,this.joinResponse=void 0,this.connectionState===hb.CONNECTED?this.connectionState=hb.RECONNECTING:this.connectionState=hb.CONNECTING}),this.websocket.on(Tb.WILL_RECONNECT,(eQ,AQ,iQ)=>{eQ!=="retry"?(Qy.debug("".concat(this.clientId," websocket will_connect event, renewSession reconnectMode is ").concat(eQ)),this.reconnectToken=void 0):Qy.debug("".concat(this.clientId," reconnect mode is retry, no need to renew session")),iQ(eQ)}),this.websocket.on(Tb.CONNECTED,()=>{this.openConnectionTime=Date.now(),this.join().catch(eQ=>{if(this.emit(pb.REPORT_JOIN_GATEWAY,eQ,this.url||""),eQ instanceof rv&&eQ.code===nv.UNEXPECTED_RESPONSE&&eQ.data.code===ub.ERR_NO_AUTHORIZED)return Qy.warning("[".concat(this.clientId,"] reconnect no authorized, recover")),void this.reconnect("recover",Dv.SERVER_ERROR);Qy.error("[".concat(this.clientId,"] join gateway request failed"),eQ.toString()),this.spec.forceWaitGatewayResponse?this.reconnect("tryNext",Dv.SERVER_ERROR):(this.initError=eQ,this.close())})}),this.websocket.on(Tb.REQUEST_NEW_URLS,(eQ,AQ)=>{kv(this,pb.REQUEST_RECOVER,this.multiIpOption).then(eQ).catch(AQ)}),this.websocket.on(Tb.ON_TOKEN_PRIVILEGE_DID_EXPIRE,()=>{this.emit(mb.ON_TOKEN_PRIVILEGE_DID_EXPIRE)})}}var RM={exports:{}};RM.exports=(()=>{var tQ={8:(iQ,oQ,rQ)=>{rQ.r(oQ),rQ.d(oQ,{Parser:()=>NQ,Printer:()=>SQ,parse:()=>kQ,print:()=>GQ});const nQ=`
`,sQ="".concat("\r").concat(nQ),aQ=" ";let cQ;function gQ(vQ){return vQ>="0"&&vQ<="9"}function IQ(vQ){return vQ>="!"&&vQ<="~"}function EQ(vQ){return IQ(vQ)||vQ>="Â"&&vQ<="Ã¿"}function CQ(vQ){return vQ==="!"||vQ>="#"&&vQ<="'"||vQ>="*"&&vQ<="+"||vQ>="-"&&vQ<="."||vQ>="0"&&vQ<="9"||vQ>="A"&&vQ<="Z"||vQ>="^"&&vQ<="~"}function dQ(vQ){return vQ>="1"&&vQ<="9"}function lQ(vQ){return vQ>="A"&&vQ<="Z"||vQ>="a"&&vQ<="z"}function uQ(vQ){return vQ==="d"||vQ==="h"||vQ==="m"||vQ==="s"}function hQ(vQ){return vQ>""&&vQ<"	"||vQ>"\v"&&vQ<"\f"||vQ>""&&vQ<"Ã¿"}function BQ(vQ){return lQ(vQ)||gQ(vQ)||vQ==="+"||vQ==="/"}function QQ(vQ){return gQ(vQ)||lQ(vQ)||vQ==="+"||vQ==="/"||vQ==="-"||vQ==="_"}function fQ(vQ){return lQ(vQ)||gQ(vQ)||vQ==="+"||vQ==="/"}function _Q(vQ,pQ){var yQ=Object.keys(vQ);if(Object.getOwnPropertySymbols){var mQ=Object.getOwnPropertySymbols(vQ);pQ&&(mQ=mQ.filter(function(LQ){return Object.getOwnPropertyDescriptor(vQ,LQ).enumerable})),yQ.push.apply(yQ,mQ)}return yQ}function RQ(vQ){for(var pQ=1;pQ<arguments.length;pQ++){var yQ=arguments[pQ]!=null?arguments[pQ]:{};pQ%2?_Q(Object(yQ),!0).forEach(function(mQ){wQ(vQ,mQ,yQ[mQ])}):Object.getOwnPropertyDescriptors?Object.defineProperties(vQ,Object.getOwnPropertyDescriptors(yQ)):_Q(Object(yQ)).forEach(function(mQ){Object.defineProperty(vQ,mQ,Object.getOwnPropertyDescriptor(yQ,mQ))})}return vQ}function wQ(vQ,pQ,yQ){return pQ in vQ?Object.defineProperty(vQ,pQ,{value:yQ,enumerable:!0,configurable:!0,writable:!0}):vQ[pQ]=yQ,vQ}(function(vQ){vQ.VERSION="v",vQ.ORIGIN="o",vQ.SESSION_NAME="s",vQ.INFORMATION="i",vQ.URI="u",vQ.EMAIL="e",vQ.PHONE="p",vQ.CONNECTION="c",vQ.BANDWIDTH="b",vQ.TIME="t",vQ.REPEAT="r",vQ.ZONE_ADJUSTMENTS="z",vQ.KEY="k",vQ.ATTRIBUTE="a",vQ.MEDIA="m"})(cQ||(cQ={}));class bQ{consumeText(pQ,yQ){let mQ=yQ;for(;mQ<pQ.length;){const LQ=pQ[mQ];if(LQ==="\0"||LQ==="\r"||LQ===nQ)break;mQ+=1}if(mQ-yQ==0)throw new Error("Invalid text, at ".concat(pQ));return mQ}consumeUnicastAddress(pQ,yQ,mQ){return this.consumeTill(pQ,yQ,aQ)}consumeOneOrMore(pQ,yQ,mQ){let LQ=yQ;for(;mQ(pQ[LQ]);)LQ++;if(LQ-yQ==0)throw new Error("Invalid rule at ".concat(yQ,"."));return LQ}consumeSpace(pQ,yQ){if(pQ[yQ]===aQ)return yQ+1;throw new Error("Invalid space at ".concat(yQ,"."))}consumeIP4Address(pQ,yQ){let mQ=yQ;for(let LQ=0;LQ<4;LQ++)if(mQ=this.consumeDecimalUChar(pQ,mQ),LQ!==3){if(pQ[mQ]!==".")throw new Error("Invalid IP4 address.");mQ++}return mQ}consumeDecimalUChar(pQ,yQ){let mQ=yQ;for(let HQ=0;HQ<3&&gQ(pQ[mQ]);HQ++,mQ++);if(mQ-yQ==0)throw new Error("Invalid decimal uchar.");const LQ=parseInt(pQ.slice(yQ,mQ));if(LQ>=0&&LQ<=255)return mQ;throw new Error("Invalid decimal uchar")}consumeIP6Address(pQ,yQ){let mQ=this.consumeHexpart(pQ,yQ);return pQ[mQ]===":"&&(mQ+=1,mQ=this.consumeIP4Address(pQ,mQ)),mQ}consumeHexpart(pQ,yQ){let mQ=yQ;if(pQ[mQ]===":"&&pQ[mQ+1]===":"){mQ+=2;try{mQ=this.consumeHexseq(pQ,mQ)}catch{}return mQ}if(mQ=this.consumeHexseq(pQ,mQ),pQ[mQ]===":"&&pQ[mQ+1]===":"){mQ+=2;try{mQ=this.consumeHexseq(pQ,mQ)}catch{}return mQ}return mQ}consumeHexseq(pQ,yQ){let mQ=yQ;for(;mQ=this.consumeHex4(pQ,mQ),pQ[mQ]===":"&&pQ[mQ+1]!==":";)mQ+=1;return mQ}consumeHex4(pQ,yQ){let mQ=0;for(;mQ<4;mQ++)if(!((LQ=pQ[yQ+mQ])>="0"&&LQ<="9"||LQ>="a"&&LQ<="f"||LQ>="A"&&LQ<="F")){if(mQ===0)throw new Error("Invalid hex 4");break}var LQ;return yQ+mQ}consumeFQDN(pQ,yQ){let mQ=yQ;for(;gQ(pQ[mQ])||lQ(pQ[mQ])||pQ[mQ]==="-"||pQ[mQ]===".";)mQ+=1;if(mQ-yQ<4)throw new Error("Invalid FQDN");return mQ}consumeExtnAddr(pQ,yQ){return this.consumeOneOrMore(pQ,yQ,EQ)}consumeMulticastAddress(pQ,yQ,mQ){switch(mQ){case"IP4":case"ip4":return this.consumeIP4MulticastAddress(pQ,yQ);case"IP6":case"ip6":return this.consumeIP6MulticastAddress(pQ,yQ);default:try{return this.consumeFQDN(pQ,yQ)}catch{return this.consumeExtnAddr(pQ,yQ)}}}consumeIP6MulticastAddress(pQ,yQ){const mQ=this.consumeHexpart(pQ,yQ);return pQ[mQ]==="/"?this.consumeInteger(pQ,mQ+1):mQ}consumeIP4MulticastAddress(pQ,yQ){let mQ=yQ+3;const LQ=pQ.slice(yQ,mQ),HQ=parseInt(LQ);if(HQ<224||HQ>239)throw new Error("Invalid IP4 multicast address, IPv4 multicast addresses may be in the range 224.0.0.0 to 239.255.255.255.");for(let $Q=0;$Q<3;$Q++){if(pQ[mQ]!==".")throw new Error("Invalid IP4 multicast address.");mQ+=1,mQ=this.consumeDecimalUChar(pQ,mQ)}return pQ[mQ]==="/"&&(mQ+=1),mQ=this.consumeTTL(pQ,mQ),pQ[mQ]==="/"&&(mQ=this.consumeInteger(pQ,mQ)),mQ}consumeInteger(pQ,yQ){if(!dQ(pQ[yQ]))throw new Error("Invalid integer.");for(yQ+=1;gQ(pQ[yQ]);)yQ+=1;return yQ}consumeTTL(pQ,yQ){if(pQ[yQ]==="0")return yQ+1;if(!dQ(pQ[yQ]))throw new Error("Invalid TTL.");yQ+=1;for(let mQ=0;mQ<2&&gQ(pQ[yQ]);mQ++)yQ+=1;return yQ}consumeToken(pQ,yQ){return this.consumeOneOrMore(pQ,yQ,CQ)}consumeTime(pQ,yQ){let mQ=yQ;if(pQ[mQ]==="0")return mQ+1;for(dQ(pQ[mQ])&&(mQ+=1);gQ(pQ[mQ]);)mQ++;if(mQ-yQ<10)throw new Error("Invalid time");return mQ}consumeAddress(pQ,yQ){return this.consumeTill(pQ,yQ,aQ)}consumeTypedTime(pQ,yQ){let mQ=yQ;return mQ=this.consumeOneOrMore(pQ,mQ,gQ),uQ(pQ[mQ])?mQ+1:mQ}consumeRepeatInterval(pQ,yQ){if(!dQ(pQ[yQ]))throw new Error("Invalid repeat interval");for(yQ+=1;gQ(pQ[yQ]);)yQ+=1;return uQ(pQ[yQ])&&(yQ+=1),yQ}consumePort(pQ,yQ){return this.consumeOneOrMore(pQ,yQ,gQ)}consume(pQ,yQ,mQ){for(let LQ=0;LQ<mQ.length;LQ++){if(yQ+LQ>=pQ.length)throw new Error("consume exceeding value length");if(pQ[yQ+LQ]!==mQ[LQ])throw new Error("consume ".concat(mQ," failed at ").concat(LQ))}return yQ+mQ.length}consumeTill(pQ,yQ,mQ){let LQ=yQ;for(;LQ<pQ.length&&(typeof mQ!="string"||pQ[LQ]!==mQ)&&(typeof mQ!="function"||!mQ(pQ[LQ]));)LQ++;return LQ}}class NQ extends bQ{constructor(){super(),wQ(this,"records",[]),wQ(this,"currentLine",0)}parse(pQ){const yQ=this.probeEOL(pQ);this.records=pQ.split(yQ).filter(o0=>!!jp(o0).call(o0)).map(this.parseLine),this.currentLine=0;const mQ=this.parseVersion(),LQ=this.parseOrigin(),HQ=this.parseSessionName(),$Q=this.parseInformation(),A0=this.parseUri(),n0=this.parseEmail(),qQ=this.parsePhone(),I0=this.parseConnection(),c0=this.parseBandWidth(),g0=this.parseTimeFields(),a0=this.parseKey(),f0=this.parseSessionAttribute(),r0=this.parseMediaDescription();if(this.currentLine!==this.records.length)throw new Error("parsing failed, non exhaustive sdp lines.");return{version:mQ,origin:LQ,sessionName:HQ,information:$Q,uri:A0,emails:n0,phones:qQ,connection:I0,bandwidths:c0,timeFields:g0,key:a0,attributes:f0,mediaDescriptions:r0}}getCurrentRecord(){const pQ=this.records[this.currentLine];if(!pQ)throw new Error("Record doesn't exit.");return pQ}probeEOL(pQ){for(let yQ=0;yQ<pQ.length;yQ++)if(pQ[yQ]===nQ)return pQ[yQ-1]==="\r"?sQ:nQ;throw new Error("Invalid newline character.")}parseLine(pQ,yQ){if(pQ.length<2)throw new Error("Invalid sdp line, sdp line should be of form <type>=<value>.");const mQ=pQ[0];if(pQ[1]!=="=")throw new Error('Invalid sdp line, <type> should be a single character followed by an "=" sign.');return{type:mQ,value:pQ.slice(2),line:yQ,cur:0}}parseSessionAttribute(){const pQ=new PQ;for(;this.currentLine<this.records.length;){const yQ=this.getCurrentRecord();if(yQ.type!==cQ.ATTRIBUTE)break;const mQ={attField:this.extractOneOrMore(yQ,LQ=>CQ(LQ)&&LQ!==":"),_cur:0};yQ.value[yQ.cur]===":"&&(yQ.cur+=1,mQ.attValue=this.extractOneOrMore(yQ,hQ)),pQ.parse(mQ),this.currentLine++}return pQ.digest()}parseMediaAttributes(pQ){const yQ=new OQ(pQ);for(;this.currentLine<this.records.length;){const mQ=this.getCurrentRecord();if(mQ.type!==cQ.ATTRIBUTE)break;const LQ={attField:this.extractOneOrMore(mQ,HQ=>CQ(HQ)&&HQ!==":"),_cur:0};mQ.value[mQ.cur]===":"&&(mQ.cur+=1,LQ.attValue=this.extractOneOrMore(mQ,hQ)),yQ.parse(LQ),this.currentLine++}return yQ.digest()}parseKey(){const pQ=this.getCurrentRecord();if(pQ.type===cQ.KEY){if(pQ.value==="prompt"||pQ.value==="clear:"||pQ.value==="base64:"||pQ.value==="uri:")return pQ.value;throw this.currentLine++,new Error("Invalid key.")}}parseZone(){const pQ=this.getCurrentRecord();if(pQ.type===cQ.ZONE_ADJUSTMENTS){const yQ=[];for(;;)try{const mQ=this.extract(pQ,this.consumeTime);this.consumeSpaceForRecord(pQ);let LQ=!1;pQ.value[pQ.cur]==="-"&&(LQ=!0,pQ.cur+=1);const HQ=this.extract(pQ,this.consumeTypedTime);yQ.push({time:mQ,typedTime:HQ,back:LQ})}catch{break}if(yQ.length===0)throw new Error("Invalid zone adjustments");return this.currentLine++,yQ}return[]}parseRepeat(){const pQ=[];for(;;){const yQ=this.getCurrentRecord();if(yQ.type!==cQ.REPEAT)break;{const mQ=this.extract(yQ,this.consumeRepeatInterval),LQ=this.parseTypedTime(yQ);pQ.push({repeatInterval:mQ,typedTimes:LQ}),this.currentLine++}}return pQ}parseTypedTime(pQ){const yQ=[];for(;;)try{this.consumeSpaceForRecord(pQ),yQ.push(this.extract(pQ,this.consumeTypedTime))}catch{break}if(yQ.length===0)throw new Error("Invalid typed time.");return yQ}parseTime(){const pQ=this.getCurrentRecord(),yQ=this.extract(pQ,this.consumeTime);this.consumeSpaceForRecord(pQ);const mQ=this.extract(pQ,this.consumeTime);return this.currentLine++,{startTime:yQ,stopTime:mQ}}parseBandWidth(){const pQ=[];for(;this.currentLine<this.records.length;){const yQ=this.getCurrentRecord();if(yQ.type!==cQ.BANDWIDTH)break;{const mQ=this.extractOneOrMore(yQ,CQ);if(yQ.value[yQ.cur]!==":")throw new Error("Invalid bandwidth field.");yQ.cur++;const LQ=this.extractOneOrMore(yQ,gQ);pQ.push({bwtype:mQ,bandwidth:LQ}),this.currentLine++}}return pQ}parseVersion(){const pQ=this.getCurrentRecord();if(pQ.type!==cQ.VERSION)throw new Error("first sdp record must be version");const yQ=pQ.value.slice(0,this.consumeOneOrMore(pQ.value,0,gQ));if(yQ.length!==pQ.value.length)throw new Error('invalid proto version, "v='.concat(pQ.value,'"'));return this.currentLine++,yQ}parseOrigin(){const pQ=this.getCurrentRecord();if(pQ.type!==cQ.ORIGIN)throw new Error("second line of sdp must be origin");const yQ=this.extractOneOrMore(pQ,EQ);this.consumeSpaceForRecord(pQ);const mQ=this.extractOneOrMore(pQ,gQ);this.consumeSpaceForRecord(pQ);const LQ=this.extractOneOrMore(pQ,gQ);this.consumeSpaceForRecord(pQ);const HQ=this.extractOneOrMore(pQ,CQ);this.consumeSpaceForRecord(pQ);const $Q=this.extractOneOrMore(pQ,CQ);this.consumeSpaceForRecord(pQ);const A0=this.extract(pQ,this.consumeUnicastAddress);return this.currentLine++,{username:yQ,sessId:mQ,sessVersion:LQ,nettype:HQ,addrtype:$Q,unicastAddress:A0}}parseSessionName(){const pQ=this.getCurrentRecord();if(pQ.type===cQ.SESSION_NAME){const yQ=this.extract(pQ,this.consumeText);return this.currentLine++,yQ}}parseInformation(){const pQ=this.getCurrentRecord();if(pQ.type!==cQ.INFORMATION)return;const yQ=this.extract(pQ,this.consumeText);return this.currentLine++,yQ}parseUri(){const pQ=this.getCurrentRecord();if(pQ.type===cQ.URI)return this.currentLine++,pQ.value}parseEmail(){const pQ=[];for(;;){const yQ=this.getCurrentRecord();if(yQ.type!==cQ.EMAIL)break;pQ.push(yQ.value),this.currentLine++}return pQ}parsePhone(){const pQ=[];for(;;){const yQ=this.getCurrentRecord();if(yQ.type!==cQ.PHONE)break;pQ.push(yQ.value),this.currentLine++}return pQ}parseConnection(){const pQ=this.getCurrentRecord();if(pQ.type===cQ.CONNECTION){const yQ=this.extractOneOrMore(pQ,CQ);this.consumeSpaceForRecord(pQ);const mQ=this.extractOneOrMore(pQ,CQ);this.consumeSpaceForRecord(pQ);const LQ=this.extract(pQ,this.consumeAddress);return this.currentLine++,{nettype:yQ,addrtype:mQ,address:LQ}}}parseMedia(){const pQ=this.getCurrentRecord(),yQ=this.extract(pQ,this.consumeToken);this.consumeSpaceForRecord(pQ);let mQ=this.extract(pQ,this.consumePort);pQ.value[pQ.cur]==="/"&&(pQ.cur+=1,mQ+=this.extract(pQ,this.consumeInteger)),this.consumeSpaceForRecord(pQ);const LQ=[];for(LQ.push(this.extract(pQ,this.consumeToken));pQ.value[pQ.cur]==="/";)pQ.cur+=1,LQ.push(this.extract(pQ,this.consumeToken));if(LQ.length===0)throw new Error("Invalid proto");const HQ=this.parseFmt(pQ);return this.currentLine++,{mediaType:yQ,port:mQ,protos:LQ,fmts:HQ}}parseTimeFields(){const pQ=[];for(;this.getCurrentRecord().type===cQ.TIME;){const yQ=this.parseTime(),mQ=this.parseRepeat(),LQ=this.parseZone();pQ.push({time:yQ,repeats:mQ,zones:LQ})}return pQ}parseMediaDescription(){const pQ=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===cQ.MEDIA;){const yQ=this.parseMedia(),mQ=this.parseInformation(),LQ=this.parseConnections(),HQ=this.parseBandWidth(),$Q=this.parseKey(),A0=this.parseMediaAttributes(yQ);pQ.push({media:yQ,information:mQ,connections:LQ,bandwidths:HQ,key:$Q,attributes:A0})}return pQ}parseConnections(){const pQ=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===cQ.CONNECTION;)pQ.push(this.parseConnection());return pQ}parseFmt(pQ){const yQ=[];for(;;)try{this.consumeSpaceForRecord(pQ),yQ.push(this.extract(pQ,this.consumeToken))}catch{break}if(yQ.length===0)throw new Error("Invalid fmts");return yQ}extract(pQ,yQ){for(var mQ=arguments.length,LQ=new Array(mQ>2?mQ-2:0),HQ=2;HQ<mQ;HQ++)LQ[HQ-2]=arguments[HQ];const $Q=yQ.call(this,pQ.value,pQ.cur,...LQ),A0=pQ.value.slice(pQ.cur,$Q);return pQ.cur=$Q,A0}extractOneOrMore(pQ,yQ){const mQ=this.consumeOneOrMore(pQ.value,pQ.cur,yQ),LQ=pQ.value.slice(pQ.cur,mQ);return pQ.cur=mQ,LQ}consumeSpaceForRecord(pQ){if(pQ.value[pQ.cur]!==aQ)throw new Error("Invalid space at ".concat(pQ.cur,"."));pQ.cur+=1}}class UQ extends bQ{constructor(){super(...arguments),wQ(this,"attributes",void 0),wQ(this,"digested",!1)}extractOneOrMore(pQ,yQ,mQ){const LQ=this.consumeOneOrMore(pQ.attValue,pQ._cur,yQ),HQ=pQ.attValue.slice(pQ._cur,LQ),[$Q,A0]=mQ||[];if(typeof $Q=="number"&&HQ.length<$Q)throw new Error("error in length, should be more or equal than ".concat($Q," characters."));if(typeof A0=="number"&&HQ.length>A0)throw new Error("error in length, should be less or equal than ".concat(A0," characters."));return pQ._cur=LQ,HQ}consumeAttributeSpace(pQ){if(pQ.attValue[pQ._cur]!==aQ)throw new Error("Invalid space at ".concat(pQ._cur,"."));pQ._cur+=1}extract(pQ,yQ){if(!pQ.attValue)throw new Error("Nothing to extract from attValue.");for(var mQ=arguments.length,LQ=new Array(mQ>2?mQ-2:0),HQ=2;HQ<mQ;HQ++)LQ[HQ-2]=arguments[HQ];const $Q=yQ.call(this,pQ.attValue,pQ._cur,...LQ),A0=pQ.attValue.slice(pQ._cur,$Q);return pQ._cur=$Q,A0}atEnd(pQ){if(!pQ.attValue)throw new Error;return pQ._cur>=pQ.attValue.length}peekChar(pQ){if(!pQ.attValue)throw new Error;return pQ.attValue[pQ._cur]}peek(pQ,yQ){if(!pQ.attValue)throw new Error;for(let mQ=0;mQ<yQ.length;mQ++)if(yQ[mQ]!==pQ.attValue[pQ._cur+mQ])return!1;return!0}parseIceUfrag(pQ){if(this.attributes.iceUfrag)throw new Error("Invalid ice-ufrag, should be only a single line if 'a=ice-ufrag'");this.attributes.iceUfrag=this.extractOneOrMore(pQ,BQ,[4,256])}parseIcePwd(pQ){if(this.attributes.icePwd)throw new Error("Invalid ice-pwd, should be only a single line if 'a=ice-pwd'");this.attributes.icePwd=this.extractOneOrMore(pQ,BQ,[22,256])}parseIceOptions(pQ){if(this.attributes.iceOptions)throw new Error("Invalid ice-options, should be only one 'ice-options' line");const yQ=[];for(;!this.atEnd(pQ);){yQ.push(this.extractOneOrMore(pQ,BQ));try{this.consumeAttributeSpace(pQ)}catch(mQ){if(this.atEnd(pQ))break;throw mQ}}this.attributes.iceOptions=yQ}parseFingerprint(pQ){const yQ=this.extract(pQ,this.consumeToken);this.consumeAttributeSpace(pQ);const mQ=this.extract(pQ,this.consumeTill);this.attributes.fingerprints.push({hashFunction:yQ,fingerprint:mQ})}parseExtmap(pQ){const yQ=this.extractOneOrMore(pQ,gQ);let mQ;this.peekChar(pQ)==="/"&&(this.extract(pQ,this.consume,"/"),mQ=this.extract(pQ,this.consumeToken)),this.consumeAttributeSpace(pQ);const LQ=this.extract(pQ,this.consumeTill,aQ),HQ=RQ(RQ({entry:parseInt(yQ,10)},mQ&&{direction:mQ}),{},{extensionName:LQ});this.peekChar(pQ)===aQ&&(this.consumeAttributeSpace(pQ),HQ.extensionAttributes=this.extract(pQ,this.consumeTill)),this.attributes.extmaps.push(HQ)}parseSetup(pQ){if(this.attributes.setup)throw new Error("must only be one single 'a=setup' line.");const yQ=this.extract(pQ,this.consumeTill);if(yQ!=="active"&&yQ!=="passive"&&yQ!=="actpass"&&yQ!=="holdconn")throw new Error("role must be one of 'active', 'passive', 'actpass', 'holdconn'.");this.attributes.setup=yQ}}class PQ extends UQ{constructor(){super(...arguments),wQ(this,"attributes",{unrecognized:[],groups:[],extmaps:[],fingerprints:[],identities:[]})}parse(pQ){if(this.digested)throw new Error("already digested");try{switch(pQ.attField){case"group":this.parseGroup(pQ);break;case"ice-lite":this.parseIceLite();break;case"ice-ufrag":this.parseIceUfrag(pQ);break;case"ice-pwd":this.parseIcePwd(pQ);break;case"ice-options":this.parseIceOptions(pQ);break;case"fingerprint":this.parseFingerprint(pQ);break;case"setup":this.parseSetup(pQ);break;case"tls-id":this.parseTlsId(pQ);break;case"identity":this.parseIdentity(pQ);break;case"extmap":this.parseExtmap(pQ);break;case"msid-semantic":this.parseMsidSemantic(pQ);break;default:pQ.ignored=!0,this.attributes.unrecognized.push(pQ)}}catch(yQ){throw console.error("parsing session attribute ".concat(pQ.attField,' error, "a=').concat(pQ.attField,":").concat(pQ.attValue,'"')),yQ}if(!pQ.ignored&&pQ.attValue&&!this.atEnd(pQ))throw new Error("attribute parsing error")}digest(){return this.digested=!0,this.attributes}parseGroup(pQ){const yQ=this.extract(pQ,this.consumeToken),mQ=[];for(;!this.atEnd(pQ)&&this.peekChar(pQ)===aQ;)this.consumeAttributeSpace(pQ),mQ.push(this.extract(pQ,this.consumeToken));this.attributes.groups.push({semantic:yQ,identificationTag:mQ})}parseIceLite(){if(this.attributes.iceLite)throw new Error("Invalid ice-lite, should be only a single line of 'a=ice-lite'");this.attributes.iceLite=!0}parseTlsId(pQ){if(this.attributes.tlsId)throw new Error("must be only one tld-id line");this.attributes.tlsId=this.extractOneOrMore(pQ,QQ)}parseIdentity(pQ){const yQ=this.extractOneOrMore(pQ,fQ),mQ=[];for(;!this.atEnd(pQ)&&this.peekChar(pQ)===aQ;){this.consumeAttributeSpace(pQ);const LQ=this.extract(pQ,this.consumeToken);this.extract(pQ,this.consume,"=");const HQ=this.extractOneOrMore(pQ,$Q=>$Q!==aQ&&hQ($Q));mQ.push({name:LQ,value:HQ})}this.attributes.identities.push({assertionValue:yQ,extensions:mQ})}parseMsidSemantic(pQ){this.peekChar(pQ)===aQ&&this.consumeAttributeSpace(pQ);const yQ={semantic:this.extract(pQ,this.consumeToken),identifierList:[]};for(;;){try{this.consumeAttributeSpace(pQ)}catch{break}if(this.peekChar(pQ)==="*"){this.extract(pQ,this.consume,"*"),yQ.applyForAll=!0;break}{const mQ=this.extract(pQ,this.consumeTill,aQ);yQ.identifierList.push(mQ)}}this.attributes.msidSemantic=yQ}}class OQ extends UQ{constructor(pQ){super(),wQ(this,"attributes",void 0),pQ.protos.indexOf("RTP")!==-1||pQ.protos.indexOf("rtp"),this.attributes={unrecognized:[],candidates:[],extmaps:[],fingerprints:[],imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[]}}parse(pQ){if(this.digested)throw new Error("already digested");try{switch(pQ.attField){case"extmap":this.parseExtmap(pQ);break;case"setup":this.parseSetup(pQ);break;case"ice-ufrag":this.parseIceUfrag(pQ);break;case"ice-pwd":this.parseIcePwd(pQ);break;case"ice-options":this.parseIceOptions(pQ);break;case"candidate":this.parseCandidate(pQ);break;case"remote-candidate":this.parseRemoteCandidate(pQ);break;case"end-of-candidates":this.parseEndOfCandidates();break;case"fingerprint":this.parseFingerprint(pQ);break;case"rtpmap":this.parseRtpmap(pQ);break;case"ptime":this.parsePtime(pQ);break;case"maxptime":this.parseMaxPtime(pQ);break;case"sendrecv":case"recvonly":case"sendonly":case"inactive":this.parseDirection(pQ);break;case"ssrc":this.parseSSRC(pQ);break;case"fmtp":this.parseFmtp(pQ);break;case"rtcp-fb":this.parseRtcpFb(pQ);break;case"rtcp-mux":this.parseRTCPMux();break;case"rtcp-mux-only":this.parseRTCPMuxOnly();break;case"rtcp-rsize":this.parseRTCPRsize();break;case"rtcp":this.parseRTCP(pQ);break;case"mid":this.parseMid(pQ);break;case"msid":this.parseMsid(pQ);break;case"imageattr":this.parseImageAttr(pQ);break;case"rid":this.parseRid(pQ);break;case"simulcast":this.parseSimulcast(pQ);break;case"sctp-port":this.parseSctpPort(pQ);break;case"max-message-size":this.parseMaxMessageSize(pQ);break;case"ssrc-group":this.parseSSRCGroup(pQ);break;default:pQ.ignored=!0,this.attributes.unrecognized.push(pQ)}}catch(yQ){throw console.error("parsing media attribute ".concat(pQ.attField,' error, "a=').concat(pQ.attField,":").concat(pQ.attValue,'"')),yQ}if(!pQ.ignored&&pQ.attValue&&!this.atEnd(pQ))throw new Error("attribute parsing error")}parseCandidate(pQ){const yQ=this.extractOneOrMore(pQ,BQ,[1,32]);this.consumeAttributeSpace(pQ);const mQ=this.extractOneOrMore(pQ,gQ,[1,5]);this.consumeAttributeSpace(pQ);const LQ=this.extract(pQ,this.consumeToken);this.consumeAttributeSpace(pQ);const HQ=this.extractOneOrMore(pQ,gQ,[1,10]);this.consumeAttributeSpace(pQ);const $Q=this.extract(pQ,this.consumeAddress);this.consumeAttributeSpace(pQ);const A0=this.extract(pQ,this.consumePort);this.consumeAttributeSpace(pQ),this.extract(pQ,this.consume,"typ"),this.consumeAttributeSpace(pQ);const n0={foundation:yQ,componentId:mQ,transport:LQ,priority:HQ,connectionAddress:$Q,port:A0,type:this.extract(pQ,this.consumeToken),extension:{}};for(this.peek(pQ," raddr")&&(this.extract(pQ,this.consume," raddr"),this.consumeAttributeSpace(pQ),n0.relAddr=this.extract(pQ,this.consumeAddress)),this.peek(pQ," rport")&&(this.extract(pQ,this.consume," rport"),this.consumeAttributeSpace(pQ),n0.relPort=this.extract(pQ,this.consumePort));this.peekChar(pQ)===aQ;){this.consumeAttributeSpace(pQ);const qQ=this.extract(pQ,this.consumeToken);this.consumeAttributeSpace(pQ),n0.extension[qQ]=this.extractOneOrMore(pQ,IQ)}this.attributes.candidates.push(n0)}parseRemoteCandidate(pQ){const yQ=[];for(;;){const mQ=this.extractOneOrMore(pQ,gQ,[1,5]);this.consumeAttributeSpace(pQ);const LQ=this.extract(pQ,this.consumeAddress);this.consumeAttributeSpace(pQ);const HQ=this.extract(pQ,this.consumePort);yQ.push({componentId:mQ,connectionAddress:LQ,port:HQ});try{this.consumeAttributeSpace(pQ)}catch{break}}this.attributes.remoteCandidatesList.push(yQ)}parseEndOfCandidates(){if(this.attributes.endOfCandidates)throw new Error("must be only one line of end-of-candidates");this.attributes.endOfCandidates=!0}parseRtpmap(pQ){const yQ=this.extract(pQ,this.consumeToken);this.consumeAttributeSpace(pQ);const mQ=this.extract(pQ,this.consumeTill,"/");this.extract(pQ,this.consume,"/");const LQ={encodingName:mQ,clockRate:this.extractOneOrMore(pQ,gQ)};this.atEnd(pQ)||this.peekChar(pQ)!=="/"||(this.extract(pQ,this.consume,"/"),LQ.encodingParameters=parseInt(this.extract(pQ,this.consumeTill),10));const HQ=this.attributes.payloads.find($Q=>$Q.payloadType===parseInt(yQ,10));HQ?HQ.rtpMap=LQ:this.attributes.payloads.push({payloadType:parseInt(yQ,10),rtpMap:LQ,rtcpFeedbacks:[]})}parsePtime(pQ){if(this.attributes.ptime)throw new Error("must be only one line of ptime");this.attributes.ptime=this.extract(pQ,this.consumeTill)}parseMaxPtime(pQ){if(this.attributes.maxPtime)throw new Error("must be only one line of ptime");this.attributes.maxPtime=this.extract(pQ,this.consumeTill)}parseDirection(pQ){if(this.attributes.direction)throw new Error("must be only one line of direction info");this.attributes.direction=pQ.attField}parseSSRC(pQ){const yQ=this.extractOneOrMore(pQ,gQ);this.consumeAttributeSpace(pQ);const mQ=this.extract(pQ,this.consumeTill,":");let LQ;this.peekChar(pQ)===":"&&(this.extract(pQ,this.consume,":"),LQ=this.extract(pQ,this.consumeTill));const HQ=this.attributes.ssrcs.find($Q=>$Q.ssrcId===parseInt(yQ,10));HQ?HQ.attributes[mQ]=LQ:this.attributes.ssrcs.push({ssrcId:parseInt(yQ,10),attributes:{[mQ]:LQ}})}parseFmtp(pQ){const yQ=this.extract(pQ,this.consumeTill,aQ);this.consumeAttributeSpace(pQ);const mQ=this.extract(pQ,this.consumeTill),LQ={};mQ.split(";").forEach($Q=>{let[A0,n0]=$Q.split("=");A0=jp(A0).call(A0);const qQ=typeof n0=="string"?jp(n0).call(n0):null;typeof A0=="string"&&A0.length>0&&(LQ[A0]=qQ)});const HQ=this.attributes.payloads.find($Q=>$Q.payloadType===parseInt(yQ,10));HQ?HQ.fmtp={parameters:LQ}:this.attributes.payloads.push({payloadType:parseInt(yQ,10),rtcpFeedbacks:[],fmtp:{parameters:LQ}})}parseFmtParameters(pQ){const yQ={},mQ=this.extract(pQ,this.consumeTill,"=");pQ._cur++;const LQ=this.extract(pQ,this.consumeTill,";");for(yQ[mQ]=LQ;pQ.attValue[pQ._cur]===";";){const HQ=this.extract(pQ,this.consumeTill,"=");pQ._cur++;const $Q=this.extract(pQ,this.consumeTill,";");yQ[HQ]=$Q}return yQ}parseRtcpFb(pQ){let yQ="";yQ=this.peekChar(pQ)==="*"?this.extract(pQ,this.consume,"*"):this.extract(pQ,this.consumeTill,aQ),this.consumeAttributeSpace(pQ);const mQ=this.extract(pQ,this.consumeTill,aQ);let LQ;if(mQ==="trr-int")LQ={type:mQ,interval:this.extract(pQ,this.consumeTill)};else{const HQ={type:mQ};this.peekChar(pQ)===aQ&&(this.consumeAttributeSpace(pQ),HQ.parameter=this.extract(pQ,this.consumeToken),this.peekChar(pQ)===aQ&&(HQ.additional=this.extract(pQ,this.consumeTill))),LQ=HQ}if(yQ==="*")this.attributes.rtcpFeedbackWildcards.push(LQ);else{const HQ=this.attributes.payloads.find($Q=>$Q.payloadType===parseInt(yQ,10));HQ?HQ.rtcpFeedbacks.push(LQ):this.attributes.payloads.push({payloadType:parseInt(yQ,10),rtcpFeedbacks:[LQ]})}}parseRTCPMux(){if(this.attributes.rtcpMux)throw new Error("must be single line of rtcp-mux");this.attributes.rtcpMux=!0}parseRTCPMuxOnly(){if(this.attributes.rtcpMuxOnly)throw new Error("must be single line of rtcp-only");this.attributes.rtcpMuxOnly=!0}parseRTCPRsize(){if(this.attributes.rtcpRsize)throw new Error("must be single line of rtcp-rsize");this.attributes.rtcpRsize=!0}parseRTCP(pQ){if(this.attributes.rtcp)throw new Error("must be single line of rtcp");const yQ={port:this.extract(pQ,this.consumePort)};this.peekChar(pQ)===aQ&&(this.consumeAttributeSpace(pQ),yQ.netType=this.extractOneOrMore(pQ,CQ),this.consumeAttributeSpace(pQ),yQ.addressType=this.extractOneOrMore(pQ,CQ),this.consumeAttributeSpace(pQ),yQ.address=this.extract(pQ,this.consumeAddress)),this.attributes.rtcp=yQ}parseMsid(pQ){const yQ={id:this.extractOneOrMore(pQ,CQ,[1,64])};this.peekChar(pQ)===aQ&&(this.consumeAttributeSpace(pQ),yQ.appdata=this.extractOneOrMore(pQ,CQ,[1,64])),this.attributes.msids.push(yQ)}parseImageAttr(pQ){this.attributes.imageattr.push(pQ.attValue)}parseRid(pQ){const yQ=this.extractOneOrMore(pQ,LQ=>lQ(LQ)||gQ(LQ)||LQ==="_"||LQ==="-");this.consumeAttributeSpace(pQ);const mQ={id:yQ,direction:this.extract(pQ,this.consumeToken),params:[]};if(this.peekChar(pQ)===aQ){if(this.consumeAttributeSpace(pQ),this.peek(pQ,"pt=")){this.extract(pQ,this.consume,"pt=");const LQ=[];for(;;){const HQ=this.extract(pQ,this.consumeToken);LQ.push(HQ);try{this.extract(pQ,this.consume,",")}catch{break}}mQ.payloads=LQ,this.peekChar(pQ)===aQ&&this.extract(pQ,this.consume,aQ)}for(;;){const LQ=this.extract(pQ,this.consumeToken);switch(LQ){case"depend":{const HQ={type:LQ,rids:this.extract(pQ,this.consume,"=").split(",")};mQ.params.push(HQ);break}default:{const HQ={type:LQ};this.peekChar(pQ)==="="&&(this.extract(pQ,this.consume,"="),HQ.val=this.extract(pQ,this.consumeTill,";")),mQ.params.push(HQ)}}try{this.extract(pQ,this.consume,";")}catch{break}}}this.attributes.rids.push(mQ)}parseSimulcast(pQ){if(this.attributes.simulcast)throw new Error("must be single line of simulcast");this.attributes.simulcast=pQ.attValue,this.extract(pQ,this.consumeTill)}parseSctpPort(pQ){this.attributes.sctpPort=this.extractOneOrMore(pQ,gQ,[1,5])}parseMaxMessageSize(pQ){this.attributes.maxMessageSize=this.extractOneOrMore(pQ,gQ,[1,void 0])}digest(){return this.digested=!0,this.attributes}parseMid(pQ){this.attributes.mid=this.extract(pQ,this.consumeToken)}parseSSRCGroup(pQ){const yQ=this.extract(pQ,this.consumeToken),mQ=[];for(;;)try{this.consumeAttributeSpace(pQ);const LQ=this.extract(pQ,this.consumeInteger);mQ.push(parseInt(LQ,10))}catch{break}this.attributes.ssrcGroups.push({semantic:yQ,ssrcIds:mQ})}}function YQ(vQ,pQ,yQ){return pQ in vQ?Object.defineProperty(vQ,pQ,{value:yQ,enumerable:!0,configurable:!0,writable:!0}):vQ[pQ]=yQ,vQ}class SQ{constructor(){YQ(this,"eol",sQ)}print(pQ,yQ){let mQ="";return yQ&&(this.eol=yQ),mQ+=this.printVersion(pQ.version),mQ+=this.printOrigin(pQ.origin),mQ+=this.printSessionName(pQ.sessionName),mQ+=this.printInformation(pQ.information),mQ+=this.printUri(pQ.uri),mQ+=this.printEmail(pQ.emails),mQ+=this.printPhone(pQ.phones),mQ+=this.printConnection(pQ.connection),mQ+=this.printBandwidth(pQ.bandwidths),mQ+=this.printTimeFields(pQ.timeFields),mQ+=this.printKey(pQ.key),mQ+=this.printSessionAttributes(pQ.attributes),mQ+=this.printMediaDescription(pQ.mediaDescriptions),mQ}printVersion(pQ){return"v=".concat(pQ).concat(this.eol)}printOrigin(pQ){return"o=".concat(pQ.username," ").concat(pQ.sessId," ").concat(pQ.sessVersion," ").concat(pQ.nettype," ").concat(pQ.addrtype," ").concat(pQ.unicastAddress).concat(this.eol)}printSessionName(pQ){return pQ?"s=".concat(pQ).concat(this.eol):""}printInformation(pQ){return pQ?"i=".concat(pQ).concat(this.eol):""}printUri(pQ){return pQ?"u=".concat(pQ).concat(this.eol):""}printEmail(pQ){let yQ="";for(const mQ of pQ)yQ+="e=".concat(mQ).concat(this.eol);return yQ}printPhone(pQ){let yQ="";for(const mQ of pQ)yQ+="e=".concat(mQ).concat(this.eol);return yQ}printConnection(pQ){return pQ?"c=".concat(pQ.nettype," ").concat(pQ.addrtype," ").concat(pQ.address).concat(this.eol):""}printBandwidth(pQ){let yQ="";for(const mQ of pQ)yQ+="b=".concat(mQ.bwtype,":").concat(mQ.bandwidth).concat(this.eol);return yQ}printTimeFields(pQ){let yQ="";for(const mQ of pQ){yQ+="t=".concat(mQ.time.startTime," ").concat(mQ.time.startTime).concat(this.eol);for(const LQ of mQ.repeats)yQ+="r=".concat(LQ.repeatInterval," ").concat(LQ.typedTimes.join(" ")).concat(this.eol);mQ.zoneAdjustments&&(yQ+="z=",yQ+="z=".concat(mQ.zoneAdjustments.map(LQ=>"".concat(LQ.time," ").concat(LQ.back?"-":""," ").concat(LQ.typedTime)).join(" ")).concat(this.eol),yQ+=this.eol)}return yQ}printKey(pQ){return pQ?"k=".concat(pQ).concat(this.eol):""}printAttributes(pQ){let yQ="";for(const mQ of pQ)yQ+="a=".concat(mQ.attField).concat(mQ.attValue?":".concat(mQ.attValue):"").concat(this.eol);return yQ}printMediaDescription(pQ){let yQ="";for(const mQ of pQ)yQ+=this.printMedia(mQ.media),yQ+=this.printInformation(mQ.information),yQ+=this.printConnections(mQ.connections),yQ+=this.printBandwidth(mQ.bandwidths),yQ+=this.printKey(mQ.key),yQ+=this.printMediaAttributes(mQ);return yQ}printConnections(pQ){let yQ="";for(const mQ of pQ)yQ+=this.printConnection(mQ);return yQ}printMedia(pQ){return"m=".concat(pQ.mediaType," ").concat(pQ.port," ").concat(pQ.protos.join("/")," ").concat(pQ.fmts.join(" ")).concat(this.eol)}printSessionAttributes(pQ){return new VQ(this.eol).print(pQ)}printMediaAttributes(pQ){return new TQ(this.eol).print(pQ)}}class xQ{constructor(pQ){YQ(this,"eol",void 0),this.eol=pQ}printIceUfrag(pQ){return pQ===void 0?"":"a=ice-ufrag:".concat(pQ).concat(this.eol)}printIcePwd(pQ){return pQ===void 0?"":"a=ice-pwd:".concat(pQ).concat(this.eol)}printIceOptions(pQ){return pQ===void 0?"":"a=ice-options:".concat(pQ.join(aQ)).concat(this.eol)}printFingerprints(pQ){return pQ.length>0?pQ.map(yQ=>"a=fingerprint:".concat(yQ.hashFunction).concat(aQ).concat(yQ.fingerprint)).join(this.eol)+this.eol:""}printExtmap(pQ){return pQ.map(yQ=>"a=extmap:".concat(yQ.entry).concat(yQ.direction?"/".concat(yQ.direction):"").concat(aQ).concat(yQ.extensionName).concat(yQ.extensionAttributes?"".concat(aQ).concat(yQ.extensionAttributes):"").concat(this.eol)).join("")}printSetup(pQ){return pQ===void 0?"":"a=setup:".concat(pQ).concat(this.eol)}printUnrecognized(pQ){return pQ.map(yQ=>"a=".concat(yQ.attField).concat(yQ.attValue?":".concat(yQ.attValue):"").concat(this.eol)).join("")}}class VQ extends xQ{print(pQ){let yQ="";return yQ+=this.printGroups(pQ.groups),yQ+=this.printMsidSemantic(pQ.msidSemantic),yQ+=this.printIceLite(pQ.iceLite),yQ+=this.printIceUfrag(pQ.iceUfrag),yQ+=this.printIcePwd(pQ.icePwd),yQ+=this.printIceOptions(pQ.iceOptions),yQ+=this.printFingerprints(pQ.fingerprints),yQ+=this.printSetup(pQ.setup),yQ+=this.printTlsId(pQ.tlsId),yQ+=this.printIdentity(pQ.identities),yQ+=this.printExtmap(pQ.extmaps),yQ+=this.printUnrecognized(pQ.unrecognized),yQ}printGroups(pQ){let yQ="";return pQ.length>0&&(yQ+=pQ.map(mQ=>"a=group:".concat(mQ.semantic).concat(mQ.identificationTag.map(LQ=>"".concat(aQ).concat(LQ)).join("")).concat(this.eol)).join("")),yQ}printIceLite(pQ){return pQ===void 0?"":"a=ice-lite"+this.eol}printTlsId(pQ){return pQ?"a=tls-id:".concat(pQ).concat(this.eol):""}printIdentity(pQ){return pQ.length===0?"":pQ.map(yQ=>"a=identity:".concat(yQ.assertionValue).concat(yQ.extensions.map(mQ=>"".concat(aQ).concat(mQ.name).concat(mQ.value?"=".concat(mQ.value):"")))).join(this.eol)+this.eol}printMsidSemantic(pQ){if(!pQ)return"";let yQ="a=msid-semantic:".concat(pQ.semantic);return pQ.applyForAll?yQ+="".concat(aQ,"*"):pQ.identifierList.length>0&&(yQ+=pQ.identifierList.map(mQ=>"".concat(aQ).concat(mQ))),yQ+this.eol}}class TQ extends xQ{print(pQ){const yQ=pQ.attributes;let mQ="";return mQ+=this.printRTCP(yQ.rtcp),mQ+=this.printIceUfrag(yQ.iceUfrag),mQ+=this.printIcePwd(yQ.icePwd),mQ+=this.printIceOptions(yQ.iceOptions),mQ+=this.printCandidates(yQ.candidates),mQ+=this.printRemoteCandidatesList(yQ.remoteCandidatesList),mQ+=this.printEndOfCandidates(yQ.endOfCandidates),mQ+=this.printFingerprints(yQ.fingerprints),mQ+=this.printSetup(yQ.setup),mQ+=this.printMid(yQ.mid),mQ+=this.printExtmap(yQ.extmaps),mQ+=this.printRTPRelated(yQ),mQ+=this.printPtime(yQ.ptime),mQ+=this.printMaxPtime(yQ.maxPtime),mQ+=this.printDirection(yQ.direction),mQ+=this.printSSRCGroups(yQ.ssrcGroups),mQ+=this.printSSRC(yQ.ssrcs),mQ+=this.printRTCPMux(yQ.rtcpMux),mQ+=this.printRTCPMuxOnly(yQ.rtcpMuxOnly),mQ+=this.printRTCPRsize(yQ.rtcpRsize),mQ+=this.printMSId(yQ.msids),mQ+=this.printImageattr(yQ.imageattr),mQ+=this.printRid(yQ.rids),mQ+=this.printSimulcast(yQ.simulcast),mQ+=this.printSCTPPort(yQ.sctpPort),mQ+=this.printMaxMessageSize(yQ.maxMessageSize),mQ+=this.printUnrecognized(yQ.unrecognized),mQ}printCandidates(pQ){return pQ.map(yQ=>"a=candidate:".concat(yQ.foundation).concat(aQ).concat(yQ.componentId).concat(aQ).concat(yQ.transport).concat(aQ).concat(yQ.priority).concat(aQ).concat(yQ.connectionAddress).concat(aQ).concat(yQ.port).concat(aQ,"typ").concat(aQ).concat(yQ.type).concat(yQ.relAddr?"".concat(aQ,"raddr").concat(aQ).concat(yQ.relAddr):"").concat(yQ.relPort?"".concat(aQ,"rport").concat(aQ).concat(yQ.relPort):"").concat(Object.keys(yQ.extension).map(mQ=>"".concat(aQ).concat(mQ).concat(aQ).concat(yQ.extension[mQ])).join("")).concat(this.eol)).join("")}printRemoteCandidatesList(pQ){return pQ.map(yQ=>"a=remote-candidates:".concat(yQ.join(aQ)).concat(this.eol)).join("")}printEndOfCandidates(pQ){return pQ===void 0?"":"a=end-of-candidates"+this.eol}printRTPRelated(pQ){if(!pQ.payloads)return"";const yQ=pQ.payloads;let mQ="";mQ+=pQ.rtcpFeedbackWildcards.map(LQ=>this.printRTCPFeedback("*",LQ)).join("");for(const LQ of yQ)mQ+=this.printRtpMap(LQ.payloadType,LQ.rtpMap),mQ+=this.printFmtp(LQ.payloadType,LQ.fmtp),mQ+=LQ.rtcpFeedbacks.map(HQ=>this.printRTCPFeedback(LQ.payloadType,HQ)).join("");return mQ}printFmtp(pQ,yQ){if(!yQ)return"";const mQ=Object.keys(yQ.parameters);return mQ.length===1&&yQ.parameters[mQ[0]]===null?"a=fmtp:".concat(pQ).concat(aQ).concat(mQ[0]).concat(this.eol):"a=fmtp:".concat(pQ).concat(aQ).concat(Object.keys(yQ.parameters).map(LQ=>"".concat(LQ,"=").concat(yQ.parameters[LQ])).join(";")).concat(this.eol)}printRtpMap(pQ,yQ){return yQ?"a=rtpmap:".concat(pQ).concat(aQ).concat(yQ.encodingName,"/").concat(yQ.clockRate).concat(yQ.encodingParameters?"/".concat(yQ.encodingParameters):"").concat(this.eol):""}printRTCPFeedback(pQ,yQ){let mQ="a=rtcp-fb:".concat(pQ).concat(aQ),LQ=yQ;return LQ.type==="trr-int"?mQ+="ttr-int".concat(aQ).concat(LQ.interval):(mQ+="".concat(LQ.type),LQ.parameter&&(mQ+="".concat(aQ).concat(LQ.parameter),LQ.additional&&(mQ+="".concat(aQ).concat(LQ.additional)))),mQ+this.eol}printPtime(pQ){return pQ===void 0?"":"a=ptime:".concat(pQ).concat(this.eol)}printMaxPtime(pQ){return pQ===void 0?"":"a=maxptime:".concat(pQ).concat(this.eol)}printDirection(pQ){return pQ===void 0?"":"a=".concat(pQ).concat(this.eol)}printSSRC(pQ){return pQ.map(yQ=>Object.keys(yQ.attributes).map(mQ=>"a=ssrc:".concat(yQ.ssrcId.toString(10)).concat(aQ).concat(mQ).concat(yQ.attributes[mQ]?":".concat(yQ.attributes[mQ]):"").concat(this.eol)).join("")).join("")}printRTCPMux(pQ){return pQ===void 0?"":"a=rtcp-mux".concat(this.eol)}printRTCPMuxOnly(pQ){return pQ===void 0?"":"a=rtcp-mux-only".concat(this.eol)}printRTCPRsize(pQ){return pQ===void 0?"":"a=rtcp-rsize".concat(this.eol)}printRTCP(pQ){if(pQ===void 0)return"";let yQ="a=rtcp:".concat(pQ.port);return pQ.netType&&(yQ+="".concat(aQ).concat(pQ.netType)),pQ.addressType&&(yQ+="".concat(aQ).concat(pQ.addressType)),pQ.address&&(yQ+="".concat(aQ).concat(pQ.address)),yQ+this.eol}printMSId(pQ){return pQ.map(yQ=>"a=msid:".concat(yQ.id).concat(yQ.appdata?"".concat(aQ).concat(yQ.appdata):"").concat(this.eol)).join("")}printImageattr(pQ){return pQ.map(yQ=>"a=imageattr:".concat(yQ).concat(this.eol)).join("")}printRid(pQ){return pQ.map(yQ=>{let mQ="a=rid:".concat(yQ.id).concat(aQ).concat(yQ.direction);return yQ.payloads&&(mQ+="".concat(aQ,"pt=").concat(yQ.payloads.join(","))),yQ.params.length>0&&(mQ+="".concat(aQ).concat(yQ.params.map(LQ=>LQ.type==="depend"?"depend=".concat(LQ.rids.join(",")):"".concat(LQ.type,"=").concat(LQ.val)).join(";"))),mQ+this.eol}).join("")}printSimulcast(pQ){return pQ===void 0?"":"a=simulcast:".concat(pQ).concat(this.eol)}printSCTPPort(pQ){return pQ===void 0?"":"a=sctp-port:".concat(pQ).concat(this.eol)}printMaxMessageSize(pQ){return pQ===void 0?"":"a=max-message-size:".concat(pQ).concat(this.eol)}printMid(pQ){return pQ===void 0?"":"a=mid:".concat(pQ).concat(this.eol)}printSSRCGroups(pQ){return pQ.map(yQ=>"a=ssrc-group:".concat(yQ.semantic).concat(yQ.ssrcIds.map(mQ=>"".concat(aQ).concat(mQ.toString(10))).join("")).concat(this.eol)).join("")}}function kQ(vQ){return new NQ().parse(vQ)}function GQ(vQ,pQ){return new SQ().print(vQ,pQ)}}},eQ={};function AQ(iQ){if(eQ[iQ])return eQ[iQ].exports;var oQ=eQ[iQ]={exports:{}};return tQ[iQ](oQ,oQ.exports,AQ),oQ.exports}return AQ.d=(iQ,oQ)=>{for(var rQ in oQ)AQ.o(oQ,rQ)&&!AQ.o(iQ,rQ)&&Object.defineProperty(iQ,rQ,{enumerable:!0,get:oQ[rQ]})},AQ.o=(iQ,oQ)=>Object.prototype.hasOwnProperty.call(iQ,oQ),AQ.r=iQ=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(iQ,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(iQ,"__esModule",{value:!0})},AQ(8)})();var CM=RM.exports;function IM(){let tQ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Dy("SVC_MODE");if(Dy("ENABLE_SVC"))return function(eQ){return eQ in ob}(tQ)?tQ:ob.L1T3}function vM(tQ,eQ){var AQ=Object.keys(tQ);if(Object.getOwnPropertySymbols){var iQ=Object.getOwnPropertySymbols(tQ);eQ&&(iQ=iQ.filter(function(oQ){return Object.getOwnPropertyDescriptor(tQ,oQ).enumerable})),AQ.push.apply(AQ,iQ)}return AQ}function yM(tQ){for(var eQ=1;eQ<arguments.length;eQ++){var AQ=arguments[eQ]!=null?arguments[eQ]:{};eQ%2?vM(Object(AQ),!0).forEach(function(iQ){og(tQ,iQ,AQ[iQ])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tQ,Object.getOwnPropertyDescriptors(AQ)):vM(Object(AQ)).forEach(function(iQ){Object.defineProperty(tQ,iQ,Object.getOwnPropertyDescriptor(AQ,iQ))})}return tQ}function AM(tQ){let eQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},AQ=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},iQ=arguments.length>3?arguments[3]:void 0;const{filterRTX:oQ,filterVideoFec:rQ,filterAudioFec:nQ,filterAudioCodec:sQ,filterVideoCodec:aQ}=eQ,{useXR:cQ}=AQ;let gQ=[],IQ=[],EQ=[],CQ=[],dQ=!1,lQ=!1;if(CM.parse(tQ).mediaDescriptions.forEach(hQ=>{iQ&&iQ!==hQ.attributes.direction||(hQ.media.mediaType!=="video"||dQ||(IQ=hQ.attributes.payloads,CQ=hQ.attributes.extmaps,dQ=!0),hQ.media.mediaType!=="audio"||lQ||(gQ=hQ.attributes.payloads,EQ=hQ.attributes.extmaps,lQ=!0))}),!CQ||IQ.length===0)throw new Error("Cannot get video capabilities from SDP.");if(!EQ||gQ.length===0)throw new Error("Cannot get audio capabilities from SDP.");if(IQ.forEach(hQ=>{var BQ;(BQ=hQ.rtpMap)!==null&&BQ!==void 0&&BQ.clockRate&&(hQ.rtpMap.clockRate=parseInt(hQ.rtpMap.clockRate)),cQ&&hQ.rtcpFeedbacks.push({type:"rrtr"})}),gQ.forEach(hQ=>{var BQ;(BQ=hQ.rtpMap)!==null&&BQ!==void 0&&BQ.clockRate&&(hQ.rtpMap.clockRate=parseInt(hQ.rtpMap.clockRate)),cQ&&hQ.rtcpFeedbacks.push({type:"rrtr"})}),oQ&&(gQ=gQ.filter(hQ=>{var BQ;return((BQ=hQ.rtpMap)===null||BQ===void 0?void 0:BQ.encodingName.toLowerCase())!=="rtx"}),IQ=IQ.filter(hQ=>{var BQ;return((BQ=hQ.rtpMap)===null||BQ===void 0?void 0:BQ.encodingName.toLowerCase())!=="rtx"})),rQ&&(IQ=IQ.filter(hQ=>{var BQ;return!/(red)|(ulpfec)|(flexfec)/i.test(((BQ=hQ.rtpMap)===null||BQ===void 0?void 0:BQ.encodingName)||"")})),nQ&&(gQ=gQ.filter(hQ=>{var BQ;return!/(red)|(ulpfec)|(flexfec)/i.test(((BQ=hQ.rtpMap)===null||BQ===void 0?void 0:BQ.encodingName)||"")})),sQ&&(sQ==null?void 0:sQ.length)>0&&(gQ=gQ.filter(hQ=>{var BQ;return Dn(sQ).call(sQ,((BQ=hQ.rtpMap)===null||BQ===void 0?void 0:BQ.encodingName.toLowerCase())||"")})),aQ&&(aQ==null?void 0:aQ.length)>0){const hQ=IQ.filter(BQ=>{var QQ;return Dn(aQ).call(aQ,((QQ=BQ.rtpMap)===null||QQ===void 0?void 0:QQ.encodingName.toLowerCase())||"")});IQ=hQ.concat(oQ?[]:HM(hQ,IQ))}const uQ=Dy("UNSUPPORTED_VIDEO_CODEC");return uQ&&uQ.length>0&&(IQ=IQ.filter(hQ=>!(hQ.rtpMap&&Dn(uQ).call(uQ,hQ.rtpMap.encodingName.toLowerCase())))),{audioCodecs:gQ,videoCodecs:IQ,audioExtensions:EQ,videoExtensions:CQ}}function bM(tQ){const eQ=CM.parse(tQ);let AQ,iQ;for(const oQ of eQ.mediaDescriptions){if(!AQ){const rQ=oQ.attributes.iceUfrag,nQ=oQ.attributes.icePwd;if(!rQ||!nQ)throw new Error("Cannot get iceUfrag or icePwd from SDP.");AQ={iceUfrag:rQ,icePwd:nQ}}if(!iQ){const rQ=oQ.attributes.fingerprints;rQ.length>0&&(iQ={fingerprints:rQ})}}if(!iQ&&eQ.attributes.fingerprints.length>0&&(iQ={fingerprints:eQ.attributes.fingerprints}),!iQ||!AQ)throw new Error("Cannot get iceParameters or dtlsParameters from SDP.");return{iceParameters:AQ,dtlsParameters:iQ}}function wM(tQ,eQ){const AQ=[],iQ=tQ.attributes.ssrcGroups.filter(nQ=>nQ.semantic==="FID"),oQ=tQ.attributes.ssrcGroups.find(nQ=>nQ.semantic==="SIM"),rQ=tQ.attributes.ssrcs;if(oQ)oQ.ssrcIds.forEach(nQ=>{var sQ;const aQ=(sQ=iQ.find(cQ=>cQ.ssrcIds[0]===nQ))===null||sQ===void 0?void 0:sQ.ssrcIds[1];AQ.push({ssrcId:nQ,rtx:eQ?aQ:void 0})});else if(iQ.length>0){const nQ=iQ[0].ssrcIds[0],sQ=iQ[0].ssrcIds[1];AQ.push({ssrcId:nQ,rtx:eQ?sQ:void 0})}else{if(rQ.length===0)throw new Error("No ssrcs found on local media description.");AQ.push({ssrcId:rQ[0].ssrcId})}return AQ}function OM(tQ,eQ,AQ){const{cname:iQ}=tQ;let oQ;eQ?oQ=NM(eQ):(oQ=tQ.iceParameters.candidates.map(gQ=>({foundation:gQ.foundation,componentId:"1",transport:gQ.protocol,priority:gQ.priority.toString(),connectionAddress:gQ.ip,port:gQ.port.toString(),type:gQ.type,extension:{}})),Qy.debug("Using candidates from gateway."));const rQ={fingerprints:tQ.dtlsParameters.fingerprints.map(gQ=>({hashFunction:gQ.algorithm,fingerprint:gQ.fingerprint}))},nQ={iceUfrag:tQ.iceParameters.iceUfrag,icePwd:tQ.iceParameters.icePwd};let sQ;switch(tQ.dtlsParameters.role){case"server":sQ="passive";break;case"client":sQ="active";break;case"auto":sQ="actpass"}const aQ=jM(tQ.rtpCapabilities),cQ=[];return Array.isArray(AQ)&&AQ.length>0&&AQ.forEach(gQ=>{cQ.push({kind:Yb.VIDEO,ssrcId:gQ.v,rtx:gQ.v_rtx,mslabel:"".concat(gQ.v,"_").concat(gQ.a)},{kind:Yb.AUDIO,ssrcId:gQ.a,mslabel:"".concat(gQ.v,"_").concat(gQ.a)})}),{dtlsParameters:rQ,iceParameters:nQ,candidates:oQ,rtpCapabilities:aQ,setup:sQ,cname:iQ,preSSRCs:cQ}}function NM(tQ){let eQ=[];return tQ.ip&&typeof tQ.port=="number"&&(eQ=[{foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:tQ.ip,port:tQ.port.toString(),type:"host",extension:{}}],Qy.debug("Using remote candidate from AP ".concat(tQ.ip,":").concat(tQ.port)),tQ.ip6&&(eQ.push({foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:tQ.ip6,port:tQ.port.toString(),type:"host",extension:{}}),Qy.debug("Using IPV6 remote candidate from AP ".concat(tQ.ip6,":").concat(tQ.port)))),eQ}function DM(tQ,eQ,AQ){const iQ=[],oQ=[];return tQ.forEach(rQ=>{let{ssrcId:nQ,rtx:sQ}=rQ;const aQ=ey(8,"track-"),cQ={ssrcId:nQ,attributes:yM({label:aQ,mslabel:AQ=AQ||ey(10,""),msid:"".concat(AQ," ").concat(aQ)},eQ&&{cname:eQ})};if(iQ.push(cQ),sQ!==void 0){const gQ={ssrcId:sQ,attributes:yM({label:aQ,mslabel:AQ,msid:"".concat(AQ," ").concat(aQ)},eQ&&{cname:eQ})};iQ.push(gQ),oQ.push({semantic:"FID",ssrcIds:[nQ,sQ]})}}),tQ.length>1&&oQ.push({semantic:"SIM",ssrcIds:tQ.map(rQ=>{let{ssrcId:nQ}=rQ;return nQ})}),{ssrcs:iQ,ssrcGroups:oQ}}function PM(tQ,eQ){eQ instanceof tk&&tQ.attributes.payloads.forEach(AQ=>{var iQ;const oQ=(iQ=AQ.rtpMap)===null||iQ===void 0?void 0:iQ.encodingName.toLowerCase();if(!oQ||["opus","pcmu","pcma","g722"].indexOf(oQ)===-1)return;AQ.fmtp||(AQ.fmtp={parameters:{}}),AQ.fmtp.parameters.minptime="10",AQ.fmtp.parameters.useinbandfec="1";const rQ=eQ._encoderConfig;rQ&&oQ!=="pcmu"&&oQ!=="pcma"&&oQ!=="g722"&&(rQ.bitrate&&!kI()&&(AQ.fmtp.parameters.maxaveragebitrate="".concat(Math.floor(1e3*rQ.bitrate))),rQ.sampleRate&&(AQ.fmtp.parameters.maxplaybackrate="".concat(rQ.sampleRate),AQ.fmtp.parameters["sprop-maxcapturerate"]="".concat(rQ.sampleRate)),rQ.stereo&&(AQ.fmtp.parameters.stereo="1",AQ.fmtp.parameters["sprop-stereo"]="1"))})}function LM(tQ){const eQ=tQ.attributes.unrecognized.findIndex(AQ=>AQ.attField==="x-google-flag"&&AQ.attValue==="conference");eQ!==-1&&tQ.attributes.unrecognized.splice(eQ,1)}function kM(tQ,eQ){var AQ;if(!(eQ instanceof Hk&&eQ._encoderConfig&&eQ._hints.indexOf(eP.SCREEN_TRACK)===-1))return;const iQ=eQ._encoderConfig;MD().supportMinBitrate&&iQ.bitrateMin&&tQ.attributes.payloads.forEach(oQ=>{var rQ,nQ;Dn(rQ=["h264","h265","vp8","vp9","av1"]).call(rQ,((nQ=oQ.rtpMap)===null||nQ===void 0?void 0:nQ.encodingName.toLowerCase())||"")&&(oQ.fmtp||(oQ.fmtp={parameters:{}}),oQ.fmtp.parameters["x-google-min-bitrate"]="".concat(iQ.bitrateMin))}),MD().supportMinBitrate&&!Dn(AQ=eQ._hints).call(AQ,eP.LOW_STREAM)&&iQ.bitrateMax&&tQ.attributes.payloads.forEach(oQ=>{var rQ,nQ;Dn(rQ=["h264","h265","vp8","vp9","av1"]).call(rQ,((nQ=oQ.rtpMap)===null||nQ===void 0?void 0:nQ.encodingName.toLowerCase())||"")&&(oQ.fmtp||(oQ.fmtp={parameters:{}}),oQ.fmtp.parameters["x-google-start-bitrate"]="".concat(Dy("X_GOOGLE_START_BITRATE")||Math.floor(iQ.bitrateMax)))})}function MM(tQ){if(tQ.media.mediaType!=="video")return;const eQ=AI();if(eQ.name!==CI.SAFARI&&eQ.os!==RI.IOS)return;const AQ=tQ.attributes.extmaps.findIndex(iQ=>/video-orientation/g.test(iQ.extensionName));AQ!==-1&&tQ.attributes.extmaps.splice(AQ,1)}function UM(tQ,eQ,AQ){if(!eQ)return;let iQ,oQ;if(tQ.media.mediaType==="video"?(iQ=AQ.videoExtensions,oQ=AQ.videoCodecs):(iQ=AQ.audioExtensions,oQ=AQ.audioCodecs),eQ.twcc===!0){const rQ=iQ.find(nQ=>nQ.extensionName==="http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01");rQ&&(tQ.attributes.extmaps.find(sQ=>sQ.extensionName==="http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01")||tQ.attributes.extmaps.push({entry:rQ.entry,extensionName:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"}),function(sQ,aQ){return aQ.filter(cQ=>!!sQ.find(gQ=>gQ.payloadType===cQ.payloadType&&!!gQ.rtcpFeedbacks.find(IQ=>IQ.type==="transport-cc")))}(oQ,tQ.attributes.payloads).forEach(sQ=>{sQ.rtcpFeedbacks.find(aQ=>aQ.type==="transport-cc")||sQ.rtcpFeedbacks.push({type:"transport-cc"})}))}else if(eQ.twcc===!1){const rQ=tQ.attributes.extmaps.findIndex(nQ=>nQ.extensionName==="http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01");rQ!==-1&&tQ.attributes.extmaps.splice(rQ,1),tQ.attributes.payloads.forEach(nQ=>{const sQ=nQ.rtcpFeedbacks.findIndex(aQ=>aQ.type==="transport-cc");sQ!==-1&&nQ.rtcpFeedbacks.splice(sQ,1)})}if(eQ.remb===!0){const rQ=iQ.find(nQ=>nQ.extensionName==="http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time");rQ&&(tQ.attributes.extmaps.find(sQ=>sQ.extensionName==="http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time")||tQ.attributes.extmaps.push({entry:rQ.entry,extensionName:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"}),function(sQ,aQ){return aQ.filter(cQ=>!!sQ.find(gQ=>gQ.payloadType===cQ.payloadType&&!!gQ.rtcpFeedbacks.find(IQ=>IQ.type==="goog-remb")))}(oQ,tQ.attributes.payloads).forEach(sQ=>{sQ.rtcpFeedbacks.find(aQ=>aQ.type==="goog-remb")||sQ.rtcpFeedbacks.push({type:"goog-remb"})}))}else if(eQ.remb===!1){const rQ=tQ.attributes.extmaps.findIndex(nQ=>nQ.extensionName==="http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time");rQ!==-1&&tQ.attributes.extmaps.splice(rQ,1),tQ.attributes.payloads.forEach(nQ=>{const sQ=nQ.rtcpFeedbacks.findIndex(aQ=>aQ.type==="goog-remb");sQ!==-1&&nQ.rtcpFeedbacks.splice(sQ,1)})}}function xM(tQ,eQ,AQ){if(kI()||tQ.media.mediaType!=="video"||!(eQ instanceof Hk)||AQ!=="vp9"&&AQ!=="vp8"||AQ==="vp8"&&!Dy("SIMULCAST")||AQ==="vp9"&&Dy("ENABLE_SVC")||eQ._scalabilityMode===void 0||eQ._scalabilityMode.numSpatialLayers<=1)return;const iQ=AQ==="vp8"?2:eQ._scalabilityMode.numSpatialLayers,oQ=tQ.attributes.ssrcs[0],rQ=tQ.attributes.ssrcGroups.find(sQ=>sQ.semantic==="FID"&&sQ.ssrcIds[0]===oQ.ssrcId),nQ={semantic:"SIM",ssrcIds:[oQ.ssrcId]};for(let sQ=1;sQ<iQ;sQ++)tQ.attributes.ssrcs.push({ssrcId:oQ.ssrcId+sQ,attributes:Gv(oQ.attributes)}),nQ.ssrcIds.push(oQ.ssrcId+sQ),rQ&&(tQ.attributes.ssrcs.push({ssrcId:rQ.ssrcIds[1]+sQ,attributes:Gv(oQ.attributes)}),tQ.attributes.ssrcGroups.push({semantic:"FID",ssrcIds:[oQ.ssrcId+sQ,rQ.ssrcIds[1]+sQ]}));tQ.attributes.ssrcGroups.unshift(nQ)}async function VM(){let tQ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},eQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const AQ=new RTCPeerConnection;AQ.addTransceiver("video",{direction:"sendonly"}),AQ.addTransceiver("audio",{direction:"sendonly"}),AQ.addTransceiver("video",{direction:"recvonly"}),AQ.addTransceiver("audio",{direction:"recvonly"});const iQ=(await AQ.createOffer()).sdp,{send:oQ,recv:rQ,sendrecv:nQ}=function(){let sQ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},aQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},cQ=arguments.length>2?arguments[2]:void 0;const gQ=AM(cQ,sQ,aQ,"sendonly"),IQ=AM(cQ,sQ,aQ,"recvonly"),EQ={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},CQ={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},dQ={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(BM(gQ,IQ,"videoExtensions",EQ,CQ,dQ),BM(gQ,IQ,"videoCodecs",EQ,CQ,dQ),BM(gQ,IQ,"audioExtensions",EQ,CQ,dQ),BM(gQ,IQ,"audioCodecs",EQ,CQ,dQ),Dy("RAISE_H264_BASELINE_PRIORITY")){const lQ=dQ.videoCodecs.findIndex(uQ=>{var hQ,BQ;return((hQ=uQ.rtpMap)===null||hQ===void 0?void 0:hQ.encodingName.toLocaleLowerCase())==="h264"&&((BQ=uQ.fmtp)===null||BQ===void 0?void 0:BQ.parameters["profile-level-id"])==="42001f"});if(lQ!==-1){const uQ=dQ.videoCodecs.findIndex(hQ=>{var BQ;return((BQ=hQ.rtpMap)===null||BQ===void 0?void 0:BQ.encodingName.toLocaleLowerCase())==="h264"});if(uQ<lQ){Qy.debug("raising H264 baseline profile priority");const hQ=dQ.videoCodecs[lQ];dQ.videoCodecs.splice(lQ,1),dQ.videoCodecs.splice(uQ,0,hQ)}uQ!==-1&&(CQ.videoCodecs=CQ.videoCodecs.filter(hQ=>{var BQ,QQ;return!(((BQ=hQ.rtpMap)===null||BQ===void 0?void 0:BQ.encodingName.toLocaleLowerCase())==="h264"&&((QQ=hQ.fmtp)===null||QQ===void 0?void 0:QQ.parameters["profile-level-id"])!=="42001f")})),uQ!==-1&&Dy("FILTER_SEND_H264_BASELINE")&&(EQ.videoCodecs=EQ.videoCodecs.filter(hQ=>{var BQ,QQ;return!(((BQ=hQ.rtpMap)===null||BQ===void 0?void 0:BQ.encodingName.toLocaleLowerCase())==="h264"&&((QQ=hQ.fmtp)===null||QQ===void 0?void 0:QQ.parameters["profile-level-id"])!=="42001f")}))}}return{send:EQ,recv:CQ,sendrecv:dQ}}(tQ,eQ,iQ);try{AQ.close()}catch{}return{send:oQ,recv:rQ,sendrecv:nQ}}function FM(){const tQ={audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},eQ=AM(arguments.length>2?arguments[2]:void 0,arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},"recvonly"),AQ={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},iQ={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},oQ={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(BM(tQ,eQ,"videoExtensions",AQ,iQ,oQ),BM(tQ,eQ,"videoCodecs",AQ,iQ,oQ),BM(tQ,eQ,"audioExtensions",AQ,iQ,oQ),BM(tQ,eQ,"audioCodecs",AQ,iQ,oQ),Dy("RAISE_H264_BASELINE_PRIORITY")){const rQ=oQ.videoCodecs.findIndex(nQ=>nQ.rtpMap&&nQ.rtpMap.encodingName.toLocaleLowerCase()==="h264"&&nQ.fmtp&&nQ.fmtp.parameters["profile-level-id"]==="42001f");if(rQ!==-1){const nQ=oQ.videoCodecs.findIndex(sQ=>sQ.rtpMap&&sQ.rtpMap.encodingName.toLocaleLowerCase()==="h264");if(nQ<rQ){Qy.debug("raising H264 baseline profile priority");const sQ=oQ.videoCodecs[rQ];oQ.videoCodecs.splice(rQ,1),oQ.videoCodecs.splice(nQ,0,sQ)}nQ!==-1&&(iQ.videoCodecs=iQ.videoCodecs.filter(sQ=>!(sQ.rtpMap&&sQ.rtpMap.encodingName.toLocaleLowerCase()==="h264"&&sQ.fmtp&&sQ.fmtp.parameters["profile-level-id"]!=="42001f")))}}return{send:AQ,recv:iQ,sendrecv:oQ}}function BM(tQ,eQ,AQ,iQ,oQ,rQ){if(AQ==="videoExtensions"||AQ==="audioExtensions"){const nQ=[];return tQ[AQ].forEach(sQ=>{eQ[AQ].some((aQ,cQ)=>{if(sQ.entry===aQ.entry&&sQ.extensionName===aQ.extensionName)return nQ.push(cQ),!0})?rQ[AQ].push(sQ):iQ[AQ].push(sQ)}),void eQ[AQ].forEach((sQ,aQ)=>{nQ.indexOf(aQ)===-1&&oQ[AQ].push(sQ)})}if(AQ==="videoCodecs"||AQ==="audioCodecs"){const nQ=[];return tQ[AQ].forEach(sQ=>{eQ[AQ].some((aQ,cQ)=>{if(sQ.payloadType===aQ.payloadType&&JSON.stringify(sQ)===JSON.stringify(aQ))return nQ.push(cQ),!0})?rQ[AQ].push(sQ):iQ[AQ].push(sQ)}),void eQ[AQ].forEach((sQ,aQ)=>{nQ.indexOf(aQ)===-1&&oQ[AQ].push(sQ)})}}function jM(tQ){const{send:eQ,recv:AQ,sendrecv:iQ}=tQ;if(!iQ){if(!eQ||!AQ)throw new Error("cannot merge rtp capabilities because one of send or recv is empty!");return{send:eQ,recv:AQ}}let oQ,rQ;return eQ?(oQ={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},oQ.audioCodecs=[...eQ.audioCodecs,...iQ.audioCodecs],oQ.videoCodecs=[...eQ.videoCodecs,...iQ.videoCodecs],oQ.audioExtensions=[...eQ.audioExtensions,...iQ.audioExtensions],oQ.videoExtensions=[...eQ.videoExtensions,...iQ.videoExtensions]):oQ=iQ,AQ?(rQ={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},rQ.audioCodecs=[...AQ.audioCodecs,...iQ.audioCodecs],rQ.videoCodecs=[...AQ.videoCodecs,...iQ.videoCodecs],rQ.audioExtensions=[...AQ.audioExtensions,...iQ.audioExtensions],rQ.videoExtensions=[...AQ.videoExtensions,...iQ.videoExtensions]):rQ=iQ,{send:oQ,recv:rQ}}function GM(tQ){tQ.media.mediaType==="audio"&&tQ.attributes.payloads.filter(eQ=>{var AQ;return((AQ=eQ.rtpMap)===null||AQ===void 0?void 0:AQ.encodingName.toLowerCase())==="opus"}).forEach(eQ=>{eQ.fmtp||(eQ.fmtp={parameters:{}}),eQ.fmtp.parameters.stereo="1",eQ.fmtp.parameters["sprop-stereo"]="1"})}function WM(tQ,eQ,AQ,iQ){let oQ=[];if(tQ===Yb.VIDEO){if(Dy("H264_PROFILE_LEVEL_ID")&&iQ==="h264"&&(oQ=eQ.videoCodecs.filter(rQ=>{var nQ;return Dn(nQ=rQ.rtpMap&&rQ.rtpMap.encodingName.toLowerCase()||"").call(nQ,iQ)&&rQ&&rQ.fmtp&&rQ.fmtp.parameters["profile-level-id"]===Dy("H264_PROFILE_LEVEL_ID")})),!Array.isArray(oQ)||oQ.length===0){let rQ=[];const nQ=[],sQ=[],aQ=[];if(AQ.videoCodecs.forEach(cQ=>{const gQ=cQ.rtpMap&&cQ.rtpMap.encodingName.toLowerCase()||"";Dn(gQ).call(gQ,iQ)?rQ.push(cQ):Dn(gQ).call(gQ,"vp9")?nQ.push(cQ):Dn(gQ).call(gQ,"vp8")?sQ.push(cQ):Dn(gQ).call(gQ,"h264")&&aQ.push(cQ)}),rQ.length===0){let cQ="";nQ.length!==0?(rQ=nQ,cQ="vp9"):sQ.length!==0?(rQ=sQ,cQ="vp8"):aQ.length!==0&&(rQ=aQ,cQ="h264"),Qy.warning("codec ".concat(iQ," not included in rtpCapabilities, fallback to default payloads: ").concat(cQ))}rQ.length!==0&&(oQ=eQ.videoCodecs.filter(cQ=>rQ.some(gQ=>gQ.payloadType===cQ.payloadType)))}if(oQ.length===0&&(Qy.warning("codec ".concat(iQ," not included in rtpCapabilities, fallback to default payloads: ").concat(eQ.videoCodecs[0].rtpMap&&eQ.videoCodecs[0].rtpMap.encodingName)),oQ=eQ.videoCodecs),Dy("USE_PUB_RTX")||Dy("USE_SUB_RTX")){const rQ=HM(oQ,eQ.videoCodecs);oQ=[...oQ,...rQ]}}else oQ=eQ.audioCodecs.filter(rQ=>{var nQ;return Dn(nQ=rQ.rtpMap&&rQ.rtpMap.encodingName.toLowerCase()||"").call(nQ,iQ)}),oQ.length===0&&(Qy.warning("codec ".concat(iQ," not included in rtpCapabilities, fallback to opus")),oQ=eQ.audioCodecs.filter(rQ=>{var nQ;return Dn(nQ=rQ.rtpMap&&rQ.rtpMap.encodingName.toLowerCase()||"").call(nQ,"opus")}));return oQ}function HM(tQ,eQ){const AQ=tQ.map(iQ=>iQ.payloadType.toString());return eQ.filter(iQ=>iQ.rtpMap&&iQ.rtpMap.encodingName==="rtx"&&iQ.fmtp&&iQ.fmtp.parameters.apt&&Dn(AQ).call(AQ,iQ.fmtp&&iQ.fmtp.parameters.apt))}async function KM(tQ,eQ,AQ){const iQ=eQ.toString(),oQ=qM(iQ,"offer","remote","exchangeSDP");await tQ.setRemoteDescription({type:"offer",sdp:iQ});const rQ=await tQ.createAnswer();if(!rQ.sdp)throw new Error("cannot get answer sdp");let nQ=rQ.sdp;nQ=YM(nQ,AQ||{}),oQ==null||oQ(nQ||""),await tQ.setLocalDescription({type:"answer",sdp:nQ})}function YM(tQ,eQ,AQ){const iQ=CM.parse(tQ),{useXR:oQ}=eQ;return iQ.mediaDescriptions.forEach(rQ=>{var nQ;rQ.attributes.mid&&(Array.isArray(AQ)&&!Dn(AQ).call(AQ,rQ.attributes.mid)||(rQ.media.mediaType==="audio"&&GM(rQ),oQ&&Dn(nQ=["audio","video"]).call(nQ,rQ.media.mediaType)&&rQ.attributes.payloads.forEach(sQ=>{sQ.rtcpFeedbacks.findIndex(aQ=>aQ.type==="rrtr")===-1&&sQ.rtcpFeedbacks.push({type:"rrtr"})})))}),CM.print(iQ)}function qM(tQ,eQ,AQ,iQ){if(Dy("SDP_LOGGING"))return Qy.upload("exchanging ".concat(AQ," ").concat(eQ," SDP during P2PConnection.").concat(iQ,`
`),tQ),eQ==="offer"?oQ=>{qM(oQ,"answer",AQ==="local"?"remote":"local",iQ)}:void 0}function zM(tQ,eQ){return typeof Dy(tQ)===eQ?Dy(tQ):void 0}function JM(tQ,eQ){var AQ=Object.keys(tQ);if(Object.getOwnPropertySymbols){var iQ=Object.getOwnPropertySymbols(tQ);eQ&&(iQ=iQ.filter(function(oQ){return Object.getOwnPropertyDescriptor(tQ,oQ).enumerable})),AQ.push.apply(AQ,iQ)}return AQ}function XM(tQ){for(var eQ=1;eQ<arguments.length;eQ++){var AQ=arguments[eQ]!=null?arguments[eQ]:{};eQ%2?JM(Object(AQ),!0).forEach(function(iQ){og(tQ,iQ,AQ[iQ])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tQ,Object.getOwnPropertyDescriptors(AQ)):JM(Object(AQ)).forEach(function(iQ){Object.defineProperty(tQ,iQ,Object.getOwnPropertyDescriptor(AQ,iQ))})}return tQ}const QM=new Map;class ZM extends Sv{get state(){return this._state}set state(eQ){if(eQ===this._state)return;const AQ=this._state;this._state=eQ,eQ==="DISCONNECTED"&&this._disconnectedReason?this.emit(Ub.CONNECTION_STATE_CHANGE,eQ,AQ,this._disconnectedReason):this.emit(Ub.CONNECTION_STATE_CHANGE,eQ,AQ)}get joinGatewayStartTime(){return this._joinGatewayStartTime}set joinGatewayStartTime(eQ){Qy.debug("[".concat(this.store.clientId,"] set joinGatewayStartTime at ").concat(eQ)),this._joinGatewayStartTime=eQ}constructor(eQ,AQ){super(),og(this,"store",void 0),og(this,"joinInfo",void 0),og(this,"key",void 0),og(this,"ntpOffset",0),og(this,"signal",void 0),og(this,"role",void 0),og(this,"inChannelInfo",{joinAt:null,duration:0}),og(this,"spec",void 0),og(this,"_state","DISCONNECTED"),og(this,"_statsCollector",void 0),og(this,"_disconnectedReason",void 0),og(this,"isSignalRecover",!1),og(this,"hasChangeBGPAddress",!1),og(this,"trafficStatsInterval",void 0),og(this,"networkQualityInterval",void 0),og(this,"_joinGatewayStartTime",0),og(this,"_signalTimeout",!1),og(this,"_clientRoleOptions",void 0),og(this,"_isProactiveJoin",!1),this.store=eQ,this.spec=AQ,this.signal=this.store.useP2P?new gM(XM(XM({},AQ),{},{retryConfig:AQ.websocketRetryConfig}),eQ):new ww(XM(XM({},AQ),{},{retryConfig:AQ.websocketRetryConfig}),eQ),this._statsCollector=AQ.statsCollector,this.role=AQ.role||"audience",this._clientRoleOptions=AQ.clientRoleOptions,this.handleSignalEvents()}async join(eQ,AQ,iQ){this.store.joinGatewayStart(),eQ.cloudProxyServer!=="disabled"&&(this.hasChangeBGPAddress=!0);const oQ=Date.now();let rQ=QM.get(eQ.cname);if(rQ||(rQ=new Map,QM.set(eQ.cname,rQ)),this._isProactiveJoin=!0,rQ.has(eQ.uid)){const cQ=new Sb(nv.UID_CONFLICT);throw sA.joinGateway(eQ.sid,{lts:oQ,succ:!1,ec:cQ.code,addr:null,uid:eQ.uid,cid:eQ.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!eQ.proxyServer,signalChannel:"0",preload:eQ.preload}),this._isProactiveJoin=!1,cQ}rQ.set(eQ.uid,!0),this.joinInfo=eQ,this.key=AQ;let nQ=0;this.joinGatewayStartTime=oQ;const sQ=eQ.proxyServer;try{Qy.debug("[".concat(this.store.clientId,"] use websocket join uid ").concat(nQ));const cQ=eQ.gatewayAddrs.map(gQ=>{let{address:IQ}=gQ;const[EQ,CQ]=IQ.split(":"),dQ={host:EQ,port:CQ};return eQ.proxyServer&&(dQ.proxy=eQ.proxyServer),dQ});nQ=(await this.signal.init(cQ,iQ)).uid,Qy.debug("[".concat(this.store.clientId,"] websocket join uid ").concat(nQ," cost ").concat(Date.now()-this.joinGatewayStartTime))}catch(cQ){var aQ;throw Qy.error("[".concat(this.store.clientId,"] User join failed"),cQ.toString()),sA.joinGateway(eQ.sid,{lts:oQ,succ:!1,ec:((aQ=cQ.data)===null||aQ===void 0?void 0:aQ.desc)||cQ.code,errorMsg:cQ.message,addr:this.signal.url,uid:eQ.uid,cid:eQ.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!sQ,signalChannel:"0",preload:eQ.preload}),this._isProactiveJoin=!1,rQ.delete(eQ.uid),this.signal.close(),cQ}return this.state="CONNECTED",this.inChannelInfo.joinAt=Date.now(),Qy.debug("[".concat(this.store.clientId,"] Connected to gateway server")),this.trafficStatsInterval=window.setInterval(()=>{this.updateTrafficStats().catch(cQ=>{Qy.warning("[".concat(this.store.clientId,"] get traffic stats error"),cQ.toString())})},3e3),this.networkQualityInterval=window.setInterval(()=>{navigator&&navigator.onLine!==void 0&&!navigator.onLine?this.emit(Ub.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6}):this._signalTimeout?this.emit(Ub.NETWORK_QUALITY,{downlinkNetworkQuality:5,uplinkNetworkQuality:5}):this.state==="CONNECTED"&&this._statsCollector.trafficStats?this.emit(Ub.NETWORK_QUALITY,{uplinkNetworkQuality:Uw(this._statsCollector.trafficStats.B_unq),downlinkNetworkQuality:Uw(this._statsCollector.trafficStats.B_dnq)}):this.emit(Ub.NETWORK_QUALITY,{uplinkNetworkQuality:0,downlinkNetworkQuality:0})},2e3),this.store.joinGatewayEnd(),nQ}async leave(){let eQ=arguments.length>0&&arguments[0]!==void 0&&arguments[0],AQ=arguments.length>1?arguments[1]:void 0;if(this.state!=="DISCONNECTED"){AQ!==Av.FALLBACK&&(this.state="DISCONNECTING");try{eQ||this.signal.connectionState!==hb.CONNECTED||await function(iQ,oQ){return oQ===1/0?iQ:Gh.race([iQ,Zv(oQ)])}(this.signal.request(_b.LEAVE,void 0,!0),3e3)}catch(iQ){Qy.warning("[".concat(this.store.clientId,"] leave request failed, ignore"),iQ)}this.signal.close(AQ),AQ!==Av.FALLBACK&&(this.state="DISCONNECTED"),this.reset()}}async publish(eQ,AQ,iQ){if(this.state!=="CONNECTED"&&this.state!=="RECONNECTING")throw new Sb(nv.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));const oQ={state:"offer",p2p_id:this.store.p2pId,ortc:AQ,mode:this.spec.mode,extend:Dy("PUB_EXTEND"),twcc:!!Dy("PUBLISH_TWCC"),rtx:!!Dy("USE_PUB_RTX")};try{return(await this.signal.request(_b.PUBLISH,oQ,!0))._message}catch(rQ){if(iQ&&rQ.data&&rQ.data.code===ub.ERR_PUBLISH_REQUEST_INVALID)return Qy.warning("[".concat(this.store.clientId,"] receive publish error code, retry"),rQ.toString()),await this.tryUnpubBeforeRepub(eQ,AQ),this.publish(eQ,AQ,!1);throw rQ}}async publishDataChannel(eQ,AQ,iQ){var oQ;if(this.state!=="CONNECTED"&&this.state!=="RECONNECTING")throw new Sb(nv.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));const rQ={stream_id:AQ.streamId,ordered:AQ.ordered?1:0,max_retrans_times:(oQ=AQ.maxRetransmits)!==null&&oQ!==void 0?oQ:10,channel_id:AQ.channelId,metadata:AQ.metadata};try{await this.signal.request(_b.PUBLISH_DATASTREAM,rQ,!0)}catch(nQ){if(iQ&&nQ.data&&nQ.data.code===ub.ERR_PUBLISH_REQUEST_INVALID)return Qy.warning("[".concat(this.store.clientId,"] receive publish datachannels error code, retry"),nQ.toString()),await this.tryUnpubDataChannelBeforeRepub(eQ,AQ),this.publishDataChannel(eQ,AQ,!1);throw nQ}}async unpublish(eQ,AQ){try{if(this.state!=="CONNECTED"&&this.state!=="RECONNECTING")throw new Sb(nv.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));await this.signal.request(_b.UNPUBLISH,{stream_id:AQ,ortc:eQ},!0)}catch(iQ){Qy.warning("[".concat(this.store.clientId,"] unpublish warning: "),iQ)}}async unpublishDataChannel(eQ){try{if(this.state!=="CONNECTED"&&this.state!=="RECONNECTING")throw new Sb(nv.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));await Gh.all(eQ.map(AQ=>this.signal.request(_b.UNPUBLISH_DATASTREAM,{channel_id:AQ},!0)))}catch(AQ){Qy.warning("unpublish datachannels warning: ",AQ)}}async presubscribe(eQ,AQ,iQ){if(this.state!=="CONNECTED"&&this.state!=="RECONNECTING")throw new Sb(nv.INVALID_OPERATION,"can not presubscribe when connection state is ".concat(this.state));const oQ={stream_id:eQ,stream_type:AQ,mode:this.spec.mode,codec:this.spec.codec,p2p_id:this.store.p2pId,twcc:!!Dy("SUBSCRIBE_TWCC"),rtx:!!Dy("USE_SUB_RTX")||void 0,extend:Dy("SUB_EXTEND"),svc:Array.isArray(Dy("SVC"))&&Dy("SVC").length!==0?Dy("SVC"):void 0};try{return await this.signal.request(_b.PRE_SUBSCRIBE,oQ,!0)}catch(rQ){if(iQ&&rQ.data&&rQ.data.code===ub.ERR_SUBSCRIBE_REQUEST_INVALID)return Qy.warning("[".concat(this.store.clientId,"] pre-subscribe error, retry"),rQ.toString()),this.presubscribe(eQ,AQ,!1);throw rQ}}async subscribe(eQ,AQ,iQ){if(this.state!=="CONNECTED"&&this.state!=="RECONNECTING")throw new Sb(nv.INVALID_OPERATION,"can not subscribe when connection state is ".concat(this.state));const oQ={stream_id:eQ,stream_type:AQ.stream_type,mode:this.spec.mode,codec:this.spec.codec,p2p_id:this.store.p2pId,twcc:!!Dy("SUBSCRIBE_TWCC"),rtx:!!Dy("USE_SUB_RTX"),extend:Dy("SUB_EXTEND"),ssrcId:AQ.ssrcId,svc:Array.isArray(Dy("SVC"))&&Dy("SVC").length!==0?Dy("SVC"):void 0};try{return(await this.signal.request(_b.SUBSCRIBE,oQ,!0))._message}catch(rQ){if(iQ&&rQ.data&&rQ.data.code===ub.ERR_SUBSCRIBE_REQUEST_INVALID)return Qy.warning("[".concat(this.store.clientId,"] receiver subscribe error code, retry"),rQ.toString()),await this.tryUnsubBeforeResub(eQ,AQ),await this.subscribe(eQ,AQ,!1);throw rQ}}async subscribeDataChannel(eQ,AQ,iQ){if(this.state!=="CONNECTED"&&this.state!=="RECONNECTING")throw new Sb(nv.INVALID_OPERATION,"can not subscribe datachannel when connection state is ".concat(this.state));const oQ={uid:eQ,stream_id:AQ.id,channel_id:AQ.datachannelId};try{return void await this.signal.request(_b.SUBSCRIBE_DATASTREAM,oQ,!0)}catch(rQ){if(iQ&&rQ.data&&rQ.data.code===ub.ERR_SUBSCRIBE_REQUEST_INVALID)return Qy.warning("[".concat(this.store.clientId,"] receiver subscribe datachannel error code, retry"),rQ.toString()),await this.tryUnsubDataChannelBeforeResub(eQ,AQ),await this.subscribeDataChannel(eQ,AQ,!1);throw rQ}}async subscribeAll(eQ,AQ){if(this.state!=="CONNECTED"&&this.state!=="RECONNECTING")throw new Sb(nv.INVALID_OPERATION,"can not massSubscribe when connection state is ".concat(this.state));const iQ={p2p_id:this.store.p2pId,users:eQ,dtx:!1,rtx:!!Dy("USE_SUB_RTX"),twcc:!!Dy("SUBSCRIBE_TWCC"),svc:Array.isArray(Dy("SVC"))&&Dy("SVC").length!==0?Dy("SVC"):void 0};try{return await this.signal.request(_b.SUBSCRIBE_STREAMS,iQ,!0)}catch(oQ){if(AQ&&oQ.data&&oQ.data.code===ub.ERR_SUBSCRIBE_REQUEST_INVALID)return Qy.warning("[".concat(this.store.clientId,"] receiver massSubscribe error code, retry"),oQ.toString()),await this.tryMassUnsubBeforeResub(eQ),await this.subscribeAll(eQ,!1);throw oQ}}async setVideoProfile(eQ){const AQ=function(iQ){if(!(iQ.bitrateMax&&iQ.bitrateMin&&iQ.frameRate&&iQ.height&&iQ.width))return;let oQ=iQ.frameRate,rQ=iQ.width,nQ=iQ.height,sQ=!0;return typeof oQ!="number"&&(oQ=oQ.exact||oQ.ideal||oQ.max||oQ.min||0,oQ||(sQ=!1)),typeof rQ!="number"&&(rQ=rQ.exact||rQ.ideal||rQ.max||rQ.min||0,rQ||(sQ=!1)),typeof nQ!="number"&&(nQ=nQ.exact||nQ.ideal||nQ.max||nQ.min||0,oQ||(sQ=!1)),sQ?{stream_type:0,width:rQ,height:nQ,fps:oQ,start_bps:1e3*iQ.bitrateMax,min_bps:1e3*iQ.bitrateMin,target_bps:1e3*iQ.bitrateMax}:void 0}(eQ);if(AQ)return this.signal.request(_b.SET_VIDEO_PROFILE,AQ);Qy.debug("[".concat(this.store.clientId,"] encoder config is not complete, do not report to gateway"))}async unsubscribe(eQ,AQ){try{await this.signal.request(_b.UNSUBSCRIBE,{p2p_id:this.store.p2pId,ortc:eQ,stream_id:AQ},!0)}catch(iQ){Qy.warning("[".concat(this.store.clientId,"] unsubscribe warning: "),iQ)}}async unsubscribeDataChannel(eQ,AQ){try{if(this.state!=="CONNECTED"&&this.state!=="RECONNECTING")throw new Sb(nv.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));await Gh.all(eQ.map(iQ=>this.signal.request(_b.UNSUBSCRIBE_DATASTREAM,{stream_id:iQ,uid:AQ},!0)))}catch(iQ){Qy.warning("unsubscribeDataChannel warning: ",iQ)}}async massUnsubscribe(eQ){try{await this.signal.request(_b.UNSUBSCRIBE_STREAMS,eQ,!0)}catch(AQ){Qy.warning("[".concat(this.store.clientId,"] massUnsubscribeAll warning: "),AQ)}}async reconnectPC(eQ){const{iceParameters:AQ,dtlsParameters:iQ,rtpCapabilities:oQ}=eQ;return{gatewayEstablishParams:await this.signal.request(_b.CONNECT_PC,{p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:{iceParameters:AQ,dtlsParameters:iQ,rtpCapabilities:oQ}},!0),gatewayAddress:this.getCurrentGatewayAddress()}}getGatewayInfo(){return this.signal.request(_b.GATEWAY_INFO)}async renewToken(eQ){await this.signal.request(_b.RENEW_TOKEN,eQ),this.key=eQ.token}async setClientRole(eQ,AQ){if(AQ&&(this._clientRoleOptions=Object.assign({},AQ)),this.state!=="CONNECTED")return void(this.role=eQ);let iQ,oQ=0;eQ==="audience"?this._clientRoleOptions&&this._clientRoleOptions.delay?(iQ=this._clientRoleOptions.delay,oQ=1):oQ=this._clientRoleOptions&&this._clientRoleOptions.level?this._clientRoleOptions.level:2:oQ=0,await this.signal.request(_b.SET_CLIENT_ROLE,{role:eQ,level:oQ,delay:iQ,client_ts:Date.now()}),this.role=eQ}async setRemoteVideoStreamType(eQ,AQ){await this.signal.request(_b.SWITCH_VIDEO_STREAM,{stream_id:eQ,stream_type:AQ})}async setDefaultRemoteVideoStreamType(eQ){await this.signal.request(_b.DEFAULT_VIDEO_STREAM,{stream_type:eQ})}async setStreamFallbackOption(eQ,AQ){await this.signal.request(_b.SET_FALLBACK_OPTION,{stream_id:eQ,fallback_type:AQ})}async pickSVCLayer(eQ,AQ){await this.signal.request(_b.PICK_SVC_LAYER,{stream_id:eQ,spatial_layer:AQ.spatialLayer,temporal_layer:AQ.temporalLayer})}async setRTM2Flag(eQ){await this.signal.request(_b.SET_RTM2_FLAG,{rtm2_flag:eQ})}async sendExtensionMessage(eQ,AQ,iQ){if(this.signal instanceof gM)return this.signal.sendExtensionMessage(eQ,AQ,iQ)}getInChannelInfo(){return this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt),XM({},this.inChannelInfo)}async getGatewayVersion(){return(await this.signal.request(_b.GATEWAY_INFO)).version}reset(){if(this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt,this.inChannelInfo.joinAt=null),this.trafficStatsInterval&&(window.clearInterval(this.trafficStatsInterval),this.trafficStatsInterval=void 0),this.joinInfo){const eQ=QM.get(this.joinInfo.cname);eQ&&eQ.delete(this.joinInfo.uid)}this.joinInfo=void 0,this.key=void 0,this.networkQualityInterval&&(window.clearInterval(this.networkQualityInterval),this.networkQualityInterval=void 0)}updateTurnConfigFromSignal(){if(!this.joinInfo)return;const eQ=function(AQ){let iQ;return iQ=AQ.startsWith("dc")?AQ.match(/(dc\:\/\/)?([^:]+):(\d+)/):AQ.match(/(wss\:\/\/)?([^:]+):(\d+)/),iQ?{username:cA.username,password:cA.password,turnServerURL:iQ[2],tcpport:parseInt(iQ[3])+30,udpport:parseInt(iQ[3])+30,forceturn:!1}:null}((this.joinInfo.cloudProxyServer==="disabled"?this.signal.url:this.joinInfo.gatewayAddrs[this.signal.currentURLIndex].address)||"");this.joinInfo.turnServer.serversFromGateway=[],eQ&&this.joinInfo.turnServer.mode!=="off"&&this.joinInfo.cloudProxyServer==="disabled"&&this.joinInfo.turnServer.serversFromGateway.push(XM(XM({},cA),{},{turnServerURL:eQ.turnServerURL,tcpport:eQ.tcpport,udpport:eQ.udpport,username:this.joinInfo.uid.toString(),password:this.joinInfo.token}))}async updateTrafficStats(){if(this.state!=="CONNECTED")return;const eQ=await this.signal.request(_b.TRAFFIC_STATS,void 0,!0);eQ.timestamp=Date.now(),eQ.ntp_offset!=null&&(this.ntpOffset=eQ.ntp_offset),eQ.peer_delay.forEach(AQ=>{const iQ=this._statsCollector.trafficStats&&this._statsCollector.trafficStats.peer_delay.find(oQ=>oQ.peer_uid===AQ.peer_uid);iQ&&iQ.B_st!==AQ.B_st&&jv(()=>{this.emit(Ub.STREAM_TYPE_CHANGE,AQ.peer_uid,AQ.B_st)})}),this._statsCollector.updateTrafficStats(eQ)}getJoinMessage(eQ){if(!this.joinInfo||!this.key)throw new Sb(nv.UNEXPECTED_ERROR,"can not generate join message, no join info");const AQ=Object.assign({},this.joinInfo.apResponse);let iQ=Dy("REPORT_APP_SCENARIO");if(typeof iQ!="string")try{iQ=JSON.stringify(iQ)}catch{iQ=void 0}iQ&&iQ.length>128&&(iQ=void 0);const oQ=!(kI()||xI(87)||xD())&&typeof Dy("ENABLE_PRE_SUB")=="boolean"&&Dy("ENABLE_PRE_SUB"),rQ=!xD()&&zM("ENABLE_PREALLOC_PC","boolean"),nQ=XM({license:this.joinInfo.license,p2p_id:this.store.p2pId,session_id:this.joinInfo.sid,app_id:this.joinInfo.appId,channel_key:this.key,channel_name:this.joinInfo.cname,sdk_version:vy,browser:navigator.userAgent,process_id:Dy("PROCESS_ID"),mode:this.store.useP2P?"p2p":this.spec.mode,codec:this.spec.codec,role:this.role,has_changed_gateway:this.hasChangeBGPAddress,ap_response:AQ,extend:Dy("JOIN_EXTEND"),details:{6:this.joinInfo.stringUid,cservice_map:this.joinInfo.cloudProxyServer==="proxy3"?"1":this.joinInfo.cloudProxyServer==="proxy5"?"2":void 0},features:{rejoin:!0},optionalInfo:this.joinInfo.optionalInfo,appScenario:iQ,attributes:{userAttributes:{enablePublishedUserList:Dy("ENABLE_PUBLISHED_USER_LIST"),maxSubscription:Dy("MAX_SUBSCRIPTION"),subscribeAudioFilterTopN:typeof Dy("SUBSCRIBE_AUDIO_FILTER_TOPN")=="number"?Dy("SUBSCRIBE_AUDIO_FILTER_TOPN"):void 0,enablePublishAudioFilter:typeof Dy("ENABLE_PUBLISH_AUDIO_FILTER")=="boolean"?Dy("ENABLE_PUBLISH_AUDIO_FILTER"):void 0,enableUserLicenseCheck:typeof Dy("ENABLE_USER_LICENSE_CHECK")=="boolean"?Dy("ENABLE_USER_LICENSE_CHECK"):void 0,enableRTX:Dy("USE_PUB_RTX")===!0||Dy("USE_SUB_RTX")===!0||void 0,disableFEC:Dy("DISABLE_FEC"),enableNTPReport:!!Dy("ENABLE_NTP_REPORT")||void 0,enableInstantVideo:!!Dy("ENABLE_INSTANT_VIDEO")||void 0,enableFulllinkAvSync:!!Dy("ENABLE_FULL_LINK_AV_SYNC")||void 0,enableDataStream2:zM("ENABLE_DATASTREAM_2","boolean"),enableAutFeedback:!!Dy("ENABLE_AUT_FEEDBACK")||void 0,rtm2Flag:typeof this.joinInfo.rtmFlag=="number"?this.joinInfo.rtmFlag:void 0,enableUserAutoRebalanceCheck:!!Dy("ENABLE_USER_AUTO_REBALANCE_CHECK"),enableXR:zM("USE_XR","boolean"),enableLossbasedBwe:zM("ENABLE_LOSSBASED_BWE","boolean"),enableAutCC:!!Dy("ENABLE_AUT_CC")||void 0,enableCCFallback:zM("ENABLE_CC_FALLBACK","boolean"),enablePreallocPC:rQ,preSubNum:oQ?zM("PRE_SUB_NUM","number"):void 0,enablePubTWCC:zM("PUBLISH_TWCC","boolean"),enableSubTWCC:zM("SUBSCRIBE_TWCC","boolean"),enablePubRTX:zM("USE_PUB_RTX","boolean"),enableSubRTX:zM("USE_SUB_RTX","boolean"),enableSubSVC:Dy("ENABLE_SVC")?Dy("ENABLE_SVC_DEFAULT_CODECS"):Array.isArray(Dy("SVC"))&&Dy("SVC").length!==0?Dy("SVC"):void 0}},join_ts:this.joinGatewayStartTime},eQ);return this.joinInfo.stringUid&&(nQ.string_uid=this.joinInfo.stringUid),this.joinInfo.aesmode&&this.joinInfo.aespassword&&(nQ.aes_mode=this.joinInfo.aesmode,Dy("ENCRYPT_AES")?(nQ.aes_secret=this.joinInfo.aespassword,nQ.aes_encrypt=!0):nQ.aes_secret=this.joinInfo.aespassword,this.joinInfo.aessalt&&(nQ.aes_salt=this.joinInfo.aessalt)),AQ.addresses[this.signal.websocket.currentURLIndex]&&(nQ.ap_response.ticket=AQ.addresses[this.signal.websocket.currentURLIndex].ticket,delete AQ.addresses),this.joinInfo.defaultVideoStream!==void 0&&(nQ.default_video_stream=this.joinInfo.defaultVideoStream),nQ}getRejoinMessage(){if(!this.joinInfo)throw new Sb(nv.UNEXPECTED_ERROR,"can not generate rejoin message, no join info");return{session_id:this.joinInfo.sid,channel_name:this.joinInfo.cname,cid:this.joinInfo.cid,uid:this.joinInfo.uid,vid:Number(this.joinInfo.vid)}}handleSignalEvents(){this.signal.on(pb.WS_RECONNECT_WAITTING_FINISH,eQ=>{var AQ;Dn(AQ=["tryNext","recover"]).call(AQ,eQ)&&this.joinInfo&&sA.adjustSessionStartTime(this.joinInfo.sid)}),this.signal.on(pb.WS_RECONNECT_CREATE_CONNECTION,eQ=>{this.joinGatewayStartTime=Date.now()}),this.signal.on(pb.WS_RECONNECTING,eQ=>{this.joinInfo&&sA.WebSocketQuit(this.joinInfo.sid,{lts:Date.now(),succ:-1,cname:this.joinInfo.cname,uid:this.joinInfo.uid,cid:this.joinInfo.cid,errorCode:eQ||Dv.NETWORK_ERROR}),this.joinInfo&&(this.state="RECONNECTING",sA.sessionInit(this.joinInfo.sid,{lts:new Date().getTime(),extend:this.isSignalRecover?{recover:!0}:{rejoin:!0},cname:this.joinInfo.cname,appid:this.joinInfo.appId,mode:this.spec.mode,stringUid:this.joinInfo.stringUid,channelProfile:this.spec.mode==="live"?1:0,channelMode:0,lsid:this.joinInfo.sid,clientRole:this.role==="audience"?2:1,buildFormat:2}),this.isSignalRecover=!1,this.joinGatewayStartTime=Date.now())}),this.signal.on(pb.WS_CLOSED,eQ=>{let AQ;switch(eQ){case Av.LEAVE:AQ=Dv.LEAVE;break;case Av.UID_BANNED:case Av.IP_BANNED:case Av.CHANNEL_BANNED:case Av.SERVER_ERROR:AQ=Dv.SERVER_ERROR;break;case Av.FALLBACK:AQ=Dv.FALLBACK;break;case Av.LICENSE_MISSING:case Av.LICENSE_EXPIRED:case Av.LICENSE_MINUTES_EXCEEDED:case Av.LICENSE_PERIOD_INVALID:case Av.LICENSE_MULTIPLE_SDK_SERVICE:case Av.LICENSE_ILLEGAL:case Av.TOKEN_EXPIRE:AQ=eQ;break;default:AQ=Dv.NETWORK_ERROR}Qy.debug("[".concat(this.store.clientId,"] [signal] websocket closed, reason: ").concat(AQ||"undefined -> "+Dv.NETWORK_ERROR)),this.joinInfo&&sA.WebSocketQuit(this.joinInfo.sid,{lts:Date.now(),succ:eQ===Av.LEAVE?1:-1,cname:this.joinInfo.cname,uid:this.joinInfo.uid,cid:this.joinInfo.cid,errorCode:AQ}),this._disconnectedReason=eQ,eQ!==Av.FALLBACK&&(this.state="DISCONNECTED"),this.reset()}),this.signal.on(pb.WS_CONNECTED,()=>{if(this.updateTurnConfigFromSignal(),this.state="CONNECTED",this.joinInfo&&(this.role==="audience"&&this._clientRoleOptions&&(this._clientRoleOptions.level||this._clientRoleOptions.delay)&&(Qy.debug("[".concat(this.store.clientId,"] patch to send set client role, role: ").concat(this.role,", mode: ").concat(this.spec.mode,", level: ").concat(this._clientRoleOptions.level,", delay: ").concat(this._clientRoleOptions.delay)),this.setClientRole(this.role,this._clientRoleOptions)),sA.joinGateway(this.joinInfo.sid,{lts:this.joinGatewayStartTime,succ:!0,ec:null,vid:this.joinInfo.vid,addr:this.signal.url,uid:this.joinInfo.uid,cid:this.joinInfo.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!this.joinInfo.proxyServer,signalChannel:"0",preload:this.joinInfo.preload}),this._isProactiveJoin=!1,this.joinInfo.useLocalAccessPoint&&this.joinInfo.setLocalAPVersion===1)){const eQ=this.signal.url&&this.signal.url.match(/wss\:\/\/([^:]+):(\d+)/);if(!eQ)return void Qy.error("[".concat(this.store.clientId,"] set local access point after joined failed: ").concat(eQ));Ny("EVENT_REPORT_DOMAIN",eQ[1]),Ny("EVENT_REPORT_BACKUP_DOMAIN",eQ[1]),Ny("LOG_UPLOAD_SERVER","".concat(eQ[1],":6444"))}}),this.signal.on(mb.ON_UPLINK_STATS,eQ=>{this._statsCollector.updateUplinkStats(eQ)}),this.signal.on(pb.REQUEST_RECOVER,(eQ,AQ,iQ)=>{if(!this.joinInfo)return iQ(new Sb(nv.UNEXPECTED_ERROR,"gateway: can not recover, no join info"));eQ&&(this.joinInfo.multiIP=eQ,this.hasChangeBGPAddress=!0),this.isSignalRecover=!0,kv(this,Ub.REQUEST_NEW_GATEWAY_LIST).then(AQ).catch(iQ)}),this.signal.on(pb.REQUEST_JOIN_INFO,async eQ=>{var AQ;if(this.updateTurnConfigFromSignal(),this.store.useP2P)return void eQ(this.getJoinMessage({ortc:{}}));const{iceParameters:iQ,dtlsParameters:oQ,rtpCapabilities:rQ}=await kv(this,Ub.REQUEST_P2P_CONNECTION_PARAMS,{turnServer:(AQ=this.joinInfo)===null||AQ===void 0?void 0:AQ.turnServer});eQ(this.getJoinMessage({ortc:{iceParameters:iQ,dtlsParameters:oQ,rtpCapabilities:rQ,version:"2"}}))}),this.signal.on(pb.REQUEST_REJOIN_INFO,eQ=>{eQ(this.getRejoinMessage())}),this.signal.on(pb.REPORT_JOIN_GATEWAY,(eQ,AQ)=>{if(!this.joinInfo)return;let iQ,oQ="";var rQ;eQ instanceof Sb?(iQ=((rQ=eQ.data)===null||rQ===void 0?void 0:rQ.desc)||eQ.code,oQ=eQ.message):iQ=eQ,sA.joinGateway(this.joinInfo.sid,{lts:this.joinGatewayStartTime,succ:!1,ec:iQ,errorMsg:oQ,addr:AQ,uid:this.joinInfo.uid,cid:this.joinInfo.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!this.joinInfo.proxyServer,signalChannel:"0",preload:this.joinInfo.preload}),this._isProactiveJoin=!1}),this.signal.on(pb.IS_P2P_DISCONNECTED,eQ=>{eQ(xv(this,Ub.IS_P2P_DISCONNECTED))}),this.signal.on(pb.DISCONNECT_P2P,()=>{this.emit(Ub.DISCONNECT_P2P)}),this.signal.on(pb.REQUEST_SUCCESS,()=>{this._signalTimeout=!1}),this.signal.on(pb.REQUEST_TIMEOUT,()=>{this._signalTimeout=!0}),this.signal.on(pb.JOIN_RESPONSE,eQ=>{const AQ=this.getCurrentGatewayAddress();this.emit(Ub.JOIN_RESPONSE,eQ,AQ)}),this.signal.on(pb.PRE_CONNECT_PC,async()=>{if(this.joinInfo){this.updateTurnConfigFromSignal();const eQ=this.getCurrentGatewayAddress(),AQ=Dy("FINGERPRINT")||this.joinInfo.apResponse.addresses[this.signal.currentURLIndex].fingerprint;if(eQ&&AQ){const iQ=NM(eQ);this.emit(Ub.PRE_CONNECT_PC,{candidates:iQ,fingerprint:AQ})}}})}async tryUnsubBeforeResub(eQ,AQ){try{await this.signal.request(_b.UNSUBSCRIBE,{p2p_id:this.store.p2pId,stream_id:eQ,ortc:[AQ]},!0)}catch(iQ){throw Qy.warning("[".concat(this.store.clientId,"] tryUnsubBeforeResub warning"),iQ),iQ}}async tryUnsubDataChannelBeforeResub(eQ,AQ){try{await this.signal.request(_b.UNSUBSCRIBE,{stream_id:AQ.id},!0)}catch(iQ){throw Qy.warning("unsubscribe datachannel warning",iQ),iQ}}async tryUnpubBeforeRepub(eQ,AQ){try{await this.signal.request(_b.UNPUBLISH,{stream_id:eQ,ortc:AQ},!0)}catch(iQ){throw Qy.warning("[".concat(this.store.clientId,"] tryUnpubBeforeRepub warning: "),iQ),iQ}}async tryUnpubDataChannelBeforeRepub(eQ,AQ){try{await this.signal.request(_b.UNPUBLISH_DATASTREAM,{channnel_id:AQ.channelId},!0)}catch(iQ){throw Qy.warning("unpublish datastream warning: ",iQ),iQ}}async tryMassUnsubBeforeResub(eQ){const AQ={users:eQ.map(iQ=>({stream_id:iQ.stream_id,stream_type:iQ.stream_type}))};try{await this.signal.request(_b.UNSUBSCRIBE_STREAMS,AQ,!0)}catch(iQ){throw Qy.warning("[".concat(this.store.clientId,"] tryMassUnsubBeforeResub warning"),iQ),iQ}}async muteLocal(eQ,AQ){const iQ={action:eQ.find(oQ=>oQ.stream_type===Mb.Audio)?"mute_local_audio":"mute_local_video",p2p_id:this.store.p2pId,ortc:eQ,stream_id:AQ};try{await this.signal.request(_b.CONTROL,iQ,!0,!0)}catch(oQ){throw Qy.warning("[".concat(this.store.clientId,"] gateway muteLocal warning: "),oQ),oQ}}async unmuteLocal(eQ,AQ){const iQ={action:eQ.find(oQ=>oQ.stream_type===Mb.Audio)?"unmute_local_audio":"unmute_local_video",p2p_id:this.store.p2pId,ortc:eQ,stream_id:AQ};try{await this.signal.request(_b.CONTROL,iQ,!0,!0)}catch(oQ){throw Qy.warning("[".concat(this.store.clientId,"] gateway unmuteLocal warning: "),oQ),oQ}}async muteRemote(eQ,AQ){const iQ={action:eQ===Yb.AUDIO?"mute_remote_audio":"mute_remote_video",p2p_id:this.store.p2pId,stream_id:AQ};try{await this.signal.request(_b.CONTROL,iQ,!0,!0)}catch(oQ){throw Qy.warning("[".concat(this.store.clientId,"] gateway muteRemote warning: "),oQ),oQ}}async unmuteRemote(eQ,AQ){const iQ={action:eQ===Yb.AUDIO?"unmute_remote_audio":"unmute_remote_video",p2p_id:this.store.p2pId,stream_id:AQ};try{await this.signal.request(_b.CONTROL,iQ,!0,!0)}catch(oQ){throw Qy.warning("[".concat(this.store.clientId,"] gateway unmuteRemote warning: "),oQ),oQ}}uploadWRTCStats(eQ){this.signal.uploadWRTCStats(eQ)}upload(eQ,AQ){this.signal.upload(eQ,AQ)}getSignalRTT(){return this.signal.rtt}async restartICE(eQ){const AQ={p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:eQ};try{return await this.signal.request(_b.RESTART_ICE,AQ,!0)}catch(iQ){throw Qy.warning("[".concat(this.store.clientId,"] P2PChannel.restartICE warning: "),iQ),iQ}}reconnect(){this.state==="CONNECTED"&&this.signal.reconnect(void 0,Dv.P2P_FAILED)}getCurrentGatewayAddress(){var eQ,AQ;if(!Dy("GATEWAY_WSS_ADDRESS"))return Dy("USE_CANDIDATE_FROM_AP_DETAIL")&&(eQ=this.joinInfo)!==null&&eQ!==void 0&&eQ.apGatewayAddress?(Qy.debug("[".concat(this.store.clientId,"] use candidate from ap detail, ").concat(JSON.stringify(this.joinInfo.apGatewayAddress))),this.joinInfo.apGatewayAddress):(AQ=this.joinInfo)!==null&&AQ!==void 0&&AQ.gatewayAddrs?this.joinInfo.gatewayAddrs[this.signal.currentURLIndex]:void 0}async setPublishAudioFilterEnabled(eQ){await this.signal.request(_b.SET_PARAMETER,{enablePublishAudioFilter:eQ})}}let $M=0,eU=0;function tU(tQ,eQ,AQ,iQ){return new Gh((oQ,rQ)=>{eQ.timeout=eQ.timeout||Dy("HTTP_CONNECT_TIMEOUT"),eQ.responseType=eQ.responseType||"json",eQ.data&&!AQ?(eQ.data=JSON.stringify(eQ.data),$M+=Xv(eQ.data)):AQ&&(eQ.data.size?$M+=eQ.data.size:eQ.data instanceof FormData?$M+=Qv(eQ.data):$M+=Xv(JSON.stringify(eQ.data))),eQ.headers=eQ.headers||{},eQ.headers["Content-Type"]=eQ.headers["Content-Type"]||"application/json",eQ.method="POST",eQ.url=tQ,EI.request(eQ).then(nQ=>{typeof nQ.data=="string"?eU+=Xv(nQ.data):nQ.data instanceof ArrayBuffer||nQ.data instanceof Uint8Array?eU+=nQ.data.byteLength:eU+=Xv(JSON.stringify(nQ.data)),iQ&&oQ({data:nQ.data,headers:nQ.headers}),oQ(nQ.data)}).catch(nQ=>{EI.isCancel(nQ)?rQ(new Sb(nv.OPERATION_ABORTED,"cancel token canceled")):nQ.code==="ECONNABORTED"?rQ(new Sb(nv.NETWORK_TIMEOUT,nQ.message)):nQ.response?rQ(new Sb(nv.NETWORK_RESPONSE_ERROR,nQ.response.status)):rQ(new Sb(nv.NETWORK_ERROR,nQ.message))})})}/*! formdata-polyfill. MIT License. Jimmy W?rting <https://jimmy.warting.se/opensource> */(function(){var tQ;function eQ(TQ){var kQ=0;return function(){return kQ<TQ.length?{done:!1,value:TQ[kQ++]}:{done:!0}}}var AQ=typeof Object.defineProperties=="function"?Object.defineProperty:function(TQ,kQ,GQ){return TQ==Array.prototype||TQ==Object.prototype||(TQ[kQ]=GQ.value),TQ},iQ,oQ=function(TQ){TQ=[typeof globalThis=="object"&&globalThis,TQ,typeof window=="object"&&window,typeof self=="object"&&self,typeof t=="object"&&t];for(var kQ=0;kQ<TQ.length;++kQ){var GQ=TQ[kQ];if(GQ&&GQ.Math==Math)return GQ}throw Error("Cannot find global object")}(this);function rQ(TQ,kQ){if(kQ)e:{var GQ=oQ;TQ=TQ.split(".");for(var vQ=0;vQ<TQ.length-1;vQ++){var pQ=TQ[vQ];if(!(pQ in GQ))break e;GQ=GQ[pQ]}(kQ=kQ(vQ=GQ[TQ=TQ[TQ.length-1]]))!=vQ&&kQ!=null&&AQ(GQ,TQ,{configurable:!0,writable:!0,value:kQ})}}function nQ(TQ){return(TQ={next:TQ})[Symbol.iterator]=function(){return this},TQ}function sQ(TQ){var kQ=typeof Symbol<"u"&&Symbol.iterator&&TQ[Symbol.iterator];return kQ?kQ.call(TQ):{next:eQ(TQ)}}if(rQ("Symbol",function(TQ){function kQ(pQ,yQ){this.A=pQ,AQ(this,"description",{configurable:!0,writable:!0,value:yQ})}if(TQ)return TQ;kQ.prototype.toString=function(){return this.A};var GQ="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",vQ=0;return function pQ(yQ){if(this instanceof pQ)throw new TypeError("Symbol is not a constructor");return new kQ(GQ+(yQ||"")+"_"+vQ++,yQ)}}),rQ("Symbol.iterator",function(TQ){if(TQ)return TQ;TQ=Symbol("Symbol.iterator");for(var kQ="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),GQ=0;GQ<kQ.length;GQ++){var vQ=oQ[kQ[GQ]];typeof vQ=="function"&&typeof vQ.prototype[TQ]!="function"&&AQ(vQ.prototype,TQ,{configurable:!0,writable:!0,value:function(){return nQ(eQ(this))}})}return TQ}),typeof Object.setPrototypeOf=="function")iQ=Object.setPrototypeOf;else{var aQ;e:{var cQ={};try{cQ.__proto__={a:!0},aQ=cQ.a;break e}catch{}aQ=!1}iQ=aQ?function(TQ,kQ){if(TQ.__proto__=kQ,TQ.__proto__!==kQ)throw new TypeError(TQ+" is not extensible");return TQ}:null}var gQ=iQ;function IQ(){this.m=!1,this.j=null,this.v=void 0,this.h=1,this.u=this.C=0,this.l=null}function EQ(TQ){if(TQ.m)throw new TypeError("Generator is already running");TQ.m=!0}function CQ(TQ,kQ){return TQ.h=3,{value:kQ}}function dQ(TQ){this.g=new IQ,this.G=TQ}function lQ(TQ,kQ,GQ,vQ){try{var pQ=kQ.call(TQ.g.j,GQ);if(!(pQ instanceof Object))throw new TypeError("Iterator result "+pQ+" is not an object");if(!pQ.done)return TQ.g.m=!1,pQ;var yQ=pQ.value}catch(mQ){return TQ.g.j=null,TQ.g.s(mQ),uQ(TQ)}return TQ.g.j=null,vQ.call(TQ.g,yQ),uQ(TQ)}function uQ(TQ){for(;TQ.g.h;)try{var kQ=TQ.G(TQ.g);if(kQ)return TQ.g.m=!1,{value:kQ.value,done:!1}}catch(GQ){TQ.g.v=void 0,TQ.g.s(GQ)}if(TQ.g.m=!1,TQ.g.l){if(kQ=TQ.g.l,TQ.g.l=null,kQ.F)throw kQ.D;return{value:kQ.return,done:!0}}return{value:void 0,done:!0}}function hQ(TQ){this.next=function(kQ){return TQ.o(kQ)},this.throw=function(kQ){return TQ.s(kQ)},this.return=function(kQ){return function(GQ,vQ){EQ(GQ.g);var pQ=GQ.g.j;return pQ?lQ(GQ,"return"in pQ?pQ.return:function(yQ){return{value:yQ,done:!0}},vQ,GQ.g.return):(GQ.g.return(vQ),uQ(GQ))}(TQ,kQ)},this[Symbol.iterator]=function(){return this}}function BQ(TQ,kQ){return kQ=new hQ(new dQ(kQ)),gQ&&TQ.prototype&&gQ(kQ,TQ.prototype),kQ}if(IQ.prototype.o=function(TQ){this.v=TQ},IQ.prototype.s=function(TQ){this.l={D:TQ,F:!0},this.h=this.C||this.u},IQ.prototype.return=function(TQ){this.l={return:TQ},this.h=this.u},dQ.prototype.o=function(TQ){return EQ(this.g),this.g.j?lQ(this,this.g.j.next,TQ,this.g.o):(this.g.o(TQ),uQ(this))},dQ.prototype.s=function(TQ){return EQ(this.g),this.g.j?lQ(this,this.g.j.throw,TQ,this.g.o):(this.g.s(TQ),uQ(this))},rQ("Array.prototype.entries",function(TQ){return TQ||function(){return function(kQ,GQ){kQ instanceof String&&(kQ+="");var vQ=0,pQ=!1,yQ={next:function(){if(!pQ&&vQ<kQ.length){var mQ=vQ++;return{value:GQ(mQ,kQ[mQ]),done:!1}}return pQ=!0,{done:!0,value:void 0}}};return yQ[Symbol.iterator]=function(){return yQ},yQ}(this,function(kQ,GQ){return[kQ,GQ]})}}),typeof Blob<"u"&&(typeof FormData>"u"||!FormData.prototype.keys)){var QQ=function(TQ,kQ){for(var GQ=0;GQ<TQ.length;GQ++)kQ(TQ[GQ])},fQ=function(TQ){return TQ.replace(/\r?\n|\r/g,`\r
`)},_Q=function(TQ,kQ,GQ){return kQ instanceof Blob?(GQ=GQ!==void 0?String(GQ+""):typeof kQ.name=="string"?kQ.name:"blob",kQ.name===GQ&&Object.prototype.toString.call(kQ)!=="[object Blob]"||(kQ=new File([kQ],GQ)),[String(TQ),kQ]):[String(TQ),String(kQ)]},RQ=function(TQ,kQ){if(TQ.length<kQ)throw new TypeError(kQ+" argument required, but only "+TQ.length+" present.")},wQ=typeof globalThis=="object"?globalThis:typeof window=="object"?window:typeof self=="object"?self:this,bQ=wQ.FormData,NQ=wQ.XMLHttpRequest&&wQ.XMLHttpRequest.prototype.send,UQ=wQ.Request&&wQ.fetch,PQ=wQ.navigator&&wQ.navigator.sendBeacon,OQ=wQ.Element&&wQ.Element.prototype,YQ=wQ.Symbol&&Symbol.toStringTag;YQ&&(Blob.prototype[YQ]||(Blob.prototype[YQ]="Blob"),"File"in wQ&&!File.prototype[YQ]&&(File.prototype[YQ]="File"));try{new File([],"")}catch{wQ.File=function(kQ,GQ,vQ){return kQ=new Blob(kQ,vQ||{}),Object.defineProperties(kQ,{name:{value:GQ},lastModified:{value:+(vQ&&vQ.lastModified!==void 0?new Date(vQ.lastModified):new Date)},toString:{value:function(){return"[object File]"}}}),YQ&&Object.defineProperty(kQ,YQ,{value:"File"}),kQ}}var SQ=function(TQ){return TQ.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22")},xQ=function(TQ){this.i=[];var kQ=this;TQ&&QQ(TQ.elements,function(GQ){if(GQ.name&&!GQ.disabled&&GQ.type!=="submit"&&GQ.type!=="button"&&!GQ.matches("form fieldset[disabled] *"))if(GQ.type==="file"){var vQ=GQ.files&&GQ.files.length?GQ.files:[new File([],"",{type:"application/octet-stream"})];QQ(vQ,function(pQ){kQ.append(GQ.name,pQ)})}else GQ.type==="select-multiple"||GQ.type==="select-one"?QQ(GQ.options,function(pQ){!pQ.disabled&&pQ.selected&&kQ.append(GQ.name,pQ.value)}):GQ.type==="checkbox"||GQ.type==="radio"?GQ.checked&&kQ.append(GQ.name,GQ.value):(vQ=GQ.type==="textarea"?fQ(GQ.value):GQ.value,kQ.append(GQ.name,vQ))})};if((tQ=xQ.prototype).append=function(TQ,kQ,GQ){RQ(arguments,2),this.i.push(_Q(TQ,kQ,GQ))},tQ.delete=function(TQ){RQ(arguments,1);var kQ=[];TQ=String(TQ),QQ(this.i,function(GQ){GQ[0]!==TQ&&kQ.push(GQ)}),this.i=kQ},tQ.entries=function TQ(){var kQ,GQ=this;return BQ(TQ,function(vQ){if(vQ.h==1&&(kQ=0),vQ.h!=3)return kQ<GQ.i.length?vQ=CQ(vQ,GQ.i[kQ]):(vQ.h=0,vQ=void 0),vQ;kQ++,vQ.h=2})},tQ.forEach=function(TQ,kQ){RQ(arguments,1);for(var GQ=sQ(this),vQ=GQ.next();!vQ.done;vQ=GQ.next()){var pQ=sQ(vQ.value);vQ=pQ.next().value,pQ=pQ.next().value,TQ.call(kQ,pQ,vQ,this)}},tQ.get=function(TQ){RQ(arguments,1);var kQ=this.i;TQ=String(TQ);for(var GQ=0;GQ<kQ.length;GQ++)if(kQ[GQ][0]===TQ)return kQ[GQ][1];return null},tQ.getAll=function(TQ){RQ(arguments,1);var kQ=[];return TQ=String(TQ),QQ(this.i,function(GQ){GQ[0]===TQ&&kQ.push(GQ[1])}),kQ},tQ.has=function(TQ){RQ(arguments,1),TQ=String(TQ);for(var kQ=0;kQ<this.i.length;kQ++)if(this.i[kQ][0]===TQ)return!0;return!1},tQ.keys=function TQ(){var kQ,GQ,vQ,pQ,yQ=this;return BQ(TQ,function(mQ){if(mQ.h==1&&(kQ=sQ(yQ),GQ=kQ.next()),mQ.h!=3)return GQ.done?void(mQ.h=0):(vQ=GQ.value,pQ=sQ(vQ),CQ(mQ,pQ.next().value));GQ=kQ.next(),mQ.h=2})},tQ.set=function(TQ,kQ,GQ){RQ(arguments,2),TQ=String(TQ);var vQ=[],pQ=_Q(TQ,kQ,GQ),yQ=!0;QQ(this.i,function(mQ){mQ[0]===TQ?yQ&&(yQ=!vQ.push(pQ)):vQ.push(mQ)}),yQ&&vQ.push(pQ),this.i=vQ},tQ.values=function TQ(){var kQ,GQ,vQ,pQ,yQ=this;return BQ(TQ,function(mQ){if(mQ.h==1&&(kQ=sQ(yQ),GQ=kQ.next()),mQ.h!=3)return GQ.done?void(mQ.h=0):(vQ=GQ.value,(pQ=sQ(vQ)).next(),CQ(mQ,pQ.next().value));GQ=kQ.next(),mQ.h=2})},xQ.prototype._asNative=function(){for(var TQ=new bQ,kQ=sQ(this),GQ=kQ.next();!GQ.done;GQ=kQ.next()){var vQ=sQ(GQ.value);GQ=vQ.next().value,vQ=vQ.next().value,TQ.append(GQ,vQ)}return TQ},xQ.prototype._blob=function(){var TQ="----formdata-polyfill-"+Math.random(),kQ=[],GQ="--"+TQ+`\r
Content-Disposition: form-data; name="`;return this.forEach(function(vQ,pQ){return typeof vQ=="string"?kQ.push(GQ+SQ(fQ(pQ))+`"\r
\r
`+fQ(vQ)+`\r
`):kQ.push(GQ+SQ(fQ(pQ))+'"; filename="'+SQ(vQ.name)+`"\r
Content-Type: `+(vQ.type||"application/octet-stream")+`\r
\r
`,vQ,`\r
`)}),kQ.push("--"+TQ+"--"),new Blob(kQ,{type:"multipart/form-data; boundary="+TQ})},xQ.prototype[Symbol.iterator]=function(){return this.entries()},xQ.prototype.toString=function(){return"[object FormData]"},OQ&&!OQ.matches&&(OQ.matches=OQ.matchesSelector||OQ.mozMatchesSelector||OQ.msMatchesSelector||OQ.oMatchesSelector||OQ.webkitMatchesSelector||function(TQ){for(var kQ=(TQ=(this.document||this.ownerDocument).querySelectorAll(TQ)).length;0<=--kQ&&TQ.item(kQ)!==this;);return-1<kQ}),YQ&&(xQ.prototype[YQ]="FormData"),NQ){var VQ=wQ.XMLHttpRequest.prototype.setRequestHeader;wQ.XMLHttpRequest.prototype.setRequestHeader=function(TQ,kQ){VQ.call(this,TQ,kQ),TQ.toLowerCase()==="content-type"&&(this.B=!0)},wQ.XMLHttpRequest.prototype.send=function(TQ){TQ instanceof xQ?(TQ=TQ._blob(),this.B||this.setRequestHeader("Content-Type",TQ.type),NQ.call(this,TQ)):NQ.call(this,TQ)}}UQ&&(wQ.fetch=function(TQ,kQ){return kQ&&kQ.body&&kQ.body instanceof xQ&&(kQ.body=kQ.body._blob()),UQ.call(this,TQ,kQ)}),PQ&&(wQ.navigator.sendBeacon=function(TQ,kQ){return kQ instanceof xQ&&(kQ=kQ._asNative()),PQ.call(this,TQ,kQ)}),wQ.FormData=xQ}})();const iU=()=>{const tQ=Dy("AREAS");return tQ.length===0&&tQ.push(Fb.GLOBAL),Jn(tQ).call(tQ,(eQ,AQ,iQ)=>{const oQ=nU(AQ);return oQ?iQ===0?oQ:"".concat(eQ,",").concat(oQ):eQ},"")},nU=tQ=>tQ===Fb.OVERSEA?"".concat(jb.ASIA,",").concat(jb.EUROPE,",").concat(jb.AFRICA,",").concat(jb.NORTH_AMERICA,",").concat(jb.SOUTH_AMERICA,",").concat(jb.OCEANIA):jb[tQ],rU=tQ=>{const eQ={CODE:"",WEBCS_DOMAIN:[],WEBCS_DOMAIN_BACKUP_LIST:[],PROXY_CS:[],CDS_AP:[],ACCOUNT_REGISTER:[],UAP_AP:[],EVENT_REPORT_DOMAIN:[],EVENT_REPORT_BACKUP_DOMAIN:[],LOG_UPLOAD_SERVER:[],PROXY_SERVER_TYPE3:[]};return tQ.map(AQ=>{const iQ=Gb[AQ],oQ=Object.keys(iQ);oQ&&oQ.map(rQ=>{rQ!=="CODE"&&(eQ[rQ]=eQ[rQ].concat(iQ[rQ]))})}),eQ},oU={GLOBAL:{ASIA:[Fb.CHINA,Fb.JAPAN,Fb.INDIA,Fb.KOREA,Fb.HKMC],EUROPE:[],NORTH_AMERICA:[Fb.US],SOUTH_AMERICA:[],OCEANIA:[],AFRICA:[]}},sU=Object.keys(oU[Fb.GLOBAL]),aU=[Fb.CHINA,Fb.NORTH_AMERICA,Fb.EUROPE,Fb.ASIA,Fb.JAPAN,Fb.INDIA,Fb.OCEANIA,Fb.SOUTH_AMERICA,Fb.AFRICA,Fb.KOREA,Fb.HKMC,Fb.US],cU=function(tQ,eQ){let AQ=[];if(Dn(tQ).call(tQ,Fb.GLOBAL)){const rQ=[Fb.GLOBAL,Fb.OVERSEA],nQ=Object.keys(Gb);if(eQ===Fb.GLOBAL)throw new Sb(nv.INVALID_PARAMS,"GLOBAL is an invalid excludedArea value");if(eQ===Fb.CHINA)AQ=[Fb.OVERSEA];else if(oQ=eQ,Dn(sU).call(sU,oQ)){const sQ=(iQ=eQ,oU[Fb.GLOBAL][iQ]||[]),aQ=[...rQ,eQ,...sQ];AQ=nQ.filter(cQ=>!Dn(aQ).call(aQ,cQ))}else if(function(sQ){let aQ=!1;return sU.forEach(cQ=>{var gQ;Dn(gQ=oU[Fb.GLOBAL][cQ]).call(gQ,sQ)&&(aQ=!0)}),aQ}(eQ)){const sQ=function(cQ){let gQ;return sU.forEach(IQ=>{var EQ;Dn(EQ=oU[Fb.GLOBAL][IQ]).call(EQ,cQ)&&(gQ=IQ)}),gQ}(eQ),aQ=[...rQ,sQ,eQ];AQ=nQ.filter(cQ=>!Dn(aQ).call(aQ,cQ))}else AQ=tQ;AQ=function(sQ){const aQ=[];return aU.forEach(cQ=>{Dn(sQ).call(sQ,cQ)&&aQ.push(cQ)}),aQ.concat(sQ.filter(cQ=>!Dn(aU).call(aU,cQ)))}(AQ)}else AQ=tQ;var iQ,oQ;return AQ};function dU(tQ){var eQ,AQ;if(!tQ&&Dn(eQ=Dy("AREAS")).call(eQ,Fb.EXTENSIONS))return Qy.debug("update area from ap : reset"),void lU(aA,!0);if(!Dn(AQ=Dy("AREAS")).call(AQ,Fb.GLOBAL)||!tQ)return;let iQ=Gb.EXTENSIONS;iQ&&(iQ={CODE:nU(Fb.EXTENSIONS),WEBCS_DOMAIN:["ap-web-1-".concat(tQ,".agora.io")],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-".concat(tQ,".ap.sd-rtn.com")],PROXY_CS:["proxy-ap-web-".concat(tQ,".agora.io")],CDS_AP:["cds-ap-web-1-".concat(tQ,".agora.io"),"cds-ap-web-2-".concat(tQ,".ap.sd-rtn.com")],ACCOUNT_REGISTER:["sua-ap-web-1-".concat(tQ,".agora.io"),"sua-ap-web-2-".concat(tQ,".ap.sd-rtn.com")],UAP_AP:["uap-ap-web-1-".concat(tQ,".agora.io"),"uap-ap-web-2-".concat(tQ,".ap.sd-rtn.com")],EVENT_REPORT_DOMAIN:["statscollector-1-".concat(tQ,".agora.io")],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-".concat(tQ,".agora.io")],LOG_UPLOAD_SERVER:["logservice-".concat(tQ,".agora.io")],PROXY_SERVER_TYPE3:["webrtc-cloud-proxy-".concat(tQ,".agora.io")]},Qy.debug("update area from ap success: ".concat(tQ,",config is "),iQ),Ny("AREAS",[Fb.EXTENSIONS],!0),Object.keys(iQ).map(oQ=>{oQ==="LOG_UPLOAD_SERVER"||oQ==="EVENT_REPORT_DOMAIN"||oQ==="EVENT_REPORT_BACKUP_DOMAIN"||oQ==="PROXY_SERVER_TYPE3"?Ny(oQ,iQ[oQ][0]):Ny(oQ,iQ[oQ])}))}function lU(tQ){let eQ=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const AQ=sA.reportApiInvoke(null,{name:Cv.SET_AREA,options:tQ,tag:Iv.TRACER});try{let iQ=[];if(typeof tQ=="string"&&(iQ=[tQ]),Array.isArray(tQ)&&(tQ.forEach(rQ=>{if(!Dn(Bb).call(Bb,rQ))throw new Sb(nv.INVALID_PARAMS,"invalid area code")}),iQ=tQ),Object.prototype.toString.call(tQ)==="[object Object]"){const{areaCode:rQ,excludedArea:nQ}=tQ;if(!rQ)throw new Sb(nv.INVALID_PARAMS,"area code is needed");let sQ=rQ;typeof rQ=="string"&&(sQ=[rQ]),iQ=nQ?cU(sQ,nQ):sQ}if(!eQ){if(Py.AREAS){const rQ=new Sb(nv.PROHIBITED_OPERATION,"setArea is prohibited because of config-distribute");return AQ.onError(rQ),void Qy.warning("setArea is prohibited because of config-distribute")}if(Dn(iQ).call(iQ,Fb.GLOBAL)&&Dy("AREAS")===Fb.EXTENSIONS){const rQ=new Sb(nv.PROHIBITED_OPERATION,"setArea is prohibited because of ap extensions");return AQ.onError(rQ),void Qy.warning("setArea is prohibited because of ap extensions")}}Ny("AREAS",iQ,eQ);const oQ=rU(iQ);Object.keys(oQ).map(rQ=>{rQ==="LOG_UPLOAD_SERVER"||rQ==="EVENT_REPORT_DOMAIN"||rQ==="EVENT_REPORT_BACKUP_DOMAIN"||rQ==="PROXY_SERVER_TYPE3"?Ny(rQ,oQ[rQ][0]):Ny(rQ,oQ[rQ])}),Qy.debug("set area success:",iQ.join(","))}catch(iQ){throw AQ.onError(iQ),iQ}AQ.onSuccess()}function uU(tQ,eQ){var AQ=Object.keys(tQ);if(Object.getOwnPropertySymbols){var iQ=Object.getOwnPropertySymbols(tQ);eQ&&(iQ=iQ.filter(function(oQ){return Object.getOwnPropertyDescriptor(tQ,oQ).enumerable})),AQ.push.apply(AQ,iQ)}return AQ}function hU(tQ){for(var eQ=1;eQ<arguments.length;eQ++){var AQ=arguments[eQ]!=null?arguments[eQ]:{};eQ%2?uU(Object(AQ),!0).forEach(function(iQ){og(tQ,iQ,AQ[iQ])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tQ,Object.getOwnPropertyDescriptors(AQ)):uU(Object(AQ)).forEach(function(iQ){Object.defineProperty(tQ,iQ,Object.getOwnPropertyDescriptor(AQ,iQ))})}return tQ}let pU=1;function _U(tQ,eQ,AQ,iQ,oQ){pU+=1;const rQ={sid:AQ.sid,command:"convergeAllocateEdge",uid:"666",appId:AQ.appId,ts:Math.floor(Date.now()/1e3),seq:pU,requestId:pU,version:vy,cname:AQ.cname},nQ={service_name:eQ,json_body:JSON.stringify(rQ)};let sQ,aQ,cQ=tQ[0];return my(async()=>{sQ=Date.now();const gQ=await tU(cQ,{data:nQ,cancelToken:iQ,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"}});if(aQ=Date.now()-sQ,gQ.code!==0){const CQ=new Sb(nv.UNEXPECTED_RESPONSE,"live streaming ap error, code"+gQ.code,{retry:!0,responseTime:aQ});throw Qy.error(CQ.toString()),CQ}const IQ=JSON.parse(gQ.json_body);if(IQ.code!==200){const CQ=new Sb(nv.UNEXPECTED_RESPONSE,"live streaming app center error, code: ".concat(IQ.code,", reason: ").concat(IQ.reason),{code:IQ.code,responseTime:aQ});throw Qy.error(CQ.toString()),CQ}if(!IQ.servers||IQ.servers.length===0){const CQ=new Sb(nv.UNEXPECTED_RESPONSE,"live streaming app center empty server",{code:IQ.code,responseTime:aQ});throw Qy.error(CQ.toString()),CQ}const EQ=function(CQ,dQ){return{addressList:CQ.servers.map(lQ=>"wss://".concat(lQ.address.replace(/\./g,"-"),".").concat(Dy("WORKER_DOMAIN"),":").concat(lQ.wss,"?serviceName=").concat(encodeURIComponent(dQ))),workerToken:CQ.workerToken,vid:CQ.vid}}(IQ,eQ);return Dy("LIVE_STREAMING_ADDRESS")&&(EQ.addressList=Dy("LIVE_STREAMING_ADDRESS")instanceof Array?Dy("LIVE_STREAMING_ADDRESS"):[Dy("LIVE_STREAMING_ADDRESS")]),hU(hU({},EQ),{},{responseTime:aQ})},(gQ,IQ)=>(sA.apworkerEvent(AQ.sid,{success:!0,sc:200,serviceName:eQ,responseDetail:JSON.stringify(gQ.addressList),firstSuccess:IQ===0,responseTime:aQ,serverIp:tQ[IQ%tQ.length]}),!1),(gQ,IQ)=>(sA.apworkerEvent(AQ.sid,{success:!1,sc:gQ.data&&gQ.data.code||200,serviceName:eQ,responseTime:aQ,serverIp:tQ[IQ%tQ.length]}),!!(gQ.code!==nv.OPERATION_ABORTED&&gQ.code!==nv.UNEXPECTED_RESPONSE||gQ.data&&gQ.data.retry)&&(cQ=tQ[(IQ+1)%tQ.length],!0)),oQ)}let EU=1;function mU(tQ,eQ,AQ,iQ){let{url:oQ,areaCode:rQ}=tQ;const{clientId:nQ,sid:sQ}=eQ,aQ=Date.now();let cQ;const[gQ,IQ]=RU(eQ,rQ,[Ow.CHOOSE_SERVER]);let EQ=Vv.networkState;return my(async()=>{EQ&&Vv.networkState===Pv.OFFLINE&&Vv.onlineWaiter&&await Gh.race([Vv.onlineWaiter,$v(iQ&&iQ.maxRetryTimeout||_y.maxRetryTimeout)]),EQ=Vv.networkState;const{data:CQ,headers:dQ}=await tU(oQ,{data:gQ,cancelToken:AQ,headers:{"Content-Type":"multipart/form-data;"}},!0,!0);cQ=dQ.http3==="1"?1:-1,sA.reportResourceTiming(oQ,sQ),TU(CQ,oQ,eQ,aQ,[Ow.CHOOSE_SERVER],cQ);const lQ=xw(CQ,Ow.CHOOSE_SERVER);return SU(lQ),Lw(lQ,oQ)},CQ=>(CQ&&sA.joinChooseServer(sQ,{lts:aQ,succ:!0,csAddr:oQ,opid:IQ,serverList:CQ.gatewayAddrs.map(dQ=>dQ.address),ec:null,cid:CQ.cid.toString(),uid:CQ.uid.toString(),csIp:CQ.csIp,unilbsServerIds:[Ow.CHOOSE_SERVER].toString(),isHttp3:cQ}),!1),CQ=>CQ.code!==nv.OPERATION_ABORTED&&(CQ.code===nv.CAN_NOT_GET_GATEWAY_SERVER?CQ.data.retry:(sA.joinChooseServer(sQ,{lts:aQ,succ:!1,csAddr:oQ,serverList:null,opid:IQ,ec:CQ.code,csIp:CQ.data&&CQ.data.csIp,unilbsServerIds:[Ow.CHOOSE_SERVER].toString(),extend:JSON.stringify({networkState:EQ}),isHttp3:cQ}),Qy.warning("[".concat(nQ||"sid-".concat(sQ.slice(0,6)),"] Choose server network error, retry"),CQ),!0)),iQ)}function fU(tQ,eQ,AQ,iQ){let oQ,{url:rQ,areaCode:nQ,serviceIds:sQ}=tQ;const aQ=Date.now(),[cQ,gQ]=RU(eQ,nQ,sQ);let IQ;return my(async()=>{IQ&&Vv.networkState===Pv.OFFLINE&&Vv.onlineWaiter&&await Gh.race([Vv.onlineWaiter,$v(iQ&&iQ.maxRetryTimeout||_y.maxRetryTimeout)]),IQ=Vv.networkState;const{data:EQ,headers:CQ}=await tU(rQ,{data:cQ,cancelToken:AQ,headers:{"Content-Type":"multipart/form-data;"}},!0,!0);oQ=CQ.http3==="1"?1:-1,sA.reportResourceTiming(rQ,eQ.sid),TU(EQ,rQ,eQ,aQ,sQ,oQ);const dQ=xw(EQ,Ow.CHOOSE_SERVER),lQ=xw(EQ,eQ.cloudProxyServer==="proxy5"?Ow.CLOUD_PROXY_5:eQ.cloudProxyServer==="proxy3"||eQ.cloudProxyServer==="proxy4"?Ow.CLOUD_PROXY:Ow.CLOUD_PROXY_FALLBACK);return SU(dQ),{gatewayInfo:Lw(dQ,rQ),proxyInfo:lQ,url:rQ}},EQ=>(EQ.gatewayInfo&&sA.joinChooseServer(eQ.sid,{lts:aQ,succ:!0,csAddr:rQ,serverList:EQ.gatewayInfo.gatewayAddrs.map(CQ=>CQ.address),ec:null,opid:gQ,cid:EQ.gatewayInfo.cid.toString(),uid:EQ.gatewayInfo.uid.toString(),csIp:EQ.gatewayInfo.csIp,unilbsServerIds:sQ.toString(),isHttp3:oQ}),EQ.proxyInfo&&sA.joinWebProxyAP(eQ.sid,{lts:aQ,sucess:1,apServerAddr:rQ,turnServerAddrList:EQ.proxyInfo.addresses.map(CQ=>CQ.ip).join(","),errorCode:null,eventType:eQ.cloudProxyServer,unilbsServerIds:sQ.toString()}),!1),EQ=>EQ.code!==nv.OPERATION_ABORTED&&(EQ.code===nv.CAN_NOT_GET_GATEWAY_SERVER?EQ.data.retry:(sA.joinWebProxyAP(eQ.sid,{lts:aQ,sucess:0,apServerAddr:rQ,turnServerAddrList:null,errorCode:EQ.code,eventType:eQ.cloudProxyServer,unilbsServerIds:sQ.toString(),extend:JSON.stringify({networkState:IQ})}),Qy.warning("[".concat(eQ.clientId,"] multi unilbs network error, retry"),EQ),!0)),iQ)}const TU=(tQ,eQ,AQ,iQ,oQ,rQ)=>{const{sid:nQ,clientId:sQ,cloudProxyServer:aQ}=AQ,cQ=[],gQ=IQ=>{IQ.flag===4096?sA.joinChooseServer(nQ,{lts:iQ,succ:!1,csAddr:eQ,opid:tQ.opid,serverList:null,ec:IQ.error.message,csIp:IQ.error.data&&IQ.error.data.csIp,unilbsServerIds:oQ.toString(),isHttp3:rQ}):IQ.flag!==1048576&&IQ.flag!==4194304&&IQ.flag!==4194310||sA.joinWebProxyAP(nQ,{lts:iQ,sucess:0,apServerAddr:eQ,turnServerAddrList:null,errorCode:IQ.error.code,eventType:aQ,unilbsServerIds:oQ.toString()})};if(tQ.response_body.forEach(IQ=>{const EQ=IQ.buffer.code;if(IQ.uri===23&&EQ===0&&!IQ.buffer.edges_services)if(IQ.buffer.flag===4194310)Qy.warning("no edge services in ap response of proxy fallback, will not set proxy in iceServers"),IQ.buffer.edges_services=[];else{const CQ={error:new Sb(nv.CAN_NOT_GET_GATEWAY_SERVER,"no edge services in ap response",{retry:!0,csIp:tQ.detail[502]}),flag:IQ.buffer.flag};cQ.push(CQ),gQ(CQ)}if(EQ!==0){const CQ=uw(EQ),dQ={error:new Sb(nv.CAN_NOT_GET_GATEWAY_SERVER,CQ.desc,{desc:CQ.desc,retry:CQ.retry,csIp:tQ.detail[502]}),flag:IQ.buffer.flag};IQ.buffer.flag===4194310?Qy.warning(dQ.error.toString()):cQ.push(dQ),gQ(dQ)}}),cQ.length)throw Qy.warning("[".concat(sQ||"sid-".concat(nQ.slice(0,6)),"] multi unilbs ").concat(eQ," failed, ").concat(cQ.map(IQ=>"flag: ".concat(IQ.flag,", message: ").concat(IQ.error.message,", retry: ").concat(IQ.error.data.retry)).join(" | "))),new Sb(nv.CAN_NOT_GET_GATEWAY_SERVER,cQ.map(IQ=>"flag: ".concat(IQ.flag,", message: ").concat(IQ.error.message)).join(" | "),{retry:!!cQ.find(IQ=>IQ.error.data.retry),csIp:tQ.detail[502],desc:[...new Set(cQ.map(IQ=>{var EQ;return IQ==null||(EQ=IQ.error)===null||EQ===void 0||(EQ=EQ.data)===null||EQ===void 0?void 0:EQ.desc}).filter(IQ=>!!IQ))]})},SU=tQ=>{var eQ,AQ,iQ,oQ;if(tQ.addresses&&tQ.addresses.length===0&&tQ.code===0)throw new Sb(nv.CAN_NOT_GET_GATEWAY_SERVER,"void gateway address",{retry:!0,csIp:tQ.detail&&tQ.detail[502]});if(Dy("AP_AREA")&&((iQ=tQ.detail)!==null&&iQ!==void 0&&iQ[23]&&typeof((oQ=tQ.detail)===null||oQ===void 0?void 0:oQ[23])=="string"?dU(tQ.detail[23].toLowerCase()):dU()),(eQ=tQ.detail)!==null&&eQ!==void 0&&eQ[19]&&typeof((AQ=tQ.detail)===null||AQ===void 0?void 0:AQ[19])=="string"){const nQ=tQ.detail[19],sQ=nQ==null?void 0:nQ.split(";");for(let aQ=0;aQ<sQ.length;aQ++){var rQ;const cQ=jp(rQ=sQ[aQ]).call(rQ);tQ.addresses[aQ]&&sQ&&(tQ.addresses[aQ].fingerprint=cQ)}}if(Dy("GATEWAY_ADDRESS")&&Dy("GATEWAY_ADDRESS").length>0){Qy.debug("assign gateway address to",Dy("GATEWAY_ADDRESS"));const nQ=Dy("GATEWAY_ADDRESS").map(sQ=>{var aQ,cQ;const gQ=(aQ=(cQ=tQ.addresses.find(IQ=>IQ.ip===sQ.ip&&IQ.port===sQ.port))===null||cQ===void 0?void 0:cQ.fingerprint)!==null&&aQ!==void 0?aQ:"";return{ip:sQ.ip,port:sQ.port,ticket:tQ.addresses[0]&&tQ.addresses[0].ticket,fingerprint:gQ}});tQ.addresses=nQ}},gU=(tQ,eQ)=>{if(tQ.response_body&&tQ.response_body.length){const AQ=tQ.response_body[0];if(AQ.buffer.code!==0){const iQ=uw(AQ.buffer.code);throw new Sb(nv.UPDATE_TICKET_FAILED,"[".concat(AQ.buffer.code,"]: ").concat(iQ.desc),{retry:iQ.retry})}return AQ.buffer.ticket}throw Qy.debug("update ticket request received ap response without response body:",eQ),new Sb(nv.UPDATE_TICKET_FAILED,"cannot find response body from ap response",{retry:!1})},RU=(tQ,eQ,AQ)=>{const iQ=Math.floor(Math.random()*1e12),oQ={appid:tQ.appId,client_ts:Date.now(),opid:iQ,sid:tQ.sid,request_bodies:[{uri:22,buffer:{cname:tQ.cname,detail:hU({6:tQ.stringUid,11:eQ,12:Dy("USE_NEW_TOKEN")?"1":void 0,22:eQ},tQ.apRTM?{26:"RTM2"}:{}),key:tQ.token,service_ids:AQ,uid:tQ.uid||0}}]};oQ.request_bodies.forEach(nQ=>{tQ.multiIP&&tQ.multiIP.gateway_ip&&(nQ.buffer.detail[5]=JSON.stringify({vocs_ip:[tQ.multiIP.uni_lbs_ip],vos_ip:[tQ.multiIP.gateway_ip]}))});const rQ=new FormData;return rQ.append("request",JSON.stringify(oQ)),[rQ,iQ]},CU=(tQ,eQ)=>{const AQ=Math.floor(Math.random()*1e12),iQ={appid:tQ.appId,client_ts:Date.now(),opid:AQ,sid:tQ.sid,request_bodies:[{uri:28,buffer:{cname:tQ.cname,detail:{1:"",6:tQ.stringUid,12:"1"},token:tQ.token,service_ids:eQ,uid:tQ.uid||0,edges_services:tQ.apResponse.addresses.map(rQ=>({ip:rQ.ip,port:rQ.port}))}}]},oQ=new FormData;return oQ.append("request",JSON.stringify(iQ)),[oQ,AQ]};let IU=0;function vU(tQ){return Gh.all(tQ.map(eQ=>eQ.then(AQ=>{throw AQ},AQ=>AQ))).then(eQ=>{throw eQ},eQ=>eQ)}const yU=async tQ=>{let{fragementLength:eQ,referenceList:AQ,asyncMapHandler:iQ,allFailedhandler:oQ,promisesCollector:rQ}=tQ,nQ=0;const sQ=eQ;let aQ,cQ=0;const gQ=async()=>{const IQ=(()=>{const EQ=nQ*sQ,CQ=EQ+sQ;return AQ.slice(EQ,CQ).map(iQ)})();rQ&&rQ.push(...IQ);try{aQ=await vU(IQ)}catch(EQ){if(cQ+=sQ,nQ++,!(cQ>=AQ.length))return void await gQ();oQ(EQ)}IQ.forEach(EQ=>EQ.cancel())};return await gQ(),aQ},AU=async tQ=>{let{referenceList:eQ,asyncMapHandler:AQ,closeFn:iQ}=tQ;const oQ=eQ.length;let rQ=0;const nQ=async()=>{const sQ=AQ(eQ.shift());try{return await sQ}catch(aQ){if(rQ++,rQ>=oQ||iQ!=null&&iQ(aQ))throw aQ;return nQ()}};return nQ()};async function bU(tQ,eQ,AQ,iQ){return{gatewayInfo:await async function(rQ,nQ,sQ,aQ){let cQ=null;const gQ=[],IQ=async()=>{const CQ=Dy("WEBCS_DOMAIN").slice(0,Dy("AJAX_REQUEST_CONCURRENT")).map(uQ=>({url:rQ.proxyServer?"https://".concat(rQ.proxyServer,"/ap/?url=").concat(uQ+"/api/v2/transpond/webrtc?v=2"):"https://".concat(uQ,"/api/v2/transpond/webrtc?v=2"),areaCode:iU()})),dQ=aQ.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:CQ.map(uQ=>uQ.url)}),lQ=await yU({fragementLength:Dy("FRAGEMENT_LENGTH"),referenceList:CQ,asyncMapHandler:uQ=>(Qy.debug("[".concat(rQ.clientId,"] Connect to choose_server:"),uQ.url),mU(uQ,rQ,nQ,sQ)),allFailedhandler:uQ=>{throw aQ.recordJoinChannelService({endTs:Date.now(),status:"error",errors:uQ},dQ),uQ[0]},promisesCollector:gQ});return aQ.recordJoinChannelService({endTs:Date.now(),status:"success"},dQ),lQ},EQ=async()=>{if(await $v(1e3),cQ!==null)return cQ;const CQ=Dy("WEBCS_DOMAIN_BACKUP_LIST").map(uQ=>({url:rQ.proxyServer?"https://".concat(rQ.proxyServer,"/ap/?url=").concat(uQ+"/api/v2/transpond/webrtc?v=2"):"https://".concat(uQ,"/api/v2/transpond/webrtc?v=2"),areaCode:iU()})),dQ=aQ.recordJoinChannelService({endTs:void 0,startTs:Date.now(),status:"pending",service:"chooseServer",urls:CQ.map(uQ=>uQ.url)}),lQ=await yU({fragementLength:Dy("FRAGEMENT_LENGTH"),referenceList:CQ,asyncMapHandler:uQ=>(Qy.debug("[".concat(rQ.clientId,"] Connect to backup choose_server:"),uQ.url),mU(uQ,rQ,nQ,sQ)),allFailedhandler:uQ=>{throw aQ.recordJoinChannelService({endTs:Date.now(),status:"error",errors:uQ},dQ),uQ[0]},promisesCollector:gQ});return aQ.recordJoinChannelService({endTs:Date.now(),status:"success"},dQ),lQ};try{return cQ=await vU([IQ(),EQ()]),gQ.length&&gQ.forEach(CQ=>CQ.cancel&&typeof CQ.cancel=="function"&&CQ.cancel()),cQ}catch(CQ){throw CQ[0]}}(tQ,eQ,AQ,iQ)}}async function wU(tQ,eQ,AQ,iQ,oQ){const rQ=tQ.cloudProxyServer;if(rQ==="disabled"){if(!iQ)return;if(tQ.useLocalAccessPoint)return await bU(tQ,eQ,AQ,oQ);if(Dy("JOIN_WITH_FALLBACK_MEDIA_PROXY")){const{gatewayInfo:EQ,proxyInfo:CQ}=await LU(tQ,eQ,AQ,oQ);if(tQ.turnServer&&tQ.turnServer.mode!=="auto")return{gatewayInfo:EQ};const dQ=CQ.map(lQ=>({turnServerURL:lQ.address,tcpport:lQ.tcpport||cA.tcpport,udpport:lQ.udpport||cA.udpport,username:lQ.username||cA.username,password:lQ.password||cA.password,forceturn:!1,security:!0}));if(oQ.useP2P){var nQ;const lQ=(nQ=tQ.uid)!==null&&nQ!==void 0?nQ:EQ.uid,uQ="glb:".concat(lQ.toString()),hQ=await Tv(uQ),BQ=CQ.map(QQ=>({turnServerURL:QQ.address,tcpport:QQ.tcpport||cA.tcpport,udpport:QQ.udpport||cA.udpport,username:uQ,password:hQ,forceturn:!1,security:!0}));dQ.push(...BQ)}return tQ.turnServer={mode:"manual",servers:dQ},{gatewayInfo:EQ}}return await bU(tQ,eQ,AQ,oQ)}const{proxyInfo:sQ,gatewayInfo:aQ}=await LU(tQ,eQ,AQ,oQ),cQ={gatewayInfo:aQ},gQ=sQ.map(EQ=>({turnServerURL:EQ.address,tcpport:rQ==="proxy3"?void 0:EQ.tcpport?EQ.tcpport:cA.tcpport,udpport:rQ==="proxy4"?void 0:EQ.udpport?EQ.udpport:cA.udpport,username:EQ.username||cA.username,password:EQ.password||cA.password,forceturn:rQ!=="proxy4",security:rQ==="proxy5"}));if(oQ.useP2P){var IQ;const EQ=(IQ=tQ.uid)!==null&&IQ!==void 0?IQ:aQ.uid,CQ="glb:".concat(EQ.toString()),dQ=await Tv(CQ),lQ=sQ.map(uQ=>({turnServerURL:uQ.address,tcpport:rQ==="proxy3"?void 0:uQ.tcpport||cA.tcpport,udpport:rQ==="proxy4"?void 0:uQ.udpport||cA.udpport,username:CQ,password:dQ,forceturn:rQ!=="proxy4",security:rQ==="proxy5"}));gQ.push(...lQ)}return tQ.turnServer={mode:"manual",servers:gQ},Qy.debug("[".concat(tQ.clientId,"] set proxy server: ").concat(tQ.proxyServer,", mode: ").concat(rQ)),cQ}async function OU(tQ,eQ,AQ,iQ,oQ){const rQ=Dy("ACCOUNT_REGISTER").slice(0,Dy("AJAX_REQUEST_CONCURRENT"));let nQ=[];nQ=eQ.proxyServer?rQ.map(aQ=>"https://".concat(eQ.proxyServer,"/ap/?url=").concat(aQ+"/api/v1")):rQ.map(aQ=>"https://".concat(aQ,"/api/v1"));const sQ=oQ==null?void 0:oQ.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"stringUID",urls:nQ});try{const aQ=await async function(cQ,gQ,IQ,EQ,CQ){const dQ=Date.now(),lQ={sid:IQ.sid,opid:10,appid:IQ.appId,string_uid:gQ};let uQ=cQ[0];const hQ=await my(()=>tU(uQ+"".concat(uQ.indexOf("?")===-1?"?":"&","action=stringuid"),{data:lQ,cancelToken:EQ,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":72}}),(BQ,QQ)=>{if(BQ.code===0){if(BQ.uid<=0||BQ.uid>=Math.pow(2,32))throw Qy.error("Invalid Uint Uid ".concat(gQ," => ").concat(BQ.uid),BQ),sA.reqUserAccount(lQ.sid,{lts:dQ,success:!1,serverAddr:uQ,stringUid:lQ.string_uid,uid:BQ.uid,errorCode:nv.INVALID_UINT_UID_FROM_STRING_UID,extend:lQ}),new Sb(nv.INVALID_UINT_UID_FROM_STRING_UID);return sA.reqUserAccount(lQ.sid,{lts:dQ,success:!0,serverAddr:uQ,stringUid:lQ.string_uid,uid:BQ.uid,errorCode:null,extend:lQ}),!1}const fQ=uw(BQ.code);return fQ.retry&&(uQ=cQ[(QQ+1)%cQ.length]),sA.reqUserAccount(lQ.sid,{lts:dQ,success:!1,serverAddr:uQ,stringUid:lQ.string_uid,uid:BQ.uid,errorCode:fQ.desc,extend:lQ}),fQ.retry},(BQ,QQ)=>BQ.code!==nv.OPERATION_ABORTED&&(sA.reqUserAccount(lQ.sid,{lts:dQ,success:!1,serverAddr:uQ,stringUid:lQ.string_uid,uid:null,errorCode:BQ.code,extend:lQ}),uQ=cQ[(QQ+1)%cQ.length],!0),CQ);if(hQ.code!==0){const BQ=uw(hQ.code);throw new Sb(nv.UNEXPECTED_RESPONSE,BQ.desc)}return hQ}(nQ,tQ,eQ,AQ,iQ);return oQ==null||oQ.recordJoinChannelService({status:"success",endTs:Date.now()},sQ),aQ.uid}catch(aQ){throw oQ==null||oQ.recordJoinChannelService({status:"error",endTs:Date.now(),errors:[aQ]},sQ),aQ}}async function NU(tQ,eQ,AQ){const iQ=Dy("ACCOUNT_REGISTER");let oQ=[];oQ=eQ.proxyServer?iQ.map(rQ=>"https://".concat(eQ.proxyServer,"/ap/?url=").concat(rQ+"/api/v1")):iQ.map(rQ=>"https://".concat(rQ,"/api/v1"));try{return await AU({referenceList:oQ,asyncMapHandler:nQ=>async function(sQ,aQ,cQ,gQ){const IQ=Date.now(),EQ={sid:cQ.sid,opid:10,appid:cQ.appId,string_uid:aQ};try{const CQ=await tU(sQ+"".concat(sQ.indexOf("?")===-1?"?":"&","action=stringuid"),{data:EQ,cancelToken:gQ,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":72}});if(CQ.code!==0){const dQ=uw(CQ.code);throw new Sb(nv.UNEXPECTED_RESPONSE,"preload sua error:".concat(dQ.desc),dQ)}if(CQ.uid<=0||CQ.uid>=Math.pow(2,32))throw new Sb(nv.INVALID_UINT_UID_FROM_STRING_UID);return{requestTime:IQ,url:sQ,req:EQ,uid:CQ.uid,elapse:Date.now()-IQ}}catch(CQ){throw CQ}}(nQ,tQ,eQ,AQ),closeFn:nQ=>nQ.code===nv.OPERATION_ABORTED||nQ.code===nv.UNEXPECTED_RESPONSE&&!nQ.data.retry})}catch(rQ){throw rQ}}async function DU(tQ,eQ,AQ){const iQ=Dy("CDS_AP").slice(0,Dy("AJAX_REQUEST_CONCURRENT")).map(aQ=>tQ.proxyServer?"https://".concat(tQ.proxyServer,"/ap/?url=").concat(aQ+"/api/v1"):"https://".concat(aQ,"/api/v1?action=config")),oQ=iQ.map(aQ=>function(cQ,gQ,IQ,EQ){const CQ=AI(),dQ={flag:64,cipher_method:0,features:{device:CQ.name,system:CQ.os,system_general:navigator.userAgent,vendor:gQ.appId,version:vy,cname:gQ.cname,sid:gQ.sid,session_id:gQ.sid,detail:"",proxyServer:gQ.proxyServer}};return my(()=>tU(cQ,{data:dQ,timeout:1e3,cancelToken:IQ,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":54}}),void 0,lQ=>lQ.code!==nv.OPERATION_ABORTED,EQ)}(aQ,tQ,eQ,AQ));let rQ=null,nQ=null,sQ={};try{rQ=await vU(oQ)}catch(aQ){if(aQ.code===nv.OPERATION_ABORTED)throw aQ;nQ=aQ}if(oQ.forEach(aQ=>aQ.cancel()),sA.reportApiInvoke(tQ.sid,{name:Cv.REQUEST_CONFIG_DISTRIBUTE,options:{error:nQ,res:rQ}}).onSuccess(),rQ&&rQ.test_tags)try{sQ=function(aQ){if(!aQ.test_tags)return{};const cQ=aQ.test_tags,gQ=Object.keys(cQ),IQ={};return gQ.forEach(EQ=>{var CQ;const dQ=jp(CQ=EQ.slice(4)).call(CQ),lQ=JSON.parse(cQ[EQ])[1];IQ[dQ]=lQ}),IQ}(rQ)}catch{}return sQ}async function PU(tQ,eQ){const AQ=Dy("WEBCS_DOMAIN").concat(Dy("WEBCS_DOMAIN_BACKUP_LIST")).map(iQ=>({url:"https://".concat(iQ,"/api/v2/transpond/webrtc?v=2"),areaCode:iU(),serviceIds:[Ow.CHOOSE_SERVER,Ow.CLOUD_PROXY_FALLBACK]}));try{return await AU({referenceList:AQ,asyncMapHandler:oQ=>async function(rQ,nQ,sQ){let aQ,{url:cQ,areaCode:gQ,serviceIds:IQ}=rQ;const EQ=Date.now(),[CQ,dQ]=RU(nQ,gQ,IQ);let lQ=Vv.networkState;try{lQ&&Vv.networkState===Pv.OFFLINE&&Vv.onlineWaiter&&await Gh.race([Vv.onlineWaiter,$v(_y.maxRetryTimeout)]),lQ=Vv.networkState;const{data:uQ,headers:hQ}=await tU(cQ,{data:CQ,cancelToken:sQ,headers:{"Content-Type":"multipart/form-data;"}},!0,!0);aQ=hQ.http3==="1"?1:-1,(_Q=>{const RQ=[];if(_Q.response_body.forEach(wQ=>{const bQ=wQ.buffer.code;if(wQ.uri===23&&bQ===0&&!wQ.buffer.edges_services)if(wQ.buffer.flag===4194310)wQ.buffer.edges_services=[];else{const NQ={error:new Sb(nv.CAN_NOT_GET_GATEWAY_SERVER,"no edge services in ap response",{retry:!0,csIp:_Q.detail[502]}),flag:wQ.buffer.flag};RQ.push(NQ)}if(bQ!==0){const NQ=uw(bQ),UQ={error:new Sb(nv.CAN_NOT_GET_GATEWAY_SERVER,NQ.desc,{desc:NQ.desc,retry:NQ.retry,csIp:_Q.detail[502]}),flag:wQ.buffer.flag};wQ.buffer.flag===4194310?Qy.warning(UQ.error.toString()):RQ.push(UQ)}}),RQ.length)throw new Sb(nv.CAN_NOT_GET_GATEWAY_SERVER,RQ.map(wQ=>"flag: ".concat(wQ.flag,", message: ").concat(wQ.error.message)).join(" | "),{retry:!!RQ.find(wQ=>wQ.error.data.retry),csIp:_Q.detail[502],desc:[...new Set(RQ.map(wQ=>{var bQ;return wQ==null||(bQ=wQ.error)===null||bQ===void 0||(bQ=bQ.data)===null||bQ===void 0?void 0:bQ.desc}).filter(wQ=>!!wQ))]})})(uQ);const QQ=xw(uQ,Ow.CHOOSE_SERVER),fQ=xw(uQ,Ow.CLOUD_PROXY_FALLBACK);return SU(QQ),{gatewayInfo:Lw(QQ,cQ),proxyInfo:fQ,opid:dQ,requestTime:EQ,url:cQ,isHttp3:aQ,elapse:Date.now()-EQ}}catch(uQ){throw uQ}}(oQ,tQ,eQ),closeFn:oQ=>oQ.code===nv.OPERATION_ABORTED||oQ.code===nv.CAN_NOT_GET_GATEWAY_SERVER&&!oQ.data.retry})}catch(iQ){throw iQ}}async function LU(tQ,eQ,AQ,iQ){const oQ=Dy("PROXY_SERVER_TYPE3"),rQ=(CQ,dQ,lQ)=>{let uQ=lQ||oQ;return Array.isArray(uQ)&&(uQ=dQ%2==0?oQ[1]:oQ[0]),"https://".concat(uQ,"/ap/?url=").concat(CQ)};let nQ=null;const sQ=[],aQ=async()=>{const CQ=Dy("WEBCS_DOMAIN").slice(0,Dy("AJAX_REQUEST_CONCURRENT")).map((uQ,hQ)=>{let BQ;return BQ=tQ.cloudProxyServer==="disabled"&&tQ.proxyServer?rQ("".concat(uQ,"/api/v2/transpond/webrtc?v=2"),hQ,tQ.proxyServer):tQ.cloudProxyServer==="disabled"||tQ.cloudProxyServer==="fallback"?"https://".concat(uQ,"/api/v2/transpond/webrtc?v=2"):rQ("".concat(uQ,"/api/v2/transpond/webrtc?v=2"),hQ),{url:BQ,areaCode:iU(),serviceIds:[Ow.CHOOSE_SERVER,tQ.cloudProxyServer==="proxy5"?Ow.CLOUD_PROXY_5:tQ.cloudProxyServer==="proxy3"||tQ.cloudProxyServer==="proxy4"?Ow.CLOUD_PROXY:Ow.CLOUD_PROXY_FALLBACK]}}),dQ=iQ.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:CQ.map(uQ=>uQ.url)}),lQ=await yU({fragementLength:Dy("FRAGEMENT_LENGTH"),referenceList:CQ,asyncMapHandler:uQ=>(Qy.debug("[".concat(tQ.clientId,"] Connect to choose_server:"),uQ.url),fU(uQ,tQ,eQ,AQ)),allFailedhandler:uQ=>{throw iQ.recordJoinChannelService({endTs:Date.now(),status:"error",errors:uQ},dQ),uQ[0]},promisesCollector:sQ});return iQ.recordJoinChannelService({endTs:Date.now(),status:"success"},dQ),lQ},cQ=async()=>{if(await $v(1e3),nQ!==null)return nQ;const CQ=Dy("WEBCS_DOMAIN_BACKUP_LIST").map((uQ,hQ)=>{let BQ;return BQ=tQ.cloudProxyServer==="disabled"&&tQ.proxyServer?rQ("".concat(uQ,"/api/v2/transpond/webrtc?v=2"),hQ,tQ.proxyServer):tQ.cloudProxyServer==="disabled"||tQ.cloudProxyServer==="fallback"?"https://".concat(uQ,"/api/v2/transpond/webrtc?v=2"):rQ("".concat(uQ,"/api/v2/transpond/webrtc?v=2"),hQ),{url:BQ,areaCode:iU(),serviceIds:[Ow.CHOOSE_SERVER,tQ.cloudProxyServer==="proxy5"?Ow.CLOUD_PROXY_5:tQ.cloudProxyServer==="proxy3"||tQ.cloudProxyServer==="proxy4"?Ow.CLOUD_PROXY:Ow.CLOUD_PROXY_FALLBACK]}}),dQ=iQ.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:CQ.map(uQ=>uQ.url)}),lQ=await yU({fragementLength:Dy("FRAGEMENT_LENGTH"),referenceList:CQ,asyncMapHandler:uQ=>(Qy.debug("[".concat(tQ.clientId,"] Connect to backup choose_server:"),uQ.url),fU(uQ,tQ,eQ,AQ)),allFailedhandler:uQ=>{throw iQ.recordJoinChannelService({endTs:Date.now(),status:"error",errors:uQ},dQ),uQ[0]},promisesCollector:sQ});return iQ.recordJoinChannelService({endTs:Date.now(),status:"success"},dQ),lQ};let gQ,IQ,EQ;try{({gatewayInfo:gQ,proxyInfo:IQ,url:EQ}=await vU([aQ(),cQ()]))}catch(CQ){throw CQ[0]}if(sQ.length&&sQ.forEach(CQ=>CQ.cancel&&typeof CQ.cancel=="function"&&CQ.cancel()),!gQ||!IQ)throw new Sb(nv.UNEXPECTED_ERROR,"missing gateway or proxy response").print();if(tQ.apUrl=EQ,tQ.cloudProxyServer!=="disabled"&&Array.isArray(oQ)&&EQ){const CQ=/^https?:\/\/(.+?)(\/.*)?$/.exec(EQ)[1];Dn(oQ).call(oQ,CQ)&&(tQ.proxyServer=CQ,Qy.setProxyServer(CQ),sA.setProxyServer(CQ))}return nQ={gatewayInfo:gQ,proxyInfo:await Vw(IQ,gQ.uid)},nQ}async function kU(tQ,eQ,AQ){const iQ=Dy("UAP_AP").slice(0,Dy("AJAX_REQUEST_CONCURRENT")).map(rQ=>tQ.proxyServer?"https://".concat(tQ.proxyServer,"/ap/?url=").concat(rQ+"/api/v1?action=uap"):"https://".concat(rQ,"/api/v1?action=uap")),oQ=iQ.map(rQ=>function(nQ,sQ,aQ,cQ){const gQ={command:"convergeAllocateEdge",sid:sQ.sid,appId:sQ.appId,token:sQ.token,ts:Date.now(),version:vy,cname:sQ.cname,uid:sQ.uid.toString(),requestId:EU,seq:EU};EU+=1;const IQ={service_name:"tele_channel",json_body:JSON.stringify(gQ)};return my(async()=>{const EQ=await tU(nQ,{data:IQ,cancelToken:aQ,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":61}});if(EQ.code!==0){const dQ=new Sb(nv.UNEXPECTED_RESPONSE,"cross channel ap error, code"+EQ.code,{retry:!0});throw Qy.error(dQ.toString()),dQ}const CQ=JSON.parse(EQ.json_body);if(CQ.code!==200){const dQ=new Sb(nv.UNEXPECTED_RESPONSE,"cross channel app center error, code: ".concat(CQ.code,", reason: ").concat(CQ.reason));throw Qy.error(dQ.toString()),dQ}if(!CQ.servers||CQ.servers.length===0){const dQ=new Sb(nv.UNEXPECTED_RESPONSE,"cross channel app center empty server");throw Qy.error(dQ.toString()),dQ}return{vid:CQ.vid,workerToken:CQ.workerToken,addressList:(Dy("CHANNEL_MEDIA_RELAY_SERVERS")||CQ.servers).map(dQ=>"wss://".concat(dQ.address.replace(/\./g,"-"),".").concat(Dy("WORKER_DOMAIN"),":").concat(dQ.wss))}},void 0,EQ=>!!(EQ.code!==nv.OPERATION_ABORTED&&EQ.code!==nv.UNEXPECTED_RESPONSE||EQ.data&&EQ.data.retry),cQ)}(rQ,tQ,eQ,AQ));try{const rQ=await vU(oQ);return oQ.forEach(nQ=>nQ.cancel()),rQ}catch(rQ){throw rQ[0]}}async function MU(tQ,eQ,AQ){let iQ=null;const oQ=[],rQ=async nQ=>{const sQ=Dy(nQ?"WEBCS_DOMAIN_BACKUP_LIST":"WEBCS_DOMAIN").map(aQ=>tQ.proxyServer?"https://".concat(tQ.proxyServer,"/ap/?url=").concat(aQ+"/api/v2/transpond/webrtc?v=2"):"https://".concat(aQ,"/api/v2/transpond/webrtc?v=2"));return nQ&&(await $v(1e3),iQ!==null)?iQ:await yU({fragementLength:Dy("FRAGEMENT_LENGTH"),referenceList:sQ,asyncMapHandler:aQ=>(Qy.debug("[".concat(tQ.clientId,"] update ticket, Connect to ").concat(nQ?"backup":""," choose_server:"),aQ),function(cQ,gQ,IQ,EQ){const[CQ]=CU(gQ,[Ow.CHOOSE_SERVER]);let dQ=Vv.networkState;return my(async()=>{dQ&&Vv.networkState===Pv.OFFLINE&&Vv.onlineWaiter&&await Gh.race([Vv.onlineWaiter,$v(EQ&&EQ.maxRetryTimeout||_y.maxRetryTimeout)]),dQ=Vv.networkState;const lQ=await tU(cQ,{data:CQ,cancelToken:IQ,headers:{"Content-Type":"multipart/form-data;"}},!0);return gU(lQ,cQ)},()=>!1,lQ=>lQ.code!==nv.OPERATION_ABORTED&&(lQ.code===nv.UPDATE_TICKET_FAILED?lQ.data.retry:(Qy.warning("[".concat(gQ.clientId,"] update ticket network error, retry"),lQ),!0)),EQ)}(aQ,tQ,eQ,AQ)),allFailedhandler:aQ=>{throw aQ[0]},promisesCollector:oQ})};try{return iQ=await vU([rQ(!1),rQ(!0)]),oQ.length&&oQ.forEach(nQ=>nQ.cancel&&typeof nQ.cancel=="function"&&nQ.cancel()),iQ}catch(nQ){throw nQ[0]}}function UU(tQ,eQ){var AQ=Object.keys(tQ);if(Object.getOwnPropertySymbols){var iQ=Object.getOwnPropertySymbols(tQ);eQ&&(iQ=iQ.filter(function(oQ){return Object.getOwnPropertyDescriptor(tQ,oQ).enumerable})),AQ.push.apply(AQ,iQ)}return AQ}function xU(tQ){for(var eQ=1;eQ<arguments.length;eQ++){var AQ=arguments[eQ]!=null?arguments[eQ]:{};eQ%2?UU(Object(AQ),!0).forEach(function(iQ){og(tQ,iQ,AQ[iQ])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tQ,Object.getOwnPropertyDescriptors(AQ)):UU(Object(AQ)).forEach(function(iQ){Object.defineProperty(tQ,iQ,Object.getOwnPropertyDescriptor(AQ,iQ))})}return tQ}class VU extends Sv{get isSuccess(){return!!this.configs}constructor(){super(),og(this,"configs",void 0),og(this,"joinInfo",void 0),og(this,"cancelToken",void 0),og(this,"retryConfig",{timeout:3e3,timeoutFactor:1.5,maxRetryCount:1,maxRetryTimeout:1e4}),og(this,"interval",void 0),og(this,"mutex",new hy("config-distribute")),og(this,"mutableParamsRead",!1)}startGetConfigDistribute(eQ,AQ){this.joinInfo=eQ,this.cancelToken=AQ,this.interval&&this.stopGetConfigDistribute(),Dy("ENABLE_CONFIG_DISTRIBUTE")&&(this.updateConfigDistribute(),this.interval=window.setInterval(()=>{this.updateConfigDistribute()},Dy("CONFIG_DISTRIBUTE_INTERVAL")))}stopGetConfigDistribute(){this.interval&&clearInterval(this.interval),this.interval=void 0,this.joinInfo=void 0,this.cancelToken=void 0}async awaitConfigDistributeComplete(){this.mutex.isLocked&&(await this.mutex.lock())()}async updateConfigDistribute(){if(this.mutableParamsRead||(this.mutableParamsRead=!0,sA.reportApiInvoke(null,{options:void 0,name:Cv.LOAD_CONFIG_FROM_LOCALSTORAGE,tag:Iv.TRACER}).onSuccess(JSON.stringify(Py))),!this.joinInfo||!this.cancelToken||!this.retryConfig)return void Qy.debug("[config-distribute] get config distribute interrupted have no joininfo");let eQ;const AQ=await this.mutex.lock();try{eQ=await DU(this.joinInfo,this.cancelToken,this.retryConfig),Qy.debug("[config-distribute] get config distribute",JSON.stringify(eQ)),eQ.limit_bitrate&&this.handleBitrateLimit(eQ.limit_bitrate),this.cacheGlobalParameterConfig(eQ),this.configs=eQ}catch(iQ){const oQ=new Sb(nv.NETWORK_RESPONSE_ERROR,iQ);Qy.warning("[config-distribute] ".concat(oQ.toString()))}finally{AQ()}}getBitrateLimit(){return this.configs?this.configs.limit_bitrate:void 0}handleBitrateLimit(eQ){var AQ;(AQ=eQ)&&AQ.uplink&&AQ.id&&AQ.uplink.max_bitrate!==void 0&&AQ.uplink.min_bitrate!==void 0&&(this.configs&&this.configs.limit_bitrate?this.configs&&this.configs.limit_bitrate&&this.configs.limit_bitrate.id!==eQ.id&&this.emit(Wb.UPDATE_BITRATE_LIMIT,eQ):this.emit(Wb.UPDATE_BITRATE_LIMIT,eQ))}getLowStreamConfigDistribute(){return this.configs&&this.configs.limit_bitrate&&xU({},this.configs.limit_bitrate.low_stream_uplink)}cacheGlobalParameterConfig(eQ){var AQ;const iQ=aE(AQ=Object.keys(eQ).filter(rQ=>/^webrtc_ng_global_parameter/.test(rQ))).call(AQ);for(let rQ=0;rQ<iQ.length;rQ++)for(let nQ=iQ.length-1;nQ>rQ;nQ--){const sQ=iQ[nQ];if(typeof eQ[sQ].__priority=="number"){const aQ=eQ[sQ].__priority,cQ=iQ[nQ-1];if(typeof eQ[cQ].__priority=="number"){if(!(aQ>eQ[cQ].__priority))continue;{const gQ=sQ;iQ[nQ]=iQ[nQ-1],iQ[nQ-1]=gQ}}else{const gQ=sQ;iQ[nQ]=iQ[nQ-1],iQ[nQ-1]=gQ}}}const oQ={};iQ.forEach(rQ=>{const nQ=eQ[rQ],sQ=nQ.__expires;Object.keys(nQ).forEach(aQ=>{aQ==="__priority"||aQ==="__expires"||Object.prototype.hasOwnProperty.call(oQ,aQ)||(oQ[aQ]=xU({value:nQ[aQ]},sQ&&{expires:sQ}))})});try{(function(sQ){try{const aQ=Date.now();Object.keys(sQ).forEach(cQ=>{switch(cQ){case"ENABLE_EVENT_REPORT":case"UPLOAD_LOG":case"ENABLE_AG_ADAPTATION":case"FORCE_AG_HIGH_FRAMERATE":case"FORCE_SUPPORT_AG_ADAPTATION":case"ENCODER_CONFIG_LIMIT":case"CAMERA_CAPTURE_CONFIG":case"ENABLE_PRELOAD":if(Object.prototype.hasOwnProperty.call(Oy,cQ)){const{value:gQ,expires:IQ}=sQ[cQ];if(IQ&&IQ<=aQ)return;Py[cQ]=gQ,Oy[cQ]=gQ,Qy.debug("Update global parameters from config distribute",cQ,gQ)}}})}catch(aQ){Qy.error("Error update config immediately: ".concat(sQ),aQ.message)}})(oQ);const rQ=JSON.stringify(oQ),nQ=window.btoa(rQ);window.localStorage.setItem("websdk_ng_global_parameter",nQ),Qy.debug("Caching global parameters ".concat(rQ))}catch(rQ){Qy.error("Error caching global parameters:",rQ.message)}}}class FU extends Sv{constructor(){super(...arguments),og(this,"resultStorage",new Map)}setLocalAudioStats(eQ,AQ,iQ){this.record("AUDIO_INPUT_LEVEL_TOO_LOW",eQ,this.checkAudioInputLevel(iQ,AQ)),this.record("SEND_AUDIO_BITRATE_TOO_LOW",eQ,this.checkSendAudioBitrate(iQ,AQ))}setLocalVideoStats(eQ,AQ,iQ){this.record("SEND_VIDEO_BITRATE_TOO_LOW",eQ,this.checkSendVideoBitrate(iQ,AQ)),this.record("FRAMERATE_INPUT_TOO_LOW",eQ,this.checkFramerateInput(iQ,AQ)),this.record("FRAMERATE_SENT_TOO_LOW",eQ,this.checkFramerateSent(iQ))}setRemoteAudioStats(eQ,AQ){const iQ=eQ.getUserId();this.record("AUDIO_OUTPUT_LEVEL_TOO_LOW",iQ,this.checkAudioOutputLevel(AQ))}setRemoteVideoStats(eQ,AQ){const iQ=eQ.getUserId();this.record("RECV_VIDEO_DECODE_FAILED",iQ,this.checkVideoDecode(AQ))}record(eQ,AQ,iQ){if(Dy("STATS_UPDATE_INTERVAL")>500)return;this.resultStorage.has(eQ)||this.resultStorage.set(eQ,{result:[],isPrevNormal:!0});const oQ=this.resultStorage.get(eQ);if(oQ&&(oQ.result.push(iQ),oQ.result.length>=5)){var rQ;const nQ=Dn(rQ=oQ.result).call(rQ,!0);oQ.isPrevNormal&&!nQ&&this.emit("exception",BU[eQ],eQ,AQ),!oQ.isPrevNormal&&nQ&&this.emit("exception",BU[eQ]+2e3,eQ+"_RECOVER",AQ),oQ.isPrevNormal=nQ,oQ.result=[]}}checkAudioOutputLevel(eQ){return!(eQ.receiveBitrate>0&&eQ.receiveLevel===0)}checkAudioInputLevel(eQ,AQ){return AQ instanceof rk&&!AQ.isActive||!!AQ.muted||eQ.sendVolumeLevel!==0}checkFramerateInput(eQ,AQ){let iQ=null;AQ._encoderConfig&&AQ._encoderConfig.frameRate&&(iQ=kw(AQ._encoderConfig.frameRate));const oQ=eQ.captureFrameRate;return!iQ||!oQ||!(iQ>10&&oQ<5||iQ<10&&iQ>=5&&oQ<=1)}checkFramerateSent(eQ){return!(eQ.captureFrameRate&&eQ.sendFrameRate&&eQ.captureFrameRate>5&&eQ.sendFrameRate<=1)}checkSendVideoBitrate(eQ,AQ){return!!AQ.muted||eQ.sendBitrate!==0}checkSendAudioBitrate(eQ,AQ){return AQ instanceof rk&&!AQ.isActive||!!AQ.muted||eQ.sendBitrate!==0}checkVideoDecode(eQ){return eQ.receiveBitrate===0||eQ.decodeFrameRate!==0}}const BU={FRAMERATE_INPUT_TOO_LOW:1001,FRAMERATE_SENT_TOO_LOW:1002,SEND_VIDEO_BITRATE_TOO_LOW:1003,RECV_VIDEO_DECODE_FAILED:1005,AUDIO_INPUT_LEVEL_TOO_LOW:2001,AUDIO_OUTPUT_LEVEL_TOO_LOW:2002,SEND_AUDIO_BITRATE_TOO_LOW:2003},jU=new class{markSubscribeStart(tQ,eQ){performance.mark("agora-web-sdk/".concat(tQ,"/subscribe-").concat(eQ))}markPublishStart(tQ,eQ){performance.mark("agora-web-sdk/".concat(tQ,"/publish-").concat(eQ))}measureFromSubscribeStart(tQ,eQ){const AQ=performance.getEntriesByName("agora-web-sdk/".concat(tQ,"/subscribe-").concat(eQ));if(AQ.length>0){const iQ=AQ[AQ.length-1];return Math.round(performance.now()-iQ.startTime)}return 0}measureFromPublishStart(tQ,eQ){const AQ=performance.getEntriesByName("agora-web-sdk/".concat(tQ,"/publish-").concat(eQ));if(AQ.length>0){const iQ=AQ[AQ.length-1];return Math.round(performance.now()-iQ.startTime)}return 0}};function GU(tQ,eQ){this.v=tQ,this.k=eQ}function WU(tQ){return new GU(tQ,0)}var HU=jh,KU=Sl;wi({target:"Promise",stat:!0,forced:!0},{withResolvers:function(){var tQ=KU.f(this);return{promise:tQ.promise,resolve:tQ.resolve,reject:tQ.reject}}});var YU=Sl,qU=el;wi({target:"Promise",stat:!0,forced:!0},{try:function(tQ){var eQ=YU.f(this),AQ=qU(tQ);return(AQ.error?eQ.reject:eQ.resolve)(AQ.value),eQ.promise}});var zU=i(HU),JU=rf.f("asyncIterator"),XU=i(JU);function QU(tQ){var eQ,AQ;function iQ(rQ,nQ){try{var sQ=tQ[rQ](nQ),aQ=sQ.value,cQ=aQ instanceof GU;zU.resolve(cQ?aQ.v:aQ).then(function(gQ){if(cQ){var IQ=rQ==="return"?"return":"next";if(!aQ.k||gQ.done)return iQ(IQ,gQ);gQ=tQ[IQ](gQ).value}oQ(sQ.done?"return":"normal",gQ)},function(gQ){iQ("throw",gQ)})}catch(gQ){oQ("throw",gQ)}}function oQ(rQ,nQ){switch(rQ){case"return":eQ.resolve({value:nQ,done:!0});break;case"throw":eQ.reject(nQ);break;default:eQ.resolve({value:nQ,done:!1})}(eQ=eQ.next)?iQ(eQ.key,eQ.arg):AQ=null}this._invoke=function(rQ,nQ){return new zU(function(sQ,aQ){var cQ={key:rQ,arg:nQ,resolve:sQ,reject:aQ,next:null};AQ?AQ=AQ.next=cQ:(eQ=AQ=cQ,iQ(rQ,nQ))})},typeof tQ.return!="function"&&(this.return=void 0)}function ZU(tQ){return function(){return new QU(tQ.apply(this,arguments))}}QU.prototype[typeof eg=="function"&&XU||"@@asyncIterator"]=function(){return this},QU.prototype.next=function(tQ){return this._invoke("next",tQ)},QU.prototype.throw=function(tQ){return this._invoke("throw",tQ)},QU.prototype.return=function(tQ){return this._invoke("return",tQ)};var $U=i(ie.Object.getOwnPropertySymbols),ex=wi,tx=qi.indexOf,ix=Bn,nx=v([].indexOf),rx=!!nx&&1/nx([1],1,-0)<0;ex({target:"Array",proto:!0,forced:rx||!ix("indexOf")},{indexOf:function(tQ){var eQ=arguments.length>1?arguments[1]:void 0;return rx?nx(this,tQ,eQ)||0:tx(this,tQ,eQ)}});var ox=Xi("Array").indexOf,sx=l,ax=ox,cx=Array.prototype,dx=function(tQ){var eQ=tQ.indexOf;return tQ===cx||sx(cx,tQ)&&eQ===cx.indexOf?ax:eQ},lx=i(dx);function ux(tQ,eQ){if(tQ==null)return{};var AQ,iQ,oQ=function(nQ,sQ){if(nQ==null)return{};var aQ,cQ,gQ={},IQ=yA(nQ);for(cQ=0;cQ<IQ.length;cQ++)aQ=IQ[cQ],lx(sQ).call(sQ,aQ)>=0||(gQ[aQ]=nQ[aQ]);return gQ}(tQ,eQ);if($U){var rQ=$U(tQ);for(iQ=0;iQ<rQ.length;iQ++)AQ=rQ[iQ],lx(eQ).call(eQ,AQ)>=0||Object.prototype.propertyIsEnumerable.call(tQ,AQ)&&(oQ[AQ]=tQ[AQ])}return oQ}function hx(tQ){if(Array.isArray(tQ))return tQ.map(AQ=>AQ);if(!px(tQ))return tQ;const eQ={};for(const AQ in tQ){const iQ=tQ[AQ];px(iQ)||Array.isArray(iQ)?eQ[AQ]=hx(iQ):eQ[AQ]=iQ}return eQ}function px(tQ){return!(typeof tQ!="object"||Array.isArray(tQ)||!tQ)}class _x{constructor(eQ){og(this,"input",[]),og(this,"size",void 0),this.size=eQ}add(eQ){this.input.push(eQ),this.input.length>this.size&&this.input.splice(0,1)}diffMean(){return this.input.length===0?0:(this.input[this.input.length-1]-this.input[0])/this.input.length}}const Ex={address:"unknown",candidateType:"unknown",id:"unknown",port:0,priority:0,protocol:"unknown",type:"unknown"},mx={timestamp:0,bitrate:{actualEncoded:0,transmit:0},sendPacketLossRate:0,recvPacketLossRate:0,videoRecv:[],videoSend:[],audioRecv:[],audioSend:[],selectedCandidatePair:{id:"unknown",localCandidate:Ex,remoteCandidate:Ex}},fx={firsCount:0,nacksCount:0,plisCount:0,framesDecodeCount:0,framesDecodeInterval:0,framesDecodeFreezeTime:0,decodeFrameRate:0,bytes:0,packetsLost:0,packetLostRate:0,packets:0,ssrc:0,qpSumPerFrame:0,framesDroppedCount:0,outputFrameRate:0},Tx={firsCount:0,nacksCount:0,plisCount:0,frameCount:0,bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0,jitterMs:0,qpSumPerFrame:0},Sx={bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0,jitterMs:0},gx={jitterBufferMs:0,jitterMs:0,bytes:0,packetsLost:0,packetLostRate:0,packetsDiscarded:0,packets:0,ssrc:0,receivedFrames:0,droppedFrames:0,concealedSamples:0};function Rx(tQ,eQ){var AQ=Object.keys(tQ);if(Object.getOwnPropertySymbols){var iQ=Object.getOwnPropertySymbols(tQ);eQ&&(iQ=iQ.filter(function(oQ){return Object.getOwnPropertyDescriptor(tQ,oQ).enumerable})),AQ.push.apply(AQ,iQ)}return AQ}function Cx(tQ){for(var eQ=1;eQ<arguments.length;eQ++){var AQ=arguments[eQ]!=null?arguments[eQ]:{};eQ%2?Rx(Object(AQ),!0).forEach(function(iQ){og(tQ,iQ,AQ[iQ])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tQ,Object.getOwnPropertyDescriptors(AQ)):Rx(Object(AQ)).forEach(function(iQ){Object.defineProperty(tQ,iQ,Object.getOwnPropertyDescriptor(AQ,iQ))})}return tQ}class Ix{constructor(eQ,AQ){og(this,"onFirstVideoReceived",void 0),og(this,"onFirstVideoDecoded",void 0),og(this,"onFirstAudioReceived",void 0),og(this,"onFirstVideoDecodedTimeout",void 0),og(this,"onFirstAudioDecoded",void 0),og(this,"onSelectedLocalCandidateChanged",void 0),og(this,"onSelectedRemoteCandidateChanged",void 0),og(this,"videoIsReady",!1),og(this,"videoIsReady2",{}),og(this,"pc",void 0),og(this,"options",void 0),og(this,"intervalTimer",void 0),og(this,"stats",hx(mx)),og(this,"isFirstVideoReceived",{}),og(this,"isFirstVideoDecoded",{}),og(this,"isFirstAudioReceived",{}),og(this,"isFirstAudioDecoded",{}),og(this,"isFirstVideoDecodedTimeout",{}),og(this,"lossRateWindowStats",[]),this.pc=eQ,this.options=AQ,this.intervalTimer=window.setInterval(async()=>{this.updateStats()},this.options.updateInterval)}getStats(){return this.stats}getSelectedCandidatePair(){return new Gh(eQ=>{eQ({local:Cx({},Ex),remote:Cx({},Ex)})})}setVideoIsReady(eQ){this.videoIsReady=eQ}setVideoIsReady2(eQ,AQ){this.videoIsReady2[eQ]=AQ}getVideoIsReady(eQ){return this.videoIsReady2[eQ]||!1}setIsFirstAudioDecoded(eQ){}destroy(){window.clearInterval(this.intervalTimer),this.pc=void 0}calcLossRate(eQ){this.lossRateWindowStats.push(eQ),this.lossRateWindowStats.length>this.options.lossRateInterval&&this.lossRateWindowStats.splice(0,1);const AQ=this.lossRateWindowStats.length,iQ=["videoSend","audioSend","videoRecv","audioRecv"];let oQ=0,rQ=0,nQ=0,sQ=0;for(const aQ of iQ)eQ[aQ].forEach((cQ,gQ)=>{if(!this.lossRateWindowStats[AQ-1][aQ][gQ]||!this.lossRateWindowStats[0][aQ][gQ])return;const IQ=this.lossRateWindowStats[AQ-1][aQ][gQ].packets-this.lossRateWindowStats[0][aQ][gQ].packets,EQ=this.lossRateWindowStats[AQ-1][aQ][gQ].packetsLost-this.lossRateWindowStats[0][aQ][gQ].packetsLost;aQ==="videoSend"||aQ==="audioSend"?(oQ+=IQ,nQ+=EQ):(rQ+=IQ,sQ+=EQ),Number.isNaN(IQ)||Number.isNaN(IQ)?cQ.packetLostRate=0:cQ.packetLostRate=IQ<=0||EQ<=0?0:EQ/(IQ+EQ)});eQ.sendPacketLossRate=oQ<=0||nQ<=0?0:nQ/(oQ+nQ),eQ.recvPacketLossRate=rQ<=0||sQ<=0?0:sQ/(rQ+sQ)}}function vx(tQ,eQ){var AQ=Object.keys(tQ);if(Object.getOwnPropertySymbols){var iQ=Object.getOwnPropertySymbols(tQ);eQ&&(iQ=iQ.filter(function(oQ){return Object.getOwnPropertyDescriptor(tQ,oQ).enumerable})),AQ.push.apply(AQ,iQ)}return AQ}function yx(tQ){for(var eQ=1;eQ<arguments.length;eQ++){var AQ=arguments[eQ]!=null?arguments[eQ]:{};eQ%2?vx(Object(AQ),!0).forEach(function(iQ){og(tQ,iQ,AQ[iQ])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tQ,Object.getOwnPropertyDescriptors(AQ)):vx(Object(AQ)).forEach(function(iQ){Object.defineProperty(tQ,iQ,Object.getOwnPropertyDescriptor(AQ,iQ))})}return tQ}class Ax extends Ix{constructor(){super(...arguments),og(this,"_stats",mx),og(this,"lastDecodeVideoReceiverStats",new Map)}async updateStats(){const eQ=await this._getStats(),AQ=this.statsResponsesToObjects(eQ);this._stats=hx(mx);const iQ=AQ.filter(rQ=>rQ.type==="ssrc");this.processSSRCStats(iQ);const oQ=AQ.find(rQ=>rQ.type==="VideoBwe");oQ&&this.processBandwidthStats(oQ),this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats}processBandwidthStats(eQ){this._stats.bitrate={actualEncoded:Number(eQ.googActualEncBitrate),targetEncoded:Number(eQ.googTargetEncBitrate),retransmit:Number(eQ.googRetransmitBitrate),transmit:Number(eQ.googTransmitBitrate)},this._stats.sendBandwidth=Number(eQ.googAvailableSendBandwidth)}processSSRCStats(eQ){eQ.forEach(AQ=>{var iQ;const oQ=Dn(iQ=AQ.id).call(iQ,"send");switch("".concat(AQ.mediaType,"_").concat(oQ?"send":"recv")){case"video_send":{const rQ=hx(Tx);rQ.codec=AQ.googCodecName,rQ.adaptionChangeReason="none",AQ.googCpuLimitedResolution&&(rQ.adaptionChangeReason="cpu"),AQ.googBandwidthLimitedResolution&&(rQ.adaptionChangeReason="bandwidth"),rQ.avgEncodeMs=Number(AQ.googAvgEncodeMs),rQ.inputFrame={width:Number(AQ.googFrameWidthInput)||Number(AQ.googFrameWidthSent),height:Number(AQ.googFrameHeightInput)||Number(AQ.googFrameHeightSent),frameRate:Number(AQ.googFrameRateInput)},rQ.sentFrame={width:Number(AQ.googFrameWidthSent),height:Number(AQ.googFrameHeightSent),frameRate:Number(AQ.googFrameRateInput)},rQ.firsCount=Number(AQ.googFirReceived),rQ.nacksCount=Number(AQ.googNacksReceived),rQ.plisCount=Number(AQ.googPlisReceived),rQ.frameCount=Number(AQ.framesEncoded),rQ.bytes=Number(AQ.bytesSent),rQ.packets=Number(AQ.packetsSent),rQ.packetsLost=Number(AQ.packetsLost),rQ.ssrc=Number(AQ.ssrc),rQ.rttMs=Number(AQ.googRtt||0),this._stats.videoSend.push(rQ),this._stats.rtt=rQ.rttMs;break}case"video_recv":{const rQ=hx(fx),nQ=this.lastDecodeVideoReceiverStats.get(Number(AQ.ssrc));if(rQ.codec=AQ.googCodecName,rQ.targetDelayMs=Number(AQ.googTargetDelayMs),rQ.renderDelayMs=Number(AQ.googRenderDelayMs),rQ.currentDelayMs=Number(AQ.googCurrentDelayMs),rQ.minPlayoutDelayMs=Number(AQ.googMinPlayoutDelayMs),rQ.decodeMs=Number(AQ.googDecodeMs),rQ.maxDecodeMs=Number(AQ.googMaxDecodeMs),rQ.receivedFrame={width:Number(AQ.googFrameWidthReceived),height:Number(AQ.googFrameHeightReceived),frameRate:Number(AQ.googFrameRateReceived)},rQ.decodedFrame={width:Number(AQ.googFrameWidthReceived),height:Number(AQ.googFrameHeightReceived),frameRate:Number(AQ.googFrameRateDecoded)},rQ.decodeFrameRate=Number(AQ.googFrameRateDecoded),rQ.outputFrame={width:Number(AQ.googFrameWidthReceived),height:Number(AQ.googFrameHeightReceived),frameRate:Number(AQ.googFrameRateOutput)},rQ.jitterBufferMs=Number(AQ.googJitterBufferMs),rQ.firsCount=Number(AQ.googFirsSent),rQ.nacksCount=Number(AQ.googNacksSent),rQ.plisCount=Number(AQ.googPlisSent),rQ.framesDecodeCount=Number(AQ.framesDecoded),rQ.bytes=Number(AQ.bytesReceived),rQ.packets=Number(AQ.packetsReceived),rQ.packetsLost=Number(AQ.packetsLost),rQ.ssrc=Number(AQ.ssrc),rQ.packets>0&&!this.isFirstVideoReceived[rQ.ssrc]&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(rQ.ssrc),this.isFirstVideoReceived[rQ.ssrc]=!0),rQ.framesDecodeCount>0&&!this.isFirstVideoDecoded[rQ.ssrc]&&(this.onFirstVideoDecoded&&this.onFirstVideoDecoded(rQ.ssrc,rQ.decodedFrame.width,rQ.decodedFrame.height),this.isFirstVideoDecoded[rQ.ssrc]=!0),nQ){const sQ=nQ.stats,aQ=Date.now()-nQ.lts;rQ.framesDecodeFreezeTime=sQ.framesDecodeFreezeTime,rQ.framesDecodeInterval=sQ.framesDecodeInterval,rQ.framesDecodeCount>sQ.framesDecodeCount&&this.isFirstVideoDecoded[rQ.ssrc]?(nQ.lts=Date.now(),rQ.framesDecodeInterval=aQ,rQ.framesDecodeInterval>=this.options.freezeRateLimit&&(this.getVideoIsReady(parseInt(AQ.ssrc,10))?rQ.framesDecodeFreezeTime+=rQ.framesDecodeInterval:this.setVideoIsReady2(parseInt(AQ.ssrc,10),!0))):rQ.framesDecodeCount<nQ.stats.framesDecodeCount&&(rQ.framesDecodeInterval=0)}this.lastDecodeVideoReceiverStats.set(rQ.ssrc,{stats:yx({},rQ),lts:Date.now()}),this._stats.videoRecv.push(rQ);break}case"audio_recv":{const rQ=hx(gx);rQ.codec=AQ.googCodecName,rQ.outputLevel=Math.abs(Number(AQ.audioOutputLevel))/32767,rQ.decodingCNG=Number(AQ.googDecodingCNG),rQ.decodingCTN=Number(AQ.googDecodingCTN),rQ.decodingCTSG=Number(AQ.googDecodingCTSG),rQ.decodingNormal=Number(AQ.googDecodingNormal),rQ.decodingPLC=Number(AQ.googDecodingPLC),rQ.decodingPLCCNG=Number(AQ.googDecodingPLCCNG),rQ.expandRate=Number(AQ.googExpandRate),rQ.accelerateRate=Number(AQ.googAccelerateRate),rQ.preemptiveExpandRate=Number(AQ.googPreemptiveExpandRate),rQ.secondaryDecodedRate=Number(AQ.googSecondaryDecodedRate),rQ.speechExpandRate=Number(AQ.googSpeechExpandRate),rQ.preferredJitterBufferMs=Number(AQ.googPreferredJitterBufferMs),rQ.jitterBufferMs=Number(AQ.googJitterBufferMs),rQ.jitterMs=Number(AQ.googJitterReceived),rQ.bytes=Number(AQ.bytesReceived),rQ.packets=Number(AQ.packetsReceived),rQ.packetsLost=Number(AQ.packetsLost),rQ.ssrc=Number(AQ.ssrc),rQ.receivedFrames=Number(AQ.googDecodingCTN)||Number(AQ.packetsReceived),rQ.droppedFrames=Number(AQ.googDecodingPLC)+Number(AQ.googDecodingPLCCNG)||Number(AQ.packetsLost),rQ.receivedFrames>0&&!this.isFirstAudioReceived[rQ.ssrc]&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(rQ.ssrc),this.isFirstAudioReceived[rQ.ssrc]=!0),rQ.decodingNormal>0&&!this.isFirstAudioDecoded[rQ.ssrc]&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(rQ.ssrc),this.isFirstAudioDecoded[rQ.ssrc]=!0),this._stats.audioRecv.push(rQ);break}case"audio_send":{const rQ=hx(Sx);rQ.codec=AQ.googCodecName,rQ.inputLevel=Math.abs(Number(AQ.audioInputLevel))/32767,rQ.aecReturnLoss=Number(AQ.googEchoCancellationReturnLoss||0),rQ.aecReturnLossEnhancement=Number(AQ.googEchoCancellationReturnLossEnhancement||0),rQ.residualEchoLikelihood=Number(AQ.googResidualEchoLikelihood||0),rQ.residualEchoLikelihoodRecentMax=Number(AQ.googResidualEchoLikelihoodRecentMax||0),rQ.bytes=Number(AQ.bytesSent),rQ.packets=Number(AQ.packetsSent),rQ.packetsLost=Number(AQ.packetsLost),rQ.ssrc=Number(AQ.ssrc),rQ.rttMs=Number(AQ.googRtt||0),this._stats.rtt=rQ.rttMs,this._stats.audioSend.push(rQ);break}}})}_getStats(){return new Gh((eQ,AQ)=>{this.pc.getStats(eQ,AQ)})}statsResponsesToObjects(eQ){const AQ=[];return eQ.result().forEach(iQ=>{const oQ={id:iQ.id,timestamp:iQ.timestamp.valueOf().toString(),type:iQ.type};iQ.names().forEach(rQ=>{oQ[rQ]=iQ.stat(rQ)}),AQ.push(oQ)}),AQ}}function bx(tQ,eQ){var AQ=Object.keys(tQ);if(Object.getOwnPropertySymbols){var iQ=Object.getOwnPropertySymbols(tQ);eQ&&(iQ=iQ.filter(function(oQ){return Object.getOwnPropertyDescriptor(tQ,oQ).enumerable})),AQ.push.apply(AQ,iQ)}return AQ}function wx(tQ){for(var eQ=1;eQ<arguments.length;eQ++){var AQ=arguments[eQ]!=null?arguments[eQ]:{};eQ%2?bx(Object(AQ),!0).forEach(function(iQ){og(tQ,iQ,AQ[iQ])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tQ,Object.getOwnPropertyDescriptors(AQ)):bx(Object(AQ)).forEach(function(iQ){Object.defineProperty(tQ,iQ,Object.getOwnPropertyDescriptor(AQ,iQ))})}return tQ}class Ox extends Ix{constructor(){super(...arguments),og(this,"_stats",mx),og(this,"report",void 0),og(this,"lastDecodeVideoReceiverStats",new Map),og(this,"lastVideoFramesRecv",new Map),og(this,"lastVideoFramesSent",new Map),og(this,"lastVideoFramesDecode",new Map),og(this,"lastVideoFramesOutput",new Map),og(this,"lastVideoJBDelay",new Map),og(this,"lastAudioJBDelay",new Map),og(this,"mediaBytesSent",new Map),og(this,"mediaBytesRetransmit",new Map),og(this,"mediaBytesTargetEncode",new Map),og(this,"lastEncoderMs",new Map)}async updateStats(){this.report=await this.pc.getStats(),this._stats=hx(mx),this.report.forEach(eQ=>{switch(eQ.type){case sb.OUTBOUND:case sb.INBOUND:{const AQ=eQ.mediaType||eQ.kind,iQ=!AQ&&"frameWidth"in eQ,oQ=!AQ&&!("frameWidth"in eQ);eQ.type===sb.OUTBOUND?AQ==="audio"||oQ?this.processAudioOutboundStats(eQ):(AQ==="video"||iQ)&&this.processVideoOutboundStats(eQ):eQ.type===sb.INBOUND&&(AQ==="audio"||oQ?this.processAudioInboundStats(eQ):(AQ==="video"||iQ)&&this.processVideoInboundStats(eQ));break}case sb.TRANSPORT:{const AQ=this.report.get(eQ.selectedCandidatePairId);AQ&&this.processCandidatePairStats(AQ);break}case sb.CANDIDATE_PAIR:eQ.selected&&this.processCandidatePairStats(eQ)}}),this.updateSendBitrate(),this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats}async getSelectedCandidatePair(){const eQ=await this.pc.getStats(),AQ={local:wx({},Ex),remote:wx({},Ex)};return eQ.forEach(iQ=>{let oQ;if(iQ.type===sb.TRANSPORT&&(oQ=eQ.get(iQ.selectedCandidatePairId)),iQ.type===sb.CANDIDATE_PAIR&&iQ.selected&&(oQ=iQ),oQ){const rQ=(nQ,sQ)=>{nQ.type=sQ.type,nQ.id=sQ.id,sQ.address&&(nQ.address=sQ.address),sQ.candidateType&&(nQ.candidateType=sQ.candidateType),sQ.port&&(nQ.port=sQ.port),sQ.priority&&(nQ.priority=sQ.priority),sQ.protocol&&(nQ.protocol=sQ.protocol),sQ.relayProtocol&&(nQ.relayProtocol=sQ.relayProtocol)};if(oQ.localCandidateId){const nQ=eQ.get(oQ.localCandidateId);nQ&&rQ(AQ.local,nQ)}if(oQ.remoteCandidateId){const nQ=eQ.get(oQ.remoteCandidateId);nQ&&rQ(AQ.remote,nQ)}}}),AQ}processCandidatePairStats(eQ){if(this._stats.sendBandwidth=eQ.availableOutgoingBitrate||0,eQ.currentRoundTripTime&&(this._stats.rtt=1e3*eQ.currentRoundTripTime),this._stats.videoSend.forEach(AQ=>{eQ.currentRoundTripTime&&(AQ.rttMs=1e3*eQ.currentRoundTripTime)}),this._stats.audioSend.forEach(AQ=>{eQ.currentRoundTripTime&&(AQ.rttMs=1e3*eQ.currentRoundTripTime)}),this._stats.selectedCandidatePair.id=eQ.id,eQ.localCandidateId){const AQ=this.report.get(eQ.localCandidateId);AQ&&this.processCandidateStats(AQ)}if(eQ.remoteCandidateId){const AQ=this.report.get(eQ.remoteCandidateId);AQ&&this.processCandidateStats(AQ)}}processCandidateStats(eQ){let AQ;eQ.type===sb.LOCAL_CANDIDATE&&(AQ=this._stats.selectedCandidatePair.localCandidate),eQ.type===sb.REMOTE_CANDIDATE&&(AQ=this._stats.selectedCandidatePair.remoteCandidate),AQ&&(AQ.type=eQ.type,AQ.id=eQ.id,eQ.address&&(AQ.address=eQ.address),eQ.candidateType&&(AQ.candidateType=eQ.candidateType),eQ.port&&(AQ.port=eQ.port),eQ.priority&&(AQ.priority=eQ.priority),eQ.protocol&&(AQ.protocol=eQ.protocol),eQ.relayProtocol&&(AQ.relayProtocol=eQ.relayProtocol),eQ.type===sb.LOCAL_CANDIDATE&&this.stats.selectedCandidatePair.localCandidate.id!==AQ.id&&this.onSelectedLocalCandidateChanged&&this.onSelectedLocalCandidateChanged(wx({},AQ),wx({},this.stats.selectedCandidatePair.localCandidate)),eQ.type===sb.REMOTE_CANDIDATE&&this.stats.selectedCandidatePair.remoteCandidate.id!==AQ.id&&this.onSelectedRemoteCandidateChanged&&this.onSelectedRemoteCandidateChanged(wx({},AQ),wx({},this.stats.selectedCandidatePair.remoteCandidate)))}processAudioInboundStats(eQ){let AQ=this._stats.audioRecv.find(iQ=>iQ.ssrc===eQ.ssrc);AQ||(AQ=hx(gx),this._stats.audioRecv.push(AQ)),AQ.ssrc=eQ.ssrc,AQ.packets=eQ.packetsReceived,AQ.packetsLost=eQ.packetsLost,AQ.packetsDiscarded=eQ.packetsDiscarded,AQ.bytes=eQ.bytesReceived,AQ.jitterMs=1e3*eQ.jitter,this.processAudioTrackReceiverStats(eQ,eQ.trackId,AQ),eQ.codecId&&(AQ.codec=this.getCodecFromCodecStats(eQ.codecId)),AQ.receivedFrames||(AQ.receivedFrames=eQ.packetsReceived),AQ.droppedFrames||(AQ.droppedFrames=eQ.packetsLost),AQ.receivedFrames>0&&!this.isFirstAudioReceived[AQ.ssrc]&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(AQ.ssrc),this.isFirstAudioReceived[AQ.ssrc]=!0),AQ.outputLevel&&AQ.outputLevel>0&&!this.isFirstAudioDecoded[AQ.ssrc]&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(AQ.ssrc),this.isFirstAudioDecoded[AQ.ssrc]=!0),typeof eQ.concealedSamples=="number"&&(AQ.concealedSamples=eQ.concealedSamples)}processVideoInboundStats(eQ){let AQ=this._stats.videoRecv.find(sQ=>sQ.ssrc===eQ.ssrc);AQ||(AQ=hx(fx),this._stats.videoRecv.push(AQ)),AQ.ssrc=eQ.ssrc,AQ.packets=eQ.packetsReceived,AQ.packetsLost=eQ.packetsLost,AQ.bytes=eQ.bytesReceived,AQ.firsCount=eQ.firCount,AQ.nacksCount=eQ.nackCount,AQ.plisCount=eQ.pliCount,AQ.framesDecodeCount=eQ.framesDecoded,AQ.framesDroppedCount=eQ.framesDropped,AQ.totalInterFrameDelay=eQ.totalInterFrameDelay,AQ.totalSquaredInterFrameDelay=eQ.totalSquaredInterFrameDelay,AQ.totalFreezesDuration=eQ.totalFreezesDuration;const iQ=this.lastDecodeVideoReceiverStats.get(AQ.ssrc),oQ=this.lastVideoFramesDecode.get(AQ.ssrc),rQ=this.lastVideoFramesOutput.get(AQ.ssrc),nQ=Date.now();if(AQ.framesDecodeCount>0&&!this.isFirstVideoDecoded[AQ.ssrc]){const sQ=AQ.decodedFrame?AQ.decodedFrame.width:0,aQ=AQ.decodedFrame?AQ.decodedFrame.height:0;this.onFirstVideoDecoded&&this.onFirstVideoDecoded(AQ.ssrc,sQ,aQ),this.isFirstVideoDecoded[AQ.ssrc]=!0}if(iQ){const sQ=iQ.stats,aQ=nQ-iQ.lts;AQ.framesDecodeFreezeTime=sQ.framesDecodeFreezeTime,AQ.framesDecodeInterval=sQ.framesDecodeInterval,!this.isFirstVideoDecoded[AQ.ssrc]&&aQ>this.options.firstVideoDecodedTimeout&&!this.isFirstVideoDecodedTimeout[AQ.ssrc]&&(this.onFirstVideoDecodedTimeout&&this.onFirstVideoDecodedTimeout(AQ.ssrc),this.isFirstVideoDecodedTimeout[AQ.ssrc]=!0),AQ.framesDecodeCount>sQ.framesDecodeCount&&this.isFirstVideoDecoded[AQ.ssrc]?(iQ.lts=Date.now(),AQ.framesDecodeInterval=aQ,AQ.framesDecodeInterval>=this.options.freezeRateLimit&&(this.getVideoIsReady(parseInt(eQ.ssrc))?AQ.framesDecodeFreezeTime+=AQ.framesDecodeInterval:this.setVideoIsReady2(parseInt(eQ.ssrc,10),!0))):AQ.framesDecodeCount<sQ.framesDecodeCount&&(AQ.framesDecodeInterval=0),eQ.framesDecoded&&eQ.qpSum&&(iQ.stats.framesDecodeCount>eQ.framesDecoded?AQ.qpSumPerFrame=eQ.qpSum/eQ.framesDecoded:AQ.qpSumPerFrame=(eQ.qpSum-iQ.qpSum)/(eQ.framesDecoded-iQ.stats.framesDecodeCount))}oQ&&nQ-oQ.lts>=800?(AQ.decodeFrameRate=Math.round((AQ.framesDecodeCount-oQ.count)/((nQ-oQ.lts)/1e3)),this.lastVideoFramesDecode.set(AQ.ssrc,{count:AQ.framesDecodeCount,lts:nQ,rate:AQ.decodeFrameRate})):oQ?AQ.decodeFrameRate=oQ.rate:this.lastVideoFramesDecode.set(AQ.ssrc,{count:AQ.framesDecodeCount,lts:nQ,rate:0}),AQ.framesDroppedCount&&eQ.framesReceived&&(rQ&&nQ-rQ.lts>=800?(AQ.outputFrameRate=Math.round((eQ.framesReceived-AQ.framesDroppedCount-rQ.count)/((nQ-rQ.lts)/1e3)),this.lastVideoFramesOutput.set(AQ.ssrc,{count:eQ.framesReceived-AQ.framesDroppedCount,lts:nQ,rate:Math.max(AQ.outputFrameRate,0)})):rQ?AQ.outputFrameRate=rQ.rate:this.lastVideoFramesOutput.set(AQ.ssrc,{count:eQ.framesReceived-AQ.framesDroppedCount,lts:nQ,rate:0})),eQ.totalDecodeTime&&(AQ.decodeMs=1e3*eQ.totalDecodeTime),this.processVideoTrackReceiverStats(eQ,eQ.trackId,AQ),eQ.codecId&&(AQ.codec=this.getCodecFromCodecStats(eQ.codecId)),eQ.framerateMean&&(AQ.framesRateFirefox=eQ.framerateMean),AQ.packets>0&&!this.isFirstVideoReceived[AQ.ssrc]&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(AQ.ssrc),this.isFirstVideoReceived[AQ.ssrc]=!0),this.lastDecodeVideoReceiverStats.set(AQ.ssrc,{stats:wx({},AQ),lts:iQ?iQ.lts:Date.now(),qpSum:eQ.qpSum})}processVideoOutboundStats(eQ){let AQ=this._stats.videoSend.find(oQ=>oQ.ssrc===eQ.ssrc);AQ||(AQ=hx(Tx),this._stats.videoSend.push(AQ));const iQ=this.mediaBytesSent.get(eQ.ssrc);if(iQ)iQ.add(eQ.bytesSent);else{const oQ=new _x(10);oQ.add(eQ.bytesSent),this.mediaBytesSent.set(eQ.ssrc,oQ)}if(eQ.retransmittedBytesSent!==void 0){const oQ=this.mediaBytesRetransmit.get(eQ.ssrc);if(oQ)oQ.add(eQ.retransmittedBytesSent);else{const rQ=new _x(10);rQ.add(eQ.retransmittedBytesSent),this.mediaBytesRetransmit.set(eQ.ssrc,rQ)}}if(eQ.totalEncodedBytesTarget){const oQ=this.mediaBytesTargetEncode.get(eQ.ssrc);if(oQ)oQ.add(eQ.totalEncodedBytesTarget);else{const rQ=new _x(10);rQ.add(eQ.totalEncodedBytesTarget),this.mediaBytesTargetEncode.set(eQ.ssrc,rQ)}}if(AQ.ssrc=eQ.ssrc,AQ.bytes=eQ.bytesSent,AQ.packets=eQ.packetsSent,AQ.firsCount=eQ.firCount,AQ.nacksCount=eQ.nackCount,AQ.plisCount=eQ.pliCount,AQ.frameCount=eQ.framesEncoded,AQ.adaptionChangeReason=eQ.qualityLimitationReason,AQ.scalabilityMode=eQ.scalabilityMode,eQ.totalEncodeTime&&eQ.framesEncoded){const oQ=this.lastEncoderMs.get(eQ.ssrc);if(!oQ||oQ.lastFrameCount>eQ.framesEncoded)AQ.avgEncodeMs=1e3*eQ.totalEncodeTime/eQ.framesEncoded;else{const rQ=eQ.framesEncoded-oQ.lastFrameCount,nQ=eQ.totalEncodeTime-oQ.lastEncoderTime;AQ.avgEncodeMs=1e3*nQ/rQ}}if(eQ.framesEncoded&&eQ.qpSum){const oQ=this.lastEncoderMs.get(eQ.ssrc);!oQ||oQ.lastFrameCount>eQ.framesEncoded?AQ.qpSumPerFrame=eQ.qpSum/eQ.framesEncoded:AQ.qpSumPerFrame=(eQ.qpSum-oQ.lastQpSum)/(eQ.framesEncoded-oQ.lastFrameCount)}if(this.lastEncoderMs.set(eQ.ssrc,{lastFrameCount:eQ.framesEncoded,lastEncoderTime:eQ.totalEncodeTime,lastQpSum:eQ.qpSum,lts:Date.now()}),eQ.codecId&&(AQ.codec=this.getCodecFromCodecStats(eQ.codecId)),eQ.mediaSourceId&&this.processVideoMediaSource(eQ.mediaSourceId,AQ),this.processVideoTrackSenderStats(eQ,eQ.trackId,AQ),eQ.remoteId)this.processRemoteInboundStats(eQ.remoteId,AQ);else{const oQ=this.findRemoteStatsId(eQ.ssrc,sb.REMOTE_INBOUND);oQ&&this.processRemoteInboundStats(oQ,AQ)}}processAudioOutboundStats(eQ){let AQ=this._stats.audioSend.find(iQ=>iQ.ssrc===eQ.ssrc);if(AQ||(AQ=hx(Sx),this._stats.audioSend.push(AQ)),AQ.ssrc=eQ.ssrc,AQ.packets=eQ.packetsSent,AQ.bytes=eQ.bytesSent,eQ.mediaSourceId&&this.processAudioMediaSource(eQ.mediaSourceId,AQ),eQ.codecId&&(AQ.codec=this.getCodecFromCodecStats(eQ.codecId)),this.processAudioTrackSenderStats(eQ,eQ.trackId,AQ),eQ.remoteId)this.processRemoteInboundStats(eQ.remoteId,AQ);else{const iQ=this.findRemoteStatsId(eQ.ssrc,sb.REMOTE_INBOUND);iQ&&this.processRemoteInboundStats(iQ,AQ)}}findRemoteStatsId(eQ,AQ){var iQ;const oQ=Array.from(Qw(iQ=this.report).call(iQ)).find(rQ=>rQ.type===AQ&&rQ.ssrc===eQ);return oQ?oQ.id:null}processVideoMediaSource(eQ,AQ){const iQ=this.report.get(eQ);iQ&&iQ.width&&iQ.height&&iQ.framesPerSecond&&(AQ.inputFrame={width:iQ.width,height:iQ.height,frameRate:iQ.framesPerSecond})}processAudioMediaSource(eQ,AQ){const iQ=this.report.get(eQ);iQ&&(AQ.inputLevel=iQ.audioLevel)}processVideoTrackSenderStats(eQ,AQ,iQ){var oQ,rQ,nQ,sQ;const aQ=AQ?this.report.get(AQ):void 0,cQ=(oQ=aQ==null?void 0:aQ.framesSent)!==null&&oQ!==void 0?oQ:eQ.framesSent;if(typeof cQ!="number")return;let gQ=(rQ=aQ==null?void 0:aQ.frameWidth)!==null&&rQ!==void 0?rQ:eQ.frameWidth,IQ=(nQ=aQ==null?void 0:aQ.frameHeight)!==null&&nQ!==void 0?nQ:eQ.frameHeight,EQ=(sQ=aQ==null?void 0:aQ.framesPerSecond)!==null&&sQ!==void 0?sQ:eQ.framesPerSecond;if(typeof gQ=="number"&&typeof IQ=="number"||(gQ=0,IQ=0),EQ==null){const CQ=Date.now(),dQ=this.lastVideoFramesSent.get(iQ.ssrc);dQ&&CQ-dQ.lts>=800?(EQ=Math.round((cQ-dQ.count)/((CQ-dQ.lts)/1e3)),this.lastVideoFramesSent.set(iQ.ssrc,{count:cQ,lts:CQ,rate:EQ})):dQ?EQ=dQ.rate:this.lastVideoFramesSent.set(iQ.ssrc,{count:cQ,lts:CQ,rate:0})}iQ.sentFrame={width:gQ,height:IQ,frameRate:Math.max(0,EQ)}}processVideoTrackReceiverStats(eQ,AQ,iQ){var oQ,rQ,nQ,sQ,aQ;const cQ=AQ?this.report.get(AQ):void 0,gQ=(oQ=cQ==null?void 0:cQ.framesReceived)!==null&&oQ!==void 0?oQ:eQ.framesReceived,IQ=(rQ=cQ==null?void 0:cQ.frameWidth)!==null&&rQ!==void 0?rQ:eQ.frameWidth,EQ=(nQ=cQ==null?void 0:cQ.frameHeight)!==null&&nQ!==void 0?nQ:eQ.frameHeight,CQ=(sQ=cQ==null?void 0:cQ.jitterBufferDelay)!==null&&sQ!==void 0?sQ:eQ.jitterBufferDelay,dQ=(aQ=cQ==null?void 0:cQ.jitterBufferEmittedCount)!==null&&aQ!==void 0?aQ:eQ.jitterBufferEmittedCount;if(typeof gQ=="number"){const lQ=this.lastVideoFramesRecv.get(iQ.ssrc),uQ=Date.now();iQ.framesReceivedCount=gQ;let hQ=0;lQ&&uQ-lQ.lts>=800?(hQ=Math.round((gQ-lQ.count)/((uQ-lQ.lts)/1e3)),this.lastVideoFramesRecv.set(iQ.ssrc,{count:gQ,lts:uQ,rate:hQ})):lQ?hQ=lQ.rate:this.lastVideoFramesRecv.set(iQ.ssrc,{count:gQ,lts:uQ,rate:0}),iQ.receivedFrame={width:IQ||0,height:EQ||0,frameRate:hQ||0},iQ.decodedFrame={width:IQ||0,height:EQ||0,frameRate:iQ.decodeFrameRate||0},iQ.outputFrame={width:IQ||0,height:EQ||0,frameRate:iQ.outputFrameRate||iQ.decodeFrameRate||0}}if(CQ&&dQ){const lQ=this.lastVideoJBDelay.get(iQ.ssrc)||{jitterBufferDelay:0,jitterBufferEmittedCount:0,jitterBufferMs:0};let uQ=lQ.jitterBufferMs;const hQ=dQ-lQ.jitterBufferEmittedCount;hQ>0&&(uQ=1e3*(CQ-lQ.jitterBufferDelay)/hQ),iQ.jitterBufferMs=uQ,iQ.currentDelayMs=Math.round(uQ),this.lastVideoJBDelay.set(iQ.ssrc,{jitterBufferDelay:CQ,jitterBufferEmittedCount:dQ,jitterBufferMs:iQ.currentDelayMs})}}processAudioTrackSenderStats(eQ,AQ,iQ){var oQ,rQ,nQ,sQ;const aQ=AQ?this.report.get(AQ):void 0,cQ=(oQ=(rQ=aQ==null?void 0:aQ.echoReturnLoss)!==null&&rQ!==void 0?rQ:eQ.echoReturnLoss)!==null&&oQ!==void 0?oQ:0,gQ=(nQ=(sQ=aQ==null?void 0:aQ.echoReturnLossEnhancement)!==null&&sQ!==void 0?sQ:eQ.echoReturnLossEnhancement)!==null&&nQ!==void 0?nQ:0;iQ.aecReturnLoss=cQ,iQ.aecReturnLossEnhancement=gQ}processAudioTrackReceiverStats(eQ,AQ,iQ){var oQ,rQ,nQ,sQ,aQ,cQ,gQ;const IQ=AQ?this.report.get(AQ):void 0,EQ=(oQ=IQ==null?void 0:IQ.removedSamplesForAcceleration)!==null&&oQ!==void 0?oQ:eQ.removedSamplesForAcceleration,CQ=(rQ=IQ==null?void 0:IQ.totalSamplesReceived)!==null&&rQ!==void 0?rQ:eQ.totalSamplesReceived,dQ=(nQ=IQ==null?void 0:IQ.jitterBufferDelay)!==null&&nQ!==void 0?nQ:eQ.jitterBufferDelay,lQ=(sQ=IQ==null?void 0:IQ.jitterBufferEmittedCount)!==null&&sQ!==void 0?sQ:eQ.jitterBufferEmittedCount,uQ=(aQ=IQ==null?void 0:IQ.audioLevel)!==null&&aQ!==void 0?aQ:eQ==null?void 0:eQ.audioLevel,hQ=(cQ=IQ==null?void 0:IQ.totalSamplesDuration)!==null&&cQ!==void 0?cQ:eQ==null?void 0:eQ.totalSamplesDuration,BQ=(gQ=IQ==null?void 0:IQ.concealedSamples)!==null&&gQ!==void 0?gQ:eQ.concealedSamples;if(EQ&&CQ&&(iQ.accelerateRate=EQ/CQ),dQ&&lQ){const fQ=this.lastAudioJBDelay.get(iQ.ssrc)||{jitterBufferDelay:0,jitterBufferEmittedCount:0,jitterBufferMs:0};let _Q=fQ.jitterBufferMs;const RQ=lQ-fQ.jitterBufferEmittedCount;RQ>0&&(_Q=1e3*(dQ-fQ.jitterBufferDelay)/RQ),iQ.jitterBufferMs=Math.round(_Q),this.lastAudioJBDelay.set(iQ.ssrc,{jitterBufferDelay:dQ,jitterBufferEmittedCount:lQ,jitterBufferMs:iQ.jitterBufferMs})}iQ.outputLevel=uQ;let QQ=1920;hQ&&CQ&&(QQ=CQ/hQ/50,iQ.receivedFrames=Math.round(CQ/QQ)),BQ&&(iQ.droppedFrames=Math.round(BQ/QQ))}processRemoteInboundStats(eQ,AQ){const iQ=this.report.get(eQ);iQ&&(AQ.packetsLost=iQ.packetsLost,iQ.roundTripTime&&(AQ.rttMs=1e3*iQ.roundTripTime),iQ.jitter&&(AQ.jitterMs=1e3*iQ.jitter),iQ.timestamp&&(AQ.timestamp=iQ.timestamp))}getCodecFromCodecStats(eQ){const AQ=this.report.get(eQ);if(!AQ)return"";const iQ=AQ.mimeType.match(/\/(.*)$/);return iQ&&iQ[1]?iQ[1]:""}updateSendBitrate(){let eQ=0,AQ=null,iQ=null;this.mediaBytesSent.forEach(rQ=>{eQ+=rQ.diffMean()}),this.mediaBytesRetransmit.forEach(rQ=>{AQ=AQ===null?rQ.diffMean():AQ+rQ.diffMean()}),this.mediaBytesTargetEncode.forEach(rQ=>{iQ=iQ===null?rQ.diffMean():iQ+rQ.diffMean()});const oQ=AQ!==null?eQ-AQ:eQ;this._stats.bitrate={actualEncoded:8*oQ/(this.options.updateInterval/1e3),transmit:8*eQ/(this.options.updateInterval/1e3)},AQ!==null&&(this._stats.bitrate.retransmit=8*AQ/(this.options.updateInterval/1e3)),iQ!==null&&(this._stats.bitrate.targetEncoded=8*iQ/(this.options.updateInterval/1e3))}}class Nx extends Ix{updateStats(){return Gh.resolve()}}function Dx(tQ){let eQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:250,AQ=arguments.length>2&&arguments[2]!==void 0?arguments[2]:8,iQ=arguments.length>3&&arguments[3]!==void 0?arguments[3]:500,oQ=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e4;const rQ=function(){const nQ=navigator.userAgent.toLocaleLowerCase().match(/chrome\/[\d]*/i);return nQ&&nQ[0]?Number(nQ[0].split("/")[1]):null}();return rQ?rQ<76?new Ax(tQ,{updateInterval:eQ,lossRateInterval:AQ,freezeRateLimit:iQ,firstVideoDecodedTimeout:oQ}):new Ox(tQ,{updateInterval:eQ,lossRateInterval:AQ,freezeRateLimit:iQ,firstVideoDecodedTimeout:oQ}):function(nQ){if(!window.RTCStatsReport)return!1;const sQ=nQ.getStats();return!!(sQ instanceof Gh||function(aQ){return!!aQ&&(typeof aQ=="object"||typeof aQ=="function")&&typeof aQ.then=="function"}(sQ))}(tQ)?new Ox(tQ,{updateInterval:eQ,lossRateInterval:AQ,freezeRateLimit:iQ,firstVideoDecodedTimeout:oQ}):new Nx(tQ,{updateInterval:eQ,lossRateInterval:AQ,freezeRateLimit:iQ,firstVideoDecodedTimeout:oQ})}let Px=class{get localCapabilities(){return Gv(this._localCapabilities)}get rtpCapabilities(){return Gv(this._rtpCapabilities)}get candidates(){return Gv(this._candidates)}get iceParameters(){return Gv(this._iceParameters)}get dtlsParameters(){return Gv(this._dtlsParameters)}constructor(tQ){og(this,"sessionDesc",void 0),og(this,"_localCapabilities",void 0),og(this,"_rtpCapabilities",void 0),og(this,"_candidates",void 0),og(this,"_iceParameters",void 0),og(this,"_dtlsParameters",void 0),og(this,"setup",void 0),og(this,"currentMidIndex",void 0),og(this,"cname","o/i14u9pJrxRKAsu"),og(this,"firefoxSsrcMidMap",new Map),tQ=Gv(tQ);const{remoteIceParameters:eQ,remoteDtlsParameters:AQ,candidates:iQ,remoteRTPCapabilities:oQ,localCapabilities:rQ,direction:nQ,setup:sQ,videoCodec:aQ,audioCodec:cQ}=tQ;let gQ;this.setup=sQ,gQ=nQ===fb.RECEIVE_ONLY?CM.parse(`v=0
o=- 0 0 IN IP4 127.0.0.1
s=AgoraGateway
t=0 0
a=group:BUNDLE 0 1
a=msid-semantic: WMS
a=extmap-allow-mixed
m=video 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=sendonly
a=rtcp-mux
a=rtcp-rsize
a=mid:0
m=audio 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=sendonly
a=rtcp-mux
a=rtcp-rsize
a=mid:1
`):CM.parse(`v=0
o=- 0 0 IN IP4 127.0.0.1
s=AgoraGateway
t=0 0
a=group:BUNDLE 0 1
a=msid-semantic: WMS
a=extmap-allow-mixed
m=video 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=recvonly
a=rtcp-mux
a=rtcp-rsize
a=mid:0
m=audio 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=recvonly
a=rtcp-mux
a=rtcp-rsize
a=mid:1
`),this._rtpCapabilities=oQ,this._candidates=iQ,this._iceParameters=eQ,this._dtlsParameters=AQ,this._localCapabilities=rQ;const IQ=nQ===fb.RECEIVE_ONLY?this.rtpCapabilities.send:this.rtpCapabilities.recv,EQ=nQ===fb.RECEIVE_ONLY?this._localCapabilities.recv:this._localCapabilities.send,CQ=nQ===fb.RECEIVE_ONLY?oQ.send.videoCodecs:WM(Yb.VIDEO,IQ,EQ,aQ),dQ=nQ===fb.RECEIVE_ONLY?oQ.send.audioCodecs:WM(Yb.AUDIO,IQ,EQ,cQ);for(const lQ of gQ.mediaDescriptions)lQ.attributes.iceUfrag=eQ.iceUfrag,lQ.attributes.icePwd=eQ.icePwd,lQ.attributes.fingerprints=AQ.fingerprints,lQ.attributes.candidates=iQ,lQ.attributes.setup=this.setup,lQ.media.mediaType==="application"&&(lQ.attributes.sctpPort="5000"),lQ.media.mediaType==="video"&&(lQ.media.fmts=CQ.map(uQ=>uQ.payloadType.toString(10)),lQ.attributes.payloads=CQ,lQ.attributes.extmaps=IQ.videoExtensions),lQ.media.mediaType==="audio"&&(lQ.media.fmts=dQ.map(uQ=>uQ.payloadType.toString(10)),lQ.attributes.payloads=dQ,lQ.attributes.extmaps=IQ.audioExtensions,GM(lQ));this.sessionDesc=gQ,this.currentMidIndex=gQ.mediaDescriptions.length-1}toString(){return CM.print(this.sessionDesc)}hasMid(tQ){return Array.isArray(tQ)?tQ.every(eQ=>this.hasMid(eQ)):this.sessionDesc.mediaDescriptions.some(eQ=>eQ.attributes.mid===tQ)}send(tQ,eQ,AQ,iQ,oQ){AQ=AQ.replace(/ /g,"-");const{ssrcs:rQ,ssrcGroups:nQ}=DM(eQ,this.cname,Dy("SYNC_GROUP")?AQ:void 0),sQ=this.findPreloadMediaDesc(rQ);if(sQ){if(kI()&&this.firefoxSsrcMidMap.set(rQ[0].ssrcId,sQ.attributes.mid),oQ&&(oQ.twcc||oQ.remb)){const aQ=this.sessionDesc.mediaDescriptions.indexOf(sQ);return this.sessionDesc.mediaDescriptions[aQ]=this.mungSendMediaDesc(sQ,oQ),{mid:sQ.attributes.mid,needExchangeSDP:!0}}return{mid:sQ.attributes.mid,needExchangeSDP:!1}}{const aQ=this.findAvailableMediaIndex(tQ,rQ,iQ);let cQ;return aQ===-1?(cQ=this.createOrRecycleSendMedia(tQ,rQ,nQ,"sendonly",iQ,oQ),this.updateBundleMids()):(cQ=Gv(this.sessionDesc.mediaDescriptions[aQ]),cQ.attributes.direction="sendonly",cQ.attributes.ssrcs=rQ,cQ.attributes.ssrcGroups=nQ,this.sessionDesc.mediaDescriptions[aQ]=this.mungSendMediaDesc(cQ,oQ)),kI()&&this.firefoxSsrcMidMap.set(rQ[0].ssrcId,cQ.attributes.mid),{needExchangeSDP:!0,mid:cQ.attributes.mid}}}stopSending(tQ){const eQ=this.sessionDesc.mediaDescriptions.filter(AQ=>AQ.attributes.mid&&tQ.indexOf(AQ.attributes.mid)!==-1);if(eQ.length!==tQ.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.");eQ.forEach(AQ=>{AQ.attributes.ssrcs=[]}),this.updateBundleMids()}receive(tQ,eQ,AQ){const iQ=[];return tQ.forEach(oQ=>{const rQ=oQ._mediaStreamTrack.kind,nQ=this.findAvailableRecvMediaIndex(rQ);let sQ,aQ=!1;nQ===-1?(aQ=!0,sQ=this.createOrRecycleRecvMedia(oQ,[],"recvonly",eQ,AQ),this.updateBundleMids()):(sQ=Gv(this.sessionDesc.mediaDescriptions[nQ]),sQ.attributes.direction="recvonly"),iQ.push({mid:sQ.attributes.mid,needCreateTransceiver:aQ})}),iQ}stopReceiving(tQ){const eQ=this.sessionDesc.mediaDescriptions.filter(AQ=>tQ.indexOf(AQ.attributes.mid)!==-1);if(eQ.length!==tQ.length)throw new Error("MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.");eQ.forEach(AQ=>{AQ.media.port="0",AQ.attributes.direction="inactive"}),this.updateBundleMids()}addRemoteCandidate(tQ){const{foundation:eQ,protocol:AQ,address:iQ,port:oQ,type:rQ,relatedAddress:nQ,relatedPort:sQ,priority:aQ}=new RTCIceCandidate(tQ),cQ={foundation:eQ??"",componentId:"1",transport:AQ??"",priority:aQ?aQ+"":"",connectionAddress:iQ??"",port:oQ?oQ+"":"",type:rQ?rQ+"":"",relAddr:nQ??"",relPort:sQ?sQ+"":"",extension:{}};this.candidates.some(gQ=>gQ.priority===cQ.priority&&gQ.connectionAddress===cQ.connectionAddress&&gQ.port===cQ.port)||(this._candidates.push(cQ),this.sessionDesc.mediaDescriptions.forEach(gQ=>{gQ.attributes.candidates=this.candidates}))}clearRemoteCandidate(){this._candidates=[],this.sessionDesc.mediaDescriptions[0].attributes.candidates=this._candidates}createOrRecycleRecvMedia(tQ,eQ,AQ,iQ,oQ){const rQ=tQ._mediaStreamTrack.kind,nQ=this.rtpCapabilities.recv,sQ=WM(rQ,nQ,this.localCapabilities.send,rQ===Yb.AUDIO?oQ:iQ),aQ=rQ===Yb.VIDEO?nQ.videoExtensions:nQ.audioExtensions,cQ="".concat(++this.currentMidIndex);let gQ={media:{mediaType:rQ,port:"9",protos:["UDP","TLS","RTP","SAVPF"],fmts:sQ.map(EQ=>EQ.payloadType.toString(10))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:[],extmaps:aQ,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:eQ,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:sQ,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:AQ,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(cQ)}};gQ=this.mungRecvMediaDsec(gQ,tQ);const IQ=this.findFirstClosedMedia(rQ);if(IQ){const EQ=this.sessionDesc.mediaDescriptions.indexOf(IQ);this.sessionDesc.mediaDescriptions[EQ]=gQ}else this.sessionDesc.mediaDescriptions.push(gQ);return gQ}muteRemote(tQ){const eQ=this.sessionDesc.mediaDescriptions.filter(AQ=>Dn(tQ).call(tQ,AQ.attributes.mid||""));if(eQ.length!==tQ.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");eQ.forEach(AQ=>{AQ.attributes.direction="inactive"})}unmuteRemote(tQ){const eQ=this.sessionDesc.mediaDescriptions.filter(AQ=>Dn(tQ).call(tQ,AQ.attributes.mid||""));if(eQ.length!==tQ.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");eQ.forEach(AQ=>{AQ.attributes.direction="recvonly"})}findAvailableMediaIndex(tQ,eQ,AQ){return this.sessionDesc.mediaDescriptions.findIndex(iQ=>{const oQ=iQ.media.mediaType===tQ&&iQ.media.port!=="0"&&(iQ.attributes.direction==="sendonly"||iQ.attributes.direction==="sendrecv")&&iQ.attributes.ssrcs.length===0;if(kI()){if(oQ){const rQ=this.firefoxSsrcMidMap.get(eQ[0].ssrcId);return!(rQ||iQ.attributes.mid!=="0"&&iQ.attributes.mid!=="1")||!(!rQ||rQ!==iQ.attributes.mid)}return!1}return oQ&&iQ.attributes.mid===AQ})}findAvailableRecvMediaIndex(tQ){return this.sessionDesc.mediaDescriptions.findIndex(eQ=>{const AQ=eQ.media.mediaType===tQ&&eQ.media.port!=="0"&&(eQ.attributes.direction==="recvonly"||eQ.attributes.direction==="sendrecv");return eQ.attributes.mid!=="0"&&eQ.attributes.mid!=="1"&&AQ})}predictReceivingMids(tQ){const eQ=[];for(let AQ=0;AQ<tQ;AQ++)eQ.push((this.currentMidIndex+AQ+1).toString(10));return eQ}restartICE(tQ){tQ=Gv(tQ),this._iceParameters=tQ,this.sessionDesc.mediaDescriptions.forEach(eQ=>{eQ.attributes.iceUfrag=tQ.iceUfrag,eQ.attributes.icePwd=tQ.icePwd})}createOrRecycleSendMedia(tQ,eQ,AQ,iQ,oQ,rQ){const nQ=this.rtpCapabilities.send,sQ=tQ===Yb.VIDEO?nQ.videoCodecs:nQ.audioCodecs,aQ=tQ===Yb.VIDEO?nQ.videoExtensions:nQ.audioExtensions;kI()&&(oQ="".concat(++this.currentMidIndex));let cQ={media:{mediaType:tQ,port:"9",protos:["UDP","TLS","RTP","SAVPF"],fmts:sQ.map(IQ=>IQ.payloadType.toString(10))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:[],extmaps:aQ,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:eQ,ssrcGroups:AQ,rtcpFeedbackWildcards:[],payloads:sQ,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:iQ,rtcpMux:!0,rtcpRsize:!0,mid:oQ}};cQ=this.mungSendMediaDesc(cQ,rQ);const gQ=this.findFirstClosedMedia(tQ);if(gQ){const IQ=this.sessionDesc.mediaDescriptions.indexOf(gQ);this.sessionDesc.mediaDescriptions[IQ]=cQ}else this.sessionDesc.mediaDescriptions.push(cQ);return cQ}mungRecvMediaDsec(tQ,eQ,AQ){const iQ=Gv(tQ);return LM(iQ),PM(iQ,eQ),kM(iQ,eQ),MM(iQ),UM(iQ,AQ,this.localCapabilities.send),iQ}mungSendMediaDesc(tQ,eQ){const AQ=Gv(tQ);return UM(AQ,eQ,this.localCapabilities.recv),GM(AQ),AQ}updateRecvMedia(tQ,eQ){const AQ=this.sessionDesc.mediaDescriptions.findIndex(iQ=>iQ.attributes.mid===tQ);if(AQ!==-1){const iQ=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[AQ],eQ);this.sessionDesc.mediaDescriptions[AQ]=iQ}}updateBundleMids(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter(tQ=>tQ.media.port!=="0").map(tQ=>tQ.attributes.mid)}findPreloadMediaDesc(tQ){return this.sessionDesc.mediaDescriptions.find(eQ=>{var AQ;return((AQ=eQ.attributes)===null||AQ===void 0||(AQ=AQ.ssrcs[0])===null||AQ===void 0?void 0:AQ.ssrcId)===tQ[0].ssrcId})}findFirstClosedMedia(tQ){return this.sessionDesc.mediaDescriptions.find(eQ=>kI()?eQ.media.port==="0"&&eQ.media.mediaType===tQ:eQ.media.port==="0")}};const Lx=["sdp"];var kx;function Mx(tQ,eQ){var AQ=Object.keys(tQ);if(Object.getOwnPropertySymbols){var iQ=Object.getOwnPropertySymbols(tQ);eQ&&(iQ=iQ.filter(function(oQ){return Object.getOwnPropertyDescriptor(tQ,oQ).enumerable})),AQ.push.apply(AQ,iQ)}return AQ}function Ux(tQ){for(var eQ=1;eQ<arguments.length;eQ++){var AQ=arguments[eQ]!=null?arguments[eQ]:{};eQ%2?Mx(Object(AQ),!0).forEach(function(iQ){og(tQ,iQ,AQ[iQ])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tQ,Object.getOwnPropertyDescriptors(AQ)):Mx(Object(AQ)).forEach(function(iQ){Object.defineProperty(tQ,iQ,Object.getOwnPropertyDescriptor(AQ,iQ))})}return tQ}let xx=(kx=class R0 extends Hb{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get dtlsTransportState(){var eQ,AQ;return(eQ=(AQ=this.peerConnection.getReceivers()[0])===null||AQ===void 0||(AQ=AQ.transport)===null||AQ===void 0?void 0:AQ.state)!==null&&eQ!==void 0?eQ:null}get localCodecs(){return[]}set isInRestartIce(eQ){this._isInRestartIce=eQ}get isInRestartIce(){return this._isInRestartIce}constructor(eQ,AQ,iQ){super(eQ,AQ),og(this,"direction",void 0),og(this,"name",void 0),og(this,"store",void 0),og(this,"spec",void 0),og(this,"peerConnection",void 0),og(this,"initialOffer",void 0),og(this,"transport",void 0),og(this,"statsFilter",void 0),og(this,"localCandidateCount",0),og(this,"_isInRestartIce",!1),og(this,"mutex",new hy("P2PConnection-mutex")),og(this,"onLocalCandidate",void 0),og(this,"remoteSDP",void 0),og(this,"pendingCandidates",[]),og(this,"localCapabilities",void 0),og(this,"isReady",!1),og(this,"restartCnt",0),og(this,"curTurnServerIndex",0),this.store=AQ,this.spec=eQ,this.peerConnection=new RTCPeerConnection(R0.resolvePCConfiguration(eQ,AQ.p2pTransport),{optional:[{googDscp:!0}]}),this.direction=iQ??fb.SEND_ONLY,this.name=this.direction===fb.SEND_ONLY?"sendP2PConnection":"recvP2PConnection",this.statsFilter=Dx(this.peerConnection,Dy("STATS_UPDATE_INTERVAL"),void 0,kI()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1}async establish(eQ){try{const AQ=await VM();if(this.localCapabilities=jM(AQ),eQ){const{sdp:iQ}=eQ,oQ=ux(eQ,Lx),rQ=function(){const gQ={audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},IQ=AM(arguments.length>2?arguments[2]:void 0,arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},"sendonly"),EQ={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},CQ={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},dQ={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(BM(IQ,gQ,"videoExtensions",EQ,CQ,dQ),BM(IQ,gQ,"videoCodecs",EQ,CQ,dQ),BM(IQ,gQ,"audioExtensions",EQ,CQ,dQ),BM(IQ,gQ,"audioCodecs",EQ,CQ,dQ),Dy("RAISE_H264_BASELINE_PRIORITY")){const lQ=dQ.videoCodecs.findIndex(uQ=>uQ.rtpMap&&uQ.rtpMap.encodingName.toLocaleLowerCase()==="h264"&&uQ.fmtp&&uQ.fmtp.parameters["profile-level-id"]==="42001f");if(lQ!==-1){const uQ=dQ.videoCodecs.findIndex(hQ=>hQ.rtpMap&&hQ.rtpMap.encodingName.toLocaleLowerCase()==="h264");if(uQ<lQ){Qy.debug("raising H264 baseline profile priority");const hQ=dQ.videoCodecs[lQ];dQ.videoCodecs.splice(lQ,1),dQ.videoCodecs.splice(uQ,0,hQ)}uQ!==-1&&Dy("FILTER_SEND_H264_BASELINE")&&(EQ.videoCodecs=EQ.videoCodecs.filter(hQ=>!(hQ.rtpMap&&hQ.rtpMap.encodingName.toLocaleLowerCase()==="h264"&&hQ.fmtp&&hQ.fmtp.parameters["profile-level-id"]!=="42001f")))}}return{send:EQ,recv:CQ,sendrecv:dQ}}({},{},iQ);this.remoteSDP=new Px({remoteIceParameters:oQ.iceParameters,remoteDtlsParameters:oQ.dtlsParameters,candidates:[],remoteRTPCapabilities:rQ,localCapabilities:this.localCapabilities,direction:this.direction,setup:"actpass",videoCodec:this.store.codec,audioCodec:this.store.audioCodec}),await this.setRemoteDescription({type:"offer",sdp:this.remoteSDP.toString()}),this.isReady=!0;const nQ=await this.peerConnection.createAnswer();if(!nQ.sdp)throw new Error("Cannot get answer sdp when trying to establish PeerConnection.");const sQ=bM(nQ.sdp);await this.peerConnection.setLocalDescription(nQ);const aQ=await FM({},{},nQ.sdp);this.localCapabilities=jM(aQ);const cQ=this.peerConnection.getTransceivers()[0];return cQ!=null&&cQ.receiver&&cQ.receiver.transport&&this.tryBindTransportEvents(cQ.receiver.transport),Ux(Ux({},sQ),{},{sdp:nQ.sdp})}{this.peerConnection.addTransceiver("video",{direction:"sendonly"}),this.peerConnection.addTransceiver("audio",{direction:"sendonly"});const iQ=await this.peerConnection.createOffer();if(!iQ.sdp)throw new Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");const oQ=bM(iQ.sdp);return this.initialOffer=iQ,Ux(Ux({},oQ),{},{sdp:iQ.sdp})}}catch(AQ){throw new rv(nv.GET_LOCAL_CONNECTION_PARAMS_FAILED,AQ.toString())}}async connect(eQ){try{if(!this.initialOffer)throw new Error("Cannot establish P2PConnection without initial offer.");await this.peerConnection.setLocalDescription(this.initialOffer);const{sdp:AQ,iceParameters:iQ,dtlsParameters:oQ}=eQ,rQ=await FM({},{},AQ);this.remoteSDP=new Px({remoteIceParameters:iQ,remoteDtlsParameters:oQ,candidates:[],remoteRTPCapabilities:rQ,localCapabilities:this.localCapabilities,direction:this.direction,setup:"active",videoCodec:this.store.codec,audioCodec:this.store.audioCodec}),await this.setRemoteDescription({type:"answer",sdp:this.remoteSDP.toString()});const nQ=this.peerConnection.getTransceivers()[0];nQ!=null&&nQ.sender&&nQ.sender.transport&&this.tryBindTransportEvents(nQ.sender.transport)}catch(AQ){throw new rv(nv.EXCHANGE_SDP_FAILED,"P2PConnection.connect failed; ".concat(AQ.toString()))}}async addRemoteCandidate(eQ){try{eQ&&this.pendingCandidates.push(eQ),this.peerConnection.remoteDescription&&this.isReady&&(this.pendingCandidates.forEach(AQ=>{this.peerConnection.addIceCandidate(AQ)}),this.pendingCandidates=[])}catch(AQ){throw new rv(nv.ADD_CANDIDATE_FAILED,"P2PConnection.addRemoteCandidate failed; ".concat(AQ.toString()))}}send(eQ,AQ,iQ){var oQ=this;return ZU(function*(){const rQ=yield WU(oQ.mutex.lock("From P2PConnection.send"));try{if(!oQ.remoteSDP)throw new Error("Cannot call P2PConnection.send before remote SDP created");const nQ=[],sQ=oQ.remoteSDP.receive(eQ,AQ,iQ);eQ.forEach((uQ,hQ)=>{if(sQ[hQ].needCreateTransceiver){const BQ=oQ.peerConnection.addTransceiver(uQ._mediaStreamTrack,{direction:"sendonly"});nQ.push(BQ),uQ._updateRtpTransceiver(BQ)}else{const BQ=oQ.peerConnection.getTransceivers().find(QQ=>QQ.mid===sQ[hQ].mid);if(!BQ)throw new Error("cannot find transceiver when sendPeerconnection send, mid is ".concat(sQ[hQ].mid));nQ.push(BQ),uQ._updateRtpTransceiver(BQ)}}),kI()&&Dy("SIMULCAST")===!0&&(yield WU(oQ.applySimulcastForFirefox(nQ,eQ)));const aQ=sQ.map(uQ=>uQ.mid),cQ=yield WU(oQ.peerConnection.createOffer()),gQ=oQ.mungSendOfferSDP(cQ.sdp,eQ,aQ),IQ=CM.parse(gQ),EQ=aQ.map(uQ=>{const hQ=IQ.mediaDescriptions.find(BQ=>BQ.attributes.mid===uQ);if(!hQ)throw new Error("Cannot extract ssrc from mediaDescription.");return wM(hQ,Dy("USE_PUB_RTX"))}),CQ=nQ.map((uQ,hQ)=>{const BQ=aQ[hQ];return{localSSRC:EQ[hQ],id:BQ}});yield WU(oQ.peerConnection.setLocalDescription({type:"offer",sdp:gQ}));try{yield CQ}catch(uQ){const hQ=oQ.remoteSDP.toString();throw yield WU(oQ.peerConnection.setLocalDescription({type:"offer",sdp:gQ})),yield WU(oQ.peerConnection.setRemoteDescription({type:"answer",sdp:hQ})),yield WU(oQ.stopSending(aQ,!0)),uQ}yield WU(oQ.applySimulcastEncodings(nQ,eQ)),yield WU(oQ.applySendEncodings(nQ,eQ));const dQ=oQ.remoteSDP.toString(),lQ=oQ.logSDPExchange(gQ,"offer","local","send");return lQ==null||lQ(dQ),yield WU(oQ.setRemoteDescription({type:"answer",sdp:dQ})),nQ.map((uQ,hQ)=>{const BQ=aQ[hQ];return{localSSRC:EQ[hQ],id:BQ}})}catch(nQ){throw nQ instanceof rv?nQ:new rv(nv.EXCHANGE_SDP_FAILED,"P2PConnection.send failed; ".concat(nQ.toString()))}finally{rQ()}})()}async stopSending(eQ,AQ){const iQ=AQ?void 0:await this.mutex.lock("From P2PConnection.stopSending");try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopSending before remote SDP created");const oQ=this.peerConnection.getTransceivers().filter(aQ=>eQ.indexOf(aQ.mid)!==-1);if(oQ.length!==eQ.length)throw new Error("Transceivers' length (".concat(oQ.length,") doesn't match mids' length (").concat(eQ.length,") when trying to call P2PConnection.stopSending."));oQ.map(aQ=>{var cQ;aQ.direction="inactive",(cQ=aQ.stop)===null||cQ===void 0||cQ.call(aQ)});const rQ=await this.peerConnection.createOffer(),nQ=this.logSDPExchange(rQ.sdp||"","offer","local","stopSending");await this.peerConnection.setLocalDescription(rQ),this.remoteSDP.stopReceiving(eQ);const sQ=this.remoteSDP.toString();nQ==null||nQ(sQ),await this.setRemoteDescription({type:"answer",sdp:sQ})}catch(oQ){throw new rv(nv.EXCHANGE_SDP_FAILED,"P2PConnection.stopSending failed; ".concat(oQ.toString()))}finally{iQ&&iQ()}}async receive(eQ,AQ,iQ,oQ){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(eQ," before remoteSDP created."));const{mid:rQ,needExchangeSDP:nQ}=this.remoteSDP.send(eQ,AQ,iQ,oQ);if(nQ){const aQ=this.remoteSDP.toString(),cQ=this.logSDPExchange(aQ,"offer","remote","receive");await this.setRemoteDescription({type:"offer",sdp:aQ});const gQ=await this.peerConnection.createAnswer(),IQ=this.mungReceiveAnswerSDP(gQ.sdp,rQ,eQ);cQ==null||cQ(IQ||""),await this.peerConnection.setLocalDescription({type:"answer",sdp:IQ}),Qy.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(eQ," by exchanging SDP."))}else Qy.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(eQ," no need to exchange SDP."));const sQ=this.peerConnection.getTransceivers().find(aQ=>aQ.mid===rQ);if(!sQ||sQ.mid===null)throw new Error("Cannot get transceiver after setLocalDescription.");return{track:sQ.receiver.track,mid:sQ.mid,transceiver:sQ}}catch(rQ){throw new rv(nv.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(rQ.toString()))}}async mockReceive(eQ,AQ,iQ,oQ){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(eQ," before remoteSDP created."));const{mid:rQ,needExchangeSDP:nQ}=this.remoteSDP.send(eQ,AQ,iQ,oQ);if(nQ){const sQ=this.remoteSDP.toString(),aQ=this.logSDPExchange(sQ,"offer","remote","receive");await this.setRemoteDescription({type:"offer",sdp:sQ});const cQ=await this.peerConnection.createAnswer(),gQ=this.mungReceiveAnswerSDP(cQ.sdp,rQ,eQ);aQ==null||aQ(gQ||""),await this.peerConnection.setLocalDescription({type:"answer",sdp:gQ}),Qy.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(eQ," by exchanging SDP."))}else Qy.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(eQ," no need to exchange SDP."))}catch(rQ){throw new rv(nv.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(rQ.toString()))}}async stopReceiving(eQ){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");this.remoteSDP.stopSending(eQ);const AQ=this.remoteSDP.toString(),iQ=this.logSDPExchange(AQ,"offer","remote","stopReceiving");await this.setRemoteDescription({type:"offer",sdp:AQ});const oQ=await this.peerConnection.createAnswer();iQ==null||iQ(oQ.sdp||""),await this.peerConnection.setLocalDescription(oQ)}catch(AQ){throw new rv(nv.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(AQ.toString()))}}async restartICE(eQ){try{if(this.store.p2pTransport===Ay.Auto&&(this.store.p2pTransport=Ay.SdRtn,MD().supportPCSetConfiguration&&this.peerConnection.setConfiguration(R0.resolvePCConfiguration(this.spec,this.store.p2pTransport))),this.restartCnt>3&&(this.restartCnt=0,MD().supportPCSetConfiguration&&this.peerConnection.setConfiguration(R0.resolvePCConfiguration(this.spec,this.store.p2pTransport,++this.curTurnServerIndex))),!eQ){this.restartCnt++,this.isReady=!1;const AQ=await this.peerConnection.createOffer({iceRestart:!0});if(!AQ.sdp)throw new Error("Cannot restartICE because restart offer SDP does not exist.");const{iceParameters:iQ}=bM(AQ.sdp);return this.store.descriptionStart(),this.direction===fb.SEND_ONLY&&await this.peerConnection.setLocalDescription(AQ),iQ}if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");if(this.remoteSDP.restartICE(eQ),this.store.descriptionStart(),this.direction===fb.RECEIVE_ONLY){this.restartCnt++,await this.setRemoteDescription({type:"offer",sdp:this.remoteSDP.toString()});const AQ=await this.peerConnection.createAnswer();if(!AQ.sdp)throw new Error("Cannot get answer sdp when trying to iceRestart.");const{iceParameters:iQ}=bM(AQ.sdp);return await this.peerConnection.setLocalDescription(AQ),iQ}await this.setRemoteDescription({type:"answer",sdp:this.remoteSDP.toString()}),this.isReady=!0}catch(AQ){throw new rv(nv.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(AQ.toString()))}}close(){var eQ;this.peerConnection.close(),this.peerConnection.onicecandidate=null,(eQ=this.onConnectionStateChange)===null||eQ===void 0||eQ.call(this,"closed"),this.tryUnbindTransportEvents(),this.unbindPCEvents(),this.unbindStatsEvents(),this.transport=void 0,this.statsFilter.destroy()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(eQ){return this.statsFilter.getVideoIsReady(eQ)}async updateEncoderConfig(eQ,AQ){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.updateEncoderConfig before remote SDP created.");const iQ=await this.peerConnection.createOffer(),oQ=this.mungSendOfferSDP(iQ.sdp,[AQ],[eQ]);this.remoteSDP.updateRecvMedia(eQ,AQ);const rQ=this.remoteSDP.toString(),nQ=this.logSDPExchange(oQ,"offer","local","updateEncoderConfig");await this.peerConnection.setLocalDescription({type:"offer",sdp:oQ}),nQ==null||nQ(rQ),await this.peerConnection.setRemoteDescription({type:"answer",sdp:rQ})}catch(iQ){throw new rv(nv.EXCHANGE_SDP_FAILED,iQ.toString())}}async updateSendParameters(eQ,AQ){const iQ=this.peerConnection.getTransceivers().filter(oQ=>oQ.mid===eQ);iQ.length===1&&(this.isVP8Simulcast(AQ)?kI()||await this.applySimulcastEncodings(iQ,[AQ]):await this.applySendEncodings(iQ,[AQ]))}setStatsRemoteVideoIsReady(eQ,AQ){this.statsFilter.setVideoIsReady2(eQ,AQ)}async replaceTrack(eQ,AQ){const iQ=this.peerConnection.getTransceivers().find(oQ=>oQ.mid===AQ);iQ&&await iQ.sender.replaceTrack(eQ._mediaStreamTrack)}async getSelectedCandidatePair(){const eQ=this.peerConnection.getReceivers();if(eQ.length>0&&eQ[0].transport&&eQ[0].transport.iceTransport&&eQ[0].transport.iceTransport.getSelectedCandidatePair&&eQ[0].transport.iceTransport.getSelectedCandidatePair()){const AQ=eQ[0].transport.iceTransport,{local:iQ,remote:oQ}=AQ.getSelectedCandidatePair();return{local:Ux(Ux({},Ex),{},{candidateType:iQ.type,protocol:iQ.protocol,address:iQ.address,port:iQ.port}),remote:Ux(Ux({},Ex),{},{candidateType:oQ.type,protocol:oQ.protocol,address:oQ.address,port:oQ.port})}}return this.statsFilter.getSelectedCandidatePair()}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var eQ,AQ;Dn(eQ=["connected","completed"]).call(eQ,this.peerConnection.iceConnectionState)&&(this.isReady=!1),(AQ=this.onICEConnectionStateChange)===null||AQ===void 0||AQ.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var eQ;this.peerConnection.connectionState==="connected"&&(this.restartCnt=0),(eQ=this.onConnectionStateChange)===null||eQ===void 0||eQ.call(this,this.peerConnection.connectionState)},this.startICECandidate()}startICECandidate(){this.peerConnection.onicecandidate||(this.localCandidateCount=0,this.peerConnection.onicecandidate=eQ=>{if(eQ.candidate){var AQ;eQ.candidate.candidate&&((AQ=this.onLocalCandidate)===null||AQ===void 0||AQ.call(this,eQ.candidate.toJSON())),this.localCandidateCount+=1}else Qy.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] local candidate count"),this.localCandidateCount)})}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(eQ,AQ){let iQ=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;const oQ={iceServers:[]};var rQ;return eQ.iceServers?oQ.iceServers=eQ.iceServers:eQ.turnServer&&eQ.turnServer.mode!=="off"&&(bv(eQ.turnServer.servers)?oQ.iceServers=eQ.turnServer.servers:(oQ.iceServers&&oQ.iceServers.push(...R0.turnServerConfigToIceServers(eQ.turnServer.servers,AQ,iQ)),Dy("USE_TURN_SERVER_OF_GATEWAY")&&oQ.iceServers&&eQ.turnServer.serversFromGateway&&oQ.iceServers.push(...R0.turnServerConfigToIceServers(eQ.turnServer.serversFromGateway,AQ,iQ)),Dn(rQ=[Ay.Relay,Ay.SdRtn]).call(rQ,AQ)&&(oQ.iceTransportPolicy="relay"),Dy("FORCE_TURN_TCP")?oQ.iceTransportPolicy="relay":eQ.turnServer.servers.concat(eQ.turnServer.serversFromGateway||[]).forEach(nQ=>{nQ.forceturn&&(oQ.iceTransportPolicy="relay")}))),Dy("ENABLE_ENCODED_TRANSFORM")&&MD().supportWebRTCEncodedTransform&&(oQ.encodedInsertableStreams=!0),Qy.debug("P2PConnection p2pTransport is ".concat(AQ)),oQ}static turnServerConfigToIceServers(eQ,AQ){let iQ=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;const oQ=[],rQ=eQ.filter(sQ=>sQ.tcpport);Qy.debug("P2PConnection turnServers is ".concat(rQ,", current index is ").concat(iQ));const nQ=rQ.length>iQ?rQ[iQ]:rQ[0];switch(AQ){case Ay.SdRtn:const sQ=eQ.filter(cQ=>{var gQ;return Dn(gQ=cQ.username).call(gQ,"glb:")&&cQ.turnServerURL==cQ.turnServerURL}),aQ=sQ.length>iQ?sQ[iQ]:sQ[0];aQ&&(oQ.push({username:aQ.username,credential:aQ.password,credentialType:"password",urls:"turn:".concat(Pw(aQ.turnServerURL),":").concat(aQ.tcpport,"?transport=udp")}),oQ.push({username:aQ.username,credential:aQ.password,credentialType:"password",urls:"turns:".concat(Pw(aQ.turnServerURL),":").concat(aQ.tcpport,"?transport=tcp")}));break;case Ay.Relay:nQ&&(oQ.push({username:nQ.username,credential:nQ.password,credentialType:"password",urls:"turn:".concat(nQ.turnServerURL,":").concat(nQ.tcpport,"?transport=udp")}),oQ.push({username:nQ.username,credential:nQ.password,credentialType:"password",urls:"turns:".concat(Pw(nQ.turnServerURL),":").concat(nQ.tcpport,"?transport=tcp")}));break;default:nQ&&(oQ.push({username:nQ.username,credential:nQ.password,credentialType:"password",urls:"turn:".concat(nQ.turnServerURL,":").concat(nQ.tcpport,"?transport=udp")}),oQ.push({username:nQ.username,credential:nQ.password,credentialType:"password",urls:"turns:".concat(Pw(nQ.turnServerURL),":").concat(nQ.tcpport,"?transport=tcp")}),oQ.push({username:nQ.username,credential:nQ.password,credentialType:"password",urls:"stun:".concat(nQ.turnServerURL,":").concat(nQ.tcpport)}))}return oQ}tryBindTransportEvents(eQ){if(eQ){this.transport=eQ,eQ.onstatechange=()=>{var iQ;eQ!=null&&eQ.state&&((iQ=this.onDTLSTransportStateChange)===null||iQ===void 0||iQ.call(this,eQ.state))},eQ.onerror=iQ=>{var oQ;(oQ=this.onDTLSTransportError)===null||oQ===void 0||oQ.call(this,"error"in iQ?iQ.error:iQ)};const AQ=eQ.iceTransport;AQ&&(AQ.onstatechange=()=>{const iQ=eQ==null?void 0:eQ.iceTransport.state;var oQ;iQ&&((oQ=this.onICETransportStateChange)===null||oQ===void 0||oQ.call(this,iQ))},AQ.getSelectedCandidatePair&&(AQ.onselectedcandidatepairchange=()=>{if(AQ.getSelectedCandidatePair()){const{local:iQ,remote:oQ}=AQ.getSelectedCandidatePair();Qy.info("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] selectedcandidatepairchange: local ").concat(JSON.stringify({candidateType:iQ.type,protocol:iQ.protocol}),", remote ").concat(JSON.stringify({candidateType:oQ.type,protocol:oQ.protocol,address:oQ.address,port:oQ.port})," )"))}}))}}tryUnbindTransportEvents(){this.transport&&(this.transport.onstatechange=null,this.transport.onerror=null,this.transport.iceTransport&&(this.transport.iceTransport.onstatechange=null))}async updateRtpSenderEncodings(eQ,AQ){var iQ;if(AQ||(AQ=this.peerConnection.getSenders().find(gQ=>gQ.track===eQ._mediaStreamTrack)),!AQ)return Qy.warn("[".concat(eQ.getTrackId(),"] no rtpSender found}"));if(this.isVP8Simulcast(eQ))return Qy.warn("[updateRtpSenderEncodings] Track is VP8 simulcast, please apply simulcast encodings");if(!MD().supportSetRtpSenderParameters)return Qy.warn("[updateRtpSenderEncodings] Browser not support set rtp-sender parameters");const oQ={},rQ={};switch(eQ._optimizationMode){case"motion":oQ.degradationPreference="maintain-framerate";break;case"detail":oQ.degradationPreference="maintain-resolution";break;default:oQ.degradationPreference="balanced"}if(eQ._encoderConfig){var nQ;const{bitrateMax:gQ,frameRate:IQ,scaleResolutionDownBy:EQ}=eQ._encoderConfig;gQ&&(rQ.maxBitrate=1e3*gQ),Dn(nQ=eQ._hints).call(nQ,eP.LOW_STREAM)&&(IQ&&(rQ.maxFramerate=kw(IQ)),EQ&&EQ>=1&&(rQ.scaleResolutionDownBy=EQ))}if(Dy("DSCP_TYPE")&&QI()){var sQ;const gQ=Dy("DSCP_TYPE");Dn(sQ=["very-low","low","medium","high"]).call(sQ,gQ)&&(rQ.networkPriority=gQ)}const aQ=AQ.getParameters(),cQ=(iQ=aQ.encodings)===null||iQ===void 0?void 0:iQ[0];kI()&&!cQ&&(oQ.encodings=[rQ]),cQ&&Object.assign(cQ,rQ),Object.assign(aQ,oQ),Qy.debug("[".concat(eQ.getTrackId(),"] updateRtpSenderEncodings: ").concat(JSON.stringify(aQ.encodings))),await AQ.setParameters(aQ)}async applySendEncodings(eQ,AQ){try{if(!MD().supportSetRtpSenderParameters||eQ.length!==AQ.length)return;for(let iQ=0;iQ<eQ.length;iQ++){const oQ=eQ[iQ],rQ=AQ[iQ];rQ instanceof Hk&&!this.isVP8Simulcast(rQ)&&await this.updateRtpSenderEncodings(rQ,oQ.sender)}}catch{Qy.debug("[".concat(this.store.clientId,"] Apply RTPSendEncodings failed."))}}mungSendOfferSDP(eQ,AQ,iQ){const oQ=CM.parse(eQ);return AQ.forEach((rQ,nQ)=>{const sQ=iQ[nQ],aQ=oQ.mediaDescriptions.find(cQ=>cQ.attributes.mid===sQ);aQ&&(PM(aQ,rQ),xM(aQ,rQ,this.store.codec))}),CM.print(oQ)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=eQ=>{var AQ;(AQ=this.onFirstAudioReceived)===null||AQ===void 0||AQ.call(this,eQ)},this.statsFilter.onFirstVideoReceived=eQ=>{var AQ;(AQ=this.onFirstVideoReceived)===null||AQ===void 0||AQ.call(this,eQ)},this.statsFilter.onFirstAudioDecoded=eQ=>{var AQ;(AQ=this.onFirstAudioDecoded)===null||AQ===void 0||AQ.call(this,eQ)},this.statsFilter.onFirstVideoDecoded=(eQ,AQ,iQ)=>{var oQ;(oQ=this.onFirstVideoDecoded)===null||oQ===void 0||oQ.call(this,eQ,AQ,iQ)},this.statsFilter.onSelectedLocalCandidateChanged=(eQ,AQ)=>{var iQ;(iQ=this.onSelectedLocalCandidateChanged)===null||iQ===void 0||iQ.call(this,eQ,AQ)},this.statsFilter.onSelectedRemoteCandidateChanged=(eQ,AQ)=>{var iQ;(iQ=this.onSelectedRemoteCandidateChanged)===null||iQ===void 0||iQ.call(this,eQ,AQ)},this.statsFilter.onFirstVideoDecodedTimeout=eQ=>{var AQ;(AQ=this.onFirstVideoDecodedTimeout)===null||AQ===void 0||AQ.call(this,eQ)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}async applySimulcastForFirefox(eQ,AQ){if(eQ.length===AQ.length)for(let aQ=0;aQ<eQ.length;aQ++){var iQ,oQ,rQ,nQ,sQ;const cQ=eQ[aQ],gQ=AQ[aQ];if(gQ instanceof Hk&&!Dn(iQ=gQ._hints).call(iQ,eP.LOW_STREAM)&&(oQ=gQ._encoderConfig)!==null&&oQ!==void 0&&oQ.bitrateMax&&((rQ=gQ._encoderConfig)===null||rQ===void 0?void 0:rQ.bitrateMax)>200&&(nQ=gQ._scalabilityMode)!==null&&nQ!==void 0&&nQ.numSpatialLayers&&((sQ=gQ._scalabilityMode)===null||sQ===void 0?void 0:sQ.numSpatialLayers)>1&&this.store.codec==="vp8"){const IQ={},EQ={high:1e3*(gQ._encoderConfig.bitrateMax-50),medium:5e4};IQ.encodings=[{rid:"m",active:!0,maxBitrate:EQ.medium,scaleResolutionDownBy:4},{rid:"h",active:!0,maxBitrate:EQ.high}];const CQ=cQ.sender.getParameters();await cQ.sender.setParameters(Object.assign(CQ,IQ))}}}async applySimulcastEncodings(eQ,AQ){if(!kI()&&eQ.length===AQ.length)for(let iQ=0;iQ<eQ.length;iQ++){const oQ=AQ[iQ];if(oQ instanceof Hk&&this.isVP8Simulcast(oQ)){const rQ=eQ[iQ],nQ={},sQ={high:1e3*(oQ._encoderConfig.bitrateMax-50),medium:5e4};nQ.encodings=[{active:!0,adaptivePtime:!1,networkPriority:"high",priority:"high",maxBitrate:sQ.high},{active:!0,adaptivePtime:!1,networkPriority:"low",priority:"low",maxBitrate:sQ.medium,scaleResolutionDownBy:4}];const aQ=rQ.sender.getParameters();await rQ.sender.setParameters(Object.assign(aQ,nQ))}}}isVP8Simulcast(eQ){var AQ,iQ,oQ,rQ,nQ;return!!(eQ instanceof Hk&&Dy("SIMULCAST")&&this.store.codec==="vp8"&&!Dn(AQ=eQ._hints).call(AQ,eP.LOW_STREAM)&&(iQ=eQ._encoderConfig)!==null&&iQ!==void 0&&iQ.bitrateMax&&((oQ=eQ._encoderConfig)===null||oQ===void 0?void 0:oQ.bitrateMax)>200&&(rQ=eQ._scalabilityMode)!==null&&rQ!==void 0&&rQ.numSpatialLayers&&((nQ=eQ._scalabilityMode)===null||nQ===void 0?void 0:nQ.numSpatialLayers)>1)}logSDPExchange(eQ,AQ,iQ,oQ){if(Dy("SDP_LOGGING"))return Qy.upload("[".concat(this.store.clientId,"] exchanging ").concat(iQ," ").concat(AQ," SDP during P2PConnection.").concat(oQ,`
`),eQ),AQ==="offer"?rQ=>{this.logSDPExchange(rQ,"answer",iQ==="local"?"remote":"local",oQ)}:void 0}async muteLocal(eQ){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteLocal before remote SDP created.");const AQ=this.peerConnection.getTransceivers().filter(nQ=>nQ.mid&&eQ.indexOf(nQ.mid)!==-1);if(AQ.length!==eQ.length)throw new Error("Transceivers' length doesn't match mids' length.");AQ.map(nQ=>{nQ.direction="inactive"});const iQ=await this.peerConnection.createOffer(),oQ=this.logSDPExchange(iQ.sdp||"","offer","local","muteLocal");await this.peerConnection.setLocalDescription(iQ),this.remoteSDP.muteRemote(eQ);const rQ=this.remoteSDP.toString();oQ==null||oQ(rQ),await this.setRemoteDescription({type:"answer",sdp:rQ})}catch(AQ){throw new rv(nv.EXCHANGE_SDP_FAILED,"P2PConnection.muteLocal failed; ".concat(AQ.toString()))}}async unmuteLocal(eQ){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteLocal before remote SDP created.");const AQ=this.peerConnection.getTransceivers().filter(nQ=>nQ.mid&&eQ.indexOf(nQ.mid)!==-1);if(AQ.length!==eQ.length)throw new Error("Transceivers' length doesn't match mids' length.");AQ.map(async nQ=>{nQ.direction="sendonly"});const iQ=await this.peerConnection.createOffer(),oQ=this.logSDPExchange(iQ.sdp||"","offer","local","unmuteLocal");await this.peerConnection.setLocalDescription(iQ),this.remoteSDP.unmuteRemote(eQ);const rQ=this.remoteSDP.toString();oQ==null||oQ(rQ),await this.setRemoteDescription({type:"answer",sdp:rQ})}catch(AQ){throw new rv(nv.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteLocal failed; ".concat(AQ.toString()))}}async getRemoteSSRC(eQ,AQ){var iQ,oQ;if(AQ=(iQ=AQ)!==null&&iQ!==void 0?iQ:(oQ=this.currentRemoteDescription)===null||oQ===void 0?void 0:oQ.sdp){var rQ;const nQ=(rQ=CM.parse(AQ).mediaDescriptions.find(sQ=>sQ.attributes.mid===eQ))===null||rQ===void 0?void 0:rQ.attributes.ssrcs;return nQ==null?void 0:nQ[0].ssrcId}}async setRemoteDescription(eQ){var AQ;await this.peerConnection.setRemoteDescription(eQ),Dn(AQ=["connected","completed"]).call(AQ,this.peerConnection.iceConnectionState)||(this.isReady=!0,this.addRemoteCandidate())}mungReceiveAnswerSDP(eQ,AQ,iQ){const oQ=CM.parse(eQ),rQ=oQ.mediaDescriptions.find(nQ=>nQ.attributes.mid===AQ);return rQ&&iQ===Yb.AUDIO&&rQ.media.mediaType==="audio"&&GM(rQ),CM.print(oQ)}},rb(kx.prototype,"establish",[Vx],Object.getOwnPropertyDescriptor(kx.prototype,"establish"),kx.prototype),rb(kx.prototype,"connect",[Vx],Object.getOwnPropertyDescriptor(kx.prototype,"connect"),kx.prototype),rb(kx.prototype,"receive",[Vx],Object.getOwnPropertyDescriptor(kx.prototype,"receive"),kx.prototype),rb(kx.prototype,"mockReceive",[Vx],Object.getOwnPropertyDescriptor(kx.prototype,"mockReceive"),kx.prototype),rb(kx.prototype,"stopReceiving",[Vx],Object.getOwnPropertyDescriptor(kx.prototype,"stopReceiving"),kx.prototype),rb(kx.prototype,"restartICE",[Vx],Object.getOwnPropertyDescriptor(kx.prototype,"restartICE"),kx.prototype),rb(kx.prototype,"close",[Vx],Object.getOwnPropertyDescriptor(kx.prototype,"close"),kx.prototype),rb(kx.prototype,"updateEncoderConfig",[Vx],Object.getOwnPropertyDescriptor(kx.prototype,"updateEncoderConfig"),kx.prototype),rb(kx.prototype,"updateSendParameters",[Vx],Object.getOwnPropertyDescriptor(kx.prototype,"updateSendParameters"),kx.prototype),rb(kx.prototype,"replaceTrack",[Vx],Object.getOwnPropertyDescriptor(kx.prototype,"replaceTrack"),kx.prototype),rb(kx.prototype,"muteLocal",[Vx],Object.getOwnPropertyDescriptor(kx.prototype,"muteLocal"),kx.prototype),rb(kx.prototype,"unmuteLocal",[Vx],Object.getOwnPropertyDescriptor(kx.prototype,"unmuteLocal"),kx.prototype),kx);function Vx(tQ,eQ,AQ){const iQ=tQ[eQ];if(typeof iQ!="function")throw new Error("Cannot use mutex on object property.");return AQ.value=async function(){const oQ=this.mutex,rQ=await oQ.lock("From P2PConnection.".concat(eQ));try{for(var nQ=arguments.length,sQ=new Array(nQ),aQ=0;aQ<nQ;aQ++)sQ[aQ]=arguments[aQ];return await iQ.apply(this,sQ)}finally{rQ()}},AQ}function Fx(tQ,eQ){let AQ=document.createElement("video"),iQ=document.createElement("canvas");AQ.setAttribute("style","display:none"),iQ.setAttribute("style","display:none"),AQ.setAttribute("muted",""),AQ.muted=!0,AQ.setAttribute("autoplay",""),AQ.autoplay=!0,AQ.setAttribute("playsinline",""),iQ.width=kw(eQ.width),iQ.height=kw(eQ.height);const oQ=kw(eQ.framerate||15);document.body.append(AQ),document.body.append(iQ);let rQ=tQ._mediaStreamTrack;AQ.srcObject=new MediaStream([rQ]),AQ.play();const nQ=iQ.getContext("2d");if(!nQ)throw new Sb(nv.UNEXPECTED_ERROR,"can not get canvas context");const sQ=MD(),aQ=iQ.captureStream(sQ.supportRequestFrame?0:oQ).getVideoTracks()[0];aQ.canvas||(aQ.canvas=iQ),iQ.startCapture=()=>{if(!AQ)return iQ.stopCapture&&iQ.stopCapture();if(AQ.paused&&AQ.play(),AQ.videoHeight>2&&AQ.videoWidth>2){const gQ=AQ.videoWidth,IQ=AQ.videoHeight/gQ,EQ=iQ.width*IQ;Math.abs(EQ-iQ.height)>=2&&(Qy.debug("adjust low stream resolution","".concat(iQ.width,"x").concat(iQ.height," -> ").concat(iQ.width,"x").concat(EQ)),iQ.height=EQ)}nQ.drawImage(AQ,0,0,iQ.width,iQ.height),aQ.requestFrame&&aQ.requestFrame(),rQ!==tQ._mediaStreamTrack&&(rQ=tQ._mediaStreamTrack,AQ.srcObject=new MediaStream([rQ]))},iQ.stopCapture=kP(()=>iQ.startCapture&&iQ.startCapture(),oQ);const cQ=aQ.stop;return aQ.stop=()=>{cQ.call(aQ),AQ&&(AQ.remove(),AQ.srcObject=null,AQ=null),iQ&&(iQ.width=0,iQ.remove(),iQ.stopCapture&&iQ.stopCapture(),iQ.startCapture=void 0,iQ.stopCapture=void 0,iQ=null),Qy.debug("clean low stream renderer")},aQ}var Bx=function(tQ){return tQ[tQ.HEIGHT=2033]="HEIGHT",tQ[tQ.FRAME_RATE=2034]="FRAME_RATE",tQ[tQ.WIDTH=2035]="WIDTH",tQ}(Bx||{}),jx=function(tQ){return tQ[tQ.FRAME_RATE=2002]="FRAME_RATE",tQ[tQ.WIDTH=2003]="WIDTH",tQ[tQ.HEIGHT=2004]="HEIGHT",tQ[tQ.PACKAGE_LOST=2005]="PACKAGE_LOST",tQ[tQ.AVG_ENCODE=2007]="AVG_ENCODE",tQ[tQ.NACKS=2009]="NACKS",tQ[tQ.PLIS=2010]="PLIS",tQ[tQ.FIRS=2011]="FIRS",tQ[tQ.BITRATE=2012]="BITRATE",tQ[tQ.PACKAGE_RATE=2031]="PACKAGE_RATE",tQ[tQ.ADAPTATION=2032]="ADAPTATION",tQ[tQ.ACTUAL_ENCODED=2060]="ACTUAL_ENCODED",tQ[tQ.BANDWIDTH=2061]="BANDWIDTH",tQ[tQ.RETRANSMIT=2062]="RETRANSMIT",tQ[tQ.TARGET_ENCODED=2064]="TARGET_ENCODED",tQ[tQ.TRANSMIT=2066]="TRANSMIT",tQ[tQ.FREEZE=2082]="FREEZE",tQ[tQ.DISABLED=2095]="DISABLED",tQ[tQ.PLAYER_STATUS=2128]="PLAYER_STATUS",tQ[tQ.QP_SUM=2143]="QP_SUM",tQ}(jx||{}),Gx=function(tQ){return tQ[tQ.BITRATE=2069]="BITRATE",tQ[tQ.PACKAGE_LOST=2070]="PACKAGE_LOST",tQ[tQ.PACKAGE_RATE=2071]="PACKAGE_RATE",tQ[tQ.HEIGHT=2073]="HEIGHT",tQ[tQ.FRAME_RATE=2075]="FRAME_RATE",tQ[tQ.WIDTH=2077]="WIDTH",tQ}(Gx||{}),Wx=function(tQ){return tQ[tQ.JITTER=-1]="JITTER",tQ[tQ.PACKAGE_LOST=2014]="PACKAGE_LOST",tQ[tQ.WIDTH=2018]="WIDTH",tQ[tQ.HEIGHT=2019]="HEIGHT",tQ[tQ.FRAME_RATE=2020]="FRAME_RATE",tQ[tQ.JITTER_BUFFER=2023]="JITTER_BUFFER",tQ[tQ.CURRENT_DELAY=2024]="CURRENT_DELAY",tQ[tQ.NACKS=2026]="NACKS",tQ[tQ.PLIS=2027]="PLIS",tQ[tQ.FIRS=2028]="FIRS",tQ[tQ.BITRATE=2029]="BITRATE",tQ[tQ.PACKAGE_RATE=2078]="PACKAGE_RATE",tQ[tQ.FREEZE=2084]="FREEZE",tQ[tQ.DISABLED=2101]="DISABLED",tQ[tQ.PLAYER_STATUS=2129]="PLAYER_STATUS",tQ[tQ.QP_SUM=2144]="QP_SUM",tQ[tQ.I_FRAME_DELAY=2149]="I_FRAME_DELAY",tQ}(Wx||{}),Hx=function(tQ){return tQ[tQ.FRAME_RATE_DECODE=2021]="FRAME_RATE_DECODE",tQ[tQ.FRAME_RATE_RENDER=2022]="FRAME_RATE_RENDER",tQ[tQ.FRAME_RATE_OUTPUT=2155]="FRAME_RATE_OUTPUT",tQ[tQ.FREEZE_TIME=2109]="FREEZE_TIME",tQ[tQ.FREEZE_TIME_RENDER=2147]="FREEZE_TIME_RENDER",tQ[tQ.FREEZE_DURATION=2156]="FREEZE_DURATION",tQ}(Hx||{}),Kx=function(tQ){return tQ[tQ.PCM_LEVEL=2104]="PCM_LEVEL",tQ}(Kx||{}),Yx=function(tQ){return tQ[tQ.PACKAGE_LOST=-1]="PACKAGE_LOST",tQ[tQ.LEVEL=2038]="LEVEL",tQ[tQ.BITRATE=2039]="BITRATE",tQ[tQ.PACKAGE_RATE=2040]="PACKAGE_RATE",tQ[tQ.AEC_RETURN_LOSS=2041]="AEC_RETURN_LOSS",tQ[tQ.AEC_RETURN_LOSS_ENH=2042]="AEC_RETURN_LOSS_ENH",tQ[tQ.FREEZE=2081]="FREEZE",tQ[tQ.DISABLED=2096]="DISABLED",tQ}(Yx||{}),qx=function(tQ){return tQ[tQ.BITRATE=2044]="BITRATE",tQ[tQ.PACKAGE_LOST=2045]="PACKAGE_LOST",tQ[tQ.PACKAGE_RATE=2046]="PACKAGE_RATE",tQ[tQ.CURRENT_DELAY=2047]="CURRENT_DELAY",tQ[tQ.JITTER_BUFFER=2054]="JITTER_BUFFER",tQ[tQ.JITTER=2055]="JITTER",tQ[tQ.FREEZE=2083]="FREEZE",tQ[tQ.DISABLED=2102]="DISABLED",tQ[tQ.PCM_LEVEL=2105]="PCM_LEVEL",tQ[tQ.PLAYER_STATUS=2130]="PLAYER_STATUS",tQ[tQ.CONCEALED_SAMPLES=2148]="CONCEALED_SAMPLES",tQ}(qx||{}),zx=function(tQ){return tQ[tQ.FREEZE_TIME=-1]="FREEZE_TIME",tQ[tQ.LEVEL=2043]="LEVEL",tQ}(zx||{}),Jx=function(tQ){return tQ[tQ.RTT=2006]="RTT",tQ[tQ.CONN_TYPE=801]="CONN_TYPE",tQ}(Jx||{});const Xx=1e3,Qx=3;function Zx(tQ,eQ,AQ){AQ!=null&&Number.isFinite(AQ)&&(tQ[eQ]=Math.round(Math.max(0,AQ)))}function $x(tQ){const eQ={[Jx.CONN_TYPE]:0,[Jx.RTT]:tQ.rtt};switch(tQ.selectedCandidatePair.localCandidate.candidateType){case"relay":{const AQ=tQ.selectedCandidatePair.localCandidate.relayProtocol;AQ==="udp"&&(eQ[Jx.CONN_TYPE]=1),AQ==="tcp"&&(eQ[Jx.CONN_TYPE]=3),AQ==="tls"&&(eQ[Jx.CONN_TYPE]=4);break}case"srflx":eQ[Jx.CONN_TYPE]=2}return eQ}function eV(tQ){let eQ=0;switch(tQ){case"none":eQ=0;break;case"cpu":eQ=1;break;case"bandwidth":eQ=2;break;case"other":eQ=3}return eQ}class tV extends Sv{constructor(eQ){super(),og(this,"store",void 0),og(this,"uploadWRTCStatsTimer",void 0),og(this,"uploadOutboundDenoiserStatsTimer",void 0),og(this,"uploadExtStatsTimer",void 0),og(this,"uploadExtUsageStatsTimer",void 0),og(this,"uploadInboundExtStatsTimer",void 0),og(this,"requestStats",void 0),og(this,"requestTransportStats",void 0),og(this,"requestLocalMedia",void 0),og(this,"requestRemoteMedia",void 0),og(this,"requestAllTracks",void 0),og(this,"requestVideoIsReady",void 0),og(this,"requestUploadStats",void 0),og(this,"requestUpload",void 0),og(this,"uploadOutboundStarted",!1),og(this,"uploadInboundStarted",!1),og(this,"uploadTransportStarted",!1),og(this,"uploadExtensionUsageStarted",!1),og(this,"lastRecvStats",void 0),og(this,"lastSendStats",void 0),og(this,"lastFullRecvStats",void 0),og(this,"lastFullSendStats",void 0),og(this,"needUploadRenderFreezeTime",!0),this.store=eQ}uploadWRTCStats(eQ){if(!this.requestStats||!this.requestUploadStats)return;let AQ,iQ;if(this.uploadTransportStarted&&(AQ=this.requestStats(),this.store.useP2P&&(iQ=this.requestStats(!0))),!AQ&&this.uploadOutboundStarted&&(AQ=this.requestStats()),!iQ&&this.uploadInboundStarted&&(iQ=this.requestStats(!0)),AQ||iQ){const oQ={};if(this.uploadTransportStarted&&AQ){const rQ=this.getTransportStats(AQ,iQ,eQ);rQ&&(oQ.misc=[rQ])}if(this.uploadOutboundStarted&&AQ){const rQ=this.getOutboundStats(AQ,eQ?this.lastSendStats:this.lastFullSendStats,eQ);rQ&&(oQ.outbound=[rQ])}if(this.uploadInboundStarted&&iQ){const rQ=this.getInboundStats(iQ,eQ?this.lastRecvStats:this.lastFullRecvStats,eQ);rQ&&(oQ.inbound=rQ)}this.requestUploadStats(oQ)}this.lastRecvStats=iQ,this.lastSendStats=AQ,eQ||(this.lastFullRecvStats=iQ,this.lastFullSendStats=AQ)}startUploadWRTCStats(){if(this.uploadWRTCStatsTimer)return;let eQ=1;this.uploadWRTCStatsTimer=window.setInterval(()=>{if(!this.uploadTransportStarted&&!this.uploadInboundStarted&&!this.uploadOutboundStarted)return this.stopUploadWRTCStats();this.uploadWRTCStats(eQ!==Qx),++eQ===Qx+1&&(eQ=1)},Xx)}stopUploadWRTCStats(){window.clearInterval(this.uploadWRTCStatsTimer),this.uploadWRTCStatsTimer=void 0,this.lastSendStats&&(this.lastSendStats.videoSend=[],this.lastSendStats.audioSend=[],this.lastSendStats=void 0),this.lastRecvStats&&(this.lastRecvStats.videoRecv=[],this.lastRecvStats.audioRecv=[],this.lastRecvStats=void 0)}getTransportStats(eQ,AQ,iQ){if(!this.requestStats)return;if(iQ)return eQ.rtt==null?void 0:{addition:{[Jx.RTT]:eQ.rtt,[Jx.CONN_TYPE]:void 0}};const oQ=$x(eQ);if(this.store.useP2P){if(AQ){const rQ=$x(AQ);oQ[Jx.CONN_TYPE]+=rQ[Jx.CONN_TYPE]<<3}oQ[Jx.CONN_TYPE]+=110}else oQ[Jx.CONN_TYPE]+=100;return{addition:oQ}}getOutboundStats(eQ,AQ,iQ){if(!this.requestUploadStats||!this.requestLocalMedia)return;const oQ=this.requestLocalMedia();if(!oQ||oQ.length===0)return;let rQ,nQ,sQ;return oQ.forEach(aQ=>{let[cQ,{track:gQ,ssrcs:IQ}]=aQ;switch(cQ){case Jb.LocalVideoLowTrack:case Jb.LocalVideoTrack:if(cQ===Jb.LocalVideoTrack){const EQ=function(lQ,uQ,hQ,BQ,QQ){const fQ=uQ.videoSend.find(UQ=>UQ.ssrc===lQ);if(!fQ)return;const _Q={},{sentFrame:RQ,inputFrame:wQ}=fQ;if(wQ&&RQ){const UQ=wQ.frameRate,PQ=RQ.frameRate;_Q[jx.FREEZE]=function(OQ,YQ){let SQ=!0;return SQ=!(OQ<=5)&&(OQ<=10?YQ<3:OQ<=20?YQ<4:YQ<5),SQ}(UQ,PQ)?1:0}if(Zx(_Q,jx.QP_SUM,fQ.qpSumPerFrame),QQ)return _Q;switch(RQ&&(Zx(_Q,jx.HEIGHT,RQ.height),Zx(_Q,jx.WIDTH,RQ.width),Zx(_Q,jx.FRAME_RATE,RQ.frameRate)),_Q[jx.DISABLED]=BQ._originMediaStreamTrack&&!BQ._originMediaStreamTrack.enabled||BQ._mediaStreamTrack&&!BQ._mediaStreamTrack.enabled?1:0,fQ.adaptionChangeReason){case"none":_Q[jx.ADAPTATION]=0;break;case"cpu":_Q[jx.ADAPTATION]=1;break;case"bandwidth":_Q[jx.ADAPTATION]=2;break;case"other":_Q[jx.ADAPTATION]=3}let bQ=0;fQ.adaptionChangeReason&&(bQ+=eV(fQ.adaptionChangeReason)),uQ.qualityLimitationReason&&(bQ+=eV(uQ.qualityLimitationReason)<<3),_Q[jx.ADAPTATION]=bQ,_Q[jx.PLAYER_STATUS]=gP[BQ._player?BQ._player.videoElementStatus:"uninit"],Zx(_Q,jx.NACKS,fQ.nacksCount),Zx(_Q,jx.PLIS,fQ.plisCount),Zx(_Q,jx.FIRS,fQ.firsCount),Zx(_Q,jx.AVG_ENCODE,fQ.avgEncodeMs);const NQ=hQ&&hQ.videoSend.find(UQ=>UQ.ssrc===lQ);if(NQ){let UQ=QQ?Xx:Xx*Qx;NQ.timestamp&&fQ.timestamp&&(UQ=fQ.timestamp-NQ.timestamp),NQ.packets!=null&&fQ.packets!=null&&Zx(_Q,jx.PACKAGE_RATE,1e3*(fQ.packets-NQ.packets)/UQ),fQ.packetsLost!=null&&NQ.packetsLost!=null&&Zx(_Q,jx.PACKAGE_LOST,fQ.packetsLost-NQ.packetsLost),NQ.bytes!=null&&fQ.bytes!=null&&Zx(_Q,jx.BITRATE,8*(fQ.bytes-NQ.bytes)/UQ)}return _Q}(IQ[0].ssrcId,eQ,AQ,gQ,iQ),CQ=iQ?null:function(lQ,uQ,hQ){const BQ=uQ.videoSend.find(bQ=>bQ.ssrc===lQ);if(!BQ)return null;const QQ={},fQ=BQ.inputFrame,_Q=fQ&&fQ.height||hQ&&hQ.videoHeight||0,RQ=fQ&&fQ.width||hQ&&hQ.videoWidth||0,wQ=fQ&&fQ.frameRate||0;return Zx(QQ,Bx.HEIGHT,_Q),Zx(QQ,Bx.WIDTH,RQ),Zx(QQ,Bx.FRAME_RATE,wQ),QQ}(IQ[0].ssrcId,eQ,gQ),dQ=iQ?null:function(lQ){const uQ={};return Zx(uQ,jx.RETRANSMIT,lQ.bitrate.retransmit),Zx(uQ,jx.TARGET_ENCODED,lQ.bitrate.targetEncoded),Zx(uQ,jx.ACTUAL_ENCODED,lQ.bitrate.actualEncoded),Zx(uQ,jx.TRANSMIT,lQ.bitrate.transmit),Zx(uQ,jx.BANDWIDTH,lQ.sendBandwidth),uQ}(eQ);nQ=Object.assign({},EQ,CQ,dQ)}else sQ=iQ?void 0:function(EQ,CQ,dQ){const lQ=CQ.videoSend.find(BQ=>BQ.ssrc===EQ);if(!lQ)return;const uQ={},hQ=lQ.sentFrame;if(hQ&&(Zx(uQ,Gx.HEIGHT,hQ.height),Zx(uQ,Gx.WIDTH,hQ.width),Zx(uQ,Gx.FRAME_RATE,hQ.frameRate)),dQ){const BQ=dQ.videoSend.find(QQ=>QQ.ssrc===EQ);if(BQ){let QQ=Xx*Qx;BQ.timestamp&&lQ.timestamp&&(QQ=lQ.timestamp-BQ.timestamp),BQ.packets!=null&&lQ.packets!=null&&Zx(uQ,Gx.PACKAGE_RATE,1e3*(lQ.packets-BQ.packets)/QQ),lQ.packetsLost!=null&&BQ.packetsLost!=null&&Zx(uQ,Gx.PACKAGE_LOST,lQ.packetsLost-BQ.packetsLost),BQ.bytes!=null&&lQ.bytes!=null&&Zx(uQ,Gx.BITRATE,8*(lQ.bytes-BQ.bytes)/QQ)}}return uQ}(IQ[0].ssrcId,eQ,AQ);break;case Jb.LocalAudioTrack:rQ=iQ?void 0:function(EQ,CQ,dQ,lQ){const uQ=CQ.audioSend.find(_Q=>_Q.ssrc===EQ);if(!uQ)return;const hQ={};hQ[Yx.DISABLED]=lQ._originMediaStreamTrack&&!lQ._originMediaStreamTrack.enabled||lQ._mediaStreamTrack&&!lQ._mediaStreamTrack.enabled?1:0;const BQ=100*lQ._source.getAccurateVolumeLevel(),QQ=uQ.inputLevel;if(QQ!=null){const _Q=Math.ceil(50*Math.log10(100*QQ+1));Zx(hQ,Yx.LEVEL,_Q)}Zx(hQ,Kx.PCM_LEVEL,BQ),Zx(hQ,Yx.AEC_RETURN_LOSS,uQ.aecReturnLoss),Zx(hQ,Yx.AEC_RETURN_LOSS_ENH,uQ.aecReturnLossEnhancement),hQ[Yx.FREEZE]=0;const fQ=dQ&&dQ.audioSend.find(_Q=>_Q.ssrc===EQ);if(fQ){let _Q=Xx*Qx;fQ.timestamp&&uQ.timestamp&&(_Q=uQ.timestamp-fQ.timestamp),fQ.bytes!=null&&uQ.bytes!=null&&Zx(hQ,Yx.BITRATE,8*(uQ.bytes-fQ.bytes)/_Q),fQ.packets!=null&&uQ.packets!=null&&Zx(hQ,Yx.PACKAGE_RATE,1e3*(uQ.packets-fQ.packets)/_Q)}return hQ}(IQ[0].ssrcId,eQ,AQ,gQ)}}),{high:nQ,low:sQ,audio:rQ}}getInboundStats(eQ,AQ,iQ){if(!this.requestRemoteMedia)return;const oQ=this.requestRemoteMedia()||[],rQ=[];return oQ.forEach(nQ=>{let[sQ,aQ]=nQ;const cQ={peer:sQ.uid};if(aQ.has(Yb.VIDEO)&&sQ.videoTrack){const gQ=sQ._videoSSRC&&this.requestVideoIsReady&&this.requestVideoIsReady(sQ._videoSSRC)||!1,IQ=sQ.videoTrack?function(EQ,CQ,dQ,lQ,uQ,hQ,BQ){var QQ;const fQ=CQ.videoRecv.find(PQ=>PQ.ssrc===EQ);if(!fQ)return;const _Q={},{receivedFrame:RQ,outputFrame:wQ,decodeFrameRate:bQ}=fQ,NQ=dQ&&dQ.videoRecv.find(PQ=>PQ.ssrc===EQ);if(_Q[Wx.FREEZE]=uQ&&yV.isRemoteVideoFreeze(lQ,fQ,NQ)?1:0,Zx(_Q,Hx.FRAME_RATE_DECODE,bQ),Zx(_Q,Wx.QP_SUM,fQ.qpSumPerFrame),fQ.framesRateFirefox&&Zx(_Q,Wx.FRAME_RATE,fQ.framesRateFirefox),RQ&&Zx(_Q,Wx.FRAME_RATE,RQ.frameRate),NQ){const PQ=CQ.timestamp-dQ.timestamp||(BQ?Xx:Qx*Xx);fQ.packetsLost!=null&&NQ.packetsLost!=null&&Zx(_Q,Wx.PACKAGE_LOST,fQ.packetsLost-NQ.packetsLost),NQ.bytes!=null&&fQ.bytes!=null&&Zx(_Q,Wx.BITRATE,8*(fQ.bytes-NQ.bytes)/PQ),NQ.packets!=null&&fQ.packets!=null&&Zx(_Q,Wx.PACKAGE_RATE,1e3*(fQ.packets-NQ.packets)/PQ)}if(BQ)return _Q;RQ?(Zx(_Q,Wx.HEIGHT,RQ.height),Zx(_Q,Wx.WIDTH,RQ.width)):lQ&&(Zx(_Q,Wx.HEIGHT,lQ._videoHeight||0),Zx(_Q,Wx.WIDTH,lQ._videoWidth||0)),wQ&&Zx(_Q,Hx.FRAME_RATE_OUTPUT,wQ.frameRate);const UQ=(QQ=lQ._player)===null||QQ===void 0?void 0:QQ.rendFrameRate.toFixed(0);if(UQ&&Zx(_Q,Hx.FRAME_RATE_RENDER,+UQ),Zx(_Q,Wx.JITTER_BUFFER,fQ.jitterBufferMs),Zx(_Q,Wx.CURRENT_DELAY,fQ.currentDelayMs),Zx(_Q,Wx.FIRS,fQ.firsCount),Zx(_Q,Wx.NACKS,fQ.nacksCount),Zx(_Q,Wx.PLIS,fQ.plisCount),lQ){_Q[Wx.DISABLED]=lQ._originMediaStreamTrack.enabled&&lQ._mediaStreamTrack.enabled?0:1;const PQ=lQ._player;if(PQ){const{freezeTimeCounterList:OQ,renderFreezeAccTime:YQ,videoElementStatus:SQ}=PQ;if(OQ&&OQ.length>0&&Zx(_Q,Hx.FREEZE_TIME,OQ.splice(0,1)[0]),hQ&&cM.visibility==="visible"&&SQ===TP.PLAYING&&MD().supportRequestVideoFrameCallback){const xQ=Math.min(6e3,YQ);PQ.renderFreezeAccTime=Math.max(0,YQ-xQ),Zx(_Q,Hx.FREEZE_TIME_RENDER,xQ)}if(typeof fQ.totalFreezesDuration=="number"){const xQ=NQ&&NQ.totalFreezesDuration?fQ.totalFreezesDuration-NQ.totalFreezesDuration:fQ.totalFreezesDuration;Zx(_Q,Hx.FREEZE_DURATION,1e3*xQ)}}}if(_Q[Wx.PLAYER_STATUS]=gP[lQ._player?lQ._player.videoElementStatus:"uninit"],NQ&&fQ.totalInterFrameDelay!==void 0&&fQ.totalSquaredInterFrameDelay!==void 0&&NQ.totalInterFrameDelay!==void 0&&NQ.totalSquaredInterFrameDelay!==void 0){const PQ=fQ.totalInterFrameDelay-NQ.totalInterFrameDelay,OQ=fQ.totalSquaredInterFrameDelay-NQ.totalSquaredInterFrameDelay,YQ=fQ.framesDecodeCount-NQ.framesDecodeCount,SQ=PQ/YQ*1e3,xQ=Math.round(1e3*Math.sqrt((OQ-Math.pow(PQ,2)/YQ)/YQ));!isNaN(xQ)&&SQ+xQ>Math.max(3*SQ,SQ+150)&&(_Q[Wx.I_FRAME_DELAY]=xQ)}return _Q}(sQ._videoSSRC,eQ,AQ,sQ.videoTrack,gQ===!0,this.needUploadRenderFreezeTime,iQ):void 0;IQ&&(cQ.video=IQ)}if(aQ.has(Yb.AUDIO)&&sQ.audioTrack){const gQ=sQ.audioTrack?function(IQ,EQ,CQ,dQ,lQ){const uQ=EQ.audioRecv.find(NQ=>NQ.ssrc===IQ);if(!uQ)return;const hQ={},BQ=CQ&&CQ.audioRecv.find(NQ=>NQ.ssrc===IQ),{receivedFrames:QQ,droppedFrames:fQ}=uQ;var _Q,RQ;if(Zx(hQ,qx.JITTER,uQ.jitterMs),QQ!=null&&fQ!=null&&(hQ[qx.FREEZE]=(RQ=fQ,(_Q=QQ)===0||100*RQ/_Q>20?1:0)),BQ){const NQ=EQ.timestamp-CQ.timestamp||(lQ?Xx:Xx*Qx);uQ.packets!=null&&BQ.packets!=null&&Zx(hQ,qx.PACKAGE_RATE,1e3*(uQ.packets-BQ.packets)/NQ),BQ.bytes!=null&&uQ.bytes!=null&&Zx(hQ,qx.BITRATE,8*(uQ.bytes-BQ.bytes)/NQ),uQ.packetsLost!=null&&BQ.packetsLost!=null&&Zx(hQ,qx.PACKAGE_LOST,uQ.packetsLost-BQ.packetsLost)}if(lQ)return hQ;const wQ=100*dQ._source.getAccurateVolumeLevel(),bQ=uQ.outputLevel;if(bQ!=null){const NQ=Math.ceil(50*Math.log10(100*bQ+1));Zx(hQ,zx.LEVEL,NQ)}if(Zx(hQ,qx.PCM_LEVEL,wQ),dQ&&(hQ[qx.DISABLED]=dQ._originMediaStreamTrack.enabled&&dQ._mediaStreamTrack.enabled?0:1),Zx(hQ,qx.JITTER_BUFFER,uQ.jitterBufferMs),Zx(hQ,qx.CURRENT_DELAY,uQ.jitterBufferMs),hQ[qx.PLAYER_STATUS]=gP[eL.getPlayerState(dQ.getTrackId())],BQ){const NQ=uQ.concealedSamples-BQ.concealedSamples;NQ>0&&Zx(hQ,qx.CONCEALED_SAMPLES,NQ)}return hQ}(sQ._audioSSRC,eQ,AQ,sQ.audioTrack,iQ):void 0;gQ&&(cQ.audio=gQ)}(cQ.video||cQ.audio)&&rQ.push(cQ)}),this.needUploadRenderFreezeTime=!this.needUploadRenderFreezeTime,rQ}startUploadTransportStats(){this.uploadTransportStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats()}stopUploadTransportStats(){this.uploadTransportStarted=!1}startUploadOutboundStats(){this.uploadOutboundStarted||(this.uploadOutboundStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats(),this.uploadOutboundDenoiserStatsTimer&&window.clearInterval(this.uploadOutboundDenoiserStatsTimer),this.uploadOutboundDenoiserStatsTimer=window.setInterval(()=>{if(!this.requestAllTracks||!this.requestUpload)return;const eQ=(this.requestAllTracks()||[]).find(AQ=>AQ instanceof ik);if(eQ&&eQ._external.getDenoiserStats){const AQ=eQ._external.getDenoiserStats();AQ&&this.requestUpload(Eb.DENOISER_STATS,AQ)}},2e3),this.uploadExtStatsTimer&&window.clearInterval(this.uploadExtStatsTimer),this.uploadExtStatsTimer=window.setInterval(()=>{!this.requestAllTracks||!this.requestUpload||this.requestAllTracks().forEach(eQ=>{eQ.getProcessorStats().forEach(AQ=>{this.requestUpload&&this.requestUpload(AQ.type,AQ.stats)})})},2e3))}stopUploadOutboundStats(){this.uploadOutboundStarted&&(this.uploadOutboundStarted=!1,this.lastSendStats&&(this.lastSendStats.videoSend=[],this.lastSendStats.audioSend=[],this.lastSendStats=void 0),this.uploadOutboundDenoiserStatsTimer&&window.clearInterval(this.uploadOutboundDenoiserStatsTimer),this.uploadOutboundDenoiserStatsTimer=void 0)}startUploadInboundStats(){this.uploadInboundStarted||(this.uploadInboundStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats(),this.uploadInboundExtStatsTimer&&window.clearInterval(this.uploadInboundExtStatsTimer),this.uploadInboundExtStatsTimer=window.setInterval(()=>{!this.requestUpload||!this.requestRemoteMedia||(this.requestRemoteMedia()||[]).forEach(eQ=>{let[AQ,iQ]=eQ;iQ.has(Yb.VIDEO)&&AQ.videoTrack&&AQ.videoTrack.getProcessorStats().forEach(oQ=>{this.requestUpload&&this.requestUpload(oQ.type,oQ.stats)}),iQ.has(Yb.AUDIO)&&AQ.audioTrack&&AQ.audioTrack.getProcessorStats().forEach(oQ=>{this.requestUpload&&this.requestUpload(oQ.type,oQ.stats)})})},2e3))}stopUploadInboundStats(){this.uploadInboundStarted&&(this.uploadInboundStarted=!1,this.lastRecvStats&&(this.lastRecvStats.videoRecv=[],this.lastRecvStats.audioRecv=[],this.lastRecvStats=void 0))}startUploadExtensionUsageStats(){if(this.uploadExtensionUsageStarted)return;this.uploadExtensionUsageStarted=!0,this.uploadExtUsageStatsTimer&&window.clearInterval(this.uploadExtUsageStatsTimer);const eQ=new Map;this.uploadExtUsageStatsTimer=window.setInterval(async()=>{const AQ=Date.now(),iQ={connectionInterval:Dy("EXTENSION_USAGE_UPLOAD_INTERVAL")/1e3,details:[],lts:AQ};let oQ=[];const rQ=this.requestAllTracks&&this.requestAllTracks()||[];for(const cQ of rQ)!cQ.muted&&cQ.enabled&&(oQ=oQ.concat(await cQ.getProcessorUsage()));const nQ=this.requestRemoteMedia&&this.requestRemoteMedia()||[];for(const[cQ,gQ]of nQ)gQ.has(Yb.VIDEO)&&cQ.videoTrack&&(oQ=oQ.concat(await cQ.videoTrack.getProcessorUsage())),gQ.has(Yb.AUDIO)&&cQ.audioTrack&&(oQ=oQ.concat(await cQ.audioTrack.getProcessorUsage()));if(oQ.length===0)return;iQ.details=function(cQ,gQ){const IQ={};for(const{id:lQ,value:uQ,level:hQ,direction:BQ}of cQ){var EQ;const QQ=(EQ=gQ.get(lQ))!==null&&EQ!==void 0?EQ:0,fQ=uQ===2?QQ+Dy("EXTENSION_USAGE_UPLOAD_INTERVAL")/1e3:QQ;var CQ,dQ;gQ.set(lQ,fQ),IQ[lQ]?(uQ===2&&(IQ[lQ].value=uQ),hQ>IQ[lQ].level&&(IQ[lQ].level=hQ),BQ==="remote"&&(IQ[lQ].remoteUidCount+=1),IQ[lQ].totalTs=(CQ=gQ.get(lQ))!==null&&CQ!==void 0?CQ:0):IQ[lQ]={value:uQ,level:hQ,remoteUidCount:BQ==="local"?0:1,totalTs:(dQ=gQ.get(lQ))!==null&&dQ!==void 0?dQ:0}}return Object.keys(IQ).map(lQ=>{const{level:uQ,value:hQ,totalTs:BQ}=IQ[lQ];return{id:lQ,level:uQ,value:hQ,totalTs:BQ}})}(oQ,eQ);const sQ=Date.now(),aQ=sQ>AQ?sQ:AQ+1;this.requestUpload&&this.requestUpload(Eb.EXTENSION_USAGE_STATS,{usageStats:iQ,sendTs:aQ})},Dy("EXTENSION_USAGE_UPLOAD_INTERVAL"))}stopUploadExtensionUsageStats(){this.uploadExtensionUsageStarted&&(this.uploadExtensionUsageStarted=!1,this.uploadExtUsageStatsTimer&&window.clearInterval(this.uploadExtUsageStatsTimer),this.uploadExtUsageStatsTimer=void 0)}}class iV{get hasVideo(){return this._video_enabled_&&!this._video_muted_&&this._video_added_}get hasAudio(){return this._audio_enabled_&&!this._audio_muted_&&this._audio_added_}get audioTrack(){if(this.hasAudio||this._audio_pre_subscribed)return this._audioTrack}get videoTrack(){if(this.hasVideo||this._video_pre_subscribed)return this._videoTrack}get dataChannels(){return this._dataChannels}constructor(eQ,AQ){og(this,"uid",void 0),og(this,"_uintid",void 0),og(this,"_trust_in_room_",!0),og(this,"_trust_audio_enabled_state_",!0),og(this,"_trust_video_enabled_state_",!0),og(this,"_trust_audio_mute_state_",!0),og(this,"_trust_video_mute_state_",!0),og(this,"_audio_muted_",!1),og(this,"_video_muted_",!1),og(this,"_audio_enabled_",!0),og(this,"_video_enabled_",!0),og(this,"_audio_added_",!1),og(this,"_video_added_",!1),og(this,"_is_pre_created",!1),og(this,"_video_pre_subscribed",!1),og(this,"_audio_pre_subscribed",!1),og(this,"_trust_video_stream_added_state_",!0),og(this,"_trust_audio_stream_added_state_",!0),og(this,"_audioTrack",void 0),og(this,"_videoTrack",void 0),og(this,"_dataChannels",[]),og(this,"_audioSSRC",void 0),og(this,"_videoSSRC",void 0),og(this,"_audioOrtc",void 0),og(this,"_videoOrtc",void 0),og(this,"_cname",void 0),og(this,"_rtxSsrcId",void 0),og(this,"_videoMid",void 0),og(this,"_audioMid",void 0),this.uid=eQ,this._uintid=AQ}}let nV=function(tQ){return tQ.SEND_ONLY="SEND_ONLY",tQ.RECEIVE_ONLY="RECEIVE_ONLY",tQ}({});function rV(tQ,eQ){var AQ;let iQ;switch(eQ){case Jb.LocalAudioTrack:iQ=Mb.Audio;break;case Jb.LocalVideoTrack:iQ=Dn(AQ=tQ._hints).call(AQ,eP.SCREEN_TRACK)?Mb.Screen:Mb.High;break;case Jb.LocalVideoLowTrack:iQ=Mb.Low}return iQ}function oV(tQ){const eQ=MD();if(tQ.some(AQ=>AQ._bypassWebAudio))throw new rv(nv.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio");if(!eQ.webAudioMediaStreamDest)throw new rv(nv.NOT_SUPPORTED,"cannot publish multiple tracks because your browser does not support audio mixing")}function sV(tQ,eQ){oV(tQ);const AQ=eQ||new rk;return tQ.forEach(iQ=>AQ.addAudioTrack(iQ)),AQ}var aV,cV,dV,lV,uV,hV,pV,_V,EV,mV,fV,TV;function SV(tQ,eQ){var AQ=Object.keys(tQ);if(Object.getOwnPropertySymbols){var iQ=Object.getOwnPropertySymbols(tQ);eQ&&(iQ=iQ.filter(function(oQ){return Object.getOwnPropertyDescriptor(tQ,oQ).enumerable})),AQ.push.apply(AQ,iQ)}return AQ}function gV(tQ){for(var eQ=1;eQ<arguments.length;eQ++){var AQ=arguments[eQ]!=null?arguments[eQ]:{};eQ%2?SV(Object(AQ),!0).forEach(function(iQ){og(tQ,iQ,AQ[iQ])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tQ,Object.getOwnPropertyDescriptors(AQ)):SV(Object(AQ)).forEach(function(iQ){Object.defineProperty(tQ,iQ,Object.getOwnPropertyDescriptor(AQ,iQ))})}return tQ}let RV=(aV=CV(nV.SEND_ONLY),cV=CV(nV.SEND_ONLY),dV=CV(),lV=CV(nV.RECEIVE_ONLY),uV=CV(nV.RECEIVE_ONLY),hV=CV(nV.RECEIVE_ONLY),pV=CV(nV.RECEIVE_ONLY),_V=CV(nV.RECEIVE_ONLY),EV=CV(nV.RECEIVE_ONLY),mV=CV(),fV=CV(nV.RECEIVE_ONLY),TV=class extends Sv{get state(){return this._state}set state(tQ){const eQ=this._state;this._state=tQ,this.emit(Qb.StateChange,eQ,this._state)}constructor(tQ,eQ){super(),og(this,"isPlanB",!1),og(this,"store",void 0),og(this,"statsUploader",void 0),og(this,"sendConnection",void 0),og(this,"recvConnection",void 0),og(this,"localTrackMap",new Map),og(this,"remoteUserMap",new Map),og(this,"localDataChannels",[]),og(this,"pendingLocalTracks",[]),og(this,"pendingRemoteTracks",[]),og(this,"statsCollector",void 0),og(this,"dtlsFailedCount",0),og(this,"sendMutex",new hy("P2PChannel2-send-mutex")),og(this,"recvMutex",new hy("P2PChannel2-recv-mutex")),og(this,"_state",Xb.Disconnected),og(this,"_restartStates",["disconnected","failed"]),og(this,"reconnectInterval",void 0),og(this,"uploadUnplinkStarted",!1),og(this,"uploadDownlinkStarted",!1),og(this,"uplinkStateUploadInterval",void 0),og(this,"downlinkStatsUploadInterval",void 0),og(this,"handleMuteLocalTrack",async(AQ,iQ,oQ)=>{const rQ=await this.sendMutex.lock("Locking from P2PChannel2.handleMuteLocalTrack");try{if(!this.sendConnection||this.state!==Xb.Connected)return void oQ(new rv(nv.INVALID_OPERATION,"Cannot call P2PChannel2.handleMuteLocalTrack before sendConnection established."));const aQ=this.filterTobeMutedTracks(AQ);if(aQ.length===0)return void iQ();const cQ=aQ.find(CQ=>CQ[0]==="videoLowTrack");cQ&&cQ[1].track._originMediaStreamTrack.stop(),await this.sendConnection.muteLocal(aQ.map(CQ=>{let[,{id:dQ}]=CQ;return dQ}));let gQ=!1;var nQ,sQ;AQ.trackMediaType==="video"?gQ=!((nQ=this.localTrackMap.get(Jb.LocalAudioTrack))===null||nQ===void 0||!nQ.track._muted):gQ=((sQ=this.localTrackMap.get(Jb.LocalVideoTrack))===null||sQ===void 0?void 0:sQ.id)===void 0;const IQ=this.createMuteMessage(aQ);await Mv(this,Qb.RequestMuteLocal,IQ);const EQ=AQ.trackMediaType==="video"?cw.MUTE_LOCAL_VIDEO:cw.MUTE_LOCAL_AUDIO;await Mv(this,Qb.RequestP2PMuteLocal,{action:EQ,message:IQ,isMuteAll:gQ}),iQ()}catch(aQ){oQ(aQ)}finally{rQ()}}),og(this,"handleUnmuteLocalTrack",async(AQ,iQ,oQ)=>{const rQ=await this.sendMutex.lock("Locking from P2PChannel2.handleUnmuteLocalTrack");try{if(!this.sendConnection||this.state!==Xb.Connected)return void oQ(new rv(nv.INVALID_OPERATION,"Cannot call P2PChannel2.handleUnmuteLocalTrack before sendConnection established."));const nQ=this.filterTobeUnmutedTracks(AQ);if(nQ.length===0)return void iQ();await this.sendConnection.unmuteLocal(nQ.map(cQ=>{let[,{id:gQ}]=cQ;return gQ}));const sQ=this.createUnmuteMessage(nQ),aQ=AQ.trackMediaType==="video"?cw.UNMUTE_LOCAL_VIDEO:cw.UNMUTE_LOCAL_AUDIO;await Mv(this,Qb.RequestP2PMuteLocal,{action:aQ,message:sQ}),iQ()}catch(nQ){oQ(nQ)}finally{rQ()}}),og(this,"handleUpdateVideoEncoder",async(AQ,iQ,oQ)=>{const rQ=await this.sendMutex.lock("Locking from P2PChannel2.handleSetVideoEncoder");try{const nQ=this.localTrackMap.get(Jb.LocalVideoTrack);if(!this.sendConnection||!nQ||nQ.track!==AQ||this.state!==Xb.Connected)return void iQ();const{id:sQ,track:aQ}=nQ;sQ&&(await this.sendConnection.updateSendParameters(sQ,aQ),await this.sendConnection.updateEncoderConfig(sQ,aQ),this.emit(Qb.UpdateVideoEncoder,aQ)),iQ()}catch(nQ){oQ(nQ)}finally{rQ()}}),og(this,"handleUpdateVideoSendParameters",async(AQ,iQ,oQ)=>{const rQ=await this.sendMutex.lock("Locking from P2PChannel2.handleUpdateVideoSendParameters");try{const nQ=this.localTrackMap.get(Jb.LocalVideoTrack);if(!this.sendConnection||!nQ||nQ.track!==AQ||this.state!==Xb.Connected)return void iQ();const{id:sQ,track:aQ}=nQ;sQ&&await this.sendConnection.updateSendParameters(sQ,aQ),iQ()}catch(nQ){oQ(nQ)}finally{rQ()}}),og(this,"handleReplaceTrack",async(AQ,iQ,oQ,rQ)=>{let nQ;Qy.debug("[".concat(this.store.clientId,"] P2PChannel2 handleReplaceTrack for [track-id-").concat(AQ.getTrackId(),"]")),typeof rQ=="boolean"&&rQ||(nQ=await this.sendMutex.lock("From P2PChannel2.handleReplaceTrack"));try{var sQ;const cQ=Array.from(this.localTrackMap.entries()).find(gQ=>{let[,{track:IQ}]=gQ;return AQ===IQ});if(!this.sendConnection||!cQ||cQ[1].id===void 0||this.state!==Xb.Connected)return void iQ();if(await((sQ=this.sendConnection)===null||sQ===void 0?void 0:sQ.replaceTrack(AQ,cQ[1].id)),cQ[0]===Jb.LocalVideoTrack&&MD().supportDualStreamEncoding){const gQ=this.localTrackMap.get(Jb.LocalVideoLowTrack);if(gQ){const IQ=AQ._mediaStreamTrack.clone();gQ.track._originMediaStreamTrack.stop(),gQ.track._mediaStreamTrack=IQ,gQ.track._originMediaStreamTrack=IQ,await new Gh((EQ,CQ)=>{this.handleReplaceTrack(gQ.track,EQ,CQ,!0)})}}iQ()}catch(cQ){oQ(cQ)}finally{var aQ;(aQ=nQ)===null||aQ===void 0||aQ()}}),og(this,"handleGetLocalVideoStats",AQ=>{AQ(this.statsCollector.getLocalVideoTrackStats())}),og(this,"handleGetLocalAudioStats",AQ=>{AQ(this.statsCollector.getLocalAudioTrackStats())}),og(this,"handleGetRemoteVideoStats",AQ=>this.statsCollector.getRemoteVideoTrackStats(AQ.uid)[AQ.uid]),og(this,"handleGetRemoteAudioStats",AQ=>this.statsCollector.getRemoteAudioTrackStats(AQ.uid)[AQ.uid]),this.store=tQ,this.statsCollector=eQ,this.statsCollector.addP2PChannel(this),this.statsUploader=new tV(tQ),this.bindStatsUploaderEvents(),this.reconnectInterval=window.setInterval(()=>{[this.sendConnection,this.recvConnection].forEach(AQ=>{AQ&&(AQ.iceConnectionState!=="disconnected"&&AQ.iceConnectionState!=="failed"||this.handleDisconnect(AQ.direction))})},Dy("ICE_RESTART_INTERVAL"))}async startP2PConnection(tQ,eQ){throw new rv(nv.NOT_SUPPORTED,"p2p mode does not support startP2PConnection.")}async connect(tQ){throw new rv(nv.NOT_SUPPORTED,"p2p mode does not support connect.")}async startP2P(tQ,eQ){let AQ;try{if(eQ){this.recvConnection&&(Qy.warning("[".concat(this.store.clientId,"] P2PChannel.startP2P reset recvConnection.")),this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection)),AQ=await this.recvMutex.lock("From P2PChannel.startP2P"),this.recvConnection=new xx(tQ,this.store,fb.RECEIVE_ONLY),this.bindConnectionEvents(this.recvConnection);const iQ=await this.recvConnection.establish(eQ);return{iceParameters:iQ.iceParameters,dtlsParameters:iQ.dtlsParameters,sdp:iQ.sdp}}{this.state=Xb.New,this.sendConnection&&(Qy.warning("[".concat(this.store.clientId,"] P2PChannel.startP2P reset sendConnection.")),this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection)),AQ=await this.sendMutex.lock("From P2PChannel.startP2P"),this.sendConnection=new xx(tQ,this.store),this.store.peerConnectionStart(),this.bindConnectionEvents(this.sendConnection);const iQ=await this.sendConnection.establish();return{iceParameters:iQ.iceParameters,dtlsParameters:iQ.dtlsParameters,sdp:iQ.sdp}}}finally{AQ&&AQ()}}async p2pConnect(tQ){if(!this.sendConnection)throw new rv(nv.UNEXPECTED_ERROR,"Cannot P2PChannel2.p2pConnect before P2PChannel2.startP2PConnection .");this.store.peerConnectionStart(),await this.sendConnection.connect(tQ),this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=Xb.Connected}async addRemoteCandidate(tQ,eQ){if(eQ===fb.RECEIVE_ONLY){if(!this.sendConnection)throw new rv(nv.UNEXPECTED_ERROR,"Cannot P2PChannel2.connect before P2PChannel2.addRemoteCandidate .");await this.sendConnection.addRemoteCandidate(tQ)}else{if(!this.recvConnection)throw new rv(nv.UNEXPECTED_ERROR,"Cannot P2PChannel2.connect before P2PChannel2.addRemoteCandidate .");await this.recvConnection.addRemoteCandidate(tQ)}}publish(tQ,eQ,AQ){var iQ=this;return ZU(function*(){const oQ=yield WU(iQ.sendMutex.lock("From P2PChannel.publish"));try{if(!iQ.sendConnection||iQ.state!==Xb.Connected){iQ.throwIfTrackTypeNotMatch(tQ);const cQ=tQ.filter(gQ=>iQ.pendingLocalTracks.indexOf(gQ)===-1);return void(iQ.pendingLocalTracks=iQ.pendingLocalTracks.concat(cQ))}iQ.store.pubId=iQ.store.pubId+1,jU.markPublishStart(iQ.store.clientId,iQ.store.pubId);const rQ=iQ.filterTobePublishedTracks(tQ,eQ,AQ);if(rQ.length===0)return void(yield WU(iQ.tryToUnmuteAudio(tQ)));rQ.forEach(cQ=>{let{track:gQ,type:IQ}=cQ;const EQ=Date.now();iQ.store.publish(gQ.getTrackId(),IQ===Jb.LocalAudioTrack?"audio":"video",EQ)}),iQ.bindLocalTrackEvents(rQ);const nQ=yield WU(iQ.sendConnection.send(rQ.map(cQ=>{let{track:gQ}=cQ;return gQ}),iQ.store.codec,iQ.store.audioCodec)),sQ=(yield WU(nQ.next())).value,aQ=iQ.createGatewayPublishMessage(rQ,sQ);try{yield aQ}catch(cQ){throw nQ.throw(cQ),(cQ==null?void 0:cQ.code)===nv.WS_ABORT&&rQ.forEach(gQ=>{let{track:IQ}=gQ;iQ.pendingLocalTracks.indexOf(IQ)===-1&&iQ.pendingLocalTracks.push(IQ)}),iQ.unbindLocalTrackEvents(rQ),cQ}yield WU(nQ.next()),rQ.forEach(cQ=>{let{type:gQ}=cQ;iQ.statsCollector.addLocalStats(gQ)}),iQ.statsUploader.startUploadOutboundStats(),iQ.assignLocalTracks(rQ,sQ),rQ.forEach(cQ=>{let{track:gQ,type:IQ}=cQ;const EQ=Date.now();iQ.store.publish(gQ.getTrackId(),IQ===Jb.LocalAudioTrack?"audio":"video",void 0,EQ)}),iQ.startUploadUplinkState()}finally{oQ()}})()}async unpublish(tQ){if(!this.sendConnection||this.state!==Xb.Connected)return void(tQ.length===0?this.pendingLocalTracks.length=0:this.pendingLocalTracks=this.pendingLocalTracks.filter(oQ=>!Dn(tQ).call(tQ,oQ)));const eQ=this.filterTobeUnpublishedTracks(tQ);if(eQ.length===0)return;const AQ=eQ.find(oQ=>oQ[0]==="videoLowTrack");AQ&&AQ[1].track.close();const iQ=this.createGatewayUnpublishMessage(eQ);if(await this.sendConnection.stopSending(eQ.map(oQ=>{let[,{id:rQ}]=oQ;return rQ})),this.withdrawLocalTracks(eQ),this.unbindLocalTrackEvents(eQ.map(oQ=>{let[rQ,{track:nQ}]=oQ;return{type:rQ,track:nQ}})),eQ.forEach(oQ=>{let[rQ]=oQ;this.statsCollector.removeLocalStats(rQ)}),this.localTrackMap.size===0&&(this.statsUploader.stopUploadOutboundStats(),this.stopUploadUplinkState()),this.sendConnection&&this.state===Xb.Connected)return AQ&&AQ[1].track.close(),iQ;tQ.forEach(oQ=>{const rQ=this.pendingLocalTracks.indexOf(oQ);rQ!==-1&&this.pendingLocalTracks.splice(rQ,1)})}startUploadUplinkState(){if(this.uploadUnplinkStarted)return;this.uploadUnplinkStarted=!0,this.uplinkStateUploadInterval&&window.clearInterval(this.uplinkStateUploadInterval);const tQ=()=>{const eQ=[],AQ=[];Array.from(this.localTrackMap.entries()).forEach(iQ=>{let[oQ,{track:rQ,ssrcs:nQ}]=iQ;const sQ={stream_type:rV(rQ,oQ),ssrcs:nQ};rQ._muted||!rQ._enabled?eQ.push(sQ):AQ.push(sQ)}),eQ.length>0&&eQ.forEach(iQ=>{Mv(this,Qb.RequestMuteLocal,[iQ])}),AQ.length>0&&AQ.forEach(iQ=>{Mv(this,Qb.RequestUnmuteLocal,[iQ])})};tQ(),this.uplinkStateUploadInterval=window.setInterval(()=>{tQ()},3e3)}stopUploadUplinkState(){this.uploadUnplinkStarted&&(this.uploadUnplinkStarted=!1,this.uplinkStateUploadInterval&&window.clearInterval(this.uplinkStateUploadInterval))}publishLowStream(tQ){return ZU(function*(){throw new rv(nv.NOT_SUPPORTED,"p2p mode does not support publishLowStream.")})()}async republish(){this.pendingLocalTracks.length>0&&(Qy.debug("[".concat(this.store.clientId,"] Emit P2PChannelEvents.RequestRePublish to republish tracks.")),await kv(this,Qb.RequestRePublish,this.pendingLocalTracks),this.emit(Qb.MediaReconnectEnd,this.store.uid),this.pendingLocalTracks=[])}async unpublishLowStream(){throw new rv(nv.NOT_SUPPORTED,"p2p mode does not support unpublishLowStream.")}async subscribe(tQ,eQ,AQ,iQ){var oQ;if(!this.recvConnection)throw new rv(nv.INVALID_OPERATION,"Cannot subscribe remote user when recvConnection disconnected.");if((oQ=this.remoteUserMap.get(tQ))!==null&&oQ!==void 0&&oQ.has(eQ))return;const{track:rQ,mid:nQ,transceiver:sQ}=await this.recvConnection.receive(eQ,[{ssrcId:AQ}],String(tQ.uid),iQ);eQ===Yb.AUDIO?(tQ._audioTrack?tQ._audioTrack._updateOriginMediaStreamTrack(rQ):(tQ._audioTrack=new aM(rQ,tQ.uid,tQ._uintid,this.store),Qy.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote audio track: ").concat(tQ._audioTrack.getTrackId()))),sQ&&tQ._audioTrack._updateRtpTransceiver(sQ),this.bindRemoteTrackEvents(tQ,tQ._audioTrack)):(tQ._videoSSRC=AQ,tQ._videoTrack?tQ._videoTrack._updateOriginMediaStreamTrack(rQ):(tQ._videoTrack=new sM(rQ,tQ.uid,tQ._uintid,this.store),Qy.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote video track: ").concat(tQ._videoTrack.getTrackId()))),sQ&&tQ._videoTrack._updateRtpTransceiver(sQ),this.bindRemoteTrackEvents(tQ,tQ._videoTrack));const aQ=this.remoteUserMap.get(tQ);aQ?aQ.set(eQ,nQ):this.remoteUserMap.set(tQ,new Map([[eQ,nQ]])),this.statsCollector.addRemoteStats(tQ.uid),this.statsUploader.startUploadInboundStats(),this.startUploadDownlinkState();const cQ=this.pendingRemoteTracks.findIndex(gQ=>{let{user:IQ,kind:EQ}=gQ;return IQ.uid===tQ.uid&&eQ===EQ});cQ!==-1&&(this.pendingRemoteTracks.splice(cQ,1),this.emit(Qb.MediaReconnectEnd,tQ.uid))}async mockSubscribe(tQ,eQ,AQ,iQ){if(!this.recvConnection)throw new rv(nv.INVALID_OPERATION,"Cannot subscribe remote user when recvConnection disconnected.");await this.recvConnection.mockReceive(eQ,[{ssrcId:AQ}],String(tQ.uid),iQ)}async unsubscribe(tQ,eQ,AQ){const iQ=this.pendingRemoteTracks.filter(rQ=>{let{user:nQ,kind:sQ}=rQ;return eQ!==void 0?nQ.uid===tQ.uid&&eQ===sQ:nQ.uid===tQ.uid});if(iQ.forEach(rQ=>{const nQ=this.pendingRemoteTracks.indexOf(rQ);this.pendingRemoteTracks.splice(nQ,1)}),this.recvConnection||AQ||iQ.forEach(rQ=>{let{kind:nQ}=rQ;var sQ;if(nQ===Yb.AUDIO)(sQ=tQ._audioTrack)===null||sQ===void 0||sQ._destroy(),tQ._audioTrack=void 0;else if(nQ===Yb.VIDEO){var aQ;(aQ=tQ._videoTrack)===null||aQ===void 0||aQ._destroy(),tQ._videoTrack=void 0}}),!this.recvConnection)return;const oQ=this.filterTobeUnSubscribedTracks(tQ,eQ);oQ.length!==0&&(await this.recvConnection.stopReceiving(oQ.map(rQ=>{let[,{id:nQ}]=rQ;return nQ})),this.withdrawRemoteTracks(oQ),this.remoteUserMap.size===0&&(this.statsUploader.stopUploadInboundStats(),this.stopUploadDownlinkState()),oQ.forEach(rQ=>{let[nQ,{kind:sQ}]=rQ;var aQ,cQ;if(sQ===Yb.VIDEO&&nQ._videoSSRC&&((aQ=this.recvConnection)===null||aQ===void 0||aQ.setStatsRemoteVideoIsReady(nQ._videoSSRC,!1)),sQ===Yb.VIDEO)this.unbindRemoteTrackEvents(nQ._videoTrack),AQ||((cQ=nQ._videoTrack)===null||cQ===void 0||cQ._destroy(),nQ._videoTrack=void 0);else if(sQ===Yb.AUDIO){var gQ;this.unbindRemoteTrackEvents(nQ._audioTrack),!AQ&&((gQ=nQ._audioTrack)===null||gQ===void 0||gQ._destroy(),nQ._audioTrack=void 0)}}),oQ.forEach(rQ=>{let[,{kind:nQ}]=rQ;Mv(this,Qb.RequestP2PMuteRemote,nQ)}))}startUploadDownlinkState(){if(this.uploadDownlinkStarted)return;this.uploadDownlinkStarted=!0,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval);const tQ=()=>Array.from(this.remoteUserMap.entries()).forEach(eQ=>{let[,AQ]=eQ;[Yb.VIDEO,Yb.AUDIO].forEach(iQ=>{AQ.has(iQ)?Mv(this,Qb.RequestP2PUnmuteRemote,iQ):Mv(this,Qb.RequestP2PMuteRemote,iQ)})});tQ(),this.downlinkStatsUploadInterval=window.setInterval(()=>{tQ()},3e3)}stopUploadDownlinkState(){this.uploadDownlinkStarted&&(this.uploadDownlinkStarted=!1,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval))}getAllDataChannels(){return this.localDataChannels}async massSubscribe(tQ){throw new rv(nv.NOT_SUPPORTED,"p2p mode does not support massSubscribe.")}async massSubscribeNoLock(tQ){throw new rv(nv.NOT_SUPPORTED,"p2p mode does not support massSubscribeNoLock.")}async massUnsubscribe(tQ){throw new rv(nv.NOT_SUPPORTED,"p2p mode does not support massUnsubscribe.")}async massUnsubscribeNoLock(tQ){throw new rv(nv.NOT_SUPPORTED,"p2p mode does not support massUnsubscribeNoLock.")}async muteRemote(tQ,eQ){if(!this.recvConnection)return;const AQ=this.remoteUserMap.get(tQ);if(!AQ)return void Qy.warning("[".concat(this.store.clientId,"] P2PChannel2.muteRemote has no remote user ").concat(tQ.uid,"."));if(!AQ.get(eQ))return void Qy.warning("[".concat(this.store.clientId,"] P2PChannel2.muteRemote has no remote user ").concat(tQ.uid," media type ").concat(eQ,"."));const iQ=eQ===Yb.VIDEO?tQ._videoSSRC:tQ._audioSSRC;iQ!==void 0&&this.recvConnection.setStatsRemoteVideoIsReady(iQ,!1)}async unmuteRemote(tQ,eQ){return this.unmuteRemoteNoLock(tQ,eQ)}async unmuteRemoteNoLock(tQ,eQ){if(!this.recvConnection)return;const AQ=this.remoteUserMap.get(tQ);if(!AQ)return void Qy.warning("[".concat(this.store.clientId,"] P2PChannel2.unmuteRemote has no remote user ").concat(tQ.uid,"."));AQ.get(eQ)||Qy.warning("[".concat(this.store.clientId,"] P2PChannel2.unmuteRemote has no remote user ").concat(tQ.uid," media type ").concat(eQ,"."))}getAllTracks(tQ){const eQ=this.localTrackMap.get(Jb.LocalAudioTrack);if((eQ==null?void 0:eQ.track)instanceof rk){const AQ=eQ.track;return Array.from(this.localTrackMap.entries()).filter(iQ=>{let[oQ]=iQ;return oQ!==Jb.LocalAudioTrack}).filter(iQ=>{let[oQ]=iQ;return!(tQ&&oQ===Jb.LocalVideoLowTrack)}).map(iQ=>{let[,{track:oQ}]=iQ;return oQ}).concat(AQ.trackList)}return Array.from(this.localTrackMap.entries()).filter(AQ=>{let[iQ]=AQ;return!(tQ&&iQ===Jb.LocalVideoLowTrack)}).map(AQ=>{let[,{track:iQ}]=AQ;return iQ})}reportPublishEvent(tQ,eQ,AQ,iQ,oQ){if(tQ){const nQ=this.localTrackMap.get(Jb.LocalAudioTrack),sQ=iQ?this.localTrackMap.get(Jb.LocalVideoLowTrack):this.localTrackMap.get(Jb.LocalVideoTrack);sA.publish(this.store.sessionId,{eventElapse:jU.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:tQ,ec:eQ,audioName:nQ==null?void 0:nQ.track.getTrackLabel(),videoName:sQ==null?void 0:sQ.track.getTrackLabel(),screenshare:(sQ==null?void 0:sQ.track._hints.indexOf(eP.SCREEN_TRACK))!==-1,audio:!!nQ,video:!!sQ,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:oQ})}else{var rQ;AQ||(AQ=[]);const nQ=AQ.find(aQ=>aQ instanceof tk),sQ=iQ?(rQ=this.localTrackMap.get(Jb.LocalVideoTrack))===null||rQ===void 0?void 0:rQ.track:AQ.find(aQ=>aQ instanceof Hk);sA.publish(this.store.sessionId,{eventElapse:jU.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:tQ,ec:eQ,audioName:nQ==null?void 0:nQ.getTrackLabel(),videoName:sQ==null?void 0:sQ.getTrackLabel(),screenshare:(sQ==null?void 0:sQ._hints.indexOf(eP.SCREEN_TRACK))!==-1,audio:!!nQ,video:!!sQ,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:oQ})}}reportSubscribeEvent(tQ,eQ,AQ,iQ){const oQ=iQ===Yb.VIDEO?AQ._videoSSRC:AQ._audioSSRC;oQ&&sA.subscribe(this.store.sessionId,{succ:tQ,ec:eQ,video:iQ===Yb.VIDEO,audio:iQ===Yb.AUDIO,peerid:AQ.uid,subscribeRequestid:iQ===Yb.VIDEO?AQ._videoSSRC:AQ._audioSSRC,p2pid:this.store.p2pId,eventElapse:jU.measureFromSubscribeStart(this.store.clientId,oQ)})}reset(){Qy.debug("[".concat(this.store.clientId,"] P2PChannel2.reset")),this.sendMutex=new hy("P2PChannel2-send-mutex"),this.sendMutex=new hy("P2PChannel2-recv-mutex"),this.sendConnection&&(this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection),this.sendConnection=void 0),this.recvConnection&&(this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection),this.recvConnection=void 0),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),this.statsUploader.stopUploadExtensionUsageStats(),this.stopUploadUplinkState(),this.stopUploadDownlinkState(),this.unbindLocalTrackEvents(),this.unbindAllRemoteTrackEvents(),this.unbindRtpTransceiver();const tQ=this.localTrackMap.get(Jb.LocalAudioTrack);if((tQ==null?void 0:tQ.track)instanceof rk){if(tQ.track.trackList.length>0){const eQ=tQ.track;tQ.track.trackList.forEach(AQ=>{eQ.removeAudioTrack(AQ)})}tQ.track.close()}this.localTrackMap.clear(),this.remoteUserMap.clear(),this.statsCollector.removeRemoteStats(),this.statsCollector.removeLocalStats(),this.dtlsFailedCount=0,this.pendingLocalTracks=[],this.pendingRemoteTracks=[],this.reconnectInterval&&(window.clearInterval(this.reconnectInterval),this.reconnectInterval=void 0),this.state=Xb.Disconnected}getStats(tQ){var eQ,AQ;return tQ?(AQ=this.recvConnection)===null||AQ===void 0?void 0:AQ.getStats():(eQ=this.sendConnection)===null||eQ===void 0?void 0:eQ.getStats()}getRemoteVideoIsReady(tQ){var eQ;return((eQ=this.recvConnection)===null||eQ===void 0?void 0:eQ.getRemoteVideoIsReady(tQ))||!1}getLocalAudioVolume(){const tQ=this.localTrackMap.get(Jb.LocalAudioTrack);if(tQ)return tQ.track.getVolumeLevel()}getLocalVideoSize(){const tQ=this.localTrackMap.get(Jb.LocalVideoTrack);if(tQ)return{width:tQ.track.videoWidth||0,height:tQ.track.videoHeight||0}}getEncoderConfig(tQ){const eQ=this.localTrackMap.get(tQ);return eQ&&eQ.track instanceof Hk||eQ&&eQ.track instanceof tk?eQ.track._encoderConfig:void 0}getLocalMedia(tQ){return this.localTrackMap.get(tQ)}hasLocalMedia(){return this.localTrackMap.size>0}hasRemoteMedia(tQ,eQ){if(!tQ)return this.remoteUserMap.size>0;const AQ=this.remoteUserMap.get(tQ);return!!AQ&&(!eQ||AQ.has(eQ))}async hasRemoteMediaWithLock(tQ,eQ){if(!tQ)return this.remoteUserMap.size>0;const AQ=this.remoteUserMap.get(tQ);return!!AQ&&(!eQ||AQ.has(eQ))}getRemoteMedia(tQ){var eQ;const AQ=Array.from(d_(eQ=this.remoteUserMap).call(eQ)).find(iQ=>iQ.uid===tQ);return AQ?{audioTrack:AQ.audioTrack,audioSSRC:AQ._audioSSRC,videoTrack:AQ.videoTrack,videoSSRC:AQ._videoSSRC}:{}}getAudioLevels(){let tQ=Array.from(this.remoteUserMap.entries()).map(AQ=>{let[iQ]=AQ;return{uid:iQ.uid,level:iQ.audioTrack?100*iQ.audioTrack._source.getAccurateVolumeLevel():0}});const eQ=this.localTrackMap.get(Jb.LocalAudioTrack);return eQ&&tQ.push({level:100*eQ.track._source.getAccurateVolumeLevel(),uid:this.store.uid}),tQ=aE(tQ).call(tQ,(AQ,iQ)=>AQ.level-iQ.level),tQ}async disconnectForReconnect(){this.sendConnection&&this.recvConnection&&(Qy.debug("[".concat(this.store.clientId,"] P2PChannel2.disconnectForReconnect closing P2PConnection")),this.state=Xb.Reconnecting,Dy("KEEP_LAST_FRAME")&&this.remoteUserMap.size!==0&&Array.from(this.remoteUserMap.entries()).forEach(tQ=>{let[eQ]=tQ;var AQ;eQ._videoTrack&&eQ._videoTrack._player&&((AQ=eQ._videoTrack._player.getVideoElement())===null||AQ===void 0||AQ.pause(),eQ._videoTrack._player.isKeepLastFrame=!0,eQ._videoTrack._originMediaStreamTrack.stop())}),this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection),this.sendConnection=void 0,this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection),this.recvConnection=void 0,this.localTrackMap.size!==0&&(Array.from(this.localTrackMap.entries()).forEach(tQ=>{var eQ;let[AQ,{track:iQ}]=tQ;switch(AQ){case Jb.LocalVideoTrack:Dn(eQ=iQ._hints).call(eQ,eP.LOW_STREAM)?iQ.close():this.pendingLocalTracks.push(iQ);break;case Jb.LocalAudioTrack:iQ instanceof rk?this.pendingLocalTracks=this.pendingLocalTracks.concat(iQ.trackList):this.pendingLocalTracks.push(iQ);case Jb.LocalVideoLowTrack:}}),this.emit(Qb.MediaReconnectStart,this.store.uid)),this.unbindLocalTrackEvents(),this.localTrackMap.clear(),this.remoteUserMap.size!==0&&Array.from(this.remoteUserMap.entries()).forEach(tQ=>{let[eQ,AQ]=tQ;Array.from(d_(AQ).call(AQ)).forEach(iQ=>{this.setPendingRemoteMedia(eQ,iQ)}),this.emit(Qb.MediaReconnectStart,eQ.uid)}),this.unbindAllRemoteTrackEvents(),this.remoteUserMap.clear(),this.stopUploadUplinkState(),this.stopUploadDownlinkState(),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),Qy.debug("[".concat(this.store.clientId,"] P2PChannel2 disconnected, waiting to reconnect.")))}hasPendingRemoteMedia(tQ,eQ){for(const AQ of this.pendingRemoteTracks){const{user:iQ,kind:oQ}=AQ;if((tQ instanceof iV?tQ.uid:tQ)===iQ.uid&&eQ===oQ)return!0}return!1}setPendingRemoteMedia(tQ,eQ){this.hasPendingRemoteMedia(tQ,eQ)||this.pendingRemoteTracks.push({user:tQ,kind:eQ})}async restartICE(tQ,eQ){let AQ,iQ;if(tQ===fb.SEND_ONLY){if(!this.sendConnection)throw new rv(nv.INVALID_OPERATION,"Cannot call P2PChannel2.handleMuteLocalTrack before sendConnection established.");AQ=await this.sendMutex.lock("From P2PChannel.restartICE"),iQ=this.sendConnection}else{if(!this.recvConnection)throw new rv(nv.INVALID_OPERATION,"Cannot call P2PChannel2.handleMuteLocalTrack before recvConnection established.");AQ=await this.recvMutex.lock("From P2PChannel.restartICE"),iQ=this.recvConnection}try{if(eQ){const oQ=await iQ.restartICE(eQ);return iQ.isInRestartIce=!1,oQ}{const oQ=await iQ.restartICE();if(oQ){const rQ=await kv(this,Qb.RequestP2PRestartICE,{direction:fb.RECEIVE_ONLY,iceParameter:oQ});await iQ.restartICE(rQ),iQ.isInRestartIce=!1}}}finally{AQ()}}getUplinkNetworkQuality(){if(!this.sendConnection)return 0;const tQ=this.sendConnection.getStats(),eQ=this.localTrackMap.get(Jb.LocalVideoTrack),AQ=this.localTrackMap.get(Jb.LocalAudioTrack),iQ=tQ.videoSend.find(CQ=>{var dQ;return CQ.ssrc===(eQ==null||(dQ=eQ.ssrcs)===null||dQ===void 0?void 0:dQ[0].ssrcId)}),oQ=tQ.audioSend.find(CQ=>{var dQ;return CQ.ssrc===(AQ==null||(dQ=AQ.ssrcs)===null||dQ===void 0?void 0:dQ[0].ssrcId)});if(!iQ||!oQ)return 1;const rQ=Uv(this,Qb.NeedSignalRTT),nQ=iQ?iQ.rttMs:void 0,sQ=oQ?oQ.rttMs:void 0,aQ=nQ&&sQ?(nQ+sQ)/2:nQ||sQ,cQ=(aQ&&rQ?(aQ+rQ)/2:aQ||rQ)||0,gQ=100*tQ.sendPacketLossRate*.7/50+.3*cQ/1500,IQ=gQ<.17?1:gQ<.36?2:gQ<.59?3:gQ<.1?4:5,EQ=eQ==null?void 0:eQ.track;if(EQ&&EQ._encoderConfig&&EQ._hints.indexOf(eP.SCREEN_TRACK)===-1){const CQ=EQ._encoderConfig.bitrateMax,dQ=tQ.bitrate.actualEncoded;if(CQ&&dQ){const lQ=(1e3*CQ-dQ)/(1e3*CQ);return dA[lQ<.15?0:lQ<.3?1:lQ<.45?2:lQ<.6?3:4][IQ]}}return IQ}getDownlinkNetworkQuality(){if(!this.recvConnection)return 0;const tQ=this.recvConnection.getStats();let eQ=0;return Array.from(this.remoteUserMap.entries()).forEach(AQ=>{let[iQ]=AQ;const oQ=iQ._audioSSRC,rQ=iQ._videoSSRC,nQ=tQ.audioRecv.find(dQ=>dQ.ssrc===oQ),sQ=tQ.videoRecv.find(dQ=>dQ.ssrc===rQ);if(!nQ&&!sQ)return void(eQ+=1);const aQ=Uv(this,Qb.NeedSignalRTT),cQ=tQ.rtt,gQ=(cQ&&aQ?(cQ+aQ)/2:cQ||aQ)||0,IQ=nQ?nQ.jitterMs:void 0,EQ=tQ.recvPacketLossRate;let CQ=.7*EQ*100/50+.3*gQ/1500;IQ&&(CQ=.6*EQ*100/50+.2*gQ/1500+.2*IQ/400),eQ+=CQ<.1?1:CQ<.17?2:CQ<.36?3:CQ<.59?4:5}),this.remoteUserMap.size>0?Math.round(eQ/this.remoteUserMap.size):eQ}async muteLocalTrack(tQ){return new Gh((eQ,AQ)=>{this.handleMuteLocalTrack(tQ,eQ,AQ)})}filterTobePublishedTracks(tQ,eQ,AQ){const iQ=[],oQ=MD(),rQ=this.getAllTracks();tQ=Bv(tQ=tQ.filter(aQ=>rQ.indexOf(aQ)===-1));let nQ=!1,sQ=!1;for(const aQ of tQ){if(aQ instanceof Hk&&(this.localTrackMap.has(Jb.LocalVideoTrack)||nQ?new rv(nv.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw():(iQ.push({track:aQ,type:Jb.LocalVideoTrack}),nQ=!0),eQ)){const cQ=this.getLowVideoTrack(aQ,AQ);iQ.push({track:cQ,type:Jb.LocalVideoLowTrack})}if(aQ instanceof tk){const cQ=this.localTrackMap.get(Jb.LocalAudioTrack);if(cQ){if(!(cQ.track instanceof rk))throw new rv(nv.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing");if(aQ._bypassWebAudio)throw new rv(nv.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio");cQ.track.addAudioTrack(aQ),this.bindLocalAudioTrackEvents(aQ,!0)}else if(sQ){const gQ=iQ.find(IQ=>{let{type:EQ}=IQ;return EQ===Jb.LocalAudioTrack});if(!(gQ.track instanceof rk))throw new rv(nv.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing");if(aQ._bypassWebAudio)throw new rv(nv.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio");gQ.track.addAudioTrack(aQ)}else{if(!oQ.webAudioMediaStreamDest||aQ instanceof rk||aQ._bypassWebAudio)iQ.push({track:aQ,type:Jb.LocalAudioTrack});else{const gQ=new rk;gQ.addAudioTrack(aQ),iQ.push({track:gQ,type:Jb.LocalAudioTrack})}sQ=!0}}}return iQ}filterTobeUnpublishedTracks(tQ){const eQ=[],AQ=this.getAllTracks();tQ=Bv(tQ=tQ.filter(iQ=>AQ.indexOf(iQ)!==-1));for(const iQ of tQ){if(iQ instanceof tk){const oQ=this.localTrackMap.get(Jb.LocalAudioTrack);if(!oQ)continue;oQ.track instanceof rk?(oQ.track.removeAudioTrack(iQ),this.unbindLocalAudioTrackEvents(iQ),oQ.track.trackList.length===0&&(eQ.push([Jb.LocalAudioTrack,oQ]),oQ.track.close())):eQ.push([Jb.LocalAudioTrack,oQ])}if(iQ instanceof Hk){const oQ=this.localTrackMap.get(Jb.LocalVideoTrack);if(!oQ)continue;eQ.push([Jb.LocalVideoTrack,oQ]);const rQ=this.localTrackMap.get(Jb.LocalVideoLowTrack);rQ&&eQ.push([Jb.LocalVideoLowTrack,rQ])}}return eQ}bindLocalTrackEvents(tQ){tQ.forEach(eQ=>{let{track:AQ,type:iQ}=eQ;switch(iQ){case Jb.LocalVideoTrack:AQ.addListener($D.GET_STATS,this.handleGetLocalVideoStats),AQ.addListener($D.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),AQ.addListener($D.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),AQ.addListener($D.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),AQ.addListener($D.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),AQ.addListener($D.NEED_REPLACE_TRACK,this.handleReplaceTrack),AQ.addListener($D.NEED_MUTE_TRACK,this.handleMuteLocalTrack),AQ.addListener($D.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case Jb.LocalAudioTrack:this.bindLocalAudioTrackEvents(AQ);case Jb.LocalVideoLowTrack:}})}bindLocalAudioTrackEvents(tQ,eQ){tQ instanceof rk?tQ.trackList.forEach(AQ=>{AQ.addListener($D.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),AQ.addListener($D.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),AQ.addListener($D.GET_STATS,this.handleGetLocalAudioStats),AQ.addListener($D.NEED_MUTE_TRACK,this.handleMuteLocalTrack),AQ.addListener($D.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)}):(tQ.addListener($D.GET_STATS,this.handleGetLocalAudioStats),tQ.addListener($D.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),tQ.addListener($D.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),tQ.addListener($D.NEED_MUTE_TRACK,this.handleMuteLocalTrack),tQ.addListener($D.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack),eQ||tQ.addListener($D.NEED_REPLACE_TRACK,this.handleReplaceTrack))}unbindLocalTrackEvents(tQ){tQ||(tQ=Array.from(this.localTrackMap.entries()).map(eQ=>{let[AQ,{track:iQ}]=eQ;return{track:iQ,type:AQ}})),tQ.forEach(eQ=>{let{track:AQ,type:iQ}=eQ;switch(iQ){case Jb.LocalVideoTrack:AQ.off($D.GET_STATS,this.handleGetLocalVideoStats),AQ.off($D.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),AQ.off($D.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),AQ.off($D.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),AQ.off($D.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),AQ.off($D.NEED_REPLACE_TRACK,this.handleReplaceTrack),AQ.off($D.NEED_MUTE_TRACK,this.handleMuteLocalTrack),AQ.off($D.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case Jb.LocalAudioTrack:this.unbindLocalAudioTrackEvents(AQ);case Jb.LocalVideoLowTrack:}})}unbindLocalAudioTrackEvents(tQ){tQ instanceof rk?tQ.trackList.forEach(eQ=>{eQ.off($D.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),eQ.off($D.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),eQ.off($D.GET_STATS,this.handleGetLocalAudioStats),eQ.off($D.NEED_MUTE_TRACK,this.handleMuteLocalTrack),eQ.off($D.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)}):(tQ.off($D.GET_STATS,this.handleGetLocalAudioStats),tQ.off($D.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),tQ.off($D.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),tQ.off($D.NEED_REPLACE_TRACK,this.handleReplaceTrack),tQ.off($D.NEED_MUTE_TRACK,this.handleMuteLocalTrack),tQ.off($D.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack))}bindRemoteTrackEvents(tQ,eQ){eQ instanceof sM&&eQ.addListener($D.GET_STATS,AQ=>{AQ(this.handleGetRemoteVideoStats(tQ))}),eQ instanceof aM&&eQ.addListener($D.GET_STATS,AQ=>{AQ(this.handleGetRemoteAudioStats(tQ))})}unbindRemoteTrackEvents(tQ){tQ&&tQ.removeAllListeners($D.GET_STATS)}unbindAllRemoteTrackEvents(){Array.from(this.remoteUserMap.entries()).forEach(tQ=>{let[eQ,AQ]=tQ;AQ.has(Yb.AUDIO)&&this.unbindRemoteTrackEvents(eQ._audioTrack),AQ.has(Yb.VIDEO)&&this.unbindRemoteTrackEvents(eQ._videoTrack)})}createGatewayPublishMessage(tQ,eQ){return tQ.map((AQ,iQ)=>{var oQ;let rQ,{track:nQ,type:sQ}=AQ;switch(sQ){case Jb.LocalAudioTrack:rQ=Mb.Audio;break;case Jb.LocalVideoTrack:rQ=Dn(oQ=nQ._hints).call(oQ,eP.SCREEN_TRACK)?Mb.Screen:Mb.High;break;case Jb.LocalVideoLowTrack:rQ=Mb.Low}return{kind:sQ===Jb.LocalAudioTrack?Yb.AUDIO:Yb.VIDEO,stream_type:rQ,mid:eQ[iQ].id,ssrcs:eQ[iQ].localSSRC,isMuted:nQ.muted||!nQ.enabled}})}createGatewayUnpublishMessage(tQ){return tQ.map(eQ=>{var AQ;let iQ,[oQ,{track:rQ,ssrcs:nQ,id:sQ}]=eQ;switch(oQ){case Jb.LocalVideoTrack:iQ=Dn(AQ=rQ._hints).call(AQ,eP.SCREEN_TRACK)?Mb.Screen:Mb.High;break;case Jb.LocalAudioTrack:iQ=Mb.Audio;break;case Jb.LocalVideoLowTrack:iQ=Mb.Low}return{stream_type:iQ,ssrcs:nQ,mid:sQ}})}assignLocalTracks(tQ,eQ){tQ.forEach((AQ,iQ)=>{let{track:oQ,type:rQ}=AQ;this.localTrackMap.set(rQ,{track:oQ,id:eQ[iQ].id,ssrcs:eQ[iQ].localSSRC})})}withdrawLocalTracks(tQ){tQ.forEach(eQ=>{let[AQ]=eQ;this.localTrackMap.delete(AQ)})}bindConnectionEvents(tQ){tQ.onConnectionStateChange=async eQ=>{var AQ;Qy.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: ").concat(tQ.name,".onConnectionStateChange(").concat(eQ,")")),this.emit(Qb.PeerConnectionStateChange,eQ),eQ!=="connected"||this.store.keyMetrics.peerConnectionEnd||this.store.peerConnectionEnd(),eQ==="connected"&&(tQ.isInRestartIce=!1),Dn(AQ=this._restartStates).call(AQ,eQ)&&!tQ.isInRestartIce&&(eQ==="disconnected"&&await $v(800),tQ.iceConnectionState!=="disconnected"&&tQ.iceConnectionState!=="failed"||this.handleDisconnect(tQ.direction))},tQ.onICEConnectionStateChange=eQ=>{eQ!=="connected"||this.store.keyMetrics.iceConnectionEnd||this.store.iceConnectionEnd(),Qy.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onICEConnectionStateChange(").concat(eQ,")")),sA.reportApiInvoke(this.store.sessionId,{name:"ICEConnectionStateChange",options:eQ,tag:Iv.TRACER}).onSuccess(),this.emit(Qb.IceConnectionStateChange,eQ)},tQ.onICETransportStateChange=eQ=>{Qy.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onICETransportStateChange(").concat(eQ,")"))},tQ.onDTLSTransportStateChange=eQ=>{Qy.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportStateChange(").concat(eQ,")"))},tQ.onDTLSTransportError=eQ=>{Qy.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportError(").concat(eQ,")"))},tQ.onFirstAudioDecoded=eQ=>{var AQ;const iQ=Array.from(d_(AQ=this.remoteUserMap).call(AQ)).find(rQ=>rQ._audioSSRC===eQ);var oQ;iQ&&(this.store.subscribe(iQ.uid,"audio",void 0,void 0,void 0,Date.now()),(oQ=iQ.audioTrack)===null||oQ===void 0||oQ.emit(sP.FIRST_FRAME_DECODED),sA.firstRemoteFrame(this.store.sessionId,tA.FIRST_AUDIO_DECODE,iA.FIRST_AUDIO_DECODE,{peer:iQ._uintid,subscribeElapse:jU.measureFromSubscribeStart(this.store.clientId,eQ),subscribeRequestid:eQ,p2pid:this.store.p2pId}))},tQ.onFirstAudioReceived=eQ=>{var AQ;const iQ=Array.from(d_(AQ=this.remoteUserMap).call(AQ)).find(oQ=>oQ._audioSSRC===eQ);iQ&&sA.firstRemoteFrame(this.store.sessionId,tA.FIRST_AUDIO_RECEIVED,iA.FIRST_AUDIO_RECEIVED,{peer:iQ._uintid,subscribeElapse:jU.measureFromSubscribeStart(this.store.clientId,eQ),subscribeRequestid:eQ,p2pid:this.store.p2pId})},tQ.onFirstVideoDecoded=(eQ,AQ,iQ)=>{this.reportVideoFirstFrameDecoded(eQ,AQ,iQ)},tQ.onFirstVideoReceived=eQ=>{var AQ;const iQ=Array.from(d_(AQ=this.remoteUserMap).call(AQ)).find(oQ=>oQ._videoSSRC===eQ);iQ&&sA.firstRemoteFrame(this.store.sessionId,tA.FIRST_VIDEO_RECEIVED,iA.FIRST_VIDEO_RECEIVED,{peer:iQ._uintid,subscribeElapse:jU.measureFromSubscribeStart(this.store.clientId,eQ),subscribeRequestid:eQ,p2pid:this.store.p2pId})},tQ.onSelectedLocalCandidateChanged=(eQ,AQ)=>{const iQ=eQ.candidateType==="relay",oQ=AQ.candidateType==="relay";AQ.candidateType!=="unknown"&&iQ===oQ||this.emit(Qb.ConnectionTypeChange,iQ),Qy.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.SelectedLocalCandidateChanged(").concat(JSON.stringify(Bw(AQ))," -> ").concat(JSON.stringify(Bw(eQ)),")"))},tQ.onSelectedRemoteCandidateChanged=(eQ,AQ)=>{Qy.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.SelectedRemoteCandidateChanged(").concat(JSON.stringify(Bw(AQ))," -> ").concat(JSON.stringify(Bw(eQ)),")"))},tQ.onFirstVideoDecodedTimeout=eQ=>{this.reportVideoFirstFrameDecoded(eQ,void 0,void 0,!0)},tQ.onLocalCandidate=eQ=>{this.emit(Qb.LocalCandidate,{candidate:eQ,direction:tQ.direction})}}unbindConnectionEvents(tQ){tQ.onConnectionStateChange=void 0,tQ.onICEConnectionStateChange=void 0,tQ.onICETransportStateChange=void 0,tQ.onDTLSTransportStateChange=void 0,tQ.onDTLSTransportError=void 0,tQ.onFirstAudioDecoded=void 0,tQ.onFirstAudioReceived=void 0,tQ.onFirstVideoDecoded=void 0,tQ.onFirstVideoReceived=void 0,tQ.onSelectedLocalCandidateChanged=void 0,tQ.onSelectedRemoteCandidateChanged=void 0,tQ.onFirstVideoDecodedTimeout=void 0,tQ.onLocalCandidate=void 0}async handleDisconnect(tQ){const eQ=tQ===fb.SEND_ONLY?this.sendConnection:this.recvConnection;eQ&&!eQ.isInRestartIce&&(eQ.isInRestartIce=!0,Qy.debug("[".concat(this.store.clientId,"] [P2PChannel-").concat(eQ.name,"] start use restartICE")),tQ===fb.SEND_ONLY?this.restartICE(tQ):kv(this,Qb.RequestP2PRestartICE,{direction:fb.SEND_ONLY}))}filterTobeMutedTracks(tQ){const eQ=[];if(this.getAllTracks().indexOf(tQ)===-1)return eQ;const AQ=this.localTrackMap.get(Jb.LocalAudioTrack);if(tQ instanceof tk&&(AQ==null?void 0:AQ.track)instanceof rk)return AQ.track.isActive||eQ.push([Jb.LocalAudioTrack,AQ]),eQ;const iQ=Array.from(this.localTrackMap.entries()).find(oQ=>{let[,{track:rQ}]=oQ;return tQ===rQ});if(iQ&&(eQ.push(iQ),iQ[0]===Jb.LocalVideoTrack)){const oQ=this.localTrackMap.get(Jb.LocalVideoLowTrack);oQ&&eQ.push([Jb.LocalVideoLowTrack,oQ])}return eQ}filterTobeUnmutedTracks(tQ){const eQ=[],AQ=this.localTrackMap.get(Jb.LocalAudioTrack);if(tQ instanceof tk&&(AQ==null?void 0:AQ.track)instanceof rk)return AQ.track.isActive&&eQ.push([Jb.LocalAudioTrack,AQ]),eQ;const iQ=Array.from(this.localTrackMap.entries()).find(oQ=>{let[,{track:rQ}]=oQ;return tQ===rQ});if(iQ)if(iQ[0]===Jb.LocalVideoTrack){eQ.push(iQ);const oQ=this.localTrackMap.get(Jb.LocalVideoLowTrack);oQ&&eQ.push([Jb.LocalVideoLowTrack,oQ])}else eQ.push(iQ);return eQ}createMuteMessage(tQ){return tQ.map(eQ=>{var AQ;let iQ,[oQ,{track:rQ,ssrcs:nQ,id:sQ}]=eQ;switch(oQ){case Jb.LocalAudioTrack:iQ=Mb.Audio;break;case Jb.LocalVideoTrack:iQ=Dn(AQ=rQ._hints).call(AQ,eP.SCREEN_TRACK)?Mb.Screen:Mb.High;break;case Jb.LocalVideoLowTrack:iQ=Mb.Low}return{stream_type:iQ,ssrcs:nQ,mid:sQ}})}createUnmuteMessage(tQ){return tQ.map(eQ=>{var AQ;let iQ,[oQ,{track:rQ,ssrcs:nQ,id:sQ}]=eQ;switch(oQ){case Jb.LocalAudioTrack:iQ=Mb.Audio;break;case Jb.LocalVideoTrack:iQ=Dn(AQ=rQ._hints).call(AQ,eP.SCREEN_TRACK)?Mb.Screen:Mb.High;break;case Jb.LocalVideoLowTrack:iQ=Mb.Low}return{stream_type:iQ,ssrcs:nQ,mid:sQ}})}filterTobeUnSubscribedTracks(tQ,eQ){const AQ=[],iQ=this.remoteUserMap.get(tQ);if(!iQ)return AQ;if(eQ){const oQ=iQ.get(eQ);if(!oQ)return AQ;AQ.push([tQ,{kind:eQ,id:oQ}])}else Array.from(iQ.entries()).forEach(oQ=>{let[rQ,nQ]=oQ;AQ.push([tQ,{kind:rQ,id:nQ}])});return AQ}createUnsubscribeMessage(tQ){const eQ=[];return tQ.forEach(AQ=>{let[iQ,{kind:oQ,id:rQ}]=AQ;switch(oQ){case Yb.VIDEO:return void(iQ._videoSSRC&&eQ.push({stream_type:Yb.VIDEO,ssrcId:iQ._videoSSRC}));case Yb.AUDIO:return void(iQ._audioSSRC&&eQ.push({stream_type:Yb.AUDIO,ssrcId:iQ._audioSSRC}))}}),eQ}withdrawRemoteTracks(tQ){tQ.forEach(eQ=>{let[AQ,{kind:iQ}]=eQ;const oQ=this.remoteUserMap.get(AQ);oQ&&(oQ.delete(iQ),Array.from(oQ.entries()).length===0&&this.remoteUserMap.delete(AQ))})}async updateBitrateLimit(tQ){const eQ=this.localTrackMap.get(Jb.LocalVideoTrack),AQ=this.localTrackMap.get(Jb.LocalVideoLowTrack);eQ&&await eQ.track.setBitrateLimit(tQ.uplink),AQ&&tQ.low_stream_uplink&&await AQ.track.setBitrateLimit({max_bitrate:tQ.low_stream_uplink.bitrate,min_bitrate:tQ.low_stream_uplink.bitrate||0})}isP2PDisconnected(){if(this.sendConnection&&this.recvConnection){const tQ=this.sendConnection.peerConnectionState,eQ=this.recvConnection.peerConnectionState;return tQ!=="connected"&&eQ!=="connected"}return!0}async tryToUnmuteAudio(tQ){for(let eQ=0;eQ<tQ.length;eQ++)if(tQ[eQ]instanceof tk){const AQ=this.filterTobeUnmutedTracks(tQ[eQ]);if(AQ.length===0)continue;const iQ=this.createUnmuteMessage(AQ);return void await Mv(this,Qb.RequestUnmuteLocal,iQ)}}bindStatsUploaderEvents(){this.statsUploader.requestStats=tQ=>this.getStats(tQ),this.statsUploader.requestLocalMedia=()=>Array.from(this.localTrackMap.entries()).filter(tQ=>{let[,{ssrcs:eQ}]=tQ;return!!eQ}),this.statsUploader.requestRemoteMedia=()=>Array.from(this.remoteUserMap.entries()),this.statsUploader.requestVideoIsReady=tQ=>{var eQ;return!((eQ=this.recvConnection)===null||eQ===void 0||!eQ.getRemoteVideoIsReady(tQ))},this.statsUploader.requestUpload=(tQ,eQ)=>this.emit(Qb.RequestUpload,tQ,eQ),this.statsUploader.requestUploadStats=tQ=>this.emit(Qb.RequestUploadStats,tQ),this.statsUploader.requestAllTracks=()=>this.getAllTracks()}unbindStatsUploaderEvents(){this.statsUploader.requestStats=void 0,this.statsUploader.requestLocalMedia=void 0,this.statsUploader.requestRemoteMedia=void 0,this.statsUploader.requestVideoIsReady=void 0}async requestReconnect(){this.dtlsFailedCount+=1,await $v(Ey(this.dtlsFailedCount,_y)),this.emit(Qb.RequestReconnect)}async reconnectP2P(){}canPublishLowStream(){return this.localTrackMap.has(Jb.LocalVideoTrack)||this.pendingLocalTracks.some(tQ=>tQ instanceof Hk)}throwIfTrackTypeNotMatch(tQ){if(tQ.filter(eQ=>eQ instanceof Hk).length>1)throw new rv(nv.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(tQ.filter(eQ=>eQ instanceof tk).length>1&&(tQ.some(eQ=>eQ instanceof tk&&eQ._bypassWebAudio)||!MD().webAudioMediaStreamDest))throw new rv(nv.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode");for(const eQ of tQ){if(eQ instanceof Hk&&this.pendingLocalTracks.some(AQ=>AQ instanceof Hk))throw new rv(nv.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(eQ instanceof tk&&this.pendingLocalTracks.some(AQ=>AQ instanceof tk)&&(!MD().webAudioMediaStreamDest||eQ._bypassWebAudio||this.pendingLocalTracks.some(AQ=>AQ instanceof tk&&AQ._bypassWebAudio)))throw new rv(nv.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode")}}getLowVideoTrack(tQ,eQ){const AQ=!Dy("DISABLE_DUAL_STREAM_USE_ENCODING")&&MD().supportDualStreamEncoding,iQ=gV(gV({},{width:160,height:120,framerate:15,bitrate:50}),eQ);let oQ;oQ=AQ?tQ._mediaStreamTrack.clone():Fx(tQ,iQ);const rQ=ey(8,"track-low-"),nQ=new Hk(oQ,gV(gV({},AQ&&{scaleResolutionDownBy:Fw(iQ,tQ)}),{},{frameRate:iQ.framerate,bitrateMax:iQ.bitrate,bitrateMin:iQ.bitrate}),void 0,void 0,rQ);return nQ.on(rP.TRANSCEIVER_UPDATED,sQ=>{tQ._updateRtpTransceiver(sQ,tP.LOW_STREAM)}),nQ._hints.push(eP.LOW_STREAM),tQ.addListener($D.NEED_CLOSE,()=>{nQ.close()}),nQ}async globalLock(){return this.recvMutex.lock("From P2PChannel2.globalLock")}reportVideoFirstFrameDecoded(tQ,eQ,AQ,iQ){var oQ;const rQ=Array.from(d_(oQ=this.remoteUserMap).call(oQ)).find(nQ=>nQ._videoSSRC===tQ);if(rQ){iQ||this.store.subscribe(rQ.uid,"video",void 0,void 0,void 0,void 0,Date.now());const nQ=this.store.keyMetrics,sQ=nQ.subscribe.find(aQ=>aQ.userId===rQ.uid&&aQ.type==="video");sA.firstRemoteVideoDecode(this.store.sessionId,tA.FIRST_VIDEO_DECODE,iA.FIRST_VIDEO_DECODE,{peer:rQ._uintid,videowidth:eQ,videoheight:AQ,subscribeElapse:jU.measureFromSubscribeStart(this.store.clientId,tQ),subscribeRequestid:tQ,p2pid:this.store.p2pId,apEnd:nQ.requestAPEnd||0,apStart:nQ.requestAPStart||0,joinGwEnd:nQ.joinGatewayEnd||0,joinGwStart:nQ.joinGatewayStart||0,pcEnd:nQ.peerConnectionEnd||0,pcStart:nQ.peerConnectionStart||0,subscriberEnd:(sQ==null?void 0:sQ.subscribeEnd)||0,subscriberStart:(sQ==null?void 0:sQ.subscribeStart)||0,videoAddNotify:(sQ==null?void 0:sQ.streamAdded)||0,state:iQ?1:0})}}async remoteMediaSsrcChanged(tQ,eQ,AQ){if(!this.recvConnection)return!1;const iQ=this.remoteUserMap.get(tQ);if(!iQ)return!1;const oQ=iQ.get(eQ);if(!oQ)return!1;const rQ=await this.recvConnection.getRemoteSSRC(oQ);return rQ!==void 0&&rQ!==AQ}isPreSubScribe(tQ){return!1}async publishDataChannel(tQ){throw new rv(nv.NOT_SUPPORTED)}async unpublishDataChannel(tQ){throw new rv(nv.NOT_SUPPORTED)}async subscribeDataChannel(tQ,eQ){throw new rv(nv.NOT_SUPPORTED)}async unsubscribeDataChannel(tQ,eQ){throw new rv(nv.NOT_SUPPORTED)}hasPendingRemoteDataChannel(tQ,eQ){throw new rv(nv.NOT_SUPPORTED)}setPendingRemoteDataChannel(tQ,eQ){throw new rv(nv.NOT_SUPPORTED)}async preConnect(tQ){throw new rv(nv.NOT_SUPPORTED)}getEstablishParams(){throw new rv(nv.NOT_SUPPORTED)}async reSubscribe(tQ){throw new rv(nv.NOT_SUPPORTED)}async updateVideoStreamParameter(tQ,eQ){throw new rv(nv.NOT_SUPPORTED)}unbindRtpTransceiver(){this.localTrackMap.size!==0&&Array.from(this.localTrackMap.entries()).forEach(tQ=>{let[eQ,{track:AQ}]=tQ;eQ===Jb.LocalVideoLowTrack?AQ._updateRtpTransceiver(void 0,tP.LOW_STREAM):AQ._updateRtpTransceiver(void 0)})}},rb(TV.prototype,"p2pConnect",[aV],Object.getOwnPropertyDescriptor(TV.prototype,"p2pConnect"),TV.prototype),rb(TV.prototype,"unpublish",[cV],Object.getOwnPropertyDescriptor(TV.prototype,"unpublish"),TV.prototype),rb(TV.prototype,"unpublishLowStream",[dV],Object.getOwnPropertyDescriptor(TV.prototype,"unpublishLowStream"),TV.prototype),rb(TV.prototype,"subscribe",[lV],Object.getOwnPropertyDescriptor(TV.prototype,"subscribe"),TV.prototype),rb(TV.prototype,"mockSubscribe",[uV],Object.getOwnPropertyDescriptor(TV.prototype,"mockSubscribe"),TV.prototype),rb(TV.prototype,"unsubscribe",[hV],Object.getOwnPropertyDescriptor(TV.prototype,"unsubscribe"),TV.prototype),rb(TV.prototype,"muteRemote",[pV],Object.getOwnPropertyDescriptor(TV.prototype,"muteRemote"),TV.prototype),rb(TV.prototype,"unmuteRemote",[_V],Object.getOwnPropertyDescriptor(TV.prototype,"unmuteRemote"),TV.prototype),rb(TV.prototype,"hasRemoteMediaWithLock",[EV],Object.getOwnPropertyDescriptor(TV.prototype,"hasRemoteMediaWithLock"),TV.prototype),rb(TV.prototype,"disconnectForReconnect",[mV],Object.getOwnPropertyDescriptor(TV.prototype,"disconnectForReconnect"),TV.prototype),rb(TV.prototype,"remoteMediaSsrcChanged",[fV],Object.getOwnPropertyDescriptor(TV.prototype,"remoteMediaSsrcChanged"),TV.prototype),TV);function CV(tQ){return function(eQ,AQ,iQ){const oQ=eQ[AQ];if(typeof oQ!="function")throw new Error("Cannot use mutex on object property.");return iQ.value=async function(){for(var rQ=arguments.length,nQ=new Array(rQ),sQ=0;sQ<rQ;sQ++)nQ[sQ]=arguments[sQ];switch(tQ){case nV.SEND_ONLY:{const aQ=await this.sendMutex.lock("From P2PChannel2.".concat(AQ));try{return await oQ.apply(this,nQ)}finally{aQ()}}case nV.RECEIVE_ONLY:{const aQ=await this.recvMutex.lock("From P2PChannel2.".concat(AQ));try{return await oQ.apply(this,nQ)}finally{aQ()}}default:{const aQ=await this.sendMutex.lock("From P2PChannel2.".concat(AQ)),cQ=await this.recvMutex.lock("From P2PChannel2.".concat(AQ));try{return await oQ.apply(this,nQ)}finally{aQ(),cQ()}}}},iQ}}function IV(tQ,eQ){var AQ=Object.keys(tQ);if(Object.getOwnPropertySymbols){var iQ=Object.getOwnPropertySymbols(tQ);eQ&&(iQ=iQ.filter(function(oQ){return Object.getOwnPropertyDescriptor(tQ,oQ).enumerable})),AQ.push.apply(AQ,iQ)}return AQ}function vV(tQ){for(var eQ=1;eQ<arguments.length;eQ++){var AQ=arguments[eQ]!=null?arguments[eQ]:{};eQ%2?IV(Object(AQ),!0).forEach(function(iQ){og(tQ,iQ,AQ[iQ])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tQ,Object.getOwnPropertyDescriptors(AQ)):IV(Object(AQ)).forEach(function(iQ){Object.defineProperty(tQ,iQ,Object.getOwnPropertyDescriptor(AQ,iQ))})}return tQ}class yV{constructor(eQ){og(this,"store",void 0),og(this,"onStatsException",void 0),og(this,"onUploadPublishDuration",void 0),og(this,"onStatsChanged",void 0),og(this,"localStats",new Map),og(this,"remoteStats",new Map),og(this,"updateStatsInterval",void 0),og(this,"trafficStats",void 0),og(this,"trafficStatsPeerList",[]),og(this,"uplinkStats",void 0),og(this,"exceptionMonitor",void 0),og(this,"p2pChannel",void 0),og(this,"scalabilityMode",ob.L1T1),og(this,"updateStats",()=>{this.p2pChannel&&(this.updateRemoteStats(this.p2pChannel),this.updateLocalStats(this.p2pChannel))}),this.store=eQ,this.exceptionMonitor=new FU,this.exceptionMonitor.on("exception",(AQ,iQ,oQ)=>{this.onStatsException&&this.onStatsException(AQ,iQ,oQ)})}startUpdateStats(){this.updateStatsInterval||(this.updateStatsInterval=window.setInterval(this.updateStats,1e3))}stopUpdateStats(){this.updateStatsInterval&&(window.clearInterval(this.updateStatsInterval),this.updateStatsInterval=void 0)}reset(){this.localStats=new Map,this.remoteStats=new Map,this.trafficStats=void 0,this.trafficStatsPeerList=[],this.uplinkStats=void 0}getLocalAudioTrackStats(){return this.localStats.get(Jb.LocalAudioTrack)||vV({},dP)}getLocalVideoTrackStats(){return this.localStats.get(Jb.LocalVideoTrack)||vV({},lP)}getRemoteAudioTrackStats(eQ){const AQ=(rQ,nQ)=>{if(!this.trafficStats)return nQ;const sQ=this.trafficStats.peer_delay.find(aQ=>aQ.peer_uid===rQ);return sQ&&(nQ.publishDuration=sQ.B_ppad+(Date.now()-this.trafficStats.timestamp)),nQ},iQ={};if(eQ){var oQ;const rQ=(oQ=this.remoteStats.get(eQ))===null||oQ===void 0?void 0:oQ.audioStats;rQ&&(iQ[eQ]=AQ(eQ,rQ))}else Array.from(this.remoteStats.entries()).forEach(rQ=>{let[nQ,{audioStats:sQ}]=rQ;sQ&&(iQ[nQ]=AQ(nQ,sQ))});return iQ}getRemoteNetworkQualityStats(eQ){const AQ={};if(eQ){var iQ;const oQ=(iQ=this.remoteStats.get(eQ))===null||iQ===void 0?void 0:iQ.networkStats;oQ&&(AQ[eQ]=oQ)}else Array.from(this.remoteStats.entries()).forEach(oQ=>{let[rQ,{networkStats:nQ}]=oQ;nQ&&(AQ[rQ]=nQ)});return AQ}getRemoteVideoTrackStats(eQ){const AQ=(rQ,nQ)=>{if(!this.trafficStats)return nQ;const sQ=this.trafficStats.peer_delay.find(aQ=>aQ.peer_uid===rQ);return sQ&&(nQ.publishDuration=sQ.B_ppvd+(Date.now()-this.trafficStats.timestamp)),nQ},iQ={};if(eQ){var oQ;const rQ=(oQ=this.remoteStats.get(eQ))===null||oQ===void 0?void 0:oQ.videoStats;rQ&&(iQ[eQ]=AQ(eQ,rQ))}else Array.from(this.remoteStats.entries()).forEach(rQ=>{let[nQ,{videoStats:sQ}]=rQ;sQ&&(iQ[nQ]=AQ(nQ,sQ))});return iQ}getRTCStats(){let eQ=0,AQ=0,iQ=0,oQ=0;const rQ=this.localStats.get(Jb.LocalAudioTrack);rQ&&(eQ+=rQ.sendBytes,AQ+=rQ.sendBitrate);const nQ=this.localStats.get(Jb.LocalVideoTrack);nQ&&(eQ+=nQ.sendBytes,AQ+=nQ.sendBitrate);const sQ=this.localStats.get(Jb.LocalVideoLowTrack);sQ&&(eQ+=sQ.sendBytes,AQ+=sQ.sendBitrate),this.remoteStats.forEach(cQ=>{let{audioStats:gQ,videoStats:IQ}=cQ;gQ&&(iQ+=gQ.receiveBytes,oQ+=gQ.receiveBitrate),IQ&&(iQ+=IQ.receiveBytes,oQ+=IQ.receiveBitrate)});let aQ=1;return this.trafficStats&&(aQ+=this.trafficStats.peer_delay.length),{Duration:0,UserCount:aQ,SendBitrate:AQ,SendBytes:eQ,RecvBytes:iQ,RecvBitrate:oQ,OutgoingAvailableBandwidth:this.uplinkStats?this.uplinkStats.B_uab/1e3:0,RTT:this.trafficStats?2*this.trafficStats.B_acd:0}}addLocalStats(eQ){this.localStats.set(eQ,void 0)}removeLocalStats(eQ){eQ?this.localStats.delete(eQ):this.localStats.clear()}addRemoteStats(eQ){this.remoteStats.set(eQ,{})}removeRemoteStats(eQ){eQ?this.remoteStats.delete(eQ):this.remoteStats.clear()}addP2PChannel(eQ){this.p2pChannel=eQ}updateTrafficStats(eQ){eQ.peer_delay=eQ.peer_delay.filter(AQ=>AQ.B_ppad!==void 0||AQ.B_ppvd!==void 0),eQ.peer_delay.filter(AQ=>this.trafficStatsPeerList.indexOf(AQ.peer_uid)===-1).forEach(AQ=>{var iQ;const oQ=(iQ=this.p2pChannel)===null||iQ===void 0?void 0:iQ.getRemoteMedia(AQ.peer_uid),rQ=oQ!=null&&oQ.videoSSRC?jU.measureFromSubscribeStart(this.store.clientId,oQ.videoSSRC):0,nQ=oQ!=null&&oQ.audioSSRC?jU.measureFromSubscribeStart(this.store.clientId,oQ.audioSSRC):0;AQ.B_ppad!==void 0&&AQ.B_ppvd!==void 0&&(this.onUploadPublishDuration&&this.onUploadPublishDuration(AQ.peer_uid,AQ.B_ppad,AQ.B_ppvd,rQ>nQ?rQ:nQ),this.trafficStatsPeerList.push(AQ.peer_uid))}),this.trafficStats=eQ}updateUplinkStats(eQ){this.uplinkStats&&this.uplinkStats.B_fir!==eQ.B_fir&&Qy.debug("[".concat(this.store.clientId,"]: Period fir changes to ").concat(eQ.B_fir)),this.uplinkStats=eQ}static isRemoteVideoFreeze(eQ,AQ,iQ){if(!eQ)return!1;const oQ=!!iQ&&AQ.framesDecodeFreezeTime>iQ.framesDecodeFreezeTime,rQ=!iQ||AQ.framesDecodeCount>iQ.framesDecodeCount;return oQ||!rQ}static isRemoteAudioFreeze(eQ){return!!eQ&&eQ._isFreeze()}isLocalVideoFreeze(eQ){return!(!eQ.inputFrame||!eQ.sentFrame)&&eQ.inputFrame.frameRate>5&&eQ.sentFrame.frameRate<3}updateLocalStats(eQ){Array.from(this.localStats.entries()).forEach(AQ=>{let[iQ,oQ]=AQ;switch(iQ){case Jb.LocalVideoTrack:case Jb.LocalVideoLowTrack:{const nQ=oQ,sQ=vV({},lP),aQ=eQ.getStats(),cQ=eQ.getLocalMedia(iQ);if(aQ){const gQ=aQ.videoSend.find(IQ=>IQ.ssrc===(cQ==null?void 0:cQ.ssrcs[0].ssrcId));if(gQ){const IQ=eQ.getLocalVideoSize(),EQ=eQ.getEncoderConfig(Jb.LocalVideoTrack);gQ.codec!=="H264"&&gQ.codec!=="H265"&&gQ.codec!=="VP8"&&gQ.codec!=="VP9"&&gQ.codec!=="AV1X"&&gQ.codec!=="AV1"||(sQ.codecType=gQ.codec),sQ.sendBytes=gQ.bytes,sQ.sendBitrate=nQ?8*Math.max(0,sQ.sendBytes-nQ.sendBytes):0,gQ.inputFrame?(sQ.captureFrameRate=gQ.inputFrame.frameRate,sQ.captureResolutionHeight=gQ.inputFrame.height,sQ.captureResolutionWidth=gQ.inputFrame.width):IQ&&(sQ.captureResolutionWidth=IQ.width,sQ.captureResolutionHeight=IQ.height),gQ.sentFrame?(sQ.sendFrameRate=gQ.sentFrame.frameRate,sQ.sendResolutionHeight=gQ.sentFrame.height,sQ.sendResolutionWidth=gQ.sentFrame.width):IQ&&(sQ.sendResolutionWidth=IQ.width,sQ.sendResolutionHeight=IQ.height),gQ.avgEncodeMs&&(sQ.encodeDelay=gQ.avgEncodeMs),EQ&&EQ.bitrateMax&&(sQ.targetSendBitrate=1e3*EQ.bitrateMax),sQ.sendPackets=gQ.packets,sQ.sendPacketsLost=gQ.packetsLost,sQ.sendJitterMs=gQ.jitterMs,sQ.sendRttMs=gQ.rttMs,sQ.totalDuration=nQ?nQ.totalDuration+1:1,sQ.totalFreezeTime=nQ?nQ.totalFreezeTime:0,this.isLocalVideoFreeze(gQ)&&(sQ.totalFreezeTime+=1),gQ.scalabilityMode&&this.scalabilityMode!==gQ.scalabilityMode&&(Qy.debug("[".concat(this.store.clientId,"]: The scalabilityMode of the video sending stream is ").concat(gQ.scalabilityMode)),this.scalabilityMode=gQ.scalabilityMode)}this.trafficStats&&(sQ.currentPacketLossRate=(this.trafficStats.B_pvlr4||0)/100)}var rQ;this.localStats.set(iQ,sQ),((nQ==null?void 0:nQ.sendResolutionWidth)!==sQ.sendResolutionWidth||(nQ==null?void 0:nQ.sendResolutionHeight)!==sQ.sendResolutionHeight)&&((rQ=this.onStatsChanged)===null||rQ===void 0||rQ.call(this,"resolution",{width:sQ.sendResolutionWidth,height:sQ.sendResolutionHeight})),sQ&&cQ&&this.exceptionMonitor.setLocalVideoStats(this.store.uid,cQ.track,sQ);break}case Jb.LocalAudioTrack:{const nQ=oQ,sQ=vV({},dP),aQ=eQ.getStats(),cQ=eQ.getLocalMedia(iQ);if(aQ){const gQ=aQ.audioSend.find(IQ=>IQ.ssrc===(cQ==null?void 0:cQ.ssrcs[0].ssrcId));if(gQ){if(gQ.codec!=="opus"&&gQ.codec!=="aac"&&gQ.codec!=="PCMU"&&gQ.codec!=="PCMA"&&gQ.codec!=="G722"||(sQ.codecType=gQ.codec),gQ.inputLevel)sQ.sendVolumeLevel=Math.round(32767*gQ.inputLevel);else{const IQ=eQ.getLocalAudioVolume();IQ&&(sQ.sendVolumeLevel=Math.round(32767*IQ))}sQ.sendBytes=gQ.bytes,sQ.sendPackets=gQ.packets,sQ.sendPacketsLost=gQ.packetsLost,sQ.sendJitterMs=gQ.jitterMs,sQ.sendRttMs=gQ.rttMs,sQ.sendBitrate=nQ?8*Math.max(0,sQ.sendBytes-nQ.sendBytes):0}}this.trafficStats&&(sQ.currentPacketLossRate=(this.trafficStats.B_palr4||0)/100),this.localStats.set(Jb.LocalAudioTrack,sQ),sQ&&cQ&&this.exceptionMonitor.setLocalAudioStats(this.store.uid,cQ.track,sQ);break}}})}updateRemoteStats(eQ){Array.from(this.remoteStats.entries()).forEach(AQ=>{var iQ,oQ;let[rQ,{videoStats:nQ,audioStats:sQ,videoPcStats:aQ}]=AQ;const cQ=sQ,gQ=nQ,IQ=aQ,EQ=vV({},uP),CQ=vV({},pP),dQ=vV({},hP),{audioTrack:lQ,videoTrack:uQ,audioSSRC:hQ,videoSSRC:BQ}=eQ.getRemoteMedia(rQ);let QQ;QQ=eQ instanceof RV?eQ.getStats(!0):eQ.getStats();const fQ=(iQ=QQ)===null||iQ===void 0?void 0:iQ.audioRecv.find(wQ=>wQ.ssrc===hQ),_Q=(oQ=QQ)===null||oQ===void 0?void 0:oQ.videoRecv.find(wQ=>wQ.ssrc===BQ),RQ=this.trafficStats&&this.trafficStats.peer_delay.find(wQ=>wQ.peer_uid===rQ);if(fQ&&(fQ.codec!=="opus"&&fQ.codec!=="aac"&&fQ.codec!=="PCMU"&&fQ.codec!=="PCMA"&&fQ.codec!=="G722"||(EQ.codecType=fQ.codec),fQ.outputLevel?EQ.receiveLevel=Math.round(32767*fQ.outputLevel):lQ&&(EQ.receiveLevel=Math.round(32767*lQ.getVolumeLevel())),EQ.receiveBytes=fQ.bytes,EQ.receivePackets=fQ.packets,EQ.receivePacketsLost=fQ.packetsLost,EQ.receivePacketsDiscarded=fQ.packetsDiscarded,EQ.packetLossRate=EQ.receivePacketsLost/(EQ.receivePackets+EQ.receivePacketsLost),EQ.receiveBitrate=cQ?8*Math.max(0,EQ.receiveBytes-cQ.receiveBytes):0,EQ.totalDuration=cQ?cQ.totalDuration+1:1,EQ.totalFreezeTime=cQ?cQ.totalFreezeTime:0,EQ.freezeRate=EQ.totalFreezeTime/EQ.totalDuration,EQ.receiveDelay=fQ.jitterBufferMs,EQ.totalDuration>10&&yV.isRemoteAudioFreeze(lQ)&&(EQ.totalFreezeTime+=1)),_Q){_Q.codec!=="H264"&&_Q.codec!=="H265"&&_Q.codec!=="VP8"&&_Q.codec!=="VP9"&&_Q.codec!=="AV1X"&&_Q.codec!=="AV1"||(CQ.codecType=_Q.codec),CQ.receiveBytes=_Q.bytes,CQ.receiveBitrate=gQ?8*Math.max(0,CQ.receiveBytes-gQ.receiveBytes):0,CQ.decodeFrameRate=_Q.decodeFrameRate<0?0:_Q.decodeFrameRate,CQ.renderFrameRate=_Q.decodeFrameRate<0?0:_Q.decodeFrameRate,_Q.outputFrame&&(CQ.renderFrameRate=_Q.outputFrame.frameRate),_Q.receivedFrame?(CQ.receiveFrameRate=_Q.receivedFrame.frameRate,CQ.receiveResolutionHeight=_Q.receivedFrame.height,CQ.receiveResolutionWidth=_Q.receivedFrame.width):uQ&&(CQ.receiveResolutionHeight=uQ._videoHeight||0,CQ.receiveResolutionWidth=uQ._videoWidth||0),_Q.framesRateFirefox!==void 0&&(CQ.receiveFrameRate=Math.round(_Q.framesRateFirefox)),CQ.receivePackets=_Q.packets,CQ.receivePacketsLost=_Q.packetsLost,CQ.packetLossRate=CQ.receivePacketsLost/(CQ.receivePackets+CQ.receivePacketsLost),CQ.totalDuration=gQ?gQ.totalDuration+1:1,CQ.totalFreezeTime=gQ?gQ.totalFreezeTime:0,CQ.receiveDelay=_Q.jitterBufferMs||0;const wQ=!!BQ&&eQ.getRemoteVideoIsReady(BQ);uQ&&wQ&&yV.isRemoteVideoFreeze(uQ,_Q,IQ)&&(CQ.totalFreezeTime+=1),CQ.freezeRate=CQ.totalFreezeTime/CQ.totalDuration}RQ&&(EQ.end2EndDelay=RQ.B_ad,CQ.end2EndDelay=RQ.B_vd,EQ.transportDelay=RQ.B_ed,CQ.transportDelay=RQ.B_ed,EQ.currentPacketLossRate=RQ.B_ealr4/100,CQ.currentPacketLossRate=RQ.B_evlr4/100,dQ.uplinkNetworkQuality=RQ.B_punq?RQ.B_punq:0,dQ.downlinkNetworkQuality=RQ.B_pdnq?RQ.B_pdnq:0),this.remoteStats.set(rQ,{audioStats:EQ,videoStats:CQ,videoPcStats:_Q,networkStats:dQ}),lQ&&this.exceptionMonitor.setRemoteAudioStats(lQ,EQ),uQ&&this.exceptionMonitor.setRemoteVideoStats(uQ,CQ)})}}class AV{constructor(){og(this,"destChannelMediaInfos",new Map),og(this,"srcChannelMediaInfo",void 0)}setSrcChannelInfo(eQ){Nb(eQ),this.srcChannelMediaInfo=eQ}addDestChannelInfo(eQ){Nb(eQ),this.destChannelMediaInfos.set(eQ.channelName,eQ)}removeDestChannelInfo(eQ){gb(eQ),this.destChannelMediaInfos.delete(eQ)}getSrcChannelMediaInfo(){return this.srcChannelMediaInfo}getDestChannelMediaInfo(){return this.destChannelMediaInfos}}function bV(tQ){if(!(tQ instanceof AV))return new Sb(nv.INVALID_PARAMS,"Config should be instance of [ChannelMediaRelayConfiguration]").throw();const eQ=tQ.getSrcChannelMediaInfo(),AQ=tQ.getDestChannelMediaInfo();if(!eQ)return new Sb(nv.INVALID_PARAMS,"srcChannelMediaInfo should not be empty").throw();if(AQ.size===0)return new Sb(nv.INVALID_PARAMS,"destChannelMediaInfo should not be empty").throw()}function wV(tQ){var eQ={},AQ=!1;function iQ(oQ,rQ){return AQ=!0,{done:!1,value:new GU(rQ=new zU(function(nQ){nQ(tQ[oQ](rQ))}),1)}}return eQ[eg!==void 0&&tg||"@@iterator"]=function(){return this},eQ.next=function(oQ){return AQ?(AQ=!1,oQ):iQ("next",oQ)},typeof tQ.throw=="function"&&(eQ.throw=function(oQ){if(AQ)throw AQ=!1,oQ;return iQ("throw",oQ)}),typeof tQ.return=="function"&&(eQ.return=function(oQ){return AQ?(AQ=!1,oQ):iQ("return",oQ)}),eQ}var OV=i(JU);function NV(tQ,eQ){var AQ=Object.keys(tQ);if(Object.getOwnPropertySymbols){var iQ=Object.getOwnPropertySymbols(tQ);eQ&&(iQ=iQ.filter(function(oQ){return Object.getOwnPropertyDescriptor(tQ,oQ).enumerable})),AQ.push.apply(AQ,iQ)}return AQ}function DV(tQ){for(var eQ=1;eQ<arguments.length;eQ++){var AQ=arguments[eQ]!=null?arguments[eQ]:{};eQ%2?NV(Object(AQ),!0).forEach(function(iQ){og(tQ,iQ,AQ[iQ])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tQ,Object.getOwnPropertyDescriptors(AQ)):NV(Object(AQ)).forEach(function(iQ){Object.defineProperty(tQ,iQ,Object.getOwnPropertyDescriptor(AQ,iQ))})}return tQ}var PV;function LV(tQ,eQ){var AQ=Object.keys(tQ);if(Object.getOwnPropertySymbols){var iQ=Object.getOwnPropertySymbols(tQ);eQ&&(iQ=iQ.filter(function(oQ){return Object.getOwnPropertyDescriptor(tQ,oQ).enumerable})),AQ.push.apply(AQ,iQ)}return AQ}function kV(tQ){for(var eQ=1;eQ<arguments.length;eQ++){var AQ=arguments[eQ]!=null?arguments[eQ]:{};eQ%2?LV(Object(AQ),!0).forEach(function(iQ){og(tQ,iQ,AQ[iQ])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tQ,Object.getOwnPropertyDescriptors(AQ)):LV(Object(AQ)).forEach(function(iQ){Object.defineProperty(tQ,iQ,Object.getOwnPropertyDescriptor(AQ,iQ))})}return tQ}let MV=(PV=class m0 extends Kb{get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get localCodecs(){return[...new Set(this.localCapabilities&&this.localCapabilities.videoCodecs.map(eQ=>eQ.rtpMap&&eQ.rtpMap.encodingName.toLowerCase()||"").filter(eQ=>{var AQ;return Dn(AQ=Object.keys(My)).call(AQ,eQ)}))]}constructor(eQ,AQ){super(eQ,AQ),og(this,"store",void 0),og(this,"peerConnection",void 0),og(this,"remoteSDP",void 0),og(this,"initialOffer",void 0),og(this,"statsFilter",void 0),og(this,"useRTX",!1),og(this,"localCapabilities",void 0),og(this,"localCandidateCount",0),og(this,"allCandidatesReceived",!1),og(this,"establishPromise",void 0),og(this,"mutex",new hy("P2PConnection-mutex")),this.store=AQ,this.peerConnection=new RTCPeerConnection(m0.resolvePCConfiguration(eQ),{optional:[{googDscp:!0}]}),this.statsFilter=Dx(this.peerConnection,Dy("STATS_UPDATE_INTERVAL"),void 0,kI()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1,this.establishPromise=this.establish()}async establish(){try{const eQ=await this.peerConnection.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});if(!eQ.sdp)throw new Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");const AQ=bM(eQ.sdp),iQ=AM(eQ.sdp,{filterRTX:!this.useRTX,filterVideoFec:Dy("FILTER_VIDEO_FEC"),filterAudioFec:Dy("FILTER_AUDIO_FEC"),filterAudioCodec:["opus"]});return this.localCapabilities=iQ,this.initialOffer=eQ,kV(kV({},AQ),{},{rtpCapabilities:{send:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},recv:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},sendrecv:iQ},offerSDP:eQ.sdp})}catch(eQ){throw new rv(nv.GET_LOCAL_CONNECTION_PARAMS_FAILED,eQ.toString())}}async updateRemoteConnect(){}async connect(eQ){try{if(!this.initialOffer)throw new Error("Cannot establish P2PConnection without initial offer.");this.remoteSDP=new class{constructor(iQ){og(this,"sessionDesc",void 0),og(this,"localCapabilities",void 0),og(this,"rtpCapabilities",void 0),og(this,"candidates",void 0),og(this,"iceParameters",void 0),og(this,"dtlsParameters",void 0),og(this,"setup",void 0),og(this,"currentMidIndex",void 0),og(this,"cname",void 0),iQ=Gv(iQ);const{iceParameters:oQ,dtlsParameters:rQ,candidates:nQ,rtpCapabilities:sQ,setup:aQ,localCapabilities:cQ,sdkCodec:gQ,cname:IQ}=iQ,EQ=CM.parse(`v=0
o=- 0 0 IN IP4 127.0.0.1
s=AgoraGateway
t=0 0
a=group:BUNDLE audio video
a=msid-semantic: WMS
a=ice-lite
m=audio 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=sendrecv
a=rtcp-mux
a=rtcp-rsize
a=mid:audio
m=video 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=sendrecv
a=rtcp-mux
a=rtcp-rsize
a=mid:video
`);this.rtpCapabilities=sQ,this.candidates=nQ,this.iceParameters=oQ,this.dtlsParameters=rQ,this.setup=aQ,this.localCapabilities=cQ,this.cname=IQ;for(let CQ=0;CQ<EQ.mediaDescriptions.length;CQ++){const dQ=EQ.mediaDescriptions[CQ];if(dQ.attributes.iceUfrag=oQ.iceUfrag,dQ.attributes.icePwd=oQ.icePwd,dQ.attributes.fingerprints=rQ.fingerprints,dQ.attributes.candidates=nQ,dQ.attributes.setup=aQ,dQ.media.mediaType==="video"){dQ.media.fmts=sQ.videoCodecs.map(uQ=>uQ.payloadType.toString(10));let lQ=sQ.videoCodecs.filter(uQ=>{var hQ,BQ;return(hQ=uQ.rtpMap)===null||hQ===void 0?void 0:Dn(BQ=hQ.encodingName.toLowerCase()).call(BQ,gQ)});lQ.length===0&&(lQ=sQ.videoCodecs),dQ.attributes.payloads=lQ,dQ.attributes.extmaps=sQ.videoExtensions}dQ.media.mediaType==="audio"&&(dQ.media.fmts=sQ.audioCodecs.map(lQ=>lQ.payloadType.toString(10)),dQ.attributes.payloads=sQ.audioCodecs,dQ.attributes.extmaps=sQ.audioExtensions),EQ.mediaDescriptions[CQ]=this.mungMediaDesc(dQ)}this.sessionDesc=EQ,this.currentMidIndex=EQ.mediaDescriptions.length-1}toString(){return CM.print(this.sessionDesc)}send(iQ,oQ,rQ){const{ssrcs:nQ,ssrcGroups:sQ}=DM(oQ,this.cname),aQ=this.sessionDesc.mediaDescriptions.find(IQ=>iQ===Yb.VIDEO?IQ.media.mediaType==="video":IQ.media.mediaType==="audio"),cQ=nQ[0].attributes.label,gQ=nQ[0].attributes.mslabel;return aQ.attributes.ssrcs=aQ.attributes.ssrcs.concat(nQ),aQ.attributes.ssrcGroups=aQ.attributes.ssrcGroups.concat(sQ),{id:cQ,mslabel:gQ}}batchSend(iQ){return iQ.map(oQ=>{let{kind:rQ,ssrcMsg:nQ}=oQ;return this.send(rQ,nQ,void 0)})}stopSending(iQ){this.sessionDesc.mediaDescriptions.forEach(oQ=>{const rQ=[],nQ=[],sQ=[];oQ.attributes.ssrcs.forEach(aQ=>{Dn(iQ).call(iQ,aQ.attributes.label||"")?sQ.push(aQ):rQ.push(aQ)}),oQ.attributes.ssrcGroups.forEach(aQ=>{var cQ;Dn(cQ=sQ.map(gQ=>gQ.ssrcId)).call(cQ,aQ.ssrcIds[0])||nQ.push(aQ)}),oQ.attributes.ssrcs=rQ,oQ.attributes.ssrcGroups=nQ})}mute(iQ){const oQ=this.sessionDesc.mediaDescriptions.find(rQ=>rQ.attributes.mid===iQ);if(!oQ)throw new Error("mediaDescription not found with ".concat(iQ," in remote SDP when calling RemoteSDP.mute."));oQ.attributes.direction="inactive"}unmute(iQ){const oQ=this.sessionDesc.mediaDescriptions.find(rQ=>rQ.attributes.mid===iQ);if(!oQ)throw new Error("mediaDescription not found with ".concat(iQ," in remote SDP when calling RemoteSDP.unmute."));oQ.attributes.direction="sendonly"}receive(iQ,oQ,rQ){iQ.forEach((nQ,sQ)=>{const aQ=nQ._mediaStreamTrack,cQ=this.sessionDesc.mediaDescriptions.findIndex(IQ=>IQ.attributes.mid===aQ.kind),gQ=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[cQ],nQ);this.sessionDesc.mediaDescriptions[cQ]=gQ})}stopReceiving(iQ){}updateCandidates(iQ){iQ===qb.TCP?this.candidates.forEach(oQ=>{this.candidates.findIndex(rQ=>rQ.transport==="tcp"&&rQ.connectionAddress===oQ.connectionAddress&&rQ.port===oQ.port)===-1&&this.candidates.push(DV(DV({},oQ),{},{foundation:"tcpcandidate",priority:Number(oQ.priority)-1+"",transport:"tcp",port:Number(oQ.port)+90+""}))}):this.candidates=this.candidates.filter(oQ=>oQ.transport!=="tcp");for(const oQ of this.sessionDesc.mediaDescriptions)oQ.attributes.candidates=this.candidates}restartICE(iQ){iQ=Gv(iQ),this.iceParameters=iQ,this.sessionDesc.mediaDescriptions.forEach(oQ=>{oQ.attributes.iceUfrag=iQ.iceUfrag,oQ.attributes.icePwd=iQ.icePwd})}predictReceivingMids(iQ){const oQ=[];for(let rQ=0;rQ<iQ;rQ++)oQ.push((this.currentMidIndex+rQ+1).toString(10));return oQ}mungRecvMediaDsec(iQ,oQ){const rQ=Gv(iQ);return PM(rQ,oQ),kM(rQ,oQ),rQ}updateRecvMedia(iQ,oQ){const rQ=this.sessionDesc.mediaDescriptions.findIndex(nQ=>nQ.attributes.mid===iQ);if(rQ!==-1){const nQ=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[rQ],oQ);this.sessionDesc.mediaDescriptions[rQ]=nQ}}bumpMid(iQ){this.currentMidIndex+=iQ}updateTrackLabel(iQ,oQ,rQ){const nQ=this.sessionDesc.mediaDescriptions.find(aQ=>iQ===Yb.VIDEO?aQ.attributes.mid==="video":aQ.attributes.mid==="audio");if(nQ){const aQ=nQ.attributes.ssrcs.find(cQ=>cQ.attributes.label===oQ);var sQ;aQ&&(aQ.attributes.label=rQ,(sQ=aQ.attributes.msid)===null||sQ===void 0||sQ.replace(oQ,rQ))}}mungMediaDesc(iQ){const oQ=Gv(iQ);return LM(oQ),function(rQ){const nQ=rQ.attributes.extmaps.find(sQ=>sQ.extensionName==="http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01");nQ&&rQ.attributes.extmaps.splice(rQ.attributes.extmaps.indexOf(nQ),1),rQ.attributes.payloads.forEach(sQ=>{const aQ=sQ.rtcpFeedbacks.findIndex(cQ=>cQ.type==="transport-cc");aQ!==-1&&sQ.rtcpFeedbacks.splice(aQ,1)})}(oQ),oQ}getSSRC(iQ){for(const oQ of this.sessionDesc.mediaDescriptions)for(const rQ of oQ.attributes.ssrcs)if(rQ.attributes.label===iQ)return[rQ]}}(kV(kV({},eQ),{},{rtpCapabilities:eQ.rtpCapabilities.send,localCapabilities:this.localCapabilities,sdkCodec:this.store.codec}));const AQ=this.remoteSDP.toString();await this.peerConnection.setLocalDescription(this.initialOffer),await this.peerConnection.setRemoteDescription({type:"answer",sdp:AQ})}catch(AQ){throw new rv(nv.EXCHANGE_SDP_FAILED,"P2PConnection.connect failed; ".concat(AQ.toString()))}}async updateRemoteRTPCapabilities(eQ,AQ){throw new rv(nv.NOT_SUPPORTED,"Planb mode does not support createDataChannels.")}getPreMedia(eQ){}send(eQ,AQ){var iQ=this;return ZU(function*(){const oQ=yield WU(iQ.mutex.lock());try{if(!iQ.remoteSDP)throw new Error("Cannot call P2PConnection.send before remote SDP created");const rQ=eQ.map(EQ=>iQ.peerConnection.addTrack(EQ._mediaStreamTrack)),nQ=yield WU(iQ.peerConnection.createOffer()),sQ=CM.parse(nQ.sdp),aQ=eQ.map(EQ=>{const CQ=EQ._mediaStreamTrack,dQ=sQ.mediaDescriptions.find(lQ=>lQ.attributes.mid===CQ.kind);if(!dQ)throw new Error("Cannot extract ssrc from mediaDescription.");return function(lQ,uQ,hQ){const BQ=lQ.attributes.ssrcs.filter(fQ=>fQ.attributes.label===uQ),QQ=lQ.attributes.ssrcGroups;if(BQ.length===0)throw new Error("Cannot extract ssrc from plan-b SDP.");if(QQ&&BQ.length>1){const fQ=QQ.find(_Q=>_Q.ssrcIds.indexOf(BQ[0].ssrcId)!==-1);return fQ?[{ssrcId:fQ.ssrcIds[0],rtx:hQ?fQ.ssrcIds[1]:void 0}]:[{ssrcId:BQ[0].ssrcId}]}return[{ssrcId:BQ[0].ssrcId}]}(dQ,CQ.id,iQ.useRTX)});let cQ;try{cQ=yield aQ}catch(EQ){throw rQ.forEach(CQ=>{PI()&&CQ.replaceTrack(null),iQ.peerConnection.removeTrack(CQ)}),EQ}const gQ=iQ.mungSendOfferSDP(nQ.sdp,eQ);iQ.remoteSDP.receive(eQ,AQ,cQ);const IQ=iQ.remoteSDP.toString();return yield WU(iQ.peerConnection.setLocalDescription({type:"offer",sdp:gQ})),yield WU(iQ.applySendEncodings(rQ,eQ)),yield WU(iQ.peerConnection.setRemoteDescription({type:"answer",sdp:IQ})),eQ.map((EQ,CQ)=>{const dQ=EQ._mediaStreamTrack.id;return{localSSRC:aQ[CQ],id:dQ}})}catch(rQ){throw new rv(nv.EXCHANGE_SDP_FAILED,"P2PConnection.send failed; ".concat(rQ.toString()))}finally{oQ()}})()}async stopSending(eQ){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopSending before remote SDP created");const AQ=this.peerConnection.getSenders().filter(rQ=>{var nQ;return eQ.indexOf(((nQ=rQ.track)===null||nQ===void 0?void 0:nQ.id)||"")!==-1});if(AQ.length!==eQ.length)throw new Error("Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.");AQ.map(rQ=>{PI()&&rQ.replaceTrack(null),this.peerConnection.removeTrack(rQ)});const iQ=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(iQ),this.remoteSDP.stopReceiving(eQ);const oQ=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"answer",sdp:oQ})}catch(AQ){throw new rv(nv.EXCHANGE_SDP_FAILED,"P2PConnection.stopSending failed; ".concat(AQ.toString()))}}async receive(eQ,AQ,iQ,oQ){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(eQ," before remoteSDP created."));const{id:rQ,mslabel:nQ}=this.remoteSDP.send(eQ,AQ,oQ),sQ=new Gh((gQ,IQ)=>{const EQ=setTimeout(()=>{IQ(new Error("Cannot receive track, id: ".concat(rQ)))},1e4),CQ=dQ=>{const lQ=AI();if((lQ.name==="Safari"&&Number(lQ.version)===11||MI())&&dQ.track.id!==rQ&&dQ.streams[0].id===nQ){var uQ;const hQ=dQ.streams[0].getTracks()[0];return(uQ=this.remoteSDP)===null||uQ===void 0||uQ.updateTrackLabel(eQ,rQ,dQ.track.id),this.peerConnection.removeEventListener("track",CQ),clearTimeout(EQ),void gQ(hQ)}if(dQ.track.id===rQ)return this.peerConnection.removeEventListener("track",CQ),clearTimeout(EQ),void gQ(dQ.track)};this.peerConnection.addEventListener("track",CQ)}),aQ=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:aQ});const cQ=await this.peerConnection.createAnswer();return await this.peerConnection.setLocalDescription(cQ),{track:await sQ,id:rQ}}catch(rQ){throw new rv(nv.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(rQ.toString()))}}async stopReceiving(eQ){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");this.remoteSDP.stopSending(eQ);const AQ=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:AQ});const iQ=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(iQ)}catch(AQ){throw new rv(nv.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(AQ.toString()))}}async muteRemote(eQ){}async unmuteRemote(eQ){}async muteLocal(eQ){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteLocal before remote SDP created.");const AQ=this.peerConnection.getSenders().filter(iQ=>{var oQ;return eQ.indexOf(((oQ=iQ.track)===null||oQ===void 0?void 0:oQ.id)||"")!==-1});if(AQ.length!==eQ.length)throw new Error("sender' length doesn't match mids' length.");AQ.map(iQ=>{if(PI()&&iQ.track)iQ.track.enabled=!1;else{const oQ=iQ.getParameters();oQ.encodings.forEach(rQ=>rQ.active=!1),iQ.setParameters(oQ)}})}catch(AQ){throw new rv(nv.EXCHANGE_SDP_FAILED,"P2PConnection.muteLocal failed; ".concat(AQ.toString()))}}async unmuteLocal(eQ){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteLocal before remote SDP created.");const AQ=this.peerConnection.getSenders().filter(rQ=>{var nQ;return eQ.indexOf(((nQ=rQ.track)===null||nQ===void 0?void 0:nQ.id)||"")!==-1});if(AQ.length!==eQ.length)throw new Error("Senders' length doesn't match mids' length.");AQ.map(async rQ=>{if(PI()&&rQ.track)rQ.track.enabled=!0;else{const nQ=rQ.getParameters();nQ.encodings.forEach(sQ=>sQ.active=!0),await rQ.setParameters(nQ)}});const iQ=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(iQ);const oQ=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"answer",sdp:oQ})}catch(AQ){throw new rv(nv.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteLocal failed; ".concat(AQ.toString()))}}restartICE(eQ){var AQ=this;return ZU(function*(){const iQ=yield WU(AQ.mutex.lock("From P2PConnection.restartICE"));try{if(!AQ.remoteSDP)throw new Error("Cannot restartICE before remoteSDP created.");if(MD().supportPCSetConfiguration){const aQ=AQ.peerConnection.getConfiguration(),cQ=eQ===qb.RELAY?"relay":"all";aQ.iceTransportPolicy!==cQ&&(Qy.debug("[".concat(AQ.store.clientId,"] restartICE change iceTransportPolicy from [").concat(aQ.iceTransportPolicy,"] to [").concat(cQ,"]")),aQ.iceTransportPolicy=cQ,AQ.peerConnection.setConfiguration(aQ))}else if(eQ===qb.RELAY)return;eQ!==qb.RELAY&&AQ.remoteSDP.updateCandidates(eQ);const oQ=yield WU(AQ.peerConnection.createOffer({iceRestart:!0}));if(!oQ.sdp)throw new Error("Cannot restartICE because restart offer SDP does not exist.");const rQ=bM(oQ.sdp),{remoteIceParameters:nQ}=yield rQ.iceParameters;AQ.remoteSDP.restartICE(nQ);const sQ=AQ.remoteSDP.toString();yield WU(AQ.peerConnection.setLocalDescription(oQ)),yield WU(AQ.peerConnection.setRemoteDescription({type:"answer",sdp:sQ}))}catch(oQ){Qy.warning("[".concat(AQ.store.clientId,"] restart ICE failed, abort operation"),oQ)}finally{iQ()}})()}close(){var eQ;this.peerConnection.close(),(eQ=this.onConnectionStateChange)===null||eQ===void 0||eQ.call(this,"closed"),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.statsFilter.destroy()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(eQ){return this.statsFilter.getVideoIsReady(eQ)}async updateEncoderConfig(eQ,AQ){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.updateEncoderConfig before remote SDP created.");const iQ=await this.peerConnection.createOffer(),oQ=this.mungSendOfferSDP(iQ.sdp,[AQ]);this.remoteSDP.updateRecvMedia(AQ._mediaStreamTrack.kind,AQ);const rQ=this.remoteSDP.toString();await this.peerConnection.setLocalDescription({type:"offer",sdp:oQ}),await this.peerConnection.setRemoteDescription({type:"answer",sdp:rQ})}catch(iQ){throw new rv(nv.EXCHANGE_SDP_FAILED,iQ.toString())}}async updateSendParameters(eQ,AQ){const iQ=this.peerConnection.getSenders().filter(oQ=>{var rQ;return((rQ=oQ.track)===null||rQ===void 0?void 0:rQ.id)===eQ});iQ.length===1&&await this.applySendEncodings(iQ,[AQ])}setStatsRemoteVideoIsReady(eQ,AQ){this.statsFilter.setVideoIsReady2(eQ,AQ)}async replaceTrack(eQ,AQ){const iQ=this.peerConnection.getSenders().find(oQ=>{var rQ;return((rQ=oQ.track)===null||rQ===void 0?void 0:rQ.id)===AQ});iQ&&await iQ.replaceTrack(eQ._mediaStreamTrack)}createDataChannels(eQ,AQ){throw new rv(nv.NOT_SUPPORTED,"Planb mode does not support createDataChannels.")}stopDataChannels(eQ){throw new rv(nv.NOT_SUPPORTED,"Planb mode does not support stopDataChannels.")}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var eQ;(eQ=this.onICEConnectionStateChange)===null||eQ===void 0||eQ.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var eQ;(eQ=this.onConnectionStateChange)===null||eQ===void 0||eQ.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidate=eQ=>{eQ.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,Qy.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] local candidate count"),this.localCandidateCount))},setTimeout(()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,Qy.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] onicecandidate timeout, local candidate count"),this.localCandidateCount))},Dy("CANDIDATE_TIMEOUT"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(eQ){const AQ={iceServers:[],sdpSemantics:"plan-b"};return eQ.iceServers?AQ.iceServers=eQ.iceServers:eQ.turnServer&&eQ.turnServer.mode!=="off"&&(bv(eQ.turnServer.servers)?AQ.iceServers=eQ.turnServer.servers:(AQ.iceServers&&AQ.iceServers.push(...m0.turnServerConfigToIceServers(eQ.turnServer.servers)),Dy("USE_TURN_SERVER_OF_GATEWAY")&&AQ.iceServers&&eQ.turnServer.serversFromGateway&&AQ.iceServers.push(...m0.turnServerConfigToIceServers(eQ.turnServer.serversFromGateway)),eQ.turnServer.servers.concat(eQ.turnServer.serversFromGateway||[]).forEach(iQ=>{iQ.forceturn&&(AQ.iceTransportPolicy="relay")}))),AQ}static turnServerConfigToIceServers(eQ){const AQ=[];return eQ.forEach(iQ=>{iQ.security?iQ.tcpport&&AQ.push({username:iQ.username,credential:iQ.password,credentialType:"password",urls:"turns:".concat(iQ.turnServerURL,":").concat(iQ.tcpport,"?transport=tcp")}):(iQ.udpport&&AQ.push({username:iQ.username,credential:iQ.password,credentialType:"password",urls:"turn:".concat(iQ.turnServerURL,":").concat(iQ.udpport,"?transport=udp")}),iQ.tcpport&&AQ.push({username:iQ.username,credential:iQ.password,credentialType:"password",urls:"turn:".concat(iQ.turnServerURL,":").concat(iQ.tcpport,"?transport=tcp")}))}),AQ}async updateRtpSenderEncodings(eQ,AQ){var iQ;if(AQ||(AQ=this.peerConnection.getSenders().find(cQ=>{var gQ;return((gQ=cQ.track)===null||gQ===void 0?void 0:gQ.id)===eQ._mediaStreamTrack.id})),!AQ)return Qy.warn("[".concat(eQ.getTrackId(),"] no rtpSender found}"));if(!MD().supportSetRtpSenderParameters)return Qy.warn("Browser not support set rtp-sender parameters");const oQ={},rQ={};if(eQ instanceof Hk)switch(eQ._optimizationMode){case"motion":oQ.degradationPreference="maintain-framerate";break;case"detail":oQ.degradationPreference="maintain-resolution";break;default:oQ.degradationPreference="balanced"}if(Dy("DSCP_TYPE")&&QI()){var nQ;const cQ=Dy("DSCP_TYPE");Dn(nQ=["very-low","low","medium","high"]).call(nQ,cQ)&&(rQ.networkPriority=cQ)}const sQ=AQ.getParameters(),aQ=(iQ=sQ.encodings)===null||iQ===void 0?void 0:iQ[0];aQ&&Object.assign(aQ,rQ),Object.assign(sQ,oQ),Qy.debug("[".concat(eQ.getTrackId(),"] updateRtpSenderEncodings: ").concat(JSON.stringify(sQ.encodings))),await AQ.setParameters(sQ)}async applySendEncodings(eQ,AQ){try{if(!MD().supportSetRtpSenderParameters||eQ.length!==AQ.length)return;for(let iQ=0;iQ<eQ.length;iQ++){const oQ=eQ[iQ],rQ=AQ[iQ];oQ&&rQ&&await this.updateRtpSenderEncodings(rQ,oQ)}}catch{Qy.debug("[".concat(this.store.clientId,"] Apply RTPSendEncodings failed."))}}mungSendOfferSDP(eQ,AQ){const iQ=CM.parse(eQ);return AQ.forEach((oQ,rQ)=>{const nQ=oQ._mediaStreamTrack,sQ=iQ.mediaDescriptions.find(aQ=>aQ.attributes.mid===nQ.kind);sQ&&PM(sQ,oQ)}),CM.print(iQ)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=eQ=>{var AQ;(AQ=this.onFirstAudioReceived)===null||AQ===void 0||AQ.call(this,eQ)},this.statsFilter.onFirstVideoReceived=eQ=>{var AQ;(AQ=this.onFirstVideoReceived)===null||AQ===void 0||AQ.call(this,eQ)},this.statsFilter.onFirstAudioDecoded=eQ=>{var AQ;(AQ=this.onFirstAudioDecoded)===null||AQ===void 0||AQ.call(this,eQ)},this.statsFilter.onFirstVideoDecoded=(eQ,AQ,iQ)=>{var oQ;(oQ=this.onFirstVideoDecoded)===null||oQ===void 0||oQ.call(this,eQ,AQ,iQ)},this.statsFilter.onSelectedLocalCandidateChanged=(eQ,AQ)=>{var iQ;(iQ=this.onSelectedLocalCandidateChanged)===null||iQ===void 0||iQ.call(this,eQ,AQ)},this.statsFilter.onSelectedRemoteCandidateChanged=(eQ,AQ)=>{var iQ;(iQ=this.onSelectedRemoteCandidateChanged)===null||iQ===void 0||iQ.call(this,eQ,AQ)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0}async batchReceive(eQ){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.batchReceive before remoteSDP created.");const AQ=this.remoteSDP.batchSend(eQ).map((rQ,nQ)=>{let{id:sQ,mslabel:aQ}=rQ;const{kind:cQ}=eQ[nQ];return new Gh((gQ,IQ)=>{const EQ=setTimeout(()=>{IQ(new Error("Cannot receive track, id: ".concat(sQ)))},1e4),CQ=dQ=>{const lQ=AI();if(lQ.name==="Safari"&&Number(lQ.version)===11&&dQ.track.id!==sQ&&dQ.streams[0].id===aQ){var uQ;const hQ=dQ.streams[0].getTracks()[0];return(uQ=this.remoteSDP)===null||uQ===void 0||uQ.updateTrackLabel(cQ,sQ,dQ.track.id),this.peerConnection.removeEventListener("track",CQ),clearTimeout(EQ),void gQ({track:hQ,id:sQ})}if(dQ.track.id===sQ)return this.peerConnection.removeEventListener("track",CQ),clearTimeout(EQ),void gQ({track:dQ.track,id:sQ})};this.peerConnection.addEventListener("track",CQ)})}),iQ=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:iQ});const oQ=await this.peerConnection.createAnswer();return await this.peerConnection.setLocalDescription(oQ),await Gh.all(AQ)}catch(AQ){throw new rv(nv.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(AQ.toString()))}}async getRemoteSSRC(eQ){if(!this.remoteSDP)return;const AQ=this.remoteSDP.getSSRC(eQ);return AQ==null?void 0:AQ[0].ssrcId}setConfiguration(eQ){if(MD().supportPCSetConfiguration){const AQ=m0.resolvePCConfiguration(eQ);this.peerConnection.setConfiguration(AQ)}}},rb(PV.prototype,"connect",[UV],Object.getOwnPropertyDescriptor(PV.prototype,"connect"),PV.prototype),rb(PV.prototype,"stopSending",[UV],Object.getOwnPropertyDescriptor(PV.prototype,"stopSending"),PV.prototype),rb(PV.prototype,"receive",[UV],Object.getOwnPropertyDescriptor(PV.prototype,"receive"),PV.prototype),rb(PV.prototype,"stopReceiving",[UV],Object.getOwnPropertyDescriptor(PV.prototype,"stopReceiving"),PV.prototype),rb(PV.prototype,"muteRemote",[UV],Object.getOwnPropertyDescriptor(PV.prototype,"muteRemote"),PV.prototype),rb(PV.prototype,"unmuteRemote",[UV],Object.getOwnPropertyDescriptor(PV.prototype,"unmuteRemote"),PV.prototype),rb(PV.prototype,"muteLocal",[UV],Object.getOwnPropertyDescriptor(PV.prototype,"muteLocal"),PV.prototype),rb(PV.prototype,"unmuteLocal",[UV],Object.getOwnPropertyDescriptor(PV.prototype,"unmuteLocal"),PV.prototype),rb(PV.prototype,"close",[UV],Object.getOwnPropertyDescriptor(PV.prototype,"close"),PV.prototype),rb(PV.prototype,"updateEncoderConfig",[UV],Object.getOwnPropertyDescriptor(PV.prototype,"updateEncoderConfig"),PV.prototype),rb(PV.prototype,"updateSendParameters",[UV],Object.getOwnPropertyDescriptor(PV.prototype,"updateSendParameters"),PV.prototype),rb(PV.prototype,"replaceTrack",[UV],Object.getOwnPropertyDescriptor(PV.prototype,"replaceTrack"),PV.prototype),rb(PV.prototype,"getRemoteSSRC",[UV],Object.getOwnPropertyDescriptor(PV.prototype,"getRemoteSSRC"),PV.prototype),PV);function UV(tQ,eQ,AQ){const iQ=tQ[eQ];if(typeof iQ!="function")throw new Error("Cannot use mutex on object property.");return AQ.value=async function(){const oQ=this.mutex,rQ=await oQ.lock("Locking from P2PConnection.".concat(eQ));try{for(var nQ=arguments.length,sQ=new Array(nQ),aQ=0;aQ<nQ;aQ++)sQ[aQ]=arguments[aQ];return await iQ.apply(this,sQ)}finally{rQ()}},AQ}function xV(tQ,eQ){var AQ=Object.keys(tQ);if(Object.getOwnPropertySymbols){var iQ=Object.getOwnPropertySymbols(tQ);eQ&&(iQ=iQ.filter(function(oQ){return Object.getOwnPropertyDescriptor(tQ,oQ).enumerable})),AQ.push.apply(AQ,iQ)}return AQ}function VV(tQ){for(var eQ=1;eQ<arguments.length;eQ++){var AQ=arguments[eQ]!=null?arguments[eQ]:{};eQ%2?xV(Object(AQ),!0).forEach(function(iQ){og(tQ,iQ,AQ[iQ])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tQ,Object.getOwnPropertyDescriptors(AQ)):xV(Object(AQ)).forEach(function(iQ){Object.defineProperty(tQ,iQ,Object.getOwnPropertyDescriptor(AQ,iQ))})}return tQ}const FV="9",BV=4e4;class jV{get localCapabilities(){return Gv(this._localCapabilities)}get rtpCapabilities(){return Gv(this._rtpCapabilities)}get candidates(){return Gv(this._candidates)}get iceParameters(){return Gv(this._iceParameters)}get dtlsParameters(){return Gv(this._dtlsParameters)}constructor(eQ){og(this,"sessionDesc",void 0),og(this,"_localCapabilities",void 0),og(this,"_rtpCapabilities",void 0),og(this,"_candidates",void 0),og(this,"_iceParameters",void 0),og(this,"_dtlsParameters",void 0),og(this,"setup",void 0),og(this,"currentMidIndex",void 0),og(this,"cname",void 0),og(this,"firefoxSsrcMidMap",new Map),eQ=Gv(eQ);const{iceParameters:AQ,dtlsParameters:iQ,candidates:oQ,rtpCapabilities:rQ,setup:nQ,localCapabilities:sQ,cname:aQ}=eQ;this._rtpCapabilities=rQ,this._candidates=oQ,this._iceParameters=AQ,this._dtlsParameters=iQ,this._localCapabilities=sQ,this.setup=nQ,this.cname=aQ,this.sessionDesc=this.updateRemoteRTPCapabilities(rQ),this.currentMidIndex=this.sessionDesc.mediaDescriptions.length-1}preloadRemoteMedia(eQ){const AQ=this.candidates,iQ=this.dtlsParameters,oQ=this.iceParameters,rQ=this.rtpCapabilities.send;let nQ=this.sessionDesc.mediaDescriptions.length-1;for(let sQ=1;sQ<eQ;sQ++){const aQ=2*sQ+2e4,cQ=2*sQ+BV,{ssrcs:gQ,ssrcGroups:IQ}=DM([{ssrcId:aQ}],this.cname),{ssrcs:EQ,ssrcGroups:CQ}=DM([{ssrcId:cQ,rtx:Dy("USE_SUB_RTX")?cQ+1:void 0}],this.cname);this.sessionDesc.mediaDescriptions.push({media:{mediaType:"video",port:FV,protos:["UDP","TLS","RTP","SAVPF"],fmts:rQ.videoCodecs.map(dQ=>dQ.payloadType.toString(10))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:oQ.iceUfrag,icePwd:oQ.icePwd,unrecognized:[],candidates:AQ,extmaps:rQ.videoExtensions,fingerprints:iQ.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:EQ,ssrcGroups:CQ,rtcpFeedbackWildcards:[],payloads:rQ.videoCodecs,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:"sendonly",rtcpMux:!0,rtcpRsize:!0,mid:"".concat(++nQ)}}),this.sessionDesc.mediaDescriptions.push({media:{mediaType:"audio",port:FV,protos:["UDP","TLS","RTP","SAVPF"],fmts:rQ.audioCodecs.map(dQ=>dQ.payloadType.toString(10))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:oQ.iceUfrag,icePwd:oQ.icePwd,unrecognized:[],candidates:AQ,extmaps:rQ.audioExtensions,fingerprints:iQ.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:gQ,ssrcGroups:IQ,rtcpFeedbackWildcards:[],payloads:rQ.audioCodecs,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:"sendonly",rtcpMux:!0,rtcpRsize:!0,mid:"".concat(++nQ)}}),this.currentMidIndex+=2}this.updateBundleMids()}toString(){return CM.print(this.sessionDesc)}send(eQ,AQ,iQ,oQ){const{ssrcs:rQ,ssrcGroups:nQ}=DM(AQ,this.cname,Dy("SYNC_GROUP")?iQ:void 0),sQ=this.findPreloadMediaDesc(rQ);if(sQ){if(kI()&&this.firefoxSsrcMidMap.set(rQ[0].ssrcId,sQ.attributes.mid),oQ&&(oQ.twcc||oQ.remb)){const aQ=this.sessionDesc.mediaDescriptions.indexOf(sQ);return this.sessionDesc.mediaDescriptions[aQ]=this.mungSendMediaDesc(sQ,oQ),{mid:sQ.attributes.mid,needExchangeSDP:!0}}return{mid:sQ.attributes.mid,needExchangeSDP:!1}}{const aQ=this.findAvailableMediaIndex(eQ,rQ);let cQ;return aQ===-1||aQ===1&&(PI()||function(){const gQ=AI();return!(gQ.name!==CI.CHROME||!gQ.osVersion)&&Number(gQ.version)<=90}())||aQ===0&&Dy("USE_SUB_RTX")||WI()?(cQ=this.createOrRecycleSendMedia(eQ,rQ,nQ,"sendonly",oQ),this.updateBundleMids()):(cQ=Gv(this.sessionDesc.mediaDescriptions[aQ]),cQ.attributes.direction="sendonly",cQ.attributes.ssrcs=rQ,cQ.attributes.ssrcGroups=nQ,this.sessionDesc.mediaDescriptions[aQ]=this.mungSendMediaDesc(cQ,oQ)),kI()&&this.firefoxSsrcMidMap.set(rQ[0].ssrcId,cQ.attributes.mid),{mid:cQ.attributes.mid,needExchangeSDP:!0}}}sendDataChannel(){const{mediaDesc:eQ,needExchangeSDP:AQ}=this.createOrRecycleDataChannel();return this.updateBundleMids(),{mid:eQ.attributes.mid,needExchangeSDP:AQ}}batchSend(eQ){const AQ=eQ.map(rQ=>{let{kind:nQ,ssrcMsg:sQ,mslabel:aQ}=rQ;return this.send(nQ,sQ,aQ)}),iQ=[];let oQ=!1;return AQ.forEach(rQ=>{let{mid:nQ,needExchangeSDP:sQ}=rQ;sQ&&(oQ=!0),iQ.push(nQ)}),{mids:iQ,needExchangeSDP:oQ}}stopSending(eQ){const AQ=this.sessionDesc.mediaDescriptions.filter(iQ=>iQ.attributes.mid&&eQ.indexOf(iQ.attributes.mid)!==-1);if(AQ.length!==eQ.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.");AQ.forEach(iQ=>{iQ.attributes.mid==="0"||kI()||WI()?iQ.attributes.ssrcs=[]:(iQ.attributes.ssrcs=[],iQ.attributes.direction="inactive",iQ.media.port="0")}),this.updateBundleMids()}mute(eQ){const AQ=this.sessionDesc.mediaDescriptions.find(iQ=>iQ.attributes.mid===eQ);if(!AQ)throw new Error("mediaDescription not found with ".concat(eQ," in remote SDP when calling RemoteSDP.mute."));AQ.attributes.direction="inactive"}unmute(eQ){const AQ=this.sessionDesc.mediaDescriptions.find(iQ=>iQ.attributes.mid===eQ);if(!AQ)throw new Error("mediaDescription not found with ".concat(eQ," in remote SDP when calling RemoteSDP.unmute."));AQ.attributes.direction="sendonly"}muteRemote(eQ){const AQ=this.sessionDesc.mediaDescriptions.filter(iQ=>Dn(eQ).call(eQ,iQ.attributes.mid||""));if(AQ.length!==eQ.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");AQ.forEach(iQ=>{iQ.attributes.direction="inactive"})}unmuteRemote(eQ){const AQ=this.sessionDesc.mediaDescriptions.filter(iQ=>Dn(eQ).call(eQ,iQ.attributes.mid||""));if(AQ.length!==eQ.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");AQ.forEach(iQ=>{iQ.attributes.direction="recvonly"})}receive(eQ,AQ,iQ,oQ){eQ.forEach((rQ,nQ)=>{this.createOrRecycleRecvMedia(rQ,[],"recvonly",AQ,iQ,oQ[nQ])}),this.updateBundleMids()}stopReceiving(eQ){const AQ=this.sessionDesc.mediaDescriptions.filter(iQ=>eQ.indexOf(iQ.attributes.mid)!==-1);if(AQ.length!==eQ.length)throw new Error("MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.");AQ.forEach(iQ=>{iQ.media.port="0",iQ.attributes.direction="inactive"}),this.updateBundleMids()}updateRemoteRTPCapabilities(eQ){const AQ=this.sessionDesc||CM.parse(`v=0
o=- 0 0 IN IP4 127.0.0.1
s=AgoraGateway
t=0 0
a=group:BUNDLE 0 1
a=msid-semantic: WMS
a=ice-lite
m=video 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=sendonly
a=rtcp-mux
a=rtcp-rsize
a=mid:0
m=audio 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=sendonly
a=rtcp-mux
a=rtcp-rsize
a=mid:1
`);this._rtpCapabilities=eQ;const iQ=this.rtpCapabilities.send,oQ=this.localCapabilities.send;for(const rQ of AQ.mediaDescriptions){if(rQ.attributes.iceUfrag=this._iceParameters.iceUfrag,rQ.attributes.icePwd=this._iceParameters.icePwd,rQ.attributes.fingerprints=this._dtlsParameters.fingerprints,rQ.attributes.candidates=this._candidates,rQ.attributes.setup=this.setup,rQ.media.mediaType==="application"&&(rQ.attributes.sctpPort="5000"),rQ.media.mediaType==="video"){if(iQ.videoCodecs.length===0){const nQ=oQ.videoCodecs.filter(sQ=>{var aQ,cQ;return(aQ=sQ.rtpMap)===null||aQ===void 0?void 0:Dn(cQ=aQ.encodingName.toLowerCase()).call(cQ,"vp8")})||[oQ.videoCodecs[0]];rQ.media.fmts=nQ.map(sQ=>sQ.payloadType.toString(10)),rQ.attributes.payloads=nQ,rQ.attributes.extmaps=[]}else if(rQ.media.fmts=iQ.videoCodecs.map(nQ=>nQ.payloadType.toString(10)),rQ.attributes.payloads=iQ.videoCodecs,rQ.attributes.extmaps=iQ.videoExtensions,Dy("PRELOAD_MEDIA_COUNT")>0){const{ssrcs:nQ,ssrcGroups:sQ}=DM([{ssrcId:BV,rtx:Dy("USE_SUB_RTX")?40001:void 0}],this.cname);rQ.attributes.ssrcs=nQ,rQ.attributes.ssrcGroups=sQ}}if(rQ.media.mediaType==="audio"){if(iQ.audioCodecs.length===0){const nQ=oQ.audioCodecs.filter(sQ=>{var aQ,cQ;return(aQ=sQ.rtpMap)===null||aQ===void 0?void 0:Dn(cQ=aQ.encodingName.toLowerCase()).call(cQ,"opus")})||[oQ.audioCodecs[0]];rQ.media.fmts=nQ.map(sQ=>sQ.payloadType.toString(10)),rQ.attributes.payloads=nQ,rQ.attributes.extmaps=[]}else if(rQ.media.fmts=iQ.audioCodecs.map(nQ=>nQ.payloadType.toString(10)),rQ.attributes.payloads=iQ.audioCodecs,rQ.attributes.extmaps=iQ.audioExtensions,GM(rQ),Dy("PRELOAD_MEDIA_COUNT")>0){const{ssrcs:nQ,ssrcGroups:sQ}=DM([{ssrcId:2e4}],this.cname);rQ.attributes.ssrcs=nQ,rQ.attributes.ssrcGroups=sQ}}}return this.sessionDesc=AQ,this.currentMidIndex=AQ.mediaDescriptions.length-1,this.sessionDesc}updateCandidates(eQ){const AQ=this._candidates.filter(iQ=>iQ.transport==="udp");if(eQ===qb.TCP){if(AQ.length===0)return;if(Dy("TCP_CANDIDATE_ONLY")){const iQ=this._candidates.filter(oQ=>oQ.transport==="tcp");AQ.forEach(oQ=>{iQ.findIndex(rQ=>rQ.connectionAddress===oQ.connectionAddress)===-1&&iQ.push(VV(VV({},oQ),{},{foundation:"tcpcandidate",priority:Number(oQ.priority)-1+"",transport:"tcp",port:Number(oQ.port)+90+""}))}),this._candidates=iQ}else{const iQ=[];AQ.forEach(oQ=>{iQ.push(VV(VV({},oQ),{},{foundation:"tcpcandidate",priority:Number(oQ.priority)-1+"",transport:"tcp",port:Number(oQ.port)+90+""}))}),this._candidates=[...AQ,...iQ]}}else if(eQ===qb.RELAY){if(AQ.length!==0)return;{const iQ=this._candidates.filter(oQ=>oQ.transport==="tcp");iQ.forEach(oQ=>{AQ.push(VV(VV({},oQ),{},{foundation:"udpcandidate",priority:Number(oQ.priority)+1+"",transport:"udp",port:Number(oQ.port)-90+""}))}),this._candidates=[...AQ,...iQ]}}else AQ.length===0?(this._candidates.filter(iQ=>iQ.transport==="tcp").forEach(iQ=>{AQ.push(VV(VV({},iQ),{},{foundation:"udpcandidate",priority:Number(iQ.priority)+1+"",transport:"udp",port:Number(iQ.port)-90+""}))}),this._candidates=AQ):this._candidates=this._candidates.filter(iQ=>iQ.transport!=="tcp");for(const iQ of this.sessionDesc.mediaDescriptions)iQ.attributes.candidates=this.candidates}restartICE(eQ){eQ=Gv(eQ),this._iceParameters=eQ,this.sessionDesc.mediaDescriptions.forEach(AQ=>{AQ.attributes.iceUfrag=eQ.iceUfrag,AQ.attributes.icePwd=eQ.icePwd})}predictReceivingMids(eQ){const AQ=[];for(let iQ=0;iQ<eQ;iQ++)AQ.push((this.currentMidIndex+iQ+1).toString(10));return AQ}findAvailableMediaIndex(eQ,AQ){return this.sessionDesc.mediaDescriptions.findIndex(iQ=>{const oQ=iQ.media.mediaType===eQ&&iQ.media.port!=="0"&&(iQ.attributes.direction==="sendonly"||iQ.attributes.direction==="sendrecv")&&iQ.attributes.ssrcs.length===0;if(kI()){if(oQ){const rQ=this.firefoxSsrcMidMap.get(AQ[0].ssrcId);return!(rQ||iQ.attributes.mid!=="0"&&iQ.attributes.mid!=="1")||!(!rQ||rQ!==iQ.attributes.mid)}return!1}return oQ})}createOrRecycleDataChannel(){for(const iQ of this.sessionDesc.mediaDescriptions)if(iQ.media.mediaType==="application")return{mediaDesc:iQ,needExchangeSDP:!1};this.currentMidIndex+=1;const eQ="".concat(this.currentMidIndex),AQ={media:{mediaType:"application",port:FV,protos:["UDP","DTLS","SCTP"],fmts:["webrtc-datachannel"]},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:[],fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[],rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,mid:"".concat(eQ),sctpPort:"5000"}};return this.sessionDesc.mediaDescriptions.push(AQ),{mediaDesc:AQ,needExchangeSDP:!0}}createOrRecycleRecvMedia(eQ,AQ,iQ,oQ,rQ,nQ){const sQ=eQ._mediaStreamTrack.kind,aQ=this.rtpCapabilities.recv,cQ=WM(sQ,aQ,this.localCapabilities.send,sQ===Yb.VIDEO?oQ:rQ),gQ=sQ===Yb.VIDEO?aQ.videoExtensions:aQ.audioExtensions;this.currentMidIndex+=1;const IQ="".concat(this.currentMidIndex);let EQ={media:{mediaType:sQ,port:FV,protos:["UDP","TLS","RTP","SAVPF"],fmts:cQ.map(dQ=>dQ.payloadType.toString(10))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:gQ,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:AQ,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:cQ,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:iQ,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(IQ)}};EQ=this.mungRecvMediaDsec(EQ,eQ,nQ);const CQ=this.findFirstClosedMedia(sQ);if(CQ){const dQ=this.sessionDesc.mediaDescriptions.indexOf(CQ);this.sessionDesc.mediaDescriptions[dQ]=EQ}else this.sessionDesc.mediaDescriptions.push(EQ);return EQ}updateRemoteCodec(eQ,AQ,iQ){const oQ=[...new Set(this._rtpCapabilities.recv.videoCodecs.map(EQ=>EQ.rtpMap&&EQ.rtpMap.encodingName.toLowerCase()||"").filter(EQ=>{var CQ;return Dn(CQ=Object.keys(My)).call(CQ,EQ)}))],rQ=new Set(AQ);if(oQ.every(EQ=>rQ.has(EQ)))return Qy.debug("codecs has not changed, no need to updateRemoteCodec, codecs: ".concat(AQ)),!1;const nQ=this._rtpCapabilities.recv.videoCodecs.filter(EQ=>AQ.some(CQ=>{var dQ;return Dn(dQ=EQ.rtpMap&&EQ.rtpMap.encodingName.toLowerCase()||"").call(dQ,CQ)}));if(nQ.length===0)return Qy.debug("updateRemoteCodec failed, because cannot find matched codec, remoteCapabilities codecs: ".concat(oQ," codecs: ").concat(AQ)),!1;const sQ=[...new Set(nQ.map(EQ=>EQ.rtpMap&&EQ.rtpMap.encodingName.toLowerCase()||""))];let aQ;if(Qy.debug("updateRemoteCodec, from ".concat(oQ," to ").concat(sQ)),eQ.length===0)aQ=this.sessionDesc.mediaDescriptions.filter(EQ=>EQ.media.mediaType==="video"&&EQ.attributes.direction==="recvonly");else if(aQ=this.sessionDesc.mediaDescriptions.filter(EQ=>EQ.attributes.mid&&Dn(eQ).call(eQ,EQ.attributes.mid)&&EQ.attributes.direction==="recvonly"),aQ.length!==eQ.length)return Qy.debug("updateRemoteCodec failed, because cannot find mids, mids: ".concat(eQ,", codecs: ").concat(AQ)),!1;if(Dy("USE_PUB_RTX")||Dy("USE_SUB_RTX")){const EQ=HM(nQ,this.rtpCapabilities.recv.videoCodecs);nQ.push(...EQ)}this._rtpCapabilities.recv.videoCodecs=nQ;const cQ=this.localCapabilities.send,gQ=this.rtpCapabilities.recv,IQ=WM(Yb.VIDEO,gQ,cQ,iQ);return aQ.forEach(EQ=>{const CQ=IQ.map(dQ=>dQ.payloadType.toString(10));Qy.debug("updateRemoteCodec mid: ".concat(EQ.attributes.mid,", from ").concat(EQ.attributes.payloads," to ").concat(IQ)),EQ.attributes.payloads=IQ,EQ.media.fmts=CQ}),!0}createOrRecycleSendMedia(eQ,AQ,iQ,oQ,rQ){const nQ=this.rtpCapabilities.send,sQ=eQ===Yb.VIDEO?nQ.videoCodecs:nQ.audioCodecs,aQ=eQ===Yb.VIDEO?nQ.videoExtensions:nQ.audioExtensions;this.currentMidIndex+=1;const cQ="".concat(this.currentMidIndex);let gQ={media:{mediaType:eQ,port:FV,protos:["UDP","TLS","RTP","SAVPF"],fmts:sQ.map(EQ=>EQ.payloadType.toString(10))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:aQ,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:AQ,ssrcGroups:iQ,rtcpFeedbackWildcards:[],payloads:sQ,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:oQ,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(cQ)}};gQ=this.mungSendMediaDesc(gQ,rQ);const IQ=this.findFirstClosedMedia(eQ);if(IQ){const EQ=this.sessionDesc.mediaDescriptions.indexOf(IQ);this.sessionDesc.mediaDescriptions[EQ]=gQ}else this.sessionDesc.mediaDescriptions.push(gQ);return gQ}updateBundleMids(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter(eQ=>eQ.media.port!=="0").map(eQ=>eQ.attributes.mid)}mungRecvMediaDsec(eQ,AQ,iQ){const oQ=Gv(eQ);return LM(oQ),PM(oQ,AQ),kM(oQ,AQ),MM(oQ),UM(oQ,iQ,this.localCapabilities.send),oQ}mungSendMediaDesc(eQ,AQ){const iQ=Gv(eQ);return UM(iQ,AQ,this.localCapabilities.recv),GM(iQ),iQ}updateRecvMedia(eQ,AQ){const iQ=this.sessionDesc.mediaDescriptions.findIndex(oQ=>oQ.attributes.mid===eQ);if(iQ!==-1){const oQ=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[iQ],AQ);this.sessionDesc.mediaDescriptions[iQ]=oQ}}bumpMid(eQ){this.currentMidIndex+=eQ}findFirstClosedMedia(eQ){return this.sessionDesc.mediaDescriptions.find(AQ=>kI()?AQ.media.port==="0"&&AQ.media.mediaType===eQ:AQ.media.port==="0")}findPreloadMediaDesc(eQ){return this.sessionDesc.mediaDescriptions.find(AQ=>{var iQ;return((iQ=AQ.attributes)===null||iQ===void 0||(iQ=iQ.ssrcs[0])===null||iQ===void 0?void 0:iQ.ssrcId)===eQ[0].ssrcId})}getSSRC(eQ){var AQ;return(AQ=this.sessionDesc.mediaDescriptions.find(iQ=>iQ.attributes.mid===eQ))===null||AQ===void 0?void 0:AQ.attributes.ssrcs}}function GV(tQ,eQ){var AQ=Object.keys(tQ);if(Object.getOwnPropertySymbols){var iQ=Object.getOwnPropertySymbols(tQ);eQ&&(iQ=iQ.filter(function(oQ){return Object.getOwnPropertyDescriptor(tQ,oQ).enumerable})),AQ.push.apply(AQ,iQ)}return AQ}function WV(tQ){for(var eQ=1;eQ<arguments.length;eQ++){var AQ=arguments[eQ]!=null?arguments[eQ]:{};eQ%2?GV(Object(AQ),!0).forEach(function(iQ){og(tQ,iQ,AQ[iQ])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tQ,Object.getOwnPropertyDescriptors(AQ)):GV(Object(AQ)).forEach(function(iQ){Object.defineProperty(tQ,iQ,Object.getOwnPropertyDescriptor(AQ,iQ))})}return tQ}let HV=function(tQ){return tQ.BANDWIDTH="bandwidth",tQ.CPU="cpu",tQ.NONE="none",tQ.OTHER="other",tQ}({});var KV=function(tQ){return tQ[tQ.DOWN=0]="DOWN",tQ[tQ.UP=1]="UP",tQ}(KV||{});const YV=new Map;function qV(tQ,eQ,AQ,iQ){let{scale:oQ}=tQ;if(oQ===0&&iQ===KV.UP||oQ>=eQ.length-1&&iQ===KV.DOWN)return tQ;let rQ=WV(WV({},tQ),{},{scale:iQ===KV.DOWN?++oQ:--oQ});switch(AQ){case"maintain-framerate":rQ=WV(WV({},rQ),eQ[oQ].motion);break;case"maintain-resolution":rQ=WV(WV({},rQ),eQ[oQ].detail);break;case"balanced":rQ=WV(WV({},rQ),eQ[oQ].balanced)}return rQ}function zV(tQ,eQ){if(eQ){const AQ={overUse:0,underUse:0,adaptationList:JV(eQ)};YV.set(tQ,AQ)}else YV.delete(tQ)}function JV(tQ){const eQ=WV({},tQ),{bitrateMax:AQ,frameRate:iQ,scaleResolutionDownBy:oQ,bitrateMin:rQ}=eQ,{MIN_FRAME_RATE:nQ,MAX_THRESHOLD_FRAMERATE:sQ,MAX_SCALE:aQ,BITRATE_MIN_THRESHOLD:cQ,BITRATE_MAX_THRESHOLD:gQ,BWE_SCALE_UP_THRESHOLD:IQ,BWE_SCALE_DOWN_THRESHOLD:EQ,PERF_SCALE_DOWN_THRESHOLD:CQ,PERF_SCALE_UP_THRESHOLD:dQ,BALANCE_BITRATE_FACTOR:lQ,BALANCE_FRAMERATE_FACTOR:uQ,BALANCE_RESOLUTION_FACTOR:hQ,MOTION_RESOLUTION_FACTOR:BQ,MOTION_BITRATE_FACTOR:QQ,DETAIL_FRAMERATE_FACTOR:fQ,DETAIL_BITRATE_FACTOR:_Q}=by,RQ=Math.min(eQ.frameRate,sQ),wQ=[{scale:0,threshold:{bwe_down:Math.round(Math.pow(EQ,1)*AQ),bwe_up:AQ,fps_down:Math.round(Math.pow(CQ,1)*RQ),fps_up:iQ},balanced:{scaleResolutionDownBy:1,frameRate:iQ,bitrateMax:AQ,bitrateMin:rQ},motion:{scaleResolutionDownBy:1,frameRate:iQ,bitrateMax:AQ,bitrateMin:rQ},detail:{scaleResolutionDownBy:1,frameRate:iQ,bitrateMax:AQ,bitrateMin:rQ}}];for(let bQ=1;bQ<=aQ;bQ++){const NQ={bwe_up:Math.round(Math.pow(IQ,bQ)*AQ),bwe_down:Math.round(Math.pow(EQ,bQ+1)*AQ),fps_up:Math.round(Math.pow(dQ,bQ)*RQ),fps_down:Math.round(Math.pow(CQ,bQ+1)*RQ)},UQ={scaleResolutionDownBy:oQ/Math.pow(hQ,bQ),frameRate:Math.max(Math.round(Math.pow(uQ,bQ)*iQ),nQ),bitrateMax:Math.max(Math.round(Math.pow(lQ,bQ)*AQ),gQ),bitrateMin:Math.max(Math.round(Math.pow(lQ,bQ)*rQ),cQ)},PQ={scaleResolutionDownBy:oQ/Math.pow(BQ,bQ),frameRate:iQ,bitrateMax:Math.max(Math.round(Math.pow(QQ,bQ)*AQ),gQ),bitrateMin:Math.max(Math.round(Math.pow(QQ,bQ)*rQ),cQ)},OQ={scaleResolutionDownBy:1,frameRate:Math.max(Math.round(Math.pow(fQ,bQ)*iQ),nQ),bitrateMax:Math.max(Math.round(Math.pow(_Q,bQ)*AQ),gQ),bitrateMin:Math.max(Math.round(Math.pow(_Q,bQ)*rQ),cQ)};wQ.push({scale:bQ,threshold:NQ,balanced:UQ,motion:PQ,detail:OQ})}return wQ}function XV(tQ,eQ,AQ,iQ,oQ,rQ){const nQ=YV.get(tQ)||{overUse:0,underUse:0,adaptationList:JV(oQ)},{adaptationList:sQ}=nQ;YV.set(tQ,nQ);const{OVERUSE_TIMES_THRESHOLD:aQ,UNDERUSE_TIMES_THRESHOLD:cQ}=by,{scale:gQ}=iQ;let IQ,EQ;return typeof eQ=="number"&&eQ>0&&function(CQ,dQ,lQ,uQ){if(dQ>=lQ.length)return!1;let{threshold:{fps_down:hQ}}=lQ[dQ];return Dy("FORCE_AG_HIGH_FRAMERATE")&&uQ==="maintain-framerate"&&(hQ=lQ[0].threshold.fps_down),CQ<hQ}(eQ,gQ,sQ,rQ)&&(nQ.overUse++,EQ=HV.CPU,nQ.overUse>aQ)||typeof AQ=="number"&&AQ>0&&function(CQ,dQ,lQ){if(dQ>=lQ.length)return!1;const{threshold:{bwe_down:uQ}}=lQ[dQ];return CQ<uQ}(AQ,gQ,sQ)&&(nQ.overUse++,EQ=HV.BANDWIDTH,nQ.overUse>aQ)?(nQ.overUse=0,nQ.underUse=0,IQ=qV(iQ,sQ,rQ,KV.DOWN),[IQ,EQ]):(typeof eQ=="number"&&eQ>0&&typeof AQ=="number"&&AQ>0&&function(CQ,dQ,lQ,uQ){if(dQ===0)return;let{threshold:{fps_up:hQ}}=lQ[dQ];return Dy("FORCE_AG_HIGH_FRAMERATE")&&uQ==="maintain-framerate"&&(hQ=lQ[1].threshold.fps_up),CQ>hQ}(eQ,gQ,sQ,rQ)&&function(CQ,dQ,lQ){if(dQ===0)return;const{threshold:{bwe_up:uQ}}=lQ[dQ];return CQ>uQ}(AQ,gQ,sQ)&&(nQ.underUse++,nQ.underUse>cQ&&(nQ.overUse=0,nQ.underUse=0,IQ=qV(iQ,sQ,rQ,KV.UP),IQ.scale===0&&(EQ=HV.NONE))),[IQ,EQ])}function QV(tQ,eQ){var AQ=Object.keys(tQ);if(Object.getOwnPropertySymbols){var iQ=Object.getOwnPropertySymbols(tQ);eQ&&(iQ=iQ.filter(function(oQ){return Object.getOwnPropertyDescriptor(tQ,oQ).enumerable})),AQ.push.apply(AQ,iQ)}return AQ}function ZV(tQ){for(var eQ=1;eQ<arguments.length;eQ++){var AQ=arguments[eQ]!=null?arguments[eQ]:{};eQ%2?QV(Object(AQ),!0).forEach(function(iQ){og(tQ,iQ,AQ[iQ])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tQ,Object.getOwnPropertyDescriptors(AQ)):QV(Object(AQ)).forEach(function(iQ){Object.defineProperty(tQ,iQ,Object.getOwnPropertyDescriptor(AQ,iQ))})}return tQ}function $V(tQ){var eQ;return!!Dy("ENABLE_AG_ADAPTATION")&&!!(tQ instanceof Kk||Dn(eQ=tQ._hints).call(eQ,eP.CUSTOM_TRACK))&&(!!Dy("FORCE_SUPPORT_AG_ADAPTATION")||!!(function(AQ){const iQ=AI();if(iQ.os!==RI.IOS||!iQ.osVersion)return!1;const oQ=iQ.osVersion.split(".");return Number(oQ[0])>=AQ}(14)&&BI(17,4,!0)||FI(14)&&jI(17,4,!0)))}const eF=new Map;function tF(tQ,eQ){const AQ=eF.get(tQ);if(AQ){const{timer:iQ}=AQ;window.clearTimeout(iQ),eF.delete(tQ)}eQ.qualityLimitationReason=HV.NONE,zV(tQ)}var iF;function nF(tQ,eQ){var AQ=Object.keys(tQ);if(Object.getOwnPropertySymbols){var iQ=Object.getOwnPropertySymbols(tQ);eQ&&(iQ=iQ.filter(function(oQ){return Object.getOwnPropertyDescriptor(tQ,oQ).enumerable})),AQ.push.apply(AQ,iQ)}return AQ}function rF(tQ){for(var eQ=1;eQ<arguments.length;eQ++){var AQ=arguments[eQ]!=null?arguments[eQ]:{};eQ%2?nF(Object(AQ),!0).forEach(function(iQ){og(tQ,iQ,AQ[iQ])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tQ,Object.getOwnPropertyDescriptors(AQ)):nF(Object(AQ)).forEach(function(iQ){Object.defineProperty(tQ,iQ,Object.getOwnPropertyDescriptor(AQ,iQ))})}return tQ}let oF=(iF=class S0 extends Kb{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get dtlsTransportState(){var eQ,AQ;return(eQ=(AQ=this.peerConnection.getReceivers()[0])===null||AQ===void 0||(AQ=AQ.transport)===null||AQ===void 0?void 0:AQ.state)!==null&&eQ!==void 0?eQ:null}get localCodecs(){return[...new Set(this.localCapabilities&&this.localCapabilities.send.videoCodecs.map(eQ=>eQ.rtpMap&&eQ.rtpMap.encodingName.toLowerCase()||"").filter(eQ=>{var AQ;return Dn(AQ=Object.keys(My)).call(AQ,eQ)}))]}constructor(eQ,AQ){super(eQ,AQ),og(this,"store",void 0),og(this,"peerConnection",void 0),og(this,"id",ey(5,"connection-")),og(this,"remoteSDP",void 0),og(this,"initialOffer",void 0),og(this,"transportEventReceiver",void 0),og(this,"statsFilter",void 0),og(this,"extension",{useXR:Dy("USE_XR")}),og(this,"localCapabilities",void 0),og(this,"remoteCodecs",void 0),og(this,"localCandidateCount",0),og(this,"allCandidatesReceived",!1),og(this,"isPreallocation",!1),og(this,"preSSRCMap",new Map),og(this,"dataStreamChannelMap",new Map),og(this,"establishPromise",void 0),og(this,"recoveredDataChannelIds",[]),og(this,"currentDataChannelId",1),og(this,"mutex",new hy("P2PConnection-mutex")),og(this,"qualityLimitationReason",HV.NONE),this.store=AQ,this.peerConnection=new RTCPeerConnection(S0.resolvePCConfiguration(eQ),{optional:[{googDscp:!0}]}),this.statsFilter=Dx(this.peerConnection,Dy("STATS_UPDATE_INTERVAL"),void 0,kI()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1,this.establishPromise=this.establish()}getPreMedia(eQ){const AQ=this.preSSRCMap.get(eQ);if(AQ!==void 0){const iQ=this.peerConnection.getTransceivers().find(oQ=>oQ.mid===AQ);if(iQ)return{transceiver:iQ,track:iQ.receiver.track,id:AQ}}}async updateRemoteRTPCapabilities(eQ,AQ){if(this.remoteCodecs=AQ,!this.remoteSDP)return void Qy.debug("[P2PConnection] cannot updateRemoteRTPCapabilities before remote SDP created, local codecs: ".concat(this.localCodecs,", codecs: ").concat(AQ));if(this.remoteSDP.updateRemoteCodec(eQ,AQ,this.store.codec)){const iQ=await this.peerConnection.createOffer(),oQ=this.logSDPExchange(iQ.sdp||"","offer","local","muteLocal");await this.peerConnection.setLocalDescription(iQ);const rQ=this.remoteSDP.toString();oQ==null||oQ(rQ),await this.peerConnection.setRemoteDescription({type:"answer",sdp:rQ})}else Qy.debug("[P2PConnection] updateRemoteRTPCapabilities no need to exchange SDP.")}async establish(){try{this.peerConnection.addTransceiver("video",{direction:"recvonly"}),this.peerConnection.addTransceiver("audio",{direction:"recvonly"});const eQ=await this.peerConnection.createOffer();if(!eQ.sdp)throw new Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");const AQ=bM(eQ.sdp),iQ=await VM({filterRTX:!Dy("USE_PUB_RTX")&&!Dy("USE_SUB_RTX"),filterVideoFec:Dy("FILTER_VIDEO_FEC"),filterAudioFec:Dy("FILTER_AUDIO_FEC"),filterVideoCodec:Dy("FILTER_VIDEO_CODEC")},this.extension);return this.localCapabilities=jM(iQ),this.initialOffer=eQ,rF(rF({},AQ),{},{rtpCapabilities:iQ,offerSDP:eQ.sdp})}catch(eQ){throw new rv(nv.GET_LOCAL_CONNECTION_PARAMS_FAILED,eQ.toString())}}async connect(eQ){try{if(!this.initialOffer)throw new Error("Cannot establish P2PConnection without initial offer.");this.remoteSDP=new jV(rF(rF({},eQ),{},{localCapabilities:this.localCapabilities})),eQ.preallocation&&(this.isPreallocation=!0),Array.isArray(this.remoteCodecs)&&this.remoteCodecs.length>0&&this.remoteSDP.updateRemoteCodec([],this.remoteCodecs,this.store.codec);const AQ=this.remoteSDP.toString(),iQ=YM(this.initialOffer.sdp,this.extension),oQ=this.logSDPExchange(iQ||"","offer","local","connect");this.store.descriptionStart(),await this.peerConnection.setLocalDescription({type:"offer",sdp:iQ}),oQ==null||oQ(AQ),await this.peerConnection.setRemoteDescription({type:"answer",sdp:AQ});const rQ=this.peerConnection.getTransceivers()[0];if(rQ!=null&&rQ.receiver&&this.tryBindTransportEvents(rQ.receiver),Dy("PRELOAD_MEDIA_COUNT")>0){this.remoteSDP.preloadRemoteMedia(Dy("PRELOAD_MEDIA_COUNT"));const sQ=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:sQ});const aQ=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(aQ)}const{preSSRCs:nQ}=eQ;if(Array.isArray(nQ)&&nQ.length>0){const{mids:sQ}=this.remoteSDP.batchSend(nQ.map(aQ=>({kind:aQ.kind,ssrcMsg:[{ssrcId:aQ.ssrcId,rtx:aQ.rtx}],mslabel:aQ.mslabel})));sQ.forEach((aQ,cQ)=>{this.preSSRCMap.set(nQ[cQ].ssrcId,aQ)}),await KM(this.peerConnection,this.remoteSDP,this.extension),Qy.debug("[".concat(this.store.clientId,"] [P2PConnection] pre-batchReceive exchange SDP."))}}catch(AQ){throw new rv(nv.EXCHANGE_SDP_FAILED,"P2PConnection.connect failed; ".concat(AQ.toString()))}}async updateRemoteConnect(eQ){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.updateRemoteConnect before remote SDP created");const{rtpCapabilities:AQ}=eQ;this.remoteSDP.updateRemoteRTPCapabilities(AQ),Array.isArray(this.remoteCodecs)&&this.remoteCodecs.length>0&&this.remoteSDP.updateRemoteCodec([],this.remoteCodecs,this.store.codec);const{preSSRCs:iQ}=eQ;if(Array.isArray(iQ)&&iQ.length>0){const{mids:oQ}=this.remoteSDP.batchSend(iQ.map(rQ=>Object.assign({},{kind:rQ.kind,ssrcMsg:[{ssrcId:rQ.ssrcId,rtx:rQ.rtx}],mslabel:rQ.mslabel})));oQ.forEach((rQ,nQ)=>{this.preSSRCMap.set(iQ[nQ].ssrcId,rQ)})}await KM(this.peerConnection,this.remoteSDP,this.extension),Qy.debug("[P2PConnection] updateRemoteRTPCapabilities by exchanging SDP.")}catch(AQ){throw new rv(nv.EXCHANGE_SDP_FAILED,"P2PConnection.updateRemoteConnect failed; ".concat(AQ.toString()))}}send(eQ,AQ,iQ){var oQ=this;return ZU(function*(){const rQ=yield WU(oQ.mutex.lock("From P2PConnection.send"));try{if(!oQ.remoteSDP)throw new Error("Cannot call P2PConnection.send before remote SDP created");const nQ=[];eQ.forEach(lQ=>{const uQ=oQ.peerConnection.addTransceiver(lQ._mediaStreamTrack,{direction:"sendonly"});nQ.push(uQ),lQ._updateRtpTransceiver(uQ)}),kI()&&Dy("SIMULCAST")===!0&&(yield WU(oQ.applySimulcastForFirefox(nQ,eQ)));const sQ=yield WU(oQ.peerConnection.createOffer()),aQ=oQ.remoteSDP.predictReceivingMids(eQ.length),cQ=oQ.mungSendOfferSDP(sQ.sdp,eQ,aQ),gQ=CM.parse(cQ),IQ=aQ.map(lQ=>{const uQ=gQ.mediaDescriptions.find(hQ=>hQ.attributes.mid===lQ);if(!uQ)throw new Error("Cannot extract ssrc from mediaDescription.");return wM(uQ,Dy("USE_PUB_RTX"))});let EQ;try{EQ=yield IQ}catch(lQ){EQ=[],oQ.remoteSDP.receive(eQ,AQ,iQ,EQ);const uQ=oQ.remoteSDP.toString();throw yield WU(oQ.peerConnection.setLocalDescription({type:"offer",sdp:cQ})),yield WU(oQ.peerConnection.setRemoteDescription({type:"answer",sdp:uQ})),yield WU(oQ.stopSending(aQ,!0)),lQ}oQ.remoteSDP.receive(eQ,AQ,iQ,EQ);const CQ=oQ.remoteSDP.toString(),dQ=oQ.logSDPExchange(cQ,"offer","local","send");return yield WU(oQ.peerConnection.setLocalDescription({type:"offer",sdp:cQ})),yield WU(oQ.applySimulcastEncodings(nQ,eQ)),yield WU(oQ.applySendEncodings(nQ,eQ)),dQ==null||dQ(CQ),yield WU(oQ.peerConnection.setRemoteDescription({type:"answer",sdp:CQ})),nQ.map((lQ,uQ)=>{const hQ=aQ[uQ];return{localSSRC:IQ[uQ],id:hQ,transceiver:lQ}})}catch(nQ){throw nQ instanceof rv?nQ:new rv(nv.EXCHANGE_SDP_FAILED,"P2PConnection.send failed; ".concat(nQ.toString()))}finally{rQ()}})()}async createDataChannels(eQ,AQ){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.createDataChannels before remote SDP created");let iQ=this.dataStreamChannelMap.get(eQ);if(iQ&&iQ.readyState==="open")Qy.debug("[P2PConnection] Channels are already available and can be reused directly.");else{const rQ=this.currentDataChannelId<1023?this.currentDataChannelId++:this.recoveredDataChannelIds.shift();if(typeof rQ!="number")throw new Error("create DataChannel error, because cannot get dc id");iQ=this.peerConnection.createDataChannel("datastream-channel",{id:rQ,negotiated:!0,ordered:!1,maxRetransmits:Dy("DATASTREAM_MAX_RETRANSMITS")}),iQ.binaryType="arraybuffer",this.dataStreamChannelMap.set(eQ,iQ)}AQ.forEach(rQ=>{rQ._updateOriginDataChannel(iQ)});const{needExchangeSDP:oQ}=this.remoteSDP.sendDataChannel();if(oQ){const rQ=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:rQ});const nQ=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(nQ),Qy.debug("[P2PConnection] createDataChannels by exchanging SDP.")}else Qy.debug("[P2PConnection] createDataChannels no need to exchange SDP.");return}catch(iQ){throw iQ instanceof rv?iQ:new rv(nv.EXCHANGE_SDP_FAILED,"P2PConnection.createDataChannels failed; ".concat(iQ.toString()))}}async stopDataChannels(eQ){try{const AQ=this.dataStreamChannelMap.get(eQ);return AQ&&(AQ.id&&this.recoveredDataChannelIds.push(AQ.id),AQ.close()),void this.dataStreamChannelMap.delete(eQ)}catch(AQ){throw AQ instanceof rv?AQ:new rv(nv.DATACHANNEL_FAILED,"P2PConnection.stopDataChannels failed; ".concat(AQ.toString()))}}async stopSending(eQ,AQ){const iQ=AQ?void 0:await this.mutex.lock("From P2PConnection.stopSending");try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopSending before remote SDP created");const oQ=this.peerConnection.getTransceivers().filter(aQ=>eQ.indexOf(aQ.mid)!==-1);if(oQ.length!==eQ.length)throw new Error("Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.");oQ.map(aQ=>{var cQ;tF(this.id+aQ.mid,this),aQ.direction="inactive",(cQ=aQ.stop)===null||cQ===void 0||cQ.call(aQ)});const rQ=await this.peerConnection.createOffer(),nQ=this.logSDPExchange(rQ.sdp||"","offer","local","stopSending");await this.peerConnection.setLocalDescription(rQ),this.remoteSDP.stopReceiving(eQ);const sQ=this.remoteSDP.toString();nQ==null||nQ(sQ),await this.peerConnection.setRemoteDescription({type:"answer",sdp:sQ})}catch(oQ){throw new rv(nv.EXCHANGE_SDP_FAILED,"P2PConnection.stopSending failed; ".concat(oQ.toString()))}finally{iQ&&iQ()}}async receive(eQ,AQ,iQ,oQ){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(eQ," before remoteSDP created."));const{mid:rQ,needExchangeSDP:nQ}=this.remoteSDP.send(eQ,AQ,iQ,oQ);nQ&&(await KM(this.peerConnection,this.remoteSDP,this.extension),Qy.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(eQ," by exchanging SDP.")));const sQ=this.peerConnection.getTransceivers().find(aQ=>aQ.mid===rQ);if(!sQ)throw new Error("Cannot get transceiver after setLocalDescription.");return{track:sQ.receiver.track,id:rQ,transceiver:sQ}}catch(rQ){throw new rv(nv.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(rQ.toString()))}}async batchReceive(eQ){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.batchReceive before remoteSDP created.");const{mids:AQ,needExchangeSDP:iQ}=this.remoteSDP.batchSend(eQ);return iQ&&(await KM(this.peerConnection,this.remoteSDP,this.extension),Qy.debug("[".concat(this.store.clientId,"] [P2PConnection] batchReceive by exchanging SDP."))),AQ.map(oQ=>{const rQ=this.peerConnection.getTransceivers().find(nQ=>nQ.mid===oQ);if(!rQ)throw new Error("Cannot get transceiver after setLocalDescription.");return{track:rQ.receiver.track,id:oQ,transceiver:rQ}})}catch(AQ){throw new rv(nv.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(AQ.toString()))}}async stopReceiving(eQ){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");eQ.forEach(rQ=>{Array.from(this.preSSRCMap.entries()).some(nQ=>{let[sQ,aQ]=nQ;if(aQ===rQ)return this.preSSRCMap.delete(sQ),!0})}),this.remoteSDP.stopSending(eQ);const AQ=this.remoteSDP.toString(),iQ=this.logSDPExchange(AQ,"offer","remote","stopReceiving");await this.peerConnection.setRemoteDescription({type:"offer",sdp:AQ});const oQ=await this.peerConnection.createAnswer();iQ==null||iQ(oQ.sdp||""),await this.peerConnection.setLocalDescription(oQ)}catch(AQ){throw new rv(nv.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(AQ.toString()))}}async muteRemote(eQ){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteRemote mid=".concat(eQ," before remote SDP created."));this.remoteSDP.mute(eQ);const AQ=this.remoteSDP.toString(),iQ=this.logSDPExchange(AQ,"offer","remote","muteRemote");await this.peerConnection.setRemoteDescription({type:"offer",sdp:AQ});const oQ=await this.peerConnection.createAnswer();iQ==null||iQ(oQ.sdp||""),await this.peerConnection.setLocalDescription(oQ)}catch(AQ){throw new rv(nv.EXCHANGE_SDP_FAILED,"P2PConnection.muteRemote failed; ".concat(AQ.toString()))}}async unmuteRemote(eQ){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteRemote mid=".concat(eQ," before remote SDP created."));this.remoteSDP.unmute(eQ);const AQ=this.remoteSDP.toString(),iQ=this.logSDPExchange(AQ,"offer","remote","unmuteRemote");await this.peerConnection.setRemoteDescription({type:"offer",sdp:AQ});const oQ=await this.peerConnection.createAnswer();iQ==null||iQ(oQ.sdp||""),await this.peerConnection.setLocalDescription(oQ)}catch(AQ){throw new rv(nv.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteRemote failed; ".concat(AQ.toString()))}}async muteLocal(eQ){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteLocal before remote SDP created.");const AQ=this.peerConnection.getTransceivers().filter(nQ=>nQ.mid&&eQ.indexOf(nQ.mid)!==-1);if(AQ.length!==eQ.length)throw new Error("Transceivers' length doesn't match mids' length.");AQ.map(nQ=>{nQ.direction="inactive"});const iQ=await this.peerConnection.createOffer(),oQ=this.logSDPExchange(iQ.sdp||"","offer","local","muteLocal");await this.peerConnection.setLocalDescription(iQ),this.remoteSDP.muteRemote(eQ);const rQ=this.remoteSDP.toString();oQ==null||oQ(rQ),await this.peerConnection.setRemoteDescription({type:"answer",sdp:rQ})}catch(AQ){throw new rv(nv.EXCHANGE_SDP_FAILED,"P2PConnection.muteLocal failed; ".concat(AQ.toString()))}}async unmuteLocal(eQ){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteLocal before remote SDP created.");const AQ=this.peerConnection.getTransceivers().filter(nQ=>nQ.mid&&eQ.indexOf(nQ.mid)!==-1);if(AQ.length!==eQ.length)throw new Error("Transceivers' length doesn't match mids' length.");AQ.map(async(nQ,sQ)=>{nQ.direction="sendonly"});const iQ=await this.peerConnection.createOffer(),oQ=this.logSDPExchange(iQ.sdp||"","offer","local","unmuteLocal");await this.peerConnection.setLocalDescription(iQ),this.remoteSDP.unmuteRemote(eQ);const rQ=this.remoteSDP.toString();oQ==null||oQ(rQ),await this.peerConnection.setRemoteDescription({type:"answer",sdp:rQ})}catch(AQ){throw new rv(nv.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteLocal failed; ".concat(AQ.toString()))}}restartICE(eQ){var AQ=this;return ZU(function*(){const iQ=yield WU(AQ.mutex.lock("From P2PConnection.restartICE"));try{if(!AQ.remoteSDP)throw new Error("Cannot restartICE before remoteSDP created.");if(MD().supportPCSetConfiguration){const cQ=AQ.peerConnection.getConfiguration(),gQ=eQ===qb.RELAY?"relay":"all";cQ.iceTransportPolicy!==gQ&&(Qy.debug("[".concat(AQ.store.clientId,"] restartICE change iceTransportPolicy from [").concat(cQ.iceTransportPolicy,"] to [").concat(gQ,"]")),cQ.iceTransportPolicy=gQ,AQ.peerConnection.setConfiguration(cQ))}else if(eQ===qb.RELAY)return;AQ.remoteSDP.updateCandidates(eQ);const oQ=yield WU(AQ.peerConnection.createOffer({iceRestart:!0}));if(!oQ.sdp)throw new Error("Cannot restartICE because restart offer SDP does not exist.");const rQ=bM(oQ.sdp),{remoteIceParameters:nQ}=yield rQ.iceParameters;AQ.remoteSDP.restartICE(nQ);const sQ=AQ.remoteSDP.toString(),aQ=AQ.logSDPExchange(oQ.sdp||"","offer","local","restartICE");AQ.store.descriptionStart(),yield WU(AQ.peerConnection.setLocalDescription(oQ)),aQ==null||aQ(sQ),yield WU(AQ.peerConnection.setRemoteDescription({type:"answer",sdp:sQ}))}catch(oQ){Qy.warning("[".concat(AQ.store.clientId,"] restart ICE failed, abort operation"),oQ)}finally{iQ()}})()}close(){var eQ;this.peerConnection.getTransceivers().forEach(AQ=>{tF(this.id+AQ.mid,this)}),this.preSSRCMap.clear(),this.peerConnection.close(),(eQ=this.onConnectionStateChange)===null||eQ===void 0||eQ.call(this,"closed"),this.tryUnbindTransportEvents(),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.transportEventReceiver=void 0,this.statsFilter.destroy(),this.dataStreamChannelMap.clear(),this.recoveredDataChannelIds=[],this.currentDataChannelId=1}getStats(){return rF(rF({},this.statsFilter.getStats()),{},{qualityLimitationReason:this.qualityLimitationReason})}getRemoteVideoIsReady(eQ){return this.statsFilter.getVideoIsReady(eQ)}async updateEncoderConfig(eQ,AQ){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.updateEncoderConfig before remote SDP created.");const iQ=await this.peerConnection.createOffer(),oQ=this.mungSendOfferSDP(iQ.sdp,[AQ],[eQ]);this.remoteSDP.updateRecvMedia(eQ,AQ);const rQ=this.remoteSDP.toString(),nQ=this.logSDPExchange(oQ,"offer","local","updateEncoderConfig");await this.peerConnection.setLocalDescription({type:"offer",sdp:oQ}),nQ==null||nQ(rQ),await this.peerConnection.setRemoteDescription({type:"answer",sdp:rQ})}catch(iQ){throw new rv(nv.EXCHANGE_SDP_FAILED,iQ.toString())}}async updateSendParameters(eQ,AQ){const iQ=this.peerConnection.getTransceivers().filter(oQ=>oQ.mid===eQ);iQ.length===1&&(this.isVP8Simulcast(AQ)?kI()||await this.applySimulcastEncodings(iQ,[AQ]):await this.applySendEncodings(iQ,[AQ]))}setStatsRemoteVideoIsReady(eQ,AQ){this.statsFilter.setVideoIsReady2(eQ,AQ)}async replaceTrack(eQ,AQ){const iQ=this.peerConnection.getTransceivers().find(oQ=>oQ.mid===AQ);iQ&&await iQ.sender.replaceTrack(eQ._mediaStreamTrack)}async getSelectedCandidatePair(){const eQ=this.peerConnection.getReceivers();if(eQ.length>0&&eQ[0].transport&&eQ[0].transport.iceTransport&&eQ[0].transport.iceTransport.getSelectedCandidatePair&&eQ[0].transport.iceTransport.getSelectedCandidatePair()){const AQ=eQ[0].transport.iceTransport,{local:iQ,remote:oQ}=AQ.getSelectedCandidatePair();return{local:rF(rF({},Ex),{},{candidateType:iQ.type,protocol:iQ.protocol,address:iQ.address,port:iQ.port}),remote:rF(rF({},Ex),{},{candidateType:oQ.type,protocol:oQ.protocol,address:oQ.address,port:oQ.port})}}return this.statsFilter.getSelectedCandidatePair()}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var eQ;(eQ=this.onICEConnectionStateChange)===null||eQ===void 0||eQ.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var eQ;(eQ=this.onConnectionStateChange)===null||eQ===void 0||eQ.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidate=eQ=>{eQ.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,Qy.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] local candidate count"),this.localCandidateCount))},setTimeout(()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,Qy.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] onicecandidate timeout, local candidate count"),this.localCandidateCount))},Dy("CANDIDATE_TIMEOUT"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(eQ){const AQ={iceServers:[]};return eQ.iceServers?AQ.iceServers=eQ.iceServers:eQ.turnServer&&eQ.turnServer.mode!=="off"&&(bv(eQ.turnServer.servers)?AQ.iceServers=eQ.turnServer.servers:(AQ.iceServers&&AQ.iceServers.push(...S0.turnServerConfigToIceServers(eQ.turnServer.servers)),Dy("USE_TURN_SERVER_OF_GATEWAY")&&AQ.iceServers&&eQ.turnServer.serversFromGateway&&AQ.iceServers.push(...S0.turnServerConfigToIceServers(eQ.turnServer.serversFromGateway)),Dy("FORCE_TURN_TCP")?AQ.iceTransportPolicy="relay":eQ.turnServer.servers.concat(eQ.turnServer.serversFromGateway||[]).forEach(iQ=>{iQ.forceturn&&(AQ.iceTransportPolicy="relay")}))),Dy("ENABLE_ENCODED_TRANSFORM")&&MD().supportWebRTCEncodedTransform&&(AQ.encodedInsertableStreams=!0),AQ}static turnServerConfigToIceServers(eQ){const AQ=[];return eQ.forEach(iQ=>{iQ.security?iQ.tcpport&&AQ.push({username:iQ.username,credential:iQ.password,credentialType:"password",urls:"turns:".concat(Pw(iQ.turnServerURL),":").concat(iQ.tcpport,"?transport=tcp")}):(iQ.udpport&&!Dy("FORCE_TURN_TCP")&&AQ.push({username:iQ.username,credential:iQ.password,credentialType:"password",urls:"turn:".concat(iQ.turnServerURL,":").concat(iQ.udpport,"?transport=udp")}),iQ.tcpport&&AQ.push({username:iQ.username,credential:iQ.password,credentialType:"password",urls:"turn:".concat(iQ.turnServerURL,":").concat(iQ.tcpport,"?transport=tcp")}))}),AQ}tryBindTransportEvents(eQ){const AQ=eQ.transport;if(AQ){this.transportEventReceiver=eQ,AQ.onstatechange=()=>{var oQ;AQ!=null&&AQ.state&&((oQ=this.onDTLSTransportStateChange)===null||oQ===void 0||oQ.call(this,AQ.state))},AQ.onerror=oQ=>{var rQ;(rQ=this.onDTLSTransportError)===null||rQ===void 0||rQ.call(this,"error"in oQ?oQ.error:oQ)};const iQ=AQ.iceTransport;iQ&&(iQ.onstatechange=()=>{const oQ=AQ==null?void 0:AQ.iceTransport.state;var rQ;oQ&&((rQ=this.onICETransportStateChange)===null||rQ===void 0||rQ.call(this,oQ))},iQ.getSelectedCandidatePair&&(iQ.onselectedcandidatepairchange=()=>{if(iQ.getSelectedCandidatePair()){const{local:oQ,remote:rQ}=iQ.getSelectedCandidatePair();Qy.info("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] selectedcandidatepairchange: local ").concat(JSON.stringify({candidateType:oQ.type,protocol:oQ.protocol}),", remote ").concat(JSON.stringify({candidateType:rQ.type,protocol:rQ.protocol,address:rQ.address,port:rQ.port})," )"))}}))}}tryUnbindTransportEvents(){this.transportEventReceiver&&this.transportEventReceiver.transport&&(this.transportEventReceiver.transport.onstatechange=null,this.transportEventReceiver.transport.onerror=null,this.transportEventReceiver.transport.iceTransport&&(this.transportEventReceiver.transport.iceTransport.onstatechange=null))}async updateRtpSenderEncodings(eQ,AQ){var iQ,oQ;if(AQ||(AQ=this.peerConnection.getSenders().find(uQ=>uQ.track===eQ._mediaStreamTrack)),!AQ)return Qy.warn("[".concat(eQ.getTrackId(),"] no rtpSender found}"));if(this.isVP8Simulcast(eQ))return Qy.warn("[updateRtpSenderEncodings] Track is VP8 simulcast, please apply simulcast encodings");if(!MD().supportSetRtpSenderParameters)return Qy.warn("[updateRtpSenderEncodings] Browser not support set rtp-sender parameters");const rQ={},nQ={};switch(eQ._optimizationMode){case"motion":rQ.degradationPreference="maintain-framerate";break;case"detail":rQ.degradationPreference="maintain-resolution";break;case"balanced":rQ.degradationPreference="balanced"}const sQ=function(lQ,uQ){return lQ.getTransceivers().find(hQ=>hQ.sender.track===uQ||hQ.receiver.track===uQ)}(this.peerConnection,eQ._mediaStreamTrack),aQ=uL(eQ);if($V(eQ)&&sQ&&AQ&&aQ&&this.getLocalVideoStats&&Dn(iQ=["vp8","vp9"]).call(iQ,this.store.codec)){var cQ;const lQ=rQ.degradationPreference||(Dn(cQ=eQ._hints).call(cQ,eP.CUSTOM_TRACK)?Dy("CUSTOM_ADAPTATION_DEFAULT_MODE"):"maintain-framerate");(function(uQ,hQ,BQ,QQ,fQ,_Q){if(tF(uQ,BQ),fQ(hQ),QQ!=="balanced"&&QQ!=="maintain-framerate"&&QQ!=="maintain-resolution")return;let RQ=-1;zV(uQ,hQ);const wQ=window.setInterval(()=>{const NQ=eF.get(uQ);if(!Dy("ENABLE_AG_ADAPTATION")||!NQ)return tF(uQ,BQ),void fQ(hQ);const UQ=_Q();if(UQ.sendPackets>0&&UQ.OutgoingAvailableBandwidth>0){if(RQ===-1)return void(RQ=Date.now());if(Date.now()-RQ<1e3)return;const PQ=UQ.sendFrameRate,OQ=UQ.OutgoingAvailableBandwidth,[YQ,SQ]=XV(uQ,PQ,OQ,NQ.adaptationConfig,hQ,QQ);SQ&&(BQ.qualityLimitationReason=SQ),YQ&&NQ.adaptationConfig.scale!==YQ.scale&&(Qy.debug("[".concat(uQ,"] applyAdaptation: ").concat(BQ.qualityLimitationReason,`
           sendFps `).concat(PQ,", bwe ").concat(OQ,", switch from ").concat(NQ.adaptationConfig.scale," to ").concat(YQ.scale," ")),NQ.adaptationConfig=ZV(ZV({},NQ.adaptationConfig),YQ),fQ(YQ))}},Dy("CHECK_LOCAL_STATS_INTERVAL")),bQ=ZV({},hQ);eF.set(uQ,{timer:wQ,adaptationConfig:bQ,originConfig:hQ,adaptationFunc:fQ}),Qy.debug("[".concat(uQ,"] start adaptation, originConfig: ").concat(JSON.stringify(hQ),", degradationPreference: ").concat(QQ))})(this.id+sQ.mid,aQ,this,lQ,uQ=>{AQ&&this.updateAdaptation(AQ,uQ)},this.getLocalVideoStats.bind(this))}if(eQ._encoderConfig){var gQ;const{bitrateMax:lQ,frameRate:uQ,scaleResolutionDownBy:hQ}=eQ._encoderConfig;lQ&&(nQ.maxBitrate=1e3*lQ),(Dn(gQ=eQ._hints).call(gQ,eP.LOW_STREAM)||eQ.isUseScaleResolutionDownBy)&&(uQ&&(nQ.maxFramerate=kw(uQ)),hQ&&hQ>=1&&(nQ.scaleResolutionDownBy=hQ))}const{maxFramerate:IQ}=Dy("ENCODER_CONFIG_LIMIT");if(IQ&&typeof IQ=="number"&&(nQ.maxFramerate=nQ.maxFramerate?Math.min(nQ.maxFramerate,IQ):IQ),Dy("DSCP_TYPE")&&QI()){var EQ;const lQ=Dy("DSCP_TYPE");Dn(EQ=["very-low","low","medium","high"]).call(EQ,lQ)&&(nQ.networkPriority=lQ)}const CQ=AQ.getParameters(),dQ=(oQ=CQ.encodings)===null||oQ===void 0?void 0:oQ[0];kI()&&!dQ&&(rQ.encodings=[nQ]),dQ&&Object.assign(dQ,nQ),Object.assign(CQ,rQ),Qy.debug("[".concat(eQ.getTrackId(),"] updateRtpSenderEncodings: ").concat(JSON.stringify(CQ.encodings))),await AQ.setParameters(CQ),await async function(lQ,uQ,hQ){try{var BQ;if(!MD().supportSetRtpSenderParameters||!function(wQ){return wQ==="vp9"}(lQ)||!Dy("ENABLE_SVC"))return;const QQ={},fQ={},_Q=uQ.getParameters(),RQ=(BQ=_Q.encodings)===null||BQ===void 0?void 0:BQ[0];fQ.scalabilityMode=IM(hQ),RQ&&Object.assign(RQ,fQ),Object.assign(_Q,QQ),await uQ.setParameters(_Q),Qy.debug("[updateAdaptation] updateRtpSenderEncodings scalabilityMode success: ".concat(JSON.stringify(_Q.encodings)))}catch(QQ){Qy.debug("[updateAdaptation] updateRtpSenderEncodings scalabilityMode failed",QQ)}}(this.store.codec,AQ,Dy("SVC_MODE"))}async updateAdaptation(eQ,AQ){var iQ,oQ;if(!eQ)return Qy.debug("[updateAdaptation] no rtpSender found");if(!MD().supportSetRtpSenderParameters)return Qy.debug("[updateAdaptation] Browser not support set rtp-sender parameters");const rQ={},{bitrateMax:nQ,frameRate:sQ,scaleResolutionDownBy:aQ}=AQ;nQ&&(rQ.maxBitrate=1e3*nQ),sQ&&(rQ.maxFramerate=kw(sQ)),aQ&&aQ>=1&&Dn(iQ=["vp8","vp9"]).call(iQ,this.store.codec)&&(rQ.scaleResolutionDownBy=aQ);const cQ=eQ.getParameters(),gQ=(oQ=cQ.encodings)===null||oQ===void 0?void 0:oQ[0];gQ&&Object.assign(gQ,rQ),Object.assign(cQ,{});try{await eQ.setParameters(cQ),Qy.debug("[updateAdaptation] updateRtpSenderEncodings: ".concat(JSON.stringify(cQ.encodings)))}catch(IQ){!("transport"in eQ)||eQ.transport&&eQ.transport.state==="connected"?this.peerConnectionState!=="connected"?Qy.debug("[updateAdaptation] peerConnection not connected}"):Qy.debug("[updateAdaptation] updateRtpSenderEncodings failed",IQ):Qy.debug("[updateAdaptation] rtpSender transport not connected}")}}async applySendEncodings(eQ,AQ){try{if(!MD().supportSetRtpSenderParameters||eQ.length!==AQ.length)return;for(let iQ=0;iQ<eQ.length;iQ++){const oQ=eQ[iQ],rQ=AQ[iQ];rQ instanceof Hk&&!this.isVP8Simulcast(rQ)&&await this.updateRtpSenderEncodings(rQ,oQ.sender)}}catch{Qy.debug("[".concat(this.store.clientId,"] Apply RTPSendEncodings failed."))}}mungSendOfferSDP(eQ,AQ,iQ){const oQ=CM.parse(eQ);return AQ.forEach((rQ,nQ)=>{const sQ=iQ[nQ],aQ=oQ.mediaDescriptions.find(cQ=>cQ.attributes.mid===sQ);aQ&&(PM(aQ,rQ),xM(aQ,rQ,this.store.codec))}),CM.print(oQ)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=eQ=>{var AQ;(AQ=this.onFirstAudioReceived)===null||AQ===void 0||AQ.call(this,eQ)},this.statsFilter.onFirstVideoReceived=eQ=>{var AQ;(AQ=this.onFirstVideoReceived)===null||AQ===void 0||AQ.call(this,eQ)},this.statsFilter.onFirstAudioDecoded=eQ=>{var AQ;(AQ=this.onFirstAudioDecoded)===null||AQ===void 0||AQ.call(this,eQ)},this.statsFilter.onFirstVideoDecoded=(eQ,AQ,iQ)=>{var oQ;(oQ=this.onFirstVideoDecoded)===null||oQ===void 0||oQ.call(this,eQ,AQ,iQ)},this.statsFilter.onSelectedLocalCandidateChanged=(eQ,AQ)=>{var iQ;(iQ=this.onSelectedLocalCandidateChanged)===null||iQ===void 0||iQ.call(this,eQ,AQ)},this.statsFilter.onSelectedRemoteCandidateChanged=(eQ,AQ)=>{var iQ;(iQ=this.onSelectedRemoteCandidateChanged)===null||iQ===void 0||iQ.call(this,eQ,AQ)},this.statsFilter.onFirstVideoDecodedTimeout=eQ=>{var AQ;(AQ=this.onFirstVideoDecodedTimeout)===null||AQ===void 0||AQ.call(this,eQ)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}async applySimulcastForFirefox(eQ,AQ){if(eQ.length===AQ.length)for(let aQ=0;aQ<eQ.length;aQ++){var iQ,oQ,rQ,nQ,sQ;const cQ=eQ[aQ],gQ=AQ[aQ];if(gQ instanceof Hk&&!Dn(iQ=gQ._hints).call(iQ,eP.LOW_STREAM)&&(oQ=gQ._encoderConfig)!==null&&oQ!==void 0&&oQ.bitrateMax&&((rQ=gQ._encoderConfig)===null||rQ===void 0?void 0:rQ.bitrateMax)>200&&(nQ=gQ._scalabilityMode)!==null&&nQ!==void 0&&nQ.numSpatialLayers&&((sQ=gQ._scalabilityMode)===null||sQ===void 0?void 0:sQ.numSpatialLayers)>1&&this.store.codec==="vp8"){const IQ={},EQ={high:1e3*(gQ._encoderConfig.bitrateMax-50),medium:5e4};IQ.encodings=[{rid:"m",active:!0,maxBitrate:EQ.medium,scaleResolutionDownBy:4},{rid:"h",active:!0,maxBitrate:EQ.high}];const CQ=cQ.sender.getParameters();await cQ.sender.setParameters(Object.assign(CQ,IQ))}}}async applySimulcastEncodings(eQ,AQ){if(!kI()&&eQ.length===AQ.length)for(let iQ=0;iQ<eQ.length;iQ++){const oQ=AQ[iQ];if(oQ instanceof Hk&&this.isVP8Simulcast(oQ)){const rQ=eQ[iQ],nQ={},sQ={high:1e3*(oQ._encoderConfig.bitrateMax-50),medium:5e4};nQ.encodings=[{active:!0,adaptivePtime:!1,networkPriority:"high",priority:"high",maxBitrate:sQ.high},{active:!0,adaptivePtime:!1,networkPriority:"low",priority:"low",maxBitrate:sQ.medium,scaleResolutionDownBy:4}];const aQ=rQ.sender.getParameters();await rQ.sender.setParameters(Object.assign(aQ,nQ))}}}isVP8Simulcast(eQ){var AQ,iQ,oQ,rQ,nQ;return!!(eQ instanceof Hk&&Dy("SIMULCAST")&&this.store.codec==="vp8"&&!Dn(AQ=eQ._hints).call(AQ,eP.LOW_STREAM)&&(iQ=eQ._encoderConfig)!==null&&iQ!==void 0&&iQ.bitrateMax&&((oQ=eQ._encoderConfig)===null||oQ===void 0?void 0:oQ.bitrateMax)>200&&(rQ=eQ._scalabilityMode)!==null&&rQ!==void 0&&rQ.numSpatialLayers&&((nQ=eQ._scalabilityMode)===null||nQ===void 0?void 0:nQ.numSpatialLayers)>1)}logSDPExchange(eQ,AQ,iQ,oQ){if(Dy("SDP_LOGGING"))return Qy.upload("[".concat(this.store.clientId,"] exchanging ").concat(iQ," ").concat(AQ," SDP during P2PConnection.").concat(oQ,`
`),eQ),AQ==="offer"?rQ=>{this.logSDPExchange(rQ,"answer",iQ==="local"?"remote":"local",oQ)}:void 0}async getRemoteSSRC(eQ){if(!this.remoteSDP)return;const AQ=this.remoteSDP.getSSRC(eQ);return AQ&&AQ.length!==0?AQ[0].ssrcId:void 0}setConfiguration(eQ){if(MD().supportPCSetConfiguration){const AQ=S0.resolvePCConfiguration(eQ);this.peerConnection.setConfiguration(AQ)}}},rb(iF.prototype,"updateRemoteRTPCapabilities",[sF],Object.getOwnPropertyDescriptor(iF.prototype,"updateRemoteRTPCapabilities"),iF.prototype),rb(iF.prototype,"connect",[sF],Object.getOwnPropertyDescriptor(iF.prototype,"connect"),iF.prototype),rb(iF.prototype,"updateRemoteConnect",[sF],Object.getOwnPropertyDescriptor(iF.prototype,"updateRemoteConnect"),iF.prototype),rb(iF.prototype,"createDataChannels",[sF],Object.getOwnPropertyDescriptor(iF.prototype,"createDataChannels"),iF.prototype),rb(iF.prototype,"receive",[sF],Object.getOwnPropertyDescriptor(iF.prototype,"receive"),iF.prototype),rb(iF.prototype,"batchReceive",[sF],Object.getOwnPropertyDescriptor(iF.prototype,"batchReceive"),iF.prototype),rb(iF.prototype,"stopReceiving",[sF],Object.getOwnPropertyDescriptor(iF.prototype,"stopReceiving"),iF.prototype),rb(iF.prototype,"muteRemote",[sF],Object.getOwnPropertyDescriptor(iF.prototype,"muteRemote"),iF.prototype),rb(iF.prototype,"unmuteRemote",[sF],Object.getOwnPropertyDescriptor(iF.prototype,"unmuteRemote"),iF.prototype),rb(iF.prototype,"muteLocal",[sF],Object.getOwnPropertyDescriptor(iF.prototype,"muteLocal"),iF.prototype),rb(iF.prototype,"unmuteLocal",[sF],Object.getOwnPropertyDescriptor(iF.prototype,"unmuteLocal"),iF.prototype),rb(iF.prototype,"close",[sF],Object.getOwnPropertyDescriptor(iF.prototype,"close"),iF.prototype),rb(iF.prototype,"updateEncoderConfig",[sF],Object.getOwnPropertyDescriptor(iF.prototype,"updateEncoderConfig"),iF.prototype),rb(iF.prototype,"updateSendParameters",[sF],Object.getOwnPropertyDescriptor(iF.prototype,"updateSendParameters"),iF.prototype),rb(iF.prototype,"replaceTrack",[sF],Object.getOwnPropertyDescriptor(iF.prototype,"replaceTrack"),iF.prototype),rb(iF.prototype,"updateAdaptation",[sF],Object.getOwnPropertyDescriptor(iF.prototype,"updateAdaptation"),iF.prototype),rb(iF.prototype,"getRemoteSSRC",[sF],Object.getOwnPropertyDescriptor(iF.prototype,"getRemoteSSRC"),iF.prototype),iF);function sF(tQ,eQ,AQ){const iQ=tQ[eQ];if(typeof iQ!="function")throw new Error("Cannot use mutex on object property.");return AQ.value=async function(){const oQ=this.mutex,rQ=await oQ.lock("From P2PConnection.".concat(eQ));try{for(var nQ=arguments.length,sQ=new Array(nQ),aQ=0;aQ<nQ;aQ++)sQ[aQ]=arguments[aQ];return await iQ.apply(this,sQ)}finally{rQ()}},AQ}var aF;function cF(tQ,eQ){var AQ=Object.keys(tQ);if(Object.getOwnPropertySymbols){var iQ=Object.getOwnPropertySymbols(tQ);eQ&&(iQ=iQ.filter(function(oQ){return Object.getOwnPropertyDescriptor(tQ,oQ).enumerable})),AQ.push.apply(AQ,iQ)}return AQ}function dF(tQ){for(var eQ=1;eQ<arguments.length;eQ++){var AQ=arguments[eQ]!=null?arguments[eQ]:{};eQ%2?cF(Object(AQ),!0).forEach(function(iQ){og(tQ,iQ,AQ[iQ])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tQ,Object.getOwnPropertyDescriptors(AQ)):cF(Object(AQ)).forEach(function(iQ){Object.defineProperty(tQ,iQ,Object.getOwnPropertyDescriptor(AQ,iQ))})}return tQ}function lF(tQ){var eQ,AQ,iQ,oQ=2;for(typeof Symbol<"u"&&(AQ=OV,iQ=Symbol.iterator);oQ--;){if(AQ&&(eQ=tQ[AQ])!=null)return eQ.call(tQ);if(iQ&&(eQ=tQ[iQ])!=null)return new uF(eQ.call(tQ));AQ="@@asyncIterator",iQ="@@iterator"}throw new TypeError("Object is not async iterable")}function uF(tQ){function eQ(AQ){if(Object(AQ)!==AQ)return Gh.reject(new TypeError(AQ+" is not an object."));var iQ=AQ.done;return Gh.resolve(AQ.value).then(function(oQ){return{value:oQ,done:iQ}})}return uF=function(AQ){this.s=AQ,this.n=AQ.next},uF.prototype={s:null,n:null,next:function(){return eQ(this.n.apply(this.s,arguments))},return:function(AQ){var iQ=this.s.return;return iQ===void 0?Gh.resolve({value:AQ,done:!0}):eQ(iQ.apply(this.s,arguments))},throw:function(AQ){var iQ=this.s.return;return iQ===void 0?Gh.reject(AQ):eQ(iQ.apply(this.s,arguments))}},new uF(tQ)}let hF=(aF=class extends Sv{get state(){return this._state}set state(tQ){const eQ=this._state;this._state=tQ,this.emit(Qb.StateChange,eQ,this._state)}constructor(tQ,eQ){super(),og(this,"isPlanB",void 0),og(this,"store",void 0),og(this,"statsUploader",void 0),og(this,"connection",void 0),og(this,"localTrackMap",new Map),og(this,"remoteUserMap",new Map),og(this,"localDataChannels",[]),og(this,"remoteDataChannelMap",new Map),og(this,"pendingLocalTracks",[]),og(this,"pendingRemoteTracks",[]),og(this,"pendingLocalDataChannels",[]),og(this,"pendingRemoteDataChannels",[]),og(this,"statsCollector",void 0),og(this,"shouldForwardP2PCreation",void 0),og(this,"iceFailedCount",0),og(this,"dtlsFailedCount",0),og(this,"mutex",new hy("P2PChannel-mutex")),og(this,"_state",Xb.Disconnected),og(this,"_pcStatsUploadType",Dy("NEW_ICE_RESTART")?zb.FIRST_CONNECTION:zb.OLD_FIRST_CONNECTION),og(this,"_isInRestartIce",!1),og(this,"_isStartRestartIce",!1),og(this,"_restartStates",["disconnected","failed"]),og(this,"_restartTimer",void 0),og(this,"_isFirstConnected",!0),og(this,"handleMuteLocalTrack",async(AQ,iQ,oQ)=>{const rQ=await this.mutex.lock("Locking from P2PChannel.handleMuteLocalTrack");try{if(!this.connection||this.state!==Xb.Connected)return void oQ(new rv(nv.INVALID_OPERATION,"Cannot call P2PChannel.handleMuteLocalTrack before connection established."));const nQ=this.filterTobeMutedTracks(AQ);if(nQ.length===0)return void iQ();const sQ=nQ.find(cQ=>cQ[0]==="videoLowTrack");sQ&&sQ[1].track._originMediaStreamTrack.stop(),await this.connection.muteLocal(nQ.map(cQ=>{let[,{id:gQ}]=cQ;return gQ}));const aQ=this.createMuteMessage(nQ);await Mv(this,Qb.RequestMuteLocal,aQ),iQ()}catch(nQ){oQ(nQ)}finally{rQ()}}),og(this,"handleUnmuteLocalTrack",async(AQ,iQ,oQ)=>{const rQ=await this.mutex.lock("Locking from P2PChannel.handleUnmuteLocalTrack");try{if(!this.connection||this.state!==Xb.Connected)return void oQ(new rv(nv.INVALID_OPERATION,"Cannot call P2PChannel.handleUnmuteLocalTrack before connection established."));const nQ=this.filterTobeUnmutedTracks(AQ);if(nQ.length===0)return void iQ();const sQ=nQ.find(cQ=>cQ[0]==="videoLowTrack");if(sQ){const cQ=sQ[1];if(cQ.track._originMediaStreamTrack.stop(),!Dy("DISABLE_DUAL_STREAM_USE_ENCODING")&&MD().supportDualStreamEncoding){const gQ=AQ._mediaStreamTrack.clone();cQ.track._mediaStreamTrack=gQ,cQ.track._originMediaStreamTrack=gQ}else{const gQ=Fx(AQ,xv(this,Qb.RequestLowStreamParameter));cQ.track._mediaStreamTrack=gQ,cQ.track._originMediaStreamTrack=gQ}await new Gh((gQ,IQ)=>{this.handleReplaceTrack(cQ.track,gQ,IQ,!0)})}await this.connection.unmuteLocal(nQ.map(cQ=>{let[,{id:gQ}]=cQ;return gQ}));const aQ=this.createUnmuteMessage(nQ);await Mv(this,Qb.RequestUnmuteLocal,aQ),iQ()}catch(nQ){oQ(nQ)}finally{rQ()}}),og(this,"handleUpdateVideoEncoder",async(AQ,iQ,oQ)=>{const rQ=await this.mutex.lock("Locking from P2PChannel.handleSetVideoEncoder");try{const nQ=this.localTrackMap.get(Jb.LocalVideoTrack);if(!this.connection||!nQ||nQ.track!==AQ||this.state!==Xb.Connected)return void iQ();const{id:sQ,track:aQ}=nQ;await this.connection.updateSendParameters(sQ,aQ),await this.connection.updateEncoderConfig(sQ,aQ),this.emit(Qb.UpdateVideoEncoder,aQ),iQ()}catch(nQ){oQ(nQ)}finally{rQ()}}),og(this,"handleUpdateVideoSendParameters",async(AQ,iQ,oQ)=>{const rQ=await this.mutex.lock("Locking from P2PChannel.handleUpdateVideoSendParameters");try{const nQ=this.localTrackMap.get(Jb.LocalVideoTrack);if(!this.connection||!nQ||nQ.track!==AQ||this.state!==Xb.Connected)return void iQ();const{id:sQ,track:aQ}=nQ;await this.connection.updateSendParameters(sQ,aQ),iQ()}catch(nQ){oQ(nQ)}finally{rQ()}}),og(this,"handleReplaceMixingTrack",async(AQ,iQ,oQ,rQ)=>{if(!this.connection||this.state!==Xb.Connected)return void iQ();const nQ=sV([AQ]);let sQ;Qy.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection will replace audioTrack [").concat(nQ.getTrackId(),"]")),typeof rQ=="boolean"&&rQ||(sQ=await this.mutex.lock("From P2PChannel.handleReplaceMixingTrack"));try{await this.replaceTrack(AQ,nQ),iQ()}catch(cQ){oQ(cQ)}finally{var aQ;(aQ=sQ)===null||aQ===void 0||aQ()}}),og(this,"handleReplaceTrack",async(AQ,iQ,oQ,rQ)=>{let nQ;Qy.debug("[".concat(this.store.clientId,"] P2PChannel handleReplaceTrack for [track-id-").concat(AQ.getTrackId(),"]")),typeof rQ=="boolean"&&rQ||(nQ=await this.mutex.lock("From P2PChannel.handleReplaceTrack"));try{var sQ;const cQ=Array.from(this.localTrackMap.entries()).find(gQ=>{let[,{track:IQ}]=gQ;return AQ===IQ});if(!this.connection||!cQ||this.state!==Xb.Connected)return void iQ();if(await((sQ=this.connection)===null||sQ===void 0?void 0:sQ.replaceTrack(AQ,cQ[1].id)),this.isPlanB){const gQ=cQ[1];gQ.id=AQ._mediaStreamTrack.id,this.localTrackMap.set(cQ[0],gQ)}if(cQ[0]===Jb.LocalVideoTrack&&!Dy("DISABLE_DUAL_STREAM_USE_ENCODING")&&MD().supportDualStreamEncoding){const gQ=this.localTrackMap.get(Jb.LocalVideoLowTrack);if(gQ){const IQ=AQ._mediaStreamTrack.clone();gQ.track._originMediaStreamTrack.stop(),gQ.track._mediaStreamTrack=IQ,gQ.track._originMediaStreamTrack=IQ,await new Gh((EQ,CQ)=>{this.handleReplaceTrack(gQ.track,EQ,CQ,!0)})}}iQ()}catch(cQ){oQ(cQ)}finally{var aQ;(aQ=nQ)===null||aQ===void 0||aQ()}}),og(this,"handleGetRTCStats",AQ=>{AQ(this.statsCollector.getRTCStats())}),og(this,"handleGetLocalVideoStats",AQ=>{AQ(this.statsCollector.getLocalVideoTrackStats())}),og(this,"handleGetLocalAudioStats",AQ=>{AQ(this.statsCollector.getLocalAudioTrackStats())}),og(this,"handleGetRemoteVideoStats",AQ=>this.statsCollector.getRemoteVideoTrackStats(AQ.uid)[AQ.uid]),og(this,"handleGetRemoteAudioStats",AQ=>this.statsCollector.getRemoteAudioTrackStats(AQ.uid)[AQ.uid]),this.store=tQ,this.statsCollector=eQ,this.statsCollector.addP2PChannel(this),this.statsUploader=new tV(this.store),this.bindStatsUploaderEvents(),this.isPlanB=!MD().supportUnifiedPlan||Dy("CHROME_FORCE_PLAN_B")&&QI(),this.shouldForwardP2PCreation=Dy("FORWARD_P2P_CREATION")&&MD().supportPCSetConfiguration&&XI(),this.shouldForwardP2PCreation&&(this.connection=this.isPlanB?new MV({},this.store):new oF({},this.store),this.bindConnectionEvents(this.connection))}async startP2PConnection(tQ){var eQ;this.state=Xb.New;const AQ=this.shouldForwardP2PCreation&&((eQ=this.connection)===null||eQ===void 0?void 0:eQ.peerConnectionState)==="closed";if(this.shouldForwardP2PCreation&&!AQ||(AQ&&this.connection&&(Qy.warning("[".concat(this.store.clientId,"] P2PChannel.startP2PConnection ForwardP2P closed.")),this.connection.close(),this.unbindConnectionEvents(this.connection)),this.connection=this.isPlanB?new MV(tQ,this.store):new oF(tQ,this.store),this.bindConnectionEvents(this.connection)),!this.connection)throw new rv(nv.UNEXPECTED_ERROR,"Cannot P2PChannel.startConnection before P2PConnection initialization .");return this._pcStatsUploadType=Dy("NEW_ICE_RESTART")?zb.FIRST_CONNECTION:zb.OLD_FIRST_CONNECTION,this._isFirstConnected=!0,this._isInRestartIce=!1,this._isStartRestartIce=!1,this.connection.setConfiguration(tQ),this.connection.establishPromise}async connect(tQ){if(!this.connection)throw new rv(nv.UNEXPECTED_ERROR,"Cannot P2PChannel.connect before P2PChannel.startP2PConnection .");Dy("ENABLE_PREALLOC_PC")&&this.state===Xb.Connected?await this.connection.updateRemoteConnect(tQ):(this.store.peerConnectionStart(),await this.connection.connect(tQ),this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=Xb.Connected)}updateRemoteRTPCapabilities(tQ){const eQ=Array.from(this.localTrackMap.entries()).filter(oQ=>{var rQ;let[nQ]=oQ;return Dn(rQ=[Jb.LocalVideoLowTrack,Jb.LocalVideoTrack]).call(rQ,nQ)}),AQ=eQ.map(oQ=>{let[,{id:rQ}]=oQ;return rQ}),iQ=eQ.map(oQ=>{let[rQ]=oQ;return rQ});if(this.connection instanceof oF){if(sA.updateRemoteRTPCapabilities(this.store.sessionId,{trackTypes:JSON.stringify(iQ),localCodecs:JSON.stringify(this.connection.localCodecs),remoteCodecs:JSON.stringify(tQ)}),!Dn(tQ).call(tQ,this.store.codec)){const oQ=["vp9","vp8","h264"].find(rQ=>Dn(tQ).call(tQ,rQ));oQ&&(this.store.codec=oQ,Qy.debug("[".concat(this.store.clientId,"] [").concat(this.store.p2pId," updateRemoteRTPCapabilities] default codec is not available, hence the fallback to ").concat(oQ,".")))}this.connection.updateRemoteRTPCapabilities(AQ,tQ)}}async getEstablishParams(){var tQ;if(this.connection instanceof oF&&this.connection.peerConnectionState!=="closed"&&Dn(tQ=[Xb.New,Xb.Connected]).call(tQ,this.state))return this.connection.establishPromise}async publishDataChannel(tQ){if(!this.connection||this.state!==Xb.Connected){if(this.state===Xb.Disconnected)throw new rv(nv.UNEXPECTED_ERROR,"PeerConnection already disconnected.");return tQ.forEach(AQ=>{var iQ;Dn(iQ=this.pendingLocalDataChannels).call(iQ,AQ)||this.pendingLocalDataChannels.push(AQ)}),[]}const eQ=this.filterTobePublishedDataChannels(tQ);return eQ.length===0?[]:(eQ.forEach(AQ=>{const iQ=Date.now();this.store.publish(AQ.id.toString(),"datachannel",iQ)}),await this.connection.createDataChannels(this.store.uid,eQ),eQ.forEach(AQ=>{this.localDataChannels.push(AQ);const iQ=Date.now();this.store.publish(AQ.id+"","datachannel",void 0,iQ)}),tQ.map(AQ=>({streamId:AQ.id,ordered:AQ.ordered,maxRetransmits:AQ.maxRetransmits,metadata:AQ.metadata,channelId:AQ._originDataChannelId})))}publish(tQ,eQ,AQ){var iQ=this;return ZU(function*(){const oQ=yield WU(iQ.mutex.lock("From P2PChannel.publish"));try{if(!iQ.connection||iQ.state!==Xb.Connected){if(iQ.state===Xb.Disconnected)throw new rv(nv.UNEXPECTED_ERROR,"PeerConnection already disconnected.");iQ.throwIfTrackTypeNotMatch(tQ);const nQ=tQ.filter(sQ=>iQ.pendingLocalTracks.indexOf(sQ)===-1);return void(iQ.pendingLocalTracks=iQ.pendingLocalTracks.concat(nQ))}iQ.store.pubId=iQ.store.pubId+1,jU.markPublishStart(iQ.store.clientId,iQ.store.pubId);const rQ=iQ.filterTobePublishedTracks(tQ,eQ,AQ);if(rQ.length===0)return void(yield WU(iQ.tryToUnmuteAudio(tQ)));yield*wV(lF(iQ.doPublish(iQ.connection,rQ)))}finally{oQ()}})()}doPublish(tQ,eQ){var AQ=this;return ZU(function*(){eQ.forEach(IQ=>{let{track:EQ,type:CQ}=IQ;const dQ=Date.now();AQ.store.publish(EQ.getTrackId(),CQ===Jb.LocalAudioTrack?"audio":"video",dQ)}),AQ.bindLocalTrackEvents(eQ);const iQ=eQ.map(IQ=>{let{track:EQ}=IQ;return EQ}),oQ=yield WU(tQ.send(eQ.map(IQ=>{let{track:EQ}=IQ;return EQ}),AQ.store.codec,AQ.store.audioCodec)),rQ=(yield WU(oQ.next())).value,nQ=AQ.createGatewayPublishMessage(eQ,rQ);let sQ;try{sQ=yield nQ}catch(IQ){throw oQ.throw(IQ),(IQ==null?void 0:IQ.code)===nv.WS_ABORT&&eQ.forEach(EQ=>{let{track:CQ}=EQ;AQ.pendingLocalTracks.indexOf(CQ)===-1&&AQ.pendingLocalTracks.push(CQ)}),AQ.unbindLocalTrackEvents(eQ),IQ}const aQ=AQ.mapPubResToRemoteConfig(nQ,sQ),cQ=(yield WU(oQ.next(aQ))).value,gQ=Dy("ENABLE_VIDEO_SEI");iQ.forEach(async IQ=>{const EQ=IQ.getRTCRtpTransceiver();EQ&&gQ&&(IQ.trackMediaType===Yb.VIDEO?await fM(EQ.sender,IQ):IQ.trackMediaType===Yb.AUDIO&&await async function(CQ){if(!MD().supportWebRTCEncodedTransform)return void Qy.warning("browser not support audio encoded transform");if(pM.has(CQ)||!CQ.track)return;const dQ={track:CQ.track};if(DI()){if(!CQ.createEncodedStreams)return void Qy.warning("browser not support createEncodedStreams() API");let uQ=null;try{uQ=CQ.createEncodedStreams()}catch(BQ){return void Qy.error("create audio-encoded-streams error",BQ&&BQ.message)}const hQ=new TransformStream({transform(BQ,QQ){dQ.controller||(dQ.controller=QQ),CQ.track&&CQ.track.id!==dQ.track.id&&(Qy.debug("audio track changed: ".concat(dQ.track.id," => ").concat(CQ.track.id)),dQ.track.removeEventListener("ended",lQ),dQ.track=CQ.track,dQ.track.addEventListener("ended",lQ)),QQ.enqueue(BQ)}});uQ.readable.pipeThrough(hQ).pipeTo(uQ.writable)}else if(PI()){if(typeof RTCRtpScriptTransform>"u")return void Qy.warning("browser not support RTCRtpScriptTransform");const uQ=hM(),hQ=new MessageChannel;await new Gh(QQ=>uQ.onmessage=fQ=>{fQ.data==="registered"&&QQ(void 0)});const BQ=new RTCRtpScriptTransform(uQ,{name:"tx",port:hQ.port2},[hQ.port2]);CQ.transform=BQ,await new Gh(QQ=>uQ.onmessage=fQ=>{fQ.data==="started"&&QQ(void 0)}),hQ.port1.onmessage=QQ=>{var fQ;QQ.data.transformed&&CQ.track&&((fQ=CQ.track)===null||fQ===void 0?void 0:fQ.id)!==dQ.track.id&&(Qy.debug("audio track changed: ".concat(dQ.track.id," => ").concat(CQ.track.id)),dQ.track.removeEventListener("ended",lQ),dQ.track=CQ.track,dQ.track.addEventListener("ended",lQ))},dQ.worker=uQ}function lQ(){if(CQ.track){if(this.id!==CQ.track.id)return;CQ.track.removeEventListener("ended",lQ)}const uQ=pM.get(CQ);if(uQ){pM.delete(CQ);try{var hQ,BQ;(hQ=uQ.controller)===null||hQ===void 0||hQ.terminate(),(BQ=uQ.worker)===null||BQ===void 0||BQ.terminate()}catch(QQ){Qy.warning(QQ&&QQ.message)}}}pM.set(CQ,dQ),CQ.track.addEventListener("ended",lQ)}(EQ.sender))}),eQ.forEach(IQ=>{let{type:EQ}=IQ;AQ.statsCollector.addLocalStats(EQ)}),AQ.assignLocalTracks(eQ,cQ),AQ.statsUploader.startUploadOutboundStats(),eQ.forEach(IQ=>{let{track:EQ,type:CQ}=IQ;const dQ=Date.now();AQ.store.publish(EQ.getTrackId(),CQ===Jb.LocalAudioTrack?"audio":"video",void 0,dQ)})})()}async updateVideoStreamParameter(tQ,eQ){const AQ=this.localTrackMap.get(eQ);if(!AQ)return;if(!(AQ.track instanceof Hk))return Qy.warn("[updateVideoStreamParameter]: track is not an instance of LocalVideoTrack");if(!(this.connection instanceof oF||this.connection instanceof MV))return Qy.warn("[updateVideoStreamParameter]: connection is not P2PConnection or P2PConnectionPlanB");const{track:iQ}=AQ,oQ=function(rQ,nQ){const sQ={};return rQ.height&&rQ.width&&(sQ.scaleResolutionDownBy=Fw(rQ,nQ)),sQ.maxFramerate=rQ.framerate?kw(rQ.framerate):void 0,sQ.maxBitrate=rQ.bitrate?1e3*rQ.bitrate:void 0,sQ}(tQ,iQ);if(iQ._encoderConfig||(iQ._encoderConfig={}),eQ!==Jb.LocalVideoLowTrack||!Dy("DISABLE_DUAL_STREAM_USE_ENCODING")&&MD().supportDualStreamEncoding)oQ.scaleResolutionDownBy!=null&&(iQ._encoderConfig.scaleResolutionDownBy=oQ.scaleResolutionDownBy);else{const rQ=iQ._originMediaStreamTrack;if(!rQ.canvas)return Qy.warn("[".concat(iQ.getTrackId(),"] no canvas on track"));(function(nQ,sQ){const aQ=nQ.canvas;sQ.width&&(aQ.width=kw(sQ.width)),sQ.height&&(aQ.height=kw(sQ.height)),sQ.framerate&&(aQ.stopCapture&&aQ.stopCapture(),aQ.stopCapture=kP(()=>{!aQ.startCapture&&aQ.stopCapture&&aQ.stopCapture(),aQ.startCapture&&aQ.startCapture()},kw(sQ.framerate)))})(rQ,tQ)}oQ.maxBitrate!=null&&(iQ._encoderConfig.bitrateMax=oQ.maxBitrate/1e3),oQ.maxFramerate!=null&&(iQ._encoderConfig.frameRate&&typeof iQ._encoderConfig.frameRate=="object"?iQ._encoderConfig.frameRate.max=oQ.maxFramerate:iQ._encoderConfig.frameRate={max:oQ.maxFramerate}),Qy.debug("[".concat(iQ.getTrackId(),"] LowStreamEncoderConfig: , ").concat(JSON.stringify(iQ._encoderConfig))),await this.connection.updateRtpSenderEncodings(iQ)}publishLowStream(tQ){var eQ=this;return ZU(function*(){if(!eQ.connection||eQ.state!==Xb.Connected)return;const AQ=yield WU(eQ.mutex.lock("Locking from P2PChannel.publishLowStream"));try{const oQ=eQ.localTrackMap.get(Jb.LocalVideoTrack);if(!oQ)throw new rv(nv.UNEXPECTED_ERROR,"Could not find high stream");if(eQ.localTrackMap.has(Jb.LocalVideoLowTrack))throw new rv(nv.UNEXPECTED_ERROR,"[".concat(eQ.store.clientId,"] Can't publish low stream when stream already publish"));const rQ=[{track:eQ.getLowVideoTrack(oQ.track,tQ),type:Jb.LocalVideoLowTrack}];if(yield*wV(lF(eQ.doPublish(eQ.connection,rQ))),oQ.track.muted||!oQ.track.enabled){var iQ;const nQ=(iQ=eQ.localTrackMap.get(Jb.LocalVideoLowTrack))===null||iQ===void 0?void 0:iQ.id;nQ!==void 0&&(yield WU(eQ.connection.muteLocal([nQ])))}}finally{AQ()}})()}async republish(){this.pendingLocalTracks.length>0&&(Qy.debug("[".concat(this.store.clientId,"] Emit P2PChannelEvents.RequestRePublish to republish tracks.")),await kv(this,Qb.RequestRePublish,this.pendingLocalTracks),this.emit(Qb.MediaReconnectEnd,this.store.uid),this.pendingLocalTracks=[]),this.pendingLocalDataChannels.length>0&&(Qy.debug("Emit P2PChannelEvents.RequestRePublishDataChannel to republish datachannels."),await kv(this,Qb.RequestRePublishDataChannel,this.pendingLocalDataChannels),this.pendingLocalDataChannels=[])}async reSubscribe(tQ){for(let eQ=this.pendingRemoteTracks.length-1;eQ>=0;eQ--){const{user:AQ,kind:iQ}=this.pendingRemoteTracks[eQ];(iQ!==Yb.AUDIO||AQ._audio_added_&&AQ._audioSSRC)&&(iQ!==Yb.VIDEO||AQ._video_added_&&AQ._videoSSRC)||this.pendingRemoteTracks.splice(eQ,1)}if(tQ)await kv(this,Qb.RequestReSubscribe,this.pendingRemoteTracks);else for(const{user:eQ,kind:AQ}of this.pendingRemoteTracks)await this.subscribe(eQ,AQ,AQ===Yb.VIDEO?eQ._videoSSRC:eQ._audioSSRC);this.pendingRemoteTracks.forEach(eQ=>{let{user:AQ}=eQ;this.emit(Qb.MediaReconnectEnd,AQ.uid)}),this.pendingRemoteTracks=[]}async unpublish(tQ){if(!this.connection||this.state!==Xb.Connected)return void tQ.forEach(iQ=>{const oQ=this.pendingLocalTracks.indexOf(iQ);oQ!==-1&&this.pendingLocalTracks.splice(oQ,1)});const eQ=this.filterTobeUnpublishedTracks(tQ);if(eQ.length===0)return;const AQ=eQ.find(iQ=>iQ[0]==="videoLowTrack");return AQ&&AQ[1].track.close(),this.doUnpublish(this.connection,eQ)}async unpublishDataChannel(tQ){if(!this.connection||this.state!==Xb.Connected)return void tQ.forEach(AQ=>{const iQ=this.pendingLocalDataChannels.indexOf(AQ);iQ!==-1&&this.pendingLocalDataChannels.splice(iQ,1)});const eQ=this.filterTobeUnpublishedDataChannels(tQ);return eQ.length!==0?(eQ.forEach(AQ=>{const iQ=this.localDataChannels.indexOf(AQ);iQ!==-1&&this.localDataChannels.splice(iQ,1)}),this.localDataChannels.length===0&&await this.connection.stopDataChannels(this.store.uid),eQ.map(AQ=>AQ.id)):void 0}async unpublishLowStream(){if(!this.connection||this.state!==Xb.Connected)return;const tQ=this.localTrackMap.get(Jb.LocalVideoLowTrack);if(!tQ)return;tQ.track.close();const eQ=[[Jb.LocalVideoLowTrack,tQ]];return this.doUnpublish(this.connection,eQ)}async doUnpublish(tQ,eQ){const AQ=this.createGatewayUnpublishMessage(eQ);return await tQ.stopSending(eQ.map(iQ=>{let[,{id:oQ}]=iQ;return oQ})),this.withdrawLocalTracks(eQ),this.unbindLocalTrackEvents(eQ.map(iQ=>{let[oQ,{track:rQ}]=iQ;return{type:oQ,track:rQ}})),eQ.forEach(iQ=>{let[oQ]=iQ;this.statsCollector.removeLocalStats(oQ)}),this.localTrackMap.size===0&&this.statsUploader.stopUploadOutboundStats(),AQ}async subscribeDataChannel(tQ,eQ){if(!this.connection||this.state!==Xb.Connected)throw new rv(nv.INVALID_OPERATION,"Cannot subscribe remote user when peerConnection disconnected.");const AQ=eQ.filter(iQ=>{var oQ;return!((oQ=this.remoteDataChannelMap.get(tQ))!==null&&oQ!==void 0&&oQ.get(iQ.id))});if(AQ.length!==0)return await this.connection.createDataChannels(tQ.uid,AQ),AQ.forEach(iQ=>{var oQ;this.remoteDataChannelMap.has(tQ)?(oQ=this.remoteDataChannelMap.get(tQ))===null||oQ===void 0||oQ.set(iQ.id,iQ):this.remoteDataChannelMap.set(tQ,new Map([[iQ.id,iQ]]));const rQ=this.pendingRemoteDataChannels.findIndex(nQ=>{let{user:sQ,id:aQ}=nQ;return sQ.uid===tQ.uid&&aQ===iQ.id});rQ!==-1&&this.pendingRemoteDataChannels.splice(rQ,1)}),AQ.map(iQ=>iQ.id)}async subscribe(tQ,eQ,AQ,iQ,oQ){var rQ;if(!this.connection||this.state!==Xb.Connected)throw new rv(nv.INVALID_OPERATION,"Cannot subscribe remote user when peerConnection disconnected.");if((rQ=this.remoteUserMap.get(tQ))!==null&&rQ!==void 0&&rQ.has(eQ))return;let nQ,sQ,aQ;const cQ=this.connection.getPreMedia(AQ);if(cQ)Qy.debug("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] preSSRCMap has ssrcId: ").concat(AQ,", no need to send sub to gateway.")),aQ=cQ.transceiver,nQ=cQ.track,sQ=cQ.id;else if(oQ){const EQ=oQ.find(dQ=>{let{stream_type:lQ}=dQ;return lQ===eQ});if(!EQ)throw new rv(nv.UNEXPECTED_ERROR,"Cannot subscribe to remote ".concat(eQ," for user: ").concat(tQ.uid," because subscribe answer from gateway does not contain stream_type: ").concat(eQ,"."));const CQ=await this.connection.receive(eQ,EQ.ssrcs,String(tQ._uintid),EQ.attributes);this.connection instanceof oF&&(aQ=CQ.transceiver),nQ=CQ.track,sQ=CQ.id}else{const EQ=await this.connection.receive(eQ,[{ssrcId:AQ,rtx:iQ}],String(tQ._uintid),void 0);this.connection instanceof oF&&(aQ=EQ.transceiver),nQ=EQ.track,sQ=EQ.id}eQ===Yb.AUDIO?(tQ._audioTrack?tQ._audioTrack._updateOriginMediaStreamTrack(nQ):(tQ._audioTrack=new aM(nQ,tQ.uid,tQ._uintid,this.store),Qy.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote audio track: ").concat(tQ._audioTrack.getTrackId()))),aQ&&tQ._audioTrack._updateRtpTransceiver(aQ),this.bindRemoteTrackEvents(tQ,tQ._audioTrack)):(tQ._videoTrack?tQ._videoTrack._updateOriginMediaStreamTrack(nQ):(tQ._videoTrack=new sM(nQ,tQ.uid,tQ._uintid,this.store),Qy.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote video track: ").concat(tQ._videoTrack.getTrackId()))),aQ&&tQ._videoTrack._updateRtpTransceiver(aQ),this.bindRemoteTrackEvents(tQ,tQ._videoTrack)),Dy("ENABLE_VIDEO_SEI")&&aQ&&(eQ==Yb.VIDEO?await async function(EQ){let CQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!MD().supportWebRTCEncodedTransform)return void Qy.warning("browser not support video encoded transform");if(!EQ.track)return;if(TM.has(EQ)){const uQ=TM.get(EQ);return void(uQ&&(uQ.onSei=CQ.onSei))}const dQ={track:EQ.track,onSei:CQ.onSei};if(DI()){if(!EQ.createEncodedStreams)return void Qy.warning("browser not support createEncodedStreams() API");let uQ=null;try{uQ=EQ.createEncodedStreams()}catch(BQ){return void Qy.error("create video-encoded-streams error",BQ&&BQ.message)}const hQ=new TransformStream({transform(BQ,QQ){dQ.controller||(dQ.controller=QQ),EQ.track&&EQ.track.id!==dQ.track.id&&(Qy.debug("video track changed: ".concat(dQ.track.id," => ").concat(EQ.track.id)),dQ.track.removeEventListener("ended",lQ),dQ.track=EQ.track,dQ.track.addEventListener("ended",lQ));const fQ=function(_Q){const RQ=new DataView(_Q.data);let wQ=0;for(;wQ+4<_Q.data.byteLength;){if(RQ.getUint8(wQ+0)===0&&RQ.getUint8(wQ+1)===0&&RQ.getUint8(wQ+2)===0&&RQ.getUint8(wQ+3)===1&&RQ.getUint8(wQ+4)===6){let bQ=wQ+6,NQ=0,UQ=0;for(;(UQ=RQ.getUint8(bQ++))===255;)NQ+=255;NQ+=UQ;const PQ=EM(_Q.data,bQ,NQ);return new Uint8Array(PQ)}wQ++}return null}(BQ);fQ&&dQ.onSei&&dQ.onSei(fQ),QQ.enqueue(BQ)}});uQ.readable.pipeThrough(hQ).pipeTo(uQ.writable)}else if(PI()){if(typeof RTCRtpScriptTransform>"u")return void Qy.warning("browser not support RTCRtpScriptTransform");const uQ=hM(),hQ=new MessageChannel;await new Gh(QQ=>uQ.onmessage=fQ=>{fQ.data==="registered"&&QQ(void 0)});const BQ=new RTCRtpScriptTransform(uQ,{name:"rx",port:hQ.port2},[hQ.port2]);EQ.transform=BQ,await new Gh(QQ=>uQ.onmessage=fQ=>{fQ.data==="started"&&QQ(void 0)}),hQ.port1.onmessage=QQ=>{var fQ;QQ.data.transformed&&EQ.track&&((fQ=EQ.track)===null||fQ===void 0?void 0:fQ.id)!==dQ.track.id?(Qy.debug("video track changed: ".concat(dQ.track.id," => ").concat(EQ.track.id)),dQ.track.removeEventListener("ended",lQ),dQ.track=EQ.track,dQ.track.addEventListener("ended",lQ)):QQ.data.sei&&dQ.onSei&&dQ.onSei(QQ.data.sei)},dQ.worker=uQ}function lQ(){if(EQ.track){if(this.id!==EQ.track.id)return;EQ.track.removeEventListener("ended",lQ)}(function(uQ){const hQ=TM.get(uQ);if(hQ){TM.delete(uQ);try{var BQ,QQ;(BQ=hQ.controller)===null||BQ===void 0||BQ.terminate(),(QQ=hQ.worker)===null||QQ===void 0||QQ.terminate()}catch(fQ){Qy.warning(fQ&&fQ.message)}}})(EQ)}TM.set(EQ,dQ),EQ.track.addEventListener("ended",lQ)}(aQ.receiver,{onSei:EQ=>{var CQ;(CQ=tQ._videoTrack)===null||CQ===void 0||CQ._onSei(EQ)}}):eQ==Yb.AUDIO&&await async function(EQ){if(!MD().supportWebRTCEncodedTransform)return void Qy.warning("browser not support audio encoded transform");if(_M.has(EQ))return;const CQ={track:EQ.track};if(DI()){if(!EQ.createEncodedStreams)return void Qy.warning("browser not support createEncodedStreams() API");let lQ=null;try{lQ=EQ.createEncodedStreams()}catch(hQ){return void Qy.error("create audio-encoded-streams error",hQ&&hQ.message)}const uQ=new TransformStream({transform(hQ,BQ){CQ.controller||(CQ.controller=BQ),EQ.track&&EQ.track.id!==CQ.track.id&&(Qy.debug("audio track changed: ".concat(CQ.track.id," => ").concat(EQ.track.id)),CQ.track.removeEventListener("ended",dQ),CQ.track=EQ.track,CQ.track.addEventListener("ended",dQ)),BQ.enqueue(hQ)}});lQ.readable.pipeThrough(uQ).pipeTo(lQ.writable)}else if(PI()){if(typeof RTCRtpScriptTransform>"u")return void Qy.warning("browser not support RTCRtpScriptTransform");const lQ=hM(),uQ=new MessageChannel;await new Gh(BQ=>lQ.onmessage=QQ=>{QQ.data==="registered"&&BQ(void 0)});const hQ=new RTCRtpScriptTransform(lQ,{name:"rx",port:uQ.port2},[uQ.port2]);EQ.transform=hQ,await new Gh(BQ=>lQ.onmessage=QQ=>{QQ.data==="started"&&BQ(void 0)}),uQ.port1.onmessage=BQ=>{var QQ;BQ.data.transformed&&EQ.track&&((QQ=EQ.track)===null||QQ===void 0?void 0:QQ.id)!==CQ.track.id&&(Qy.debug("audio track changed: ".concat(CQ.track.id," => ").concat(EQ.track.id)),CQ.track.removeEventListener("ended",dQ),CQ.track=EQ.track,CQ.track.addEventListener("ended",dQ))},CQ.worker=lQ}function dQ(){EQ.track.removeEventListener("ended",dQ),function(lQ){const uQ=_M.get(lQ);if(uQ){_M.delete(lQ);try{var hQ,BQ;(hQ=uQ.controller)===null||hQ===void 0||hQ.terminate(),(BQ=uQ.worker)===null||BQ===void 0||BQ.terminate()}catch(QQ){Qy.warning(QQ&&QQ.message)}}}(EQ)}_M.set(EQ,CQ),EQ.track.addEventListener("ended",dQ)}(aQ.receiver));const gQ=this.remoteUserMap.get(tQ);gQ?gQ.set(eQ,sQ):this.remoteUserMap.set(tQ,new Map([[eQ,sQ]])),this.statsCollector.addRemoteStats(tQ.uid),this.statsUploader.startUploadInboundStats();const IQ=this.pendingRemoteTracks.findIndex(EQ=>{let{user:CQ,kind:dQ}=EQ;return CQ.uid===tQ.uid&&eQ===dQ});IQ!==-1&&(this.pendingRemoteTracks.splice(IQ,1),this.emit(Qb.MediaReconnectEnd,tQ.uid))}async massSubscribe(tQ){return this.massSubscribeNoLock(tQ)}async massSubscribeNoLock(tQ){if(!this.connection||this.state!==Xb.Connected)throw new rv(nv.INVALID_OPERATION,"Cannot subscribeAll remote users when peerConnection disconnected.");tQ=tQ.filter(oQ=>{var rQ;let{user:nQ,mediaType:sQ}=oQ;return!((rQ=this.remoteUserMap.get(nQ))!==null&&rQ!==void 0&&rQ.has(sQ))});const eQ=[],AQ=new Map;tQ.forEach(oQ=>{if(!this.connection)return;const rQ=this.connection.getPreMedia(oQ.ssrcId);rQ?AQ.set(oQ.ssrcId,rQ):eQ.push(oQ)});const iQ=await this.connection.batchReceive(eQ.map(oQ=>{let{user:rQ,mediaType:nQ,ssrcId:sQ,rtxSsrcId:aQ}=oQ;return{kind:nQ,ssrcMsg:[{ssrcId:sQ,rtx:aQ}],mslabel:String(rQ._uintid)}}));eQ.forEach((oQ,rQ)=>{AQ.set(oQ.ssrcId,iQ[rQ])}),tQ.forEach(oQ=>{let{user:rQ,mediaType:nQ,ssrcId:sQ}=oQ;const aQ=AQ.get(sQ);if(!aQ)return void Qy.debug("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] cannot find ").concat(rQ.uid," subscribe data,").concat(nQ,", ").concat(sQ));const{track:cQ,id:gQ,transceiver:IQ}=aQ;nQ===Yb.AUDIO?(rQ._audioTrack?rQ._audioTrack._updateOriginMediaStreamTrack(cQ):(rQ._audioTrack=new aM(cQ,rQ.uid,rQ._uintid,this.store),Qy.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote audio track: ").concat(rQ._audioTrack.getTrackId()))),IQ&&rQ._audioTrack._updateRtpTransceiver(IQ),this.bindRemoteTrackEvents(rQ,rQ._audioTrack)):(rQ._videoTrack?rQ._videoTrack._updateOriginMediaStreamTrack(cQ):(rQ._videoTrack=new sM(cQ,rQ.uid,rQ._uintid,this.store),Qy.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote video track: ").concat(rQ._videoTrack.getTrackId()))),IQ&&rQ._videoTrack._updateRtpTransceiver(IQ),this.bindRemoteTrackEvents(rQ,rQ._videoTrack));const EQ=this.remoteUserMap.get(rQ);EQ?EQ.set(nQ,gQ):this.remoteUserMap.set(rQ,new Map([[nQ,gQ]])),this.statsCollector.addRemoteStats(rQ.uid),this.statsUploader.startUploadInboundStats();const CQ=this.pendingRemoteTracks.findIndex(dQ=>{let{user:lQ,kind:uQ}=dQ;return lQ.uid===rQ.uid&&nQ===uQ});CQ!==-1&&(this.pendingRemoteTracks.splice(CQ,1),this.emit(Qb.MediaReconnectEnd,rQ.uid))})}async unsubscribe(tQ,eQ,AQ){const iQ=this.pendingRemoteTracks.filter(nQ=>{let{user:sQ,kind:aQ}=nQ;return eQ!==void 0?sQ.uid===tQ.uid&&eQ===aQ:sQ.uid===tQ.uid});if(iQ.forEach(nQ=>{const sQ=this.pendingRemoteTracks.indexOf(nQ);this.pendingRemoteTracks.splice(sQ,1)}),this.connection&&this.state===Xb.Connected||AQ||iQ.forEach(nQ=>{let{kind:sQ}=nQ;var aQ;if(sQ===Yb.AUDIO)(aQ=tQ._audioTrack)===null||aQ===void 0||aQ._destroy(),tQ._audioTrack=void 0;else if(sQ===Yb.VIDEO){var cQ;(cQ=tQ._videoTrack)===null||cQ===void 0||cQ._destroy(),tQ._videoTrack=void 0}}),!this.connection||this.state!==Xb.Connected)return;const oQ=this.filterTobeUnSubscribedTracks(tQ,eQ);if(oQ.length===0)return;await this.connection.stopReceiving(oQ.map(nQ=>{let[,{id:sQ}]=nQ;return sQ}));const rQ=this.createUnsubscribeMessage(oQ);return this.withdrawRemoteTracks(oQ),this.remoteUserMap.size===0&&this.statsUploader.stopUploadInboundStats(),oQ.forEach(nQ=>{let[sQ,{kind:aQ}]=nQ;var cQ,gQ;if(aQ===Yb.VIDEO&&sQ._videoSSRC&&((cQ=this.connection)===null||cQ===void 0||cQ.setStatsRemoteVideoIsReady(sQ._videoSSRC,!1)),aQ===Yb.VIDEO)this.unbindRemoteTrackEvents(sQ._videoTrack),AQ||((gQ=sQ._videoTrack)===null||gQ===void 0||gQ._destroy(),sQ._videoTrack=void 0);else if(aQ===Yb.AUDIO){var IQ;this.unbindRemoteTrackEvents(sQ._audioTrack),!AQ&&((IQ=sQ._audioTrack)===null||IQ===void 0||IQ._destroy(),sQ._audioTrack=void 0)}}),rQ}async unsubscribeDataChannel(tQ,eQ){if(eQ.forEach(oQ=>{const rQ=this.pendingRemoteDataChannels.findIndex(nQ=>nQ.id===oQ.id);rQ!==-1&&this.pendingRemoteDataChannels.splice(rQ,1)}),!this.connection)return;const AQ=this.filterTobeUnSubscribedDataChannels(tQ,eQ);if(AQ.length===0)return;eQ.forEach(oQ=>{oQ._close()});const iQ=this.remoteDataChannelMap.get(tQ);return AQ.forEach(oQ=>{iQ&&iQ.delete(oQ.id)}),iQ&&iQ.size===0&&(this.remoteDataChannelMap.delete(tQ),await this.connection.stopDataChannels(tQ.uid)),AQ.map(oQ=>oQ.id)}async massUnsubscribe(tQ){return this.massUnsubscribeNoLock(tQ)}async massUnsubscribeNoLock(tQ){let eQ=[];for(const{user:oQ,mediaType:rQ}of tQ){const nQ=this.pendingRemoteTracks.filter(sQ=>{let{user:aQ,kind:cQ}=sQ;return rQ!==void 0?aQ.uid===oQ.uid&&rQ===cQ:aQ.uid===oQ.uid});nQ.forEach(sQ=>{const aQ=this.pendingRemoteTracks.indexOf(sQ);this.pendingRemoteTracks.splice(aQ,1)}),eQ=eQ.concat(nQ)}if(!this.connection||this.state!==Xb.Connected)return void eQ.forEach(oQ=>{let{user:rQ,kind:nQ}=oQ;var sQ;if(nQ===Yb.AUDIO)(sQ=rQ._audioTrack)===null||sQ===void 0||sQ._destroy(),rQ._audioTrack=void 0;else if(nQ===Yb.VIDEO){var aQ;(aQ=rQ._videoTrack)===null||aQ===void 0||aQ._destroy(),rQ._videoTrack=void 0}});const AQ=Jn(tQ).call(tQ,(oQ,rQ)=>{let{user:nQ,mediaType:sQ}=rQ;const aQ=this.filterTobeUnSubscribedTracks(nQ,sQ);return oQ.concat(aQ)},[]);if(AQ.length===0)return;await this.connection.stopReceiving(AQ.map(oQ=>{let[,{id:rQ}]=oQ;return rQ}));const iQ=this.createUnsubscribeAllMessage(AQ);return this.withdrawRemoteTracks(AQ),this.remoteUserMap.size===0&&this.statsUploader.stopUploadInboundStats(),AQ.forEach(oQ=>{let[rQ,{kind:nQ}]=oQ;var sQ,aQ;if(nQ===Yb.VIDEO&&rQ._videoSSRC&&((sQ=this.connection)===null||sQ===void 0||sQ.setStatsRemoteVideoIsReady(rQ._videoSSRC,!1)),nQ===Yb.VIDEO)this.unbindRemoteTrackEvents(rQ._videoTrack),(aQ=rQ._videoTrack)===null||aQ===void 0||aQ._destroy(),rQ._videoTrack=void 0;else if(nQ===Yb.AUDIO){var cQ;this.unbindRemoteTrackEvents(rQ._audioTrack),(cQ=rQ._audioTrack)===null||cQ===void 0||cQ._destroy(),rQ._audioTrack=void 0}}),iQ}isPreSubScribe(tQ){return!this.connection||this.state!==Xb.Connected?!1:!!this.connection.getPreMedia(tQ)}async muteRemote(tQ,eQ){if(!this.connection)return;const AQ=this.remoteUserMap.get(tQ);if(!AQ)return void Qy.warning("[".concat(this.store.clientId,"] P2PChannel.muteRemote has no remote user ").concat(tQ.uid,"."));if(!AQ.get(eQ))return void Qy.warning("[".concat(this.store.clientId,"] P2PChannel.muteRemote has no remote user ").concat(tQ.uid," media type ").concat(eQ,"."));const iQ=eQ===Yb.VIDEO?tQ._videoSSRC:tQ._audioSSRC;iQ!==void 0&&this.connection.setStatsRemoteVideoIsReady(iQ,!1)}async unmuteRemote(tQ,eQ){return this.unmuteRemoteNoLock(tQ,eQ)}async unmuteRemoteNoLock(tQ,eQ){if(!this.connection)return;const AQ=this.remoteUserMap.get(tQ);if(!AQ)return void Qy.warning("[".concat(this.store.clientId,"] P2PChannel.unmuteRemote has no remote user ").concat(tQ.uid,"."));AQ.get(eQ)||Qy.warning("[".concat(this.store.clientId,"] P2PChannel.unmuteRemote has no remote user ").concat(tQ.uid," media type ").concat(eQ,"."))}getAllTracks(tQ){const eQ=this.localTrackMap.get(Jb.LocalAudioTrack);if((eQ==null?void 0:eQ.track)instanceof rk){const AQ=eQ.track;return Array.from(this.localTrackMap.entries()).filter(iQ=>{let[oQ]=iQ;return oQ!==Jb.LocalAudioTrack}).filter(iQ=>{let[oQ]=iQ;return!(tQ&&oQ===Jb.LocalVideoLowTrack)}).map(iQ=>{let[,{track:oQ}]=iQ;return oQ}).concat(AQ.trackList)}return Array.from(this.localTrackMap.entries()).filter(AQ=>{let[iQ]=AQ;return!(tQ&&iQ===Jb.LocalVideoLowTrack)}).map(AQ=>{let[,{track:iQ}]=AQ;return iQ})}getAllDataChannels(){return this.localDataChannels}reportPublishEvent(tQ,eQ,AQ,iQ,oQ){if(tQ){const nQ=this.localTrackMap.get(Jb.LocalAudioTrack),sQ=iQ?this.localTrackMap.get(Jb.LocalVideoLowTrack):this.localTrackMap.get(Jb.LocalVideoTrack);sA.publish(this.store.sessionId,{eventElapse:jU.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:tQ,ec:eQ,audioName:nQ==null?void 0:nQ.track.getTrackLabel(),videoName:sQ==null?void 0:sQ.track.getTrackLabel(),screenshare:(sQ==null?void 0:sQ.track._hints.indexOf(eP.SCREEN_TRACK))!==-1,audio:!!nQ,video:!!sQ,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:oQ})}else{var rQ;AQ||(AQ=[]);const nQ=AQ.find(aQ=>aQ instanceof tk),sQ=iQ?(rQ=this.localTrackMap.get(Jb.LocalVideoTrack))===null||rQ===void 0?void 0:rQ.track:AQ.find(aQ=>aQ instanceof Hk);sA.publish(this.store.sessionId,{eventElapse:jU.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:tQ,ec:eQ,audioName:nQ==null?void 0:nQ.getTrackLabel(),videoName:sQ==null?void 0:sQ.getTrackLabel(),screenshare:(sQ==null?void 0:sQ._hints.indexOf(eP.SCREEN_TRACK))!==-1,audio:!!nQ,video:!!sQ,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:oQ})}}reportSubscribeEvent(tQ,eQ,AQ,iQ){const oQ=iQ===Yb.VIDEO?AQ._videoSSRC:AQ._audioSSRC;oQ&&sA.subscribe(this.store.sessionId,{succ:tQ,ec:eQ,video:iQ===Yb.VIDEO,audio:iQ===Yb.AUDIO,peerid:AQ.uid,subscribeRequestid:oQ,p2pid:this.store.p2pId,eventElapse:jU.measureFromSubscribeStart(this.store.clientId,oQ),preSsrc:this.isPreSubScribe(oQ)})}reset(){Qy.debug("[".concat(this.store.clientId,"] P2PChannel.reset")),this.mutex=new hy("P2PChannel-mutex"),this.connection&&(this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0),this.shouldForwardP2PCreation&&(this.connection=this.isPlanB?new MV({},this.store):new oF({},this.store),this.bindConnectionEvents(this.connection)),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),this.statsUploader.stopUploadExtensionUsageStats(),this.unbindLocalTrackEvents(),this.unbindAllRemoteTrackEvents(),this.unbindRtpTransceiver();const tQ=this.localTrackMap.get(Jb.LocalAudioTrack);if((tQ==null?void 0:tQ.track)instanceof rk){if(tQ.track.trackList.length>0){const eQ=tQ.track;tQ.track.trackList.forEach(AQ=>{eQ.removeAudioTrack(AQ)})}tQ.track.close()}this.localTrackMap.clear(),this.remoteUserMap.clear(),this.statsCollector.removeRemoteStats(),this.statsCollector.removeLocalStats(),this.iceFailedCount=0,this.dtlsFailedCount=0,this.pendingLocalTracks=[],this.pendingRemoteTracks=[],this.localDataChannels=[],this.remoteDataChannelMap.clear(),this.pendingLocalDataChannels=[],this.pendingRemoteDataChannels=[],this.state=Xb.Disconnected}getStats(){var tQ;return(tQ=this.connection)===null||tQ===void 0?void 0:tQ.getStats()}getRemoteVideoIsReady(tQ){var eQ;return((eQ=this.connection)===null||eQ===void 0?void 0:eQ.getRemoteVideoIsReady(tQ))||!1}getLocalAudioVolume(){const tQ=this.localTrackMap.get(Jb.LocalAudioTrack);if(tQ)return tQ.track.getVolumeLevel()}getLocalVideoSize(){const tQ=this.localTrackMap.get(Jb.LocalVideoTrack);if(tQ)return{width:tQ.track.videoWidth||0,height:tQ.track.videoHeight||0}}getEncoderConfig(tQ){const eQ=this.localTrackMap.get(tQ);return eQ&&eQ.track instanceof Hk||eQ&&eQ.track instanceof tk?eQ.track._encoderConfig:void 0}getLocalMedia(tQ){return this.localTrackMap.get(tQ)}hasLocalMedia(){return this.localTrackMap.size>0}hasRemoteMedia(tQ,eQ){if(!tQ)return this.remoteUserMap.size>0;const AQ=this.remoteUserMap.get(tQ);return!!AQ&&(!eQ||AQ.has(eQ))}async hasRemoteMediaWithLock(tQ,eQ){if(!tQ)return this.remoteUserMap.size>0;const AQ=this.remoteUserMap.get(tQ);return!!AQ&&(!eQ||AQ.has(eQ))}getRemoteMedia(tQ){var eQ;const AQ=Array.from(d_(eQ=this.remoteUserMap).call(eQ)).find(iQ=>iQ.uid===tQ);return AQ?{audioTrack:AQ.audioTrack,audioSSRC:AQ._audioSSRC,videoTrack:AQ.videoTrack,videoSSRC:AQ._videoSSRC}:{}}getAudioLevels(){let tQ=Array.from(this.remoteUserMap.entries()).map(AQ=>{let[iQ]=AQ;return{uid:iQ.uid,level:iQ.audioTrack?100*iQ.audioTrack._source.getAccurateVolumeLevel():0}});const eQ=this.localTrackMap.get(Jb.LocalAudioTrack);return eQ&&tQ.push({level:100*eQ.track._source.getAccurateVolumeLevel(),uid:this.store.uid}),tQ=aE(tQ).call(tQ,(AQ,iQ)=>AQ.level-iQ.level),tQ}async disconnectForReconnect(){this.connection&&(Qy.debug("[".concat(this.store.clientId,"] P2PChannel.disconnectForReconnect closing P2PConnection")),this.state=Xb.Reconnecting,Dy("KEEP_LAST_FRAME")&&this.remoteUserMap.size!==0&&Array.from(this.remoteUserMap.entries()).forEach(tQ=>{let[eQ]=tQ;var AQ;eQ._videoTrack&&eQ._videoTrack._player&&((AQ=eQ._videoTrack._player.getVideoElement())===null||AQ===void 0||AQ.pause(),eQ._videoTrack._player.isKeepLastFrame=!0,eQ._videoTrack._originMediaStreamTrack.stop())}),this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0,this.shouldForwardP2PCreation&&(this.connection=this.isPlanB?new MV({},this.store):new oF({},this.store),this.bindConnectionEvents(this.connection)),this.localTrackMap.size!==0&&(Array.from(this.localTrackMap.entries()).forEach(tQ=>{var eQ;let[AQ,{track:iQ}]=tQ;switch(AQ){case Jb.LocalVideoTrack:Dn(eQ=iQ._hints).call(eQ,eP.LOW_STREAM)?iQ.close():this.pendingLocalTracks.push(iQ);break;case Jb.LocalAudioTrack:iQ instanceof rk?this.pendingLocalTracks=this.pendingLocalTracks.concat(iQ.trackList):this.pendingLocalTracks.push(iQ);case Jb.LocalVideoLowTrack:}}),this.emit(Qb.MediaReconnectStart,this.store.uid)),this.unbindLocalTrackEvents(),this.localTrackMap.clear(),this.remoteUserMap.size!==0&&Array.from(this.remoteUserMap.entries()).forEach(tQ=>{let[eQ,AQ]=tQ;Array.from(d_(AQ).call(AQ)).forEach(iQ=>{this.setPendingRemoteMedia(eQ,iQ)}),this.emit(Qb.MediaReconnectStart,eQ.uid)}),this.unbindAllRemoteTrackEvents(),this.remoteUserMap.clear(),this.localDataChannels.length!==0&&(this.localDataChannels.forEach(tQ=>{this.pendingLocalDataChannels.push(tQ)}),this.localDataChannels.length=0),this.remoteDataChannelMap.size!==0&&(Array.from(this.remoteDataChannelMap.entries()).forEach(tQ=>{let[eQ,AQ]=tQ;Array.from(d_(AQ).call(AQ)).forEach(iQ=>{this.setPendingRemoteDataChannel(eQ,iQ)})}),this.remoteDataChannelMap.clear()),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),Qy.debug("[".concat(this.store.clientId,"] P2PChannel disconnected, waiting to reconnect.")))}hasPendingRemoteDataChannel(tQ,eQ){for(const AQ of this.pendingRemoteDataChannels){const{user:iQ,id:oQ}=AQ;if((tQ instanceof iV?tQ.uid:tQ)===iQ.uid&&oQ===eQ)return!0}return!1}setPendingRemoteDataChannel(tQ,eQ){this.hasPendingRemoteDataChannel(tQ,eQ)||this.pendingRemoteDataChannels.push({user:tQ,id:eQ})}hasPendingRemoteMedia(tQ,eQ){for(const AQ of this.pendingRemoteTracks){const{user:iQ,kind:oQ}=AQ;if((tQ instanceof iV?tQ.uid:tQ)===iQ.uid&&eQ===oQ)return!0}return!1}setPendingRemoteMedia(tQ,eQ){this.hasPendingRemoteMedia(tQ,eQ)||this.pendingRemoteTracks.push({user:tQ,kind:eQ})}restartICE(tQ){var eQ=this;return ZU(function*(){if(!eQ.connection||eQ.state!==Xb.Connected)return;const AQ=yield WU(eQ.mutex.lock("From P2PChannel.restartICE"));let iQ;try{iQ=yield WU(eQ.connection.restartICE(tQ));const rQ=yield WU(iQ.next());if(rQ.done)return;const nQ=rQ.value,sQ=yield nQ;switch(eQ.reportPCDisconnectedOrFailed(tQ),tQ){case qb.TCP:eQ._pcStatsUploadType=zb.TCP_RESTART;break;case qb.RELAY:eQ._pcStatsUploadType=zb.RELAY_RESTART;break;default:eQ._pcStatsUploadType=zb.OLD_RESTART}eQ._isInRestartIce=!0,iQ.next(sQ)}catch(rQ){var oQ;(oQ=iQ)===null||oQ===void 0||oQ.throw(rQ)}finally{AQ()}})()}getUplinkNetworkQuality(){if(!this.connection)return 0;const tQ=this.connection.getStats(),eQ=this.localTrackMap.get(Jb.LocalVideoTrack),AQ=this.localTrackMap.get(Jb.LocalAudioTrack),iQ=tQ.videoSend.find(CQ=>CQ.ssrc===(eQ==null?void 0:eQ.ssrcs[0].ssrcId)),oQ=tQ.audioSend.find(CQ=>CQ.ssrc===(AQ==null?void 0:AQ.ssrcs[0].ssrcId));if(!iQ||!oQ)return 1;const rQ=Uv(this,Qb.NeedSignalRTT),nQ=iQ?iQ.rttMs:void 0,sQ=oQ?oQ.rttMs:void 0,aQ=nQ&&sQ?(nQ+sQ)/2:nQ||sQ,cQ=(aQ&&rQ?(aQ+rQ)/2:aQ||rQ)||0,gQ=100*tQ.sendPacketLossRate*.7/50+.3*cQ/1500,IQ=gQ<.17?1:gQ<.36?2:gQ<.59?3:gQ<.1?4:5,EQ=eQ==null?void 0:eQ.track;if(EQ&&EQ._encoderConfig&&EQ._hints.indexOf(eP.SCREEN_TRACK)===-1){const CQ=EQ._encoderConfig.bitrateMax,dQ=tQ.bitrate.actualEncoded;if(CQ&&dQ){const lQ=(1e3*CQ-dQ)/(1e3*CQ);return dA[lQ<.15?0:lQ<.3?1:lQ<.45?2:lQ<.6?3:4][IQ]}}return IQ}getDownlinkNetworkQuality(){if(!this.connection)return 0;const tQ=this.connection.getStats();let eQ=0;return Array.from(this.remoteUserMap.entries()).forEach(AQ=>{let[iQ]=AQ;const oQ=iQ._audioSSRC,rQ=iQ._videoSSRC,nQ=tQ.audioRecv.find(dQ=>dQ.ssrc===oQ),sQ=tQ.videoRecv.find(dQ=>dQ.ssrc===rQ);if(!nQ&&!sQ)return void(eQ+=1);const aQ=Uv(this,Qb.NeedSignalRTT),cQ=tQ.rtt,gQ=(cQ&&aQ?(cQ+aQ)/2:cQ||aQ)||0,IQ=nQ?nQ.jitterMs:void 0,EQ=tQ.recvPacketLossRate;let CQ=.7*EQ*100/50+.3*gQ/1500;IQ&&(CQ=.6*EQ*100/50+.2*gQ/1500+.2*IQ/400),eQ+=CQ<.1?1:CQ<.17?2:CQ<.36?3:CQ<.59?4:5}),this.remoteUserMap.size>0?Math.round(eQ/this.remoteUserMap.size):eQ}async muteLocalTrack(tQ){return new Gh((eQ,AQ)=>{this.handleMuteLocalTrack(tQ,eQ,AQ)})}async replaceTrack(tQ,eQ){var AQ;if(Qy.debug("[".concat(this.store.clientId,"] P2PChannel replaceTrack from [").concat(tQ.getTrackId(),"] to [").concat(eQ.getTrackId(),"]")),!this.connection||this.state!==Xb.Connected)return;const iQ=Array.from(this.localTrackMap.entries()).find(rQ=>{let[,{track:nQ}]=rQ;return tQ===nQ});if(!iQ)return;const oQ=iQ[0];if(tQ!==eQ&&(this.unbindLocalTrackEvents([{track:tQ,type:oQ}]),this.bindLocalTrackEvents([{track:eQ,type:oQ}]),iQ[1].track=eQ),await((AQ=this.connection)===null||AQ===void 0?void 0:AQ.replaceTrack(eQ,iQ[1].id)),this.isPlanB){const rQ=iQ[1];rQ.id=eQ._mediaStreamTrack.id,this.localTrackMap.set(oQ,rQ)}if(oQ===Jb.LocalVideoTrack&&!Dy("DISABLE_DUAL_STREAM_USE_ENCODING")&&MD().supportDualStreamEncoding){const rQ=this.localTrackMap.get(Jb.LocalVideoLowTrack);if(rQ){const nQ=tQ._mediaStreamTrack.clone();rQ.track._originMediaStreamTrack.stop(),rQ.track._mediaStreamTrack=nQ,rQ.track._originMediaStreamTrack=nQ,await new Gh((sQ,aQ)=>{this.handleReplaceTrack(rQ.track,sQ,aQ,!0)})}}}filterTobePublishedTracks(tQ,eQ,AQ){const iQ=[],oQ=this.getAllTracks();tQ=Bv(tQ=tQ.filter(aQ=>oQ.indexOf(aQ)===-1));let rQ,nQ=!1;const sQ=this.localTrackMap.get(Jb.LocalAudioTrack);for(const aQ of tQ){if(aQ instanceof Hk&&(this.localTrackMap.has(Jb.LocalVideoTrack)||nQ?new rv(nv.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw():(iQ.push({track:aQ,type:Jb.LocalVideoTrack}),nQ=!0),eQ)){const cQ=this.getLowVideoTrack(aQ,AQ);iQ.push({track:cQ,type:Jb.LocalVideoLowTrack})}if(aQ instanceof tk)if(sQ){const cQ=sQ.track;if(cQ instanceof rk)oV([aQ]),cQ.addAudioTrack(aQ),this.bindLocalAudioTrackEvents(aQ,!0);else{const gQ=sV([cQ,aQ]);Qy.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection will replace audioTrack [").concat(gQ.getTrackId(),"]")),this.replaceTrack(cQ,gQ)}}else rQ instanceof rk?(oV([aQ]),rQ.addAudioTrack(aQ)):rQ||!aQ._useAudioElement&&MD().webAudioMediaStreamDest&&!aQ._bypassWebAudio?rQ=sV(rQ?[aQ,rQ]:[aQ]):rQ=aQ}return rQ&&(Qy.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection will send audioTrack [").concat(rQ.getTrackId(),"]")),iQ.push({track:rQ,type:Jb.LocalAudioTrack})),iQ}filterTobeUnpublishedTracks(tQ){const eQ=[],AQ=this.getAllTracks();tQ=Bv(tQ=tQ.filter(iQ=>AQ.indexOf(iQ)!==-1));for(const iQ of tQ){if(iQ instanceof tk){const oQ=this.localTrackMap.get(Jb.LocalAudioTrack);if(!oQ)continue;oQ.track instanceof rk?(oQ.track.removeAudioTrack(iQ),this.unbindLocalAudioTrackEvents(iQ),oQ.track.trackList.length===0&&(eQ.push([Jb.LocalAudioTrack,oQ]),oQ.track.close())):eQ.push([Jb.LocalAudioTrack,oQ])}if(iQ instanceof Hk){const oQ=this.localTrackMap.get(Jb.LocalVideoTrack);if(!oQ)continue;eQ.push([Jb.LocalVideoTrack,oQ]);const rQ=this.localTrackMap.get(Jb.LocalVideoLowTrack);rQ&&eQ.push([Jb.LocalVideoLowTrack,rQ])}}return eQ}filterTobePublishedDataChannels(tQ){return tQ=(tQ=Bv(tQ)).filter(eQ=>this.localDataChannels.findIndex(AQ=>AQ.id===eQ.id)===-1)}filterTobeUnpublishedDataChannels(tQ){return tQ=(tQ=(tQ=Bv(tQ)).filter(eQ=>this.localDataChannels.indexOf(eQ)!==-1)).filter(eQ=>eQ._originDataChannel)}bindLocalTrackEvents(tQ){tQ.forEach(eQ=>{let{track:AQ,type:iQ}=eQ;switch(iQ){case Jb.LocalVideoTrack:AQ.addListener($D.GET_STATS,this.handleGetLocalVideoStats),AQ.addListener($D.GET_RTC_STATS,this.handleGetRTCStats),AQ.addListener($D.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),AQ.addListener($D.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),AQ.addListener($D.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),AQ.addListener($D.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),AQ.addListener($D.NEED_REPLACE_TRACK,this.handleReplaceTrack),AQ.addListener($D.NEED_MUTE_TRACK,this.handleMuteLocalTrack),AQ.addListener($D.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case Jb.LocalAudioTrack:this.bindLocalAudioTrackEvents(AQ);case Jb.LocalVideoLowTrack:}})}bindLocalAudioTrackEvents(tQ,eQ){tQ instanceof rk?tQ.trackList.forEach(AQ=>{AQ.addListener($D.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),AQ.addListener($D.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),AQ.addListener($D.GET_STATS,this.handleGetLocalAudioStats),AQ.addListener($D.NEED_MUTE_TRACK,this.handleMuteLocalTrack),AQ.addListener($D.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)}):(tQ.addListener($D.GET_STATS,this.handleGetLocalAudioStats),tQ.addListener($D.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),tQ.addListener($D.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),tQ.addListener($D.NEED_MUTE_TRACK,this.handleMuteLocalTrack),tQ.addListener($D.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack),eQ||(tQ.addListener($D.NEED_REPLACE_TRACK,this.handleReplaceTrack),tQ.addListener($D.NEED_REPLACE_MIXING_TRACK,this.handleReplaceMixingTrack)))}unbindLocalTrackEvents(tQ){tQ||(tQ=Array.from(this.localTrackMap.entries()).map(eQ=>{let[AQ,{track:iQ}]=eQ;return{track:iQ,type:AQ}})),tQ.forEach(eQ=>{let{track:AQ,type:iQ}=eQ;switch(iQ){case Jb.LocalVideoTrack:AQ.off($D.GET_STATS,this.handleGetLocalVideoStats),AQ.off($D.GET_RTC_STATS,this.handleGetRTCStats),AQ.off($D.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),AQ.off($D.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),AQ.off($D.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),AQ.off($D.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),AQ.off($D.NEED_REPLACE_TRACK,this.handleReplaceTrack),AQ.off($D.NEED_MUTE_TRACK,this.handleMuteLocalTrack),AQ.off($D.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case Jb.LocalAudioTrack:this.unbindLocalAudioTrackEvents(AQ);case Jb.LocalVideoLowTrack:}})}unbindLocalAudioTrackEvents(tQ){tQ instanceof rk?tQ.trackList.forEach(eQ=>{eQ.off($D.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),eQ.off($D.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),eQ.off($D.GET_STATS,this.handleGetLocalAudioStats),eQ.off($D.NEED_MUTE_TRACK,this.handleMuteLocalTrack),eQ.off($D.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)}):(tQ.off($D.GET_STATS,this.handleGetLocalAudioStats),tQ.off($D.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),tQ.off($D.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),tQ.off($D.NEED_REPLACE_TRACK,this.handleReplaceTrack),tQ.off($D.NEED_REPLACE_MIXING_TRACK,this.handleReplaceMixingTrack),tQ.off($D.NEED_MUTE_TRACK,this.handleMuteLocalTrack),tQ.off($D.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack))}bindRemoteTrackEvents(tQ,eQ){eQ instanceof sM&&eQ.addListener($D.GET_STATS,AQ=>{AQ(this.handleGetRemoteVideoStats(tQ))}),eQ instanceof aM&&eQ.addListener($D.GET_STATS,AQ=>{AQ(this.handleGetRemoteAudioStats(tQ))})}unbindRemoteTrackEvents(tQ){tQ&&tQ.removeAllListeners($D.GET_STATS)}unbindAllRemoteTrackEvents(){Array.from(this.remoteUserMap.entries()).forEach(tQ=>{let[eQ,AQ]=tQ;AQ.has(Yb.AUDIO)&&this.unbindRemoteTrackEvents(eQ._audioTrack),AQ.has(Yb.VIDEO)&&this.unbindRemoteTrackEvents(eQ._videoTrack)})}createGatewayPublishMessage(tQ,eQ){return tQ.map((AQ,iQ)=>{var oQ;let rQ,nQ,{track:sQ,type:aQ}=AQ;switch(aQ){case Jb.LocalAudioTrack:rQ=Mb.Audio,nQ={dtx:sQ instanceof ik&&sQ._config.DTX,hq:!1,lq:!1,stereo:!1,speech:!1};break;case Jb.LocalVideoTrack:rQ=Dn(oQ=sQ._hints).call(oQ,eP.SCREEN_TRACK)?Mb.Screen:Mb.High,nQ=dF(dF({},Mw(sQ)),{},{codec:this.store.codec,svc_mode:IM()});break;case Jb.LocalVideoLowTrack:rQ=Mb.Low,nQ=dF(dF({},Mw(sQ)),{},{codec:this.store.codec,svc_mode:IM()})}return{stream_type:rQ,attributes:nQ,ssrcs:eQ[iQ]}})}createGatewayUnpublishMessage(tQ){return tQ.map(eQ=>{var AQ;let iQ,[oQ,{track:rQ,ssrcs:nQ,id:sQ}]=eQ;switch(oQ){case Jb.LocalVideoTrack:iQ=Dn(AQ=rQ._hints).call(AQ,eP.SCREEN_TRACK)?Mb.Screen:Mb.High;break;case Jb.LocalAudioTrack:iQ=Mb.Audio;break;case Jb.LocalVideoLowTrack:iQ=Mb.Low}return{stream_type:iQ,ssrcs:nQ,mid:sQ}})}assignLocalTracks(tQ,eQ){tQ.forEach((AQ,iQ)=>{let{track:oQ,type:rQ}=AQ;this.localTrackMap.set(rQ,{track:oQ,id:eQ[iQ].id,ssrcs:eQ[iQ].localSSRC})})}withdrawLocalTracks(tQ){tQ.forEach(eQ=>{let[AQ]=eQ;this.localTrackMap.delete(AQ)})}bindConnectionEvents(tQ){tQ.onConnectionStateChange=async eQ=>{if(Qy.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onConnectionStateChange(").concat(eQ,")")),this.emit(Qb.PeerConnectionStateChange,eQ),eQ!=="connected"||this.store.keyMetrics.peerConnectionEnd||this.store.peerConnectionEnd(),eQ==="connected"&&(this._restartTimer&&(clearTimeout(this._restartTimer),this._restartTimer=void 0),(this._isFirstConnected||this._isInRestartIce)&&this.reportPCStats(Date.now(),!0,this._pcStatsUploadType),this._isInRestartIce=!1,this._isFirstConnected=!1,this._isStartRestartIce=!1),Dy("NEW_ICE_RESTART")){var AQ;if(Dn(AQ=this._restartStates).call(AQ,eQ)){if(this._isStartRestartIce)return;this._isStartRestartIce=!0;const iQ=nQ=>{(tQ.iceConnectionState==="disconnected"||tQ.iceConnectionState==="checking"||tQ.iceConnectionState==="failed")&&(Qy.debug("[".concat(this.store.clientId,"] [P2PChannel] start use restartICE, type is ").concat(nQ)),Uv(this,Qb.QueryClientConnectionState)==="CONNECTED"&&this.emit(Qb.RequestRestartICE,nQ))},oQ=()=>{tQ.iceConnectionState!=="disconnected"&&tQ.iceConnectionState!=="checking"&&tQ.iceConnectionState!=="failed"||(this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),Qy.debug("[".concat(this.store.clientId,"] P2PConnection disconnected timeout, force reconnect")),setTimeout(()=>this.emit(Qb.P2PLost),0),this.iceFailedCount+=1,this.requestReconnect())},rQ=Dy("ICE_RESTART_INTERVAL");return void(this._restartTimer=window.setTimeout(()=>{if(Dy("JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE")&&MD().supportPCSetConfiguration)iQ(qb.RELAY),this._restartTimer=window.setTimeout(oQ,rQ);else if(kI())iQ(qb.UDP),this._restartTimer=window.setTimeout(oQ,4e3);else{if(iQ(qb.TCP),MD().supportPCSetConfiguration)return void(this._restartTimer=window.setTimeout(()=>{iQ(qb.RELAY),this._restartTimer=window.setTimeout(oQ,rQ)},rQ));this._restartTimer=window.setTimeout(oQ,rQ)}},800))}}else{if(eQ==="disconnected"&&tQ.iceConnectionState==="disconnected")return setTimeout(()=>{tQ.iceConnectionState==="disconnected"&&Dy("ICE_RESTART")&&Uv(this,Qb.QueryClientConnectionState)==="CONNECTED"&&this.emit(Qb.RequestRestartICE)},800),void setTimeout(()=>{tQ.peerConnectionState==="disconnected"&&(Qy.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection disconnected timeout 4000ms, force reconnect")),this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),this._isInRestartIce=!1,setTimeout(()=>this.emit(Qb.P2PLost),0),this.iceFailedCount+=1,this.requestReconnect())},4e3);eQ==="failed"&&(Qy.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection state failed, force reconnect")),this.reportPCDisconnectedOrFailed(),setTimeout(()=>this.emit(Qb.P2PLost),0),this.iceFailedCount+=1,await this.requestReconnect())}},tQ.onICEConnectionStateChange=eQ=>{eQ!=="connected"||this.store.keyMetrics.iceConnectionEnd||this.store.iceConnectionEnd(),Qy.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onICEConnectionStateChange(").concat(eQ,")")),sA.reportApiInvoke(this.store.sessionId,{name:"ICEConnectionStateChange",options:eQ,tag:Iv.TRACER}).onSuccess(),this.emit(Qb.IceConnectionStateChange,eQ)},tQ.onICETransportStateChange=eQ=>{Qy.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onICETransportStateChange(").concat(eQ,")"))},tQ.onDTLSTransportStateChange=eQ=>{Qy.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportStateChange(").concat(eQ,")"))},tQ.onDTLSTransportError=eQ=>{Qy.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportError(").concat(eQ,")"))},tQ.onFirstAudioDecoded=eQ=>{var AQ;const iQ=Array.from(d_(AQ=this.remoteUserMap).call(AQ)).find(rQ=>rQ._audioSSRC===eQ);var oQ;iQ&&(this.store.subscribe(iQ.uid,"audio",void 0,void 0,void 0,Date.now()),(oQ=iQ.audioTrack)===null||oQ===void 0||oQ.emit(sP.FIRST_FRAME_DECODED),sA.firstRemoteFrame(this.store.sessionId,tA.FIRST_AUDIO_DECODE,iA.FIRST_AUDIO_DECODE,{peer:iQ._uintid,subscribeElapse:jU.measureFromSubscribeStart(this.store.clientId,eQ),subscribeRequestid:eQ,p2pid:this.store.p2pId}))},tQ.onFirstAudioReceived=eQ=>{var AQ;const iQ=Array.from(d_(AQ=this.remoteUserMap).call(AQ)).find(oQ=>oQ._audioSSRC===eQ);iQ&&sA.firstRemoteFrame(this.store.sessionId,tA.FIRST_AUDIO_RECEIVED,iA.FIRST_AUDIO_RECEIVED,{peer:iQ._uintid,subscribeElapse:jU.measureFromSubscribeStart(this.store.clientId,eQ),subscribeRequestid:eQ,p2pid:this.store.p2pId})},tQ.onFirstVideoDecoded=(eQ,AQ,iQ)=>{this.reportVideoFirstFrameDecoded(eQ,AQ,iQ)},tQ.onFirstVideoReceived=eQ=>{var AQ;const iQ=Array.from(d_(AQ=this.remoteUserMap).call(AQ)).find(oQ=>oQ._videoSSRC===eQ);iQ&&sA.firstRemoteFrame(this.store.sessionId,tA.FIRST_VIDEO_RECEIVED,iA.FIRST_VIDEO_RECEIVED,{peer:iQ._uintid,subscribeElapse:jU.measureFromSubscribeStart(this.store.clientId,eQ),subscribeRequestid:eQ,p2pid:this.store.p2pId})},tQ.onSelectedLocalCandidateChanged=(eQ,AQ)=>{const iQ=eQ.candidateType==="relay",oQ=AQ.candidateType==="relay";AQ.candidateType!=="unknown"&&iQ===oQ||this.emit(Qb.ConnectionTypeChange,iQ),Qy.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.SelectedLocalCandidateChanged(").concat(JSON.stringify(Bw(AQ))," -> ").concat(JSON.stringify(Bw(eQ)),")"))},tQ.onSelectedRemoteCandidateChanged=(eQ,AQ)=>{Qy.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.SelectedRemoteCandidateChanged(").concat(JSON.stringify(Bw(AQ))," -> ").concat(JSON.stringify(Bw(eQ)),")"))},tQ.onFirstVideoDecodedTimeout=eQ=>{this.reportVideoFirstFrameDecoded(eQ,void 0,void 0,!0)},tQ.getLocalVideoStats=()=>{const eQ=this.statsCollector.getLocalVideoTrackStats(),AQ=this.statsCollector.getRTCStats();return dF(dF({},eQ),AQ)}}unbindConnectionEvents(tQ){tQ.onConnectionStateChange=void 0,tQ.onICEConnectionStateChange=void 0,tQ.onICETransportStateChange=void 0,tQ.onDTLSTransportStateChange=void 0,tQ.onDTLSTransportError=void 0,tQ.onFirstAudioDecoded=void 0,tQ.onFirstAudioReceived=void 0,tQ.onFirstVideoDecoded=void 0,tQ.onFirstVideoReceived=void 0,tQ.onSelectedLocalCandidateChanged=void 0,tQ.onSelectedRemoteCandidateChanged=void 0,tQ.onFirstVideoDecodedTimeout=void 0,tQ.getLocalVideoStats=void 0}filterTobeMutedTracks(tQ){const eQ=[];if(this.getAllTracks().indexOf(tQ)===-1)return eQ;const AQ=this.localTrackMap.get(Jb.LocalAudioTrack);if(tQ instanceof tk&&(AQ==null?void 0:AQ.track)instanceof rk)return AQ.track.isActive||eQ.push([Jb.LocalAudioTrack,AQ]),eQ;const iQ=Array.from(this.localTrackMap.entries()).find(oQ=>{let[,{track:rQ}]=oQ;return tQ===rQ});if(iQ&&(eQ.push(iQ),iQ[0]===Jb.LocalVideoTrack)){const oQ=this.localTrackMap.get(Jb.LocalVideoLowTrack);oQ&&eQ.push([Jb.LocalVideoLowTrack,oQ])}return eQ}filterTobeUnmutedTracks(tQ){const eQ=[],AQ=this.localTrackMap.get(Jb.LocalAudioTrack);if(tQ instanceof tk&&(AQ==null?void 0:AQ.track)instanceof rk)return AQ.track.isActive&&eQ.push([Jb.LocalAudioTrack,AQ]),eQ;const iQ=Array.from(this.localTrackMap.entries()).find(oQ=>{let[,{track:rQ}]=oQ;return tQ===rQ});if(iQ)if(iQ[0]===Jb.LocalVideoTrack){eQ.push(iQ);const oQ=this.localTrackMap.get(Jb.LocalVideoLowTrack);oQ&&eQ.push([Jb.LocalVideoLowTrack,oQ])}else eQ.push(iQ);return eQ}createMuteMessage(tQ){return tQ.map(eQ=>{var AQ;let iQ,[oQ,{track:rQ,ssrcs:nQ,id:sQ}]=eQ;switch(oQ){case Jb.LocalAudioTrack:iQ=Mb.Audio;break;case Jb.LocalVideoTrack:iQ=Dn(AQ=rQ._hints).call(AQ,eP.SCREEN_TRACK)?Mb.Screen:Mb.High;break;case Jb.LocalVideoLowTrack:iQ=Mb.Low}return{stream_type:iQ,ssrcs:nQ,mid:sQ}})}createUnmuteMessage(tQ){return tQ.map(eQ=>{var AQ;let iQ,[oQ,{track:rQ,ssrcs:nQ,id:sQ}]=eQ;switch(oQ){case Jb.LocalAudioTrack:iQ=Mb.Audio;break;case Jb.LocalVideoTrack:iQ=Dn(AQ=rQ._hints).call(AQ,eP.SCREEN_TRACK)?Mb.Screen:Mb.High;break;case Jb.LocalVideoLowTrack:iQ=Mb.Low}return{stream_type:iQ,ssrcs:nQ,mid:sQ}})}filterTobeUnSubscribedTracks(tQ,eQ){const AQ=[],iQ=this.remoteUserMap.get(tQ);if(!iQ)return AQ;if(eQ){const oQ=iQ.get(eQ);if(!oQ)return AQ;AQ.push([tQ,{kind:eQ,id:oQ}])}else Array.from(iQ.entries()).forEach(oQ=>{let[rQ,nQ]=oQ;AQ.push([tQ,{kind:rQ,id:nQ}])});return AQ}filterTobeUnSubscribedDataChannels(tQ,eQ){const AQ=[];return eQ.forEach(iQ=>{var oQ;(oQ=this.remoteDataChannelMap.get(tQ))!==null&&oQ!==void 0&&oQ.has(iQ.id)&&AQ.push(iQ)}),AQ}createUnsubscribeMessage(tQ){const eQ=[];return tQ.forEach(AQ=>{let[iQ,{kind:oQ,id:rQ}]=AQ;switch(oQ){case Yb.VIDEO:return void(iQ._videoSSRC&&eQ.push({stream_type:Yb.VIDEO,ssrcId:iQ._videoSSRC}));case Yb.AUDIO:return void(iQ._audioSSRC&&eQ.push({stream_type:Yb.AUDIO,ssrcId:iQ._audioSSRC}))}}),eQ}createUnsubscribeAllMessage(tQ){const eQ=new Map;return tQ.forEach(AQ=>{let[iQ,{kind:oQ}]=AQ;if(eQ.has(iQ)){let rQ=eQ.get(iQ);oQ===Yb.VIDEO?rQ|=Vb.Video:rQ|=Vb.Audio,eQ.set(iQ,rQ)}else oQ===Yb.VIDEO?eQ.set(iQ,Vb.Video):eQ.set(iQ,Vb.Audio)}),{users:Array.from(eQ.entries()).map(AQ=>{let[iQ,oQ]=AQ;return{stream_id:iQ.uid,stream_type:oQ}})}}withdrawRemoteTracks(tQ){tQ.forEach(eQ=>{let[AQ,{kind:iQ}]=eQ;const oQ=this.remoteUserMap.get(AQ);oQ&&(oQ.delete(iQ),Array.from(oQ.entries()).length===0&&this.remoteUserMap.delete(AQ))})}async updateBitrateLimit(tQ){const eQ=this.localTrackMap.get(Jb.LocalVideoTrack),AQ=this.localTrackMap.get(Jb.LocalVideoLowTrack);eQ&&await eQ.track.setBitrateLimit(tQ.uplink),AQ&&tQ.low_stream_uplink&&await AQ.track.setBitrateLimit({max_bitrate:tQ.low_stream_uplink.bitrate,min_bitrate:tQ.low_stream_uplink.bitrate||0})}isP2PDisconnected(){return this.connection?this.connection.peerConnectionState!=="connected":!0}mapPubResToRemoteConfig(tQ,eQ){return tQ.map((AQ,iQ)=>{var oQ;let{stream_type:rQ}=AQ;return(oQ=eQ.find(nQ=>{let{stream_type:sQ}=nQ;return rQ===sQ}))===null||oQ===void 0?void 0:oQ.attributes})}async tryToUnmuteAudio(tQ){for(let AQ=0;AQ<tQ.length;AQ++)if(tQ[AQ]instanceof tk){var eQ;const iQ=this.filterTobeUnmutedTracks(tQ[AQ]);if(iQ.length===0)continue;await((eQ=this.connection)===null||eQ===void 0?void 0:eQ.unmuteLocal(iQ.map(rQ=>{let[,{id:nQ}]=rQ;return nQ})));const oQ=this.createUnmuteMessage(iQ);return void await Mv(this,Qb.RequestUnmuteLocal,oQ)}}bindStatsUploaderEvents(){this.statsUploader.requestStats=()=>this.getStats(),this.statsUploader.requestLocalMedia=()=>Array.from(this.localTrackMap.entries()),this.statsUploader.requestRemoteMedia=()=>Array.from(this.remoteUserMap.entries()),this.statsUploader.requestVideoIsReady=tQ=>{var eQ;return!((eQ=this.connection)===null||eQ===void 0||!eQ.getRemoteVideoIsReady(tQ))},this.statsUploader.requestUpload=(tQ,eQ)=>this.emit(Qb.RequestUpload,tQ,eQ),this.statsUploader.requestUploadStats=tQ=>this.emit(Qb.RequestUploadStats,tQ),this.statsUploader.requestAllTracks=()=>this.getAllTracks()}unbindStatsUploaderEvents(){this.statsUploader.requestStats=void 0,this.statsUploader.requestLocalMedia=void 0,this.statsUploader.requestRemoteMedia=void 0,this.statsUploader.requestVideoIsReady=void 0}async requestReconnect(){this.dtlsFailedCount+=1,await $v(Ey(this.dtlsFailedCount,_y)),this.emit(Qb.RequestReconnect)}async reconnectP2P(){const tQ=Array.from(this.localTrackMap.entries()),eQ=this.createGatewayUnpublishMessage(tQ);Array.from(this.remoteUserMap.entries()),eQ.length>0&&await kv(this,Qb.RequestUnpublishForReconnectPC,eQ),this.disconnectForReconnect(),this.emit(Qb.RequestReconnectPC)}canPublishLowStream(){return this.localTrackMap.has(Jb.LocalVideoTrack)||this.pendingLocalTracks.some(tQ=>tQ instanceof Hk)}throwIfTrackTypeNotMatch(tQ){if(tQ.filter(eQ=>eQ instanceof Hk).length>1)throw new rv(nv.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(tQ.filter(eQ=>eQ instanceof tk).length>1&&(tQ.some(eQ=>eQ instanceof tk&&eQ._bypassWebAudio)||!MD().webAudioMediaStreamDest))throw new rv(nv.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode");for(const eQ of tQ){if(eQ instanceof Hk&&this.pendingLocalTracks.some(AQ=>AQ instanceof Hk))throw new rv(nv.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(eQ instanceof tk&&this.pendingLocalTracks.some(AQ=>AQ instanceof tk)&&(!MD().webAudioMediaStreamDest||eQ._bypassWebAudio||this.pendingLocalTracks.some(AQ=>AQ instanceof tk&&AQ._bypassWebAudio)))throw new rv(nv.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode")}}getLowVideoTrack(tQ,eQ){const AQ=!Dy("DISABLE_DUAL_STREAM_USE_ENCODING")&&MD().supportDualStreamEncoding,iQ=dF(dF({},{width:160,height:120,framerate:15,bitrate:50}),eQ);let oQ;oQ=AQ?tQ._mediaStreamTrack.clone():Fx(tQ,iQ);const rQ=ey(8,"track-low-"),nQ=new Hk(oQ,dF(dF({},AQ&&{scaleResolutionDownBy:Fw(iQ,tQ)}),{},{frameRate:iQ.framerate,bitrateMax:iQ.bitrate,bitrateMin:iQ.bitrate}),void 0,void 0,rQ);return nQ.on(rP.TRANSCEIVER_UPDATED,sQ=>{tQ._updateRtpTransceiver(sQ,tP.LOW_STREAM)}),nQ._hints.push(eP.LOW_STREAM),tQ.on("sei-to-send",sQ=>{nQ.emit("sei-to-send",sQ)}),tQ.addListener($D.NEED_CLOSE,()=>{nQ.close()}),nQ}async globalLock(){return this.mutex.lock("From P2PChannel.globalLock")}async reportPCStats(tQ,eQ,AQ){let iQ=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(this.connection&&this.connection instanceof oF){var oQ,rQ,nQ,sQ;const aQ=this.store.keyMetrics.descriptionStart||0,{iceConnectionState:cQ,dtlsTransportState:gQ,peerConnectionState:IQ}=this.connection,{local:EQ,remote:CQ}=await this.connection.getSelectedCandidatePair();sA.pcStats(this.store.sessionId,{startTime:aQ,eventElapse:tQ-aQ||0,iceconnectionsate:cQ,dtlsstate:gQ,connectionstate:IQ,intSucc:eQ?1:2,error:iQ,selectedLocalCandidateProtocol:(oQ=EQ==null?void 0:EQ.protocol)!==null&&oQ!==void 0?oQ:"",selectedLocalCandidateType:(rQ=EQ.candidateType)!==null&&rQ!==void 0?rQ:"",selectedLocalCandidateAddress:"".concat(EQ.address,":").concat(EQ.port),selectedRemoteCandidateProtocol:(nQ=CQ.protocol)!==null&&nQ!==void 0?nQ:"",selectedRemoteCandidateType:(sQ=CQ.candidateType)!==null&&sQ!==void 0?sQ:"",selectedRemoteCandidateAddress:"".concat(CQ.address,":").concat(CQ.port),restartCnt:AQ,preallocation:this.connection.isPreallocation})}}reportVideoFirstFrameDecoded(tQ,eQ,AQ,iQ){var oQ;const rQ=Array.from(d_(oQ=this.remoteUserMap).call(oQ)).find(nQ=>nQ._videoSSRC===tQ);if(rQ){iQ||this.store.subscribe(rQ.uid,"video",void 0,void 0,void 0,void 0,Date.now());const nQ=this.store.keyMetrics,sQ=nQ.subscribe.find(aQ=>aQ.userId===rQ.uid&&aQ.type==="video");sA.firstRemoteVideoDecode(this.store.sessionId,tA.FIRST_VIDEO_DECODE,iA.FIRST_VIDEO_DECODE,{peer:rQ._uintid,videowidth:eQ,videoheight:AQ,subscribeElapse:jU.measureFromSubscribeStart(this.store.clientId,tQ),subscribeRequestid:tQ,p2pid:this.store.p2pId,apEnd:nQ.requestAPEnd||0,apStart:nQ.requestAPStart||0,joinGwEnd:nQ.joinGatewayEnd||0,joinGwStart:nQ.joinGatewayStart||0,pcEnd:nQ.peerConnectionEnd||0,pcStart:nQ.peerConnectionStart||0,subscriberEnd:(sQ==null?void 0:sQ.subscribeEnd)||0,subscriberStart:(sQ==null?void 0:sQ.subscribeStart)||0,videoAddNotify:(sQ==null?void 0:sQ.streamAdded)||0,state:iQ?1:0,firstFrame:(sQ==null?void 0:sQ.firstFrame)||0})}}async remoteMediaSsrcChanged(tQ,eQ,AQ){if(!this.connection)return!1;const iQ=this.remoteUserMap.get(tQ);if(!iQ)return!1;const oQ=iQ.get(eQ);if(!oQ)return!1;const rQ=await this.connection.getRemoteSSRC(oQ);return rQ!==void 0&&rQ!==AQ}unbindRtpTransceiver(){this.localTrackMap.size!==0&&Array.from(this.localTrackMap.entries()).forEach(tQ=>{let[eQ,{track:AQ}]=tQ;eQ===Jb.LocalVideoLowTrack?AQ._updateRtpTransceiver(void 0,tP.LOW_STREAM):AQ._updateRtpTransceiver(void 0)})}reportPCDisconnectedOrFailed(tQ){this.connection&&this.connection instanceof oF&&(this.connection.iceConnectionState!=="disconnected"&&this.connection.iceConnectionState!=="checking"&&this.connection.iceConnectionState!=="failed"||(this._isFirstConnected?(this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),this._isFirstConnected=!1):this._pcStatsUploadType===zb.TCP_RESTART&&tQ===qb.RELAY?this.reportPCStats(Date.now(),!1,this._pcStatsUploadType):this.reportPCStats(Date.now(),!1,zb.DISCONNECTED_OR_FAILED)))}},rb(aF.prototype,"startP2PConnection",[pF],Object.getOwnPropertyDescriptor(aF.prototype,"startP2PConnection"),aF.prototype),rb(aF.prototype,"connect",[pF],Object.getOwnPropertyDescriptor(aF.prototype,"connect"),aF.prototype),rb(aF.prototype,"updateRemoteRTPCapabilities",[pF],Object.getOwnPropertyDescriptor(aF.prototype,"updateRemoteRTPCapabilities"),aF.prototype),rb(aF.prototype,"publishDataChannel",[pF],Object.getOwnPropertyDescriptor(aF.prototype,"publishDataChannel"),aF.prototype),rb(aF.prototype,"unpublish",[pF],Object.getOwnPropertyDescriptor(aF.prototype,"unpublish"),aF.prototype),rb(aF.prototype,"unpublishDataChannel",[pF],Object.getOwnPropertyDescriptor(aF.prototype,"unpublishDataChannel"),aF.prototype),rb(aF.prototype,"unpublishLowStream",[pF],Object.getOwnPropertyDescriptor(aF.prototype,"unpublishLowStream"),aF.prototype),rb(aF.prototype,"subscribeDataChannel",[pF],Object.getOwnPropertyDescriptor(aF.prototype,"subscribeDataChannel"),aF.prototype),rb(aF.prototype,"subscribe",[pF],Object.getOwnPropertyDescriptor(aF.prototype,"subscribe"),aF.prototype),rb(aF.prototype,"massSubscribe",[pF],Object.getOwnPropertyDescriptor(aF.prototype,"massSubscribe"),aF.prototype),rb(aF.prototype,"unsubscribe",[pF],Object.getOwnPropertyDescriptor(aF.prototype,"unsubscribe"),aF.prototype),rb(aF.prototype,"unsubscribeDataChannel",[pF],Object.getOwnPropertyDescriptor(aF.prototype,"unsubscribeDataChannel"),aF.prototype),rb(aF.prototype,"massUnsubscribe",[pF],Object.getOwnPropertyDescriptor(aF.prototype,"massUnsubscribe"),aF.prototype),rb(aF.prototype,"muteRemote",[pF],Object.getOwnPropertyDescriptor(aF.prototype,"muteRemote"),aF.prototype),rb(aF.prototype,"unmuteRemote",[pF],Object.getOwnPropertyDescriptor(aF.prototype,"unmuteRemote"),aF.prototype),rb(aF.prototype,"hasRemoteMediaWithLock",[pF],Object.getOwnPropertyDescriptor(aF.prototype,"hasRemoteMediaWithLock"),aF.prototype),rb(aF.prototype,"disconnectForReconnect",[pF],Object.getOwnPropertyDescriptor(aF.prototype,"disconnectForReconnect"),aF.prototype),rb(aF.prototype,"updateBitrateLimit",[pF],Object.getOwnPropertyDescriptor(aF.prototype,"updateBitrateLimit"),aF.prototype),rb(aF.prototype,"remoteMediaSsrcChanged",[pF],Object.getOwnPropertyDescriptor(aF.prototype,"remoteMediaSsrcChanged"),aF.prototype),aF);function pF(tQ,eQ,AQ){const iQ=tQ[eQ];if(typeof iQ!="function")throw new Error("Cannot use mutex on object property.");return AQ.value=async function(){const oQ=this.mutex,rQ=await oQ.lock("From P2PChannel.".concat(eQ));try{for(var nQ=arguments.length,sQ=new Array(nQ),aQ=0;aQ<nQ;aQ++)sQ[aQ]=arguments[aQ];return await iQ.apply(this,sQ)}finally{rQ()}},AQ}const _F={};function EF(tQ){(!(arguments.length>1&&arguments[1]!==void 0)||arguments[1])&&Qy.debug("install service ".concat(tQ.name)),_F[tQ.name]=tQ}function mF(tQ){const eQ=_F[tQ];if(!eQ)throw new rv(nv.INVALID_OPERATION,"".concat(tQ," not found, please use AgoraRTC.use(").concat(tQ,"Service) to load it first"));return eQ}function fF(tQ,eQ){return mF("DataStream").create(tQ,eQ)}function TF(tQ,eQ){var AQ=Object.keys(tQ);if(Object.getOwnPropertySymbols){var iQ=Object.getOwnPropertySymbols(tQ);eQ&&(iQ=iQ.filter(function(oQ){return Object.getOwnPropertyDescriptor(tQ,oQ).enumerable})),AQ.push.apply(AQ,iQ)}return AQ}function SF(tQ){for(var eQ=1;eQ<arguments.length;eQ++){var AQ=arguments[eQ]!=null?arguments[eQ]:{};eQ%2?TF(Object(AQ),!0).forEach(function(iQ){og(tQ,iQ,AQ[iQ])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tQ,Object.getOwnPropertyDescriptors(AQ)):TF(Object(AQ)).forEach(function(iQ){Object.defineProperty(tQ,iQ,Object.getOwnPropertyDescriptor(AQ,iQ))})}return tQ}const gF=Date.now(),RF=20,CF=new Map,IF=new Map;async function vF(tQ){const eQ=CF.get(tQ),AQ=Array.isArray(eQ)&&eQ[eQ.length-1],iQ=IF.get(tQ);if(!AQ)return void(iQ.isSyncing=!1);const oQ={uid:AQ.uid,payload:AQ.payload};iQ.firstRecvTs===0&&(iQ.firstRecvTs=AQ.recvTs,iQ.firstSendTs=AQ.sendTs);const rQ=AQ.sendTs-iQ.firstSendTs,nQ=rQ-(Date.now()-iQ.firstRecvTs);nQ>0&&(iQ.firstRecvTs=Date.now()-rQ);let sQ=AQ.mediaDelay+nQ;sQ<=0?(eQ.pop(),yF(AQ.context,oQ),sQ=0):sQ=Math.min(sQ,RF),setTimeout(()=>eQ.length&&vF(tQ),sQ)}function yF(tQ,eQ){tQ.safeEmit(Nv.STREAM_MESSAGE,eQ.uid,eQ.payload),tQ.onStreamMessage&&tQ.onStreamMessage(eQ)}function AF(tQ){let eQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,AQ=arguments.length>2?arguments[2]:void 0;if(!tQ.syncWithAudio)return yF(AQ,{uid:tQ.uid,payload:tQ.payload});const iQ="".concat(AQ.id,"-").concat(tQ.uid),oQ=CF.get(iQ)||[],rQ=oQ.findIndex(cQ=>tQ.sendTs>=cQ.sendTs),nQ=SF(SF({},tQ),{},{context:AQ,mediaDelay:eQ,recvTs:Date.now()});rQ===-1?oQ.push(nQ):oQ.splice(rQ,0,nQ),CF.set(iQ,oQ);let sQ=!1;var aQ;IF.has(iQ)?sQ=!((aQ=IF.get(iQ))===null||aQ===void 0||!aQ.isSyncing):IF.set(iQ,{isSyncing:sQ,firstRecvTs:0,firstSendTs:0}),sQ||vF(iQ)}const bF=AI().name;function wF(tQ,eQ){var AQ=Object.keys(tQ);if(Object.getOwnPropertySymbols){var iQ=Object.getOwnPropertySymbols(tQ);eQ&&(iQ=iQ.filter(function(oQ){return Object.getOwnPropertyDescriptor(tQ,oQ).enumerable})),AQ.push.apply(AQ,iQ)}return AQ}function OF(tQ){for(var eQ=1;eQ<arguments.length;eQ++){var AQ=arguments[eQ]!=null?arguments[eQ]:{};eQ%2?wF(Object(AQ),!0).forEach(function(iQ){og(tQ,iQ,AQ[iQ])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tQ,Object.getOwnPropertyDescriptors(AQ)):wF(Object(AQ)).forEach(function(iQ){Object.defineProperty(tQ,iQ,Object.getOwnPropertyDescriptor(AQ,iQ))})}return tQ}const NF="websdk_ng_cache_parameter",DF=Dy("MAX_PRELOAD_ASYNC_LENGTH"),PF=1e4,LF=new Map,kF=[];let MF=null,UF=0,xF=0;const VF=new Map,FF=function(tQ,eQ){const AQ=[];let iQ=0;const oQ=async()=>{const rQ=AQ.shift();rQ&&await rQ(),AQ.length>0&&iQ<eQ?oQ():iQ--};return async function(){for(var rQ=arguments.length,nQ=new Array(rQ),sQ=0;sQ<rQ;sQ++)nQ[sQ]=arguments[sQ];return new Gh(async(aQ,cQ)=>{AQ.push(async()=>{try{const gQ=await tQ(...nQ);aQ(gQ)}catch(gQ){cQ(gQ)}}),iQ<eQ&&(iQ++,oQ())})}}(jF,DF),BF=EI.CancelToken.source();async function jF(tQ,eQ,AQ,iQ,oQ,rQ){try{if(!Dy("ENABLE_PRELOAD"))return;if(!MD().supportWebCrypto)return void Kv(()=>{Qy.warn("Your browser does not support preloading, this feature  be run in a secure environment")},"preload_webcrypto_not_supported");if(!AQ&&AQ!==null)throw new rv(nv.INVALID_PARAMS,"Invalid token: ".concat(AQ,". If you don not use token, set it to null"));AQ&&dv(AQ,"token",1,2047),dv(tQ,"appid",1,2047),gb(eQ),iQ&&Rb(iQ);const nQ=ty();Qy.debug("preload channel ".concat(eQ,", uid is ").concat(iQ));const sQ={appId:tQ,cname:eQ,token:AQ||tQ,uid:typeof iQ!="string"?iQ:null,sid:nQ,proxyServer:oQ};let aQ,cQ;typeof iQ=="string"?(sQ.stringUid=iQ,[cQ,aQ]=await Gh.all([NU(iQ,{sid:nQ,appId:tQ},BF.token),PU(OF(OF({},sQ),{},{token:AQ||tQ,uid:0}),BF.token)]),sQ.uid=cQ.uid,aQ.gatewayInfo.uid=sQ.uid,aQ.gatewayInfo.res.uid=sQ.uid):(rQ&&(sQ.stringUid=rQ),aQ=await PU(sQ,BF.token));const gQ={sid:nQ,appId:tQ,cname:eQ,token:AQ||tQ,uid:sQ.stringUid||iQ,intUid:sQ.uid||aQ.gatewayInfo.uid,stringUid:sQ.stringUid,ts:Date.now(),sua:cQ,ap:aQ};await async function(IQ){let EQ;try{IQ.uid&&WF({appId:IQ.appId,cname:IQ.cname,token:IQ.token,uid:IQ.uid,stringUid:IQ.stringUid});const CQ=JF(IQ),dQ=await async function(uQ,hQ){try{const BQ=await window.crypto.subtle.importKey("raw",zv(hQ),"AES-GCM",!1,["encrypt"]),QQ=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:new Uint8Array(1)},BQ,Yv(window.btoa(JSON.stringify(uQ))));return qv(new Uint8Array(QQ))}catch{return}}(IQ,IQ.token||IQ.appId);if(!dQ)return;EQ=qF(NF);const lQ=EQ?JSON.parse(EQ):[];lQ.push({[CQ]:dQ}),lQ.length>Dy("AP_CACHE_NUM")&&lQ.shift(),zF(NF,JSON.stringify(lQ))}catch(CQ){Qy.warn("Error caching server parameters:",CQ.message),zF(NF,"")}}(gQ),UF++}catch(nQ){throw xF++,function(sQ){MF||(MF=window.setTimeout(()=>{let cQ="";VF.forEach((gQ,IQ)=>{cQ+="".concat(IQ,": ").concat(gQ," ;")}),sA.reportApiInvoke(null,{name:Cv.PRELOAD,options:{success:UF,failed:xF,err:cQ}}).onError(sQ),UF=0,xF=0,VF.clear(),MF=null},PF));const aQ=VF.get(sQ.code)||0;VF.set(sQ.code,aQ+1)}(nQ),nQ}}async function GF(tQ){try{const eQ=WF(tQ);if(!eQ||tQ.cloudProxyServer!=="disabled")return;const AQ=await async function(iQ,oQ){try{const rQ=await window.crypto.subtle.importKey("raw",zv(oQ),"AES-GCM",!1,["decrypt"]),nQ=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(1)},rQ,Yv(iQ));return JSON.parse(window.atob(qv(new Uint8Array(nQ))))}catch{return}}(eQ,tQ.token||tQ.appId);if(!AQ||!function(iQ,oQ){return iQ.cname===oQ.cname&&iQ.appId===oQ.appId&&iQ.token===oQ.token?oQ.stringUid?iQ.stringUid===oQ.stringUid:typeof oQ.uid=="number"?iQ.uid===oQ.uid:iQ.uid==oQ.uid:!1}(AQ,tQ))return;if(AQ&&Date.now()-AQ.ts<Dy("AP_CACHE_LIFETIME"))return AQ}catch(eQ){Qy.warn("Error get preloadInfo",eQ.message)}}function WF(tQ){let eQ;try{if(eQ=qF(NF),!eQ)return;const AQ=JSON.parse(eQ),iQ=JF(tQ),oQ=function(nQ,sQ){for(let aQ=nQ.length-1;aQ>=0;aQ--)if(sQ(nQ[aQ]))return aQ;return-1}(AQ,nQ=>iQ in nQ);if(oQ===-1)return;const rQ=AQ.splice(oQ,1)[0];return zF(NF,JSON.stringify(AQ)),rQ[iQ]}catch(AQ){Qy.warn("Error delete preload info: ".concat(eQ),AQ.message),zF(NF,"")}}function HF(tQ){if(tQ){let eQ=LF.get(tQ);eQ&&(window.clearTimeout(eQ),eQ=null,LF.delete(tQ)),Dn(kF).call(kF,tQ)||tQ.cloudProxyServer!=="disabled"||kF.push(tQ)}if(LF.size<Dy("AP_CACHE_NUM")&&kF.length>0){const eQ=kF.shift();LF.set(eQ,window.setTimeout(async()=>{const{appId:AQ,cname:iQ,token:oQ,stringUid:rQ,uid:nQ,proxyServer:sQ}=eQ;try{await FF(AQ,iQ,oQ,nQ,sQ,rQ),LF.has(eQ)&&HF(eQ)}catch(aQ){Qy.warn("update preload failed",aQ.message),KF(eQ)}},Dy("AP_UPDATE_INTERVAL")))}}function KF(tQ){const eQ=kF.indexOf(tQ);eQ!==-1&&kF.splice(eQ,1);let AQ=LF.get(tQ);AQ&&(window.clearTimeout(AQ),AQ=null,LF.delete(tQ),HF())}function YF(tQ,eQ){const AQ=tQ.sua,iQ=tQ.ap;eQ&&AQ&&sA.reqUserAccount(tQ.sid,{lts:AQ.requestTime,elapse:AQ.elapse,success:!0,serverAddr:AQ.url,stringUid:eQ,uid:tQ.intUid,errorCode:null,extend:AQ.req}),sA.reportResourceTiming(tQ.ap.url,tQ.sid),sA.joinWebProxyAP(tQ.sid,{lts:iQ.requestTime,elapse:iQ.elapse,sucess:1,apServerAddr:iQ.url,turnServerAddrList:iQ.proxyInfo.addresses.map(oQ=>oQ.ip).join(","),eventType:"disabled",unilbsServerIds:[Ow.CHOOSE_SERVER,Ow.CLOUD_PROXY_FALLBACK].toString()}),sA.joinChooseServer(tQ.sid,{lts:iQ.requestTime,elapse:iQ.elapse,succ:!0,csAddr:iQ.url,opid:iQ.opid,serverList:iQ.gatewayInfo.gatewayAddrs.map(oQ=>oQ.address),ec:null,cid:iQ.gatewayInfo.cid.toString(),uid:iQ.gatewayInfo.uid.toString(),csIp:iQ.gatewayInfo.csIp,unilbsServerIds:[Ow.CHOOSE_SERVER].toString(),isHttp3:iQ.isHttp3})}function qF(tQ){return window.atob(window.localStorage.getItem(tQ)||"")}function zF(tQ,eQ){window.localStorage.setItem(tQ,window.btoa(eQ))}function JF(tQ){let eQ="".concat(tQ.appId,"_").concat(tQ.cname);return typeof tQ.uid=="string"&&(eQ+="_s_".concat(tQ.uid)),typeof tQ.uid=="number"&&(eQ+="_".concat(tQ.uid)),tQ.token&&(eQ+="_".concat(tQ.token)),dy(eQ)}function XF(tQ){let eQ=function(){const AQ=eB.pop();return AQ?(AQ.offset=AQ.limit=0,AQ):{bytes:new Uint8Array(64),offset:0,limit:0}}();return function(AQ,iQ){let oQ=AQ.appId;oQ!==void 0&&(uB(iQ,10),aB(iQ,oQ));let rQ=AQ.cid;rQ!==void 0&&(uB(iQ,16),uB(iQ,rQ));let nQ=AQ.cname;nQ!==void 0&&(uB(iQ,26),aB(iQ,nQ));let sQ=AQ.deviceId;sQ!==void 0&&(uB(iQ,34),aB(iQ,sQ));let aQ=AQ.elapse;aQ!==void 0&&(uB(iQ,40),pB(iQ,aQ));let cQ=AQ.fileSize;cQ!==void 0&&(uB(iQ,48),pB(iQ,$F(cQ)));let gQ=AQ.height;gQ!==void 0&&(uB(iQ,56),pB(iQ,$F(gQ)));let IQ=AQ.jpg;IQ!==void 0&&(uB(iQ,66),uB(iQ,IQ.length),oB(iQ,IQ));let EQ=AQ.networkType;EQ!==void 0&&(uB(iQ,72),pB(iQ,$F(EQ)));let CQ=AQ.osType;CQ!==void 0&&(uB(iQ,80),pB(iQ,$F(CQ)));let dQ=AQ.requestId;dQ!==void 0&&(uB(iQ,90),aB(iQ,dQ));let lQ=AQ.sdkVersion;lQ!==void 0&&(uB(iQ,98),aB(iQ,lQ));let uQ=AQ.sequence;uQ!==void 0&&(uB(iQ,104),pB(iQ,$F(uQ)));let hQ=AQ.sid;hQ!==void 0&&(uB(iQ,114),aB(iQ,hQ));let BQ=AQ.timestamp;BQ!==void 0&&(uB(iQ,120),pB(iQ,BQ));let QQ=AQ.uid;QQ!==void 0&&(uB(iQ,128),uB(iQ,QQ));let fQ=AQ.vid;fQ!==void 0&&(uB(iQ,136),uB(iQ,fQ));let _Q=AQ.width;_Q!==void 0&&(uB(iQ,144),pB(iQ,$F(_Q)));let RQ=AQ.service;RQ!==void 0&&(uB(iQ,152),uB(iQ,RQ));let wQ=AQ.callbackData;wQ!==void 0&&(uB(iQ,162),uB(iQ,wQ.length),oB(iQ,wQ));let bQ=AQ.ticket;bQ!==void 0&&(uB(iQ,170),aB(iQ,bQ));let NQ=AQ.vendorConfigs;NQ!==void 0&&(uB(iQ,178),aB(iQ,NQ))}(tQ,eQ),function(AQ){let iQ=AQ.bytes,oQ=AQ.limit;return iQ.length===oQ?iQ:iQ.subarray(0,oQ)}(eQ)}function QF(tQ){return function(AQ){let iQ={};e:for(;!iB(AQ);){let oQ=lB(AQ);switch(oQ>>>3){case 0:break e;case 1:iQ.code=lB(AQ);break;case 2:iQ.msg=sB(AQ,lB(AQ));break;case 3:iQ.requestId=sB(AQ,lB(AQ));break;case 4:iQ.timestamp=hB(AQ,!1);break;default:ZF(AQ,7&oQ)}}return iQ}({bytes:eQ=tQ,offset:0,limit:eQ.length});var eQ}function ZF(tQ,eQ){switch(eQ){case 0:for(;128&cB(tQ););break;case 2:tB(tQ,lB(tQ));break;case 5:tB(tQ,4);break;case 1:tB(tQ,8);break;default:throw new Error("Unimplemented type: "+eQ)}}function $F(tQ){return{low:tQ|=0,high:tQ>>31,unsigned:tQ>=0}}let eB=[];function tB(tQ,eQ){if(tQ.offset+eQ>tQ.limit)throw new Error("Skip past limit");tQ.offset+=eQ}function iB(tQ){return tQ.offset>=tQ.limit}function nB(tQ,eQ){let AQ=tQ.bytes,iQ=tQ.offset,oQ=tQ.limit,rQ=iQ+eQ;if(rQ>AQ.length){let nQ=new Uint8Array(2*rQ);nQ.set(AQ),tQ.bytes=nQ}return tQ.offset=rQ,rQ>oQ&&(tQ.limit=rQ),iQ}function rB(tQ,eQ){let AQ=tQ.offset;if(AQ+eQ>tQ.limit)throw new Error("Read past limit");return tQ.offset+=eQ,AQ}function oB(tQ,eQ){let AQ=nB(tQ,eQ.length);tQ.bytes.set(eQ,AQ)}function sB(tQ,eQ){let AQ=rB(tQ,eQ),iQ=String.fromCharCode,oQ=tQ.bytes,rQ="ï¿½",nQ="";for(let sQ=0;sQ<eQ;sQ++){let aQ,cQ,gQ,IQ,EQ=oQ[sQ+AQ];128&EQ?(224&EQ)==192?sQ+1>=eQ?nQ+=rQ:(aQ=oQ[sQ+AQ+1],(192&aQ)!=128?nQ+=rQ:(IQ=(31&EQ)<<6|63&aQ,IQ<128?nQ+=rQ:(nQ+=iQ(IQ),sQ++))):(240&EQ)==224?sQ+2>=eQ?nQ+=rQ:(aQ=oQ[sQ+AQ+1],cQ=oQ[sQ+AQ+2],(49344&(aQ|cQ<<8))!=32896?nQ+=rQ:(IQ=(15&EQ)<<12|(63&aQ)<<6|63&cQ,IQ<2048||IQ>=55296&&IQ<=57343?nQ+=rQ:(nQ+=iQ(IQ),sQ+=2))):(248&EQ)==240?sQ+3>=eQ?nQ+=rQ:(aQ=oQ[sQ+AQ+1],cQ=oQ[sQ+AQ+2],gQ=oQ[sQ+AQ+3],(12632256&(aQ|cQ<<8|gQ<<16))!=8421504?nQ+=rQ:(IQ=(7&EQ)<<18|(63&aQ)<<12|(63&cQ)<<6|63&gQ,IQ<65536||IQ>1114111?nQ+=rQ:(IQ-=65536,nQ+=iQ(55296+(IQ>>10),56320+(1023&IQ)),sQ+=3))):nQ+=rQ:nQ+=iQ(EQ)}return nQ}function aB(tQ,eQ){let AQ=eQ.length,iQ=0;for(let nQ=0;nQ<AQ;nQ++){let sQ=eQ.charCodeAt(nQ);sQ>=55296&&sQ<=56319&&nQ+1<AQ&&(sQ=(sQ<<10)+eQ.charCodeAt(++nQ)-56613888),iQ+=sQ<128?1:sQ<2048?2:sQ<65536?3:4}uB(tQ,iQ);let oQ=nB(tQ,iQ),rQ=tQ.bytes;for(let nQ=0;nQ<AQ;nQ++){let sQ=eQ.charCodeAt(nQ);sQ>=55296&&sQ<=56319&&nQ+1<AQ&&(sQ=(sQ<<10)+eQ.charCodeAt(++nQ)-56613888),sQ<128?rQ[oQ++]=sQ:(sQ<2048?rQ[oQ++]=sQ>>6&31|192:(sQ<65536?rQ[oQ++]=sQ>>12&15|224:(rQ[oQ++]=sQ>>18&7|240,rQ[oQ++]=sQ>>12&63|128),rQ[oQ++]=sQ>>6&63|128),rQ[oQ++]=63&sQ|128)}}function cB(tQ){return tQ.bytes[rB(tQ,1)]}function dB(tQ,eQ){let AQ=nB(tQ,1);tQ.bytes[AQ]=eQ}function lB(tQ){let eQ,AQ=0,iQ=0;do eQ=cB(tQ),AQ<32&&(iQ|=(127&eQ)<<AQ),AQ+=7;while(128&eQ);return iQ}function uB(tQ,eQ){for(eQ>>>=0;eQ>=128;)dB(tQ,127&eQ|128),eQ>>>=7;dB(tQ,eQ)}function hB(tQ,eQ){let AQ,iQ=0,oQ=0,rQ=0;return AQ=cB(tQ),iQ=127&AQ,128&AQ&&(AQ=cB(tQ),iQ|=(127&AQ)<<7,128&AQ&&(AQ=cB(tQ),iQ|=(127&AQ)<<14,128&AQ&&(AQ=cB(tQ),iQ|=(127&AQ)<<21,128&AQ&&(AQ=cB(tQ),oQ=127&AQ,128&AQ&&(AQ=cB(tQ),oQ|=(127&AQ)<<7,128&AQ&&(AQ=cB(tQ),oQ|=(127&AQ)<<14,128&AQ&&(AQ=cB(tQ),oQ|=(127&AQ)<<21,128&AQ&&(AQ=cB(tQ),rQ=127&AQ,128&AQ&&(AQ=cB(tQ),rQ|=(127&AQ)<<7))))))))),{low:iQ|oQ<<28,high:oQ>>>4|rQ<<24,unsigned:eQ}}function pB(tQ,eQ){let AQ=eQ.low>>>0,iQ=(eQ.low>>>28|eQ.high<<4)>>>0,oQ=eQ.high>>>24,rQ=oQ===0?iQ===0?AQ<16384?AQ<128?1:2:AQ<1<<21?3:4:iQ<16384?iQ<128?5:6:iQ<1<<21?7:8:oQ<128?9:10,nQ=nB(tQ,rQ),sQ=tQ.bytes;switch(rQ){case 10:sQ[nQ+9]=oQ>>>7&1;case 9:sQ[nQ+8]=rQ!==9?128|oQ:127&oQ;case 8:sQ[nQ+7]=rQ!==8?iQ>>>21|128:iQ>>>21&127;case 7:sQ[nQ+6]=rQ!==7?iQ>>>14|128:iQ>>>14&127;case 6:sQ[nQ+5]=rQ!==6?iQ>>>7|128:iQ>>>7&127;case 5:sQ[nQ+4]=rQ!==5?128|iQ:127&iQ;case 4:sQ[nQ+3]=rQ!==4?AQ>>>21|128:AQ>>>21&127;case 3:sQ[nQ+2]=rQ!==3?AQ>>>14|128:AQ>>>14&127;case 2:sQ[nQ+1]=rQ!==2?AQ>>>7|128:AQ>>>7&127;case 1:sQ[nQ]=rQ!==1?128|AQ:127&AQ}}const _B={},EB={},mB=4294967296,fB=mB*mB,TB=fB/2,SB=vB(0,!0),gB=vB(0),RB=yB(0,-2147483648,!1),CB=yB(-1,2147483647,!1),IB=yB(-1,-1,!0);function vB(tQ,eQ){let AQ,iQ,oQ;return eQ?(oQ=0<=(tQ>>>=0)&&tQ<256)&&(iQ=EB[tQ],iQ)?iQ:(AQ=yB(tQ,0,!0),oQ&&(EB[tQ]=AQ),AQ):(oQ=-128<=(tQ|=0)&&tQ<128)&&(iQ=_B[tQ],iQ)?iQ:(AQ=yB(tQ,tQ<0?-1:0,!1),oQ&&(_B[tQ]=AQ),AQ)}function yB(tQ,eQ,AQ){return{low:0|tQ,high:0|eQ,unsigned:!!AQ}}function AB(tQ,eQ){if(isNaN(tQ))return eQ?SB:gB;if(eQ){if(tQ<0)return SB;if(tQ>=fB)return IB}else{if(tQ<=-TB)return RB;if(tQ+1>=TB)return CB}return tQ<0?eQ?SB:gB:yB(tQ%mB|0,tQ/mB|0,eQ)}function bB(tQ,eQ){var AQ=Object.keys(tQ);if(Object.getOwnPropertySymbols){var iQ=Object.getOwnPropertySymbols(tQ);eQ&&(iQ=iQ.filter(function(oQ){return Object.getOwnPropertyDescriptor(tQ,oQ).enumerable})),AQ.push.apply(AQ,iQ)}return AQ}class wB extends Sv{get connectionState(){return this._connectionState}set connectionState(eQ){if(this._connectionState===eQ)return;const AQ=this._connectionState;this._connectionState=eQ,this.emit(rw.CONNECTION_STATE_CHANGE,eQ,AQ)}get quality(){return this._quality}set quality(eQ){this._quality=eQ>1?1:eQ<.1?.1:eQ,this._qualityTimer&&(window.clearTimeout(this._qualityTimer),this._qualityTimer=null),this._quality>=1||(this._qualityTimer=window.setTimeout(()=>{this.quality=this._quality/this._qualityRatio},6e4))}constructor(eQ){var AQ;super(),og(this,"name","AgoraRTCImageModeration"),og(this,"_connectionState",nw.CONNECTING),og(this,"_sequence",0),og(this,"_moderationStartTime",void 0),og(this,"_workerConnection",void 0),og(this,"_workerMessageLengthLimit",void 0),og(this,"_qualityRatio",void 0),og(this,"_connectInfo",void 0),og(this,"_cancelTokenSource",EI.CancelToken.source()),og(this,"_retryConfig",void 0),og(this,"_moderationInterval",void 0),og(this,"_moderationTimer",null),og(this,"_moderationMode",1),og(this,"_quality",1),og(this,"_qualityTimer",null),og(this,"_ticket",void 0),og(this,"_moderationIntervalMinimum",void 0),og(this,"_uploadFailedNum",0),og(this,"_uploadNum",0),og(this,"_uploadTimer",null),og(this,"_extraInfo",void 0),og(this,"_vendor",""),og(this,"_encoder",new TextEncoder),og(this,"_moderationId",void 0),og(this,"inspectImage",()=>{if(this.connectionState!==nw.CONNECTED)throw new Sb(nv.OPERATION_ABORTED,"image moderation service connection status is ".concat(this.connectionState));this._moderationTimer&&(window.clearInterval(this._moderationTimer),this._moderationTimer=null),this._moderationTimer=window.setInterval(()=>{this.connectionState===nw.CONNECTED?this.requestToInspectImage():Qy.debug("[".concat(this._moderationId,"] Moderation State is not connected , "),this.connectionState)},this._moderationInterval<this._moderationIntervalMinimum?this._moderationIntervalMinimum:this._moderationInterval),this.requestToInspectImage()}),this._moderationId=ey(5,"image-moderation-"),this._workerMessageLengthLimit=Dy("IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT"),this._moderationIntervalMinimum=Dy("IMAGE_MODERATION_INTERVAL_MINIMUM"),this._moderationInterval=(AQ=eQ.interval)!==null&&AQ!==void 0?AQ:1e3,eQ.extraInfo&&(this._extraInfo=this._encoder.encode(eQ.extraInfo)),eQ.vendor&&(this._vendor=eQ.vendor),this._qualityRatio=Dy("IMAGE_MODERATION_QUALITY_RATIO"),this._moderationStartTime=Number(Date.now()),this._workerConnection=new bw("worker-"+this._moderationId,_y),this.on(rw.STATE_CHANGE,(iQ,oQ)=>{Qy.debug("[".concat(this._moderationId,"] Moderation operation :").concat(ow[iQ]," ").concat(oQ||""))}),this.handleWorkerEvents()}async init(eQ,AQ){this.emit(rw.STATE_CHANGE,ow.CONNECT_AP),this._connectInfo=eQ;const iQ=this._cancelTokenSource.token;return this._retryConfig=AQ,new Gh((oQ,rQ)=>{this.on(rw.CONNECTION_STATE_CHANGE,(nQ,sQ)=>{nQ===nw.CONNECTED&&oQ()}),this.requestAP(eQ,iQ,AQ).then(nQ=>{this.connectWorker(nQ)}).catch(nQ=>{rQ(nQ)})})}updateConfig(eQ){var AQ;this._moderationInterval=(AQ=eQ.interval)!==null&&AQ!==void 0?AQ:1e3,eQ.extraInfo&&(this._extraInfo=this._encoder.encode(eQ.extraInfo)),eQ.vendor&&(this._vendor=eQ.vendor),Qy.debug("[".concat(this._moderationId,"] updateConfig: ").concat(JSON.stringify(eQ))),this.connectionState===nw.CONNECTED&&this.inspectImage()}async requestAP(eQ,AQ,iQ){const oQ=Dy("WEBCS_DOMAIN").map(aQ=>"https://".concat(aQ,"/api/v1")),rQ=await function(aQ,cQ,gQ,IQ){let{appId:EQ,areaCode:CQ,cname:dQ,sid:lQ,token:uQ,uid:hQ}=cQ;IU++;const BQ="moderation_plugin",QQ={service_name:BQ,json_body:JSON.stringify({appId:EQ,areaCode:CQ,cname:dQ,command:"allocateEdge",requestId:IU,seq:IU,sid:lQ,appToken:uQ,ts:Date.now(),uid:hQ+""})};let fQ,_Q,RQ=aQ[0];return my(async()=>{fQ=Date.now();const wQ=await tU(RQ,{data:QQ,cancelToken:gQ,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"},params:{action:"wrtc_gateway"}});if(_Q=Date.now()-fQ,wQ.code!==0){const UQ=new Sb(nv.UNEXPECTED_RESPONSE,"moderation plugin ap error, code"+wQ.code,{retry:!0,responseTime:_Q});throw Qy.error(UQ.toString()),UQ}const bQ=JSON.parse(wQ.json_body);if(bQ.code!==200){const UQ=new Sb(nv.UNEXPECTED_RESPONSE,"moderation plugin ap error, code: ".concat(bQ.code,", reason: ").concat(bQ.reason),{code:bQ.code,responseTime:_Q});throw Qy.error(UQ.toString()),UQ}if(!bQ.servers||!Array.isArray(bQ.servers)||bQ.servers.length===0){const UQ=new Sb(nv.UNEXPECTED_RESPONSE,"moderation plugin ap empty server",{code:bQ.code,responseTime:_Q});throw Qy.error(UQ.toString()),UQ}if(!bQ.servers.some(UQ=>!!UQ.wss)){const UQ=new Sb(nv.UNEXPECTED_RESPONSE,"moderation plugin ap empty port",{code:bQ.code,responseTime:_Q});throw Qy.error(UQ.toString()),UQ}const NQ=Dy("IMAGE_MODERATION_WORKER_HOST");return{addressList:bQ.servers.map(UQ=>{let{address:PQ,wss:OQ}=UQ;if(PQ&&OQ)return"wss://".concat(PQ.replace(/\./g,"-"),".").concat(NQ,":").concat(OQ,"/moderation")}).filter(UQ=>!!UQ),workerToken:bQ.workerToken,vid:bQ.vid,ticket:bQ.appTicket,responseTime:_Q}},(wQ,bQ)=>(sA.apworkerEvent(lQ,{success:!0,sc:200,serviceName:BQ,responseDetail:JSON.stringify(wQ.addressList),firstSuccess:bQ===0,responseTime:_Q,serverIp:aQ[bQ%aQ.length]}),!1),(wQ,bQ)=>(sA.apworkerEvent(lQ,{success:!1,sc:wQ.data&&wQ.data.code||200,serviceName:BQ,responseTime:_Q,serverIp:aQ[bQ%aQ.length]}),!!(wQ.code!==nv.OPERATION_ABORTED&&wQ.code!==nv.UNEXPECTED_RESPONSE||wQ.data&&wQ.data.retry)&&(RQ=aQ[(bQ+1)%aQ.length],!0)),IQ)}(oQ,eQ,AQ,iQ);this.emit(rw.STATE_CHANGE,ow.AP_CONNECTED);const{addressList:nQ,ticket:sQ}=rQ;return this._ticket=sQ,nQ}async connectWorker(eQ){this.emit(rw.STATE_CHANGE,ow.CONNECT_WORKER),await this._workerConnection.init(eQ,1e4)}handleWorkerEvents(){this._workerConnection.on(Tb.CONNECTED,async()=>{this.emit(rw.STATE_CHANGE,ow.WORKER_CONNECTED,this._workerConnection.url),this.connectionState=nw.CONNECTED}),this._workerConnection.on(Tb.CLOSED,()=>{this.connectionState=nw.CLOSED}),this._workerConnection.on(Tb.FAILED,()=>{this.connectionState=nw.CLOSED}),this._workerConnection.on(Tb.RECONNECTING,()=>{this.connectionState=this.connectionState===nw.CONNECTED?nw.RECONNECTING:nw.CONNECTING}),this._workerConnection.on(Tb.ON_MESSAGE,async eQ=>{if(eQ.data instanceof ArrayBuffer){const AQ=QF(new Uint8Array(eQ.data));Dy("SHOW_IMAGE_MODERATION_WORKER_MESSAGE")&&Qy.debug("[".concat(this._moderationId,"] Response message for worker of image moderation "),JSON.stringify(AQ)),this._uploadNum++,AQ.code===void 0||AQ.code===0||(this._uploadFailedNum++,Qy.error("[".concat(this._moderationId,"] Error response from worke, code is ").concat(AQ.code,", msg is ").concat(AQ.msg)),this._uploadTimer||(this._uploadTimer=window.setTimeout(()=>{sA.reportApiInvoke(this._connectInfo.sid||null,{name:Cv.IMAGE_MODERATION_UPLOAD,options:[this._uploadFailedNum,this._uploadNum,AQ.code],tag:Iv.TRACER}).onError(new Sb(nv.IMAGE_MODERATION_UPLOAD_FAILED,AQ.msg)),this._uploadTimer=null},Dy("IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL"))))}else Qy.error("[".concat(this._moderationId,"] Unexpected message type from worker"))}),this._workerConnection.on(Tb.WILL_RECONNECT,(eQ,AQ,iQ)=>{eQ==="recover"&&iQ(eQ),iQ("tryNext")}),this._workerConnection.on(Tb.REQUEST_NEW_URLS,(eQ,AQ)=>{this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(eQ).catch(AQ)})}static intToLong(eQ){return{low:eQ|=0,high:eQ>>31,unsigned:eQ>=0}}async requestToInspectImage(){const eQ=Uv(this,rw.CLIENT_LOCAL_VIDEO_TRACK),AQ={appId:this._connectInfo.appId,cname:this._connectInfo.cname,cid:this._connectInfo.cid,sid:this._connectInfo.sid,uid:this._connectInfo.uid,vid:this._connectInfo.vid};if(eQ){if(!eQ.isPlaying)return void(Dy("SHOW_IMAGE_MODERATION_WORKER_MESSAGE")&&Qy.debug("Only the track being played can be inspected"));this._sequence++;const iQ=await this.generateRequestData(eQ,AQ);this._workerConnection.sendMessage(iQ,!0,!0)}else Dy("SHOW_IMAGE_MODERATION_WORKER_MESSAGE")&&Qy.debug("Only the track being published can be inspected")}async generateRequestData(eQ,AQ){let{appId:iQ,cname:oQ,cid:rQ,vid:nQ,sid:sQ,uid:aQ}=AQ;const cQ=Date.now(),gQ=await eQ.getCurrentFrameImage("image/jpeg",this.quality),IQ=await hL(gQ,iQ,oQ),EQ=this._sequence+"-"+rQ+"-"+aQ+"-"+cQ+"-"+ey(12,""),CQ={appId:iQ,cid:rQ,cname:oQ,deviceId:"",elapse:wB.intToLong(Number(cQ-this._moderationStartTime)),fileSize:gQ.buffer.byteLength,height:gQ.height,width:gQ.width,jpg:IQ,networkType:6,osType:7,requestId:EQ,sdkVersion:"4.22.0",sequence:this._sequence,sid:sQ,timestamp:AB(cQ),uid:aQ,vid:nQ,service:this._moderationMode,ticket:this._ticket,callbackData:this._extraInfo,vendorConfigs:this._vendor};this._extraInfo===void 0&&delete CQ.callbackData;const dQ=XF(CQ);if(dQ.byteLength<this._workerMessageLengthLimit){if(Dy("SHOW_IMAGE_MODERATION_WORKER_MESSAGE")){const lQ=function(uQ){for(var hQ=1;hQ<arguments.length;hQ++){var BQ=arguments[hQ]!=null?arguments[hQ]:{};hQ%2?bB(Object(BQ),!0).forEach(function(QQ){og(uQ,QQ,BQ[QQ])}):Object.getOwnPropertyDescriptors?Object.defineProperties(uQ,Object.getOwnPropertyDescriptors(BQ)):bB(Object(BQ)).forEach(function(QQ){Object.defineProperty(uQ,QQ,Object.getOwnPropertyDescriptor(BQ,QQ))})}return uQ}({},CQ);delete lQ.jpg,Qy.debug("[".concat(this._moderationId,"] Request message for worker of image moderation service: "),JSON.stringify(lQ))}return dQ}{const lQ=this.quality*this._qualityRatio;return this.quality=lQ,await this.generateRequestData(eQ,{appId:iQ,cname:oQ,cid:rQ,vid:nQ,sid:sQ,uid:aQ})}}close(){this._cancelTokenSource.cancel(),this._cancelTokenSource=EI.CancelToken.source(),this._workerConnection&&this._workerConnection.close(),this._moderationTimer&&window.clearInterval(this._moderationTimer),this._moderationTimer=null,this._uploadTimer&&window.clearTimeout(this._uploadTimer),this._uploadTimer=null,this.connectionState=nw.CLOSED,this.emit(rw.STATE_CHANGE,ow.CLOSED)}}function OB(tQ){if(av(tQ.interval,"interval",1e3,1/0),tQ&&tQ.extraInfo&&tQ.extraInfo.length>1024)throw new Sb(nv.INVALID_PARAMS,"config.extraInfo length cannot exceed 1024 bytes");if(tQ&&tQ.vendor&&tQ.vendor.length>1024)throw new Sb(nv.INVALID_PARAMS,"config.vendor length cannot exceed 1024 bytes")}const NB={name:"ImageModeration",create:function(tQ){let{config:eQ}=tQ;return OB(eQ),new wB(eQ)}};var DB,PB,LB,kB,MB,UB,xB,VB,FB,BB,jB,GB,WB,HB,KB,YB,qB,zB,JB,XB,QB,ZB,$B,ej,tj,ij,nj,rj,oj,sj,aj,cj,dj,lj,uj,hj,pj,_j,Ej,mj,fj;function Tj(tQ,eQ){var AQ=Object.keys(tQ);if(Object.getOwnPropertySymbols){var iQ=Object.getOwnPropertySymbols(tQ);eQ&&(iQ=iQ.filter(function(oQ){return Object.getOwnPropertyDescriptor(tQ,oQ).enumerable})),AQ.push.apply(AQ,iQ)}return AQ}function Sj(tQ){for(var eQ=1;eQ<arguments.length;eQ++){var AQ=arguments[eQ]!=null?arguments[eQ]:{};eQ%2?Tj(Object(AQ),!0).forEach(function(iQ){og(tQ,iQ,AQ[iQ])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tQ,Object.getOwnPropertyDescriptors(AQ)):Tj(Object(AQ)).forEach(function(iQ){Object.defineProperty(tQ,iQ,Object.getOwnPropertyDescriptor(AQ,iQ))})}return tQ}hy.setLogger(Qy);let gj=(DB=oA(),PB=oA({argsMap:(tQ,eQ)=>{if(!Array.isArray(eQ)){if(!(eQ instanceof bP))return[eQ];eQ=[eQ]}return eQ.map(AQ=>AQ?Object(AQ).toString():"null")}}),LB=oA({argsMap:(tQ,eQ)=>(eQ||(eQ=[]),Array.isArray(eQ)||eQ.trackMediaType!==aP.DATA?(Array.isArray(eQ)||(eQ=[eQ]),eQ.map(AQ=>AQ.getTrackId())):[eQ.getChannelId()])}),kB=oA({argsMap:(tQ,eQ,AQ,iQ)=>[typeof eQ=="object"?eQ.uid:eQ,AQ,iQ]}),MB=oA({argsMap:(tQ,eQ,AQ)=>[eQ,AQ]}),UB=oA({argsMap:(tQ,eQ)=>eQ.map(AQ=>{let{user:iQ,mediaType:oQ}=AQ;return[iQ==null?void 0:iQ.uid,oQ]})}),xB=oA({argsMap:(tQ,eQ,AQ,iQ)=>[typeof eQ=="object"?eQ.uid:eQ,AQ,iQ]}),VB=oA({argsMap:(tQ,eQ)=>eQ.map(AQ=>{let{user:iQ,mediaType:oQ}=AQ;return{uid:iQ==null?void 0:iQ.uid,mediaType:oQ}})}),FB=oA(),BB=oA(),jB=oA(),GB=oA(),WB=oA(),HB=oA(),KB=oA(),YB=oA(),qB=oA(),zB=oA(),JB=oA(),XB=oA(),QB=oA(),ZB=oA(),$B=oA({argsMap:(tQ,eQ)=>[eQ]}),ej=oA(),tj=oA(),ij=oA(),nj=oA(),rj=oA(),oj=oA(),sj=oA(),aj=oA(),cj=oA({argsMap:(tQ,eQ)=>(Array.isArray(eQ)||(eQ=[eQ]),[JSON.stringify(eQ)])}),dj=oA(),lj=oA(),uj=oA(),hj=oA(),pj=oA(),_j=oA(),Ej=oA({reportResult:!0}),mj=oA(),fj=class extends Sv{get connectionState(){return this._gateway.state}get remoteUsers(){return this._users}get localTracks(){return this._p2pChannel.getAllTracks(!0)}get uid(){return this._uid}get channelName(){return this._channelName}get localDataChannels(){return this._p2pChannel.getAllDataChannels()}get mode(){return this._config.mode}get role(){var tQ;return((tQ=this._config)===null||tQ===void 0?void 0:tQ.role)||"audience"}get codec(){return this._config.codec}get audioCodec(){return this._config.audioCodec||"opus"}get isStringUID(){return!!this._joinInfo&&!!this._joinInfo.stringUid}get __className__(){return"Client"}constructor(tQ){let eQ;if(super(),og(this,"store",void 0),og(this,"_uid",void 0),og(this,"_channelName",void 0),og(this,"_uintUid",void 0),og(this,"_users",[]),og(this,"_config",void 0),og(this,"_clientId",void 0),og(this,"_appId",void 0),og(this,"_sessionId",null),og(this,"_key",void 0),og(this,"_rtmConfig",{}),og(this,"_joinInfo",void 0),og(this,"_gateway",void 0),og(this,"_statsCollector",void 0),og(this,"_configDistribute",void 0),og(this,"_leaveMutex",new hy("client-leave")),og(this,"_publishMutex",new hy("client-publish")),og(this,"_renewTokenMutex",new hy("client-renewtoken")),og(this,"_subscribeMutex",new hy("client-subscribe")),og(this,"_encryptionMode","none"),og(this,"_encryptionSecret",null),og(this,"_encryptionSalt",null),og(this,"_encryptDataStream",!1),og(this,"_encryptDataStreamKey",null),og(this,"_encryptDataStreamIv",null),og(this,"_proxyServer",void 0),og(this,"_turnServer",{servers:[],mode:"auto"}),og(this,"_cloudProxyServerMode","disabled"),og(this,"_isDualStreamEnabled",!1),og(this,"_defaultStreamFallbackType",void 0),og(this,"_lowStreamParameter",void 0),og(this,"_streamFallbackTypeCacheMap",new Map),og(this,"_remoteStreamTypeCacheMap",new Map),og(this,"_axiosCancelSource",EI.CancelToken.source()),og(this,"_audioVolumeIndicationInterval",void 0),og(this,"_networkQualityInterval",void 0),og(this,"_userOfflineTimeout",void 0),og(this,"_streamRemovedTimeout",void 0),og(this,"_liveTranscodeStreamingClient",void 0),og(this,"_liveRawStreamingClient",void 0),og(this,"_channelMediaRelayClient",void 0),og(this,"_networkQualitySensitivity","normal"),og(this,"_p2pChannel",void 0),og(this,"_useLocalAccessPoint",!1),og(this,"_setLocalAPVersion",void 0),og(this,"_joinAndNotLeaveYet",!1),og(this,"_numberOfJoinCount",0),og(this,"_remoteDefaultVideoStreamType",void 0),og(this,"_inspect",void 0),og(this,"_moderation",void 0),og(this,"_license",void 0),og(this,"_pendingPublishedUsers",[]),og(this,"ntpAlignErrorCount",0),og(this,"remoteInboundOffset",0),og(this,"_handleLocalTrackEnable",(AQ,iQ,oQ)=>{this.publish(AQ,!1).then(iQ).catch(oQ)}),og(this,"_handleLocalTrackDisable",(AQ,iQ,oQ)=>{this.unpublish(AQ).then(iQ).catch(oQ)}),og(this,"_handleUserOnline",AQ=>{if(Dy("BLOCK_LOCAL_CLIENT")&&uA(AQ.uid,this.channelName))return void Qy.debug("[".concat(AQ.uid,"] will be ignored in local"));this.isStringUID&&typeof AQ.uid!="string"&&Qy.error("[".concat(this._clientId,"] StringUID is Mixed with UintUID"));const iQ=this._users.find(oQ=>oQ.uid===AQ.uid);if(iQ)iQ._trust_in_room_=!0,iQ._is_pre_created&&(iQ._is_pre_created=!1,this.safeEmit(Nv.USER_JOINED,iQ));else{const oQ=new iV(AQ.uid,AQ.uint_id||AQ.uid);this._users.push(oQ),Qy.debug("[".concat(this._clientId,"] user online"),AQ.uid),this.safeEmit(Nv.USER_JOINED,oQ)}}),og(this,"_handleUserOffline",AQ=>{if(Dy("BLOCK_LOCAL_CLIENT")&&uA(AQ.uid,this.channelName))return;const iQ=this._users.find(oQ=>oQ.uid===AQ.uid);iQ&&(this._handleRemoveStream(AQ),this._handleRemoveDataChannels(AQ),iQ._audio_pre_subscribed||iQ._video_pre_subscribed?iQ._is_pre_created=!0:Fv(this._users,iQ),this._remoteStreamTypeCacheMap.delete(iQ.uid),this._streamFallbackTypeCacheMap.delete(iQ.uid),Qy.debug("[".concat(this._clientId,"] user offline"),AQ.uid,"reason:",AQ.reason),this.safeEmit(Nv.USER_LEAVED,iQ,AQ.reason))}),og(this,"_handleAddAudioOrVideoStream",(AQ,iQ,oQ,rQ,nQ,sQ,aQ)=>{if(Dy("BLOCK_LOCAL_CLIENT")&&uA(iQ,this.channelName))return;const cQ=this._users.find(IQ=>IQ.uid===iQ);if(!cQ)return void Qy.error("[".concat(this._clientId,"] can not find target user!(on_add_stream)"));Qy.debug("[".concat(this._clientId,"] stream added with uid ").concat(iQ,", type ").concat(AQ)),this.store.subscribe(cQ.uid,AQ,void 0,void 0,void 0,Date.now());const gQ=AQ==="audio"?cQ.hasAudio:cQ.hasVideo;cQ._uintid||(cQ._uintid=nQ||iQ),AQ==="audio"?cQ._trust_audio_stream_added_state_=!0:cQ._trust_video_stream_added_state_=!0,AQ==="audio"?(cQ._audio_added_=!0,oQ!==void 0&&(cQ._audioSSRC=oQ),rQ!==void 0&&(cQ._cname=rQ),sQ&&(cQ._audioOrtc=sQ)):(cQ._video_added_=!0,oQ!==void 0&&(cQ._videoSSRC=oQ),rQ!==void 0&&(cQ._cname=rQ),aQ!==void 0&&(cQ._rtxSsrcId=aQ),sQ&&(cQ._videoOrtc=sQ)),(AQ==="audio"?cQ.hasAudio:cQ.hasVideo)&&!gQ&&(Qy.info("[".concat(this._clientId,"] remote user ").concat(cQ.uid," published ").concat(AQ)),this.safeEmit(Nv.USER_PUBLISHED,cQ,AQ)),AQ==="video"?sA.onGatewayStream(this._sessionId,tA.ON_ADD_VIDEO_STREAM,iA.ON_ADD_VIDEO_STREAM,{peer:nQ||iQ,ssrc:cQ._videoSSRC}):sA.onGatewayStream(this._sessionId,tA.ON_ADD_AUDIO_STREAM,iA.ON_ADD_AUDIO_STREAM,{peer:nQ||iQ,ssrc:cQ._audioSSRC}),this._p2pChannel.remoteMediaSsrcChanged(cQ,AQ,oQ).then(IQ=>{if(IQ&&(Qy.debug("[".concat(this._clientId,"] resubscribe ").concat(AQ," for user ").concat(cQ.uid," after rejoin because SSRC id changed.")),this._p2pChannel instanceof hF))return this._p2pChannel.unsubscribe(cQ,AQ,!0).then(()=>this._subscribe(cQ,AQ,!0).catch(EQ=>{Qy.error("[".concat(this._clientId,"] resubscribe error"),EQ.toString())}))}),this._p2pChannel.hasPendingRemoteMedia(cQ,AQ)&&(Qy.debug("[".concat(this._clientId,"] resubscribe ").concat(AQ," for user ").concat(cQ.uid," after reconnect.")),this._subscribe(cQ,AQ,!0).catch(IQ=>{Qy.error("[".concat(this._clientId,"] resubscribe error"),IQ.toString())}))}),og(this,"_handleRemoveStream",AQ=>{if(Dy("BLOCK_LOCAL_CLIENT")&&uA(AQ.uid,this.channelName))return;const iQ=this._users.find(rQ=>rQ.uid===AQ.uid);if(!iQ)return void Qy.warning("[".concat(this._clientId,"] can not find target user!(on_remove_stream)"));Qy.debug("[".concat(this._clientId,"] stream removed with uid ").concat(AQ.uid));let oQ=()=>{};iQ.hasAudio&&iQ.hasVideo?oQ=()=>{Qy.info("[".concat(this._clientId,"] remote user ").concat(iQ.uid," unpublished audio track")),this.safeEmit(Nv.USER_UNPUBLISHED,iQ,"audio"),Qy.info("[".concat(this._clientId,"] remote user ").concat(iQ.uid," unpublished video track")),this.safeEmit(Nv.USER_UNPUBLISHED,iQ,"video")}:iQ.hasVideo?oQ=()=>{Qy.info("[".concat(this._clientId,"] remote user ").concat(iQ.uid," unpublished video track")),this.safeEmit(Nv.USER_UNPUBLISHED,iQ,"video")}:iQ.hasAudio&&(oQ=()=>{Qy.info("[".concat(this._clientId,"] remote user ").concat(iQ.uid," unpublished audio track")),this.safeEmit(Nv.USER_UNPUBLISHED,iQ,"audio")}),iQ._video_pre_subscribed||iQ._audio_pre_subscribed||(iQ._trust_audio_stream_added_state_=!0,iQ._trust_video_stream_added_state_=!0,iQ._audio_added_=!1,iQ._video_added_=!1,this._p2pChannel instanceof hF&&this._p2pChannel.unsubscribe(iQ).then(rQ=>{if(rQ)return this._gateway.unsubscribe(rQ,iQ.uid)}),iQ._audioSSRC=void 0,iQ._videoSSRC=void 0,iQ._audioOrtc=void 0,iQ._videoOrtc=void 0,iQ._rtxSsrcId=void 0),sA.onGatewayStream(this._sessionId,tA.ON_REMOVE_STREAM,iA.ON_REMOVE_STREAM,{peer:AQ.uint_id||AQ.uid}),oQ()}),og(this,"_handleSetStreamLocalEnable",(AQ,iQ,oQ)=>{if(Dy("BLOCK_LOCAL_CLIENT")&&uA(iQ,this.channelName))return;const rQ=this._users.find(aQ=>aQ.uid===iQ);if(!rQ)return void Qy.error("[".concat(this._clientId,"] can not find target user!(disable_local)"));Qy.debug("[".concat(this._clientId,"] local ").concat(AQ," ").concat(oQ?"enabled":"disabled"," with uid ").concat(iQ));const nQ=AQ==="audio"?rQ.hasAudio:rQ.hasVideo;if(AQ==="audio"){rQ._trust_audio_enabled_state_=!0;const aQ=rQ._audio_enabled_;if(rQ._audio_enabled_=oQ,rQ._audio_enabled_===aQ)return;{const cQ=rQ._audio_enabled_?"enable-local-audio":"disable-local-audio";Qy.debug("[".concat(this._clientId,"] user-info-updated, uid: ").concat(iQ,", msg: ").concat(cQ)),this.safeEmit(Nv.USER_INFO_UPDATED,iQ,cQ)}}else{rQ._trust_video_enabled_state_=!0;const aQ=rQ._video_enabled_;if(rQ._video_enabled_=oQ,rQ._video_enabled_===aQ)return;{const cQ=rQ._video_enabled_?"enable-local-video":"disable-local-video";Qy.debug("[".concat(this._clientId,"] user-info-update, uid: ").concat(iQ,", msg: ").concat(cQ)),this.safeEmit(Nv.USER_INFO_UPDATED,iQ,cQ)}}const sQ=AQ==="audio"?rQ.hasAudio:rQ.hasVideo;return nQ!==sQ?!nQ&&sQ?(Qy.info("[".concat(this._clientId,"] remote user ").concat(iQ," published ").concat(AQ)),void this.safeEmit(Nv.USER_PUBLISHED,rQ,AQ)):(AQ==="video"&&rQ._videoTrack&&rQ._videoTrack._destroy(),AQ==="audio"&&rQ._audioTrack,this._p2pChannel.muteRemote(rQ,AQ),Qy.info("[".concat(this._clientId,"] remote user ").concat(iQ," unpublished ").concat(AQ)),void this.safeEmit(Nv.USER_UNPUBLISHED,rQ,AQ)):void 0}),og(this,"_handleMuteStream",(AQ,iQ,oQ)=>{if(Dy("BLOCK_LOCAL_CLIENT")&&uA(AQ,this.channelName))return;Qy.debug("[".concat(this._clientId,"] receive mute message"),AQ,iQ,oQ);const rQ=this._users.find(aQ=>aQ.uid===AQ);if(!rQ)return void Qy.warning("[".concat(this._clientId,"] can not find remote user, ignore mute event, uid: ").concat(AQ));const nQ=iQ==="audio"?rQ.hasAudio:rQ.hasVideo;if(iQ==="audio"){rQ._trust_audio_mute_state_=!0;const aQ=rQ._audio_muted_;if(rQ._audio_muted_=oQ,rQ._audio_muted_===aQ)return;{const cQ=rQ._audio_muted_?"mute-audio":"unmute-audio";Qy.debug("[".concat(this._clientId,"] user-info-update, uid: ").concat(AQ,", msg: ").concat(cQ)),this.safeEmit(Nv.USER_INFO_UPDATED,AQ,cQ)}}else{rQ._trust_video_mute_state_=!0;const aQ=rQ._video_muted_;if(rQ._video_muted_=oQ,rQ._video_muted_===aQ)return;{const cQ=rQ._video_muted_?"mute-video":"unmute-video";Qy.debug("[".concat(this._clientId,"] user-info-update, uid: ").concat(AQ,", msg: ").concat(cQ)),this.safeEmit(Nv.USER_INFO_UPDATED,AQ,cQ)}}const sQ=iQ==="audio"?rQ.hasAudio:rQ.hasVideo;if(nQ!==sQ){if(!nQ&&sQ)return(iQ==="audio"?rQ._audioSSRC:rQ._videoSSRC)?(Qy.info("[".concat(this._clientId,"] remote user ").concat(AQ," published ").concat(iQ)),void this.safeEmit(Nv.USER_PUBLISHED,rQ,iQ)):void Qy.warning("[".concat(this._clientId,"] remote user ").concat(AQ," receive ").concat(iQ," unmute message  before add stream message, ").concat(iQ," SSRC doesn't exist yet."));iQ==="video"&&rQ._videoTrack&&!rQ._video_pre_subscribed&&rQ._videoTrack._destroy(),iQ==="audio"&&rQ._audioTrack,this._p2pChannel.muteRemote(rQ,iQ),Qy.info("[".concat(this._clientId,"] remote user ").concat(AQ," unpublished ").concat(iQ)),this.safeEmit(Nv.USER_UNPUBLISHED,rQ,iQ)}}),og(this,"_handleP2PLost",async AQ=>{Qy.debug("[".concat(this._clientId,"] receive p2p lost"),AQ),parseInt(AQ.p2pid,10)===this.store.p2pId?await this._p2pChannel.requestReconnect():Qy.warning("[".concat(this._clientId,"] P2PLost stream not found"),AQ)}),og(this,"_handleTokenWillExpire",()=>{Qy.debug("[".concat(this._clientId,"] received message onTokenPrivilegeWillExpire")),this.safeEmit(Nv.ON_TOKEN_PRIVILEGE_WILL_EXPIRE)}),og(this,"_handleBeforeUnload",AQ=>{AQ.type==="beforeunload"&&AQ.returnValue!==void 0&&AQ.returnValue!==""||(this.leave(),Qy.info("[".concat(this._clientId,"] auto leave onbeforeunload or pagehide")))}),og(this,"_handleUpdateNetworkQuality",()=>{if(this._networkQualitySensitivity==="normal")return;if(navigator&&navigator.onLine!==void 0&&!navigator.onLine)return void this.safeEmit(Nv.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6});const AQ={downlinkNetworkQuality:0,uplinkNetworkQuality:0};AQ.uplinkNetworkQuality=this._p2pChannel.getUplinkNetworkQuality(),AQ.downlinkNetworkQuality=this._p2pChannel.getDownlinkNetworkQuality(),this.safeEmit(Nv.NETWORK_QUALITY,AQ)}),og(this,"_handleP2PAddAudioOrVideoStream",(AQ,iQ,oQ,rQ)=>{const nQ=this._users.find(aQ=>aQ.uid===iQ);if(!nQ)return void Qy.error("[".concat(this._clientId,"] can not find target user!(on_add_stream)"));Qy.debug("[".concat(this._clientId,"] stream added with uid ").concat(iQ,", type ").concat(AQ)),this.store.subscribe(nQ.uid,AQ,void 0,void 0,void 0,Date.now());const sQ=AQ==="audio"?nQ.hasAudio:nQ.hasVideo;AQ==="audio"?nQ._trust_audio_stream_added_state_=!0:nQ._trust_video_stream_added_state_=!0,AQ==="audio"?(nQ._audio_added_=!0,oQ!==void 0&&(nQ._audioSSRC=oQ),rQ!==void 0&&(nQ._audioMid=rQ)):(nQ._video_added_=!0,oQ!==void 0&&(nQ._videoSSRC=oQ),rQ!==void 0&&(nQ._videoMid=rQ)),(AQ==="audio"?nQ.hasAudio:nQ.hasVideo)&&!sQ&&(Qy.info("[".concat(this._clientId,"] remote user ").concat(nQ.uid," published ").concat(AQ)),this.safeEmit(Nv.USER_PUBLISHED,nQ,AQ)),this._p2pChannel.hasPendingRemoteMedia(nQ,AQ)&&(Qy.debug("[".concat(this._clientId,"] resubscribe ").concat(AQ," for user ").concat(nQ.uid," after reconnect.")),this._subscribe(nQ,AQ,!0).catch(aQ=>{Qy.error("[".concat(this._clientId,"] resubscribe error"),aQ.toString())}))}),this._config=tQ,this._clientId=ey(5,"client-"),this.store=new ky(tQ.codec,tQ.audioCodec,tQ.mode,this._clientId),this.store.clientCreated(),tQ.proxyServer&&this.setProxyServer(tQ.proxyServer,!0),tQ.turnServer&&this.setTurnServer(tQ.turnServer,!0),Qy.info("[".concat(this._clientId,"] Initializing AgoraRTC client v").concat(vy," build: ").concat(wy,", mode: ").concat(this.mode,", codec: ").concat(this.codec)),tQ.clientRoleOptions)try{Ov(tQ.clientRoleOptions),eQ=Object.assign({},tQ.clientRoleOptions)}catch(AQ){Qy.warning("[".concat(this._clientId,"] ").concat(AQ.toString()))}this._statsCollector=new yV(this.store),this._statsCollector.onStatsException=(AQ,iQ,oQ)=>{Qy.debug("[".concat(this._clientId,"] receive exception msg, code: ").concat(AQ,", msg: ").concat(iQ,", uid: ").concat(oQ)),this.safeEmit(Nv.EXCEPTION,{code:AQ,msg:iQ,uid:oQ})},this._statsCollector.onUploadPublishDuration=(AQ,iQ,oQ,rQ)=>{const nQ=this._users.find(sQ=>sQ.uid===AQ);nQ&&sA.peerPublishStatus(this._sessionId,{subscribeElapse:rQ,audioPublishDuration:iQ,videoPublishDuration:oQ,peer:nQ._uintid})},this.store.useP2P=tQ.mode==="p2p",this._gateway=new ZM(this.store,{clientId:this._clientId,mode:this.mode,codec:this.codec,websocketRetryConfig:tQ.websocketRetryConfig||_y,httpRetryConfig:tQ.httpRetryConfig||_y,forceWaitGatewayResponse:tQ.forceWaitGatewayResponse===void 0||tQ.forceWaitGatewayResponse,statsCollector:this._statsCollector,role:tQ.role,clientRoleOptions:eQ}),this._configDistribute=new VU,this.store.useP2P?(this._p2pChannel=new RV(this.store,this._statsCollector),this._handleP2PEvents()):this._p2pChannel=new hF(this.store,this._statsCollector),this._handleP2PChannelEvents(),this._handleGatewayEvents(),this._handleGatewaySignalEvents()}async joinMeta(tQ,eQ,AQ,iQ,oQ){let rQ=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5],nQ=arguments.length>6&&arguments[6]!==void 0&&arguments[6];Ny("JOIN_GATEWAY_USE_443PORT_ONLY",rQ),Ny("JOIN_GATEWAY_USE_DUAL_DOMAIN",nQ);const sQ=this._gateway.signal.websocket;return sQ instanceof Aw&&(sQ.use443PortOnly=rQ,sQ.tryDoubleDomain=nQ),async function(aQ,cQ,gQ){TI.get(aQ)||TI.set(aQ,[]),SI.get(aQ)||SI.set(aQ,cQ),gI.get(aQ)||gI.set(aQ,0);const IQ=TI.get(aQ),EQ=SI.get(aQ);if(!IQ||!EQ)throw new Error("concurrent: deferQueue or maxConcurrency is null");if(gI.get(aQ)===EQ){const hQ=fI();IQ.push(hQ),await hQ.promise}gI.set(aQ,gI.get(aQ)+1);for(var CQ=arguments.length,dQ=new Array(CQ>3?CQ-3:0),lQ=3;lQ<CQ;lQ++)dQ[lQ-3]=arguments[lQ];const uQ=await gQ(...dQ);return gI.set(aQ,gI.get(aQ)-1),gI.get(aQ)===EQ-1&&IQ.length>0&&(IQ[0].resolve(),IQ.shift()),gI.get(aQ)===0&&(TI.set(aQ,[]),SI.set(aQ,0),gI.set(aQ,0)),uQ}("client.join",Dy("JOIN_MAX_CONCURRENCY"),this.join.bind(this),tQ,eQ,AQ,iQ,oQ)}async join(tQ,eQ,AQ,iQ,oQ){const rQ=++this._numberOfJoinCount;this.store.joinStart(),iQ&&(this.store.uid=iQ);const nQ=(Ty||Ty||(Ty=(window.location.protocol.split(":")[0]||"").toUpperCase(),Ty))==="HTTPS",sQ=Iy()?window.isSecureContext:"Browser Not Support";if(!Iy()&&!nQ||!window.isSecureContext){const lQ="The website must be running in a secure context (About secure context: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts ), otherwise the media collection will be restricted by the browser";Qy.warning(lQ)}this.connectionState==="DISCONNECTED"&&(this.store.avoidJoinStart=Math.round(Date.now()),Qy.debug("[".concat(this._clientId,"] set avoidJoinStart to ").concat(this.store.avoidJoinStart))),sA.setAppId(tQ);try{if(!AQ&&AQ!==null)throw new Sb(nv.INVALID_PARAMS,"Invalid token: ".concat(AQ,". If you don not use token, set it to null"));AQ&&dv(AQ,"token",1,2047),dv(tQ,"appid",1,2047),gb(eQ),iQ&&Rb(iQ),oQ&&dv(oQ,"optionalInfo",1,2047)}catch(lQ){throw sA.reportApiInvoke(ty(),{name:Cv.JOIN,options:[tQ,eQ,AQ,iQ],states:{isHttps:nQ,isSecureContext:sQ},tag:Iv.TRACER}).onError(lQ),lQ}if(this._leaveMutex.isLocked&&(Qy.debug("[".concat(this._clientId,"] join: waiting leave operation")),(await this._leaveMutex.lock())(),Qy.debug("[".concat(this._clientId,"] join: continue"))),this._joinAndNotLeaveYet=!0,this.connectionState!=="DISCONNECTED"){const lQ=new Sb(nv.INVALID_OPERATION,"[".concat(this._clientId,"] Client already in connecting/connected state"));throw sA.reportApiInvoke(ty(),{name:Cv.JOIN,options:[tQ,eQ,AQ,iQ],states:{isHttps:nQ,isSecureContext:sQ},tag:Iv.TRACER}).onError(lQ),lQ}this._gateway.state="CONNECTING";const aQ=await GF({appId:tQ,cname:eQ,uid:iQ,stringUid:typeof iQ=="string"?iQ:void 0,token:AQ||tQ,cloudProxyServer:this._cloudProxyServerMode});if(!this._joinAndNotLeaveYet)throw new Sb(nv.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));const cQ=(aQ==null?void 0:aQ.sid)||ty();Qy.info("[".concat(this._clientId,"] start join channel ").concat(eQ,", join number: ").concat(rQ)),this._sessionId||(this._sessionId=cQ,this.store.sessionId=this._sessionId);const gQ=sA.reportApiInvoke(cQ,{name:Cv.JOIN,options:[tQ,eQ,AQ,iQ],states:{isHttps:nQ,isSecureContext:sQ},tag:Iv.TRACER}),IQ=Sj(Sj({},this._rtmConfig),{},{clientId:this._clientId,appId:tQ,sid:this._sessionId,cname:eQ,uid:typeof iQ!="string"?iQ:null,turnServer:this._turnServer,proxyServer:this._proxyServer,token:AQ||tQ,cloudProxyServer:this._cloudProxyServerMode,optionalInfo:oQ,license:this._license,useLocalAccessPoint:this._useLocalAccessPoint,preload:!!aQ},this._remoteDefaultVideoStreamType!==void 0&&{defaultVideoStream:this._remoteDefaultVideoStreamType});if(this._useLocalAccessPoint&&(IQ.setLocalAPVersion=this._setLocalAPVersion),typeof iQ=="string"&&(IQ.stringUid=iQ,this._uintUid?(IQ.uid=this._uintUid,this._uintUid=void 0):IQ.uid=0),this._encryptionMode!=="none"&&this._encryptionSecret){if(IQ.aesmode=this._encryptionMode,IQ.aespassword=await(async lQ=>{const uQ=function(fQ){const _Q=window.atob(`MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDCMnXAHkKIGAM+x4N22gCI+Wyu
STM9ztkT3uYslTT2PuKmZfPzhH6kVdO7PTjGCOZnAsyb3oTtWat0KcxQ4jxvqQV+
HvYl3iI1Yd4vl2c3qRMJPLtRDfNxa2Mcxgq7e9aEUibzdd0st+OJAy3tOj/Y0aVy
xQiYDz3vqa6bP29adwIDAQAB`),RQ=new Uint8Array(new ArrayBuffer(_Q.length));for(let wQ=0;wQ<_Q.length;wQ+=1)RQ[wQ]=_Q.charCodeAt(wQ);return RQ}(),hQ=await window.crypto.subtle.importKey("spki",uQ,{name:"RSA-OAEP",hash:"SHA-256"},!0,["encrypt"]),BQ=mv(lQ),QQ=await window.crypto.subtle.encrypt({name:"RSA-OAEP"},hQ,BQ);return function(fQ){let _Q="";for(let RQ=0;RQ<fQ.length;RQ+=1)_Q+=String.fromCharCode(fQ[RQ]);return window.btoa(_Q)}(new Uint8Array(QQ))})(this._encryptionSecret),!this._joinAndNotLeaveYet)throw new Sb(nv.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));this._encryptionSalt&&(IQ.aessalt=this._encryptionSalt)}if(this._encryptDataStream&&(this._encryptionMode==="aes-128-gcm2"||this._encryptionMode==="aes-256-gcm2"))if(this._encryptionSalt&&this._encryptionSecret)if(window.crypto.subtle){const lQ=new TextEncoder,uQ=Dy("USE_PURE_ENCRYPTION_MASTER_KEY")?lQ.encode(IQ.appId+this._encryptionSecret+this._encryptionSecret):lQ.encode(IQ.appId+IQ.cname+this._encryptionSecret);this._encryptDataStreamIv=await async function(hQ,BQ,QQ){const fQ=await window.crypto.subtle.importKey("raw",BQ,"PBKDF2",!1,["deriveBits","deriveKey"]),_Q=hQ==="aes-128-gcm2"?128:256,RQ=await window.crypto.subtle.deriveBits({name:"PBKDF2",iterations:Vy,hash:"SHA-256",salt:QQ},fQ,_Q+xy);return new Uint8Array(RQ).subarray(_Q/8)}(this._encryptionMode,uQ,Yv(this._encryptionSalt)),this._encryptDataStreamKey=await async function(hQ,BQ,QQ){const fQ=await window.crypto.subtle.importKey("raw",BQ,"PBKDF2",!1,["deriveBits","deriveKey"]),_Q=hQ==="aes-128-gcm2"?128:256;return await window.crypto.subtle.deriveKey({name:"PBKDF2",iterations:Vy,hash:"SHA-256",salt:QQ},fQ,{name:"AES-GCM",length:_Q},!0,["encrypt","decrypt"])}(this._encryptionMode,uQ,Yv(this._encryptionSalt))}else sQ?Qy.warning("[".concat(this._clientId,"] encrypt datastream must be running in a secure context, fallback to plain data stream")):Qy.warning("[".concat(this._clientId,"] current browser do not support WebCrypto ,fallback to plain data stream")),this._encryptDataStream=!1;else this._encryptDataStream=!1,Qy.debug("[".concat(this._clientId,"] no salt / secret, cannot support encrypt data stream, fallback to plain data stream"));this._startSession(this._sessionId,{channel:eQ,appId:tQ,stringUid:IQ.stringUid});const EQ=this._sessionId;setTimeout(()=>{this.connectionState==="CONNECTING"&&EQ===this._sessionId&&sA.joinChannelTimeout(this._sessionId,5)},5e3);try{var CQ;let lQ;const uQ=IQ.cloudProxyServer;if(Dn(CQ=["proxy3","proxy4","proxy5"]).call(CQ,uQ)){const _Q=Dy("PROXY_SERVER_TYPE3");Array.isArray(_Q)?IQ.proxyServer=_Q[0]:IQ.proxyServer=_Q}if(sA.setProxyServer(IQ.proxyServer),Qy.setProxyServer(IQ.proxyServer),this.store.requestAPStart(),aQ){if(Qy.debug("[".concat(this._clientId,"] get serverInfo Success from Preload Cache ").concat(IQ.stringUid?", ".concat(IQ.stringUid," => ").concat(aQ.intUid):""," ")),IQ.stringUid&&!IQ.uid&&(IQ.uid=aQ.intUid),lQ={gatewayInfo:aQ.ap.gatewayInfo},Dy("JOIN_WITH_FALLBACK_MEDIA_PROXY")&&IQ.turnServer.mode==="auto")if(aQ.ap.proxyInfo.addresses.length===0)Qy.warning("no edge services in ap response of proxy fallback, will not set proxy in iceServers");else{const _Q=(await Vw(aQ.ap.proxyInfo,aQ.ap.gatewayInfo.uid)).map(RQ=>({turnServerURL:RQ.address,tcpport:RQ.tcpport||cA.tcpport,udpport:RQ.udpport||cA.udpport,username:RQ.username||cA.username,password:RQ.password||cA.password,forceturn:!1,security:!0}));IQ.turnServer={mode:"manual",servers:_Q}}YF(aQ,IQ.stringUid)}else{if(IQ.stringUid&&!IQ.uid){let _Q;[_Q,lQ]=await Gh.all([OU(IQ.stringUid,IQ,this._axiosCancelSource.token,this._config.httpRetryConfig||_y,this.store),wU(IQ,this._axiosCancelSource.token,this._config.httpRetryConfig||_y,!0,this.store)]),Qy.debug("[".concat(this._clientId,"] getUserAccount Success ").concat(IQ.stringUid," => ").concat(_Q)),IQ.uid=_Q,lQ.gatewayInfo.uid=_Q,lQ.gatewayInfo.res.uid=_Q}else lQ=await wU(IQ,this._axiosCancelSource.token,this._config.httpRetryConfig||_y,!0,this.store);if(!this._joinAndNotLeaveYet)throw new Sb(nv.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"))}this.store.requestAPEnd(),setTimeout(()=>{this._configDistribute.startGetConfigDistribute(IQ,this._axiosCancelSource.token),this._configDistribute.on(Wb.UPDATE_BITRATE_LIMIT,_Q=>{this._p2pChannel.updateBitrateLimit(_Q)})},0),this._key=AQ||tQ;const hQ=lQ.gatewayInfo,BQ=IQ.uid?IQ.uid:hQ.uid;this._joinInfo=Sj(Sj({},IQ),{},{cid:hQ.cid,uid:BQ,vid:hQ.vid,apResponse:hQ.res,apGatewayAddress:hQ.apGatewayAddress,uni_lbs_ip:hQ.uni_lbs_ip,gatewayAddrs:hQ.gatewayAddrs}),this.store.intUid=BQ;const QQ=await this._joinGateway();if(!this._joinAndNotLeaveYet)throw new Sb(nv.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));gQ.onSuccess(QQ),this._appId=tQ,this._channelName=IQ.cname,this._uid=QQ,this.store.uid=QQ,setTimeout(()=>{this._networkQualityInterval&&window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=window.setInterval(this._handleUpdateNetworkQuality,2e3),window.addEventListener(PI()?"beforeunload":"pagehide",this._handleBeforeUnload),this._statsCollector.startUpdateStats()},0);const fQ=IQ.stringUid?"string uid: ".concat(IQ.stringUid,",uid: ").concat(IQ.uid):"uid: ".concat(this._uid);return Qy.info("[".concat(this._clientId,"] Joining channel success: channel: ").concat(eQ,",").concat(fQ)),setTimeout(()=>{Qy.startUpload()},5e3),this.store.joinEnd(),dQ=this,Dn(lA).call(lA,dQ)||lA.push(dQ),this._cloudProxyServerMode==="disabled"&&MD().supportWebCrypto&&Dy("ENABLE_PRELOAD")&&HF(this._joinInfo),QQ}catch(lQ){const uQ=Array.isArray(lQ)?lQ[0]:lQ;throw uQ&&uQ.code===nv.OPERATION_ABORTED?Qy.warning("[".concat(this._clientId,"] join number: ").concat(rQ,", Joining channel failed, rollback"),uQ):Qy.error("[".concat(this._clientId,"] join number: ").concat(rQ,", Joining channel failed, rollback"),uQ),uQ.code!==nv.OPERATION_ABORTED&&this._numberOfJoinCount===rQ&&(this._gateway.state="DISCONNECTED",this._reset()),gQ.onError(uQ),uQ}var dQ}_joinGateway(){if(!this._joinInfo||!this._key)throw new Sb(nv.INVALID_OPERATION);return this._gateway.join(this._joinInfo,this._key,!(this._joinInfo.cloudProxyServer!=="disabled"||this._joinInfo.proxyServer||!Dy("JOIN_WITH_FALLBACK_SIGNAL_PROXY")))}async leave(){Qy.info("[".concat(this._clientId,"] Leaving channel")),window.removeEventListener(PI()?"beforeunload":"pagehide",this._handleBeforeUnload),this._reset(),function(eQ){const AQ=lA.indexOf(eQ);AQ!==-1&&lA.splice(AQ,1)}(this),this._statsCollector.stopUpdateStats();const tQ=await this._leaveMutex.lock();if(this.connectionState==="DISCONNECTED")return Qy.info("[".concat(this._clientId,"] Leaving channel repeated, success")),void tQ();await this._gateway.leave(this.connectionState!=="CONNECTED"),Qy.info("[".concat(this._clientId,"] Leaving channel success")),this._joinAndNotLeaveYet=!1,this.store.resetJoinChannelServiceRecords(),tQ()}async publish(tQ){let eQ=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(!Array.isArray(tQ)){if(!(tQ instanceof bP))return this._publishDataChannel(tQ);tQ=[tQ]}if(tQ.length===0)throw new Sb(nv.INVALID_PARAMS,"param list is empty");const AQ=tQ;if(this._gateway.role==="audience")throw new Sb(nv.INVALID_OPERATION,"audience can not publish stream");for(const oQ of AQ){if(!(oQ instanceof bP))throw new Sb(nv.INVALID_PARAMS,"parameter is not local track");if(!oQ._enabled&&eQ)throw new Sb(nv.TRACK_IS_DISABLED,"can not publish a disabled track: ".concat(oQ.getTrackId()))}Qy.info("[".concat(this._clientId,"] Publishing tracks, id ").concat(AQ.map(oQ=>"".concat(oQ.getTrackId()," "))));const iQ=await this._publishMutex.lock();await this._configDistribute.awaitConfigDistributeComplete(),eQ&&AQ.forEach(oQ=>{const rQ=this._configDistribute.getBitrateLimit();oQ instanceof Hk&&rQ&&oQ.setBitrateLimit(rQ.uplink)});try{await this._publishHighStream(AQ),Qy.info("[".concat(this._clientId,"] Publish success, id ").concat(AQ.map(oQ=>"".concat(oQ.getTrackId()," "))))}catch(oQ){throw Qy.error("[".concat(this._clientId,"] publish error"),oQ.toString()),oQ}finally{iQ()}}async _publishDataChannel(tQ){av(tQ.id,"id",0,65535,!0),ov(tQ.ordered,"ordered"),dv(tQ.metadata,"metadata",0,512),Qy.info("[".concat(this._clientId,"] Publishing datachannels, id ").concat(tQ.id));const eQ=await this._publishMutex.lock();try{if(this._p2pChannel.getAllDataChannels().findIndex(oQ=>oQ.id===tQ.id)!==-1)throw new Sb(nv.INVALID_PARAMS,"Invalid id: ".concat(tQ.id,". If you want to republish the datachannel, unpublish first"));if(!this._joinInfo||this._uid===void 0)throw new Sb(nv.INVALID_OPERATION,"Can't publish datachannel, haven't joined yet!");if(this.connectionState!=="CONNECTED"&&this.connectionState!=="RECONNECTING")throw new Sb(nv.INVALID_OPERATION,"can not publish datachannel in ".concat(this.connectionState," state"));if(this._turnServer.mode==="auto"&&Dy("FORCE_TURN")&&!Dy("TURN_ENABLE_TCP")&&!Dy("TURN_ENABLE_UDP"))throw new Sb(nv.UNEXPECTED_ERROR,"force TURN With No TURN Configuration");const AQ=function(oQ){return fF(oQ,!1)}(tQ),iQ=await this._p2pChannel.publishDataChannel([AQ]);if(iQ.length>0){if(typeof AQ._originDataChannelId!="number")throw Qy.error("[".concat(this._clientId,"] can not publish with mediaType datachannel, cannot get RTCDatachannel id")),new Sb(nv.CREATE_DATACHANNEL_ERROR);try{await Gh.all(iQ.map(oQ=>this._uid&&this._gateway.publishDataChannel(this._uid,oQ,!0))),await AQ._waitTillOpen()}catch(oQ){if(oQ.code!==nv.DISCONNECT_P2P)throw oQ}}return Qy.info("[".concat(this._clientId,"] Publish dataChannels success, id ").concat(AQ.id)),AQ}catch(AQ){throw Qy.error("[".concat(this._clientId,"] publish datachannels error"),AQ.toString()),AQ}finally{eQ()}}async unpublish(tQ){if(!this._joinInfo||this._uid===void 0)throw new Sb(nv.INVALID_OPERATION,"Can't unpublish stream, haven't joined yet!");let eQ=[];if(tQ)if(Array.isArray(tQ))eQ=tQ;else{if(!(tQ instanceof bP))return this._unpublishDataChannel([tQ]);eQ=[tQ]}else this.store.useP2P||await this._unpublishDataChannel(),eQ=this._p2pChannel.getAllTracks(!0);Qy.info("[".concat(this._clientId,"] Unpublish tracks, tracks ").concat(eQ.map(iQ=>"".concat(iQ.getTrackId()," "))," "));const AQ=await this._publishMutex.lock();try{if(this._p2pChannel instanceof RV){const iQ=await this._p2pChannel.unpublish(eQ);iQ&&await this._gateway.sendExtensionMessage(sw.UNPUBLISH,{unpubMsg:iQ},!0)}else{const iQ=await this._p2pChannel.unpublish(eQ);iQ&&await this._gateway.unpublish(iQ,this._uid),Qy.info("[".concat(this._clientId,"] Unpublish success,tracks ").concat(eQ.map(oQ=>"".concat(oQ.getTrackId()))))}}catch(iQ){throw Qy.error("[".concat(this._clientId,"] unpublish error"),iQ.toString()),iQ}finally{AQ&&AQ()}}async _unpublishDataChannel(tQ){tQ!==void 0&&tQ.length!==0||(tQ=this._p2pChannel.getAllDataChannels()),Qy.info("[".concat(this._clientId,"] Unpublish datachannels, datachannels ").concat(tQ.map(AQ=>"".concat(AQ.id," "))," "));const eQ=await this._publishMutex.lock();try{const AQ=await this._p2pChannel.unpublishDataChannel(tQ);AQ&&await this._gateway.unpublishDataChannel(AQ),Qy.info("[".concat(this._clientId,"] Unpublish dataChannel success,dataChannel ").concat(tQ.map(iQ=>"".concat(iQ.id))))}catch(AQ){throw Qy.error("[".concat(this._clientId,"] unpublish dataChannel error"),AQ.toString()),AQ}finally{eQ&&eQ()}}async subscribe(tQ,eQ,AQ){if(!(tQ instanceof iV)){const iQ=this.remoteUsers.find(oQ=>oQ.uid===tQ);if(!iQ)throw new Sb(nv.INVALID_REMOTE_USER,"user is not in the channel");tQ=iQ}return eQ==="datachannel"?this._subscribeDataChannel(tQ,AQ):this._subscribe(tQ,eQ)}async presubscribe(tQ,eQ){if(sv(eQ,"mediaType",["audio","video"]),this._p2pChannel instanceof RV)throw new Sb(nv.INVALID_OPERATION,"can't presub at p2p mode");if(!this._joinInfo)throw new Sb(nv.INVALID_OPERATION,"can't presub when not join");if(this.connectionState!=="CONNECTED"&&this.connectionState!=="RECONNECTING")throw new Sb(nv.INVALID_OPERATION,"can't presub in ".concat(this.connectionState," state"));const AQ=eQ===Yb.AUDIO,iQ=eQ===Yb.VIDEO,oQ=await this._subscribeMutex.lock();try{const{ssrcId:rQ,ortc:nQ,rtxSsrcId:sQ,cname:aQ,uint_id:cQ}=await this._gateway.presubscribe(tQ,eQ,!0);if(rQ==null)throw new Sb(nv.UNEXPECTED_RESPONSE,"no ssrc id");let gQ=this._users.find(EQ=>EQ.uid===tQ);gQ||(gQ=new iV(tQ,cQ||tQ),gQ._is_pre_created=!0,this._users.push(gQ)),aQ&&(gQ._cname=aQ),gQ._uintid||(gQ._uintid=cQ||tQ),AQ&&(gQ._audioSSRC=rQ,gQ._audio_pre_subscribed=!0,nQ&&(gQ._audioOrtc=nQ)),iQ&&(gQ._videoSSRC=rQ,gQ._video_pre_subscribed=!0,nQ&&(gQ._videoOrtc=nQ),sQ!=null&&(gQ._rtxSsrcId=sQ)),Qy.info("[".concat(this._clientId,"] presub succeed ssrc: ").concat(rQ)),await this._p2pChannel.subscribe(gQ,eQ,rQ,sQ,nQ);const IQ=AQ?gQ._audioTrack:gQ._videoTrack;if(!IQ)throw new Sb(nv.UNEXPECTED_ERROR,"can not find remote track in user");return AQ&&(gQ._trust_audio_stream_added_state_=!0,gQ._audio_added_=!0),iQ&&(gQ._trust_video_stream_added_state_=!0,gQ._video_added_=!0),IQ}catch(rQ){throw Qy.error("[".concat(this._clientId,"] presub user ").concat(tQ," error"),rQ),rQ}finally{oQ()}}async _subscribeDataChannel(tQ,eQ){var AQ;if(av(eQ,"channelId",0,65535,!0),!this._joinInfo)throw new Sb(nv.INVALID_OPERATION,"Can't subscribe datachannel, not joined");if(this.connectionState!=="CONNECTED"&&this.connectionState!=="RECONNECTING")throw new Sb(nv.INVALID_OPERATION,"Can't subscribe datachannel in ".concat(this.connectionState," state"));if(!this._users.find(sQ=>sQ===tQ))throw Qy.error("[".concat(this._clientId,"] can not subscribe ").concat(tQ.uid,", this user is not in the channel")),new Sb(nv.INVALID_REMOTE_USER,"user is not in the channel");if(!tQ.hasAudio&&!tQ.hasVideo&&tQ._dataChannels.length===0)throw Qy.error("[".concat(this._clientId,"] can not subscribe ").concat(tQ.uid,", user is not published")),new Sb(nv.INVALID_REMOTE_USER,"user is not published");const oQ=(AQ=tQ._dataChannels)===null||AQ===void 0?void 0:AQ.find(sQ=>sQ.id===eQ);if(!oQ)throw Qy.error("[".concat(this._clientId,"] can not subscribe ").concat(tQ.uid," with mediaType datachannel, remote datachannel is not published")),new Sb(nv.REMOTE_USER_IS_NOT_PUBLISHED);const rQ=await this._subscribeMutex.lock();Qy.info("[".concat(this._clientId,"] subscribe user ").concat(tQ.uid,", mediaType: datachannel"));try{const sQ=await this._p2pChannel.subscribeDataChannel(tQ,[oQ]);if(sQ&&Dn(sQ).call(sQ,oQ.id))try{var nQ;if(typeof oQ._originDataChannelId!="number")throw Qy.error("[".concat(this._clientId,"] can not subscribe ").concat(tQ.uid," with mediaType datachannel, cannot get RTCDatachannel")),new Sb(nv.CREATE_DATACHANNEL_ERROR);const aQ={id:oQ.id,datachannelId:oQ._originDataChannelId,ordered:oQ.ordered,maxRetransmits:oQ.maxRetransmits,metadata:(nQ=oQ.metadata)!==null&&nQ!==void 0?nQ:""};await this._gateway.subscribeDataChannel(tQ.uid,aQ,!0),await oQ._waitTillOpen()}catch(aQ){if((aQ==null?void 0:aQ.code)!==nv.WS_ABORT)throw await this._p2pChannel.unsubscribeDataChannel(tQ,[oQ]),aQ;await this._p2pChannel.unsubscribeDataChannel(tQ,[oQ]),this._p2pChannel.setPendingRemoteDataChannel(tQ,oQ.id)}return Qy.info("[".concat(this._clientId,"] subscribe success user ").concat(tQ.uid,", mediaType: datachannel")),oQ}finally{rQ()}}async _p2pSubscribe(tQ,eQ,AQ){if(sv(eQ,"mediaType",["audio","video"]),!this._joinInfo)throw new Sb(nv.INVALID_OPERATION,"Can't subscribe stream, not joined");if(this.connectionState!=="CONNECTED"&&this.connectionState!=="RECONNECTING")throw new Sb(nv.INVALID_OPERATION,"Can't subscribe stream in ".concat(this.connectionState," state"));if(!this._users.find(rQ=>rQ===tQ)){const rQ=new Sb(nv.INVALID_REMOTE_USER,"user is not in the channel");throw Qy.error("[".concat(this._clientId,"] can not subscribe ").concat(tQ.uid,", this user is not in the channel")),rQ}if(!tQ.hasAudio&&!tQ.hasVideo){const rQ=new Sb(nv.INVALID_REMOTE_USER,"user is not published");throw Qy.error("[".concat(this._clientId,"] can not subscribe ").concat(tQ.uid,", user is not published")),rQ}if(!AQ&&(eQ==="audio"&&!tQ.hasAudio||eQ==="video"&&!tQ.hasVideo)){const rQ=new Sb(nv.REMOTE_USER_IS_NOT_PUBLISHED);throw Qy.error("[".concat(this._clientId,"] can not subscribe ").concat(tQ.uid," with mediaType ").concat(eQ,", remote track is not published")),rQ}const oQ=await this._subscribeMutex.lock();Qy.info("[".concat(this._clientId,"] subscribe user ").concat(tQ.uid,", mediaType: ").concat(eQ));try{if(await this._p2pChannel.hasRemoteMediaWithLock(tQ,eQ))await this._p2pChannel.unmuteRemote(tQ,eQ);else try{const nQ=eQ==="audio"?tQ._audioSSRC:tQ._videoSSRC,sQ=eQ==="audio"?tQ._audioMid:tQ._videoMid;this.store.subscribe(tQ.uid,eQ,Date.now()),this._p2pChannel instanceof RV&&await this._p2pChannel.subscribe(tQ,eQ,nQ,sQ)}catch(nQ){throw nQ}Qy.info("[".concat(this._clientId,"] subscribe success user ").concat(tQ.uid,", mediaType: ").concat(eQ)),this._defaultStreamFallbackType&&this.setStreamFallbackOption(tQ.uid,this._defaultStreamFallbackType).catch(nQ=>{Qy.warning("[".concat(this._clientId,"] auto set fallback failed"),nQ)});const rQ=eQ==="audio"?tQ._audioTrack:tQ._videoTrack;if(!rQ)throw new Sb(nv.UNEXPECTED_ERROR,"can not find remote track in user object");return rQ}catch(rQ){throw Qy.error("[".concat(this._clientId,"] subscribe user ").concat(tQ.uid," error"),rQ),rQ}finally{oQ()}}async _subscribe(tQ,eQ,AQ){if(this._p2pChannel instanceof RV)return this._p2pSubscribe(tQ,eQ);if(sv(eQ,"mediaType",["audio","video"]),!this._joinInfo)throw new Sb(nv.INVALID_OPERATION,"Can't subscribe stream, not joined");if(this.connectionState!=="CONNECTED"&&this.connectionState!=="RECONNECTING")throw new Sb(nv.INVALID_OPERATION,"Can't subscribe stream in ".concat(this.connectionState," state"));if(!this._users.find(cQ=>cQ===tQ)){const cQ=new Sb(nv.INVALID_REMOTE_USER,"user is not in the channel");throw Qy.error("[".concat(this._clientId,"] can not subscribe ").concat(tQ.uid,", this user is not in the channel")),cQ}if(!tQ.hasAudio&&!tQ.hasVideo){const cQ=new Sb(nv.INVALID_REMOTE_USER,"user is not published");throw Qy.error("[".concat(this._clientId,"] can not subscribe ").concat(tQ.uid,", user is not published")),cQ}if(!(AQ||(eQ!=="audio"||tQ.hasAudio&&tQ._audioSSRC!==void 0)&&(eQ!=="video"||tQ.hasVideo&&tQ._videoSSRC!==void 0))){const cQ=new Sb(nv.REMOTE_USER_IS_NOT_PUBLISHED);throw Qy.error("[".concat(this._clientId,"] can not subscribe ").concat(tQ.uid," with mediaType ").concat(eQ,", remote track is not published")),cQ}let oQ=eQ==="audio"?tQ._audioSSRC:tQ._videoSSRC,rQ=eQ==="audio"?tQ._audioOrtc:tQ._videoOrtc,nQ=eQ==="video"?tQ._rtxSsrcId:void 0,sQ={stream_type:eQ==="audio"?Yb.AUDIO:Yb.VIDEO,ssrcId:oQ};const aQ=await this._subscribeMutex.lock();Qy.info("[".concat(this._clientId,"] subscribe user ").concat(tQ.uid,", mediaType: ").concat(eQ));try{if(await this._p2pChannel.hasRemoteMediaWithLock(tQ,eQ))await this._p2pChannel.unmuteRemote(tQ,eQ);else try{const gQ=eQ==="audio"?tQ._audioSSRC:tQ._videoSSRC;gQ!==void 0&&gQ!==oQ&&(oQ=gQ,rQ=eQ==="audio"?tQ._audioOrtc:tQ._videoOrtc,nQ=eQ==="video"?tQ._rtxSsrcId:void 0,sQ={stream_type:eQ==="audio"?Yb.AUDIO:Yb.VIDEO,ssrcId:oQ}),jU.markSubscribeStart(this.store.clientId,oQ),this.store.subscribe(tQ.uid,eQ,Date.now()),await this._p2pChannel.subscribe(tQ,eQ,oQ,nQ,rQ);try{this._p2pChannel.isPreSubScribe(oQ)||await this._gateway.subscribe(tQ.uid,sQ,!0)}catch(IQ){if((IQ==null?void 0:IQ.code)!==nv.WS_ABORT)throw await this._p2pChannel.unsubscribe(tQ,eQ),IQ;await this._p2pChannel.unsubscribe(tQ,eQ,!0),this._p2pChannel.setPendingRemoteMedia(tQ,eQ)}this.store.subscribe(tQ.uid,eQ,void 0,Date.now()),this._p2pChannel.reportSubscribeEvent(!0,null,tQ,eQ)}catch(gQ){throw this._p2pChannel.reportSubscribeEvent(!1,gQ==null?void 0:gQ.code,tQ,eQ),gQ}Qy.info("[".concat(this._clientId,"] subscribe success user ").concat(tQ.uid,", mediaType: ").concat(eQ)),this._defaultStreamFallbackType&&this.setStreamFallbackOption(tQ.uid,this._defaultStreamFallbackType).catch(gQ=>{Qy.warning("[".concat(this._clientId,"] auto set fallback failed"),gQ)});const cQ=eQ==="audio"?tQ._audioTrack:tQ._videoTrack;if(!cQ)throw new Sb(nv.UNEXPECTED_ERROR,"can not find remote track in user object");return cQ}catch(cQ){throw Qy.error("[".concat(this._clientId,"] subscribe user ").concat(tQ.uid," error"),cQ),cQ}finally{aQ()}}async massSubscribe(tQ){if(lv(tQ,"subscribeList"),!this._joinInfo)throw new Sb(nv.INVALID_OPERATION,"Can't subscribe stream, not joined");if(this.connectionState!=="CONNECTED"&&this.connectionState!=="RECONNECTING")throw new Sb(nv.INVALID_OPERATION,"Can't subscribe stream in ".concat(this.connectionState," state"));const eQ=Date.now(),AQ=new Map,iQ=await this._subscribeMutex.lock();Qy.info("[".concat(this._clientId,"]start massSubscribe user ").concat(tQ.map(sQ=>{let{user:aQ,mediaType:cQ}=sQ;return"user: ".concat(aQ==null?void 0:aQ.uid,", mediaType: ").concat(cQ)}).join("; ")));const oQ=(tQ=[...tQ]).map(sQ=>{let{user:aQ,mediaType:cQ}=sQ;return{user:aQ,mediaType:cQ}}),rQ=await this._p2pChannel.globalLock();try{var nQ;for(let aQ=tQ.length-1;aQ>=0;aQ--){const cQ=tQ[aQ],{user:gQ,mediaType:IQ}=cQ;if(sv(IQ,"mediaType",["audio","video"]),!gQ){const lQ=new Sb(nv.INVALID_PARAMS,"user property does not exist in subscribeList item");throw Qy.error("[".concat(this._clientId,"] user property does not exist in subscribeList item")),lQ}if(!this._users.find(lQ=>lQ===gQ)){const lQ=new Sb(nv.INVALID_REMOTE_USER,"user is not in the channel");Qy.error("[".concat(this._clientId,"] can not massSubscribe ").concat(gQ.uid,", this user is not in the channel")),oQ[aQ].error=lQ,tQ.splice(aQ,1);continue}if(IQ==="audio"&&(!gQ.hasAudio||gQ._audioSSRC===void 0)||IQ==="video"&&(!gQ.hasVideo||gQ._videoSSRC===void 0)){const lQ=new Sb(nv.REMOTE_USER_IS_NOT_PUBLISHED);Qy.error("[".concat(this._clientId,"] can not subscribe ").concat(gQ.uid," with mediaType ").concat(IQ,", remote user is not published")),oQ[aQ].error=lQ,tQ.splice(aQ,1);continue}const CQ=Vb.Video|Vb.LwoVideo,dQ=AQ.get(gQ);if(dQ){if(IQ==="video"?dQ&CQ:dQ&Vb.Audio){tQ.splice(aQ,1),Qy.warning("[".concat(this._clientId,"] repeat massSubscribe user:").concat(gQ.uid,", mediaType:").concat(IQ," twice"));continue}AQ.set(gQ,dQ|(IQ==="video"?CQ:Vb.Audio))}else AQ.set(gQ,IQ==="video"?CQ:Vb.Audio)}for(let aQ=tQ.length-1;aQ>=0;aQ--){const cQ=tQ[aQ],{user:gQ,mediaType:IQ}=cQ,EQ=Vb.Video|Vb.LwoVideo;if(this._p2pChannel.hasRemoteMedia(gQ,IQ)){await this._p2pChannel.unmuteRemoteNoLock(gQ,IQ);const CQ=AQ.get(gQ);AQ.set(gQ,IQ==="video"?CQ^EQ:CQ^Vb.Audio),tQ.splice(aQ,1)}}this.store.massSubscribe(tQ.map(aQ=>({userId:aQ.user.uid,type:aQ.mediaType})),eQ);let sQ=Jn(nQ=Array.from(AQ.entries())).call(nQ,(aQ,cQ)=>{let[gQ,IQ]=cQ;if(IQ===0)return aQ;const EQ={stream_id:gQ.uid,stream_type:IQ};return IQ&Vb.Audio&&(EQ.audio_ssrc=gQ._audioSSRC),IQ&Vb.Video&&(EQ.video_ssrc=gQ._videoSSRC),aQ.push(EQ),aQ},[]);try{tQ.length>0&&await this._p2pChannel.massSubscribeNoLock(tQ.map(cQ=>{let{user:gQ,mediaType:IQ}=cQ;return{user:gQ,mediaType:IQ,ssrcId:IQ===Yb.VIDEO?gQ._videoSSRC:gQ._audioSSRC,rtxSsrcId:IQ===Yb.VIDEO?gQ._rtxSsrcId:void 0}}));const aQ=new Map;if(sQ=sQ.filter(cQ=>cQ.video_ssrc&&!this._p2pChannel.isPreSubScribe(cQ.video_ssrc)||cQ.audio_ssrc&&!this._p2pChannel.isPreSubScribe(cQ.audio_ssrc)||!cQ.video_ssrc&&!cQ.audio_ssrc),sQ.length>0){const cQ=await this._gateway.subscribeAll(sQ,!0);((cQ==null?void 0:cQ.users)||[]).forEach(gQ=>{let{stream_id:IQ,video_error_code:EQ,audio_error_code:CQ,error_code:dQ}=gQ;(EQ||CQ||dQ)&&aQ.set(IQ,{video_error_code:EQ,audio_error_code:CQ,error_code:dQ})})}if(Array.from(aQ.entries()).length>0){const cQ=[];Array.from(aQ.entries()).forEach(gQ=>{let[IQ,EQ]=gQ;const CQ=this.remoteUsers.find(dQ=>dQ.uid===IQ);if(CQ){let dQ;EQ.error_code||EQ.video_error_code&&EQ.audio_error_code?dQ=void 0:EQ.video_error_code?dQ=Yb.VIDEO:EQ.audio_error_code&&(dQ=Yb.AUDIO),cQ.push({user:CQ,mediaType:dQ})}}),cQ.length>0&&await this._p2pChannel.massUnsubscribeNoLock(cQ)}for(const cQ of oQ){const gQ=aQ.get(cQ.user.uid);if(gQ){const IQ=gQ.error_code||cQ.mediaType==="audio"&&gQ.audio_error_code||cQ.mediaType==="video"&&gQ.video_error_code;if(IQ){const EQ=pw(IQ);Qy.error("user:".concat(cQ.user.uid," mediaType:").concat(cQ.mediaType," has massSubscribe error ").concat(EQ.desc)),cQ.error=new Sb(nv.SUBSCRIBE_FAILED,"code ".concat(IQ,": ").concat(EQ.desc))}}cQ.error||(cQ.mediaType==="video"?cQ.track=cQ.user.videoTrack:cQ.track=cQ.user.audioTrack)}return this.store.massSubscribe(oQ.filter(cQ=>!cQ.error).map(cQ=>({userId:cQ.user.uid,type:cQ.mediaType})),void 0,Date.now()),oQ.forEach(cQ=>{var gQ;sA.subscribe(this.store.sessionId,{succ:!!cQ.error,ec:((gQ=cQ.error)===null||gQ===void 0?void 0:gQ.code)||null,video:cQ.mediaType===Yb.VIDEO,audio:cQ.mediaType===Yb.AUDIO,peerid:cQ.user.uid,subscribeRequestid:cQ.mediaType===Yb.VIDEO?cQ.user._videoSSRC:cQ.user._audioSSRC,p2pid:this.store.p2pId,eventElapse:Math.floor(performance.now()-eQ),preSsrc:this._p2pChannel.isPreSubScribe(cQ.user._videoSSRC)},!0)}),Qy.info("[".concat(this._clientId,"] massSubscribe success ").concat(tQ.map(cQ=>{let{user:gQ,mediaType:IQ}=cQ;return"user: ".concat(gQ==null?void 0:gQ.uid,", mediaType: ").concat(IQ)}).join("; "))),oQ}catch(aQ){throw await this._p2pChannel.massUnsubscribeNoLock(tQ),aQ}}finally{rQ(),iQ()}}async unsubscribe(tQ,eQ,AQ){if(!(tQ instanceof iV)){const rQ=this.remoteUsers.find(nQ=>nQ.uid===tQ);if(!rQ)throw new Sb(nv.INVALID_REMOTE_USER,"user is not in the channel");tQ=rQ}if(eQ||this.store.useP2P){if(eQ==="datachannel")return this._unsubscribeDataChannel(tQ,AQ)}else await this._unsubscribeDataChannel(tQ,AQ);if(eQ&&sv(eQ,"mediaType",["audio","video"]),!this._joinInfo)throw new Sb(nv.INVALID_OPERATION,"Can't unsubscribe stream, haven't joined yet!");if(!this._users.find(rQ=>rQ===tQ)){const rQ=new Sb(nv.INVALID_REMOTE_USER,"user is not in the channel");throw Qy.error("[".concat(this._clientId,"] can not unsubscribe ").concat(tQ.uid,", user is not in the channel")),rQ}Qy.info("[".concat(this._clientId,"] unsubscribe uid: ").concat(tQ.uid,", mediaType: ").concat(eQ));const oQ=await this._subscribeMutex.lock();try{if(this._p2pChannel instanceof RV)await this._p2pChannel.unsubscribe(tQ,eQ);else{const rQ=await this._p2pChannel.unsubscribe(tQ,eQ);rQ&&await this._gateway.unsubscribe(rQ,tQ.uid),eQ&&eQ!=="audio"||(tQ._audio_pre_subscribed=!1),eQ&&eQ!=="video"||(tQ._video_pre_subscribed=!1),tQ._is_pre_created&&Fv(this._users,tQ),Qy.info("[".concat(this._clientId,"] unsubscribe success uid: ").concat(tQ.uid,", mediaType: ").concat(eQ))}}catch(rQ){if(rQ.code===nv.DISCONNECT_P2P)return void Qy.warning("disconnecting p2p, abort unsubscribe request.");throw Qy.error("[".concat(this._clientId,"] unsubscribe user ").concat(tQ.uid," error"),rQ.toString()),rQ}finally{oQ()}}async _unsubscribeDataChannel(tQ,eQ){if(eQ&&av(eQ,"id",0,65535,!0),!this._joinInfo)throw new Sb(nv.INVALID_OPERATION,"Can't unsubscribe datachannel, haven't joined yet!");if(!this._users.find(oQ=>oQ===tQ)){const oQ=new Sb(nv.INVALID_REMOTE_USER,"user is not in the channel");throw Qy.error("[".concat(this._clientId,"] can not unsubscribe ").concat(tQ.uid,", user is not in the channel")),oQ}let iQ;if(typeof eQ=="number"){const oQ=tQ._dataChannels.find(rQ=>rQ.id===eQ);oQ&&(iQ=[oQ])}else iQ=tQ._dataChannels;if(iQ===void 0){const oQ=new Sb(nv.REMOTE_USER_IS_NOT_PUBLISHED);throw Qy.error("[".concat(this._clientId,"] can not unsubscribe ").concat(tQ.uid," with channelId ").concat(eQ,", remote datachannel is not published")),oQ}Qy.info("[".concat(this._clientId,"] unsubscribe uid: ").concat(tQ.uid,", mediaType: datachannel, ids: ").concat(iQ.map(oQ=>oQ.id)));try{const oQ=await this._p2pChannel.unsubscribeDataChannel(tQ,iQ);oQ&&await this._gateway.unsubscribeDataChannel(oQ,tQ.uid),Qy.info("[".concat(this._clientId,"] unsubscribe datachannel success uid: ").concat(tQ.uid,", mediaType: datachannel, ids: ").concat(oQ))}catch(oQ){if(oQ.code===nv.DISCONNECT_P2P)return void Qy.warning("disconnecting p2p, abort unsubscribe request.");throw Qy.error("[".concat(this._clientId,"] unsubscribe user ").concat(tQ.uid," error"),oQ.toString()),oQ}}async massUnsubscribe(tQ){if(lv(tQ,"unsubscribeList"),!this._joinInfo)throw new Sb(nv.INVALID_OPERATION,"Can't unsubscribeAll stream, haven't joined yet!");Qy.info("[".concat(this._clientId,"] start massUnsubscribe ").concat(tQ.map(AQ=>{let{user:iQ,mediaType:oQ}=AQ;return"user: ".concat(iQ==null?void 0:iQ.uid,", mediaType: ").concat(oQ,";")}).join())),tQ=[...tQ];const eQ=new Map;for(let AQ=tQ.length-1;AQ>=0;AQ--){const{user:iQ,mediaType:oQ}=tQ[AQ];if(!iQ){const sQ=new Sb(nv.INVALID_PARAMS,"user property does not exist in unsubscribeList item");throw Qy.error("[".concat(this._clientId,"] user property does not exist in unsubscribeList item")),sQ}if(sv(oQ,"mediaType",["video","audio",void 0]),!this._users.find(sQ=>sQ===iQ)){Qy.warning("[".concat(this._clientId,"] can not unsubscribe ").concat(iQ.uid,", user is not in the channel")),tQ.splice(AQ,1);continue}const nQ=Vb.Video|Vb.LwoVideo;if(eQ.has(iQ)){const sQ=eQ.get(iQ);let aQ;switch(oQ){case"video":aQ=sQ&nQ;break;case"audio":aQ=sQ&Vb.Audio;break;default:aQ=sQ&(Vb.Audio|nQ)}if(aQ){Qy.warning("[".concat(this._clientId,"] repeat massUnsubscribe user:").concat(iQ.uid,",mediaType:").concat(oQ," twice.")),tQ.splice(AQ,1);continue}oQ?oQ==="audio"?eQ.set(iQ,sQ|Vb.Audio):oQ==="video"&&eQ.set(iQ,sQ|nQ):eQ.set(iQ,sQ|Vb.Audio|nQ)}else oQ?oQ==="audio"?eQ.set(iQ,Vb.Audio):oQ==="video"&&eQ.set(iQ,nQ):eQ.set(iQ,Vb.Audio|nQ)}try{const AQ=await this._p2pChannel.massUnsubscribe(tQ);AQ&&await this._gateway.massUnsubscribe(AQ),Qy.info("[".concat(this._clientId,"] massUnsubscribe success ").concat(tQ.map(iQ=>{let{user:oQ,mediaType:rQ}=iQ;return"user: ".concat(oQ==null?void 0:oQ.uid,", mediaType: ").concat(rQ,";")}).join()))}catch(AQ){if(AQ.code===nv.DISCONNECT_P2P)return void Qy.warning("[".concat(this._clientId,"] disconnecting p2p, abort unsubscribe request."));throw Qy.error("[".concat(this._clientId,"] massUnsubscribe error"),AQ.toString()),AQ}}async setLowStreamParameter(tQ){(function(AQ){if(!AQ)throw new rv(nv.INVALID_PARAMS);uv(AQ.width)||cv(AQ.width,"streamParameter.width"),uv(AQ.height)||cv(AQ.height,"streamParameter.height"),uv(AQ.framerate)||cv(AQ.framerate,"streamParameter.framerate"),uv(AQ.bitrate)||av(AQ.bitrate,"streamParameter.bitrate")})(tQ),(!tQ.width&&tQ.height||tQ.width&&!tQ.height)&&Qy.warning("[".concat(this._clientId,"] The width and height parameters take effect only when both are set")),Qy.info("[".concat(this._clientId,"] set low stream parameter to"),JSON.stringify(tQ));const eQ=this._configDistribute.getLowStreamConfigDistribute();if(eQ&&eQ.bitrate&&tQ.bitrate&&eQ.bitrate<tQ.bitrate&&(tQ.bitrate=eQ.bitrate),this._lowStreamParameter=tQ,this._isDualStreamEnabled)return this._p2pChannel.updateVideoStreamParameter(tQ,Jb.LocalVideoLowTrack)}async enableDualStream(){if(!MD().supportDualStream)throw sA.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),new Sb(nv.NOT_SUPPORTED,"Your browser is not support dual stream");if(this._isDualStreamEnabled)throw new Sb(nv.INVALID_OPERATION,"Dual stream is already enabled");if(this._p2pChannel.canPublishLowStream())try{await this._publishLowStream()}catch(tQ){throw sA.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),tQ}this._isDualStreamEnabled=!0,sA.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!0}),Qy.info("[".concat(this._clientId,"] enable dual stream"))}async disableDualStream(){if(this._isDualStreamEnabled){if(!this._joinInfo)throw new Sb(nv.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");if(this._p2pChannel.getLocalMedia(Jb.LocalVideoLowTrack))try{const tQ=await this._p2pChannel.unpublishLowStream();tQ&&await this._gateway.unpublish(tQ,this._joinInfo.stringUid||this._joinInfo.uid)}catch(tQ){throw sA.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!1}),tQ}this._isDualStreamEnabled=!1,sA.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!0}),Qy.info("[".concat(this._clientId,"] disable dual stream"))}}async setClientRole(tQ,eQ){if(function(AQ){sv(AQ,"role",["audience","host"])}(tQ),eQ&&Ov(eQ),this.mode==="rtc"||this.mode==="p2p")throw Qy.warning("[".concat(this._clientId,"]").concat(this.mode," mode can not use setClientRole")),new Sb(nv.INVALID_OPERATION,"".concat(this.mode," mode can not use setClientRole"));if(eQ&&eQ.level&&tQ==="host")throw new Sb(nv.INVALID_OPERATION,"host mode can not set audience latency level");if(tQ==="audience"&&this._p2pChannel.hasLocalMedia())throw new Sb(nv.INVALID_OPERATION,"can not set client role to audience when publishing stream");await this._gateway.setClientRole(tQ,eQ),this._config.role=tQ,Qy.info("[".concat(this._clientId,"] set client role to ").concat(tQ,", level: ").concat(eQ&&eQ.level))}getRemoteInboundOffset(){var tQ;const eQ=(tQ=this._p2pChannel.getStats())===null||tQ===void 0?void 0:tQ.audioSend[0];if(!eQ||!eQ.timestamp)return 0;const AQ=eQ.timestamp-Date.now();return Math.abs(AQ)>1e3+eQ.rttMs+100?this.ntpAlignErrorCount+=1:this.ntpAlignErrorCount=0,this.ntpAlignErrorCount>=3?AQ:0}getNtpWallTimeInMs(){return document.visibilityState==="visible"&&(this.remoteInboundOffset=this.getRemoteInboundOffset()),this.remoteInboundOffset+Date.now()+this._gateway.ntpOffset}setProxyServer(tQ,eQ){if(dv(tQ,"proxyServer"),!eQ){if(this.connectionState!=="DISCONNECTED")throw new Sb(nv.INVALID_OPERATION,"Set proxy server before join channel");if(this._cloudProxyServerMode!=="disabled"||this._useLocalAccessPoint)throw new Sb(nv.INVALID_OPERATION,"You have already set the proxy")}this._proxyServer=tQ,sA.setProxyServer(this._proxyServer),Qy.setProxyServer(this._proxyServer),Qy.info("[".concat(this._clientId,"] Set proxy server ").concat(eQ?"by initialize call":""," success."))}setTurnServer(tQ,eQ){if(Array.isArray(tQ)||(tQ=[tQ]),!eQ){if(this.connectionState!=="DISCONNECTED")throw new Sb(nv.INVALID_OPERATION,"Set turn server before join channel");if(this._cloudProxyServerMode!=="disabled"||this._useLocalAccessPoint)throw new Sb(nv.INVALID_OPERATION,"You have already set the proxy")}if(bv(tQ))return this._turnServer={servers:tQ,mode:"original-manual"},void Qy.info("[".concat(this._clientId,"] Set original turnserver ").concat(eQ?"by initialize call":""," success: ").concat(tQ.map(AQ=>AQ.urls).join(","),"."));tQ.forEach(AQ=>wv(AQ)),this._turnServer={servers:tQ,mode:"manual"},Qy.info("[".concat(this._clientId,"] Set turnserver ").concat(eQ?"by initialize call":""," success."))}setLicense(tQ){if(this.connectionState!=="DISCONNECTED")throw new Sb(nv.INVALID_OPERATION,"you should set license before join channel");if(dv(tQ,"license",32,32),!/^[A-Za-z\d]+$/.test(tQ))throw new Sb(nv.INVALID_PARAMS,"license should only contains characters from A-Z a-z 0-9");this._license=tQ,Qy.info("[".concat(this._clientId,"] set license success"),tQ)}startProxyServer(tQ){if(this.connectionState!=="DISCONNECTED")throw new Sb(nv.INVALID_OPERATION,"Start proxy server before join channel");if(this._proxyServer||this._turnServer.mode==="manual"||this._useLocalAccessPoint)throw new Sb(nv.INVALID_OPERATION,"You have already set the proxy");const eQ=[3,4,5];let AQ;switch(tQ===void 0&&(tQ=3),tQ){case 1:case 2:throw new Sb(nv.NOT_SUPPORTED,"proxy mode 1/2 has been deprecated and not supported.");case 3:AQ="proxy3";break;case 4:AQ="proxy4";break;case 5:AQ="proxy5";break;default:throw new Sb(nv.INVALID_PARAMS,"proxy server mode must be ".concat(eQ.join("|")))}this._cloudProxyServerMode=AQ,this.store.cloudProxyServerMode=AQ,Qy.info("[".concat(this._clientId,"] set cloud proxy server mode to"),this._cloudProxyServerMode)}stopProxyServer(){if(this.connectionState!=="DISCONNECTED")throw new Sb(nv.INVALID_OPERATION,"Stop proxy server after leave channel");sA.setProxyServer(),Qy.setProxyServer(),this._cloudProxyServerMode="disabled",this.store.cloudProxyServerMode="disabled",Qy.info("[".concat(this._clientId,"] set cloud proxy server mode to"),this._cloudProxyServerMode),this._proxyServer=void 0,this._turnServer={mode:"auto",servers:[]}}setLocalAccessPointsV2(tQ){if(!tQ.accessPoints)throw new Sb(nv.INVALID_PARAMS,"accessPoints is required.");lv(tQ.accessPoints.serverList,"accessPoints.serverList"),dv(tQ.accessPoints.domain,"accessPoints.domain");const eQ=(EQ,CQ)=>{av(EQ,CQ,0,65535,!0)};let AQ=443;if(tQ.accessPoints.port&&(eQ(tQ.accessPoints.port,"accessPoints.port"),AQ=tQ.accessPoints.port),this._proxyServer||this._cloudProxyServerMode!=="disabled")throw new Sb(nv.INVALID_OPERATION,"set local access point failed, You have already set the cloud proxy");Dy("CLOSE_AFB_FOR_LOCAL_AP")&&(Ny("JOIN_WITH_FALLBACK_SIGNAL_PROXY",!1),Ny("JOIN_WITH_FALLBACK_MEDIA_PROXY",!1));const iQ=/^((\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.){3}(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/,oQ=tQ.accessPoints.domain,rQ=tQ.accessPoints.serverList.map(EQ=>iQ.test(EQ)?"".concat(EQ.replace(/\./g,"-"),".").concat(oQ):EQ),nQ=rQ.map(EQ=>"".concat(EQ,":").concat(AQ));this._useLocalAccessPoint=!0,this._setLocalAPVersion=2,Ny("WEBCS_DOMAIN",nQ),Ny("WEBCS_DOMAIN_BACKUP_LIST",nQ),Ny("GATEWAY_DOMAINS",[oQ]),tQ.report&&tQ.report.hostname&&Array.isArray(tQ.report.hostname)&&tQ.report.hostname.length?(lv(tQ.report.hostname,"report.hostname"),Ny("EVENT_REPORT_DOMAIN",tQ.report.hostname[0]),Ny("EVENT_REPORT_BACKUP_DOMAIN",tQ.report.hostname[1]||tQ.report.hostname[0])):(Ny("EVENT_REPORT_DOMAIN",rQ[0]),Ny("EVENT_REPORT_BACKUP_DOMAIN",rQ[1]||rQ[0]));let sQ=6443;tQ.report&&tQ.report.port&&(eQ(tQ.report.port,"report.port"),sQ=tQ.report.port),Ny("STATS_COLLECTOR_PORT",sQ),tQ.report?Ny("ENABLE_EVENT_REPORT",!0):Ny("ENABLE_EVENT_REPORT",!1);let aQ="";tQ.log&&tQ.log.hostname&&Array.isArray(tQ.log.hostname)&&tQ.log.hostname.length?(lv(tQ.log.hostname,"log.hostname"),aQ=tQ.log.hostname[0]):aQ=rQ[0];let cQ=6444;tQ.log&&tQ.log.port&&(eQ(tQ.log.port,"log.port"),cQ=tQ.log.port),Ny("LOG_UPLOAD_SERVER","".concat(aQ,":").concat(cQ));let gQ=[];tQ.cds&&tQ.cds.hostname&&Array.isArray(tQ.cds.hostname)&&tQ.cds.hostname.length?(lv(tQ.cds.hostname,"cds.hostname"),gQ=tQ.cds.hostname):gQ=rQ;let IQ=443;tQ.cds&&tQ.cds.port&&(eQ(tQ.cds.port,"cds.port"),IQ=tQ.cds.port),Ny("CDS_AP",gQ.map(EQ=>"".concat(EQ,":").concat(IQ))),tQ.cds?Ny("ENABLE_CONFIG_DISTRIBUTE",!0):Ny("ENABLE_CONFIG_DISTRIBUTE",!1),Qy.info("set local access point v2 success")}setLocalAccessPoints(tQ,eQ){if(lv(tQ,"serverList"),dv(eQ,"domain"),this._proxyServer||this._cloudProxyServerMode!=="disabled")throw new Sb(nv.INVALID_OPERATION,"set local access point failed, You have already set the cloud proxy");const AQ=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;tQ=tQ.map(iQ=>AQ.test(iQ)?"".concat(iQ.replace(/\./g,"-"),".").concat(eQ):iQ),this._useLocalAccessPoint=!0,this._setLocalAPVersion=1,Ny("WEBCS_DOMAIN",tQ),Ny("WEBCS_DOMAIN_BACKUP_LIST",tQ),Ny("GATEWAY_DOMAINS",[eQ]),Ny("EVENT_REPORT_DOMAIN",tQ[0]),Ny("EVENT_REPORT_BACKUP_DOMAIN",tQ[1]||tQ[0]),Ny("LOG_UPLOAD_SERVER","".concat(tQ[0],":6444")),Qy.info("[".concat(this._clientId,"] set local access point success"))}async setRemoteDefaultVideoStreamType(tQ){if(sv(tQ,"streamType",[0,1]),this._remoteDefaultVideoStreamType=tQ,this._joinInfo)try{await this._gateway.setDefaultRemoteVideoStreamType(tQ),this._joinInfo.defaultVideoStream=this._remoteDefaultVideoStreamType}catch(eQ){throw Qy.error("[".concat(this._clientId,"] set default remote video stream type error"),eQ.toString()),eQ}else Qy.debug("[".concat(this._clientId,"] haven't joined yet, cache remoteDefaultVideoStreamType ").concat(tQ))}async setRemoteVideoStreamType(tQ,eQ){sv(eQ,"streamType",[0,1]);try{await this._gateway.setRemoteVideoStreamType(tQ,eQ),setTimeout(()=>{const AQ=this._users.find(iQ=>iQ.uid===tQ);AQ&&AQ.videoTrack&&AQ.videoTrack.updateMediaStreamTrackResolution()},2e3)}catch(AQ){throw Qy.error("[".concat(this._clientId,"] set remote video stream type error"),AQ.toString()),AQ}Qy.info("[".concat(this._clientId,"] set remote ").concat(tQ," video stream type to ").concat(eQ)),this._remoteStreamTypeCacheMap.set(tQ,eQ)}async setStreamFallbackOption(tQ,eQ){sv(eQ,"fallbackType",[0,1,2]);try{await this._gateway.setStreamFallbackOption(tQ,eQ)}catch(AQ){throw Qy.error("[".concat(this._clientId,"] set stream fallback option"),AQ.toString()),AQ}Qy.info("[".concat(this._clientId,"] set remote ").concat(tQ," stream fallback type to ").concat(eQ)),this._streamFallbackTypeCacheMap.set(tQ,eQ)}setEncryptionConfig(tQ,eQ,AQ,iQ){(function(rQ){sv(rQ,"encryptionMode",["aes-128-xts","aes-256-xts","aes-128-ecb","sm4-128-ecb","aes-128-gcm","aes-256-gcm","aes-128-gcm2","aes-256-gcm2","none"])})(tQ),dv(eQ,"secret");const oQ=["aes-128-gcm2","aes-256-gcm2"];if(Dn(oQ).call(oQ,tQ)){if(!AQ||!(AQ instanceof Uint8Array&&AQ.length===32))throw new Sb(nv.INVALID_PARAMS,"salt must be an Uint8Array and exactly equal to 32 bytes")}else if(AQ)throw new Sb(nv.INVALID_PARAMS,"current encrypt mode does not need salt");if(iQ){if(ov(iQ,"encryptDataStream"),!Dn(oQ).call(oQ,tQ))throw new Sb(nv.INVALID_PARAMS,"current encrypt mode does not support data stream");this._encryptDataStream=!0}new RegExp(`^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*,.<>?/:;'"|{}\\[\\]])(?=.{8,})`).test(eQ)||Qy.warning(`The secret is not strong:
      The secret must contain at least 1 lowercase alphabetical character,
      The secret must contain at least 1 uppercase alphabetical character,
      The secret must contain at least 1 numeric character,
      The secret must contain at least one special character,
      The secret must be eight characters or longer.
      `),this._encryptionMode=tQ,this._encryptionSecret=eQ,AQ&&(this._encryptionSalt=qv(AQ))}async renewToken(tQ){if(dv(tQ,"token",1,2047),!this._key||!this._joinInfo)throw new Sb(nv.INVALID_OPERATION,"renewToken should not be called before user join");const eQ=this._key;this._key=tQ,this._joinInfo&&(this._joinInfo.token=tQ);const AQ=await this._renewTokenMutex.lock();try{if(Dy("USE_NEW_TOKEN")){Qy.debug("[".concat(this._clientId,"] start renew token with ticket from unilbs"));const iQ=await MU(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||_y);Qy.debug("[".concat(this._clientId,"] get ticket from unilbs success")),await this._gateway.renewToken({token:tQ,ticket:iQ})}else Qy.debug("[".concat(this._clientId,"] start renew token without ticket")),await this._gateway.renewToken({token:tQ});Qy.debug("[".concat(this._clientId,"] renewToken success"))}catch(iQ){throw this._key=eQ,this._joinInfo.token=eQ,Qy.error("[".concat(this._clientId,"] renewToken failed"),iQ.toString()),iQ}finally{AQ()}}enableAudioVolumeIndicator(){this._audioVolumeIndicationInterval?Qy.warning("you have already enabled audio volume indicator!"):this._audioVolumeIndicationInterval=window.setInterval(()=>{const tQ=this._p2pChannel.getAudioLevels();this.safeEmit(Nv.VOLUME_INDICATOR,tQ)},Dy("AUDIO_VOLUME_INDICATION_INTERVAL")||2e3)}getRTCStats(){const tQ=this._statsCollector.getRTCStats(),eQ=this._gateway.getInChannelInfo();return tQ.Duration=Math.round(eQ.duration/1e3),tQ}async startLiveStreaming(tQ,eQ){if(!eQ){if(this.codec!=="h264")throw new Sb(nv.LIVE_STREAMING_INVALID_RAW_STREAM,"raw streaming is only support h264");if(!this._p2pChannel.hasLocalMedia())throw new Sb(nv.LIVE_STREAMING_INVALID_RAW_STREAM,"can not find stream to raw streaming")}if(this._liveRawStreamingClient&&this._liveRawStreamingClient.hasUrl(tQ)||this._liveTranscodeStreamingClient&&this._liveTranscodeStreamingClient.hasUrl(tQ))throw new Sb(nv.LIVE_STREAMING_TASK_CONFLICT);const AQ=eQ?Cb.TRANSCODE:Cb.RAW;return this._createLiveStreamingClient(AQ).startLiveStreamingTask(tQ,AQ)}setLiveTranscoding(tQ){return this._createLiveStreamingClient(Cb.TRANSCODE).setTranscodingConfig(tQ)}async stopLiveStreaming(tQ){const eQ=[this._liveRawStreamingClient,this._liveTranscodeStreamingClient].filter(AQ=>AQ&&AQ.hasUrl(tQ));if(!eQ.length)throw new Sb(nv.INVALID_PARAMS,"can not find live streaming url to stop");await Gh.all(eQ.map(AQ=>AQ&&AQ.stopLiveStreamingTask(tQ)))}async startChannelMediaRelay(tQ){bV(tQ),await this._createChannelMediaRelayClient().startChannelMediaRelay(tQ)}async updateChannelMediaRelay(tQ){bV(tQ),await this._createChannelMediaRelayClient().updateChannelMediaRelay(tQ)}async stopChannelMediaRelay(){await this._createChannelMediaRelayClient().stopChannelMediaRelay(),this._statsCollector.onStatsChanged&&(this._statsCollector.onStatsChanged=void 0)}async sendStreamMessage(tQ){var eQ;let AQ=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(!this._joinInfo)throw new Sb(nv.INVALID_OPERATION,"can not send data stream, not joined");if((typeof tQ=="string"||tQ instanceof Uint8Array)&&(tQ={payload:tQ}),typeof tQ.payload=="string"){const oQ=new TextEncoder;tQ.payload=oQ.encode(tQ.payload)}let iQ=!1;if(this._encryptDataStream&&this._encryptDataStreamIv&&this._encryptDataStreamKey&&window.crypto.subtle&&Dn(eQ=["aes-128-gcm2","aes-256-gcm2"]).call(eQ,this._encryptionMode)&&(iQ=!0,tQ.payload=await async function(oQ,rQ,nQ){var sQ;const aQ=Jn(sQ=Array.from(nQ)).call(sQ,(lQ,uQ)=>lQ+uQ,0),cQ={serverTs:0,seq:By++,length:nQ.length,checkSum:aQ},gQ=new Uint8Array(ay(aQ,2)),IQ=new ArrayBuffer(Fy),EQ=new DataView(IQ);EQ.setUint32(0,cQ.serverTs),EQ.setUint16(4,cQ.seq),EQ.setUint16(6,cQ.length),EQ.setUint16(8,cQ.checkSum);const CQ=16-nQ.length%16;nQ=Jv(nQ,new Uint8Array(CQ));const dQ=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:oQ,tagLength:Uy,additionalData:gQ},rQ,nQ);return Jv(new Uint8Array(IQ),new Uint8Array(dQ))}(this._encryptDataStreamIv,this._encryptDataStreamKey,tQ.payload)),new Blob([tQ.payload]).size>1024)throw new Sb(nv.INVALID_PARAMS,iQ?"encrypted stream message out of range.":"stream message out of range.");return this._gateway.signal.request(_b.DATA_STREAM,{payload:qv(tQ.payload),syncWithAudio:tQ.syncWithAudio,sendTs:Date.now()-gF},!AQ)}sendMetadata(tQ){if(!this._joinInfo)throw new Sb(nv.INVALID_OPERATION,"can not send metadata, not joined");if(new Blob([tQ]).size>1024)throw new Sb(nv.METADATA_OUT_OF_RANGE);return this._gateway.signal.request(_b.SEND_METADATA,{session_id:this._joinInfo.sid,metadata:qv(tQ)})}async sendCustomReportMessage(tQ){if(Array.isArray(tQ)||(tQ=[tQ]),tQ.forEach($y),!this._joinInfo)throw new Sb(nv.INVALID_OPERATION,"can not send custom report, not joined");await sA.sendCustomReportMessage(this._joinInfo.sid,tQ)}getLocalAudioStats(){return this._statsCollector.getLocalAudioTrackStats()}getRemoteAudioStats(){return this._statsCollector.getRemoteAudioTrackStats()}getLocalVideoStats(){return this._statsCollector.getLocalVideoTrackStats()}getRemoteVideoStats(){return this._statsCollector.getRemoteVideoTrackStats()}getRemoteNetworkQuality(){return this._statsCollector.getRemoteNetworkQualityStats()}async pickSVCLayer(tQ,eQ){sv(eQ.spatialLayer,"spatialLayer",[0,1,2,3]),sv(eQ.temporalLayer,"temporalLayer",[0,1,2,3]);try{await this._gateway.pickSVCLayer(tQ,eQ)}catch(AQ){throw Qy.error("[".concat(this._clientId,"] pick SVC layer failed"),AQ.toString()),AQ}}async setRTMConfig(tQ){const{apRTM:eQ=!1,rtmFlag:AQ}=tQ;if(ov(eQ,"apRTM"),av(AQ,"rtmFlag",0),this._rtmConfig.apRTM=eQ,this._rtmConfig.rtmFlag=AQ,Qy.debug("[".concat(this._clientId,"] setRTMconfig ").concat(JSON.stringify(tQ)," in ").concat(this.connectionState," state")),(this.connectionState==="CONNECTED"||this.connectionState==="RECONNECTING")&&this._joinInfo)return this._joinInfo.apRTM=eQ,this._joinInfo.rtmFlag=AQ,this._gateway.setRTM2Flag(AQ)}_reset(){if(Qy.debug("[".concat(this._clientId,"] reset client")),this._axiosCancelSource.cancel(),this._axiosCancelSource=EI.CancelToken.source(),this._streamFallbackTypeCacheMap=new Map,this._remoteStreamTypeCacheMap=new Map,this._configDistribute.stopGetConfigDistribute(),this._joinInfo&&KF(this._joinInfo),this._joinInfo=void 0,this._proxyServer=void 0,this._defaultStreamFallbackType=void 0,this._sessionId=null,this.store.sessionId=null,this._statsCollector.reset(),this._key=void 0,this._appId=void 0,this._uid=void 0,this.store.uid=void 0,this._channelName=void 0,this._encryptionMode="none",this._encryptionSecret=null,this._encryptionSalt=null,this._encryptDataStreamKey=null,this._encryptDataStreamIv=null,this._pendingPublishedUsers=[],this._users.forEach(tQ=>{tQ._audioTrack&&tQ._audioTrack._destroy(),tQ._videoTrack&&tQ._videoTrack._destroy(),tQ._dataChannels&&(tQ._dataChannels.forEach(eQ=>eQ._close()),tQ._dataChannels.length=0)}),this._users=[],this._audioVolumeIndicationInterval&&(window.clearInterval(this._audioVolumeIndicationInterval),this._audioVolumeIndicationInterval=void 0),this._cloudProxyServerMode==="fallback"&&(this._cloudProxyServerMode="disabled",this.store.cloudProxyServerMode="disabled"),this._p2pChannel.reset(),this._publishMutex=new hy("client-publish"),this._subscribeMutex=new hy("client-subscribe"),this._networkQualityInterval&&(window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=void 0),this._liveRawStreamingClient&&(this._liveRawStreamingClient.terminate(),this._liveRawStreamingClient.removeAllListeners(),this._liveRawStreamingClient=void 0),this._liveTranscodeStreamingClient&&(this._liveTranscodeStreamingClient.terminate(),this._liveTranscodeStreamingClient.removeAllListeners(),this._liveTranscodeStreamingClient=void 0),this._channelMediaRelayClient&&(this._channelMediaRelayClient.dispose(),this._channelMediaRelayClient=void 0),this._inspect)try{this._inspect.close(),this._inspect=void 0}catch{}if(this._moderation)try{this.setImageModeration(!1)}catch{}}_startSession(tQ,eQ){var AQ;const iQ=tQ||ty();tQ?Qy.debug("[".concat(this._clientId,"] new Session ").concat(iQ)):Qy.debug("[".concat(this._clientId,"] renewSession ").concat(this._sessionId," => ").concat(iQ));const oQ=tQ?"":this._sessionId||"";this._sessionId=iQ,this.store.sessionId=iQ;const rQ={lts:new Date().getTime(),mode:this.mode,buildFormat:2,stringUid:(eQ==null?void 0:eQ.stringUid)||((AQ=this._joinInfo)===null||AQ===void 0?void 0:AQ.stringUid),channelProfile:this.mode==="live"?1:0,channelMode:0,isABTestSuccess:Number(this._configDistribute.isSuccess),lsid:oQ,clientRole:this.role==="audience"?2:1};sA.sessionInit(this._sessionId,Sj({cname:eQ.channel,appid:eQ.appId},rQ)),this._joinInfo&&(this._joinInfo.sid=iQ),this._gateway.joinInfo&&(this._gateway.joinInfo.sid=iQ)}async _publishHighStream(tQ){if(!this._joinInfo||this._uid===void 0)throw new Sb(nv.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");if(this.connectionState!=="CONNECTED"&&this.connectionState!=="RECONNECTING")throw new Sb(nv.INVALID_OPERATION,"can not publish stream in ".concat(this.connectionState," state"));if(this._turnServer.mode==="auto"&&Dy("FORCE_TURN")&&!Dy("TURN_ENABLE_TCP")&&!Dy("TURN_ENABLE_UDP"))throw new Sb(nv.UNEXPECTED_ERROR,"force TURN With No TURN Configuration");Qy.debug("[".concat(this._clientId,"] publish high stream"));try{const AQ=await this._p2pChannel.publish(tQ,this._isDualStreamEnabled,this._lowStreamParameter);if(this._p2pChannel instanceof RV){const iQ=(await AQ.next()).value;if(iQ){try{await this._gateway.sendExtensionMessage(sw.PUBLISH,iQ,!0)}catch(oQ){throw AQ.throw(oQ),oQ}await AQ.next()}this._p2pChannel.reportPublishEvent(!0,null)}else{const iQ=(await AQ.next()).value;if(iQ){var eQ;let oQ;try{oQ=await this._gateway.publish(this._uid,iQ,!0)}catch(rQ){if(rQ.code!==nv.DISCONNECT_P2P)throw AQ.throw(rQ),rQ}await AQ.next(((eQ=oQ)===null||eQ===void 0?void 0:eQ.ortc)||[])}this._p2pChannel.reportPublishEvent(!0,null);for(const oQ of tQ)oQ instanceof Hk&&oQ._encoderConfig&&this._gateway.setVideoProfile(oQ._encoderConfig),!oQ.muted&&oQ.enabled||await this._p2pChannel.muteLocalTrack(oQ)}}catch(AQ){if(this._p2pChannel.reportPublishEvent(!1,AQ==null?void 0:AQ.code,tQ),(AQ==null?void 0:AQ.code)===nv.WS_ABORT)return;throw AQ}}async _publishLowStream(){if(!this._joinInfo||this._uid===void 0)throw new Sb(nv.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");if(this.connectionState!=="CONNECTED"&&this.connectionState!=="RECONNECTING")throw new Sb(nv.INVALID_OPERATION,"can not publish stream in ".concat(this.connectionState," state"));Qy.debug("[".concat(this._clientId,"] publish low stream"));const tQ=this._configDistribute.getLowStreamConfigDistribute();tQ&&tQ.bitrate&&(this._lowStreamParameter||(this._lowStreamParameter={width:160,height:120,framerate:15,bitrate:50}),this._lowStreamParameter&&this._lowStreamParameter.bitrate&&tQ.bitrate<this._lowStreamParameter.bitrate&&(this._lowStreamParameter.bitrate=tQ.bitrate));try{const AQ=await this._p2pChannel.publishLowStream(this._lowStreamParameter),iQ=(await AQ.next()).value;if(iQ){var eQ;let oQ;try{oQ=await this._gateway.publish(this._uid,iQ,!0)}catch(rQ){if(rQ.code!==nv.DISCONNECT_P2P)throw AQ.throw(rQ),rQ}AQ.next(((eQ=oQ)===null||eQ===void 0?void 0:eQ.ortc)||[]),this._p2pChannel.reportPublishEvent(!0,null,void 0,!0)}}catch(AQ){if(this._p2pChannel.reportPublishEvent(!1,AQ==null?void 0:AQ.code,void 0,!0),(AQ==null?void 0:AQ.code)===nv.WS_ABORT)return;throw AQ}}_createLiveStreamingClient(tQ){const eQ=()=>{if(!this._joinInfo||!this._appId)return new Sb(nv.INVALID_OPERATION,"can not create live streaming client, please join channel first").throw();const AQ=(iQ={joinInfo:this._joinInfo,appId:this._appId,websocketRetryConfig:this._config.websocketRetryConfig,httpRetryConfig:this._config.httpRetryConfig},mF("LiveStreaming").create(iQ));var iQ;return AQ.onLiveStreamError=(oQ,rQ)=>{sA.reportApiInvoke(this._sessionId,{name:Cv.ON_LIVE_STREAM_ERROR,options:[oQ,rQ],tag:Iv.TRACER}).onSuccess(),this.safeEmit(Nv.LIVE_STREAMING_ERROR,oQ,rQ)},AQ.onLiveStreamWarning=(oQ,rQ)=>{sA.reportApiInvoke(this._sessionId,{name:Cv.ON_LIVE_STREAM_WARNING,options:[oQ,rQ],tag:Iv.TRACER}).onSuccess(),this.safeEmit(Nv.LIVE_STREAMING_WARNING,oQ,rQ)},AQ.on(wb.REQUEST_WORKER_MANAGER_LIST,(oQ,rQ,nQ)=>{if(!this._joinInfo)return nQ(new Sb(nv.INVALID_OPERATION,"can not find join info to get worker manager"));(async function(sQ,aQ,cQ,gQ){const IQ=Dy("UAP_AP").slice(0,Dy("AJAX_REQUEST_CONCURRENT")).map(EQ=>aQ.proxyServer?"https://".concat(aQ.proxyServer,"/ap/?url=").concat(EQ+"/api/v1?action=uap"):"https://".concat(EQ,"/api/v1?action=uap"));return await _U(IQ,sQ,aQ,cQ,gQ)})(oQ,this._joinInfo,this._axiosCancelSource.token,_y).then(rQ).catch(nQ)}),AQ};return tQ===Cb.RAW?(this._liveRawStreamingClient=this._liveRawStreamingClient||eQ(),this._liveRawStreamingClient):(this._liveTranscodeStreamingClient=this._liveTranscodeStreamingClient||eQ(),this._liveTranscodeStreamingClient)}_createChannelMediaRelayClient(){if(!this._joinInfo)return new Sb(nv.INVALID_OPERATION,"can not create channel media relay client, please join channel first").throw();if(!this._channelMediaRelayClient){const{sendResolutionWidth:eQ,sendResolutionHeight:AQ}=this.getLocalVideoStats(),iQ=(tQ={joinInfo:this._joinInfo,clientId:this._clientId,websocketRetryConfig:this._config.websocketRetryConfig,httpRetryConfig:this._config.httpRetryConfig,resolution:{width:eQ,height:AQ}},mF("ChannelMediaRelay").create(tQ));iQ.on("state",oQ=>{oQ===Lb.RELAY_STATE_FAILURE&&iQ&&iQ.dispose(),this.safeEmit(Nv.CHANNEL_MEDIA_RELAY_STATE,oQ)}),iQ.on("event",oQ=>{this.safeEmit(Nv.CHANNEL_MEDIA_RELAY_EVENT,oQ)}),this._channelMediaRelayClient=iQ,this._statsCollector.onStatsChanged=(oQ,rQ)=>{var nQ;oQ==="resolution"&&((nQ=this._channelMediaRelayClient)===null||nQ===void 0||nQ.setVideoProfile(rQ))}}var tQ;return this._channelMediaRelayClient}_handleUpdateDataChannel(tQ,eQ){const{added:AQ,deleted:iQ}=tQ,oQ=[];if(eQ){const rQ=[];this._users.forEach(nQ=>{nQ._dataChannels.forEach(sQ=>{AQ.every(aQ=>aQ.uid!==nQ._uintid||aQ.stream_id!==sQ.id)&&rQ.push({uid:nQ._uintid,stream_id:sQ.id,ordered:sQ.ordered,max_retrans_times:sQ.maxRetransmits,metadata:sQ.metadata})})}),rQ.length>0&&this._handleUpdateDataChannel({added:[],deleted:rQ})}Array.isArray(AQ)&&AQ.length>0&&AQ.forEach(rQ=>{const{uid:nQ,stream_id:sQ,ordered:aQ,max_retrans_times:cQ,metadata:gQ}=rQ,IQ=this._users.find(EQ=>EQ._uintid===nQ);if(!IQ)return void Qy.error("[".concat(this._clientId,"] can not find target user!(on_add_data_channel)"));if(Qy.debug("[".concat(this._clientId,"] data_channel added with uid ").concat(nQ)),Dn(oQ).call(oQ,IQ)||oQ.push(IQ),IQ._uintid||(IQ._uintid=nQ),IQ._dataChannels.findIndex(EQ=>EQ.id===rQ.stream_id)===-1){const EQ={id:sQ,ordered:!!aQ,maxRetransmits:cQ,metadata:gQ},CQ=function(dQ){return fF(dQ,!0)}(EQ);IQ._dataChannels.push(CQ),Qy.info("[".concat(this._clientId,"] remote user ").concat(IQ.uid," published datachannel")),eQ||this.safeEmit(Nv.USER_PUBLISHED,IQ,"datachannel",EQ)}this._p2pChannel.hasPendingRemoteDataChannel(IQ,rQ.stream_id)&&(Qy.debug("[".concat(this._clientId,"] resubscribe datachannel for user ").concat(IQ.uid," after reconnect.")),this._subscribeDataChannel(IQ,rQ.stream_id).catch(EQ=>{Qy.error("[".concat(this._clientId,"] resubscribe datachannel error"),EQ.toString())}))}),eQ&&(this.safeEmit(Nv.PUBLISHED_USER_LIST,this._pendingPublishedUsers),this._pendingPublishedUsers=[]),Array.isArray(iQ)&&iQ.length>0&&iQ.forEach(rQ=>{const{uid:nQ,stream_id:sQ}=rQ,aQ=this._users.find(gQ=>gQ._uintid===nQ);if(!aQ)return void Qy.error("[".concat(this._clientId,"] can not find target user!(on_delete_data_channel)"));const cQ=aQ._dataChannels.find(gQ=>gQ.id===rQ.stream_id);cQ&&(Qy.debug("[".concat(this._clientId,"] data_stream delete with uid ").concat(nQ)),this._p2pChannel.unsubscribeDataChannel(aQ,[cQ]).then(gQ=>{if(aQ._dataChannels=aQ._dataChannels.filter(IQ=>IQ!==cQ),gQ)return this._gateway.unsubscribeDataChannel(gQ,aQ.uid)}),Qy.info("[".concat(this._clientId,"] remote user ").concat(nQ," unpublished datachannel ,id:").concat(cQ.id)),this.safeEmit(Nv.USER_UNPUBLISHED,aQ,"datachannel",cQ._config))})}_handleRemoveDataChannels(tQ){const eQ=this._users.find(AQ=>AQ.uid===tQ.uid);if(eQ){if(eQ._dataChannels!==void 0&&eQ._dataChannels.length>0){Qy.debug("[".concat(this._clientId,"] datachannel removed with uid ").concat(tQ.uid));const AQ=()=>{Qy.info("[".concat(this._clientId,"] remote user ").concat(eQ.uid," unpublished datachannel")),eQ._dataChannels.forEach(iQ=>{this.safeEmit(Nv.USER_UNPUBLISHED,eQ,"datachannel",iQ._config)})};this._p2pChannel.unsubscribeDataChannel(eQ,eQ._dataChannels).then(iQ=>{if(iQ)return this._gateway.unsubscribeDataChannel(iQ,eQ.uid)}),AQ()}}else Qy.warning("[".concat(this._clientId,"] can not find target user!(on_remove_datachannel)"))}_handleGatewayEvents(){this._gateway.on(Ub.DISCONNECT_P2P,async()=>{await this._p2pChannel.disconnectForReconnect()}),this._gateway.on(Ub.CONNECTION_STATE_CHANGE,(tQ,eQ,AQ)=>{var iQ;if(AQ===Av.FALLBACK)return;const oQ=()=>{this.safeEmit(Nv.CONNECTION_STATE_CHANGE,tQ,eQ,AQ)};if(sA.reportApiInvoke(this._sessionId||((iQ=this._gateway.joinInfo)===null||iQ===void 0?void 0:iQ.sid)||null,{name:Cv.CONNECTION_STATE_CHANGE,options:[tQ,eQ,AQ],tag:Iv.TRACER}).onSuccess(JSON.stringify({cur:tQ,prev:eQ,reason:AQ})),Qy.info("[".concat(this._clientId,"] connection state change: ").concat(eQ," -> ").concat(tQ)),tQ==="DISCONNECTED")return this._reset(),void oQ();if(tQ==="RECONNECTING")this._users.forEach(nQ=>{nQ._trust_in_room_=!1,nQ._trust_audio_enabled_state_=!1,nQ._trust_video_enabled_state_=!1,nQ._trust_audio_mute_state_=!1,nQ._trust_video_mute_state_=!1,nQ._trust_audio_stream_added_state_=!1,nQ._trust_video_stream_added_state_=!1,nQ._is_pre_created||(nQ._audio_pre_subscribed||(nQ._audioSSRC=void 0,nQ._audioOrtc=void 0),nQ._video_pre_subscribed||(nQ._videoSSRC=void 0,nQ._videoOrtc=void 0,nQ._rtxSsrcId=void 0),nQ._cname=void 0)}),this._userOfflineTimeout&&window.clearTimeout(this._userOfflineTimeout),this._streamRemovedTimeout&&window.clearTimeout(this._streamRemovedTimeout),this._userOfflineTimeout=void 0,this._streamRemovedTimeout=void 0;else if(tQ==="CONNECTED"){var rQ;this._streamFallbackTypeCacheMap.forEach((nQ,sQ)=>{this._gateway.setStreamFallbackOption(sQ,nQ).catch(aQ=>{Qy.warning("[".concat(this._clientId,"] auto set stream fallback option failed"),aQ)})}),this._remoteStreamTypeCacheMap.forEach((nQ,sQ)=>{this._gateway.setRemoteVideoStreamType(sQ,nQ).catch(aQ=>{Qy.warning("[".concat(this._clientId,"] auto set remote stream type failed"),aQ)})}),this._remoteDefaultVideoStreamType!==void 0&&((rQ=this._joinInfo)===null||rQ===void 0?void 0:rQ.defaultVideoStream)===void 0&&this.setRemoteDefaultVideoStreamType(this._remoteDefaultVideoStreamType).then(()=>{Qy.debug("[".concat(this._clientId,"] setRemoteDefaultVideoStreamType after gateway connected"))}).catch(nQ=>{Qy.error("[".concat(this._clientId,"] setRemoteDefaultVideoStreamType after gateway failed, ").concat(nQ))}),this.store.useP2P||(this._p2pChannel.republish(),this._userOfflineTimeout=window.setTimeout(()=>{this.connectionState==="CONNECTED"&&(this._userOfflineTimeout=void 0,this._users.filter(nQ=>!nQ._trust_in_room_).forEach(nQ=>{Qy.debug("[".concat(this._clientId,"] user offline timeout, emit user offline ").concat(nQ.uid)),this._handleUserOffline({uid:nQ.uid})}))},3e3),this._streamRemovedTimeout=window.setTimeout(()=>{this.connectionState==="CONNECTED"&&(this._streamRemovedTimeout=void 0,this._users.forEach(nQ=>{nQ._trust_audio_mute_state_||(Qy.debug("[".concat(this._clientId,"] auto dispatch audio unmute event ").concat(nQ.uid)),this._handleMuteStream(nQ.uid,Yb.AUDIO,!1)),nQ._trust_video_mute_state_||(Qy.debug("[".concat(this._clientId,"] auto dispatch video unmute event ").concat(nQ.uid)),this._handleMuteStream(nQ.uid,Yb.VIDEO,!1)),nQ._trust_audio_enabled_state_||(Qy.debug("[".concat(this._clientId,"] auto dispatch enable local audio ").concat(nQ.uid)),this._handleSetStreamLocalEnable("audio",nQ.uid,!0)),nQ._trust_video_enabled_state_||(Qy.debug("[".concat(this._clientId,"] auto dispatch enable local video ").concat(nQ.uid)),this._handleSetStreamLocalEnable("video",nQ.uid,!0)),nQ._trust_video_stream_added_state_||(Qy.debug("[".concat(this._clientId,"] auto dispatch reset video stream added ").concat(nQ.uid)),this._handleResetAddStream(nQ,"video")),nQ._trust_audio_stream_added_state_||(Qy.debug("[".concat(this._clientId,"] auto dispatch reset audio stream added ").concat(nQ.uid)),this._handleResetAddStream(nQ,"audio")),nQ._video_added_||nQ._audio_added_||(Qy.debug("[".concat(this._clientId,"] auto dispatch stream remove ").concat(nQ.uid)),this._handleRemoveStream({uid:nQ.uid,uint_id:nQ._uintid}))}))},1e3))}oQ()}),this._gateway.on(Ub.REQUEST_NEW_GATEWAY_LIST,async(tQ,eQ)=>{if(!this._joinInfo)return eQ(new Sb(nv.UNEXPECTED_ERROR,"can not recover, no join info"));try{let AQ;const iQ=await GF(Sj(Sj({},this._joinInfo),{},{uid:this._joinInfo.uid,stringUid:void 0}));iQ?(AQ=iQ.ap,YF(iQ),this._joinInfo.preload=!0):(AQ=await bU(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||_y,this.store),this._joinInfo.preload=!1),this._joinInfo&&(this._joinInfo.apResponse=AQ.gatewayInfo.res,this._joinInfo.gatewayAddrs=AQ.gatewayInfo.gatewayAddrs,this._joinInfo.uni_lbs_ip=AQ.gatewayInfo.uni_lbs_ip);const oQ=[];AQ.gatewayInfo.gatewayAddrs.forEach(rQ=>{let{address:nQ}=rQ;const[sQ,aQ]=nQ.split(":");this._joinInfo&&this._joinInfo.proxyServer?oQ.push({proxy:this._joinInfo.proxyServer,host:sQ,port:aQ}):oQ.push({host:sQ,port:aQ})}),tQ(oQ)}catch(AQ){eQ(AQ)}}),this._gateway.on(Ub.NETWORK_QUALITY,tQ=>{this._networkQualitySensitivity==="normal"&&this.safeEmit(Nv.NETWORK_QUALITY,tQ)}),this._gateway.on(Ub.STREAM_TYPE_CHANGE,(tQ,eQ)=>{this.safeEmit(Nv.STREAM_TYPE_CHANGED,tQ,eQ),sA.reportApiInvoke(this._sessionId,{name:Cv.STREAM_TYPE_CHANGE,options:[tQ,eQ],tag:Iv.TRACER}).onSuccess(JSON.stringify({uid:tQ,streamType:eQ}))}),this._gateway.on(Ub.IS_P2P_DISCONNECTED,tQ=>{this._p2pChannel.isP2PDisconnected()?tQ(!0):this._p2pChannel.hasLocalMedia()||this._p2pChannel.hasRemoteMedia()?tQ(!1):tQ(!0)}),this._gateway.on(Ub.REQUEST_P2P_CONNECTION_PARAMS,async(tQ,eQ,AQ)=>{try{let iQ=await this._p2pChannel.getEstablishParams();Dy("ENABLE_PREALLOC_PC")&&iQ||(iQ=await this._p2pChannel.startP2PConnection(tQ)),eQ(iQ)}catch(iQ){AQ(iQ)}}),this._gateway.on(Ub.JOIN_RESPONSE,(tQ,eQ)=>{if(this.store.useP2P)return;const AQ=OM(tQ.ortc,eQ,tQ.attributes.userAttributes.preSubSsrcs);this._p2pChannel.connect(AQ)}),this._gateway.on(Ub.PRE_CONNECT_PC,async tQ=>{const{candidates:eQ,fingerprint:AQ}=tQ;if(this._joinInfo&&eQ.length>0&&!this._p2pChannel.isPlanB){var iQ;await this._p2pChannel.startP2PConnection({turnServer:this._joinInfo.turnServer});const{cert:oQ,cid:rQ}=this._joinInfo.apResponse;await this._p2pChannel.connect({iceParameters:{iceUfrag:"".concat(rQ,"_").concat(oQ),icePwd:"".concat(rQ,"_").concat(oQ)},dtlsParameters:{fingerprints:[{hashFunction:"sha-256",fingerprint:(iQ=Dy("FINGERPRINT"))!==null&&iQ!==void 0?iQ:AQ}]},candidates:eQ,rtpCapabilities:{send:{audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},recv:{audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]}},setup:"active",cname:"o/i14u9pJrxRKAsu",preallocation:!0})}})}_handleGatewaySignalEvents(){this._gateway.signal.on(mb.ON_USER_ONLINE,this._handleUserOnline),this._gateway.signal.on(mb.ON_USER_OFFLINE,this._handleUserOffline),this._gateway.signal.on(mb.ON_ADD_AUDIO_STREAM,tQ=>this._handleAddAudioOrVideoStream("audio",tQ.uid,tQ.ssrcId,tQ.cname,tQ.uint_id,tQ.ortc)),this._gateway.signal.on(mb.ON_ADD_VIDEO_STREAM,tQ=>this._handleAddAudioOrVideoStream("video",tQ.uid,tQ.ssrcId,tQ.cname,tQ.uint_id,tQ.ortc,tQ.rtxSsrcId)),this._gateway.signal.on(mb.ON_REMOTE_DATASTREAM_UPDATE,tQ=>{this._handleUpdateDataChannel(tQ)}),this._gateway.signal.on(mb.ON_REMOTE_FULL_DATASTREAM_INFO,tQ=>{this._handleUpdateDataChannel({added:tQ.datastreams||[],deleted:[]},!0)}),this._gateway.signal.on(mb.ON_REMOVE_STREAM,this._handleRemoveStream),this._gateway.signal.on(mb.ON_P2P_LOST,this._handleP2PLost),this._gateway.signal.on(mb.MUTE_AUDIO,tQ=>this._handleMuteStream(tQ.uid,Yb.AUDIO,!0)),this._gateway.signal.on(mb.UNMUTE_AUDIO,tQ=>this._handleMuteStream(tQ.uid,Yb.AUDIO,!1)),this._gateway.signal.on(mb.MUTE_VIDEO,tQ=>this._handleMuteStream(tQ.uid,Yb.VIDEO,!0)),this._gateway.signal.on(mb.UNMUTE_VIDEO,tQ=>this._handleMuteStream(tQ.uid,Yb.VIDEO,!1)),this._gateway.signal.on(mb.RECEIVE_METADATA,tQ=>{const eQ=Yv(tQ.metadata);this.safeEmit(Nv.RECEIVE_METADATA,tQ.uid,eQ)}),this._gateway.signal.on(mb.ON_DATA_STREAM,async tQ=>{var eQ;if(!tQ)return;let AQ=Yv(tQ.payload);if(this._encryptDataStream&&this._encryptDataStreamIv&&this._encryptDataStreamKey&&window.crypto.subtle&&Dn(eQ=["aes-128-gcm2","aes-256-gcm2"]).call(eQ,this._encryptionMode)){if(tQ.payload.length<Fy)throw new Sb(nv.UNEXPECTED_RESPONSE,"payload length ".concat(tQ.payload.length," is less than header length ").concat(Fy));AQ=await async function(rQ,nQ,sQ){const aQ=sQ.subarray(0,Fy),cQ=aQ.slice(8,Fy),gQ=(cQ[0]<<8)+cQ[1],IQ=(aQ[6]<<8)+aQ[7],EQ=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:rQ,tagLength:Uy,additionalData:new Uint8Array(ay(gQ,2))},nQ,sQ.subarray(Fy));return new Uint8Array(EQ).subarray(0,IQ)}(this._encryptDataStreamIv,this._encryptDataStreamKey,AQ)}let iQ=0;if(tQ.ordered||tQ.syncWithAudio){const oQ=this._p2pChannel.getStats(),rQ=this.remoteUsers.find(sQ=>sQ.uid===tQ.uid),nQ=oQ==null?void 0:oQ.audioRecv.find(sQ=>sQ.ssrc===(rQ==null?void 0:rQ._audioSSRC));iQ=nQ==null?void 0:nQ.jitterBufferMs}iQ==null&&(iQ=0),AF(Sj(Sj({},tQ),{},{payload:AQ}),iQ,{id:this._clientId,onStreamMessage:typeof this.onStreamMessage=="function"?this.onStreamMessage.bind(this):void 0,safeEmit:this.safeEmit.bind(this)})}),this._gateway.signal.on(mb.ON_CRYPT_ERROR,()=>{Kv(()=>{Qy.warning("[".concat(this._clientId,"] on crypt error")),this.safeEmit(Nv.CRYPT_ERROR)},this._sessionId)}),this._gateway.signal.on(mb.ON_TOKEN_PRIVILEGE_WILL_EXPIRE,this._handleTokenWillExpire),this._gateway.signal.on(mb.ON_TOKEN_PRIVILEGE_DID_EXPIRE,()=>{Qy.warning("[".concat(this._clientId,"] received message onTokenPrivilegeDidExpire, please get new token and join again")),this._gateway.leave(!0,Av.TOKEN_EXPIRE),this.safeEmit(Nv.ON_TOKEN_PRIVILEGE_DID_EXPIRE),this._reset()}),this._gateway.signal.on(mb.ON_STREAM_FALLBACK_UPDATE,tQ=>{Qy.debug("[".concat(this._clientId,"] stream fallback peerId: ").concat(tQ.stream_id,", attr: ").concat(tQ.stream_type)),this.safeEmit(Nv.STREAM_FALLBACK,tQ.stream_id,tQ.stream_type===1?"fallback":"recover")}),this._gateway.signal.on(mb.ON_PUBLISH_STREAM,tQ=>{this.uid===this._uid&&(this._p2pChannel.reportPublishEvent(!0,null,void 0,!1,JSON.stringify({proxy:tQ.proxy})),Qy.info("[".concat(this._clientId,"] on publish stream, ").concat(JSON.stringify(tQ))))}),this._gateway.signal.on(mb.ENABLE_LOCAL_VIDEO,tQ=>{this._handleSetStreamLocalEnable("video",tQ.uid,!0)}),this._gateway.signal.on(mb.DISABLE_LOCAL_VIDEO,tQ=>{this._handleSetStreamLocalEnable("video",tQ.uid,!1)}),this._gateway.signal.on(pb.REQUEST_TIMEOUT,(tQ,eQ)=>{if(this._joinInfo)switch(tQ){case _b.PUBLISH:{if(!eQ)return;const oQ=eQ.ortc;if(oQ){var AQ,iQ;const rQ=oQ.some(aQ=>{let{stream_type:cQ}=aQ;return cQ===Mb.Audio}),nQ=oQ.some(aQ=>{let{stream_type:cQ}=aQ;return cQ!==Mb.Audio}),sQ=oQ.some(aQ=>{let{stream_type:cQ}=aQ;return cQ===Mb.Screen||cQ===Mb.ScreenLow});eQ.state==="offer"&&sA.publish(this._joinInfo.sid,{eventElapse:jU.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:!1,ec:nv.TIMEOUT,audio:rQ,video:nQ,p2pid:eQ.p2p_id,publishRequestid:this.store.pubId,screenshare:sQ,audioName:rQ?(AQ=oQ.find(aQ=>{let{stream_type:cQ}=aQ;return cQ===Mb.Audio}))===null||AQ===void 0||(AQ=AQ.ssrcs[0])===null||AQ===void 0?void 0:AQ.ssrcId.toString():void 0,videoName:nQ?(iQ=oQ.find(aQ=>{let{stream_type:cQ}=aQ;return cQ!==Mb.Audio}))===null||iQ===void 0||(iQ=iQ.ssrcs[0])===null||iQ===void 0?void 0:iQ.ssrcId.toString():void 0})}break}case _b.SUBSCRIBE:eQ&&sA.subscribe(this._joinInfo.sid,{succ:!1,ec:nv.TIMEOUT,audio:eQ.stream_type===Yb.AUDIO,video:eQ.stream_type===Yb.VIDEO,peerid:eQ.stream_id,subscribeRequestid:eQ.ssrcId,p2pid:this.store.p2pId,eventElapse:jU.measureFromSubscribeStart(this.store.clientId,eQ.ssrcId),preSsrc:this._p2pChannel.isPreSubScribe(eQ.ssrcId)})}}),this._gateway.signal.on(mb.ON_P2P_OK,tQ=>{this.uid,this._uid}),this._gateway.signal.on(mb.ON_PUBLISHED_USER_LIST,tQ=>{if(tQ==null||!tQ.users)return;Dy("BLOCK_LOCAL_CLIENT")&&(tQ.users=tQ.users.filter(iQ=>!uA(iQ.string_id||iQ.stream_id,this.channelName)));const eQ=[],AQ=[];for(const iQ of tQ.users){let oQ=this._users.find(gQ=>gQ._uintid===iQ.stream_id);oQ?oQ._trust_in_room_=!0:(oQ=new iV(iQ.string_id||iQ.stream_id,iQ.stream_id),this._users.push(oQ),this.getListeners(Nv.PUBLISHED_USER_LIST).length===0&&(Qy.debug("[".concat(this._clientId,"] user online"),iQ.stream_id),this.safeEmit(Nv.USER_JOINED,oQ)));const rQ=Vb.Audio&iQ.stream_type,nQ=(Vb.Video|Vb.LwoVideo)&iQ.stream_type,sQ=(65280&iQ.stream_type)!=0,aQ=rQ&&oQ.hasAudio,cQ=nQ&&oQ.hasVideo;nQ&&(oQ._trust_video_stream_added_state_=!0,oQ._video_added_=!0,oQ._videoSSRC=iQ.video_ssrc,oQ._rtxSsrcId=iQ.video_rtx),rQ&&(oQ._trust_audio_stream_added_state_=!0,oQ._audio_added_=!0,oQ._audioSSRC=iQ.audio_ssrc),rQ&&!aQ&&this.getListeners(Nv.PUBLISHED_USER_LIST).length===0&&(Qy.info("[".concat(this._clientId,"] remote user ").concat(oQ.uid," published audio")),this.safeEmit(Nv.USER_PUBLISHED,oQ,"audio")),nQ&&!cQ&&this.getListeners(Nv.PUBLISHED_USER_LIST).length===0&&(Qy.info("[".concat(this._clientId,"] remote user ").concat(oQ.uid," published video")),this.safeEmit(Nv.USER_PUBLISHED,oQ,"video")),(rQ&&!aQ||nQ&&!cQ||sQ)&&eQ.push(oQ),nQ&&this._p2pChannel.hasPendingRemoteMedia(oQ,"video")&&AQ.push({user:oQ,mediaType:"video"}),rQ&&this._p2pChannel.hasPendingRemoteMedia(oQ,"audio")&&AQ.push({user:oQ,mediaType:"audio"})}AQ.length>0&&(Qy.debug("[".concat(this._clientId,"] RE massSubscribe after reconnect ").concat(AQ.map(iQ=>"user: ".concat(iQ.user.uid,", mediaType: ").concat(iQ.mediaType)).join("; ")," ")),this.massSubscribe(AQ).catch(iQ=>{Qy.error("[".concat(this._clientId,"] mass resubscribe error"),iQ.toString())})),this.getListeners(Nv.PUBLISHED_USER_LIST).length>0?Dy("ENABLE_DATASTREAM_2")?this._pendingPublishedUsers=eQ:(Qy.info("[".concat(this._clientId,"] client emit user-list event, users: ").concat(eQ.map(iQ=>iQ.uid).join(", "))),this.safeEmit(Nv.PUBLISHED_USER_LIST,eQ)):Qy.info("[".concat(this._clientId,"] client not emit user-list event case there is no user-list listener, users: ").concat(eQ.map(iQ=>iQ.uid).join(", ")))}),this._gateway.signal.on(mb.ON_RTP_CAPABILITY_CHANGE,tQ=>{const{video_codec:eQ}=tQ;this._p2pChannel instanceof hF&&this._p2pChannel.updateRemoteRTPCapabilities(eQ.map(AQ=>AQ.toLowerCase()).filter(AQ=>{var iQ;return Dn(iQ=Object.keys(My)).call(iQ,AQ)}))})}_handleP2PEvents(){this._gateway.signal.on(mb.ON_USER_OFFLINE,()=>{this._p2pChannel.disconnectForReconnect()}),this._gateway.signal.on(sw.PUBLISH,(tQ,eQ,AQ)=>{const{uid:iQ}=tQ;tQ.forEach(oQ=>{const{kind:rQ,ssrcs:nQ,mid:sQ,isMuted:aQ}=oQ;this._handleP2PAddAudioOrVideoStream(rQ,iQ,nQ[0].ssrcId,sQ);const cQ=this._users.find(gQ=>gQ.uid===iQ);return cQ&&this._p2pChannel instanceof RV?this._p2pChannel.mockSubscribe(cQ,rQ,nQ[0].ssrcId,sQ).then(()=>{eQ()}).catch(AQ):eQ(),this._handleMuteStream(iQ,rQ,!!aQ)})}),this._gateway.signal.on(sw.CALL,async(tQ,eQ,AQ)=>{if(this._p2pChannel instanceof RV)try{var iQ;eQ(await this._p2pChannel.startP2P({turnServer:(iQ=this._joinInfo)===null||iQ===void 0?void 0:iQ.turnServer},tQ))}catch(oQ){AQ(oQ)}}),this._gateway.signal.on(pb.P2P_CONNECTION,async tQ=>{this._p2pChannel instanceof RV&&await this._p2pChannel.p2pConnect(tQ)}),this._gateway.signal.on(sw.UNPUBLISH,async(tQ,eQ,AQ)=>{if(this._p2pChannel instanceof RV){const{unpubMsg:iQ,uid:oQ}=tQ,rQ=this._users.find(nQ=>nQ.uid===oQ);if(!rQ)return Qy.warning("[".concat(this._clientId,"] can not find remote user, ignore mute event, uid: ").concat(oQ)),void eQ();try{iQ.forEach(async nQ=>{let{stream_type:sQ}=nQ;const aQ=sQ===Mb.Audio?Yb.AUDIO:Yb.VIDEO;await this._p2pChannel.unsubscribe(rQ,aQ),this._handleMuteStream(oQ,aQ,!0)}),eQ()}catch(nQ){AQ(nQ)}}}),this._gateway.signal.on(sw.CONTROL,async(tQ,eQ)=>{const{action:AQ}=tQ;switch(AQ){case cw.MUTE_LOCAL_VIDEO:this._handleMuteStream(eQ,Yb.VIDEO,!0);break;case cw.MUTE_LOCAL_AUDIO:this._handleMuteStream(eQ,Yb.AUDIO,!0);break;case cw.UNMUTE_LOCAL_VIDEO:this._handleP2PAddAudioOrVideoStream("video",eQ),this._handleMuteStream(eQ,Yb.VIDEO,!1);break;case cw.UNMUTE_LOCAL_AUDIO:this._handleP2PAddAudioOrVideoStream("audio",eQ),this._handleMuteStream(eQ,Yb.AUDIO,!1)}}),this._gateway.signal.on(sw.RESTART_ICE,async(tQ,eQ,AQ)=>{if(this._p2pChannel instanceof RV)try{const{direction:iQ,iceParameter:oQ}=tQ;iQ!==fb.SEND_ONLY||oQ?eQ(await this._p2pChannel.restartICE(iQ,oQ)):(this._p2pChannel.handleDisconnect(iQ),eQ())}catch(iQ){AQ(iQ)}}),this._gateway.signal.on(sw.CANDIDATE,tQ=>{if(this._p2pChannel instanceof RV){const{candidate:eQ,direction:AQ}=tQ;this._p2pChannel.addRemoteCandidate(eQ,AQ)}}),this._p2pChannel.on(Qb.RequestP2PRestartICE,async(tQ,eQ,AQ)=>{try{const{direction:iQ}=tQ;eQ(await this._gateway.sendExtensionMessage(sw.RESTART_ICE,tQ,iQ===fb.SEND_ONLY))}catch(iQ){AQ(iQ)}}),this._p2pChannel.on(Qb.LocalCandidate,tQ=>{this._gateway.sendExtensionMessage(sw.CANDIDATE,JSON.stringify(tQ),!0)}),this._p2pChannel.on(Qb.RequestP2PMuteLocal,async(tQ,eQ,AQ)=>{try{await this._gateway.sendExtensionMessage(sw.CONTROL,tQ,!0),eQ()}catch(iQ){AQ(iQ)}}),this._p2pChannel.on(Qb.RequestP2PUnmuteRemote,async(tQ,eQ,AQ)=>{if(this._joinInfo)try{await this._gateway.unmuteRemote(tQ,this._joinInfo.stringUid||this._joinInfo.uid),eQ()}catch(iQ){iQ.code===nv.DISCONNECT_P2P?eQ():AQ(iQ)}else eQ()}),this._p2pChannel.on(Qb.RequestP2PMuteRemote,async(tQ,eQ,AQ)=>{if(this._joinInfo)try{await this._gateway.muteRemote(tQ,this._joinInfo.stringUid||this._joinInfo.uid),eQ()}catch(iQ){iQ.code===nv.DISCONNECT_P2P?eQ():AQ(iQ)}else eQ()}),this._p2pChannel.on(Qb.StateChange,(tQ,eQ)=>{eQ===Xb.Connected&&this._p2pChannel.republish()})}_handleP2PChannelEvents(){this._p2pChannel.on(Qb.RequestMuteLocal,async(tQ,eQ,AQ)=>{if(this._joinInfo)try{await this._gateway.muteLocal(tQ,this._joinInfo.stringUid||this._joinInfo.uid),eQ()}catch(iQ){iQ.code===nv.DISCONNECT_P2P?eQ():AQ(iQ)}else eQ()}),this._p2pChannel.on(Qb.RequestUnmuteLocal,async(tQ,eQ,AQ)=>{if(this._joinInfo)try{await this._gateway.unmuteLocal(tQ,this._joinInfo.stringUid||this._joinInfo.uid),eQ()}catch(iQ){iQ.code===nv.DISCONNECT_P2P?eQ():AQ(iQ)}else eQ()}),this._p2pChannel.on(Qb.RequestRePublish,(tQ,eQ,AQ)=>{this.publish(tQ,!1).then(eQ).catch(AQ)}),this._p2pChannel.on(Qb.RequestRePublishDataChannel,(tQ,eQ,AQ)=>{Gh.all(tQ.map(async iQ=>{const oQ=await this._p2pChannel.publishDataChannel([iQ]);try{oQ.forEach(rQ=>{this._uid&&this._gateway.publishDataChannel(this._uid,rQ,!0)})}catch(rQ){if(rQ.code!==nv.DISCONNECT_P2P)throw rQ}})).then(eQ).catch(AQ)}),this._p2pChannel.on(Qb.RequestReSubscribe,async(tQ,eQ,AQ)=>{try{for(const{user:iQ,kind:oQ}of tQ)oQ===Yb.VIDEO?await this.subscribe(iQ,"video"):await this.subscribe(iQ,"audio");eQ()}catch(iQ){AQ(iQ)}}),this._p2pChannel.on(Qb.RequestUpload,(tQ,eQ)=>{this._gateway.upload(tQ,eQ)}),this._p2pChannel.on(Qb.RequestUploadStats,tQ=>{this._gateway.uploadWRTCStats(tQ)}),this._p2pChannel.on(Qb.MediaReconnectStart,tQ=>{this.safeEmit(Nv.MEDIA_RECONNECT_START,tQ)}),this._p2pChannel.on(Qb.MediaReconnectEnd,tQ=>{this.safeEmit(Nv.MEDIA_RECONNECT_END,tQ)}),this._p2pChannel.on(Qb.NeedSignalRTT,tQ=>{tQ(this._gateway.getSignalRTT())}),this._p2pChannel.on(Qb.RequestRestartICE,async tQ=>{if(this._p2pChannel instanceof RV)return;const eQ=await this._p2pChannel.restartICE(tQ),AQ=await eQ.next();if(AQ.done)return;const iQ=AQ.value;let oQ;try{oQ=await this._gateway.restartICE({iceParameters:iQ})}catch(nQ){return void eQ.throw(nQ)}const{iceParameters:rQ}=function(nQ){const sQ=nQ.iceParameters;return{iceParameters:{iceUfrag:sQ.iceUfrag,icePwd:sQ.icePwd}}}(oQ);await eQ.next({remoteIceParameters:rQ})}),this._p2pChannel.on(Qb.RequestReconnect,async()=>{this._gateway.reconnect()}),this._p2pChannel.on(Qb.RequestReconnectPC,async()=>{var tQ;const{iceParameters:eQ,dtlsParameters:AQ,rtpCapabilities:iQ}=await this._p2pChannel.startP2PConnection({turnServer:(tQ=this._joinInfo)===null||tQ===void 0?void 0:tQ.turnServer}),{gatewayEstablishParams:oQ,gatewayAddress:rQ}=await this._gateway.reconnectPC({iceParameters:eQ,dtlsParameters:AQ,rtpCapabilities:iQ}),nQ=OM(oQ,rQ);await this._p2pChannel.connect(nQ),await this._p2pChannel.republish(),await this._p2pChannel.reSubscribe()}),this._p2pChannel.on(Qb.RequestUnpublishForReconnectPC,async(tQ,eQ,AQ)=>{this._joinInfo&&this._uid!==void 0?(await this._gateway.unpublish(tQ,this._uid),eQ()):AQ()}),this._p2pChannel.on(Qb.P2PLost,()=>{this.safeEmit(Nv.P2P_LOST,this.store.uid)}),this._p2pChannel.on(Qb.UpdateVideoEncoder,tQ=>{tQ._encoderConfig&&this._gateway.setVideoProfile(tQ._encoderConfig)}),this._p2pChannel.on(Qb.ConnectionTypeChange,tQ=>{this.safeEmit(Nv.IS_USING_CLOUD_PROXY,tQ)}),this._p2pChannel.on(Qb.RequestLowStreamParameter,tQ=>{tQ(this._lowStreamParameter||{width:160,height:120,framerate:15,bitrate:50})}),this._p2pChannel.on(Qb.QueryClientConnectionState,tQ=>{tQ(this.connectionState)})}getKeyMetrics(){return this.store.keyMetrics}async enableContentInspect(tQ){if(!this._joinInfo||this.connectionState!=="CONNECTED")throw new Sb(nv.INVALID_OPERATION,"[".concat(this._clientId,"] can not create content inspect, please join channel first"));if(this._inspect)throw new Sb(nv.INVALID_OPERATION,"[".concat(this._clientId,"] Inspect content service already in connecting/connected state"));try{const AQ=(eQ={config:tQ},mF("ContentInspect").create(eQ));this._inspect=AQ,this.handleVideoInspectEvents(AQ);const{appId:iQ,cname:oQ,sid:rQ,token:nQ,uid:sQ,cid:aQ,vid:cQ}=this._joinInfo;await AQ.init({appId:iQ,areaCode:"",cname:oQ,sid:rQ,token:nQ,uid:sQ,cid:aQ,vid:cQ?Number(cQ):0},_y)}catch(AQ){throw Array.isArray(AQ)?AQ[0]:AQ}var eQ}handleVideoInspectEvents(tQ){tQ.on(ew.CONNECTION_STATE_CHANGE,(eQ,AQ)=>{if(this.safeEmit(Nv.CONTENT_INSPECT_CONNECTION_STATE_CHANGE,eQ,AQ),AQ===Zb.CONNECTED){if(this.connectionState!=="CONNECTED")return void this.safeEmit(Nv.CONTENT_INSPECT_ERROR,new Sb(nv.OPERATION_ABORTED,"Content inspect was cancelled because it left the channel"));tQ.inspectImage()}}),tQ.on(ew.INSPECT_RESULT,(eQ,AQ)=>{var iQ;if((AQ==null?void 0:AQ.code)===nv.INVALID_OPERATION&&this.connectionState==="DISCONNECTED")return Qy.debug("Stop inspect content because that has left channel"),this==null||(iQ=this._inspect)===null||iQ===void 0||iQ.close(),void(this._inspect=void 0);this.safeEmit(Nv.CONTENT_INSPECT_RESULT,eQ,AQ)}),tQ.on(ew.CLIENT_LOCAL_VIDEO_TRACK,eQ=>{eQ(this.localTracks.filter(AQ=>AQ.trackMediaType==="video")[0])})}async disableContentInspect(){if(!this._inspect)throw new Sb(nv.INVALID_OPERATION,"[".concat(this._clientId,"] inspectVideoContent not started"));try{this._inspect.close(),this._inspect=void 0}catch(tQ){throw Array.isArray(tQ)?tQ[0]:tQ}}async setImageModeration(tQ,eQ){if(ov(tQ,"enabled"),tQ){if(!eQ)throw new Sb(nv.INVALID_PARAMS,"config is required");if(OB(eQ),!this._joinInfo)throw new Sb(nv.INVALID_OPERATION,"can not create image moderation, please join channel first");try{if(this._moderation)this._moderation.updateConfig(eQ);else{const iQ=(AQ={config:eQ},mF("ImageModeration").create(AQ));this._moderation=iQ,this.handleImageModerationEvents(iQ);const{appId:oQ,cname:rQ,sid:nQ,token:sQ,uid:aQ,cid:cQ,vid:gQ}=this._joinInfo;await iQ.init({appId:oQ,areaCode:"",cname:rQ,sid:nQ,token:sQ,uid:aQ,cid:cQ,vid:gQ?Number(gQ):0},_y)}}catch(iQ){throw Array.isArray(iQ)?iQ[0]:iQ}}else{var AQ;if(!this._moderation)throw new Sb(nv.INVALID_OPERATION,"[".concat(this._clientId,"] image moderation not started"));try{this._moderation.close(),this._moderation.removeAllListeners(),this._moderation=void 0}catch(iQ){throw Array.isArray(iQ)?iQ[0]:iQ}}}handleImageModerationEvents(tQ){tQ.on(rw.CONNECTION_STATE_CHANGE,(eQ,AQ)=>{if(this.safeEmit(Nv.IMAGE_MODERATION_CONNECTION_STATE_CHANGE,eQ,AQ),eQ===nw.CONNECTED){if(this.connectionState!=="CONNECTED")throw this.setImageModeration(!1),new Sb(nv.OPERATION_ABORTED,"Image moderation was cancelled because it left the channel");tQ.inspectImage()}}),tQ.on(rw.CLIENT_LOCAL_VIDEO_TRACK,eQ=>{eQ(this.localTracks.filter(AQ=>AQ.trackMediaType==="video")[0])})}setP2PTransport(tQ){if(function(eQ){sv(eQ,"transport",["default","auto","relay","sd-rtn"])}(tQ),this.mode!=="p2p")throw new Sb(nv.INVALID_OPERATION,"only p2p mode can set p2pTransport");this.store.p2pTransport=tQ,Qy.info("[".concat(this._clientId,"] set client p2pTransport to ").concat(tQ))}getJoinChannelServiceRecords(){return Qy.debug("getJoinChannelServiceRecords"),this.store.joinChannelServiceRecords}async setPublishAudioFilterEnabled(tQ){ov(tQ,"enabled"),Ny("ENABLE_PUBLISH_AUDIO_FILTER",tQ),this._joinInfo&&await this._gateway.setPublishAudioFilterEnabled(tQ)}_handleResetAddStream(tQ,eQ){switch(eQ){case"audio":tQ._audio_added_=!1,tQ._trust_audio_stream_added_state_=!0;break;case"video":tQ._video_added_=!1,tQ._trust_video_stream_added_state_=!0}}},rb(fj.prototype,"leave",[DB],Object.getOwnPropertyDescriptor(fj.prototype,"leave"),fj.prototype),rb(fj.prototype,"publish",[PB],Object.getOwnPropertyDescriptor(fj.prototype,"publish"),fj.prototype),rb(fj.prototype,"unpublish",[LB],Object.getOwnPropertyDescriptor(fj.prototype,"unpublish"),fj.prototype),rb(fj.prototype,"subscribe",[kB],Object.getOwnPropertyDescriptor(fj.prototype,"subscribe"),fj.prototype),rb(fj.prototype,"presubscribe",[MB],Object.getOwnPropertyDescriptor(fj.prototype,"presubscribe"),fj.prototype),rb(fj.prototype,"massSubscribe",[UB],Object.getOwnPropertyDescriptor(fj.prototype,"massSubscribe"),fj.prototype),rb(fj.prototype,"unsubscribe",[xB],Object.getOwnPropertyDescriptor(fj.prototype,"unsubscribe"),fj.prototype),rb(fj.prototype,"massUnsubscribe",[VB],Object.getOwnPropertyDescriptor(fj.prototype,"massUnsubscribe"),fj.prototype),rb(fj.prototype,"setLowStreamParameter",[FB],Object.getOwnPropertyDescriptor(fj.prototype,"setLowStreamParameter"),fj.prototype),rb(fj.prototype,"enableDualStream",[BB],Object.getOwnPropertyDescriptor(fj.prototype,"enableDualStream"),fj.prototype),rb(fj.prototype,"disableDualStream",[jB],Object.getOwnPropertyDescriptor(fj.prototype,"disableDualStream"),fj.prototype),rb(fj.prototype,"setClientRole",[GB],Object.getOwnPropertyDescriptor(fj.prototype,"setClientRole"),fj.prototype),rb(fj.prototype,"setProxyServer",[WB],Object.getOwnPropertyDescriptor(fj.prototype,"setProxyServer"),fj.prototype),rb(fj.prototype,"setTurnServer",[HB],Object.getOwnPropertyDescriptor(fj.prototype,"setTurnServer"),fj.prototype),rb(fj.prototype,"setLicense",[KB],Object.getOwnPropertyDescriptor(fj.prototype,"setLicense"),fj.prototype),rb(fj.prototype,"startProxyServer",[YB],Object.getOwnPropertyDescriptor(fj.prototype,"startProxyServer"),fj.prototype),rb(fj.prototype,"stopProxyServer",[qB],Object.getOwnPropertyDescriptor(fj.prototype,"stopProxyServer"),fj.prototype),rb(fj.prototype,"setLocalAccessPointsV2",[zB],Object.getOwnPropertyDescriptor(fj.prototype,"setLocalAccessPointsV2"),fj.prototype),rb(fj.prototype,"setLocalAccessPoints",[JB],Object.getOwnPropertyDescriptor(fj.prototype,"setLocalAccessPoints"),fj.prototype),rb(fj.prototype,"setRemoteDefaultVideoStreamType",[XB],Object.getOwnPropertyDescriptor(fj.prototype,"setRemoteDefaultVideoStreamType"),fj.prototype),rb(fj.prototype,"setRemoteVideoStreamType",[QB],Object.getOwnPropertyDescriptor(fj.prototype,"setRemoteVideoStreamType"),fj.prototype),rb(fj.prototype,"setStreamFallbackOption",[ZB],Object.getOwnPropertyDescriptor(fj.prototype,"setStreamFallbackOption"),fj.prototype),rb(fj.prototype,"setEncryptionConfig",[$B],Object.getOwnPropertyDescriptor(fj.prototype,"setEncryptionConfig"),fj.prototype),rb(fj.prototype,"renewToken",[ej],Object.getOwnPropertyDescriptor(fj.prototype,"renewToken"),fj.prototype),rb(fj.prototype,"enableAudioVolumeIndicator",[tj],Object.getOwnPropertyDescriptor(fj.prototype,"enableAudioVolumeIndicator"),fj.prototype),rb(fj.prototype,"startLiveStreaming",[ij],Object.getOwnPropertyDescriptor(fj.prototype,"startLiveStreaming"),fj.prototype),rb(fj.prototype,"setLiveTranscoding",[nj],Object.getOwnPropertyDescriptor(fj.prototype,"setLiveTranscoding"),fj.prototype),rb(fj.prototype,"stopLiveStreaming",[rj],Object.getOwnPropertyDescriptor(fj.prototype,"stopLiveStreaming"),fj.prototype),rb(fj.prototype,"startChannelMediaRelay",[oj],Object.getOwnPropertyDescriptor(fj.prototype,"startChannelMediaRelay"),fj.prototype),rb(fj.prototype,"updateChannelMediaRelay",[sj],Object.getOwnPropertyDescriptor(fj.prototype,"updateChannelMediaRelay"),fj.prototype),rb(fj.prototype,"stopChannelMediaRelay",[aj],Object.getOwnPropertyDescriptor(fj.prototype,"stopChannelMediaRelay"),fj.prototype),rb(fj.prototype,"sendCustomReportMessage",[cj],Object.getOwnPropertyDescriptor(fj.prototype,"sendCustomReportMessage"),fj.prototype),rb(fj.prototype,"pickSVCLayer",[dj],Object.getOwnPropertyDescriptor(fj.prototype,"pickSVCLayer"),fj.prototype),rb(fj.prototype,"setRTMConfig",[lj],Object.getOwnPropertyDescriptor(fj.prototype,"setRTMConfig"),fj.prototype),rb(fj.prototype,"enableContentInspect",[uj],Object.getOwnPropertyDescriptor(fj.prototype,"enableContentInspect"),fj.prototype),rb(fj.prototype,"disableContentInspect",[hj],Object.getOwnPropertyDescriptor(fj.prototype,"disableContentInspect"),fj.prototype),rb(fj.prototype,"setImageModeration",[pj],Object.getOwnPropertyDescriptor(fj.prototype,"setImageModeration"),fj.prototype),rb(fj.prototype,"setP2PTransport",[_j],Object.getOwnPropertyDescriptor(fj.prototype,"setP2PTransport"),fj.prototype),rb(fj.prototype,"getJoinChannelServiceRecords",[Ej],Object.getOwnPropertyDescriptor(fj.prototype,"getJoinChannelServiceRecords"),fj.prototype),rb(fj.prototype,"setPublishAudioFilterEnabled",[mj],Object.getOwnPropertyDescriptor(fj.prototype,"setPublishAudioFilterEnabled"),fj.prototype),fj);class Rj{constructor(eQ,AQ){og(this,"id",0),og(this,"element",void 0),og(this,"peerPair",void 0),og(this,"context",void 0),og(this,"audioPlayerElement",void 0),og(this,"audioTrack",void 0),Rj.count+=1,this.id=Rj.count,this.element=eQ,this.context=AQ}initPeers(){this.peerPair=[new RTCPeerConnection,new RTCPeerConnection],this.peerPair[1].ontrack=eQ=>{const AQ=document.createElement("audio");AQ.srcObject=new MediaStream([eQ.track]),AQ.play(),this.audioPlayerElement=AQ}}async switchSdp(){if(!this.peerPair)return;const eQ=async(iQ,oQ)=>{const rQ=oQ==="offer"?await iQ.createOffer():await iQ.createAnswer();return await iQ.setLocalDescription(rQ),iQ.iceGatheringState==="complete"?iQ.localDescription:new Gh(nQ=>{iQ.onicegatheringstatechange=()=>{iQ.iceGatheringState==="complete"&&nQ(iQ.localDescription)}})},AQ=async(iQ,oQ)=>await iQ.setRemoteDescription(oQ);try{const iQ=await eQ(this.peerPair[0],"offer");await AQ(this.peerPair[1],iQ);const oQ=await eQ(this.peerPair[1],"answer");await AQ(this.peerPair[0],oQ)}catch(iQ){throw new Sb(nv.LOCAL_AEC_ERROR,iQ.toString()).print()}}async getTracksFromMediaElement(eQ){if(this.audioTrack)return this.audioTrack;let AQ;try{eQ instanceof HTMLVideoElement&&(eQ.captureStream?eQ.captureStream():eQ.mozCaptureStream()),AQ=this.context.createMediaStreamDestination(),this.context.createMediaElementSource(eQ).connect(AQ)}catch(oQ){throw new Sb(nv.LOCAL_AEC_ERROR,oQ.toString()).print()}if(!AQ)throw new Sb(nv.LOCAL_AEC_ERROR,"no dest node when local aec").print();const iQ=AQ.stream.getAudioTracks()[0];return this.audioTrack=iQ,iQ}getElement(){return this.element}async startEchoCancellation(){this.context.resume(),this.peerPair&&this.close(),this.initPeers();const eQ=this.element,AQ=await this.getTracksFromMediaElement(eQ);this.peerPair&&this.peerPair[0].addTrack(AQ),await this.switchSdp()}close(){Qy.debug("close echo cancellation unit, id is",this.id),this.audioPlayerElement&&this.audioPlayerElement.pause(),this.peerPair&&this.peerPair.forEach(eQ=>{eQ.close()}),this.peerPair=void 0,this.audioPlayerElement=void 0}}var Cj,Ij;og(Rj,"count",0);const vj=window.AudioContext||window.webkitAudioContext,yj=new(Cj=oA({report:sA}),rb((Ij=class{constructor(){og(this,"units",[]),og(this,"context",void 0)}processExternalMediaAEC(tQ){if(!this._doesEnvironmentNeedAEC())return Qy.debug("the system does not need to process local aec"),-1;this.context||(this.context=new vj);let eQ=this.units.find(AQ=>AQ&&AQ.getElement()===tQ);return eQ||(eQ=new Rj(tQ,this.context),this.units.push(eQ)),eQ.startEchoCancellation(),Qy.debug("start processing local audio echo cancellation, id is",eQ.id),eQ.id}_doesEnvironmentNeedAEC(){return AI().name!==CI.SAFARI}}).prototype,"processExternalMediaAEC",[Cj],Object.getOwnPropertyDescriptor(Ij.prototype,"processExternalMediaAEC"),Ij.prototype),Ij);function Aj(tQ,eQ){var AQ=Object.keys(tQ);if(Object.getOwnPropertySymbols){var iQ=Object.getOwnPropertySymbols(tQ);eQ&&(iQ=iQ.filter(function(oQ){return Object.getOwnPropertyDescriptor(tQ,oQ).enumerable})),AQ.push.apply(AQ,iQ)}return AQ}function bj(tQ){for(var eQ=1;eQ<arguments.length;eQ++){var AQ=arguments[eQ]!=null?arguments[eQ]:{};eQ%2?Aj(Object(AQ),!0).forEach(function(iQ){og(tQ,iQ,AQ[iQ])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tQ,Object.getOwnPropertyDescriptors(AQ)):Aj(Object(AQ)).forEach(function(iQ){Object.defineProperty(tQ,iQ,Object.getOwnPropertyDescriptor(AQ,iQ))})}return tQ}const wj=window||document;function Oj(tQ){let eQ=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!wj)return;const AQ=$K._cspEventHandlerPointer;if(AQ&&eQ)return void console.error(AQ,eQ);const iQ=oQ=>{if(!(oQ&&oQ.blockedURI&&($K.onSecurityPolicyViolation||$K.getListeners(iw.SECURITY_POLICY_VIOLATION).length>0)))return;const rQ=oQ.blockedURI;Dy("CSP_DETECTED_HOSTNAME_LIST").some(nQ=>Dn(rQ).call(rQ,nQ))&&($K.onSecurityPolicyViolation&&typeof $K.onSecurityPolicyViolation=="function"&&$K.onSecurityPolicyViolation(oQ),$K.getListeners(iw.SECURITY_POLICY_VIOLATION).length>0&&$K.safeEmit(iw.SECURITY_POLICY_VIOLATION,oQ))};AQ&&wj.removeEventListener("securitypolicyviolation",AQ),(eQ||tQ&&typeof tQ=="function"||$K.getListeners(iw.SECURITY_POLICY_VIOLATION).length>0)&&wj.addEventListener("securitypolicyviolation",iQ),$K._cspEventHandlerPointer=iQ}var Nj=l,Dj=BR,Pj=RegExp.prototype,Lj=function(tQ){return tQ===Pj||Nj(Pj,tQ)?Dj(tQ):tQ.flags},kj=i(Lj);function Mj(tQ){let eQ=tQ.length;for(;--eQ>=0;)tQ[eQ]=0}const Uj=256,xj=286,Vj=30,Fj=15,Bj=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),jj=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Gj=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Wj=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Hj=new Array(576);Mj(Hj);const Kj=new Array(60);Mj(Kj);const Yj=new Array(512);Mj(Yj);const qj=new Array(256);Mj(qj);const zj=new Array(29);Mj(zj);const Jj=new Array(Vj);function Xj(tQ,eQ,AQ,iQ,oQ){this.static_tree=tQ,this.extra_bits=eQ,this.extra_base=AQ,this.elems=iQ,this.max_length=oQ,this.has_stree=tQ&&tQ.length}let Qj,Zj,$j;function eG(tQ,eQ){this.dyn_tree=tQ,this.max_code=0,this.stat_desc=eQ}Mj(Jj);const tG=tQ=>tQ<256?Yj[tQ]:Yj[256+(tQ>>>7)],iG=(tQ,eQ)=>{tQ.pending_buf[tQ.pending++]=255&eQ,tQ.pending_buf[tQ.pending++]=eQ>>>8&255},nG=(tQ,eQ,AQ)=>{tQ.bi_valid>16-AQ?(tQ.bi_buf|=eQ<<tQ.bi_valid&65535,iG(tQ,tQ.bi_buf),tQ.bi_buf=eQ>>16-tQ.bi_valid,tQ.bi_valid+=AQ-16):(tQ.bi_buf|=eQ<<tQ.bi_valid&65535,tQ.bi_valid+=AQ)},rG=(tQ,eQ,AQ)=>{nG(tQ,AQ[2*eQ],AQ[2*eQ+1])},oG=(tQ,eQ)=>{let AQ=0;do AQ|=1&tQ,tQ>>>=1,AQ<<=1;while(--eQ>0);return AQ>>>1},sG=(tQ,eQ,AQ)=>{const iQ=new Array(16);let oQ,rQ,nQ=0;for(oQ=1;oQ<=Fj;oQ++)nQ=nQ+AQ[oQ-1]<<1,iQ[oQ]=nQ;for(rQ=0;rQ<=eQ;rQ++){let sQ=tQ[2*rQ+1];sQ!==0&&(tQ[2*rQ]=oG(iQ[sQ]++,sQ))}},aG=tQ=>{let eQ;for(eQ=0;eQ<xj;eQ++)tQ.dyn_ltree[2*eQ]=0;for(eQ=0;eQ<Vj;eQ++)tQ.dyn_dtree[2*eQ]=0;for(eQ=0;eQ<19;eQ++)tQ.bl_tree[2*eQ]=0;tQ.dyn_ltree[512]=1,tQ.opt_len=tQ.static_len=0,tQ.sym_next=tQ.matches=0},cG=tQ=>{tQ.bi_valid>8?iG(tQ,tQ.bi_buf):tQ.bi_valid>0&&(tQ.pending_buf[tQ.pending++]=tQ.bi_buf),tQ.bi_buf=0,tQ.bi_valid=0},dG=(tQ,eQ,AQ,iQ)=>{const oQ=2*eQ,rQ=2*AQ;return tQ[oQ]<tQ[rQ]||tQ[oQ]===tQ[rQ]&&iQ[eQ]<=iQ[AQ]},lG=(tQ,eQ,AQ)=>{const iQ=tQ.heap[AQ];let oQ=AQ<<1;for(;oQ<=tQ.heap_len&&(oQ<tQ.heap_len&&dG(eQ,tQ.heap[oQ+1],tQ.heap[oQ],tQ.depth)&&oQ++,!dG(eQ,iQ,tQ.heap[oQ],tQ.depth));)tQ.heap[AQ]=tQ.heap[oQ],AQ=oQ,oQ<<=1;tQ.heap[AQ]=iQ},uG=(tQ,eQ,AQ)=>{let iQ,oQ,rQ,nQ,sQ=0;if(tQ.sym_next!==0)do iQ=255&tQ.pending_buf[tQ.sym_buf+sQ++],iQ+=(255&tQ.pending_buf[tQ.sym_buf+sQ++])<<8,oQ=tQ.pending_buf[tQ.sym_buf+sQ++],iQ===0?rG(tQ,oQ,eQ):(rQ=qj[oQ],rG(tQ,rQ+Uj+1,eQ),nQ=Bj[rQ],nQ!==0&&(oQ-=zj[rQ],nG(tQ,oQ,nQ)),iQ--,rQ=tG(iQ),rG(tQ,rQ,AQ),nQ=jj[rQ],nQ!==0&&(iQ-=Jj[rQ],nG(tQ,iQ,nQ)));while(sQ<tQ.sym_next);rG(tQ,256,eQ)},hG=(tQ,eQ)=>{const AQ=eQ.dyn_tree,iQ=eQ.stat_desc.static_tree,oQ=eQ.stat_desc.has_stree,rQ=eQ.stat_desc.elems;let nQ,sQ,aQ,cQ=-1;for(tQ.heap_len=0,tQ.heap_max=573,nQ=0;nQ<rQ;nQ++)AQ[2*nQ]!==0?(tQ.heap[++tQ.heap_len]=cQ=nQ,tQ.depth[nQ]=0):AQ[2*nQ+1]=0;for(;tQ.heap_len<2;)aQ=tQ.heap[++tQ.heap_len]=cQ<2?++cQ:0,AQ[2*aQ]=1,tQ.depth[aQ]=0,tQ.opt_len--,oQ&&(tQ.static_len-=iQ[2*aQ+1]);for(eQ.max_code=cQ,nQ=tQ.heap_len>>1;nQ>=1;nQ--)lG(tQ,AQ,nQ);aQ=rQ;do nQ=tQ.heap[1],tQ.heap[1]=tQ.heap[tQ.heap_len--],lG(tQ,AQ,1),sQ=tQ.heap[1],tQ.heap[--tQ.heap_max]=nQ,tQ.heap[--tQ.heap_max]=sQ,AQ[2*aQ]=AQ[2*nQ]+AQ[2*sQ],tQ.depth[aQ]=(tQ.depth[nQ]>=tQ.depth[sQ]?tQ.depth[nQ]:tQ.depth[sQ])+1,AQ[2*nQ+1]=AQ[2*sQ+1]=aQ,tQ.heap[1]=aQ++,lG(tQ,AQ,1);while(tQ.heap_len>=2);tQ.heap[--tQ.heap_max]=tQ.heap[1],((gQ,IQ)=>{const EQ=IQ.dyn_tree,CQ=IQ.max_code,dQ=IQ.stat_desc.static_tree,lQ=IQ.stat_desc.has_stree,uQ=IQ.stat_desc.extra_bits,hQ=IQ.stat_desc.extra_base,BQ=IQ.stat_desc.max_length;let QQ,fQ,_Q,RQ,wQ,bQ,NQ=0;for(RQ=0;RQ<=Fj;RQ++)gQ.bl_count[RQ]=0;for(EQ[2*gQ.heap[gQ.heap_max]+1]=0,QQ=gQ.heap_max+1;QQ<573;QQ++)fQ=gQ.heap[QQ],RQ=EQ[2*EQ[2*fQ+1]+1]+1,RQ>BQ&&(RQ=BQ,NQ++),EQ[2*fQ+1]=RQ,fQ>CQ||(gQ.bl_count[RQ]++,wQ=0,fQ>=hQ&&(wQ=uQ[fQ-hQ]),bQ=EQ[2*fQ],gQ.opt_len+=bQ*(RQ+wQ),lQ&&(gQ.static_len+=bQ*(dQ[2*fQ+1]+wQ)));if(NQ!==0){do{for(RQ=BQ-1;gQ.bl_count[RQ]===0;)RQ--;gQ.bl_count[RQ]--,gQ.bl_count[RQ+1]+=2,gQ.bl_count[BQ]--,NQ-=2}while(NQ>0);for(RQ=BQ;RQ!==0;RQ--)for(fQ=gQ.bl_count[RQ];fQ!==0;)_Q=gQ.heap[--QQ],_Q>CQ||(EQ[2*_Q+1]!==RQ&&(gQ.opt_len+=(RQ-EQ[2*_Q+1])*EQ[2*_Q],EQ[2*_Q+1]=RQ),fQ--)}})(tQ,eQ),sG(AQ,cQ,tQ.bl_count)},pG=(tQ,eQ,AQ)=>{let iQ,oQ,rQ=-1,nQ=eQ[1],sQ=0,aQ=7,cQ=4;for(nQ===0&&(aQ=138,cQ=3),eQ[2*(AQ+1)+1]=65535,iQ=0;iQ<=AQ;iQ++)oQ=nQ,nQ=eQ[2*(iQ+1)+1],++sQ<aQ&&oQ===nQ||(sQ<cQ?tQ.bl_tree[2*oQ]+=sQ:oQ!==0?(oQ!==rQ&&tQ.bl_tree[2*oQ]++,tQ.bl_tree[32]++):sQ<=10?tQ.bl_tree[34]++:tQ.bl_tree[36]++,sQ=0,rQ=oQ,nQ===0?(aQ=138,cQ=3):oQ===nQ?(aQ=6,cQ=3):(aQ=7,cQ=4))},_G=(tQ,eQ,AQ)=>{let iQ,oQ,rQ=-1,nQ=eQ[1],sQ=0,aQ=7,cQ=4;for(nQ===0&&(aQ=138,cQ=3),iQ=0;iQ<=AQ;iQ++)if(oQ=nQ,nQ=eQ[2*(iQ+1)+1],!(++sQ<aQ&&oQ===nQ)){if(sQ<cQ)do rG(tQ,oQ,tQ.bl_tree);while(--sQ!=0);else oQ!==0?(oQ!==rQ&&(rG(tQ,oQ,tQ.bl_tree),sQ--),rG(tQ,16,tQ.bl_tree),nG(tQ,sQ-3,2)):sQ<=10?(rG(tQ,17,tQ.bl_tree),nG(tQ,sQ-3,3)):(rG(tQ,18,tQ.bl_tree),nG(tQ,sQ-11,7));sQ=0,rQ=oQ,nQ===0?(aQ=138,cQ=3):oQ===nQ?(aQ=6,cQ=3):(aQ=7,cQ=4)}};let EG=!1;const mG=(tQ,eQ,AQ,iQ)=>{nG(tQ,0+(iQ?1:0),3),cG(tQ),iG(tQ,AQ),iG(tQ,~AQ),AQ&&tQ.pending_buf.set(tQ.window.subarray(eQ,eQ+AQ),tQ.pending),tQ.pending+=AQ};var fG=tQ=>{EG||((()=>{let eQ,AQ,iQ,oQ,rQ;const nQ=new Array(16);for(iQ=0,oQ=0;oQ<28;oQ++)for(zj[oQ]=iQ,eQ=0;eQ<1<<Bj[oQ];eQ++)qj[iQ++]=oQ;for(qj[iQ-1]=oQ,rQ=0,oQ=0;oQ<16;oQ++)for(Jj[oQ]=rQ,eQ=0;eQ<1<<jj[oQ];eQ++)Yj[rQ++]=oQ;for(rQ>>=7;oQ<Vj;oQ++)for(Jj[oQ]=rQ<<7,eQ=0;eQ<1<<jj[oQ]-7;eQ++)Yj[256+rQ++]=oQ;for(AQ=0;AQ<=Fj;AQ++)nQ[AQ]=0;for(eQ=0;eQ<=143;)Hj[2*eQ+1]=8,eQ++,nQ[8]++;for(;eQ<=255;)Hj[2*eQ+1]=9,eQ++,nQ[9]++;for(;eQ<=279;)Hj[2*eQ+1]=7,eQ++,nQ[7]++;for(;eQ<=287;)Hj[2*eQ+1]=8,eQ++,nQ[8]++;for(sG(Hj,287,nQ),eQ=0;eQ<Vj;eQ++)Kj[2*eQ+1]=5,Kj[2*eQ]=oG(eQ,5);Qj=new Xj(Hj,Bj,257,xj,Fj),Zj=new Xj(Kj,jj,0,Vj,Fj),$j=new Xj(new Array(0),Gj,0,19,7)})(),EG=!0),tQ.l_desc=new eG(tQ.dyn_ltree,Qj),tQ.d_desc=new eG(tQ.dyn_dtree,Zj),tQ.bl_desc=new eG(tQ.bl_tree,$j),tQ.bi_buf=0,tQ.bi_valid=0,aG(tQ)},TG=(tQ,eQ,AQ,iQ)=>{let oQ,rQ,nQ=0;tQ.level>0?(tQ.strm.data_type===2&&(tQ.strm.data_type=(sQ=>{let aQ,cQ=4093624447;for(aQ=0;aQ<=31;aQ++,cQ>>>=1)if(1&cQ&&sQ.dyn_ltree[2*aQ]!==0)return 0;if(sQ.dyn_ltree[18]!==0||sQ.dyn_ltree[20]!==0||sQ.dyn_ltree[26]!==0)return 1;for(aQ=32;aQ<Uj;aQ++)if(sQ.dyn_ltree[2*aQ]!==0)return 1;return 0})(tQ)),hG(tQ,tQ.l_desc),hG(tQ,tQ.d_desc),nQ=(sQ=>{let aQ;for(pG(sQ,sQ.dyn_ltree,sQ.l_desc.max_code),pG(sQ,sQ.dyn_dtree,sQ.d_desc.max_code),hG(sQ,sQ.bl_desc),aQ=18;aQ>=3&&sQ.bl_tree[2*Wj[aQ]+1]===0;aQ--);return sQ.opt_len+=3*(aQ+1)+5+5+4,aQ})(tQ),oQ=tQ.opt_len+3+7>>>3,rQ=tQ.static_len+3+7>>>3,rQ<=oQ&&(oQ=rQ)):oQ=rQ=AQ+5,AQ+4<=oQ&&eQ!==-1?mG(tQ,eQ,AQ,iQ):tQ.strategy===4||rQ===oQ?(nG(tQ,2+(iQ?1:0),3),uG(tQ,Hj,Kj)):(nG(tQ,4+(iQ?1:0),3),((sQ,aQ,cQ,gQ)=>{let IQ;for(nG(sQ,aQ-257,5),nG(sQ,cQ-1,5),nG(sQ,gQ-4,4),IQ=0;IQ<gQ;IQ++)nG(sQ,sQ.bl_tree[2*Wj[IQ]+1],3);_G(sQ,sQ.dyn_ltree,aQ-1),_G(sQ,sQ.dyn_dtree,cQ-1)})(tQ,tQ.l_desc.max_code+1,tQ.d_desc.max_code+1,nQ+1),uG(tQ,tQ.dyn_ltree,tQ.dyn_dtree)),aG(tQ),iQ&&cG(tQ)},SG=(tQ,eQ,AQ)=>(tQ.pending_buf[tQ.sym_buf+tQ.sym_next++]=eQ,tQ.pending_buf[tQ.sym_buf+tQ.sym_next++]=eQ>>8,tQ.pending_buf[tQ.sym_buf+tQ.sym_next++]=AQ,eQ===0?tQ.dyn_ltree[2*AQ]++:(tQ.matches++,eQ--,tQ.dyn_ltree[2*(qj[AQ]+Uj+1)]++,tQ.dyn_dtree[2*tG(eQ)]++),tQ.sym_next===tQ.sym_end),gG=tQ=>{nG(tQ,2,3),rG(tQ,256,Hj),(eQ=>{eQ.bi_valid===16?(iG(eQ,eQ.bi_buf),eQ.bi_buf=0,eQ.bi_valid=0):eQ.bi_valid>=8&&(eQ.pending_buf[eQ.pending++]=255&eQ.bi_buf,eQ.bi_buf>>=8,eQ.bi_valid-=8)})(tQ)},RG={_tr_init:fG,_tr_stored_block:mG,_tr_flush_block:TG,_tr_tally:SG,_tr_align:gG},CG=(tQ,eQ,AQ,iQ)=>{let oQ=65535&tQ|0,rQ=tQ>>>16&65535|0,nQ=0;for(;AQ!==0;){nQ=AQ>2e3?2e3:AQ,AQ-=nQ;do oQ=oQ+eQ[iQ++]|0,rQ=rQ+oQ|0;while(--nQ);oQ%=65521,rQ%=65521}return oQ|rQ<<16|0};const IG=new Uint32Array((()=>{let tQ,eQ=[];for(var AQ=0;AQ<256;AQ++){tQ=AQ;for(var iQ=0;iQ<8;iQ++)tQ=1&tQ?3988292384^tQ>>>1:tQ>>>1;eQ[AQ]=tQ}return eQ})());var vG=(tQ,eQ,AQ,iQ)=>{const oQ=IG,rQ=iQ+AQ;tQ^=-1;for(let nQ=iQ;nQ<rQ;nQ++)tQ=tQ>>>8^oQ[255&(tQ^eQ[nQ])];return-1^tQ},yG={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},AG={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:bG,_tr_stored_block:wG,_tr_flush_block:OG,_tr_tally:NG,_tr_align:DG}=RG,{Z_NO_FLUSH:PG,Z_PARTIAL_FLUSH:LG,Z_FULL_FLUSH:kG,Z_FINISH:MG,Z_BLOCK:UG,Z_OK:xG,Z_STREAM_END:VG,Z_STREAM_ERROR:FG,Z_DATA_ERROR:BG,Z_BUF_ERROR:jG,Z_DEFAULT_COMPRESSION:GG,Z_FILTERED:WG,Z_HUFFMAN_ONLY:HG,Z_RLE:KG,Z_FIXED:YG,Z_DEFAULT_STRATEGY:qG,Z_UNKNOWN:zG,Z_DEFLATED:JG}=AG,XG=286,QG=30,ZG=19,$G=2*XG+1,eW=15,tW=258,iW=262,nW=42,rW=113,oW=666,sW=(tQ,eQ)=>(tQ.msg=yG[eQ],eQ),aW=tQ=>2*tQ-(tQ>4?9:0),cW=tQ=>{let eQ=tQ.length;for(;--eQ>=0;)tQ[eQ]=0},dW=tQ=>{let eQ,AQ,iQ,oQ=tQ.w_size;eQ=tQ.hash_size,iQ=eQ;do AQ=tQ.head[--iQ],tQ.head[iQ]=AQ>=oQ?AQ-oQ:0;while(--eQ);eQ=oQ,iQ=eQ;do AQ=tQ.prev[--iQ],tQ.prev[iQ]=AQ>=oQ?AQ-oQ:0;while(--eQ)};let lW=(tQ,eQ,AQ)=>(eQ<<tQ.hash_shift^AQ)&tQ.hash_mask;const uW=tQ=>{const eQ=tQ.state;let AQ=eQ.pending;AQ>tQ.avail_out&&(AQ=tQ.avail_out),AQ!==0&&(tQ.output.set(eQ.pending_buf.subarray(eQ.pending_out,eQ.pending_out+AQ),tQ.next_out),tQ.next_out+=AQ,eQ.pending_out+=AQ,tQ.total_out+=AQ,tQ.avail_out-=AQ,eQ.pending-=AQ,eQ.pending===0&&(eQ.pending_out=0))},hW=(tQ,eQ)=>{OG(tQ,tQ.block_start>=0?tQ.block_start:-1,tQ.strstart-tQ.block_start,eQ),tQ.block_start=tQ.strstart,uW(tQ.strm)},pW=(tQ,eQ)=>{tQ.pending_buf[tQ.pending++]=eQ},_W=(tQ,eQ)=>{tQ.pending_buf[tQ.pending++]=eQ>>>8&255,tQ.pending_buf[tQ.pending++]=255&eQ},EW=(tQ,eQ,AQ,iQ)=>{let oQ=tQ.avail_in;return oQ>iQ&&(oQ=iQ),oQ===0?0:(tQ.avail_in-=oQ,eQ.set(tQ.input.subarray(tQ.next_in,tQ.next_in+oQ),AQ),tQ.state.wrap===1?tQ.adler=CG(tQ.adler,eQ,oQ,AQ):tQ.state.wrap===2&&(tQ.adler=vG(tQ.adler,eQ,oQ,AQ)),tQ.next_in+=oQ,tQ.total_in+=oQ,oQ)},mW=(tQ,eQ)=>{let AQ,iQ,oQ=tQ.max_chain_length,rQ=tQ.strstart,nQ=tQ.prev_length,sQ=tQ.nice_match;const aQ=tQ.strstart>tQ.w_size-iW?tQ.strstart-(tQ.w_size-iW):0,cQ=tQ.window,gQ=tQ.w_mask,IQ=tQ.prev,EQ=tQ.strstart+tW;let CQ=cQ[rQ+nQ-1],dQ=cQ[rQ+nQ];tQ.prev_length>=tQ.good_match&&(oQ>>=2),sQ>tQ.lookahead&&(sQ=tQ.lookahead);do if(AQ=eQ,cQ[AQ+nQ]===dQ&&cQ[AQ+nQ-1]===CQ&&cQ[AQ]===cQ[rQ]&&cQ[++AQ]===cQ[rQ+1]){rQ+=2,AQ++;do;while(cQ[++rQ]===cQ[++AQ]&&cQ[++rQ]===cQ[++AQ]&&cQ[++rQ]===cQ[++AQ]&&cQ[++rQ]===cQ[++AQ]&&cQ[++rQ]===cQ[++AQ]&&cQ[++rQ]===cQ[++AQ]&&cQ[++rQ]===cQ[++AQ]&&cQ[++rQ]===cQ[++AQ]&&rQ<EQ);if(iQ=tW-(EQ-rQ),rQ=EQ-tW,iQ>nQ){if(tQ.match_start=eQ,nQ=iQ,iQ>=sQ)break;CQ=cQ[rQ+nQ-1],dQ=cQ[rQ+nQ]}}while((eQ=IQ[eQ&gQ])>aQ&&--oQ!=0);return nQ<=tQ.lookahead?nQ:tQ.lookahead},fW=tQ=>{const eQ=tQ.w_size;let AQ,iQ,oQ;do{if(iQ=tQ.window_size-tQ.lookahead-tQ.strstart,tQ.strstart>=eQ+(eQ-iW)&&(tQ.window.set(tQ.window.subarray(eQ,eQ+eQ-iQ),0),tQ.match_start-=eQ,tQ.strstart-=eQ,tQ.block_start-=eQ,tQ.insert>tQ.strstart&&(tQ.insert=tQ.strstart),dW(tQ),iQ+=eQ),tQ.strm.avail_in===0)break;if(AQ=EW(tQ.strm,tQ.window,tQ.strstart+tQ.lookahead,iQ),tQ.lookahead+=AQ,tQ.lookahead+tQ.insert>=3)for(oQ=tQ.strstart-tQ.insert,tQ.ins_h=tQ.window[oQ],tQ.ins_h=lW(tQ,tQ.ins_h,tQ.window[oQ+1]);tQ.insert&&(tQ.ins_h=lW(tQ,tQ.ins_h,tQ.window[oQ+3-1]),tQ.prev[oQ&tQ.w_mask]=tQ.head[tQ.ins_h],tQ.head[tQ.ins_h]=oQ,oQ++,tQ.insert--,!(tQ.lookahead+tQ.insert<3)););}while(tQ.lookahead<iW&&tQ.strm.avail_in!==0)},TW=(tQ,eQ)=>{let AQ,iQ,oQ,rQ=tQ.pending_buf_size-5>tQ.w_size?tQ.w_size:tQ.pending_buf_size-5,nQ=0,sQ=tQ.strm.avail_in;do{if(AQ=65535,oQ=tQ.bi_valid+42>>3,tQ.strm.avail_out<oQ||(oQ=tQ.strm.avail_out-oQ,iQ=tQ.strstart-tQ.block_start,AQ>iQ+tQ.strm.avail_in&&(AQ=iQ+tQ.strm.avail_in),AQ>oQ&&(AQ=oQ),AQ<rQ&&(AQ===0&&eQ!==MG||eQ===PG||AQ!==iQ+tQ.strm.avail_in)))break;nQ=eQ===MG&&AQ===iQ+tQ.strm.avail_in?1:0,wG(tQ,0,0,nQ),tQ.pending_buf[tQ.pending-4]=AQ,tQ.pending_buf[tQ.pending-3]=AQ>>8,tQ.pending_buf[tQ.pending-2]=~AQ,tQ.pending_buf[tQ.pending-1]=~AQ>>8,uW(tQ.strm),iQ&&(iQ>AQ&&(iQ=AQ),tQ.strm.output.set(tQ.window.subarray(tQ.block_start,tQ.block_start+iQ),tQ.strm.next_out),tQ.strm.next_out+=iQ,tQ.strm.avail_out-=iQ,tQ.strm.total_out+=iQ,tQ.block_start+=iQ,AQ-=iQ),AQ&&(EW(tQ.strm,tQ.strm.output,tQ.strm.next_out,AQ),tQ.strm.next_out+=AQ,tQ.strm.avail_out-=AQ,tQ.strm.total_out+=AQ)}while(nQ===0);return sQ-=tQ.strm.avail_in,sQ&&(sQ>=tQ.w_size?(tQ.matches=2,tQ.window.set(tQ.strm.input.subarray(tQ.strm.next_in-tQ.w_size,tQ.strm.next_in),0),tQ.strstart=tQ.w_size,tQ.insert=tQ.strstart):(tQ.window_size-tQ.strstart<=sQ&&(tQ.strstart-=tQ.w_size,tQ.window.set(tQ.window.subarray(tQ.w_size,tQ.w_size+tQ.strstart),0),tQ.matches<2&&tQ.matches++,tQ.insert>tQ.strstart&&(tQ.insert=tQ.strstart)),tQ.window.set(tQ.strm.input.subarray(tQ.strm.next_in-sQ,tQ.strm.next_in),tQ.strstart),tQ.strstart+=sQ,tQ.insert+=sQ>tQ.w_size-tQ.insert?tQ.w_size-tQ.insert:sQ),tQ.block_start=tQ.strstart),tQ.high_water<tQ.strstart&&(tQ.high_water=tQ.strstart),nQ?4:eQ!==PG&&eQ!==MG&&tQ.strm.avail_in===0&&tQ.strstart===tQ.block_start?2:(oQ=tQ.window_size-tQ.strstart,tQ.strm.avail_in>oQ&&tQ.block_start>=tQ.w_size&&(tQ.block_start-=tQ.w_size,tQ.strstart-=tQ.w_size,tQ.window.set(tQ.window.subarray(tQ.w_size,tQ.w_size+tQ.strstart),0),tQ.matches<2&&tQ.matches++,oQ+=tQ.w_size,tQ.insert>tQ.strstart&&(tQ.insert=tQ.strstart)),oQ>tQ.strm.avail_in&&(oQ=tQ.strm.avail_in),oQ&&(EW(tQ.strm,tQ.window,tQ.strstart,oQ),tQ.strstart+=oQ,tQ.insert+=oQ>tQ.w_size-tQ.insert?tQ.w_size-tQ.insert:oQ),tQ.high_water<tQ.strstart&&(tQ.high_water=tQ.strstart),oQ=tQ.bi_valid+42>>3,oQ=tQ.pending_buf_size-oQ>65535?65535:tQ.pending_buf_size-oQ,rQ=oQ>tQ.w_size?tQ.w_size:oQ,iQ=tQ.strstart-tQ.block_start,(iQ>=rQ||(iQ||eQ===MG)&&eQ!==PG&&tQ.strm.avail_in===0&&iQ<=oQ)&&(AQ=iQ>oQ?oQ:iQ,nQ=eQ===MG&&tQ.strm.avail_in===0&&AQ===iQ?1:0,wG(tQ,tQ.block_start,AQ,nQ),tQ.block_start+=AQ,uW(tQ.strm)),nQ?3:1)},SW=(tQ,eQ)=>{let AQ,iQ;for(;;){if(tQ.lookahead<iW){if(fW(tQ),tQ.lookahead<iW&&eQ===PG)return 1;if(tQ.lookahead===0)break}if(AQ=0,tQ.lookahead>=3&&(tQ.ins_h=lW(tQ,tQ.ins_h,tQ.window[tQ.strstart+3-1]),AQ=tQ.prev[tQ.strstart&tQ.w_mask]=tQ.head[tQ.ins_h],tQ.head[tQ.ins_h]=tQ.strstart),AQ!==0&&tQ.strstart-AQ<=tQ.w_size-iW&&(tQ.match_length=mW(tQ,AQ)),tQ.match_length>=3)if(iQ=NG(tQ,tQ.strstart-tQ.match_start,tQ.match_length-3),tQ.lookahead-=tQ.match_length,tQ.match_length<=tQ.max_lazy_match&&tQ.lookahead>=3){tQ.match_length--;do tQ.strstart++,tQ.ins_h=lW(tQ,tQ.ins_h,tQ.window[tQ.strstart+3-1]),AQ=tQ.prev[tQ.strstart&tQ.w_mask]=tQ.head[tQ.ins_h],tQ.head[tQ.ins_h]=tQ.strstart;while(--tQ.match_length!=0);tQ.strstart++}else tQ.strstart+=tQ.match_length,tQ.match_length=0,tQ.ins_h=tQ.window[tQ.strstart],tQ.ins_h=lW(tQ,tQ.ins_h,tQ.window[tQ.strstart+1]);else iQ=NG(tQ,0,tQ.window[tQ.strstart]),tQ.lookahead--,tQ.strstart++;if(iQ&&(hW(tQ,!1),tQ.strm.avail_out===0))return 1}return tQ.insert=tQ.strstart<2?tQ.strstart:2,eQ===MG?(hW(tQ,!0),tQ.strm.avail_out===0?3:4):tQ.sym_next&&(hW(tQ,!1),tQ.strm.avail_out===0)?1:2},gW=(tQ,eQ)=>{let AQ,iQ,oQ;for(;;){if(tQ.lookahead<iW){if(fW(tQ),tQ.lookahead<iW&&eQ===PG)return 1;if(tQ.lookahead===0)break}if(AQ=0,tQ.lookahead>=3&&(tQ.ins_h=lW(tQ,tQ.ins_h,tQ.window[tQ.strstart+3-1]),AQ=tQ.prev[tQ.strstart&tQ.w_mask]=tQ.head[tQ.ins_h],tQ.head[tQ.ins_h]=tQ.strstart),tQ.prev_length=tQ.match_length,tQ.prev_match=tQ.match_start,tQ.match_length=2,AQ!==0&&tQ.prev_length<tQ.max_lazy_match&&tQ.strstart-AQ<=tQ.w_size-iW&&(tQ.match_length=mW(tQ,AQ),tQ.match_length<=5&&(tQ.strategy===WG||tQ.match_length===3&&tQ.strstart-tQ.match_start>4096)&&(tQ.match_length=2)),tQ.prev_length>=3&&tQ.match_length<=tQ.prev_length){oQ=tQ.strstart+tQ.lookahead-3,iQ=NG(tQ,tQ.strstart-1-tQ.prev_match,tQ.prev_length-3),tQ.lookahead-=tQ.prev_length-1,tQ.prev_length-=2;do++tQ.strstart<=oQ&&(tQ.ins_h=lW(tQ,tQ.ins_h,tQ.window[tQ.strstart+3-1]),AQ=tQ.prev[tQ.strstart&tQ.w_mask]=tQ.head[tQ.ins_h],tQ.head[tQ.ins_h]=tQ.strstart);while(--tQ.prev_length!=0);if(tQ.match_available=0,tQ.match_length=2,tQ.strstart++,iQ&&(hW(tQ,!1),tQ.strm.avail_out===0))return 1}else if(tQ.match_available){if(iQ=NG(tQ,0,tQ.window[tQ.strstart-1]),iQ&&hW(tQ,!1),tQ.strstart++,tQ.lookahead--,tQ.strm.avail_out===0)return 1}else tQ.match_available=1,tQ.strstart++,tQ.lookahead--}return tQ.match_available&&(iQ=NG(tQ,0,tQ.window[tQ.strstart-1]),tQ.match_available=0),tQ.insert=tQ.strstart<2?tQ.strstart:2,eQ===MG?(hW(tQ,!0),tQ.strm.avail_out===0?3:4):tQ.sym_next&&(hW(tQ,!1),tQ.strm.avail_out===0)?1:2};function RW(tQ,eQ,AQ,iQ,oQ){this.good_length=tQ,this.max_lazy=eQ,this.nice_length=AQ,this.max_chain=iQ,this.func=oQ}const CW=[new RW(0,0,0,0,TW),new RW(4,4,8,4,SW),new RW(4,5,16,8,SW),new RW(4,6,32,32,SW),new RW(4,4,16,16,gW),new RW(8,16,32,32,gW),new RW(8,16,128,128,gW),new RW(8,32,128,256,gW),new RW(32,128,258,1024,gW),new RW(32,258,258,4096,gW)];function IW(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=JG,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*$G),this.dyn_dtree=new Uint16Array(2*(2*QG+1)),this.bl_tree=new Uint16Array(2*(2*ZG+1)),cW(this.dyn_ltree),cW(this.dyn_dtree),cW(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(eW+1),this.heap=new Uint16Array(2*XG+1),cW(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*XG+1),cW(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const vW=tQ=>{if(!tQ)return 1;const eQ=tQ.state;return!eQ||eQ.strm!==tQ||eQ.status!==nW&&eQ.status!==57&&eQ.status!==69&&eQ.status!==73&&eQ.status!==91&&eQ.status!==103&&eQ.status!==rW&&eQ.status!==oW?1:0},yW=tQ=>{if(vW(tQ))return sW(tQ,FG);tQ.total_in=tQ.total_out=0,tQ.data_type=zG;const eQ=tQ.state;return eQ.pending=0,eQ.pending_out=0,eQ.wrap<0&&(eQ.wrap=-eQ.wrap),eQ.status=eQ.wrap===2?57:eQ.wrap?nW:rW,tQ.adler=eQ.wrap===2?0:1,eQ.last_flush=-2,bG(eQ),xG},AW=tQ=>{const eQ=yW(tQ);return eQ===xG&&(AQ=>{AQ.window_size=2*AQ.w_size,cW(AQ.head),AQ.max_lazy_match=CW[AQ.level].max_lazy,AQ.good_match=CW[AQ.level].good_length,AQ.nice_match=CW[AQ.level].nice_length,AQ.max_chain_length=CW[AQ.level].max_chain,AQ.strstart=0,AQ.block_start=0,AQ.lookahead=0,AQ.insert=0,AQ.match_length=AQ.prev_length=2,AQ.match_available=0,AQ.ins_h=0})(tQ.state),eQ},bW=(tQ,eQ,AQ,iQ,oQ,rQ)=>{if(!tQ)return FG;let nQ=1;if(eQ===GG&&(eQ=6),iQ<0?(nQ=0,iQ=-iQ):iQ>15&&(nQ=2,iQ-=16),oQ<1||oQ>9||AQ!==JG||iQ<8||iQ>15||eQ<0||eQ>9||rQ<0||rQ>YG||iQ===8&&nQ!==1)return sW(tQ,FG);iQ===8&&(iQ=9);const sQ=new IW;return tQ.state=sQ,sQ.strm=tQ,sQ.status=nW,sQ.wrap=nQ,sQ.gzhead=null,sQ.w_bits=iQ,sQ.w_size=1<<sQ.w_bits,sQ.w_mask=sQ.w_size-1,sQ.hash_bits=oQ+7,sQ.hash_size=1<<sQ.hash_bits,sQ.hash_mask=sQ.hash_size-1,sQ.hash_shift=~~((sQ.hash_bits+3-1)/3),sQ.window=new Uint8Array(2*sQ.w_size),sQ.head=new Uint16Array(sQ.hash_size),sQ.prev=new Uint16Array(sQ.w_size),sQ.lit_bufsize=1<<oQ+6,sQ.pending_buf_size=4*sQ.lit_bufsize,sQ.pending_buf=new Uint8Array(sQ.pending_buf_size),sQ.sym_buf=sQ.lit_bufsize,sQ.sym_end=3*(sQ.lit_bufsize-1),sQ.level=eQ,sQ.strategy=rQ,sQ.method=AQ,AW(tQ)};var wW=(tQ,eQ)=>{if(vW(tQ)||eQ>UG||eQ<0)return tQ?sW(tQ,FG):FG;const AQ=tQ.state;if(!tQ.output||tQ.avail_in!==0&&!tQ.input||AQ.status===oW&&eQ!==MG)return sW(tQ,tQ.avail_out===0?jG:FG);const iQ=AQ.last_flush;if(AQ.last_flush=eQ,AQ.pending!==0){if(uW(tQ),tQ.avail_out===0)return AQ.last_flush=-1,xG}else if(tQ.avail_in===0&&aW(eQ)<=aW(iQ)&&eQ!==MG)return sW(tQ,jG);if(AQ.status===oW&&tQ.avail_in!==0)return sW(tQ,jG);if(AQ.status===nW&&AQ.wrap===0&&(AQ.status=rW),AQ.status===nW){let oQ=JG+(AQ.w_bits-8<<4)<<8,rQ=-1;if(rQ=AQ.strategy>=HG||AQ.level<2?0:AQ.level<6?1:AQ.level===6?2:3,oQ|=rQ<<6,AQ.strstart!==0&&(oQ|=32),oQ+=31-oQ%31,_W(AQ,oQ),AQ.strstart!==0&&(_W(AQ,tQ.adler>>>16),_W(AQ,65535&tQ.adler)),tQ.adler=1,AQ.status=rW,uW(tQ),AQ.pending!==0)return AQ.last_flush=-1,xG}if(AQ.status===57){if(tQ.adler=0,pW(AQ,31),pW(AQ,139),pW(AQ,8),AQ.gzhead)pW(AQ,(AQ.gzhead.text?1:0)+(AQ.gzhead.hcrc?2:0)+(AQ.gzhead.extra?4:0)+(AQ.gzhead.name?8:0)+(AQ.gzhead.comment?16:0)),pW(AQ,255&AQ.gzhead.time),pW(AQ,AQ.gzhead.time>>8&255),pW(AQ,AQ.gzhead.time>>16&255),pW(AQ,AQ.gzhead.time>>24&255),pW(AQ,AQ.level===9?2:AQ.strategy>=HG||AQ.level<2?4:0),pW(AQ,255&AQ.gzhead.os),AQ.gzhead.extra&&AQ.gzhead.extra.length&&(pW(AQ,255&AQ.gzhead.extra.length),pW(AQ,AQ.gzhead.extra.length>>8&255)),AQ.gzhead.hcrc&&(tQ.adler=vG(tQ.adler,AQ.pending_buf,AQ.pending,0)),AQ.gzindex=0,AQ.status=69;else if(pW(AQ,0),pW(AQ,0),pW(AQ,0),pW(AQ,0),pW(AQ,0),pW(AQ,AQ.level===9?2:AQ.strategy>=HG||AQ.level<2?4:0),pW(AQ,3),AQ.status=rW,uW(tQ),AQ.pending!==0)return AQ.last_flush=-1,xG}if(AQ.status===69){if(AQ.gzhead.extra){let oQ=AQ.pending,rQ=(65535&AQ.gzhead.extra.length)-AQ.gzindex;for(;AQ.pending+rQ>AQ.pending_buf_size;){let sQ=AQ.pending_buf_size-AQ.pending;if(AQ.pending_buf.set(AQ.gzhead.extra.subarray(AQ.gzindex,AQ.gzindex+sQ),AQ.pending),AQ.pending=AQ.pending_buf_size,AQ.gzhead.hcrc&&AQ.pending>oQ&&(tQ.adler=vG(tQ.adler,AQ.pending_buf,AQ.pending-oQ,oQ)),AQ.gzindex+=sQ,uW(tQ),AQ.pending!==0)return AQ.last_flush=-1,xG;oQ=0,rQ-=sQ}let nQ=new Uint8Array(AQ.gzhead.extra);AQ.pending_buf.set(nQ.subarray(AQ.gzindex,AQ.gzindex+rQ),AQ.pending),AQ.pending+=rQ,AQ.gzhead.hcrc&&AQ.pending>oQ&&(tQ.adler=vG(tQ.adler,AQ.pending_buf,AQ.pending-oQ,oQ)),AQ.gzindex=0}AQ.status=73}if(AQ.status===73){if(AQ.gzhead.name){let oQ,rQ=AQ.pending;do{if(AQ.pending===AQ.pending_buf_size){if(AQ.gzhead.hcrc&&AQ.pending>rQ&&(tQ.adler=vG(tQ.adler,AQ.pending_buf,AQ.pending-rQ,rQ)),uW(tQ),AQ.pending!==0)return AQ.last_flush=-1,xG;rQ=0}oQ=AQ.gzindex<AQ.gzhead.name.length?255&AQ.gzhead.name.charCodeAt(AQ.gzindex++):0,pW(AQ,oQ)}while(oQ!==0);AQ.gzhead.hcrc&&AQ.pending>rQ&&(tQ.adler=vG(tQ.adler,AQ.pending_buf,AQ.pending-rQ,rQ)),AQ.gzindex=0}AQ.status=91}if(AQ.status===91){if(AQ.gzhead.comment){let oQ,rQ=AQ.pending;do{if(AQ.pending===AQ.pending_buf_size){if(AQ.gzhead.hcrc&&AQ.pending>rQ&&(tQ.adler=vG(tQ.adler,AQ.pending_buf,AQ.pending-rQ,rQ)),uW(tQ),AQ.pending!==0)return AQ.last_flush=-1,xG;rQ=0}oQ=AQ.gzindex<AQ.gzhead.comment.length?255&AQ.gzhead.comment.charCodeAt(AQ.gzindex++):0,pW(AQ,oQ)}while(oQ!==0);AQ.gzhead.hcrc&&AQ.pending>rQ&&(tQ.adler=vG(tQ.adler,AQ.pending_buf,AQ.pending-rQ,rQ))}AQ.status=103}if(AQ.status===103){if(AQ.gzhead.hcrc){if(AQ.pending+2>AQ.pending_buf_size&&(uW(tQ),AQ.pending!==0))return AQ.last_flush=-1,xG;pW(AQ,255&tQ.adler),pW(AQ,tQ.adler>>8&255),tQ.adler=0}if(AQ.status=rW,uW(tQ),AQ.pending!==0)return AQ.last_flush=-1,xG}if(tQ.avail_in!==0||AQ.lookahead!==0||eQ!==PG&&AQ.status!==oW){let oQ=AQ.level===0?TW(AQ,eQ):AQ.strategy===HG?((rQ,nQ)=>{let sQ;for(;;){if(rQ.lookahead===0&&(fW(rQ),rQ.lookahead===0)){if(nQ===PG)return 1;break}if(rQ.match_length=0,sQ=NG(rQ,0,rQ.window[rQ.strstart]),rQ.lookahead--,rQ.strstart++,sQ&&(hW(rQ,!1),rQ.strm.avail_out===0))return 1}return rQ.insert=0,nQ===MG?(hW(rQ,!0),rQ.strm.avail_out===0?3:4):rQ.sym_next&&(hW(rQ,!1),rQ.strm.avail_out===0)?1:2})(AQ,eQ):AQ.strategy===KG?((rQ,nQ)=>{let sQ,aQ,cQ,gQ;const IQ=rQ.window;for(;;){if(rQ.lookahead<=tW){if(fW(rQ),rQ.lookahead<=tW&&nQ===PG)return 1;if(rQ.lookahead===0)break}if(rQ.match_length=0,rQ.lookahead>=3&&rQ.strstart>0&&(cQ=rQ.strstart-1,aQ=IQ[cQ],aQ===IQ[++cQ]&&aQ===IQ[++cQ]&&aQ===IQ[++cQ])){gQ=rQ.strstart+tW;do;while(aQ===IQ[++cQ]&&aQ===IQ[++cQ]&&aQ===IQ[++cQ]&&aQ===IQ[++cQ]&&aQ===IQ[++cQ]&&aQ===IQ[++cQ]&&aQ===IQ[++cQ]&&aQ===IQ[++cQ]&&cQ<gQ);rQ.match_length=tW-(gQ-cQ),rQ.match_length>rQ.lookahead&&(rQ.match_length=rQ.lookahead)}if(rQ.match_length>=3?(sQ=NG(rQ,1,rQ.match_length-3),rQ.lookahead-=rQ.match_length,rQ.strstart+=rQ.match_length,rQ.match_length=0):(sQ=NG(rQ,0,rQ.window[rQ.strstart]),rQ.lookahead--,rQ.strstart++),sQ&&(hW(rQ,!1),rQ.strm.avail_out===0))return 1}return rQ.insert=0,nQ===MG?(hW(rQ,!0),rQ.strm.avail_out===0?3:4):rQ.sym_next&&(hW(rQ,!1),rQ.strm.avail_out===0)?1:2})(AQ,eQ):CW[AQ.level].func(AQ,eQ);if(oQ!==3&&oQ!==4||(AQ.status=oW),oQ===1||oQ===3)return tQ.avail_out===0&&(AQ.last_flush=-1),xG;if(oQ===2&&(eQ===LG?DG(AQ):eQ!==UG&&(wG(AQ,0,0,!1),eQ===kG&&(cW(AQ.head),AQ.lookahead===0&&(AQ.strstart=0,AQ.block_start=0,AQ.insert=0))),uW(tQ),tQ.avail_out===0))return AQ.last_flush=-1,xG}return eQ!==MG?xG:AQ.wrap<=0?VG:(AQ.wrap===2?(pW(AQ,255&tQ.adler),pW(AQ,tQ.adler>>8&255),pW(AQ,tQ.adler>>16&255),pW(AQ,tQ.adler>>24&255),pW(AQ,255&tQ.total_in),pW(AQ,tQ.total_in>>8&255),pW(AQ,tQ.total_in>>16&255),pW(AQ,tQ.total_in>>24&255)):(_W(AQ,tQ.adler>>>16),_W(AQ,65535&tQ.adler)),uW(tQ),AQ.wrap>0&&(AQ.wrap=-AQ.wrap),AQ.pending!==0?xG:VG)},OW=(tQ,eQ)=>{let AQ=eQ.length;if(vW(tQ))return FG;const iQ=tQ.state,oQ=iQ.wrap;if(oQ===2||oQ===1&&iQ.status!==nW||iQ.lookahead)return FG;if(oQ===1&&(tQ.adler=CG(tQ.adler,eQ,AQ,0)),iQ.wrap=0,AQ>=iQ.w_size){oQ===0&&(cW(iQ.head),iQ.strstart=0,iQ.block_start=0,iQ.insert=0);let aQ=new Uint8Array(iQ.w_size);aQ.set(eQ.subarray(AQ-iQ.w_size,AQ),0),eQ=aQ,AQ=iQ.w_size}const rQ=tQ.avail_in,nQ=tQ.next_in,sQ=tQ.input;for(tQ.avail_in=AQ,tQ.next_in=0,tQ.input=eQ,fW(iQ);iQ.lookahead>=3;){let aQ=iQ.strstart,cQ=iQ.lookahead-2;do iQ.ins_h=lW(iQ,iQ.ins_h,iQ.window[aQ+3-1]),iQ.prev[aQ&iQ.w_mask]=iQ.head[iQ.ins_h],iQ.head[iQ.ins_h]=aQ,aQ++;while(--cQ);iQ.strstart=aQ,iQ.lookahead=2,fW(iQ)}return iQ.strstart+=iQ.lookahead,iQ.block_start=iQ.strstart,iQ.insert=iQ.lookahead,iQ.lookahead=0,iQ.match_length=iQ.prev_length=2,iQ.match_available=0,tQ.next_in=nQ,tQ.input=sQ,tQ.avail_in=rQ,iQ.wrap=oQ,xG},NW={deflateInit:(tQ,eQ)=>bW(tQ,eQ,JG,15,8,qG),deflateInit2:bW,deflateReset:AW,deflateResetKeep:yW,deflateSetHeader:(tQ,eQ)=>vW(tQ)||tQ.state.wrap!==2?FG:(tQ.state.gzhead=eQ,xG),deflate:wW,deflateEnd:tQ=>{if(vW(tQ))return FG;const eQ=tQ.state.status;return tQ.state=null,eQ===rW?sW(tQ,BG):xG},deflateSetDictionary:OW,deflateInfo:"pako deflate (from Nodeca project)"};const DW=(tQ,eQ)=>Object.prototype.hasOwnProperty.call(tQ,eQ);var PW={assign:function(tQ){const eQ=Array.prototype.slice.call(arguments,1);for(;eQ.length;){const AQ=eQ.shift();if(AQ){if(typeof AQ!="object")throw new TypeError(AQ+"must be non-object");for(const iQ in AQ)DW(AQ,iQ)&&(tQ[iQ]=AQ[iQ])}}return tQ},flattenChunks:tQ=>{let eQ=0;for(let iQ=0,oQ=tQ.length;iQ<oQ;iQ++)eQ+=tQ[iQ].length;const AQ=new Uint8Array(eQ);for(let iQ=0,oQ=0,rQ=tQ.length;iQ<rQ;iQ++){let nQ=tQ[iQ];AQ.set(nQ,oQ),oQ+=nQ.length}return AQ}};let LW=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{LW=!1}const kW=new Uint8Array(256);for(let tQ=0;tQ<256;tQ++)kW[tQ]=tQ>=252?6:tQ>=248?5:tQ>=240?4:tQ>=224?3:tQ>=192?2:1;kW[254]=kW[254]=1;var MW={string2buf:tQ=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(tQ);let eQ,AQ,iQ,oQ,rQ,nQ=tQ.length,sQ=0;for(oQ=0;oQ<nQ;oQ++)AQ=tQ.charCodeAt(oQ),(64512&AQ)==55296&&oQ+1<nQ&&(iQ=tQ.charCodeAt(oQ+1),(64512&iQ)==56320&&(AQ=65536+(AQ-55296<<10)+(iQ-56320),oQ++)),sQ+=AQ<128?1:AQ<2048?2:AQ<65536?3:4;for(eQ=new Uint8Array(sQ),rQ=0,oQ=0;rQ<sQ;oQ++)AQ=tQ.charCodeAt(oQ),(64512&AQ)==55296&&oQ+1<nQ&&(iQ=tQ.charCodeAt(oQ+1),(64512&iQ)==56320&&(AQ=65536+(AQ-55296<<10)+(iQ-56320),oQ++)),AQ<128?eQ[rQ++]=AQ:AQ<2048?(eQ[rQ++]=192|AQ>>>6,eQ[rQ++]=128|63&AQ):AQ<65536?(eQ[rQ++]=224|AQ>>>12,eQ[rQ++]=128|AQ>>>6&63,eQ[rQ++]=128|63&AQ):(eQ[rQ++]=240|AQ>>>18,eQ[rQ++]=128|AQ>>>12&63,eQ[rQ++]=128|AQ>>>6&63,eQ[rQ++]=128|63&AQ);return eQ},buf2string:(tQ,eQ)=>{const AQ=eQ||tQ.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(tQ.subarray(0,eQ));let iQ,oQ;const rQ=new Array(2*AQ);for(oQ=0,iQ=0;iQ<AQ;){let nQ=tQ[iQ++];if(nQ<128){rQ[oQ++]=nQ;continue}let sQ=kW[nQ];if(sQ>4)rQ[oQ++]=65533,iQ+=sQ-1;else{for(nQ&=sQ===2?31:sQ===3?15:7;sQ>1&&iQ<AQ;)nQ=nQ<<6|63&tQ[iQ++],sQ--;sQ>1?rQ[oQ++]=65533:nQ<65536?rQ[oQ++]=nQ:(nQ-=65536,rQ[oQ++]=55296|nQ>>10&1023,rQ[oQ++]=56320|1023&nQ)}}return((nQ,sQ)=>{if(sQ<65534&&nQ.subarray&&LW)return String.fromCharCode.apply(null,nQ.length===sQ?nQ:nQ.subarray(0,sQ));let aQ="";for(let cQ=0;cQ<sQ;cQ++)aQ+=String.fromCharCode(nQ[cQ]);return aQ})(rQ,oQ)},utf8border:(tQ,eQ)=>{(eQ=eQ||tQ.length)>tQ.length&&(eQ=tQ.length);let AQ=eQ-1;for(;AQ>=0&&(192&tQ[AQ])==128;)AQ--;return AQ<0||AQ===0?eQ:AQ+kW[tQ[AQ]]>eQ?AQ:eQ}},UW=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const xW=Object.prototype.toString,{Z_NO_FLUSH:VW,Z_SYNC_FLUSH:FW,Z_FULL_FLUSH:BW,Z_FINISH:jW,Z_OK:GW,Z_STREAM_END:WW,Z_DEFAULT_COMPRESSION:HW,Z_DEFAULT_STRATEGY:KW,Z_DEFLATED:YW}=AG;function qW(tQ){this.options=PW.assign({level:HW,method:YW,chunkSize:16384,windowBits:15,memLevel:8,strategy:KW},tQ||{});let eQ=this.options;eQ.raw&&eQ.windowBits>0?eQ.windowBits=-eQ.windowBits:eQ.gzip&&eQ.windowBits>0&&eQ.windowBits<16&&(eQ.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new UW,this.strm.avail_out=0;let AQ=NW.deflateInit2(this.strm,eQ.level,eQ.method,eQ.windowBits,eQ.memLevel,eQ.strategy);if(AQ!==GW)throw new Error(yG[AQ]);if(eQ.header&&NW.deflateSetHeader(this.strm,eQ.header),eQ.dictionary){let iQ;if(iQ=typeof eQ.dictionary=="string"?MW.string2buf(eQ.dictionary):xW.call(eQ.dictionary)==="[object ArrayBuffer]"?new Uint8Array(eQ.dictionary):eQ.dictionary,AQ=NW.deflateSetDictionary(this.strm,iQ),AQ!==GW)throw new Error(yG[AQ]);this._dict_set=!0}}function zW(tQ,eQ){const AQ=new qW(eQ);if(AQ.push(tQ,!0),AQ.err)throw AQ.msg||yG[AQ.err];return AQ.result}qW.prototype.push=function(tQ,eQ){const AQ=this.strm,iQ=this.options.chunkSize;let oQ,rQ;if(this.ended)return!1;for(rQ=eQ===~~eQ?eQ:eQ===!0?jW:VW,typeof tQ=="string"?AQ.input=MW.string2buf(tQ):xW.call(tQ)==="[object ArrayBuffer]"?AQ.input=new Uint8Array(tQ):AQ.input=tQ,AQ.next_in=0,AQ.avail_in=AQ.input.length;;)if(AQ.avail_out===0&&(AQ.output=new Uint8Array(iQ),AQ.next_out=0,AQ.avail_out=iQ),(rQ===FW||rQ===BW)&&AQ.avail_out<=6)this.onData(AQ.output.subarray(0,AQ.next_out)),AQ.avail_out=0;else{if(oQ=NW.deflate(AQ,rQ),oQ===WW)return AQ.next_out>0&&this.onData(AQ.output.subarray(0,AQ.next_out)),oQ=NW.deflateEnd(this.strm),this.onEnd(oQ),this.ended=!0,oQ===GW;if(AQ.avail_out!==0){if(rQ>0&&AQ.next_out>0)this.onData(AQ.output.subarray(0,AQ.next_out)),AQ.avail_out=0;else if(AQ.avail_in===0)break}else this.onData(AQ.output)}return!0},qW.prototype.onData=function(tQ){this.chunks.push(tQ)},qW.prototype.onEnd=function(tQ){tQ===GW&&(this.result=PW.flattenChunks(this.chunks)),this.chunks=[],this.err=tQ,this.msg=this.strm.msg};var JW={Deflate:qW,deflate:zW,deflateRaw:function(tQ,eQ){return(eQ=eQ||{}).raw=!0,zW(tQ,eQ)},gzip:function(tQ,eQ){return(eQ=eQ||{}).gzip=!0,zW(tQ,eQ)},constants:AG};const XW=16209;var QW=function(tQ,eQ){let AQ,iQ,oQ,rQ,nQ,sQ,aQ,cQ,gQ,IQ,EQ,CQ,dQ,lQ,uQ,hQ,BQ,QQ,fQ,_Q,RQ,wQ,bQ,NQ;const UQ=tQ.state;AQ=tQ.next_in,bQ=tQ.input,iQ=AQ+(tQ.avail_in-5),oQ=tQ.next_out,NQ=tQ.output,rQ=oQ-(eQ-tQ.avail_out),nQ=oQ+(tQ.avail_out-257),sQ=UQ.dmax,aQ=UQ.wsize,cQ=UQ.whave,gQ=UQ.wnext,IQ=UQ.window,EQ=UQ.hold,CQ=UQ.bits,dQ=UQ.lencode,lQ=UQ.distcode,uQ=(1<<UQ.lenbits)-1,hQ=(1<<UQ.distbits)-1;e:do{CQ<15&&(EQ+=bQ[AQ++]<<CQ,CQ+=8,EQ+=bQ[AQ++]<<CQ,CQ+=8),BQ=dQ[EQ&uQ];t:for(;;){if(QQ=BQ>>>24,EQ>>>=QQ,CQ-=QQ,QQ=BQ>>>16&255,QQ===0)NQ[oQ++]=65535&BQ;else{if(!(16&QQ)){if(!(64&QQ)){BQ=dQ[(65535&BQ)+(EQ&(1<<QQ)-1)];continue t}if(32&QQ){UQ.mode=16191;break e}tQ.msg="invalid literal/length code",UQ.mode=XW;break e}fQ=65535&BQ,QQ&=15,QQ&&(CQ<QQ&&(EQ+=bQ[AQ++]<<CQ,CQ+=8),fQ+=EQ&(1<<QQ)-1,EQ>>>=QQ,CQ-=QQ),CQ<15&&(EQ+=bQ[AQ++]<<CQ,CQ+=8,EQ+=bQ[AQ++]<<CQ,CQ+=8),BQ=lQ[EQ&hQ];A:for(;;){if(QQ=BQ>>>24,EQ>>>=QQ,CQ-=QQ,QQ=BQ>>>16&255,!(16&QQ)){if(!(64&QQ)){BQ=lQ[(65535&BQ)+(EQ&(1<<QQ)-1)];continue A}tQ.msg="invalid distance code",UQ.mode=XW;break e}if(_Q=65535&BQ,QQ&=15,CQ<QQ&&(EQ+=bQ[AQ++]<<CQ,CQ+=8,CQ<QQ&&(EQ+=bQ[AQ++]<<CQ,CQ+=8)),_Q+=EQ&(1<<QQ)-1,_Q>sQ){tQ.msg="invalid distance too far back",UQ.mode=XW;break e}if(EQ>>>=QQ,CQ-=QQ,QQ=oQ-rQ,_Q>QQ){if(QQ=_Q-QQ,QQ>cQ&&UQ.sane){tQ.msg="invalid distance too far back",UQ.mode=XW;break e}if(RQ=0,wQ=IQ,gQ===0){if(RQ+=aQ-QQ,QQ<fQ){fQ-=QQ;do NQ[oQ++]=IQ[RQ++];while(--QQ);RQ=oQ-_Q,wQ=NQ}}else if(gQ<QQ){if(RQ+=aQ+gQ-QQ,QQ-=gQ,QQ<fQ){fQ-=QQ;do NQ[oQ++]=IQ[RQ++];while(--QQ);if(RQ=0,gQ<fQ){QQ=gQ,fQ-=QQ;do NQ[oQ++]=IQ[RQ++];while(--QQ);RQ=oQ-_Q,wQ=NQ}}}else if(RQ+=gQ-QQ,QQ<fQ){fQ-=QQ;do NQ[oQ++]=IQ[RQ++];while(--QQ);RQ=oQ-_Q,wQ=NQ}for(;fQ>2;)NQ[oQ++]=wQ[RQ++],NQ[oQ++]=wQ[RQ++],NQ[oQ++]=wQ[RQ++],fQ-=3;fQ&&(NQ[oQ++]=wQ[RQ++],fQ>1&&(NQ[oQ++]=wQ[RQ++]))}else{RQ=oQ-_Q;do NQ[oQ++]=NQ[RQ++],NQ[oQ++]=NQ[RQ++],NQ[oQ++]=NQ[RQ++],fQ-=3;while(fQ>2);fQ&&(NQ[oQ++]=NQ[RQ++],fQ>1&&(NQ[oQ++]=NQ[RQ++]))}break}}break}}while(AQ<iQ&&oQ<nQ);fQ=CQ>>3,AQ-=fQ,CQ-=fQ<<3,EQ&=(1<<CQ)-1,tQ.next_in=AQ,tQ.next_out=oQ,tQ.avail_in=AQ<iQ?iQ-AQ+5:5-(AQ-iQ),tQ.avail_out=oQ<nQ?nQ-oQ+257:257-(oQ-nQ),UQ.hold=EQ,UQ.bits=CQ};const ZW=15,$W=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),eH=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),tH=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),iH=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var nH=(tQ,eQ,AQ,iQ,oQ,rQ,nQ,sQ)=>{const aQ=sQ.bits;let cQ,gQ,IQ,EQ,CQ,dQ,lQ=0,uQ=0,hQ=0,BQ=0,QQ=0,fQ=0,_Q=0,RQ=0,wQ=0,bQ=0,NQ=null;const UQ=new Uint16Array(16),PQ=new Uint16Array(16);let OQ,YQ,SQ,xQ=null;for(lQ=0;lQ<=ZW;lQ++)UQ[lQ]=0;for(uQ=0;uQ<iQ;uQ++)UQ[eQ[AQ+uQ]]++;for(QQ=aQ,BQ=ZW;BQ>=1&&UQ[BQ]===0;BQ--);if(QQ>BQ&&(QQ=BQ),BQ===0)return oQ[rQ++]=20971520,oQ[rQ++]=20971520,sQ.bits=1,0;for(hQ=1;hQ<BQ&&UQ[hQ]===0;hQ++);for(QQ<hQ&&(QQ=hQ),RQ=1,lQ=1;lQ<=ZW;lQ++)if(RQ<<=1,RQ-=UQ[lQ],RQ<0)return-1;if(RQ>0&&(tQ===0||BQ!==1))return-1;for(PQ[1]=0,lQ=1;lQ<ZW;lQ++)PQ[lQ+1]=PQ[lQ]+UQ[lQ];for(uQ=0;uQ<iQ;uQ++)eQ[AQ+uQ]!==0&&(nQ[PQ[eQ[AQ+uQ]]++]=uQ);if(tQ===0?(NQ=xQ=nQ,dQ=20):tQ===1?(NQ=$W,xQ=eH,dQ=257):(NQ=tH,xQ=iH,dQ=0),bQ=0,uQ=0,lQ=hQ,CQ=rQ,fQ=QQ,_Q=0,IQ=-1,wQ=1<<QQ,EQ=wQ-1,tQ===1&&wQ>852||tQ===2&&wQ>592)return 1;for(;;){OQ=lQ-_Q,nQ[uQ]+1<dQ?(YQ=0,SQ=nQ[uQ]):nQ[uQ]>=dQ?(YQ=xQ[nQ[uQ]-dQ],SQ=NQ[nQ[uQ]-dQ]):(YQ=96,SQ=0),cQ=1<<lQ-_Q,gQ=1<<fQ,hQ=gQ;do gQ-=cQ,oQ[CQ+(bQ>>_Q)+gQ]=OQ<<24|YQ<<16|SQ|0;while(gQ!==0);for(cQ=1<<lQ-1;bQ&cQ;)cQ>>=1;if(cQ!==0?(bQ&=cQ-1,bQ+=cQ):bQ=0,uQ++,--UQ[lQ]==0){if(lQ===BQ)break;lQ=eQ[AQ+nQ[uQ]]}if(lQ>QQ&&(bQ&EQ)!==IQ){for(_Q===0&&(_Q=QQ),CQ+=hQ,fQ=lQ-_Q,RQ=1<<fQ;fQ+_Q<BQ&&(RQ-=UQ[fQ+_Q],!(RQ<=0));)fQ++,RQ<<=1;if(wQ+=1<<fQ,tQ===1&&wQ>852||tQ===2&&wQ>592)return 1;IQ=bQ&EQ,oQ[IQ]=QQ<<24|fQ<<16|CQ-rQ|0}}return bQ!==0&&(oQ[CQ+bQ]=lQ-_Q<<24|64<<16|0),sQ.bits=QQ,0};const{Z_FINISH:rH,Z_BLOCK:oH,Z_TREES:sH,Z_OK:aH,Z_STREAM_END:cH,Z_NEED_DICT:dH,Z_STREAM_ERROR:lH,Z_DATA_ERROR:uH,Z_MEM_ERROR:hH,Z_BUF_ERROR:pH,Z_DEFLATED:_H}=AG,EH=16180,mH=16190,fH=16191,TH=16192,SH=16194,gH=16199,RH=16200,CH=16206,IH=16209,vH=tQ=>(tQ>>>24&255)+(tQ>>>8&65280)+((65280&tQ)<<8)+((255&tQ)<<24);function yH(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const AH=tQ=>{if(!tQ)return 1;const eQ=tQ.state;return!eQ||eQ.strm!==tQ||eQ.mode<EH||eQ.mode>16211?1:0},bH=tQ=>{if(AH(tQ))return lH;const eQ=tQ.state;return tQ.total_in=tQ.total_out=eQ.total=0,tQ.msg="",eQ.wrap&&(tQ.adler=1&eQ.wrap),eQ.mode=EH,eQ.last=0,eQ.havedict=0,eQ.flags=-1,eQ.dmax=32768,eQ.head=null,eQ.hold=0,eQ.bits=0,eQ.lencode=eQ.lendyn=new Int32Array(852),eQ.distcode=eQ.distdyn=new Int32Array(592),eQ.sane=1,eQ.back=-1,aH},wH=tQ=>{if(AH(tQ))return lH;const eQ=tQ.state;return eQ.wsize=0,eQ.whave=0,eQ.wnext=0,bH(tQ)},OH=(tQ,eQ)=>{let AQ;if(AH(tQ))return lH;const iQ=tQ.state;return eQ<0?(AQ=0,eQ=-eQ):(AQ=5+(eQ>>4),eQ<48&&(eQ&=15)),eQ&&(eQ<8||eQ>15)?lH:(iQ.window!==null&&iQ.wbits!==eQ&&(iQ.window=null),iQ.wrap=AQ,iQ.wbits=eQ,wH(tQ))},NH=(tQ,eQ)=>{if(!tQ)return lH;const AQ=new yH;tQ.state=AQ,AQ.strm=tQ,AQ.window=null,AQ.mode=EH;const iQ=OH(tQ,eQ);return iQ!==aH&&(tQ.state=null),iQ};let DH,PH,LH=!0;const kH=tQ=>{if(LH){DH=new Int32Array(512),PH=new Int32Array(32);let eQ=0;for(;eQ<144;)tQ.lens[eQ++]=8;for(;eQ<256;)tQ.lens[eQ++]=9;for(;eQ<280;)tQ.lens[eQ++]=7;for(;eQ<288;)tQ.lens[eQ++]=8;for(nH(1,tQ.lens,0,288,DH,0,tQ.work,{bits:9}),eQ=0;eQ<32;)tQ.lens[eQ++]=5;nH(2,tQ.lens,0,32,PH,0,tQ.work,{bits:5}),LH=!1}tQ.lencode=DH,tQ.lenbits=9,tQ.distcode=PH,tQ.distbits=5},MH=(tQ,eQ,AQ,iQ)=>{let oQ;const rQ=tQ.state;return rQ.window===null&&(rQ.wsize=1<<rQ.wbits,rQ.wnext=0,rQ.whave=0,rQ.window=new Uint8Array(rQ.wsize)),iQ>=rQ.wsize?(rQ.window.set(eQ.subarray(AQ-rQ.wsize,AQ),0),rQ.wnext=0,rQ.whave=rQ.wsize):(oQ=rQ.wsize-rQ.wnext,oQ>iQ&&(oQ=iQ),rQ.window.set(eQ.subarray(AQ-iQ,AQ-iQ+oQ),rQ.wnext),(iQ-=oQ)?(rQ.window.set(eQ.subarray(AQ-iQ,AQ),0),rQ.wnext=iQ,rQ.whave=rQ.wsize):(rQ.wnext+=oQ,rQ.wnext===rQ.wsize&&(rQ.wnext=0),rQ.whave<rQ.wsize&&(rQ.whave+=oQ))),0};var UH=(tQ,eQ)=>{let AQ,iQ,oQ,rQ,nQ,sQ,aQ,cQ,gQ,IQ,EQ,CQ,dQ,lQ,uQ,hQ,BQ,QQ,fQ,_Q,RQ,wQ,bQ=0;const NQ=new Uint8Array(4);let UQ,PQ;const OQ=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(AH(tQ)||!tQ.output||!tQ.input&&tQ.avail_in!==0)return lH;AQ=tQ.state,AQ.mode===fH&&(AQ.mode=TH),nQ=tQ.next_out,oQ=tQ.output,aQ=tQ.avail_out,rQ=tQ.next_in,iQ=tQ.input,sQ=tQ.avail_in,cQ=AQ.hold,gQ=AQ.bits,IQ=sQ,EQ=aQ,wQ=aH;e:for(;;)switch(AQ.mode){case EH:if(AQ.wrap===0){AQ.mode=TH;break}for(;gQ<16;){if(sQ===0)break e;sQ--,cQ+=iQ[rQ++]<<gQ,gQ+=8}if(2&AQ.wrap&&cQ===35615){AQ.wbits===0&&(AQ.wbits=15),AQ.check=0,NQ[0]=255&cQ,NQ[1]=cQ>>>8&255,AQ.check=vG(AQ.check,NQ,2,0),cQ=0,gQ=0,AQ.mode=16181;break}if(AQ.head&&(AQ.head.done=!1),!(1&AQ.wrap)||(((255&cQ)<<8)+(cQ>>8))%31){tQ.msg="incorrect header check",AQ.mode=IH;break}if((15&cQ)!==_H){tQ.msg="unknown compression method",AQ.mode=IH;break}if(cQ>>>=4,gQ-=4,RQ=8+(15&cQ),AQ.wbits===0&&(AQ.wbits=RQ),RQ>15||RQ>AQ.wbits){tQ.msg="invalid window size",AQ.mode=IH;break}AQ.dmax=1<<AQ.wbits,AQ.flags=0,tQ.adler=AQ.check=1,AQ.mode=512&cQ?16189:fH,cQ=0,gQ=0;break;case 16181:for(;gQ<16;){if(sQ===0)break e;sQ--,cQ+=iQ[rQ++]<<gQ,gQ+=8}if(AQ.flags=cQ,(255&kj(AQ))!==_H){tQ.msg="unknown compression method",AQ.mode=IH;break}if(57344&kj(AQ)){tQ.msg="unknown header flags set",AQ.mode=IH;break}AQ.head&&(AQ.head.text=cQ>>8&1),512&kj(AQ)&&4&AQ.wrap&&(NQ[0]=255&cQ,NQ[1]=cQ>>>8&255,AQ.check=vG(AQ.check,NQ,2,0)),cQ=0,gQ=0,AQ.mode=16182;case 16182:for(;gQ<32;){if(sQ===0)break e;sQ--,cQ+=iQ[rQ++]<<gQ,gQ+=8}AQ.head&&(AQ.head.time=cQ),512&kj(AQ)&&4&AQ.wrap&&(NQ[0]=255&cQ,NQ[1]=cQ>>>8&255,NQ[2]=cQ>>>16&255,NQ[3]=cQ>>>24&255,AQ.check=vG(AQ.check,NQ,4,0)),cQ=0,gQ=0,AQ.mode=16183;case 16183:for(;gQ<16;){if(sQ===0)break e;sQ--,cQ+=iQ[rQ++]<<gQ,gQ+=8}AQ.head&&(AQ.head.xflags=255&cQ,AQ.head.os=cQ>>8),512&kj(AQ)&&4&AQ.wrap&&(NQ[0]=255&cQ,NQ[1]=cQ>>>8&255,AQ.check=vG(AQ.check,NQ,2,0)),cQ=0,gQ=0,AQ.mode=16184;case 16184:if(1024&kj(AQ)){for(;gQ<16;){if(sQ===0)break e;sQ--,cQ+=iQ[rQ++]<<gQ,gQ+=8}AQ.length=cQ,AQ.head&&(AQ.head.extra_len=cQ),512&kj(AQ)&&4&AQ.wrap&&(NQ[0]=255&cQ,NQ[1]=cQ>>>8&255,AQ.check=vG(AQ.check,NQ,2,0)),cQ=0,gQ=0}else AQ.head&&(AQ.head.extra=null);AQ.mode=16185;case 16185:if(1024&kj(AQ)&&(CQ=AQ.length,CQ>sQ&&(CQ=sQ),CQ&&(AQ.head&&(RQ=AQ.head.extra_len-AQ.length,AQ.head.extra||(AQ.head.extra=new Uint8Array(AQ.head.extra_len)),AQ.head.extra.set(iQ.subarray(rQ,rQ+CQ),RQ)),512&kj(AQ)&&4&AQ.wrap&&(AQ.check=vG(AQ.check,iQ,CQ,rQ)),sQ-=CQ,rQ+=CQ,AQ.length-=CQ),AQ.length))break e;AQ.length=0,AQ.mode=16186;case 16186:if(2048&kj(AQ)){if(sQ===0)break e;CQ=0;do RQ=iQ[rQ+CQ++],AQ.head&&RQ&&AQ.length<65536&&(AQ.head.name+=String.fromCharCode(RQ));while(RQ&&CQ<sQ);if(512&kj(AQ)&&4&AQ.wrap&&(AQ.check=vG(AQ.check,iQ,CQ,rQ)),sQ-=CQ,rQ+=CQ,RQ)break e}else AQ.head&&(AQ.head.name=null);AQ.length=0,AQ.mode=16187;case 16187:if(4096&kj(AQ)){if(sQ===0)break e;CQ=0;do RQ=iQ[rQ+CQ++],AQ.head&&RQ&&AQ.length<65536&&(AQ.head.comment+=String.fromCharCode(RQ));while(RQ&&CQ<sQ);if(512&kj(AQ)&&4&AQ.wrap&&(AQ.check=vG(AQ.check,iQ,CQ,rQ)),sQ-=CQ,rQ+=CQ,RQ)break e}else AQ.head&&(AQ.head.comment=null);AQ.mode=16188;case 16188:if(512&kj(AQ)){for(;gQ<16;){if(sQ===0)break e;sQ--,cQ+=iQ[rQ++]<<gQ,gQ+=8}if(4&AQ.wrap&&cQ!==(65535&AQ.check)){tQ.msg="header crc mismatch",AQ.mode=IH;break}cQ=0,gQ=0}AQ.head&&(AQ.head.hcrc=kj(AQ)>>9&1,AQ.head.done=!0),tQ.adler=AQ.check=0,AQ.mode=fH;break;case 16189:for(;gQ<32;){if(sQ===0)break e;sQ--,cQ+=iQ[rQ++]<<gQ,gQ+=8}tQ.adler=AQ.check=vH(cQ),cQ=0,gQ=0,AQ.mode=mH;case mH:if(AQ.havedict===0)return tQ.next_out=nQ,tQ.avail_out=aQ,tQ.next_in=rQ,tQ.avail_in=sQ,AQ.hold=cQ,AQ.bits=gQ,dH;tQ.adler=AQ.check=1,AQ.mode=fH;case fH:if(eQ===oH||eQ===sH)break e;case TH:if(AQ.last){cQ>>>=7&gQ,gQ-=7&gQ,AQ.mode=CH;break}for(;gQ<3;){if(sQ===0)break e;sQ--,cQ+=iQ[rQ++]<<gQ,gQ+=8}switch(AQ.last=1&cQ,cQ>>>=1,gQ-=1,3&cQ){case 0:AQ.mode=16193;break;case 1:if(kH(AQ),AQ.mode=gH,eQ===sH){cQ>>>=2,gQ-=2;break e}break;case 2:AQ.mode=16196;break;case 3:tQ.msg="invalid block type",AQ.mode=IH}cQ>>>=2,gQ-=2;break;case 16193:for(cQ>>>=7&gQ,gQ-=7&gQ;gQ<32;){if(sQ===0)break e;sQ--,cQ+=iQ[rQ++]<<gQ,gQ+=8}if((65535&cQ)!=(cQ>>>16^65535)){tQ.msg="invalid stored block lengths",AQ.mode=IH;break}if(AQ.length=65535&cQ,cQ=0,gQ=0,AQ.mode=SH,eQ===sH)break e;case SH:AQ.mode=16195;case 16195:if(CQ=AQ.length,CQ){if(CQ>sQ&&(CQ=sQ),CQ>aQ&&(CQ=aQ),CQ===0)break e;oQ.set(iQ.subarray(rQ,rQ+CQ),nQ),sQ-=CQ,rQ+=CQ,aQ-=CQ,nQ+=CQ,AQ.length-=CQ;break}AQ.mode=fH;break;case 16196:for(;gQ<14;){if(sQ===0)break e;sQ--,cQ+=iQ[rQ++]<<gQ,gQ+=8}if(AQ.nlen=257+(31&cQ),cQ>>>=5,gQ-=5,AQ.ndist=1+(31&cQ),cQ>>>=5,gQ-=5,AQ.ncode=4+(15&cQ),cQ>>>=4,gQ-=4,AQ.nlen>286||AQ.ndist>30){tQ.msg="too many length or distance symbols",AQ.mode=IH;break}AQ.have=0,AQ.mode=16197;case 16197:for(;AQ.have<AQ.ncode;){for(;gQ<3;){if(sQ===0)break e;sQ--,cQ+=iQ[rQ++]<<gQ,gQ+=8}AQ.lens[OQ[AQ.have++]]=7&cQ,cQ>>>=3,gQ-=3}for(;AQ.have<19;)AQ.lens[OQ[AQ.have++]]=0;if(AQ.lencode=AQ.lendyn,AQ.lenbits=7,UQ={bits:AQ.lenbits},wQ=nH(0,AQ.lens,0,19,AQ.lencode,0,AQ.work,UQ),AQ.lenbits=UQ.bits,wQ){tQ.msg="invalid code lengths set",AQ.mode=IH;break}AQ.have=0,AQ.mode=16198;case 16198:for(;AQ.have<AQ.nlen+AQ.ndist;){for(;bQ=AQ.lencode[cQ&(1<<AQ.lenbits)-1],uQ=bQ>>>24,hQ=bQ>>>16&255,BQ=65535&bQ,!(uQ<=gQ);){if(sQ===0)break e;sQ--,cQ+=iQ[rQ++]<<gQ,gQ+=8}if(BQ<16)cQ>>>=uQ,gQ-=uQ,AQ.lens[AQ.have++]=BQ;else{if(BQ===16){for(PQ=uQ+2;gQ<PQ;){if(sQ===0)break e;sQ--,cQ+=iQ[rQ++]<<gQ,gQ+=8}if(cQ>>>=uQ,gQ-=uQ,AQ.have===0){tQ.msg="invalid bit length repeat",AQ.mode=IH;break}RQ=AQ.lens[AQ.have-1],CQ=3+(3&cQ),cQ>>>=2,gQ-=2}else if(BQ===17){for(PQ=uQ+3;gQ<PQ;){if(sQ===0)break e;sQ--,cQ+=iQ[rQ++]<<gQ,gQ+=8}cQ>>>=uQ,gQ-=uQ,RQ=0,CQ=3+(7&cQ),cQ>>>=3,gQ-=3}else{for(PQ=uQ+7;gQ<PQ;){if(sQ===0)break e;sQ--,cQ+=iQ[rQ++]<<gQ,gQ+=8}cQ>>>=uQ,gQ-=uQ,RQ=0,CQ=11+(127&cQ),cQ>>>=7,gQ-=7}if(AQ.have+CQ>AQ.nlen+AQ.ndist){tQ.msg="invalid bit length repeat",AQ.mode=IH;break}for(;CQ--;)AQ.lens[AQ.have++]=RQ}}if(AQ.mode===IH)break;if(AQ.lens[256]===0){tQ.msg="invalid code -- missing end-of-block",AQ.mode=IH;break}if(AQ.lenbits=9,UQ={bits:AQ.lenbits},wQ=nH(1,AQ.lens,0,AQ.nlen,AQ.lencode,0,AQ.work,UQ),AQ.lenbits=UQ.bits,wQ){tQ.msg="invalid literal/lengths set",AQ.mode=IH;break}if(AQ.distbits=6,AQ.distcode=AQ.distdyn,UQ={bits:AQ.distbits},wQ=nH(2,AQ.lens,AQ.nlen,AQ.ndist,AQ.distcode,0,AQ.work,UQ),AQ.distbits=UQ.bits,wQ){tQ.msg="invalid distances set",AQ.mode=IH;break}if(AQ.mode=gH,eQ===sH)break e;case gH:AQ.mode=RH;case RH:if(sQ>=6&&aQ>=258){tQ.next_out=nQ,tQ.avail_out=aQ,tQ.next_in=rQ,tQ.avail_in=sQ,AQ.hold=cQ,AQ.bits=gQ,QW(tQ,EQ),nQ=tQ.next_out,oQ=tQ.output,aQ=tQ.avail_out,rQ=tQ.next_in,iQ=tQ.input,sQ=tQ.avail_in,cQ=AQ.hold,gQ=AQ.bits,AQ.mode===fH&&(AQ.back=-1);break}for(AQ.back=0;bQ=AQ.lencode[cQ&(1<<AQ.lenbits)-1],uQ=bQ>>>24,hQ=bQ>>>16&255,BQ=65535&bQ,!(uQ<=gQ);){if(sQ===0)break e;sQ--,cQ+=iQ[rQ++]<<gQ,gQ+=8}if(hQ&&!(240&hQ)){for(QQ=uQ,fQ=hQ,_Q=BQ;bQ=AQ.lencode[_Q+((cQ&(1<<QQ+fQ)-1)>>QQ)],uQ=bQ>>>24,hQ=bQ>>>16&255,BQ=65535&bQ,!(QQ+uQ<=gQ);){if(sQ===0)break e;sQ--,cQ+=iQ[rQ++]<<gQ,gQ+=8}cQ>>>=QQ,gQ-=QQ,AQ.back+=QQ}if(cQ>>>=uQ,gQ-=uQ,AQ.back+=uQ,AQ.length=BQ,hQ===0){AQ.mode=16205;break}if(32&hQ){AQ.back=-1,AQ.mode=fH;break}if(64&hQ){tQ.msg="invalid literal/length code",AQ.mode=IH;break}AQ.extra=15&hQ,AQ.mode=16201;case 16201:if(AQ.extra){for(PQ=AQ.extra;gQ<PQ;){if(sQ===0)break e;sQ--,cQ+=iQ[rQ++]<<gQ,gQ+=8}AQ.length+=cQ&(1<<AQ.extra)-1,cQ>>>=AQ.extra,gQ-=AQ.extra,AQ.back+=AQ.extra}AQ.was=AQ.length,AQ.mode=16202;case 16202:for(;bQ=AQ.distcode[cQ&(1<<AQ.distbits)-1],uQ=bQ>>>24,hQ=bQ>>>16&255,BQ=65535&bQ,!(uQ<=gQ);){if(sQ===0)break e;sQ--,cQ+=iQ[rQ++]<<gQ,gQ+=8}if(!(240&hQ)){for(QQ=uQ,fQ=hQ,_Q=BQ;bQ=AQ.distcode[_Q+((cQ&(1<<QQ+fQ)-1)>>QQ)],uQ=bQ>>>24,hQ=bQ>>>16&255,BQ=65535&bQ,!(QQ+uQ<=gQ);){if(sQ===0)break e;sQ--,cQ+=iQ[rQ++]<<gQ,gQ+=8}cQ>>>=QQ,gQ-=QQ,AQ.back+=QQ}if(cQ>>>=uQ,gQ-=uQ,AQ.back+=uQ,64&hQ){tQ.msg="invalid distance code",AQ.mode=IH;break}AQ.offset=BQ,AQ.extra=15&hQ,AQ.mode=16203;case 16203:if(AQ.extra){for(PQ=AQ.extra;gQ<PQ;){if(sQ===0)break e;sQ--,cQ+=iQ[rQ++]<<gQ,gQ+=8}AQ.offset+=cQ&(1<<AQ.extra)-1,cQ>>>=AQ.extra,gQ-=AQ.extra,AQ.back+=AQ.extra}if(AQ.offset>AQ.dmax){tQ.msg="invalid distance too far back",AQ.mode=IH;break}AQ.mode=16204;case 16204:if(aQ===0)break e;if(CQ=EQ-aQ,AQ.offset>CQ){if(CQ=AQ.offset-CQ,CQ>AQ.whave&&AQ.sane){tQ.msg="invalid distance too far back",AQ.mode=IH;break}CQ>AQ.wnext?(CQ-=AQ.wnext,dQ=AQ.wsize-CQ):dQ=AQ.wnext-CQ,CQ>AQ.length&&(CQ=AQ.length),lQ=AQ.window}else lQ=oQ,dQ=nQ-AQ.offset,CQ=AQ.length;CQ>aQ&&(CQ=aQ),aQ-=CQ,AQ.length-=CQ;do oQ[nQ++]=lQ[dQ++];while(--CQ);AQ.length===0&&(AQ.mode=RH);break;case 16205:if(aQ===0)break e;oQ[nQ++]=AQ.length,aQ--,AQ.mode=RH;break;case CH:if(AQ.wrap){for(;gQ<32;){if(sQ===0)break e;sQ--,cQ|=iQ[rQ++]<<gQ,gQ+=8}if(EQ-=aQ,tQ.total_out+=EQ,AQ.total+=EQ,4&AQ.wrap&&EQ&&(tQ.adler=AQ.check=kj(AQ)?vG(AQ.check,oQ,EQ,nQ-EQ):CG(AQ.check,oQ,EQ,nQ-EQ)),EQ=aQ,4&AQ.wrap&&(kj(AQ)?cQ:vH(cQ))!==AQ.check){tQ.msg="incorrect data check",AQ.mode=IH;break}cQ=0,gQ=0}AQ.mode=16207;case 16207:if(AQ.wrap&&kj(AQ)){for(;gQ<32;){if(sQ===0)break e;sQ--,cQ+=iQ[rQ++]<<gQ,gQ+=8}if(4&AQ.wrap&&cQ!==(4294967295&AQ.total)){tQ.msg="incorrect length check",AQ.mode=IH;break}cQ=0,gQ=0}AQ.mode=16208;case 16208:wQ=cH;break e;case IH:wQ=uH;break e;case 16210:return hH;default:return lH}return tQ.next_out=nQ,tQ.avail_out=aQ,tQ.next_in=rQ,tQ.avail_in=sQ,AQ.hold=cQ,AQ.bits=gQ,(AQ.wsize||EQ!==tQ.avail_out&&AQ.mode<IH&&(AQ.mode<CH||eQ!==rH))&&MH(tQ,tQ.output,tQ.next_out,EQ-tQ.avail_out),IQ-=tQ.avail_in,EQ-=tQ.avail_out,tQ.total_in+=IQ,tQ.total_out+=EQ,AQ.total+=EQ,4&AQ.wrap&&EQ&&(tQ.adler=AQ.check=kj(AQ)?vG(AQ.check,oQ,EQ,tQ.next_out-EQ):CG(AQ.check,oQ,EQ,tQ.next_out-EQ)),tQ.data_type=AQ.bits+(AQ.last?64:0)+(AQ.mode===fH?128:0)+(AQ.mode===gH||AQ.mode===SH?256:0),(IQ===0&&EQ===0||eQ===rH)&&wQ===aH&&(wQ=pH),wQ},xH={inflateReset:wH,inflateReset2:OH,inflateResetKeep:bH,inflateInit:tQ=>NH(tQ,15),inflateInit2:NH,inflate:UH,inflateEnd:tQ=>{if(AH(tQ))return lH;let eQ=tQ.state;return eQ.window&&(eQ.window=null),tQ.state=null,aH},inflateGetHeader:(tQ,eQ)=>{if(AH(tQ))return lH;const AQ=tQ.state;return 2&AQ.wrap?(AQ.head=eQ,eQ.done=!1,aH):lH},inflateSetDictionary:(tQ,eQ)=>{const AQ=eQ.length;let iQ,oQ,rQ;return AH(tQ)?lH:(iQ=tQ.state,iQ.wrap!==0&&iQ.mode!==mH?lH:iQ.mode===mH&&(oQ=1,oQ=CG(oQ,eQ,AQ,0),oQ!==iQ.check)?uH:(rQ=MH(tQ,eQ,AQ,AQ),rQ?(iQ.mode=16210,hH):(iQ.havedict=1,aH)))},inflateInfo:"pako inflate (from Nodeca project)"},VH=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const FH=Object.prototype.toString,{Z_NO_FLUSH:BH,Z_FINISH:jH,Z_OK:GH,Z_STREAM_END:WH,Z_NEED_DICT:HH,Z_STREAM_ERROR:KH,Z_DATA_ERROR:YH,Z_MEM_ERROR:qH}=AG;function zH(tQ){this.options=PW.assign({chunkSize:65536,windowBits:15,to:""},tQ||{});const eQ=this.options;eQ.raw&&eQ.windowBits>=0&&eQ.windowBits<16&&(eQ.windowBits=-eQ.windowBits,eQ.windowBits===0&&(eQ.windowBits=-15)),!(eQ.windowBits>=0&&eQ.windowBits<16)||tQ&&tQ.windowBits||(eQ.windowBits+=32),eQ.windowBits>15&&eQ.windowBits<48&&!(15&eQ.windowBits)&&(eQ.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new UW,this.strm.avail_out=0;let AQ=xH.inflateInit2(this.strm,eQ.windowBits);if(AQ!==GH)throw new Error(yG[AQ]);if(this.header=new VH,xH.inflateGetHeader(this.strm,this.header),eQ.dictionary&&(typeof eQ.dictionary=="string"?eQ.dictionary=MW.string2buf(eQ.dictionary):FH.call(eQ.dictionary)==="[object ArrayBuffer]"&&(eQ.dictionary=new Uint8Array(eQ.dictionary)),eQ.raw&&(AQ=xH.inflateSetDictionary(this.strm,eQ.dictionary),AQ!==GH)))throw new Error(yG[AQ])}function JH(tQ,eQ){const AQ=new zH(eQ);if(AQ.push(tQ),AQ.err)throw AQ.msg||yG[AQ.err];return AQ.result}zH.prototype.push=function(tQ,eQ){const AQ=this.strm,iQ=this.options.chunkSize,oQ=this.options.dictionary;let rQ,nQ,sQ;if(this.ended)return!1;for(nQ=eQ===~~eQ?eQ:eQ===!0?jH:BH,FH.call(tQ)==="[object ArrayBuffer]"?AQ.input=new Uint8Array(tQ):AQ.input=tQ,AQ.next_in=0,AQ.avail_in=AQ.input.length;;){for(AQ.avail_out===0&&(AQ.output=new Uint8Array(iQ),AQ.next_out=0,AQ.avail_out=iQ),rQ=xH.inflate(AQ,nQ),rQ===HH&&oQ&&(rQ=xH.inflateSetDictionary(AQ,oQ),rQ===GH?rQ=xH.inflate(AQ,nQ):rQ===YH&&(rQ=HH));AQ.avail_in>0&&rQ===WH&&AQ.state.wrap>0&&tQ[AQ.next_in]!==0;)xH.inflateReset(AQ),rQ=xH.inflate(AQ,nQ);switch(rQ){case KH:case YH:case HH:case qH:return this.onEnd(rQ),this.ended=!0,!1}if(sQ=AQ.avail_out,AQ.next_out&&(AQ.avail_out===0||rQ===WH))if(this.options.to==="string"){let aQ=MW.utf8border(AQ.output,AQ.next_out),cQ=AQ.next_out-aQ,gQ=MW.buf2string(AQ.output,aQ);AQ.next_out=cQ,AQ.avail_out=iQ-cQ,cQ&&AQ.output.set(AQ.output.subarray(aQ,aQ+cQ),0),this.onData(gQ)}else this.onData(AQ.output.length===AQ.next_out?AQ.output:AQ.output.subarray(0,AQ.next_out));if(rQ!==GH||sQ!==0){if(rQ===WH)return rQ=xH.inflateEnd(this.strm),this.onEnd(rQ),this.ended=!0,!0;if(AQ.avail_in===0)break}}return!0},zH.prototype.onData=function(tQ){this.chunks.push(tQ)},zH.prototype.onEnd=function(tQ){tQ===GH&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=PW.flattenChunks(this.chunks)),this.chunks=[],this.err=tQ,this.msg=this.strm.msg};var XH={Inflate:zH,inflate:JH,inflateRaw:function(tQ,eQ){return(eQ=eQ||{}).raw=!0,JH(tQ,eQ)},ungzip:JH,constants:AG};const{Deflate:QH,deflate:ZH,deflateRaw:$H,gzip:eK}=JW,{Inflate:tK,inflate:iK,inflateRaw:nK,ungzip:rK}=XH;var oK=ZH,sK=iK,aK=function(tQ){return tQ[tQ.ONE_BYTE=0]="ONE_BYTE",tQ[tQ.TWO_BYTE=1]="TWO_BYTE",tQ}(aK||{});class cK{constructor(){og(this,"_sequence",0),og(this,"_startTime",Date.now()),og(this,"isUseOneByte",!0)}get startTime(){const eQ=Date.now()-this._startTime;return eQ<Math.pow(2,16)?eQ:(this._startTime+=Math.pow(2,16),this.startTime)}get sequence(){return this._sequence<Math.pow(2,32)?this._sequence++:(this._sequence-=Math.pow(2,32),this.sequence)}serialize(eQ){const AQ={commonPacketHeader:{length:0,reserved:0,extension:0,sequence:this.sequence},commonStreamHeader:this.startTime,extension:void 0,payload:eQ};if(eQ.byteLength>128){const sQ=new Uint8Array(4);sQ.set([1,0,0,0]);const aQ={id:0,length:4,data:sQ.buffer},cQ={profile:this.isUseOneByte?0:1,length:this.isUseOneByte?5:6,datas:[aQ]};AQ.commonPacketHeader.extension=1,AQ.extension=cQ,AQ.payload=this.compress(eQ),AQ.commonPacketHeader.length=8+(AQ.extension.length+2)+AQ.payload.byteLength}else AQ.commonPacketHeader.length=8+AQ.payload.byteLength;Dy("SHOW_DATASTREAM2_LOG")&&Qy.debug("send data header: ".concat(JSON.stringify(AQ.commonPacketHeader)));const iQ=new ArrayBuffer(AQ.commonPacketHeader.length),oQ=new Uint8Array(iQ),rQ=new DataView(iQ);let nQ=0;if(rQ.setUint16(nQ,AQ.commonPacketHeader.extension<<15|AQ.commonPacketHeader.reserved<<14|AQ.commonPacketHeader.length,!0),nQ+=2,rQ.setUint32(nQ,AQ.commonPacketHeader.sequence,!0),nQ+=4,rQ.setUint16(nQ,AQ.commonStreamHeader,!0),nQ+=2,AQ.extension){const sQ=this.serializeExtension(AQ.extension);oQ.set(new Uint8Array(sQ),nQ),nQ+=sQ.byteLength}if(oQ.set(new Uint8Array(AQ.payload),nQ),nQ+=AQ.payload.byteLength,nQ!==AQ.commonPacketHeader.length)throw Error("serialize error!");return iQ}deserialize(eQ){if(eQ.byteLength<4)return new ArrayBuffer(0);const AQ=new DataView(eQ);let iQ=0;const oQ=AQ.getUint16(iQ,!0);iQ+=2;const rQ={length:16383&oQ,reserved:(16384&oQ)>>14,extension:(32768&oQ)>>15,sequence:AQ.getUint16(iQ+2,!0)<<16|AQ.getUint16(iQ,!0)};let nQ,sQ;if(iQ+=4,Dy("SHOW_DATASTREAM2_LOG")&&Qy.debug("receive data header: ".concat(JSON.stringify(rQ))),AQ.getUint16(iQ,!0),iQ+=2,rQ.extension){sQ=this.deserializeExtension(eQ.slice(iQ)),iQ+=2+sQ.length,nQ=eQ.slice(iQ);let aQ=!1;if(sQ.datas.length>0){const cQ=sQ.datas.find(gQ=>gQ.id===0);cQ&&(aQ=(1&new DataView(cQ.data).getUint32(0,!0))==1)}nQ=aQ?this.decompress(nQ):nQ}else nQ=eQ.slice(8);return nQ}serializeExtension(eQ){const{profile:AQ,length:iQ,datas:oQ}=eQ,rQ=new ArrayBuffer(iQ+2),nQ=new Uint8Array(rQ),sQ=new DataView(rQ);let aQ=0;if(sQ.setUint8(aQ++,AQ),sQ.setUint8(aQ++,iQ),oQ.forEach(cQ=>{AQ?(sQ.setUint8(aQ++,cQ.id),sQ.setUint8(aQ++,cQ.length),nQ.set(new Uint8Array(cQ.data),aQ),aQ+=cQ.data.byteLength):(sQ.setUint8(aQ++,cQ.id|cQ.length<<4),nQ.set(new Uint8Array(cQ.data),aQ),aQ+=cQ.data.byteLength)}),aQ!==iQ+2)throw Error("serialize extension error, is ".concat(aQ,"!==").concat(iQ+2));return rQ}deserializeExtension(eQ){const AQ=new DataView(eQ);let iQ=0;const oQ=AQ.getUint8(iQ);iQ++;const rQ=AQ.getUint8(iQ);iQ++;const nQ=oQ===aK.TWO_BYTE,sQ=[],aQ=new DataView(eQ,2);let cQ=0;for(;cQ<rQ;){let gQ=0,IQ=0,EQ=new ArrayBuffer(0);nQ?(gQ=aQ.getUint8(cQ),cQ++,IQ=aQ.getUint8(cQ),cQ++):(gQ=15&aQ.getUint8(cQ),IQ=aQ.getUint8(cQ)>>4,cQ++),IQ>0&&(EQ=aQ.buffer.slice(cQ+2,cQ+2+IQ),cQ+=EQ.byteLength),sQ.push({id:gQ,length:IQ,data:EQ})}if(cQ!==rQ)throw Error("parse error");return{profile:oQ,length:rQ,datas:sQ}}decompress(eQ){return sK(new Uint8Array(eQ))}compress(eQ){return oK(new Uint8Array(eQ))}}const dK={name:"DataStream",create:(tQ,eQ)=>{const AQ=eQ?new lM(tQ):new uM(tQ);return AQ.useDataStream(new cK),AQ}};class lK extends Sv{constructor(eQ,AQ,iQ){super(),og(this,"ws",void 0),og(this,"requestId",1),og(this,"heartBeatTimer",void 0),og(this,"joinInfo",void 0),og(this,"clientId",void 0),og(this,"onOpen",()=>{this.emit("open"),this.startHeartBeatCheck()}),og(this,"onClose",oQ=>{this.emit("close"),this.dispose()}),og(this,"onMessage",oQ=>{const rQ=JSON.parse(oQ.data);if(!rQ||rQ.command!=="serverResponse"||!rQ.requestId)return rQ&&rQ.command==="serverStatus"&&rQ.serverStatus&&rQ.serverStatus.command?(this.emit("status",rQ.serverStatus),void this.emit(rQ.serverStatus.command,rQ.serverStatus)):void 0;this.emit("req_".concat(rQ.requestId),rQ)}),this.joinInfo=eQ,this.clientId=AQ,this.ws=new bw("cross-channel-".concat(this.clientId),iQ),this.ws.on(Tb.RECONNECTING,()=>{this.ws.reconnectMode="retry",this.emit("reconnecting")}),this.ws.on(Tb.CONNECTED,this.onOpen),this.ws.on(Tb.ON_MESSAGE,this.onMessage),this.ws.on(Tb.CLOSED,this.onClose)}isConnect(){return this.ws.state==="connected"}sendMessage(eQ){const AQ=this.requestId++;return eQ.requestId=AQ,eQ.seq=AQ,this.ws.sendMessage(eQ),AQ}waitStatus(eQ){return new Gh((AQ,iQ)=>{const oQ=window.setTimeout(()=>{iQ(new Sb(nv.TIMEOUT,"wait status timeout, status: ".concat(eQ)))},5e3);this.once(eQ,rQ=>{window.clearTimeout(oQ),rQ.state&&rQ.state!==0?iQ(new Sb(nv.CROSS_CHANNEL_WAIT_STATUS_ERROR,"wait status error, status: ".concat(eQ))):AQ(void 0)}),this.once("dispose",()=>{window.clearTimeout(oQ),iQ(new Sb(nv.WS_ABORT))})})}async request(eQ){if(this.ws.state==="closed")throw new Sb(nv.WS_DISCONNECT);const AQ=()=>new Gh((nQ,sQ)=>{this.ws.once(Tb.CLOSED,()=>sQ(new Sb(nv.WS_ABORT))),this.ws.once(Tb.CONNECTED,nQ)});this.ws.state!=="connected"&&await AQ();const iQ=this.sendMessage(eQ),oQ=new Gh((nQ,sQ)=>{const aQ=()=>{sQ(new Sb(nv.WS_ABORT))};this.ws.once(Tb.RECONNECTING,aQ),this.ws.once(Tb.CLOSED,aQ),this.once("req_".concat(iQ),nQ),$v(3e3).then(()=>{this.removeAllListeners("req_".concat(iQ)),this.ws.off(Tb.RECONNECTING,aQ),this.ws.off(Tb.CLOSED,aQ),sQ(new Sb(nv.TIMEOUT,"cross channel ws request timeout"))})}),rQ=await oQ;if(!rQ||rQ.code!==200)throw new Sb(nv.CROSS_CHANNEL_SERVER_ERROR_RESPONSE,"response: ".concat(JSON.stringify(rQ)));return rQ}async connect(eQ){this.ws.removeAllListeners(Tb.REQUEST_NEW_URLS),this.ws.on(Tb.REQUEST_NEW_URLS,AQ=>{AQ(eQ)}),await this.ws.init(eQ)}dispose(){this.clearHeartBeatCheck(),this.emit("dispose"),this.removeAllListeners(),this.ws.close()}sendPing(eQ){const AQ=this.requestId++;return eQ.requestId=AQ,this.ws.sendMessage(eQ),AQ}startHeartBeatCheck(){this.heartBeatTimer&&window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=window.setInterval(()=>{this.sendPing({command:"ping",appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sid:this.joinInfo.sid,ts:+new Date,requestId:0})},3e3)}clearHeartBeatCheck(){window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=void 0}}class uK extends Sv{set state(eQ){eQ!==this._state&&(eQ!==Lb.RELAY_STATE_FAILURE&&(this.errorCode=kb.RELAY_OK),this.emit("state",eQ,this.errorCode),this._state=eQ)}get state(){return this._state}constructor(eQ,AQ,iQ,oQ,rQ){super(),og(this,"joinInfo",void 0),og(this,"sid",void 0),og(this,"clientId",void 0),og(this,"cancelToken",EI.CancelToken.source()),og(this,"workerToken",void 0),og(this,"requestId",0),og(this,"signal",void 0),og(this,"prevChannelMediaConfig",void 0),og(this,"httpRetryConfig",void 0),og(this,"_resolution",void 0),og(this,"_state",Lb.RELAY_STATE_IDLE),og(this,"errorCode",kb.RELAY_OK),og(this,"onStatus",nQ=>{Qy.debug("[".concat(this.clientId,"] ChannelMediaStatus: ").concat(JSON.stringify(nQ))),nQ&&nQ.command&&(nQ.command==="onAudioPacketReceived"&&this.emit("event",Pb.PACKET_RECEIVED_AUDIO_FROM_SRC),nQ.command==="onVideoPacketReceived"&&this.emit("event",Pb.PACKET_RECEIVED_VIDEO_FROM_SRC),nQ.command==="onSrcTokenPrivilegeDidExpire"&&(this.errorCode=kb.SRC_TOKEN_EXPIRED,this.state=Lb.RELAY_STATE_FAILURE),nQ.command==="onDestTokenPrivilegeDidExpire"&&(this.errorCode=kb.DEST_TOKEN_EXPIRED,this.state=Lb.RELAY_STATE_FAILURE))}),og(this,"onReconnect",async()=>{Qy.debug("[".concat(this.clientId,"] ChannelMediaSocket disconnect, reconnecting")),this.emit("event",Pb.NETWORK_DISCONNECTED),this.state=Lb.RELAY_STATE_IDLE,this.prevChannelMediaConfig&&this.sendStartRelayMessage(this.prevChannelMediaConfig).catch(nQ=>{this.state!==Lb.RELAY_STATE_IDLE&&(Qy.error("auto restart channel media relay failed",nQ.toString()),this.errorCode=kb.SERVER_CONNECTION_LOST,this.state=Lb.RELAY_STATE_FAILURE)})}),this.joinInfo=eQ,this.clientId=AQ,this.sid=ty(),this.signal=new lK(this.joinInfo,this.clientId,iQ),this.httpRetryConfig=oQ,this._resolution=rQ}async startChannelMediaRelay(eQ){if(this.state!==Lb.RELAY_STATE_IDLE)throw new Sb(nv.INVALID_OPERATION);this.state=Lb.RELAY_STATE_CONNECTING,await this.connect(),Qy.debug("[".concat(this.clientId,"] startChannelMediaRelay: connect success"));try{await this.sendStartRelayMessage(eQ)}catch(AQ){throw AQ.data&&AQ.data.serverResponse&&AQ.data.serverResponse.command==="SetSourceChannel"?new Sb(nv.CROSS_CHANNEL_FAILED_JOIN_SRC):AQ.data&&AQ.data.serverResponse&&AQ.serverResponse.command==="SetDestChannelStatus"?new Sb(nv.CROSS_CHANNEL_FAILED_JOIN_DEST):AQ.data&&AQ.data.serverResponse&&AQ.serverResponse.command==="StartPacketTransfer"?new Sb(nv.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST):AQ}this.prevChannelMediaConfig=eQ}async updateChannelMediaRelay(eQ){if(this.state!==Lb.RELAY_STATE_RUNNING)throw new Sb(nv.INVALID_OPERATION);await this.sendUpdateMessage(eQ),this.prevChannelMediaConfig=eQ}async setVideoProfile(eQ){if(this._resolution=eQ,this.state!==Lb.RELAY_STATE_RUNNING)throw new Sb(nv.INVALID_OPERATION);const AQ=this.genMessage(Db.SetVideoProfile);await this.signal.request(AQ),Qy.debug("[".concat(this.clientId,"] startChannelMediaRelay: setVideoProfile success"))}async stopChannelMediaRelay(){await this.sendStopRelayMessage(),Qy.debug("[".concat(this.clientId,"] stopChannelMediaRelay: send stop message success")),this.state=Lb.RELAY_STATE_IDLE,this.dispose()}dispose(){Qy.debug("[".concat(this.clientId,"] disposeChannelMediaRelay")),this.cancelToken.cancel(),this.cancelToken=EI.CancelToken.source(),this.state=Lb.RELAY_STATE_IDLE,this.emit("dispose"),this.signal.dispose(),this.prevChannelMediaConfig=void 0}async connect(){const eQ=await kU(this.joinInfo,this.cancelToken.token,this.httpRetryConfig);this.workerToken=eQ.workerToken,await this.signal.connect(eQ.addressList),this.emit("event",Pb.NETWORK_CONNECTED),this.signal.on("status",this.onStatus),this.signal.on("reconnecting",this.onReconnect)}async sendStartRelayMessage(eQ){const AQ=this.genMessage(Db.StopPacketTransfer);await this.signal.request(AQ),await this.signal.waitStatus("Normal Quit"),Qy.debug("[".concat(this.clientId,"] startChannelMediaRelay: StopPacketTransfer success"));const iQ=this.genMessage(Db.SetSdkProfile,eQ);await this.signal.request(iQ),Qy.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSdkProfile success"));const oQ=this.genMessage(Db.SetSourceChannel,eQ);await this.signal.request(oQ),await this.signal.waitStatus("SetSourceChannelStatus"),this.emit("event",Pb.PACKET_JOINED_SRC_CHANNEL),Qy.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSourceChannel success"));const rQ=this.genMessage(Db.SetSourceUserId,eQ);await this.signal.request(rQ),Qy.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSourceUserId success"));const nQ=this.genMessage(Db.SetDestChannel,eQ);await this.signal.request(nQ),await this.signal.waitStatus("SetDestChannelStatus"),this.emit("event",Pb.PACKET_JOINED_DEST_CHANNEL),Qy.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetDestChannel success"));const sQ=this.genMessage(Db.StartPacketTransfer,eQ);await this.signal.request(sQ),this.emit("event",Pb.PACKET_SENT_TO_DEST_CHANNEL),this.state=Lb.RELAY_STATE_RUNNING,Qy.debug("[".concat(this.clientId,"] startChannelMediaRelay: StartPacketTransfer success")),this.setVideoProfile(this._resolution)}async sendUpdateMessage(eQ){const AQ=this.genMessage(Db.UpdateDestChannel,eQ);await this.signal.request(AQ),this.emit("event",Pb.PACKET_UPDATE_DEST_CHANNEL),Qy.debug("[".concat(this.clientId,"] sendUpdateMessage: UpdateDestChannel success"))}async sendStopRelayMessage(){const eQ=this.genMessage(Db.StopPacketTransfer);await this.signal.request(eQ),Qy.debug("[".concat(this.clientId,"] sendStopRelayMessage: StopPacketTransfer success"))}genMessage(eQ,AQ){const iQ=[],oQ=[],rQ=[];this.requestId+=1;const nQ={appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sdkVersion:vy,sid:this.sid,ts:Date.now(),requestId:this.requestId,seq:this.requestId,allocate:!0,clientRequest:{}};nQ.sdkVersion==="4.22.0"&&(nQ.sdkVersion="0.0.1");let sQ=null,aQ=null;switch(eQ){case Db.SetSdkProfile:return nQ.clientRequest={command:"SetSdkProfile",type:"multi_channel"},nQ;case Db.SetSourceChannel:if(aQ=AQ&&AQ.getSrcChannelMediaInfo(),!aQ)throw new Sb(nv.UNEXPECTED_ERROR,"can not find source config");return nQ.clientRequest={command:"SetSourceChannel",uid:"0",channelName:aQ.channelName,token:aQ.token||this.joinInfo.appId},nQ;case Db.SetSourceUserId:if(aQ=AQ&&AQ.getSrcChannelMediaInfo(),!aQ)throw new Sb(nv.UNEXPECTED_ERROR,"can not find source config");return nQ.clientRequest={command:"SetSourceUserId",uid:aQ.uid+""},nQ;case Db.SetDestChannel:if(sQ=AQ&&AQ.getDestChannelMediaInfo(),!sQ)throw new Sb(nv.UNEXPECTED_ERROR,"can not find dest config");return sQ.forEach(cQ=>{iQ.push(cQ.channelName),oQ.push(cQ.uid+""),rQ.push(cQ.token||this.joinInfo.appId)}),nQ.clientRequest={command:"SetDestChannel",channelName:iQ,uid:oQ,token:rQ},nQ;case Db.StartPacketTransfer:return nQ.clientRequest={command:"StartPacketTransfer"},nQ;case Db.Reconnect:return nQ.clientRequest={command:"Reconnect"},nQ;case Db.StopPacketTransfer:return nQ.clientRequest={command:"StopPacketTransfer"},nQ;case Db.UpdateDestChannel:if(sQ=AQ&&AQ.getDestChannelMediaInfo(),!sQ)throw new Sb(nv.UNEXPECTED_ERROR,"can not find dest config");return sQ.forEach(cQ=>{iQ.push(cQ.channelName),oQ.push(cQ.uid+""),rQ.push(cQ.token||this.joinInfo.appId)}),nQ.clientRequest={command:"UpdateDestChannel",channelName:iQ,uid:oQ,token:rQ},nQ;case Db.SetVideoProfile:nQ.clientRequest={command:"SetVideoProfile",width:this._resolution.width,height:this._resolution.height}}return nQ}}const hK={name:"ChannelMediaRelay",create:function(tQ){return new uK(tQ.joinInfo,tQ.clientId,tQ.websocketRetryConfig||_y,tQ.httpRetryConfig||_y,tQ.resolution)}};function pK(tQ,eQ){var AQ=Object.keys(tQ);if(Object.getOwnPropertySymbols){var iQ=Object.getOwnPropertySymbols(tQ);eQ&&(iQ=iQ.filter(function(oQ){return Object.getOwnPropertyDescriptor(tQ,oQ).enumerable})),AQ.push.apply(AQ,iQ)}return AQ}function _K(tQ){for(var eQ=1;eQ<arguments.length;eQ++){var AQ=arguments[eQ]!=null?arguments[eQ]:{};eQ%2?pK(Object(AQ),!0).forEach(function(iQ){og(tQ,iQ,AQ[iQ])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tQ,Object.getOwnPropertyDescriptors(AQ)):pK(Object(AQ)).forEach(function(iQ){Object.defineProperty(tQ,iQ,Object.getOwnPropertyDescriptor(AQ,iQ))})}return tQ}class EK extends Sv{constructor(eQ,AQ,iQ,oQ){super(),og(this,"spec",void 0),og(this,"token",void 0),og(this,"websocket",void 0),og(this,"pingpongTimer",void 0),og(this,"reconnectMode","retry"),og(this,"serviceMode",void 0),og(this,"reqId",0),og(this,"commandReqId",0),og(this,"handleWebSocketOpen",()=>{this.reconnectMode="retry",this.startPingPong()}),og(this,"handleWebSocketMessage",rQ=>{if(!rQ.data)return;const nQ=JSON.parse(rQ.data);nQ.requestId?this.emit("@".concat(nQ.requestId,"-").concat(nQ.sid),nQ):(sA.workerEvent(this.spec.sid,{actionType:"status",serverCode:nQ.code,workerType:this.serviceMode===Cb.TRANSCODE?1:2}),this.emit(bb.PUBLISH_STREAM_STATUS,nQ))}),this.spec=AQ,this.token=eQ,this.serviceMode=oQ,this.websocket=new bw("live-streaming",iQ),this.websocket.on(Tb.CONNECTED,this.handleWebSocketOpen),this.websocket.on(Tb.ON_MESSAGE,this.handleWebSocketMessage),this.websocket.on(Tb.REQUEST_NEW_URLS,(rQ,nQ)=>{kv(this,bb.REQUEST_NEW_ADDRESS).then(rQ).catch(nQ)}),this.websocket.on(Tb.RECONNECTING,()=>{this.websocket.reconnectMode=this.reconnectMode})}init(eQ){return this.websocket.init(eQ)}async request(eQ,AQ,iQ,oQ){this.reqId+=1,eQ==="request"&&(this.commandReqId+=1);const rQ=this.commandReqId,nQ=this.reqId;if(!nQ||!this.websocket)throw new Sb(nv.UNEXPECTED_ERROR);const sQ=_K({command:eQ,sdkVersion:vy==="4.22.0"?"0.0.1":vy,seq:nQ,requestId:nQ,allocate:iQ,cname:this.spec.cname,appId:this.spec.appId,sid:this.spec.sid,uid:this.spec.uid.toString(),ts:Math.floor(Date.now()/1e3)},AQ);if(this.websocket.state==="closed")throw new Sb(nv.WS_DISCONNECT);const aQ=()=>new Gh((EQ,CQ)=>{this.websocket.once(Tb.CLOSED,()=>CQ(new Sb(nv.WS_ABORT))),this.websocket.once(Tb.CONNECTED,EQ)});this.websocket.state!=="connected"&&await aQ(),sQ.clientRequest&&(sQ.clientRequest.workerToken=this.token);const cQ=new Gh((EQ,CQ)=>{const dQ=()=>{CQ(new Sb(nv.WS_ABORT))};this.websocket.once(Tb.RECONNECTING,dQ),this.websocket.once(Tb.CLOSED,dQ),this.once("@".concat(nQ,"-").concat(this.spec.sid),lQ=>{EQ(lQ)})});oQ&&sA.workerEvent(this.spec.sid,_K(_K({},oQ),{},{requestId:rQ,actionType:"request",payload:JSON.stringify(AQ.clientRequest),serverCode:0,code:0}));const gQ=Date.now();this.websocket.sendMessage(sQ);let IQ=null;try{IQ=await cQ}catch(EQ){if(this.websocket.state==="closed")throw EQ;return await aQ(),await this.request(eQ,AQ,iQ)}return oQ&&sA.workerEvent(this.spec.sid,_K(_K({},oQ),{},{requestId:rQ,actionType:"response",payload:JSON.stringify(IQ.serverResponse),serverCode:IQ.code,success:IQ.code===200,responseTime:Date.now()-gQ})),IQ.code!==200&&this.handleResponseError(IQ),IQ}tryNextAddress(){this.reconnectMode="tryNext",this.websocket.reconnect("tryNext")}close(){const eQ=vy==="4.22.0"?"0.0.1":vy;this.reqId+=1,this.websocket.state==="connected"?(this.websocket.sendMessage({command:"request",appId:this.spec.appId,cname:this.spec.cname,uid:this.spec.uid.toString(),sdkVersion:eQ,sid:this.spec.sid,seq:this.reqId,ts:Math.floor(Date.now()/1e3),requestId:this.reqId,clientRequest:{command:"DestroyWorker"}}),this.websocket.close(!1,!0)):this.websocket.close(!1),this.pingpongTimer&&(window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0)}handleResponseError(eQ){switch(eQ.code){case Ob.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM:return void Qy.warning("live stream response already exists stream");case Ob.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR:case Ob.LIVE_STREAM_RESPONSE_BAD_STREAM:case Ob.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR:return new Sb(nv.LIVE_STREAMING_INVALID_ARGUMENT,"",{code:eQ.code}).throw();case Ob.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST:if(eQ.serverResponse.command==="UnpublishStream")return;throw new Sb(nv.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream response wm worker not exist",{retry:!0});case Ob.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED:return new Sb(nv.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED,"",{code:eQ.code}).throw();case Ob.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:{const AQ=new Sb(nv.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE);return this.emit(bb.WARNING,AQ,eQ.serverResponse.url)}case Ob.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN:{const AQ=new Sb(nv.LIVE_STREAMING_WARN_FREQUENT_REQUEST);return this.emit(bb.WARNING,AQ,eQ.serverResponse.url)}case Ob.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH:throw new Sb(nv.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream response wm worker not exist",{retry:!0});case Ob.LIVE_STREAM_RESPONSE_NOT_SUPPORTED:return new Sb(nv.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED,"",{code:eQ.code}).throw();case Ob.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM:{const AQ=new Sb(nv.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT);return this.emit(bb.WARNING,AQ,eQ.serverResponse.url)}case Ob.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR:return new Sb(nv.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"",{code:eQ.code}).throw();case Ob.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT:throw new Sb(nv.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream resource limit",{retry:!0,changeAddress:!0});case Ob.LIVE_STREAM_RESPONSE_WORKER_LOST:case Ob.LIVE_STREAM_RESPONSE_WORKER_QUIT:if(eQ.serverResponse.command==="UnpublishStream")return;throw new Sb(nv.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{retry:!0,changeAddress:!0});case Ob.ERROR_FAIL_SEND_MESSAGE:if(eQ.serverResponse.command==="UnpublishStream")return;if(eQ.serverResponse.command==="UpdateTranscoding"||eQ.serverResponse.command==="ControlStream")return new Sb(nv.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{code:eQ.code}).throw();throw new Sb(nv.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{retry:!0,changeAddress:!0});case Ob.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case Ob.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case Ob.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case Ob.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:return new Sb(nv.LIVE_STREAMING_CDN_ERROR,"",{code:eQ.code}).throw()}}startPingPong(){this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(()=>{this.websocket.state==="connected"&&this.request("ping",{}).catch(iy)},6e3)}}function mK(tQ,eQ){var AQ=Object.keys(tQ);if(Object.getOwnPropertySymbols){var iQ=Object.getOwnPropertySymbols(tQ);eQ&&(iQ=iQ.filter(function(oQ){return Object.getOwnPropertyDescriptor(tQ,oQ).enumerable})),AQ.push.apply(AQ,iQ)}return AQ}function fK(tQ){for(var eQ=1;eQ<arguments.length;eQ++){var AQ=arguments[eQ]!=null?arguments[eQ]:{};eQ%2?mK(Object(AQ),!0).forEach(function(iQ){og(tQ,iQ,AQ[iQ])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tQ,Object.getOwnPropertyDescriptors(AQ)):mK(Object(AQ)).forEach(function(iQ){Object.defineProperty(tQ,iQ,Object.getOwnPropertyDescriptor(AQ,iQ))})}return tQ}class TK extends Sv{constructor(eQ){let AQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_y,iQ=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_y;super(),og(this,"onLiveStreamWarning",void 0),og(this,"onLiveStreamError",void 0),og(this,"spec",void 0),og(this,"retryTimeout",1e4),og(this,"connection",void 0),og(this,"httpRetryConfig",void 0),og(this,"wsRetryConfig",void 0),og(this,"streamingTasks",new Map),og(this,"isStartingStreamingTask",!1),og(this,"taskMutex",new hy("live-streaming")),og(this,"cancelToken",EI.CancelToken.source()),og(this,"transcodingConfig",void 0),og(this,"uapResponse",void 0),og(this,"lastTaskId",1),og(this,"statusError",new Map),this.spec=eQ,this.httpRetryConfig=iQ,this.wsRetryConfig=AQ}async setTranscodingConfig(eQ){const AQ=fK(fK({},Ab),eQ);AQ.videoCodecProfile!==66&&AQ.videoCodecProfile!==77&&AQ.videoCodecProfile!==100&&(Qy.debug("[".concat(this.spec.clientId,"] set transcoding config, fix video codec profile: ").concat(AQ.videoCodecProfile," -> 100")),AQ.videoCodecProfile=100),AQ.transcodingUsers||(AQ.transcodingUsers=AQ.userConfigs),AQ.transcodingUsers&&(AQ.transcodingUsers=AQ.transcodingUsers.map(nQ=>fK(fK(fK({},Ib),nQ),{},{zOrder:nQ.zOrder?nQ.zOrder+1:1}))),function(nQ){uv(nQ.width)||av(nQ.width,"config.width",0,1e4),uv(nQ.height)||av(nQ.height,"config.height",0,1e4),uv(nQ.videoBitrate)||av(nQ.videoBitrate,"config.videoBitrate",1,1e6),uv(nQ.videoFrameRate)||av(nQ.videoFrameRate,"config.videoFrameRate"),uv(nQ.lowLatency)||ov(nQ.lowLatency,"config.lowLatency"),uv(nQ.audioSampleRate)||sv(nQ.audioSampleRate,"config.audioSampleRate",[32e3,44100,48e3]),uv(nQ.audioBitrate)||av(nQ.audioBitrate,"config.audioBitrate",1,128),uv(nQ.audioChannels)||sv(nQ.audioChannels,"config.audioChannels",[1,2,3,4,5]),uv(nQ.videoGop)||av(nQ.videoGop,"config.videoGop"),uv(nQ.videoCodecProfile)||sv(nQ.videoCodecProfile,"config.videoCodecProfile",[66,77,100]),uv(nQ.userCount)||av(nQ.userCount,"config.userCount",0,17),uv(nQ.backgroundColor)||av(nQ.backgroundColor,"config.backgroundColor",0,16777215),uv(nQ.userConfigExtraInfo)||dv(nQ.userConfigExtraInfo,"config.userConfigExtraInfo",0,4096,!1),nQ.transcodingUsers&&!uv(nQ.transcodingUsers)&&(lv(nQ.transcodingUsers,"config.transcodingUsers"),nQ.transcodingUsers.forEach((sQ,aQ)=>{Rb(sQ.uid),uv(sQ.x)||av(sQ.x,"transcodingUser[".concat(aQ,"].x"),0,1e4),uv(sQ.y)||av(sQ.y,"transcodingUser[".concat(aQ,"].y"),0,1e4),uv(sQ.width)||av(sQ.width,"transcodingUser[".concat(aQ,"].width"),0,1e4),uv(sQ.height)||av(sQ.height,"transcodingUser[".concat(aQ,"].height"),0,1e4),uv(sQ.zOrder)||av(sQ.zOrder-1,"transcodingUser[".concat(aQ,"].zOrder"),0,100),uv(sQ.alpha)||av(sQ.alpha,"transcodingUser[".concat(aQ,"].alpha"),0,1,!1)})),uv(nQ.watermark)||yb(nQ.watermark,"watermark"),uv(nQ.backgroundImage)||yb(nQ.backgroundImage,"backgroundImage"),nQ.images&&!uv(nQ.images)&&(lv(nQ.images,"config.images"),nQ.images.forEach((sQ,aQ)=>{yb(sQ,"images[".concat(aQ,"]"))}))}(AQ);const iQ=[];AQ.images&&iQ.push(...AQ.images.map(nQ=>fK(fK(fK({},vb),nQ),{},{zOrder:255}))),AQ.backgroundImage&&(iQ.push(fK(fK(fK({},vb),AQ.backgroundImage),{},{zOrder:0})),delete AQ.backgroundImage),AQ.watermark&&(iQ.push(fK(fK(fK({},vb),AQ.watermark),{},{zOrder:255})),delete AQ.watermark),AQ.images=iQ,AQ.transcodingUsers&&(AQ.userConfigs=AQ.transcodingUsers.map(nQ=>fK({},nQ)),AQ.userCount=AQ.transcodingUsers.length,delete AQ.transcodingUsers);const oQ=(AQ.userConfigs||[]).map(nQ=>typeof nQ.uid=="number"?Gh.resolve(nQ.uid):OU(nQ.uid,this.spec,this.cancelToken.token,this.httpRetryConfig));if((await Gh.all(oQ)).forEach((nQ,sQ)=>{AQ.userConfigs&&AQ.userConfigs[sQ]&&(AQ.userConfigs[sQ].uid=nQ)}),this.transcodingConfig=AQ,this.connection)try{var rQ;const nQ=await this.connection.request("request",{clientRequest:{command:"UpdateTranscoding",transcodingConfig:this.transcodingConfig}},!1,{command:"UpdateTranscoding",workerType:1,requestByUser:!0,tid:Array.from(Qw(rQ=this.streamingTasks).call(rQ)).map(sQ=>sQ.taskId).join("#")});Qy.debug("[".concat(this.spec.clientId,"] update live transcoding config success, code: ").concat(nQ.code,", config:"),JSON.stringify(this.transcodingConfig))}catch(nQ){if(!nQ.data||!nQ.data.retry)throw nQ;nQ.data.changeAddress&&this.connection.tryNextAddress(),this.streamingTasks.forEach(sQ=>{Qy.warning("[".concat(this.spec.clientId,"] live streaming receive error"),nQ.toString(),"try to republish",sQ.url),this.startLiveStreamingTask(sQ.url,sQ.mode,nQ).then(()=>{Qy.debug("[".concat(this.spec.clientId,"] live streaming republish ").concat(sQ.url," success"))}).catch(aQ=>{Qy.error("[".concat(this.spec.clientId,"] live streaming republish failed"),sQ.url,aQ.toString()),this.onLiveStreamError&&this.onLiveStreamError(sQ.url,aQ)})})}}async startLiveStreamingTask(eQ,AQ,iQ){if(!this.transcodingConfig&&AQ===Cb.TRANSCODE)throw new Sb(nv.INVALID_OPERATION,"[LiveStreaming] no transcoding config found, can not start transcoding streaming task");const oQ={command:"PublishStream",ts:Date.now(),url:eQ,uid:this.spec.uid.toString(),autoDestroyTime:100,acceptImageTimeout:!0};Qy.debug("[".concat(this.spec.clientId,"] start live streaming ").concat(eQ,", mode: ").concat(AQ));const rQ=await this.taskMutex.lock();if(!this.connection&&iQ)return void rQ();if(this.streamingTasks.get(eQ)&&!iQ)return rQ(),new Sb(nv.LIVE_STREAMING_TASK_CONFLICT).throw();try{this.connection||(this.connection=await this.connect(AQ))}catch(sQ){throw rQ(),sQ}switch(AQ){case Cb.TRANSCODE:oQ.transcodingConfig=fK({},this.transcodingConfig);case Cb.RAW:}this.uapResponse&&this.uapResponse.vid&&(oQ.vid=this.uapResponse.vid),this.isStartingStreamingTask=!0;const nQ=this.lastTaskId++;try{const sQ=new Gh((cQ,gQ)=>{$v(this.retryTimeout).then(()=>{if(iQ)return gQ(iQ);const IQ=this.statusError.get(eQ);return IQ?(this.statusError.delete(eQ),gQ(IQ)):void 0})}),aQ=await Gh.race([this.connection.request("request",{clientRequest:oQ},!0,{url:eQ,command:"PublishStream",workerType:AQ===Cb.TRANSCODE?1:2,requestByUser:!iQ,tid:nQ.toString()}),sQ]);this.isStartingStreamingTask=!1,Qy.debug("[".concat(this.spec.clientId,"] live streaming started, code: ").concat(aQ.code)),this.streamingTasks.set(eQ,{clientRequest:oQ,mode:AQ,url:eQ,taskId:nQ}),rQ()}catch(sQ){if(rQ(),this.isStartingStreamingTask=!1,!sQ.data||!sQ.data.retry||iQ)throw sQ;return sQ.data.changeAddress?(this.connection.tryNextAddress(),await this.startLiveStreamingTask(eQ,AQ,sQ)):await this.startLiveStreamingTask(eQ,AQ,sQ)}}stopLiveStreamingTask(eQ){return new Gh((AQ,iQ)=>{const oQ=this.streamingTasks.get(eQ);if(!oQ||!this.connection)return new Sb(nv.UNEXPECTED_ERROR,"can not find streaming task to stop").throw();const rQ=oQ.mode;oQ.abortTask=()=>{Qy.debug("[".concat(this.spec.clientId,"] stop live streaming success(worker exception)")),this.streamingTasks.delete(eQ),AQ()},this.connection.request("request",{clientRequest:{command:"UnpublishStream",url:oQ.url}},!1,{url:eQ,command:"UnPublishStream",workerType:rQ===Cb.TRANSCODE?1:2,requestByUser:!0,tid:(this.lastTaskId++).toString()}).then(nQ=>{Qy.debug("[".concat(this.spec.clientId,"] stop live streaming success, code: ").concat(nQ.code)),this.streamingTasks.delete(eQ),this.streamingTasks.size===0&&(this.connection&&this.connection.close(),this.connection=void 0),AQ()}).catch(iQ)})}resetAllTask(){var eQ;const AQ=Array.from(Qw(eQ=this.streamingTasks).call(eQ));this.terminate();for(const iQ of AQ)this.startLiveStreamingTask(iQ.url,iQ.mode).catch(oQ=>{this.onLiveStreamError&&this.onLiveStreamError(iQ.url,oQ)})}terminate(){this.cancelToken&&this.cancelToken.cancel(),this.streamingTasks=new Map,this.isStartingStreamingTask=!1,this.statusError=new Map,this.cancelToken=EI.CancelToken.source(),this.uapResponse=void 0,this.connection&&this.connection.close(),this.connection=void 0}async connect(eQ){if(this.connection)throw new Sb(nv.UNEXPECTED_ERROR,"live streaming connection has already connected");const AQ=await kv(this,wb.REQUEST_WORKER_MANAGER_LIST,eQ);return this.uapResponse=AQ,this.connection=new EK(AQ.workerToken,this.spec,this.wsRetryConfig,eQ),this.connection.on(bb.WARNING,(iQ,oQ)=>this.onLiveStreamWarning&&this.onLiveStreamWarning(oQ,iQ)),this.connection.on(bb.PUBLISH_STREAM_STATUS,iQ=>this.handlePublishStreamServer(iQ)),this.connection.on(bb.REQUEST_NEW_ADDRESS,(iQ,oQ)=>{if(!this.connection)return oQ(new Sb(nv.UNEXPECTED_ERROR,"can not get new live streaming address list"));kv(this,wb.REQUEST_WORKER_MANAGER_LIST,eQ).then(rQ=>{this.uapResponse=rQ,iQ(rQ.addressList)}).catch(oQ)}),await this.connection.init(AQ.addressList),this.connection}handlePublishStreamServer(eQ){const AQ=eQ.serverStatus&&eQ.serverStatus.url||"empty_url",iQ=this.streamingTasks.get(AQ),oQ=eQ.reason;switch(eQ.code){case Ob.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case Ob.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case Ob.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case Ob.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:{const nQ=new Sb(nv.LIVE_STREAMING_CDN_ERROR,"",{code:eQ.code});if(iQ)return Qy.error(nQ.toString()),this.onLiveStreamError&&this.onLiveStreamError(AQ,nQ);if(!this.isStartingStreamingTask)return;this.statusError.set(AQ,nQ)}case Ob.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:{const nQ=new Sb(nv.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE,oQ);return this.onLiveStreamWarning&&this.onLiveStreamWarning(AQ,nQ)}case Ob.LIVE_STREAM_RESPONSE_WORKER_LOST:case Ob.LIVE_STREAM_RESPONSE_WORKER_QUIT:{var rQ;if(!this.connection)return;this.connection.tryNextAddress();const nQ=Array.from(Qw(rQ=this.streamingTasks).call(rQ));for(const sQ of nQ)sQ.abortTask?sQ.abortTask():(Qy.warning("[".concat(this.spec.clientId,"] publish stream status code"),eQ.code,"try to republish",sQ.url),this.startLiveStreamingTask(sQ.url,sQ.mode,new Sb(nv.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"",{code:eQ.code})).then(()=>{Qy.debug("[".concat(this.spec.clientId,"] republish live stream success"),sQ.url)}).catch(aQ=>{Qy.error(aQ.toString()),this.onLiveStreamError&&this.onLiveStreamError(sQ.url,aQ)}));return}}}hasUrl(eQ){return this.streamingTasks.has(eQ)}}const SK={name:"LiveStreaming",create:function(tQ){return new TK(tQ.joinInfo,tQ.websocketRetryConfig||_y,tQ.httpRetryConfig||_y)}};function gK(tQ){let eQ=DK();return function(AQ,iQ){let oQ=AQ.appId;oQ!==void 0&&(KK(iQ,10),VK(iQ,oQ));let rQ=AQ.cid;rQ!==void 0&&(KK(iQ,16),KK(iQ,rQ));let nQ=AQ.cname;nQ!==void 0&&(KK(iQ,26),VK(iQ,nQ));let sQ=AQ.deviceId;sQ!==void 0&&(KK(iQ,34),VK(iQ,sQ));let aQ=AQ.elapse;aQ!==void 0&&(KK(iQ,40),YK(iQ,aQ));let cQ=AQ.fileSize;cQ!==void 0&&(KK(iQ,48),YK(iQ,OK(cQ)));let gQ=AQ.height;gQ!==void 0&&(KK(iQ,56),YK(iQ,OK(gQ)));let IQ=AQ.jpg;IQ!==void 0&&(KK(iQ,66),KK(iQ,IQ.length),function(VQ,TQ){let kQ=MK(VQ,TQ.length);VQ.bytes.set(TQ,kQ)}(iQ,IQ));let EQ=AQ.networkType;EQ!==void 0&&(KK(iQ,72),YK(iQ,OK(EQ)));let CQ=AQ.osType;CQ!==void 0&&(KK(iQ,80),YK(iQ,OK(CQ)));let dQ=AQ.requestId;dQ!==void 0&&(KK(iQ,90),VK(iQ,dQ));let lQ=AQ.sdkVersion;lQ!==void 0&&(KK(iQ,98),VK(iQ,lQ));let uQ=AQ.sequence;uQ!==void 0&&(KK(iQ,104),YK(iQ,OK(uQ)));let hQ=AQ.sid;hQ!==void 0&&(KK(iQ,114),VK(iQ,hQ));let BQ=AQ.timestamp;BQ!==void 0&&(KK(iQ,120),YK(iQ,BQ));let QQ=AQ.uid;QQ!==void 0&&(KK(iQ,128),KK(iQ,QQ));let fQ=AQ.vid;fQ!==void 0&&(KK(iQ,136),KK(iQ,fQ));let _Q=AQ.width;_Q!==void 0&&(KK(iQ,144),YK(iQ,OK(_Q)));let RQ=AQ.service;RQ!==void 0&&(KK(iQ,152),KK(iQ,RQ));let wQ=AQ.callbackData;wQ!==void 0&&(KK(iQ,162),VK(iQ,wQ));let bQ=AQ.jpgEncryption;bQ!==void 0&&(KK(iQ,168),KK(iQ,bQ));let NQ=AQ.requestType;NQ!==void 0&&(KK(iQ,176),KK(iQ,NQ));let UQ=AQ.scorePorn;UQ!==void 0&&(KK(iQ,185),WK(iQ,UQ));let PQ=AQ.scoreSexy;PQ!==void 0&&(KK(iQ,193),WK(iQ,PQ));let OQ=AQ.scoreNeutral;OQ!==void 0&&(KK(iQ,201),WK(iQ,OQ));let YQ=AQ.scene;YQ!==void 0&&(KK(iQ,208),KK(iQ,YQ));let SQ=AQ.ossFilePrefix;SQ!==void 0&&(KK(iQ,218),VK(iQ,SQ));let xQ=AQ.serviceVendor;if(xQ!==void 0)for(let VQ of xQ){KK(iQ,226);let TQ=DK();IK(VQ,TQ),KK(iQ,TQ.limit),FK(iQ,TQ),PK(TQ)}}(tQ,eQ),function(AQ){let iQ=AQ.bytes,oQ=AQ.limit;return iQ.length===oQ?iQ:iQ.subarray(0,oQ)}(eQ)}function RK(tQ){return function(AQ){let iQ={};e:for(;!kK(AQ);){let oQ=HK(AQ);switch(oQ>>>3){case 0:break e;case 1:iQ.code=HK(AQ);break;case 2:iQ.msg=xK(AQ,HK(AQ));break;case 3:{let rQ=vK(AQ);iQ.data=CK(AQ),AQ.limit=rQ;break}default:yK(AQ,7&oQ)}}return iQ}({bytes:eQ=tQ,offset:0,limit:eQ.length});var eQ}function CK(tQ){let eQ={};e:for(;!kK(tQ);){let AQ=HK(tQ);switch(AQ>>>3){case 0:break e;case 1:eQ.requestId=xK(tQ,HK(tQ));break;case 2:eQ.requestType=HK(tQ)>>>0;break;case 3:eQ.scorePorn=GK(tQ);break;case 4:eQ.scoreSexy=GK(tQ);break;case 5:eQ.scoreNeutral=GK(tQ);break;case 6:eQ.requestScene=HK(tQ)>>>0;break;case 7:eQ.scene=HK(tQ)>>>0;break;default:yK(tQ,7&AQ)}}return eQ}function IK(tQ,eQ){let AQ=tQ.service;AQ!==void 0&&(KK(eQ,8),KK(eQ,AQ));let iQ=tQ.vendor;iQ!==void 0&&(KK(eQ,16),KK(eQ,iQ));let oQ=tQ.token;oQ!==void 0&&(KK(eQ,26),VK(eQ,oQ));let rQ=tQ.callbackUrl;rQ!==void 0&&(KK(eQ,34),VK(eQ,rQ))}function vK(tQ){let eQ=HK(tQ),AQ=tQ.limit;return tQ.limit=tQ.offset+eQ,AQ}function yK(tQ,eQ){switch(eQ){case 0:for(;128&BK(tQ););break;case 2:LK(tQ,HK(tQ));break;case 5:LK(tQ,4);break;case 1:LK(tQ,8);break;default:throw new Error("Unimplemented type: "+eQ)}}let AK=new Float32Array(1);new Uint8Array(AK.buffer);let bK=new Float64Array(1),wK=new Uint8Array(bK.buffer);function OK(tQ){return{low:tQ|=0,high:tQ>>31,unsigned:tQ>=0}}let NK=[];function DK(){const tQ=NK.pop();return tQ?(tQ.offset=tQ.limit=0,tQ):{bytes:new Uint8Array(64),offset:0,limit:0}}function PK(tQ){NK.push(tQ)}function LK(tQ,eQ){if(tQ.offset+eQ>tQ.limit)throw new Error("Skip past limit");tQ.offset+=eQ}function kK(tQ){return tQ.offset>=tQ.limit}function MK(tQ,eQ){let AQ=tQ.bytes,iQ=tQ.offset,oQ=tQ.limit,rQ=iQ+eQ;if(rQ>AQ.length){let nQ=new Uint8Array(2*rQ);nQ.set(AQ),tQ.bytes=nQ}return tQ.offset=rQ,rQ>oQ&&(tQ.limit=rQ),iQ}function UK(tQ,eQ){let AQ=tQ.offset;if(AQ+eQ>tQ.limit)throw new Error("Read past limit");return tQ.offset+=eQ,AQ}function xK(tQ,eQ){let AQ=UK(tQ,eQ),iQ=String.fromCharCode,oQ=tQ.bytes,rQ="ï¿½",nQ="";for(let sQ=0;sQ<eQ;sQ++){let aQ,cQ,gQ,IQ,EQ=oQ[sQ+AQ];128&EQ?(224&EQ)==192?sQ+1>=eQ?nQ+=rQ:(aQ=oQ[sQ+AQ+1],(192&aQ)!=128?nQ+=rQ:(IQ=(31&EQ)<<6|63&aQ,IQ<128?nQ+=rQ:(nQ+=iQ(IQ),sQ++))):(240&EQ)==224?sQ+2>=eQ?nQ+=rQ:(aQ=oQ[sQ+AQ+1],cQ=oQ[sQ+AQ+2],(49344&(aQ|cQ<<8))!=32896?nQ+=rQ:(IQ=(15&EQ)<<12|(63&aQ)<<6|63&cQ,IQ<2048||IQ>=55296&&IQ<=57343?nQ+=rQ:(nQ+=iQ(IQ),sQ+=2))):(248&EQ)==240?sQ+3>=eQ?nQ+=rQ:(aQ=oQ[sQ+AQ+1],cQ=oQ[sQ+AQ+2],gQ=oQ[sQ+AQ+3],(12632256&(aQ|cQ<<8|gQ<<16))!=8421504?nQ+=rQ:(IQ=(7&EQ)<<18|(63&aQ)<<12|(63&cQ)<<6|63&gQ,IQ<65536||IQ>1114111?nQ+=rQ:(IQ-=65536,nQ+=iQ(55296+(IQ>>10),56320+(1023&IQ)),sQ+=3))):nQ+=rQ:nQ+=iQ(EQ)}return nQ}function VK(tQ,eQ){let AQ=eQ.length,iQ=0;for(let nQ=0;nQ<AQ;nQ++){let sQ=eQ.charCodeAt(nQ);sQ>=55296&&sQ<=56319&&nQ+1<AQ&&(sQ=(sQ<<10)+eQ.charCodeAt(++nQ)-56613888),iQ+=sQ<128?1:sQ<2048?2:sQ<65536?3:4}KK(tQ,iQ);let oQ=MK(tQ,iQ),rQ=tQ.bytes;for(let nQ=0;nQ<AQ;nQ++){let sQ=eQ.charCodeAt(nQ);sQ>=55296&&sQ<=56319&&nQ+1<AQ&&(sQ=(sQ<<10)+eQ.charCodeAt(++nQ)-56613888),sQ<128?rQ[oQ++]=sQ:(sQ<2048?rQ[oQ++]=sQ>>6&31|192:(sQ<65536?rQ[oQ++]=sQ>>12&15|224:(rQ[oQ++]=sQ>>18&7|240,rQ[oQ++]=sQ>>12&63|128),rQ[oQ++]=sQ>>6&63|128),rQ[oQ++]=63&sQ|128)}}function FK(tQ,eQ){let AQ=MK(tQ,eQ.limit),iQ=tQ.bytes,oQ=eQ.bytes;for(let rQ=0,nQ=eQ.limit;rQ<nQ;rQ++)iQ[rQ+AQ]=oQ[rQ]}function BK(tQ){return tQ.bytes[UK(tQ,1)]}function jK(tQ,eQ){let AQ=MK(tQ,1);tQ.bytes[AQ]=eQ}function GK(tQ){let eQ=UK(tQ,8),AQ=tQ.bytes;return wK[0]=AQ[eQ++],wK[1]=AQ[eQ++],wK[2]=AQ[eQ++],wK[3]=AQ[eQ++],wK[4]=AQ[eQ++],wK[5]=AQ[eQ++],wK[6]=AQ[eQ++],wK[7]=AQ[eQ++],bK[0]}function WK(tQ,eQ){let AQ=MK(tQ,8),iQ=tQ.bytes;bK[0]=eQ,iQ[AQ++]=wK[0],iQ[AQ++]=wK[1],iQ[AQ++]=wK[2],iQ[AQ++]=wK[3],iQ[AQ++]=wK[4],iQ[AQ++]=wK[5],iQ[AQ++]=wK[6],iQ[AQ++]=wK[7]}function HK(tQ){let eQ,AQ=0,iQ=0;do eQ=BK(tQ),AQ<32&&(iQ|=(127&eQ)<<AQ),AQ+=7;while(128&eQ);return iQ}function KK(tQ,eQ){for(eQ>>>=0;eQ>=128;)jK(tQ,127&eQ|128),eQ>>>=7;jK(tQ,eQ)}function YK(tQ,eQ){let AQ=eQ.low>>>0,iQ=(eQ.low>>>28|eQ.high<<4)>>>0,oQ=eQ.high>>>24,rQ=oQ===0?iQ===0?AQ<16384?AQ<128?1:2:AQ<1<<21?3:4:iQ<16384?iQ<128?5:6:iQ<1<<21?7:8:oQ<128?9:10,nQ=MK(tQ,rQ),sQ=tQ.bytes;switch(rQ){case 10:sQ[nQ+9]=oQ>>>7&1;case 9:sQ[nQ+8]=rQ!==9?128|oQ:127&oQ;case 8:sQ[nQ+7]=rQ!==8?iQ>>>21|128:iQ>>>21&127;case 7:sQ[nQ+6]=rQ!==7?iQ>>>14|128:iQ>>>14&127;case 6:sQ[nQ+5]=rQ!==6?iQ>>>7|128:iQ>>>7&127;case 5:sQ[nQ+4]=rQ!==5?128|iQ:127&iQ;case 4:sQ[nQ+3]=rQ!==4?AQ>>>21|128:AQ>>>21&127;case 3:sQ[nQ+2]=rQ!==3?AQ>>>14|128:AQ>>>14&127;case 2:sQ[nQ+1]=rQ!==2?AQ>>>7|128:AQ>>>7&127;case 1:sQ[nQ]=rQ!==1?128|AQ:127&AQ}}function qK(tQ,eQ){var AQ=Object.keys(tQ);if(Object.getOwnPropertySymbols){var iQ=Object.getOwnPropertySymbols(tQ);eQ&&(iQ=iQ.filter(function(oQ){return Object.getOwnPropertyDescriptor(tQ,oQ).enumerable})),AQ.push.apply(AQ,iQ)}return AQ}const zK=new Map([["moderation",1],["supervise",2]]);function JK(tQ){return{low:tQ|=0,high:tQ>>31,unsigned:tQ>=0}}class XK extends Sv{get connectionState(){return this._connectionState}set connectionState(eQ){if(this._connectionState===eQ)return;const AQ=this._connectionState;this._connectionState=eQ,this.emit(ew.CONNECTION_STATE_CHANGE,AQ,eQ)}get inspectType(){return this._inspectType}set inspectType(eQ){var AQ;this._inspectMode=Jn(AQ=eQ.map(iQ=>zK.get(iQ)||0)).call(AQ,(iQ,oQ)=>iQ+oQ),this._inspectType=eQ}get quality(){return this._quality}set quality(eQ){this._quality=eQ>1?1:eQ<.1?.1:eQ,this.qualityTimer&&(window.clearTimeout(this.qualityTimer),this.qualityTimer=null),this._quality>=1||(this.qualityTimer=window.setTimeout(()=>{this.quality=this._quality/this.qualityRatio},6e4))}constructor(eQ){super(),og(this,"name","AgoraRTCVideoContentInspect"),og(this,"_connectionState",Zb.CONNECTING),og(this,"_innerConnectionState",void 0),og(this,"sequence",0),og(this,"inspectStartTime",void 0),og(this,"workerManagerConnection",void 0),og(this,"workerConnection",void 0),og(this,"workerMessageLengthLimit",void 0),og(this,"inspectIntervalMinimum",void 0),og(this,"qualityRatio",void 0),og(this,"_connectInfo",void 0),og(this,"_cancelTokenSource",EI.CancelToken.source()),og(this,"_retryConfig",void 0),og(this,"wmSequence",0),og(this,"inspectInterval",void 0),og(this,"inspectTimer",null),og(this,"ossFilePrefix",void 0),og(this,"extraInfo",void 0),og(this,"_inspectType",void 0),og(this,"_inspectMode",void 0),og(this,"_quality",1),og(this,"qualityTimer",null),og(this,"_inspectId",void 0),og(this,"_needWorkUrlOnly",!1),og(this,"inspectImage",()=>{if(this.connectionState!==Zb.CONNECTED)throw new Sb(nv.OPERATION_ABORTED,"content inspect service connection status is ".concat(this.connectionState));this.inspectTimer&&(window.clearInterval(this.inspectTimer),this.inspectTimer=null),this.inspectTimer=window.setInterval(()=>{this.connectionState===Zb.CONNECTED?this.requestToInspectImage():Qy.debug("[".concat(this._inspectId,"] Inspect State is not connected , "),this.connectionState)},this.inspectInterval<this.inspectIntervalMinimum?this.inspectIntervalMinimum:this.inspectInterval),this.requestToInspectImage()}),this._inspectId=ey(5,"inspect-"),this.workerMessageLengthLimit=Dy("VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT"),this.inspectIntervalMinimum=Dy("VIDEO_INSPECT_INTERVAL_MINIMUM"),this.qualityRatio=Dy("VIDEO_INSPECT_QUALITY_RATIO"),this.inspectInterval=eQ.interval,this.ossFilePrefix=eQ.ossFilePrefix,this.extraInfo=eQ.extraInfo,this.inspectType=eQ.inspectType,this.inspectStartTime=Number(Date.now()),this.workerManagerConnection=new bw("worker-manager-"+this._inspectId,_y),this.on(ew.STATE_CHANGE,(AQ,iQ)=>{this._innerConnectionState=AQ,Qy.debug("[".concat(this._inspectId,"] Inspect operation :").concat($b[AQ]," ").concat(iQ||""))}),this.handleWorkerManagerEvents(),this.workerConnection=new bw("worker-"+this._inspectId,_y),this.handleWorkerEvents()}async init(eQ,AQ){this.emit(ew.STATE_CHANGE,$b.CONNECT_AP),this._connectInfo=eQ;const iQ=this._cancelTokenSource.token;return this._retryConfig=AQ,new Gh((oQ,rQ)=>{this.on(ew.CONNECTION_STATE_CHANGE,(nQ,sQ)=>{sQ===Zb.CONNECTED&&oQ()}),this.requestAP(eQ,iQ,AQ).then(nQ=>{this.connectWorkerManager(nQ)}).catch(nQ=>{rQ(nQ)})})}async requestAP(eQ,AQ,iQ){const oQ=Dy("WEBCS_DOMAIN").map(sQ=>"https://".concat(sQ,"/api/v1")),rQ=await function(sQ,aQ,cQ,gQ){let{appId:IQ,areaCode:EQ,cname:CQ,sid:dQ,token:lQ,uid:uQ}=aQ;IU++;const hQ="image_moderation_api",BQ={service_name:hQ,json_body:JSON.stringify({appId:IQ,areaCode:EQ,cname:CQ,command:"allocateEdge",requestId:IU,seq:IU,sid:dQ,token:lQ,ts:Date.now(),uid:uQ+""})};let QQ,fQ,_Q=sQ[0];return my(async()=>{QQ=Date.now();const RQ=await tU(_Q,{data:BQ,cancelToken:cQ,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"},params:{action:"wrtc_gateway"}});if(fQ=Date.now()-QQ,RQ.code!==0){const UQ=new Sb(nv.UNEXPECTED_RESPONSE,"image inspect ap error, code"+RQ.code,{retry:!0,responseTime:fQ});throw Qy.error(UQ.toString()),UQ}const wQ=JSON.parse(RQ.json_body);if(wQ.code!==200){const UQ=new Sb(nv.UNEXPECTED_RESPONSE,"image inspect ap error, code: ".concat(wQ.code,", reason: ").concat(wQ.reason),{code:wQ.code,responseTime:fQ});throw Qy.error(UQ.toString()),UQ}if(!wQ.servers||!Array.isArray(wQ.servers)||wQ.servers.length===0){const UQ=new Sb(nv.UNEXPECTED_RESPONSE,"image inspect ap empty server",{code:wQ.code,responseTime:fQ});throw Qy.error(UQ.toString()),UQ}const bQ=Dy("VIDEO_INSPECT_WORKER_MANAGER_HOST"),NQ=Dy("VIDEO_INSPECT_WORKER_MANAGER_PORT");return{addressList:wQ.servers.map(UQ=>{let{address:PQ,wss:OQ}=UQ;if(PQ&&OQ)return"wss://".concat(PQ.replace(/\./g,"-"),".").concat(bQ,":").concat(NQ||OQ)}).filter(UQ=>!!UQ),workerToken:wQ.workerToken,vid:wQ.vid,responseTime:fQ}},(RQ,wQ)=>(sA.apworkerEvent(dQ,{success:!0,sc:200,serviceName:hQ,responseDetail:JSON.stringify(RQ.addressList),firstSuccess:wQ===0,responseTime:fQ,serverIp:sQ[wQ%sQ.length]}),!1),(RQ,wQ)=>(sA.apworkerEvent(dQ,{success:!1,sc:RQ.data&&RQ.data.code||200,serviceName:hQ,responseTime:fQ,serverIp:sQ[wQ%sQ.length]}),!!(RQ.code!==nv.OPERATION_ABORTED&&RQ.code!==nv.UNEXPECTED_RESPONSE||RQ.data&&RQ.data.retry)&&(_Q=sQ[(wQ+1)%sQ.length],!0)),gQ)}(oQ,eQ,AQ,iQ);this.emit(ew.STATE_CHANGE,$b.AP_CONNECTED);const{addressList:nQ}=rQ;return this.wmSequence++,nQ}async connectWorkerManager(eQ){let AQ=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this._needWorkUrlOnly=AQ,this.emit(ew.STATE_CHANGE,$b.CONNECT_WORKER_MANAGER),await this.workerManagerConnection.init(eQ,1e4)}async connectWorker(eQ){await this.workerConnection.init([eQ])}handleWorkerManagerEvents(){this.workerManagerConnection.on(Tb.CONNECTED,async()=>{this.emit(ew.STATE_CHANGE,$b.WORKER_MANAGER_CONNECTED,this.workerManagerConnection.url),this.workerManagerConnection.sendMessage({appId:this._connectInfo.appId,cname:this._connectInfo.cname,uid:this._connectInfo.uid+"",sdkVersion:"4.22.0",sid:this._connectInfo.sid,seq:this.wmSequence,ts:Number(Date.now()),requestId:Math.floor(1e12*Math.random()),allocate:!0,clientRequest:{command:"join"}},!0)}),this.workerManagerConnection.on(Tb.CLOSED,()=>{this._innerConnectionState<$b.GET_WORKER_MANAGER_RESPONSE&&Qy.debug("[".concat(this._inspectId,"] Inspect worker manager is closed before connecting worker"))}),this.workerManagerConnection.on(Tb.FAILED,()=>{this._innerConnectionState<$b.GET_WORKER_MANAGER_RESPONSE&&Qy.debug("[".concat(this._inspectId,"] Connecting inspect worker manager is failed before connecting worker"))}),this.workerManagerConnection.on(Tb.RECONNECTING,()=>{this._innerConnectionState<$b.GET_WORKER_MANAGER_RESPONSE&&Qy.debug("[".concat(this._inspectId,"] Inspect worker manager is reconnecting before connecting worker"))}),this.workerManagerConnection.on(Tb.ON_MESSAGE,async eQ=>{this.emit(ew.STATE_CHANGE,$b.GET_WORKER_MANAGER_RESPONSE);const AQ=this.workerManagerConnection.url;this.workerManagerConnection.close();const iQ=JSON.parse(eQ.data);if(iQ.code!==200)throw Qy.error("[".concat(this._inspectId,"] Unexpected code ").concat(iQ.code," from worker manager")),new Sb(nv.UNEXPECTED_RESPONSE,"response code of worker is unexpected",iQ);if(!(iQ.serverResponse&&iQ.serverResponse.portWss&&AQ))throw Qy.error("[".concat(this._inspectId,"] Unexpected content from worker manager : ").concat(JSON.stringify(iQ))),new Sb(nv.UNEXPECTED_RESPONSE,"response content of worker is unexpected",iQ);{const oQ=Dy("VIDEO_INSPECT_WORKER_PORT")||iQ.serverResponse.portWss,rQ=AQ.replace(/:\d+\/?$/,":".concat(oQ));this.emit(ew.STATE_CHANGE,$b.CONNECT_WORKER,rQ),this._needWorkUrlOnly?this.emit(ew.REQUEST_NEW_WORKER_URL,rQ):await this.connectWorker(rQ)}}),this.workerManagerConnection.on(Tb.WILL_RECONNECT,(eQ,AQ,iQ)=>{iQ(eQ)}),this.workerManagerConnection.on(Tb.REQUEST_NEW_URLS,(eQ,AQ)=>{this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(eQ).catch(AQ)})}handleWorkerEvents(){this.workerConnection.on(Tb.CONNECTED,async()=>{this.emit(ew.STATE_CHANGE,$b.WORKER_CONNECTED,this.workerConnection.url),this.connectionState=Zb.CONNECTED}),this.workerConnection.on(Tb.ON_MESSAGE,async eQ=>{if(eQ.data instanceof ArrayBuffer){const iQ=RK(new Uint8Array(eQ.data));if(Dy("SHOW_VIDEO_INSPECT_WORKER_MESSAGE")&&Qy.debug("[".concat(this._inspectId,"] Response message for worker of inspect content "),JSON.stringify(iQ)),iQ.code===200){if(Array.isArray(this.inspectType)&&this.inspectType.length===1&&this.inspectType[0]==="supervise")return void this.emit(ew.INSPECT_RESULT,void 0,void 0);if(iQ.data&&iQ.data.scorePorn&&iQ.data.scoreSexy&&iQ.data.scoreNeutral){var AQ;const oQ={porn:iQ.data.scorePorn,sexy:iQ.data.scoreSexy,neutral:iQ.data.scoreNeutral},rQ=Jn(AQ=Object.keys(oQ)).call(AQ,(sQ,aQ)=>oQ[sQ]>oQ[aQ]?sQ:aQ,"porn"),nQ=Object.keys(oQ).find(sQ=>sQ===rQ);this.emit(ew.INSPECT_RESULT,nQ)}else this.emit(ew.INSPECT_RESULT,void 0,new Sb(nv.UNEXPECTED_RESPONSE,iQ.code+"","There is an unexpected data on message"))}else this.emit(ew.INSPECT_RESULT,void 0,new Sb(nv.UNEXPECTED_RESPONSE,iQ.code+"",iQ.msg))}else Qy.error("[".concat(this._inspectId,"] Unexpected message type from worker")),this.emit(ew.INSPECT_RESULT,void 0,new Sb(nv.UNEXPECTED_RESPONSE,"invalid worker message type"))}),this.workerConnection.on(Tb.CLOSED,()=>{this.connectionState=Zb.CLOSED}),this.workerConnection.on(Tb.FAILED,()=>{this.connectionState=Zb.CLOSED}),this.workerConnection.on(Tb.RECONNECTING,()=>{this.connectionState=this.connectionState===Zb.CONNECTED?Zb.RECONNECTING:Zb.CONNECTING}),this.workerConnection.on(Tb.WILL_RECONNECT,(eQ,AQ,iQ)=>{eQ==="recover"&&iQ(eQ),iQ("tryNext")}),this.workerConnection.on(Tb.REQUEST_NEW_URLS,(eQ,AQ)=>{this.workerManagerConnection.close(),this.once(ew.REQUEST_NEW_WORKER_URL,iQ=>{eQ([iQ])}),this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(iQ=>{this.connectWorkerManager(iQ,!0)}).catch(iQ=>{AQ(iQ)})})}async requestToInspectImage(){this.sequence++;const eQ=Uv(this,ew.CLIENT_LOCAL_VIDEO_TRACK),AQ={appId:this._connectInfo.appId,cname:this._connectInfo.cname,cid:this._connectInfo.cid,sid:this._connectInfo.sid,uid:this._connectInfo.uid,vid:this._connectInfo.vid};if(eQ){if(!eQ.isPlaying)return void this.emit(ew.INSPECT_RESULT,void 0,new Sb(nv.INVALID_OPERATION,"Only the track being played can be inspected"));const iQ=await this.generateRequestData(eQ,AQ);this.workerConnection.sendMessage(iQ,!0,!0)}else this.emit(ew.INSPECT_RESULT,void 0,new Sb(nv.INVALID_OPERATION,"Only the track being published can be inspected"))}async generateRequestData(eQ,AQ){let{appId:iQ,cname:oQ,cid:rQ,vid:nQ,sid:sQ,uid:aQ}=AQ;const cQ=Date.now(),gQ=await eQ.getCurrentFrameImage("image/jpeg",this.quality),IQ=await hL(gQ,iQ,oQ),EQ=this.sequence+"-"+rQ+"-"+aQ+"-"+cQ+"-"+ey(12,""),CQ={appId:iQ,cid:rQ,cname:oQ,deviceId:"",elapse:JK(Number(cQ-this.inspectStartTime)),fileSize:IQ.byteLength,jpgEncryption:2,height:gQ.height,width:gQ.width,jpg:IQ,networkType:6,osType:7,requestId:EQ,sdkVersion:"4.22.0",sequence:this.sequence,sid:sQ,timestamp:JK(cQ),uid:aQ,vid:nQ,service:this._inspectMode,callbackData:this.extraInfo,ossFilePrefix:this.ossFilePrefix};this.extraInfo===void 0&&delete CQ.callbackData,this.ossFilePrefix===void 0&&delete CQ.ossFilePrefix;const dQ=gK(CQ);if(dQ.byteLength<this.workerMessageLengthLimit){if(Dy("SHOW_VIDEO_INSPECT_WORKER_MESSAGE")){const lQ=function(uQ){for(var hQ=1;hQ<arguments.length;hQ++){var BQ=arguments[hQ]!=null?arguments[hQ]:{};hQ%2?qK(Object(BQ),!0).forEach(function(QQ){og(uQ,QQ,BQ[QQ])}):Object.getOwnPropertyDescriptors?Object.defineProperties(uQ,Object.getOwnPropertyDescriptors(BQ)):qK(Object(BQ)).forEach(function(QQ){Object.defineProperty(uQ,QQ,Object.getOwnPropertyDescriptor(BQ,QQ))})}return uQ}({},CQ);delete lQ.jpg,Qy.debug("[".concat(this._inspectId,"] Request message for worker of inspect content "),JSON.stringify(lQ))}return dQ}{const lQ=this.quality*this.qualityRatio;return this.quality=lQ,await this.generateRequestData(eQ,{appId:iQ,cname:oQ,cid:rQ,vid:nQ,sid:sQ,uid:aQ})}}close(){this._cancelTokenSource.cancel(),this._cancelTokenSource=EI.CancelToken.source(),this.workerManagerConnection&&this.workerManagerConnection.close(),this.workerConnection&&this.workerConnection.close(),this.inspectTimer&&window.clearInterval(this.inspectTimer),this.inspectTimer=null,this.connectionState=Zb.CLOSED,this.emit(ew.STATE_CHANGE,$b.CLOSED)}}const QK={name:"ContentInspect",create:function(tQ){let{config:eQ}=tQ;return function(AQ){if(!AQ)throw new Sb(nv.INVALID_PARAMS,"inspectConfig is necessary.");if(!AQ.inspectType||!Array.isArray(AQ.inspectType))throw new Sb(nv.INVALID_PARAMS,"inspectConfig.inspectType is necessary and is an instance of Array.");{const iQ=[...new Set(AQ.inspectType)];iQ.forEach(oQ=>{var rQ;if(!Dn(rQ=["supervise","moderation"]).call(rQ,oQ))throw new Sb(nv.INVALID_PARAMS,"".concat(oQ," is not a valid inspect type."))}),AQ.inspectType=iQ}if(AQ&&AQ.extraInfo&&AQ.extraInfo.length>1024)throw new Sb(nv.INVALID_PARAMS,"inspectConfig.extraInfo length cannot exceed 1024 bytes")}(eQ),new XK(eQ)}};Ny("PROCESS_ID","process-".concat(ey(8,""),"-").concat(ey(4,""),"-").concat(ey(4,""),"-").concat(ey(4,""),"-").concat(ey(12,""))),function(){let tQ;try{tQ=window.localStorage.getItem("websdk_ng_global_parameter")}catch(eQ){return void Qy.error("Error loading sdk config",eQ.message)}if(tQ)try{const eQ=JSON.parse(window.atob(tQ)),AQ=Date.now();Qy.debug("Loading global parameters from cache",eQ),Object.keys(eQ).forEach(iQ=>{if(Object.prototype.hasOwnProperty.call(Oy,iQ)){const{value:oQ,expires:rQ}=eQ[iQ];if(rQ&&rQ<=AQ)return;Py[iQ]=oQ,Oy[iQ]=oQ}})}catch(eQ){Qy.error("Error loading mutableParamsCache: ".concat(tQ),eQ.message)}}(),Array.isArray(Py.AREAS)&&Py.AREAS.length>0&&lU(Py.AREAS,!0);const ZK=(tQ,eQ,AQ)=>{Qy.debug("setParameter key:".concat(tQ,", value:").concat(JSON.stringify(eQ))),Ny(tQ,eQ,AQ)};EF(hK,!1),EF(SK,!1),EF(NB,!1),EF(QK,!1),EF(dK,!1);const $K=function(tQ){const eQ=new Sv,AQ=tQ,iQ={getListeners:eQ.getListeners.bind(eQ),on:(oQ,rQ)=>(function(nQ,sQ){nQ===iw.SECURITY_POLICY_VIOLATION&&Oj(sQ,!0)}(oQ,rQ),eQ.on.bind(eQ)(oQ,rQ)),addListener:eQ.addListener.bind(eQ),once:eQ.once.bind(eQ),off:eQ.off.bind(eQ),removeAllListeners:eQ.removeAllListeners.bind(eQ),emit:eQ.emit.bind(eQ),safeEmit:eQ.safeEmit.bind(eQ)};return bj(bj({},AQ),iQ)}({__TRACK_LIST__:QD,VERSION:vy,BUILD:wy,ESM_BUNDLER:!1,ESM:!0,UMD:!1,DEV:!1,setParameter:ZK,getParameter:Dy,getSupportedCodec:async function(){let tQ={audio:[],video:[]};try{let eQ=new RTCPeerConnection;const AQ=await async function(iQ){let oQ;return MD().supportUnifiedPlan?(iQ.addTransceiver("video",{direction:"recvonly"}),iQ.addTransceiver("audio",{direction:"recvonly"}),oQ=(await iQ.createOffer()).sdp):oQ=(await iQ.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0})).sdp,oQ}(eQ);if(!AQ)return tQ;eQ.close(),eQ=null,tQ=function(iQ){const oQ={video:[],audio:[]};return iQ.match(/ VP8/i)&&oQ.video.push("VP8"),iQ.match(/ VP9/i)&&oQ.video.push("VP9"),iQ.match(/ AV1/i)&&oQ.video.push("AV1"),iQ.match(/ H264/i)&&oQ.video.push("H264"),iQ.match(/ H265/i)&&oQ.video.push("H265"),iQ.match(/ opus/i)&&oQ.audio.push("OPUS"),iQ.match(/ PCMU/i)&&oQ.audio.push("PCMU"),iQ.match(/ PCMA/i)&&oQ.audio.push("PCMA"),iQ.match(/ G722/i)&&oQ.audio.push("G722"),oQ}(AQ)}catch(eQ){throw new Sb(nv.CREATE_OFFER_FAILED,eQ.toString&&eQ.toString()).print()}return tQ},checkSystemRequirements:function(){const tQ=sA.reportApiInvoke(null,{name:Cv.CHECK_SYSTEM_REQUIREMENTS,options:[],tag:Iv.TRACER});let eQ=!1;try{const rQ=window.RTCPeerConnection,nQ=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia,sQ=window.WebSocket;eQ=!!(rQ&&nQ&&sQ),eQ&&XI()&&xI(75)&&new rQ().close()}catch(rQ){return Qy.error("check system requirement failed: ",rQ),!1}let AQ=!1;const iQ=AI();iQ.name===CI.CHROME&&Number(iQ.version)>=58&&(vI.engine.name!=="WebKit"||function(){const rQ=AI();if(NI()){if(rQ.os===RI.MAC_OS)return!0;if(rQ.os===RI.IOS){const nQ=vI.os.version&&vI.os.version.split(".");if(nQ&&Number(nQ[0])===14&&nQ[1]&&Number(nQ[1])>=3||nQ&&Number(nQ[0])>14)return!0}}return!1}())&&(AQ=!0),(iQ.name===CI.FIREFOX&&Number(iQ.version)>=56||iQ.name===CI.OPERA&&Number(iQ.version)>=45||iQ.name===CI.SAFARI&&Number(iQ.version)>=11||iQ.name==="WebKit"&&(MI()||qI())&&iQ.osVersion&&Number(iQ.osVersion.split(".")[0])>=11||zI()||AI().name===CI.QQ)&&(AQ=!0),Qy.debug("checkSystemRequirements, api:",eQ,"browser",AQ);const oQ=eQ&&AQ;return tQ.onSuccess(oQ),oQ},getDevices:function(tQ){return zP.enumerateDevices(!0,!0,tQ)},getMicrophones:function(tQ){return zP.getRecordingDevices(tQ)},getCameras:function(tQ){return zP.getCamerasDevices(tQ)},getElectronScreenSources:BP,getPlaybackDevices:function(tQ){return zP.getSpeakers(tQ)},createClient:function(){var tQ;let eQ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{codec:"vp8",audioCodec:"opus",mode:"rtc"};const AQ=sA.reportApiInvoke(null,{name:Cv.CREATE_CLIENT,options:[eQ],tag:Iv.TRACER});try{(function(iQ){sv(iQ.codec,"config.codec",["vp8","vp9","av1","h264","h265"]),sv(iQ.mode,"config.mode",["rtc","live","p2p"]),iQ.audioCodec!==void 0&&sv(iQ.audioCodec,"config.audioCodec",["opus","pcmu","pcma","g722"]),iQ.proxyServer!==void 0&&dv(iQ.proxyServer,"config.proxyServer",1,1e4),iQ.turnServer!==void 0&&wv(iQ.turnServer),iQ.httpRetryConfig!==void 0&&vv(iQ.httpRetryConfig),iQ.websocketRetryConfig!==void 0&&vv(iQ.websocketRetryConfig)})(eQ)}catch(iQ){throw AQ.onError(iQ),iQ}return(BI(16,0,!0)||jI(16,0,!0))&&(eQ.codec==="vp9"&&(eQ.codec="vp8",Qy.debug("browser not support vp9, force use vp8")),Ny("UNSUPPORTED_VIDEO_CODEC",["vp9"])),eQ.audioCodec===void 0&&(eQ.audioCodec="opus"),AQ.onSuccess(),new gj(Sj(Sj({forceWaitGatewayResponse:!0},eQ),{},{role:Dn(tQ=["rtc","p2p"]).call(tQ,eQ.mode)?"host":eQ.role||"audience"}))},createCameraVideoTrack:async function(){let tQ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const eQ=Dy("CAMERA_CAPTURE_CONFIG"),AQ=sA.reportApiInvoke(null,{tag:Iv.TRACER,name:Cv.CREATE_CAM_VIDEO_TRACK,options:[yP({},tQ),eQ]});eQ&&(tQ.encoderConfig=eQ);const iQ=dL(tQ),oQ=ey(8,"track-cam-");let rQ=null;Qy.info("start create camera video track with config",JSON.stringify(tQ),"trackId",oQ);try{rQ=(await HP({video:iQ},oQ)).getVideoTracks()[0]||null}catch(sQ){throw AQ.onError(sQ),sQ}if(!rQ){const sQ=new rv(nv.UNEXPECTED_ERROR,"can not find track in media stream");return AQ.onError(sQ),sQ.throw(Qy)}tQ.optimizationMode&&Yk(oQ,rQ,tQ,YD(tQ.encoderConfig));const nQ=new Kk(rQ,tQ,iQ,tQ.scalabiltyMode?zD(tQ.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},tQ.optimizationMode,oQ);return AQ.onSuccess(nQ.getTrackId()),Qy.info("create camera video success, trackId:",oQ),nQ},createCustomVideoTrack:function(tQ){const eQ=sA.reportApiInvoke(null,{tag:Iv.TRACER,name:Cv.CREATE_CUSTOM_VIDEO_TRACK,options:[tQ]}),AQ=new Hk(tQ.mediaStreamTrack,{width:tQ.width,height:tQ.height,frameRate:tQ.frameRate,bitrateMax:tQ.bitrateMax,bitrateMin:tQ.bitrateMin},tQ.scalabiltyMode?zD(tQ.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},tQ.optimizationMode,ey(8,"track-cus-"),[eP.CUSTOM_TRACK]);return eQ.onSuccess(AQ.getTrackId()),Qy.info("create custom video track success with config",tQ,"trackId",AQ.getTrackId()),AQ},createScreenVideoTrack:async function(){let tQ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},eQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"disable";const AQ=sA.reportApiInvoke(null,{tag:Iv.TRACER,name:Cv.CREATE_SCREEN_VIDEO_TRACK,options:[yP({},tQ),eQ]});tQ.encoderConfig?typeof tQ.encoderConfig=="string"||tQ.encoderConfig.width&&tQ.encoderConfig.height||(tQ.encoderConfig.width={max:1920},tQ.encoderConfig.height={max:1080}):tQ.encoderConfig="1080p_2";const iQ=function(gQ){const IQ={};gQ.screenSourceType&&(IQ.mediaSource=gQ.screenSourceType),gQ.extensionId&&DI()&&(IQ.extensionId=gQ.extensionId);const{displaySurface:EQ,selfBrowserSurface:CQ,surfaceSwitching:dQ,systemAudio:lQ}=gQ;(UI(107)||VI(107)||GI(93))&&(EQ&&(sv(EQ,"displaySurface",["browser","window","monitor"]),IQ.displaySurface=EQ),CQ?(sv(CQ,"selfBrowserSurface",["exclude","include"]),IQ.selfBrowserSurface=CQ):IQ.selfBrowserSurface="include",dQ&&(sv(dQ,"surfaceSwitching",["exclude","include"]),IQ.surfaceSwitching=dQ)),(UI(105)||VI(105)||GI(91))&&lQ&&(sv(lQ,"systemAudio",["exclude","include"]),IQ.systemAudio=lQ),gQ.electronScreenSourceId&&(IQ.sourceId=gQ.electronScreenSourceId);const uQ=gQ.encoderConfig?qD(gQ.encoderConfig):null;return IQ.mandatory={chromeMediaSource:"desktop",maxWidth:uQ?uQ.width:void 0,maxHeight:uQ?uQ.height:void 0},uQ&&(uQ.frameRate&&(typeof uQ.frameRate=="number"?(IQ.mandatory.maxFrameRate=uQ.frameRate,IQ.mandatory.minFrameRate=uQ.frameRate):(IQ.mandatory.maxFrameRate=uQ.frameRate.max||uQ.frameRate.ideal||uQ.frameRate.exact||void 0,IQ.mandatory.minFrameRate=uQ.frameRate.min||uQ.frameRate.ideal||uQ.frameRate.exact||void 0),IQ.frameRate=uQ.frameRate),uQ.width&&(IQ.width=uQ.width),uQ.height&&(IQ.height=uQ.height)),IQ}(tQ),oQ=ey(8,"track-scr-v-");let rQ=null,nQ=null;const sQ=MD();if(!sQ.supportShareAudio&&eQ==="enable"){const gQ=new rv(nv.NOT_SUPPORTED,"your browser or platform is not support share-screen with audio");return AQ.onError(gQ),gQ.throw(Qy)}Qy.info("start create screen video track with config",tQ,"withAudio",eQ,"trackId",oQ);try{const gQ=await HP({screen:iQ,screenAudio:eQ==="auto"?sQ.supportShareAudio:eQ==="enable"},oQ);rQ=gQ.getVideoTracks()[0]||null,nQ=gQ.getAudioTracks()[0]||null}catch(gQ){throw AQ.onError(gQ),gQ}if(!rQ){const gQ=new rv(nv.UNEXPECTED_ERROR,"can not find track in media stream");return AQ.onError(gQ),gQ.throw(Qy)}if(!nQ&&eQ==="enable"){rQ&&rQ.stop();const gQ=new rv(nv.SHARE_AUDIO_NOT_ALLOWED);return AQ.onError(gQ),gQ.throw(Qy)}tQ.optimizationMode||(tQ.optimizationMode="detail"),tQ.optimizationMode&&(Yk(oQ,rQ,tQ,tQ.encoderConfig&&qD(tQ.encoderConfig)||void 0),tQ.encoderConfig&&typeof tQ.encoderConfig!="string"&&(tQ.encoderConfig.bitrateMin=tQ.encoderConfig.bitrateMax));const aQ=new Hk(rQ,tQ.encoderConfig?qD(tQ.encoderConfig):{},tQ.scalabiltyMode?zD(tQ.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},tQ.optimizationMode,oQ,[eP.SCREEN_TRACK]);if(!nQ)return AQ.onSuccess(aQ.getTrackId()),Qy.info("create screen video track success","video:",aQ.getTrackId()),aQ;const cQ=new tk(nQ,void 0,ey(8,"track-scr-a-"),!1);return AQ.onSuccess([aQ.getTrackId(),cQ.getTrackId()]),Qy.info("create screen video track success","video:",aQ.getTrackId(),"audio:",cQ.getTrackId()),[aQ,cQ]},createMicrophoneAndCameraTracks:async function(){let tQ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},eQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const AQ=Dy("CAMERA_CAPTURE_CONFIG"),iQ=sA.reportApiInvoke(null,{tag:Iv.TRACER,name:Cv.CREATE_MIC_AND_CAM_TRACKS,options:[tQ,eQ,AQ]});AQ&&(eQ.encoderConfig=AQ);const oQ=dL(eQ),rQ=lL(tQ),nQ=ey(8,"track-mic-"),sQ=ey(8,"track-cam-");let aQ=null,cQ=null;Qy.info("start create camera video track(".concat(sQ,") and microphone audio track(").concat(nQ,") with config, audio: ").concat(JSON.stringify(tQ),", video: ").concat(JSON.stringify(eQ)));try{const EQ=await HP({audio:rQ,video:oQ},"".concat(nQ,"-").concat(sQ));aQ=EQ.getAudioTracks()[0],cQ=EQ.getVideoTracks()[0]}catch(EQ){throw iQ.onError(EQ),EQ}if(!aQ||!cQ){const EQ=new rv(nv.UNEXPECTED_ERROR,"can not find tracks in media stream");return iQ.onError(EQ),EQ.throw(Qy)}eQ.optimizationMode&&Yk(sQ,cQ,eQ,YD(eQ.encoderConfig));const gQ=new ik(aQ,tQ,rQ,nQ),IQ=new Kk(cQ,eQ,oQ,eQ.scalabiltyMode?zD(eQ.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},eQ.optimizationMode,sQ);return iQ.onSuccess([gQ.getTrackId(),IQ.getTrackId()]),Qy.info("create camera video track(".concat(sQ,") and microphone audio track(").concat(nQ,") success")),[gQ,IQ]},createMicrophoneAudioTrack:async function(){let tQ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const eQ=sA.reportApiInvoke(null,{tag:Iv.TRACER,name:Cv.CREATE_MIC_AUDIO_TRACK,options:[tQ]}),AQ=lL(tQ),iQ=ey(8,"track-mic-");let oQ=null;Qy.info("start create microphone audio track with config",JSON.stringify(tQ),"trackId",iQ);try{oQ=(await HP({audio:AQ},iQ)).getAudioTracks()[0]||null}catch(nQ){throw eQ.onError(nQ),nQ}if(!oQ){const nQ=new rv(nv.UNEXPECTED_ERROR,"can not find track in media stream");return eQ.onError(nQ),nQ.throw(Qy)}const rQ=new ik(oQ,tQ,AQ,iQ);return eQ.onSuccess(rQ.getTrackId()),Qy.info("create microphone audio track success, trackId:",iQ),rQ},createCustomAudioTrack:function(tQ){const eQ=sA.reportApiInvoke(null,{tag:Iv.TRACER,name:Cv.CREATE_CUSTOM_AUDIO_TRACK,options:[tQ]}),AQ=new tk(tQ.mediaStreamTrack,tQ.encoderConfig?XD(tQ.encoderConfig):{},ey(8,"track-cus-"),!1);return Qy.info("create custom audio track success with config",tQ,"trackId",AQ.getTrackId()),eQ.onSuccess(AQ.getTrackId()),AQ},createBufferSourceAudioTrack:async function(tQ){var eQ;const{cacheOnlineFile:AQ,encoderConfig:iQ}=tQ;let{source:oQ}=tQ;const rQ={source:oQ instanceof AudioBuffer?"AudioBuffer":oQ instanceof File?(eQ=File.name)!==null&&eQ!==void 0?eQ:"File":oQ,cacheOnlineFile:AQ,encoderConfig:iQ},nQ=sA.reportApiInvoke(null,{tag:Iv.TRACER,name:Cv.CREATE_BUFFER_AUDIO_TRACK,options:[rQ]});if(Dy("DISABLE_WEBAUDIO"))throw new rv(nv.NOT_SUPPORTED,"can not create BufferSourceAudioTrack when WebAudio disabled");const sQ=ey(8,"track-buf-");Qy.info("start create buffer source audio track with config",JSON.stringify(rQ),"trackId",sQ);const aQ=oQ;if(!(oQ instanceof AudioBuffer))try{oQ=await async function(IQ,EQ){let CQ=null;if(typeof IQ=="string"){const lQ=sk.get(IQ);if(lQ)return Qy.debug("use cached audio resource: ",IQ),lQ;try{CQ=(await my(()=>EI.get(IQ,{responseType:"arraybuffer"}),void 0,void 0,{maxRetryCount:3})).data}catch(uQ){throw new rv(nv.FETCH_AUDIO_FILE_FAILED,uQ.toString())}}else CQ=await new Gh((uQ,hQ)=>{const BQ=new FileReader;BQ.onload=QQ=>{QQ.target?uQ(QQ.target.result):hQ(new rv(nv.READ_LOCAL_AUDIO_FILE_ERROR))},BQ.onerror=()=>{hQ(new rv(nv.READ_LOCAL_AUDIO_FILE_ERROR))},BQ.readAsArrayBuffer(IQ)});const dQ=await function(lQ){const uQ=DP();return new Gh((hQ,BQ)=>{uQ.decodeAudioData(lQ,QQ=>{hQ(QQ)},QQ=>{BQ(new rv(nv.DECODE_AUDIO_FILE_FAILED,QQ.toString()))})})}(CQ);return typeof IQ=="string"&&EQ&&sk.set(IQ,dQ),dQ}(oQ,AQ)}catch(IQ){return nQ.onError(IQ),IQ.throw(Qy)}const cQ=new ok(oQ),gQ=new nk(aQ,cQ,iQ?XD(iQ):{},sQ);return Qy.info("create buffer source audio track success, trackId:",sQ),nQ.onSuccess(gQ.getTrackId()),gQ},setAppType:function(tQ){if(Qy.debug("setAppType: ".concat(tQ)),!(Number.isInteger(tQ)&&tQ>=0))throw Qy.debug("Invalid appType"),new Sb(nv.INVALID_PARAMS,"invalid app type",tQ);Ny("APP_TYPE",Math.floor(tQ))},setLogLevel:function(tQ){Qy.setLogLevel(tQ)},enableLogUpload:function(){Dy("USE_NEW_LOG")?Ny("UPLOAD_LOG",!0):Qy.enableLogUpload()},disableLogUpload:function(){Dy("USE_NEW_LOG")?Ny("UPLOAD_LOG",!1):Qy.disableLogUpload()},createChannelMediaRelayConfiguration:function(){return new AV},checkAudioTrackIsActive:async function(tQ){let eQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5e3;const AQ=sA.reportApiInvoke(null,{tag:Iv.TRACER,name:Cv.CHECK_AUDIO_TRACK_IS_ACTIVE,options:[eQ]});if(!(tQ instanceof tk||tQ instanceof aM)){const aQ=new Sb(nv.INVALID_TRACK,"the parameter is not a audio track");return AQ.onError(aQ),aQ.throw()}eQ&&eQ<1e3&&(eQ=1e3);const iQ=tQ instanceof tk?tQ.getTrackLabel():"remote_track",oQ=tQ.getVolumeLevel();let rQ=oQ,nQ=oQ;const sQ=Date.now();return new Gh(aQ=>{const cQ=setInterval(()=>{const gQ=tQ.getVolumeLevel();rQ=gQ>rQ?gQ:rQ,nQ=gQ<nQ?gQ:nQ;const IQ=rQ-nQ>1e-4,EQ=Date.now()-sQ;if(IQ||EQ>eQ){clearInterval(cQ);const CQ=IQ,dQ={duration:EQ,deviceLabel:iQ,maxVolumeLevel:rQ,result:CQ};Qy.info("[track-".concat(tQ.getTrackId(),"] check audio track active completed. ").concat(JSON.stringify(dQ))),AQ.onSuccess(dQ),aQ(CQ)}},200)})},checkVideoTrackIsActive:async function(tQ){let eQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5e3;const AQ=sA.reportApiInvoke(null,{tag:Iv.TRACER,name:Cv.CHECK_VIDEO_TRACK_IS_ACTIVE,options:[eQ]});if(!(tQ instanceof Hk||tQ instanceof sM)){const IQ=new Sb(nv.INVALID_TRACK,"the parameter is not a video track");return AQ.onError(IQ),IQ.throw()}eQ&&eQ<1e3&&(eQ=1e3);const iQ=tQ instanceof Hk?tQ.getTrackLabel():"remote_track",oQ=tQ.getMediaStreamTrack(!0),rQ=document.createElement("video");rQ.style.width="1px",rQ.style.height="1px",rQ.setAttribute("muted",""),rQ.muted=!0,rQ.setAttribute("playsinline",""),rQ.controls=!1,(PI()||NI())&&(rQ.style.opacity="0.01",rQ.style.position="fixed",rQ.style.left="0",rQ.style.top="0",document.body.appendChild(rQ)),rQ.srcObject=new MediaStream([oQ]),rQ.play();const nQ=document.createElement("canvas");nQ.width=160,nQ.height=120;let sQ=0,aQ=0;try{const IQ=Date.now();sQ=await function(EQ,CQ,dQ,lQ){let uQ,hQ=0,BQ=null;return new Gh((QQ,fQ)=>{function _Q(){hQ>lQ&&uQ&&(uQ(),QQ(hQ));const RQ=dQ.getContext("2d");if(!RQ){const NQ=new Sb(nv.UNEXPECTED_ERROR,"can not get canvas 2d context.");return Qy.error(NQ.toString()),void fQ(NQ)}RQ.drawImage(EQ,0,0,160,120);const wQ=RQ.getImageData(0,0,dQ.width,dQ.height),bQ=Math.floor(wQ.data.length/3);if(BQ){for(let NQ=0;NQ<bQ;NQ+=3)if(wQ.data[NQ]!==BQ[NQ])return hQ+=1,void(BQ=wQ.data);BQ=wQ.data}else BQ=wQ.data}setTimeout(()=>{uQ&&(uQ(),QQ(hQ))},CQ),uQ=kP(()=>{_Q()},30)})}(rQ,eQ,nQ,4),aQ=Date.now()-IQ}catch(IQ){throw AQ.onError(IQ),IQ}bF===CI.SAFARI&&(rQ.pause(),rQ.remove()),rQ.srcObject=null;const cQ=sQ>4,gQ={duration:aQ,changedPicNum:sQ,deviceLabel:iQ,result:cQ};return Qy.info("[track-".concat(tQ.getTrackId(),"] check video track active completed. ").concat(JSON.stringify(gQ))),AQ.onSuccess(gQ),cQ},setArea:lU,audioElementPlayCenter:eL,resumeAudioContext:function(){eL.autoResumeAfterInterruption(!0)},processExternalMediaAEC:function(tQ){yj.processExternalMediaAEC(tQ)},registerExtensions:function(tQ){const eQ=Dy("PLUGIN_INFO")||[];tQ.forEach(AQ=>{"name"in AQ&&!Dn(eQ).call(eQ,AQ.name)&&eQ.push(AQ.name);const iQ=AQ;iQ.__registered__=!0,iQ.logger.hookLog=Qy.extLog,iQ.reporter.hookApiInvoke=sA.extApiInvoke,iQ.parameters&&Object.keys(iQ.parameters).forEach(oQ=>{iQ.parameters[oQ]=Dy(oQ)})}),ZK("PLUGIN_INFO",eQ)},ChannelMediaRelayError:kb,ChannelMediaRelayEvent:Pb,ChannelMediaRelayState:Lb,RemoteStreamFallbackType:nP,RemoteStreamType:iP,ConnectionDisconnectedReason:Av,AudienceLatencyLevelType:yv,AREAS:Fb,preload:async function(tQ,eQ,AQ,iQ){return jF(tQ,eQ,AQ,iQ)}});Object.defineProperties($K,{onAudioAutoplayFailed:{get:()=>XP.onAudioAutoplayFailed,set:tQ=>{XP.onAudioAutoplayFailed=tQ}},onAutoplayFailed:{get:()=>XP.onAutoplayFailed,set:tQ=>{XP.onAutoplayFailed=tQ}},_onSecurityPolicyViolation:{value:void 0,writable:!0},_cspEventHandlerPointer:{value:void 0,writable:!0},onSecurityPolicyViolation:{get:()=>$K._onSecurityPolicyViolation,set(tQ){$K._onSecurityPolicyViolation=tQ,Oj(tQ)}},__CLIENT_LIST__:{get:()=>Dy("SHOW_GLOBAL_CLIENT_LIST")?lA:[]}}),zP.on(fP.CAMERA_DEVICE_CHANGED,tQ=>{Qy.info("camera device changed",JSON.stringify(tQ)),$K.onCameraChanged&&$K.onCameraChanged(tQ),$K.safeEmit(iw.CAMERA_CHANGED,tQ)}),zP.on(fP.RECORDING_DEVICE_CHANGED,tQ=>{Qy.info("microphone device changed",JSON.stringify(tQ)),$K.onMicrophoneChanged&&$K.onMicrophoneChanged(tQ),$K.safeEmit(iw.MICROPHONE_CHANGED,tQ)}),zP.on(fP.PLAYOUT_DEVICE_CHANGED,tQ=>{Qy.debug("playout device changed",JSON.stringify(tQ)),$K.onPlaybackDeviceChanged&&$K.onPlaybackDeviceChanged(tQ),$K.safeEmit(iw.PLAYBACK_DEVICE_CHANGED,tQ)}),eL.onAutoplayFailed=()=>{Qy.info("detect audio element autoplay failed"),XP.onAudioAutoplayFailed&&XP.onAudioAutoplayFailed()},NP.on("autoplay-failed",()=>{Qy.info("detect webaudio autoplay failed"),XP.onAudioAutoplayFailed&&XP.onAudioAutoplayFailed(),$K.safeEmit(iw.AUTOPLAY_FAILED)}),NP.on(VD.STATE_CHANGE,(tQ,eQ)=>{Qy.info("audio context state changed: ".concat(eQ," => ").concat(tQ)),$K.onAudioContextStateChanged&&$K.onAudioContextStateChanged(tQ,eQ),$K.safeEmit(iw.AUDIO_CONTEXT_STATE_CHANGED,tQ,eQ)}),Vv.on(Lv.NETWORK_STATE_CHANGE,(tQ,eQ)=>{Qy.info("[network-indicator] network state changed, ".concat(eQ," => ").concat(tQ))}),window&&(window.__ARTC__=$K);const AgoraRTC_NProduction_esm=Object.freeze(Object.defineProperty({__proto__:null,default:$K},Symbol.toStringTag,{value:"Module"}));var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(tQ){return tQ&&tQ.__esModule&&Object.prototype.hasOwnProperty.call(tQ,"default")?tQ.default:tQ}function getAugmentedNamespace(tQ){if(tQ.__esModule)return tQ;var eQ=tQ.default;if(typeof eQ=="function"){var AQ=function iQ(){if(this instanceof iQ){var oQ=[null];oQ.push.apply(oQ,arguments);var rQ=Function.bind.apply(eQ,oQ);return new rQ}return eQ.apply(this,arguments)};AQ.prototype=eQ.prototype}else AQ={};return Object.defineProperty(AQ,"__esModule",{value:!0}),Object.keys(tQ).forEach(function(iQ){var oQ=Object.getOwnPropertyDescriptor(tQ,iQ);Object.defineProperty(AQ,iQ,oQ.get?oQ:{enumerable:!0,get:function(){return tQ[iQ]}})}),AQ}var agoraRtmExports={},agoraRtm={get exports(){return agoraRtmExports},set exports(tQ){agoraRtmExports=tQ}};const require$$0=getAugmentedNamespace(AgoraRTC_NProduction_esm);/*! @preserve
 * AgoraRTM Web SDK 2.2.1 - commit: v2.2.1-0-g69f68c57-dirty - fusion: false
 * Copyright (C) 2018-2024 Agora Lab.
 * This file is licensed under the AGORA, INC. SDK LICENSE AGREEMENT
 * A copy of this license may be found at https://www.agora.io/en/sdk-license-agreement/
 */(function(module,exports){(function(tQ,eQ){module.exports=eQ(require$$0)})(commonjsGlobal,function(AgoraRTC){function _applyDecoratedDescriptor(tQ,eQ,AQ,iQ,oQ){var rQ={};return Object.keys(iQ).forEach(function(nQ){rQ[nQ]=iQ[nQ]}),rQ.enumerable=!!rQ.enumerable,rQ.configurable=!!rQ.configurable,("value"in rQ||rQ.initializer)&&(rQ.writable=!0),rQ=AQ.slice().reverse().reduce(function(nQ,sQ){return sQ(tQ,eQ,nQ)||nQ},rQ),oQ&&rQ.initializer!==void 0&&(rQ.value=rQ.initializer?rQ.initializer.call(oQ):void 0,rQ.initializer=void 0),rQ.initializer===void 0?(Object.defineProperty(tQ,eQ,rQ),null):rQ}function _defineProperty$1(tQ,eQ,AQ){return(eQ=_toPropertyKey(eQ))in tQ?Object.defineProperty(tQ,eQ,{value:AQ,enumerable:!0,configurable:!0,writable:!0}):tQ[eQ]=AQ,tQ}function ownKeys(tQ,eQ){var AQ=Object.keys(tQ);if(Object.getOwnPropertySymbols){var iQ=Object.getOwnPropertySymbols(tQ);eQ&&(iQ=iQ.filter(function(oQ){return Object.getOwnPropertyDescriptor(tQ,oQ).enumerable})),AQ.push.apply(AQ,iQ)}return AQ}function _objectSpread2(tQ){for(var eQ=1;eQ<arguments.length;eQ++){var AQ=arguments[eQ]!=null?arguments[eQ]:{};eQ%2?ownKeys(Object(AQ),!0).forEach(function(iQ){_defineProperty$1(tQ,iQ,AQ[iQ])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tQ,Object.getOwnPropertyDescriptors(AQ)):ownKeys(Object(AQ)).forEach(function(iQ){Object.defineProperty(tQ,iQ,Object.getOwnPropertyDescriptor(AQ,iQ))})}return tQ}function _objectWithoutProperties(tQ,eQ){if(tQ==null)return{};var AQ,iQ,oQ=_objectWithoutPropertiesLoose(tQ,eQ);if(Object.getOwnPropertySymbols){var rQ=Object.getOwnPropertySymbols(tQ);for(iQ=0;iQ<rQ.length;iQ++)AQ=rQ[iQ],eQ.includes(AQ)||{}.propertyIsEnumerable.call(tQ,AQ)&&(oQ[AQ]=tQ[AQ])}return oQ}function _objectWithoutPropertiesLoose(tQ,eQ){if(tQ==null)return{};var AQ={};for(var iQ in tQ)if({}.hasOwnProperty.call(tQ,iQ)){if(eQ.includes(iQ))continue;AQ[iQ]=tQ[iQ]}return AQ}function _toPrimitive(tQ,eQ){if(typeof tQ!="object"||!tQ)return tQ;var AQ=tQ[Symbol.toPrimitive];if(AQ!==void 0){var iQ=AQ.call(tQ,eQ||"default");if(typeof iQ!="object")return iQ;throw new TypeError("@@toPrimitive must return a primitive value.")}return(eQ==="string"?String:Number)(tQ)}function _toPropertyKey(tQ){var eQ=_toPrimitive(tQ,"string");return typeof eQ=="symbol"?eQ:eQ+""}let subscribedState=function(tQ){return tQ.UNSUBSCRIBED="UNSUBSCRIBED",tQ.SUBSCRIBED="SUBSCRIBED",tQ}({}),MessageType$1=function(tQ){return tQ.STRING="STRING",tQ.BINARY="BINARY",tQ}({}),LegacyAreaCode=function(tQ){return tQ.CN="CN",tQ.NA="NA",tQ.EU="EU",tQ.AS="AS",tQ.JP="JP",tQ.IN="IN",tQ.GLOB="GLOB",tQ.OC="OC",tQ.SA="SA",tQ.AF="AF",tQ.KR="KR",tQ.US="US",tQ.OVS="OVS",tQ}({}),AreaCode=function(tQ){return tQ.GLOBAL="GLOBAL",tQ.INDIA="INDIA",tQ.JAPAN="JAPAN",tQ.ASIA="ASIA",tQ.EUROPE="EUROPE",tQ.CHINA="CHINA",tQ.NORTH_AMERICA="NORTH_AMERICA",tQ}({}),LinkStateChangeReason4Report=function(tQ){return tQ[tQ.UNKNOWN=0]="UNKNOWN",tQ[tQ.LOGIN=1]="LOGIN",tQ[tQ.LOGIN_SUCCESS=2]="LOGIN_SUCCESS",tQ[tQ.LOGIN_TIMEOUT=3]="LOGIN_TIMEOUT",tQ[tQ.LOGIN_NOT_AUTHORIZED=4]="LOGIN_NOT_AUTHORIZED",tQ[tQ.LOGIN_REJECTED=5]="LOGIN_REJECTED",tQ[tQ.RELOGIN=6]="RELOGIN",tQ[tQ.LOGOUT=7]="LOGOUT",tQ[tQ.AUTO_RECONNECT=8]="AUTO_RECONNECT",tQ[tQ.RECONNECT_TIMEOUT=9]="RECONNECT_TIMEOUT",tQ[tQ.RECONNECT_SUCCESS=10]="RECONNECT_SUCCESS",tQ[tQ.JOIN=11]="JOIN",tQ[tQ.JOIN_SUCCESS=12]="JOIN_SUCCESS",tQ[tQ.JOIN_FAILED=13]="JOIN_FAILED",tQ[tQ.REJOIN=14]="REJOIN",tQ[tQ.LEAVE=15]="LEAVE",tQ[tQ.INVALID_TOKEN=16]="INVALID_TOKEN",tQ[tQ.TOKEN_EXPIRED=17]="TOKEN_EXPIRED",tQ[tQ.INCONSISTENT_APP_ID=18]="INCONSISTENT_APP_ID",tQ[tQ.INVALID_CHANNEL_NAME=19]="INVALID_CHANNEL_NAME",tQ[tQ.INVALID_USER_ID=20]="INVALID_USER_ID",tQ[tQ.NOT_INITIALIZED=21]="NOT_INITIALIZED",tQ[tQ.RTM_SERVICE_NOT_CONNECTED=22]="RTM_SERVICE_NOT_CONNECTED",tQ[tQ.CHANNEL_INSTANCE_EXCEED_LIMITATION=23]="CHANNEL_INSTANCE_EXCEED_LIMITATION",tQ[tQ.OPERATION_RATE_EXCEED_LIMITATION=24]="OPERATION_RATE_EXCEED_LIMITATION",tQ[tQ.CHANNEL_IN_ERROR_STATE=25]="CHANNEL_IN_ERROR_STATE",tQ[tQ.PRESENCE_NOT_CONNECTED=26]="PRESENCE_NOT_CONNECTED",tQ[tQ.SAME_UID_LOGIN=27]="SAME_UID_LOGIN",tQ[tQ.KICKED_OUT_BY_SERVER=28]="KICKED_OUT_BY_SERVER",tQ[tQ.KEEP_ALIVE_TIMEOUT=29]="KEEP_ALIVE_TIMEOUT",tQ[tQ.CONNECTION_ERROR=30]="CONNECTION_ERROR",tQ[tQ.PRESENCE_NOT_READY=31]="PRESENCE_NOT_READY",tQ[tQ.NETWORK_CHANGE=32]="NETWORK_CHANGE",tQ[tQ.SERVICE_NOT_SUPPORTED=33]="SERVICE_NOT_SUPPORTED",tQ[tQ.STREAM_CHANNEL_NOT_AVAILABLE=34]="STREAM_CHANNEL_NOT_AVAILABLE",tQ[tQ.STORAGE_NOT_AVAILABLE=35]="STORAGE_NOT_AVAILABLE",tQ[tQ.LOCK_NOT_AVAILABLE=36]="LOCK_NOT_AVAILABLE",tQ}({}),LinkStateChangeReasonDescription=function(tQ){return tQ.UNKNOWN="Unknown",tQ.LOGIN="Perform login operation",tQ.LOGIN_SUCCESS="Login success",tQ.LOGIN_TIMEOUT="Login timeout",tQ.LOGIN_NOT_AUTHORIZED="Login not authorized",tQ.LOGIN_REJECTED="Login rejected",tQ.RELOGIN="Perform login operation again",tQ.LOGOUT="Logout success",tQ.AUTO_RECONNECT="Reconnecting",tQ.RECONNECT_TIMEOUT="Reconnect timeout",tQ.RECONNECT_SUCCESS="Reconnect success",tQ.JOIN="Perform join operation",tQ.JOIN_SUCCESS="Join channel success",tQ.JOIN_FAILED="Join channel failed",tQ.REJOIN="Perform join operation again",tQ.LEAVE="Leave channel success",tQ.INVALID_TOKEN="Invalid token",tQ.TOKEN_EXPIRED="Token expired",tQ.INCONSISTENT_APP_ID="Inconsistent app ID",tQ.INVALID_CHANNEL_NAME="Invalid channel name",tQ.INVALID_USER_ID="Invalid user id",tQ.NOT_INITIALIZED="Not initialized",tQ.RTM_SERVICE_NOT_CONNECTED="RTM service not connected",tQ.CHANNEL_INSTANCE_EXCEED_LIMITATION="Channel instance exceed limitation",tQ.OPERATION_RATE_EXCEED_LIMITATION="Operation rate exceed limitation",tQ.CHANNEL_IN_ERROR_STATE="Channel in error state",tQ.PRESENCE_NOT_CONNECTED="Presence not connected",tQ.SAME_UID_LOGIN="The same uid login on another device",tQ.KICKED_OUT_BY_SERVER="Kicked out by server",tQ.KEEP_ALIVE_TIMEOUT="Keep alive timeout",tQ.CONNECTION_ERROR="Connection error",tQ.PRESENCE_NOT_READY="Presence not ready",tQ.NETWORK_CHANGE="Network change",tQ.SERVICE_NOT_SUPPORTED="Service not supported",tQ.STREAM_CHANNEL_NOT_AVAILABLE="Stream channel not available",tQ.STORAGE_NOT_AVAILABLE="Storage service is not available",tQ.LOCK_NOT_AVAILABLE="Lock service is not available",tQ}({}),ChannelTypeEnum=function(tQ){return tQ[tQ.MESSAGE=1]="MESSAGE",tQ[tQ.STREAM=2]="STREAM",tQ[tQ.USER=3]="USER",tQ}({});var ConstantsType=Object.freeze({__proto__:null,AreaCode,ChannelTypeEnum,LegacyAreaCode,LinkStateChangeReason4Report,LinkStateChangeReasonDescription,MessageType:MessageType$1,subscribedState}),commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:{};function getDefaultExportFromCjs(tQ){return tQ&&tQ.__esModule&&Object.prototype.hasOwnProperty.call(tQ,"default")?tQ.default:tQ}function getAugmentedNamespace(tQ){if(tQ.__esModule)return tQ;var eQ=tQ.default;if(typeof eQ=="function"){var AQ=function iQ(){return this instanceof iQ?Reflect.construct(eQ,arguments,this.constructor):eQ.apply(this,arguments)};AQ.prototype=eQ.prototype}else AQ={};return Object.defineProperty(AQ,"__esModule",{value:!0}),Object.keys(tQ).forEach(function(iQ){var oQ=Object.getOwnPropertyDescriptor(tQ,iQ);Object.defineProperty(AQ,iQ,oQ.get?oQ:{enumerable:!0,get:function(){return tQ[iQ]}})}),AQ}function format(tQ){var eQ=Array.prototype.slice.call(arguments,1);return eQ.length&&(tQ=tQ.replace(/(%?)(%([jds]))/g,function(AQ,iQ,oQ,rQ){var nQ=eQ.shift();switch(rQ){case"s":nQ=""+nQ;break;case"d":nQ=Number(nQ);break;case"j":nQ=JSON.stringify(nQ)}return iQ?(eQ.unshift(nQ),AQ):nQ})),eQ.length&&(tQ+=" "+eQ.join(" ")),""+(tQ=tQ.replace(/%{2,2}/g,"%"))}var format_1=format,format$1=getDefaultExportFromCjs(format_1),_extendStatics=function(tQ,eQ){return _extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(AQ,iQ){AQ.__proto__=iQ}||function(AQ,iQ){for(var oQ in iQ)iQ.hasOwnProperty(oQ)&&(AQ[oQ]=iQ[oQ])},_extendStatics(tQ,eQ)};function __extends$3(tQ,eQ){function AQ(){this.constructor=tQ}_extendStatics(tQ,eQ),tQ.prototype=eQ===null?Object.create(eQ):(AQ.prototype=eQ.prototype,new AQ)}function isFunction$7(tQ){return typeof tQ=="function"}var _enable_super_gross_mode_that_will_cause_bad_things=!1,config$1={Promise:void 0,set useDeprecatedSynchronousErrorHandling(tQ){tQ&&new Error().stack,_enable_super_gross_mode_that_will_cause_bad_things=tQ},get useDeprecatedSynchronousErrorHandling(){return _enable_super_gross_mode_that_will_cause_bad_things}};function hostReportError(tQ){setTimeout(function(){throw tQ},0)}var empty$1={closed:!0,next:function(tQ){},error:function(tQ){if(config$1.useDeprecatedSynchronousErrorHandling)throw tQ;hostReportError(tQ)},complete:function(){}},isArray$h=function(){return Array.isArray||function(tQ){return tQ&&typeof tQ.length=="number"}}();function isObject$e(tQ){return tQ!==null&&typeof tQ=="object"}var UnsubscriptionErrorImpl$1=function(){function tQ(eQ){return Error.call(this),this.message=eQ?eQ.length+` errors occurred during unsubscription:
`+eQ.map(function(AQ,iQ){return iQ+1+") "+AQ.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=eQ,this}return tQ.prototype=Object.create(Error.prototype),tQ}(),UnsubscriptionError$1=UnsubscriptionErrorImpl$1,Subscription$2=function(){function tQ(eQ){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,eQ&&(this._ctorUnsubscribe=!0,this._unsubscribe=eQ)}return tQ.prototype.unsubscribe=function(){var eQ;if(!this.closed){var AQ=this,iQ=AQ._parentOrParents,oQ=AQ._ctorUnsubscribe,rQ=AQ._unsubscribe,nQ=AQ._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,iQ instanceof tQ)iQ.remove(this);else if(iQ!==null)for(var sQ=0;sQ<iQ.length;++sQ)iQ[sQ].remove(this);if(isFunction$7(rQ)){oQ&&(this._unsubscribe=void 0);try{rQ.call(this)}catch(gQ){eQ=gQ instanceof UnsubscriptionError$1?flattenUnsubscriptionErrors$1(gQ.errors):[gQ]}}if(isArray$h(nQ)){sQ=-1;for(var aQ=nQ.length;++sQ<aQ;){var cQ=nQ[sQ];if(isObject$e(cQ))try{cQ.unsubscribe()}catch(gQ){eQ=eQ||[],gQ instanceof UnsubscriptionError$1?eQ=eQ.concat(flattenUnsubscriptionErrors$1(gQ.errors)):eQ.push(gQ)}}}if(eQ)throw new UnsubscriptionError$1(eQ)}},tQ.prototype.add=function(eQ){var AQ=eQ;if(!eQ)return tQ.EMPTY;switch(typeof eQ){case"function":AQ=new tQ(eQ);case"object":if(AQ===this||AQ.closed||typeof AQ.unsubscribe!="function")return AQ;if(this.closed)return AQ.unsubscribe(),AQ;if(!(AQ instanceof tQ)){var iQ=AQ;(AQ=new tQ)._subscriptions=[iQ]}break;default:throw new Error("unrecognized teardown "+eQ+" added to Subscription.")}var oQ=AQ._parentOrParents;if(oQ===null)AQ._parentOrParents=this;else if(oQ instanceof tQ){if(oQ===this)return AQ;AQ._parentOrParents=[oQ,this]}else{if(oQ.indexOf(this)!==-1)return AQ;oQ.push(this)}var rQ=this._subscriptions;return rQ===null?this._subscriptions=[AQ]:rQ.push(AQ),AQ},tQ.prototype.remove=function(eQ){var AQ=this._subscriptions;if(AQ){var iQ=AQ.indexOf(eQ);iQ!==-1&&AQ.splice(iQ,1)}},tQ.EMPTY=function(eQ){return eQ.closed=!0,eQ}(new tQ),tQ}();function flattenUnsubscriptionErrors$1(tQ){return tQ.reduce(function(eQ,AQ){return eQ.concat(AQ instanceof UnsubscriptionError$1?AQ.errors:AQ)},[])}var rxSubscriber=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),Subscriber=function(tQ){function eQ(AQ,iQ,oQ){var rQ=tQ.call(this)||this;switch(rQ.syncErrorValue=null,rQ.syncErrorThrown=!1,rQ.syncErrorThrowable=!1,rQ.isStopped=!1,arguments.length){case 0:rQ.destination=empty$1;break;case 1:if(!AQ){rQ.destination=empty$1;break}if(typeof AQ=="object"){AQ instanceof eQ?(rQ.syncErrorThrowable=AQ.syncErrorThrowable,rQ.destination=AQ,AQ.add(rQ)):(rQ.syncErrorThrowable=!0,rQ.destination=new SafeSubscriber(rQ,AQ));break}default:rQ.syncErrorThrowable=!0,rQ.destination=new SafeSubscriber(rQ,AQ,iQ,oQ)}return rQ}return __extends$3(eQ,tQ),eQ.prototype[rxSubscriber]=function(){return this},eQ.create=function(AQ,iQ,oQ){var rQ=new eQ(AQ,iQ,oQ);return rQ.syncErrorThrowable=!1,rQ},eQ.prototype.next=function(AQ){this.isStopped||this._next(AQ)},eQ.prototype.error=function(AQ){this.isStopped||(this.isStopped=!0,this._error(AQ))},eQ.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},eQ.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,tQ.prototype.unsubscribe.call(this))},eQ.prototype._next=function(AQ){this.destination.next(AQ)},eQ.prototype._error=function(AQ){this.destination.error(AQ),this.unsubscribe()},eQ.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},eQ.prototype._unsubscribeAndRecycle=function(){var AQ=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=AQ,this},eQ}(Subscription$2),SafeSubscriber=function(tQ){function eQ(AQ,iQ,oQ,rQ){var nQ,sQ=tQ.call(this)||this;sQ._parentSubscriber=AQ;var aQ=sQ;return isFunction$7(iQ)?nQ=iQ:iQ&&(nQ=iQ.next,oQ=iQ.error,rQ=iQ.complete,iQ!==empty$1&&(isFunction$7((aQ=Object.create(iQ)).unsubscribe)&&sQ.add(aQ.unsubscribe.bind(aQ)),aQ.unsubscribe=sQ.unsubscribe.bind(sQ))),sQ._context=aQ,sQ._next=nQ,sQ._error=oQ,sQ._complete=rQ,sQ}return __extends$3(eQ,tQ),eQ.prototype.next=function(AQ){if(!this.isStopped&&this._next){var iQ=this._parentSubscriber;config$1.useDeprecatedSynchronousErrorHandling&&iQ.syncErrorThrowable?this.__tryOrSetError(iQ,this._next,AQ)&&this.unsubscribe():this.__tryOrUnsub(this._next,AQ)}},eQ.prototype.error=function(AQ){if(!this.isStopped){var iQ=this._parentSubscriber,oQ=config$1.useDeprecatedSynchronousErrorHandling;if(this._error)oQ&&iQ.syncErrorThrowable?(this.__tryOrSetError(iQ,this._error,AQ),this.unsubscribe()):(this.__tryOrUnsub(this._error,AQ),this.unsubscribe());else if(iQ.syncErrorThrowable)oQ?(iQ.syncErrorValue=AQ,iQ.syncErrorThrown=!0):hostReportError(AQ),this.unsubscribe();else{if(this.unsubscribe(),oQ)throw AQ;hostReportError(AQ)}}},eQ.prototype.complete=function(){var AQ=this;if(!this.isStopped){var iQ=this._parentSubscriber;if(this._complete){var oQ=function(){return AQ._complete.call(AQ._context)};config$1.useDeprecatedSynchronousErrorHandling&&iQ.syncErrorThrowable?(this.__tryOrSetError(iQ,oQ),this.unsubscribe()):(this.__tryOrUnsub(oQ),this.unsubscribe())}else this.unsubscribe()}},eQ.prototype.__tryOrUnsub=function(AQ,iQ){try{AQ.call(this._context,iQ)}catch(oQ){if(this.unsubscribe(),config$1.useDeprecatedSynchronousErrorHandling)throw oQ;hostReportError(oQ)}},eQ.prototype.__tryOrSetError=function(AQ,iQ,oQ){if(!config$1.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{iQ.call(this._context,oQ)}catch(rQ){return config$1.useDeprecatedSynchronousErrorHandling?(AQ.syncErrorValue=rQ,AQ.syncErrorThrown=!0,!0):(hostReportError(rQ),!0)}return!1},eQ.prototype._unsubscribe=function(){var AQ=this._parentSubscriber;this._context=null,this._parentSubscriber=null,AQ.unsubscribe()},eQ}(Subscriber);function canReportError(tQ){for(;tQ;){var eQ=tQ,AQ=eQ.closed,iQ=eQ.destination,oQ=eQ.isStopped;if(AQ||oQ)return!1;tQ=iQ&&iQ instanceof Subscriber?iQ:null}return!0}function toSubscriber(tQ,eQ,AQ){if(tQ){if(tQ instanceof Subscriber)return tQ;if(tQ[rxSubscriber])return tQ[rxSubscriber]()}return tQ||eQ||AQ?new Subscriber(tQ,eQ,AQ):new Subscriber(empty$1)}var observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function identity$5(tQ){return tQ}function pipe(){for(var tQ=[],eQ=0;eQ<arguments.length;eQ++)tQ[eQ]=arguments[eQ];return pipeFromArray(tQ)}function pipeFromArray(tQ){return tQ.length===0?identity$5:tQ.length===1?tQ[0]:function(eQ){return tQ.reduce(function(AQ,iQ){return iQ(AQ)},eQ)}}var Observable=function(){function tQ(eQ){this._isScalar=!1,eQ&&(this._subscribe=eQ)}return tQ.prototype.lift=function(eQ){var AQ=new tQ;return AQ.source=this,AQ.operator=eQ,AQ},tQ.prototype.subscribe=function(eQ,AQ,iQ){var oQ=this.operator,rQ=toSubscriber(eQ,AQ,iQ);if(oQ?rQ.add(oQ.call(rQ,this.source)):rQ.add(this.source||config$1.useDeprecatedSynchronousErrorHandling&&!rQ.syncErrorThrowable?this._subscribe(rQ):this._trySubscribe(rQ)),config$1.useDeprecatedSynchronousErrorHandling&&rQ.syncErrorThrowable&&(rQ.syncErrorThrowable=!1,rQ.syncErrorThrown))throw rQ.syncErrorValue;return rQ},tQ.prototype._trySubscribe=function(eQ){try{return this._subscribe(eQ)}catch(AQ){config$1.useDeprecatedSynchronousErrorHandling&&(eQ.syncErrorThrown=!0,eQ.syncErrorValue=AQ),canReportError(eQ)?eQ.error(AQ):console.warn(AQ)}},tQ.prototype.forEach=function(eQ,AQ){var iQ=this;return new(AQ=getPromiseCtor(AQ))(function(oQ,rQ){var nQ;nQ=iQ.subscribe(function(sQ){try{eQ(sQ)}catch(aQ){rQ(aQ),nQ&&nQ.unsubscribe()}},rQ,oQ)})},tQ.prototype._subscribe=function(eQ){var AQ=this.source;return AQ&&AQ.subscribe(eQ)},tQ.prototype[observable]=function(){return this},tQ.prototype.pipe=function(){for(var eQ=[],AQ=0;AQ<arguments.length;AQ++)eQ[AQ]=arguments[AQ];return eQ.length===0?this:pipeFromArray(eQ)(this)},tQ.prototype.toPromise=function(eQ){var AQ=this;return new(eQ=getPromiseCtor(eQ))(function(iQ,oQ){var rQ;AQ.subscribe(function(nQ){return rQ=nQ},function(nQ){return oQ(nQ)},function(){return iQ(rQ)})})},tQ.create=function(eQ){return new tQ(eQ)},tQ}();function getPromiseCtor(tQ){if(tQ||(tQ=config$1.Promise||Promise),!tQ)throw new Error("no Promise impl found");return tQ}var ObjectUnsubscribedErrorImpl=function(){function tQ(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return tQ.prototype=Object.create(Error.prototype),tQ}(),ObjectUnsubscribedError=ObjectUnsubscribedErrorImpl,SubjectSubscription=function(tQ){function eQ(AQ,iQ){var oQ=tQ.call(this)||this;return oQ.subject=AQ,oQ.subscriber=iQ,oQ.closed=!1,oQ}return __extends$3(eQ,tQ),eQ.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var AQ=this.subject,iQ=AQ.observers;if(this.subject=null,iQ&&iQ.length!==0&&!AQ.isStopped&&!AQ.closed){var oQ=iQ.indexOf(this.subscriber);oQ!==-1&&iQ.splice(oQ,1)}}},eQ}(Subscription$2),SubjectSubscriber=function(tQ){function eQ(AQ){var iQ=tQ.call(this,AQ)||this;return iQ.destination=AQ,iQ}return __extends$3(eQ,tQ),eQ}(Subscriber),Subject=function(tQ){function eQ(){var AQ=tQ.call(this)||this;return AQ.observers=[],AQ.closed=!1,AQ.isStopped=!1,AQ.hasError=!1,AQ.thrownError=null,AQ}return __extends$3(eQ,tQ),eQ.prototype[rxSubscriber]=function(){return new SubjectSubscriber(this)},eQ.prototype.lift=function(AQ){var iQ=new AnonymousSubject(this,this);return iQ.operator=AQ,iQ},eQ.prototype.next=function(AQ){if(this.closed)throw new ObjectUnsubscribedError;if(!this.isStopped)for(var iQ=this.observers,oQ=iQ.length,rQ=iQ.slice(),nQ=0;nQ<oQ;nQ++)rQ[nQ].next(AQ)},eQ.prototype.error=function(AQ){if(this.closed)throw new ObjectUnsubscribedError;this.hasError=!0,this.thrownError=AQ,this.isStopped=!0;for(var iQ=this.observers,oQ=iQ.length,rQ=iQ.slice(),nQ=0;nQ<oQ;nQ++)rQ[nQ].error(AQ);this.observers.length=0},eQ.prototype.complete=function(){if(this.closed)throw new ObjectUnsubscribedError;this.isStopped=!0;for(var AQ=this.observers,iQ=AQ.length,oQ=AQ.slice(),rQ=0;rQ<iQ;rQ++)oQ[rQ].complete();this.observers.length=0},eQ.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},eQ.prototype._trySubscribe=function(AQ){if(this.closed)throw new ObjectUnsubscribedError;return tQ.prototype._trySubscribe.call(this,AQ)},eQ.prototype._subscribe=function(AQ){if(this.closed)throw new ObjectUnsubscribedError;return this.hasError?(AQ.error(this.thrownError),Subscription$2.EMPTY):this.isStopped?(AQ.complete(),Subscription$2.EMPTY):(this.observers.push(AQ),new SubjectSubscription(this,AQ))},eQ.prototype.asObservable=function(){var AQ=new Observable;return AQ.source=this,AQ},eQ.create=function(AQ,iQ){return new AnonymousSubject(AQ,iQ)},eQ}(Observable),AnonymousSubject=function(tQ){function eQ(AQ,iQ){var oQ=tQ.call(this)||this;return oQ.destination=AQ,oQ.source=iQ,oQ}return __extends$3(eQ,tQ),eQ.prototype.next=function(AQ){var iQ=this.destination;iQ&&iQ.next&&iQ.next(AQ)},eQ.prototype.error=function(AQ){var iQ=this.destination;iQ&&iQ.error&&this.destination.error(AQ)},eQ.prototype.complete=function(){var AQ=this.destination;AQ&&AQ.complete&&this.destination.complete()},eQ.prototype._subscribe=function(AQ){return this.source?this.source.subscribe(AQ):Subscription$2.EMPTY},eQ}(Subject);function refCount(){return function(tQ){return tQ.lift(new RefCountOperator(tQ))}}var RefCountOperator=function(){function tQ(eQ){this.connectable=eQ}return tQ.prototype.call=function(eQ,AQ){var iQ=this.connectable;iQ._refCount++;var oQ=new RefCountSubscriber(eQ,iQ),rQ=AQ.subscribe(oQ);return oQ.closed||(oQ.connection=iQ.connect()),rQ},tQ}(),RefCountSubscriber=function(tQ){function eQ(AQ,iQ){var oQ=tQ.call(this,AQ)||this;return oQ.connectable=iQ,oQ}return __extends$3(eQ,tQ),eQ.prototype._unsubscribe=function(){var AQ=this.connectable;if(AQ){this.connectable=null;var iQ=AQ._refCount;if(iQ<=0)this.connection=null;else if(AQ._refCount=iQ-1,iQ>1)this.connection=null;else{var oQ=this.connection,rQ=AQ._connection;this.connection=null,!rQ||oQ&&rQ!==oQ||rQ.unsubscribe()}}else this.connection=null},eQ}(Subscriber),ConnectableObservable=function(tQ){function eQ(AQ,iQ){var oQ=tQ.call(this)||this;return oQ.source=AQ,oQ.subjectFactory=iQ,oQ._refCount=0,oQ._isComplete=!1,oQ}return __extends$3(eQ,tQ),eQ.prototype._subscribe=function(AQ){return this.getSubject().subscribe(AQ)},eQ.prototype.getSubject=function(){var AQ=this._subject;return AQ&&!AQ.isStopped||(this._subject=this.subjectFactory()),this._subject},eQ.prototype.connect=function(){var AQ=this._connection;return AQ||(this._isComplete=!1,(AQ=this._connection=new Subscription$2).add(this.source.subscribe(new ConnectableSubscriber(this.getSubject(),this))),AQ.closed&&(this._connection=null,AQ=Subscription$2.EMPTY)),AQ},eQ.prototype.refCount=function(){return refCount()(this)},eQ}(Observable),connectableObservableDescriptor=function(){var tQ=ConnectableObservable.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:tQ._subscribe},_isComplete:{value:tQ._isComplete,writable:!0},getSubject:{value:tQ.getSubject},connect:{value:tQ.connect},refCount:{value:tQ.refCount}}}(),ConnectableSubscriber=function(tQ){function eQ(AQ,iQ){var oQ=tQ.call(this,AQ)||this;return oQ.connectable=iQ,oQ}return __extends$3(eQ,tQ),eQ.prototype._error=function(AQ){this._unsubscribe(),tQ.prototype._error.call(this,AQ)},eQ.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),tQ.prototype._complete.call(this)},eQ.prototype._unsubscribe=function(){var AQ=this.connectable;if(AQ){this.connectable=null;var iQ=AQ._connection;AQ._refCount=0,AQ._subject=null,AQ._connection=null,iQ&&iQ.unsubscribe()}},eQ}(SubjectSubscriber),GroupedObservable=function(tQ){function eQ(AQ,iQ,oQ){var rQ=tQ.call(this)||this;return rQ.key=AQ,rQ.groupSubject=iQ,rQ.refCountSubscription=oQ,rQ}return __extends$3(eQ,tQ),eQ.prototype._subscribe=function(AQ){var iQ=new Subscription$2,oQ=this.refCountSubscription,rQ=this.groupSubject;return oQ&&!oQ.closed&&iQ.add(new InnerRefCountSubscription(oQ)),iQ.add(rQ.subscribe(AQ)),iQ},eQ}(Observable),InnerRefCountSubscription=function(tQ){function eQ(AQ){var iQ=tQ.call(this)||this;return iQ.parent=AQ,AQ.count++,iQ}return __extends$3(eQ,tQ),eQ.prototype.unsubscribe=function(){var AQ=this.parent;AQ.closed||this.closed||(tQ.prototype.unsubscribe.call(this),AQ.count-=1,AQ.count===0&&AQ.attemptedToUnsubscribe&&AQ.unsubscribe())},eQ}(Subscription$2),BehaviorSubject=function(tQ){function eQ(AQ){var iQ=tQ.call(this)||this;return iQ._value=AQ,iQ}return __extends$3(eQ,tQ),Object.defineProperty(eQ.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),eQ.prototype._subscribe=function(AQ){var iQ=tQ.prototype._subscribe.call(this,AQ);return iQ&&!iQ.closed&&AQ.next(this._value),iQ},eQ.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ObjectUnsubscribedError;return this._value},eQ.prototype.next=function(AQ){tQ.prototype.next.call(this,this._value=AQ)},eQ}(Subject),Action$2=function(tQ){function eQ(AQ,iQ){return tQ.call(this)||this}return __extends$3(eQ,tQ),eQ.prototype.schedule=function(AQ,iQ){return this},eQ}(Subscription$2),AsyncAction$2=function(tQ){function eQ(AQ,iQ){var oQ=tQ.call(this,AQ,iQ)||this;return oQ.scheduler=AQ,oQ.work=iQ,oQ.pending=!1,oQ}return __extends$3(eQ,tQ),eQ.prototype.schedule=function(AQ,iQ){if(iQ===void 0&&(iQ=0),this.closed)return this;this.state=AQ;var oQ=this.id,rQ=this.scheduler;return oQ!=null&&(this.id=this.recycleAsyncId(rQ,oQ,iQ)),this.pending=!0,this.delay=iQ,this.id=this.id||this.requestAsyncId(rQ,this.id,iQ),this},eQ.prototype.requestAsyncId=function(AQ,iQ,oQ){return oQ===void 0&&(oQ=0),setInterval(AQ.flush.bind(AQ,this),oQ)},eQ.prototype.recycleAsyncId=function(AQ,iQ,oQ){if(oQ===void 0&&(oQ=0),oQ!==null&&this.delay===oQ&&this.pending===!1)return iQ;clearInterval(iQ)},eQ.prototype.execute=function(AQ,iQ){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var oQ=this._execute(AQ,iQ);if(oQ)return oQ;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},eQ.prototype._execute=function(AQ,iQ){var oQ=!1,rQ=void 0;try{this.work(AQ)}catch(nQ){oQ=!0,rQ=!!nQ&&nQ||new Error(nQ)}if(oQ)return this.unsubscribe(),rQ},eQ.prototype._unsubscribe=function(){var AQ=this.id,iQ=this.scheduler,oQ=iQ.actions,rQ=oQ.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,rQ!==-1&&oQ.splice(rQ,1),AQ!=null&&(this.id=this.recycleAsyncId(iQ,AQ,null)),this.delay=null},eQ}(Action$2),QueueAction=function(tQ){function eQ(AQ,iQ){var oQ=tQ.call(this,AQ,iQ)||this;return oQ.scheduler=AQ,oQ.work=iQ,oQ}return __extends$3(eQ,tQ),eQ.prototype.schedule=function(AQ,iQ){return iQ===void 0&&(iQ=0),iQ>0?tQ.prototype.schedule.call(this,AQ,iQ):(this.delay=iQ,this.state=AQ,this.scheduler.flush(this),this)},eQ.prototype.execute=function(AQ,iQ){return iQ>0||this.closed?tQ.prototype.execute.call(this,AQ,iQ):this._execute(AQ,iQ)},eQ.prototype.requestAsyncId=function(AQ,iQ,oQ){return oQ===void 0&&(oQ=0),oQ!==null&&oQ>0||oQ===null&&this.delay>0?tQ.prototype.requestAsyncId.call(this,AQ,iQ,oQ):AQ.flush(this)},eQ}(AsyncAction$2),Scheduler$2=function(){function tQ(eQ,AQ){AQ===void 0&&(AQ=tQ.now),this.SchedulerAction=eQ,this.now=AQ}return tQ.prototype.schedule=function(eQ,AQ,iQ){return AQ===void 0&&(AQ=0),new this.SchedulerAction(this,eQ).schedule(iQ,AQ)},tQ.now=function(){return Date.now()},tQ}(),AsyncScheduler$2=function(tQ){function eQ(AQ,iQ){iQ===void 0&&(iQ=Scheduler$2.now);var oQ=tQ.call(this,AQ,function(){return eQ.delegate&&eQ.delegate!==oQ?eQ.delegate.now():iQ()})||this;return oQ.actions=[],oQ.active=!1,oQ.scheduled=void 0,oQ}return __extends$3(eQ,tQ),eQ.prototype.schedule=function(AQ,iQ,oQ){return iQ===void 0&&(iQ=0),eQ.delegate&&eQ.delegate!==this?eQ.delegate.schedule(AQ,iQ,oQ):tQ.prototype.schedule.call(this,AQ,iQ,oQ)},eQ.prototype.flush=function(AQ){var iQ=this.actions;if(this.active)iQ.push(AQ);else{var oQ;this.active=!0;do if(oQ=AQ.execute(AQ.state,AQ.delay))break;while(AQ=iQ.shift());if(this.active=!1,oQ){for(;AQ=iQ.shift();)AQ.unsubscribe();throw oQ}}},eQ}(Scheduler$2),QueueScheduler=function(tQ){function eQ(){return tQ!==null&&tQ.apply(this,arguments)||this}return __extends$3(eQ,tQ),eQ}(AsyncScheduler$2),queueScheduler=new QueueScheduler(QueueAction),queue=queueScheduler,EMPTY=new Observable(function(tQ){return tQ.complete()});function empty(tQ){return tQ?emptyScheduled(tQ):EMPTY}function emptyScheduled(tQ){return new Observable(function(eQ){return tQ.schedule(function(){return eQ.complete()})})}function isScheduler(tQ){return tQ&&typeof tQ.schedule=="function"}var subscribeToArray=function(tQ){return function(eQ){for(var AQ=0,iQ=tQ.length;AQ<iQ&&!eQ.closed;AQ++)eQ.next(tQ[AQ]);eQ.complete()}},NotificationKind;function scheduleArray(tQ,eQ){return new Observable(function(AQ){var iQ=new Subscription$2,oQ=0;return iQ.add(eQ.schedule(function(){oQ!==tQ.length?(AQ.next(tQ[oQ++]),AQ.closed||iQ.add(this.schedule())):AQ.complete()})),iQ})}function fromArray(tQ,eQ){return eQ?scheduleArray(tQ,eQ):new Observable(subscribeToArray(tQ))}function of(){for(var tQ=[],eQ=0;eQ<arguments.length;eQ++)tQ[eQ]=arguments[eQ];var AQ=tQ[tQ.length-1];return isScheduler(AQ)?(tQ.pop(),scheduleArray(tQ,AQ)):fromArray(tQ)}function throwError(tQ,eQ){return new Observable(eQ?function(AQ){return eQ.schedule(dispatch$7,0,{error:tQ,subscriber:AQ})}:function(AQ){return AQ.error(tQ)})}function dispatch$7(tQ){var eQ=tQ.error;tQ.subscriber.error(eQ)}NotificationKind||(NotificationKind={});var Notification=function(){function tQ(eQ,AQ,iQ){this.kind=eQ,this.value=AQ,this.error=iQ,this.hasValue=eQ==="N"}return tQ.prototype.observe=function(eQ){switch(this.kind){case"N":return eQ.next&&eQ.next(this.value);case"E":return eQ.error&&eQ.error(this.error);case"C":return eQ.complete&&eQ.complete()}},tQ.prototype.do=function(eQ,AQ,iQ){switch(this.kind){case"N":return eQ&&eQ(this.value);case"E":return AQ&&AQ(this.error);case"C":return iQ&&iQ()}},tQ.prototype.accept=function(eQ,AQ,iQ){return eQ&&typeof eQ.next=="function"?this.observe(eQ):this.do(eQ,AQ,iQ)},tQ.prototype.toObservable=function(){switch(this.kind){case"N":return of(this.value);case"E":return throwError(this.error);case"C":return empty()}throw new Error("unexpected notification kind value")},tQ.createNext=function(eQ){return eQ!==void 0?new tQ("N",eQ):tQ.undefinedValueNotification},tQ.createError=function(eQ){return new tQ("E",void 0,eQ)},tQ.createComplete=function(){return tQ.completeNotification},tQ.completeNotification=new tQ("C"),tQ.undefinedValueNotification=new tQ("N",void 0),tQ}();function observeOn(tQ,eQ){return eQ===void 0&&(eQ=0),function(AQ){return AQ.lift(new ObserveOnOperator(tQ,eQ))}}var ObserveOnOperator=function(){function tQ(eQ,AQ){AQ===void 0&&(AQ=0),this.scheduler=eQ,this.delay=AQ}return tQ.prototype.call=function(eQ,AQ){return AQ.subscribe(new ObserveOnSubscriber(eQ,this.scheduler,this.delay))},tQ}(),ObserveOnSubscriber=function(tQ){function eQ(AQ,iQ,oQ){oQ===void 0&&(oQ=0);var rQ=tQ.call(this,AQ)||this;return rQ.scheduler=iQ,rQ.delay=oQ,rQ}return __extends$3(eQ,tQ),eQ.dispatch=function(AQ){var iQ=AQ.notification,oQ=AQ.destination;iQ.observe(oQ),this.unsubscribe()},eQ.prototype.scheduleMessage=function(AQ){this.destination.add(this.scheduler.schedule(eQ.dispatch,this.delay,new ObserveOnMessage(AQ,this.destination)))},eQ.prototype._next=function(AQ){this.scheduleMessage(Notification.createNext(AQ))},eQ.prototype._error=function(AQ){this.scheduleMessage(Notification.createError(AQ)),this.unsubscribe()},eQ.prototype._complete=function(){this.scheduleMessage(Notification.createComplete()),this.unsubscribe()},eQ}(Subscriber),ObserveOnMessage=function(){return function(tQ,eQ){this.notification=tQ,this.destination=eQ}}(),ReplaySubject=function(tQ){function eQ(AQ,iQ,oQ){AQ===void 0&&(AQ=Number.POSITIVE_INFINITY),iQ===void 0&&(iQ=Number.POSITIVE_INFINITY);var rQ=tQ.call(this)||this;return rQ.scheduler=oQ,rQ._events=[],rQ._infiniteTimeWindow=!1,rQ._bufferSize=AQ<1?1:AQ,rQ._windowTime=iQ<1?1:iQ,iQ===Number.POSITIVE_INFINITY?(rQ._infiniteTimeWindow=!0,rQ.next=rQ.nextInfiniteTimeWindow):rQ.next=rQ.nextTimeWindow,rQ}return __extends$3(eQ,tQ),eQ.prototype.nextInfiniteTimeWindow=function(AQ){if(!this.isStopped){var iQ=this._events;iQ.push(AQ),iQ.length>this._bufferSize&&iQ.shift()}tQ.prototype.next.call(this,AQ)},eQ.prototype.nextTimeWindow=function(AQ){this.isStopped||(this._events.push(new ReplayEvent(this._getNow(),AQ)),this._trimBufferThenGetEvents()),tQ.prototype.next.call(this,AQ)},eQ.prototype._subscribe=function(AQ){var iQ,oQ=this._infiniteTimeWindow,rQ=oQ?this._events:this._trimBufferThenGetEvents(),nQ=this.scheduler,sQ=rQ.length;if(this.closed)throw new ObjectUnsubscribedError;if(this.isStopped||this.hasError?iQ=Subscription$2.EMPTY:(this.observers.push(AQ),iQ=new SubjectSubscription(this,AQ)),nQ&&AQ.add(AQ=new ObserveOnSubscriber(AQ,nQ)),oQ)for(var aQ=0;aQ<sQ&&!AQ.closed;aQ++)AQ.next(rQ[aQ]);else for(aQ=0;aQ<sQ&&!AQ.closed;aQ++)AQ.next(rQ[aQ].value);return this.hasError?AQ.error(this.thrownError):this.isStopped&&AQ.complete(),iQ},eQ.prototype._getNow=function(){return(this.scheduler||queue).now()},eQ.prototype._trimBufferThenGetEvents=function(){for(var AQ=this._getNow(),iQ=this._bufferSize,oQ=this._windowTime,rQ=this._events,nQ=rQ.length,sQ=0;sQ<nQ&&!(AQ-rQ[sQ].time<oQ);)sQ++;return nQ>iQ&&(sQ=Math.max(sQ,nQ-iQ)),sQ>0&&rQ.splice(0,sQ),rQ},eQ}(Subject),ReplayEvent=function(){return function(tQ,eQ){this.time=tQ,this.value=eQ}}(),AsyncSubject=function(tQ){function eQ(){var AQ=tQ!==null&&tQ.apply(this,arguments)||this;return AQ.value=null,AQ.hasNext=!1,AQ.hasCompleted=!1,AQ}return __extends$3(eQ,tQ),eQ.prototype._subscribe=function(AQ){return this.hasError?(AQ.error(this.thrownError),Subscription$2.EMPTY):this.hasCompleted&&this.hasNext?(AQ.next(this.value),AQ.complete(),Subscription$2.EMPTY):tQ.prototype._subscribe.call(this,AQ)},eQ.prototype.next=function(AQ){this.hasCompleted||(this.value=AQ,this.hasNext=!0)},eQ.prototype.error=function(AQ){this.hasCompleted||tQ.prototype.error.call(this,AQ)},eQ.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&tQ.prototype.next.call(this,this.value),tQ.prototype.complete.call(this)},eQ}(Subject),nextHandle=1,RESOLVED=function(){return Promise.resolve()}(),activeHandles={};function findAndClearHandle(tQ){return tQ in activeHandles&&(delete activeHandles[tQ],!0)}var Immediate={setImmediate:function(tQ){var eQ=nextHandle++;return activeHandles[eQ]=!0,RESOLVED.then(function(){return findAndClearHandle(eQ)&&tQ()}),eQ},clearImmediate:function(tQ){findAndClearHandle(tQ)}},AsapAction=function(tQ){function eQ(AQ,iQ){var oQ=tQ.call(this,AQ,iQ)||this;return oQ.scheduler=AQ,oQ.work=iQ,oQ}return __extends$3(eQ,tQ),eQ.prototype.requestAsyncId=function(AQ,iQ,oQ){return oQ===void 0&&(oQ=0),oQ!==null&&oQ>0?tQ.prototype.requestAsyncId.call(this,AQ,iQ,oQ):(AQ.actions.push(this),AQ.scheduled||(AQ.scheduled=Immediate.setImmediate(AQ.flush.bind(AQ,null))))},eQ.prototype.recycleAsyncId=function(AQ,iQ,oQ){if(oQ===void 0&&(oQ=0),oQ!==null&&oQ>0||oQ===null&&this.delay>0)return tQ.prototype.recycleAsyncId.call(this,AQ,iQ,oQ);AQ.actions.length===0&&(Immediate.clearImmediate(iQ),AQ.scheduled=void 0)},eQ}(AsyncAction$2),AsapScheduler=function(tQ){function eQ(){return tQ!==null&&tQ.apply(this,arguments)||this}return __extends$3(eQ,tQ),eQ.prototype.flush=function(AQ){this.active=!0,this.scheduled=void 0;var iQ,oQ=this.actions,rQ=-1,nQ=oQ.length;AQ=AQ||oQ.shift();do if(iQ=AQ.execute(AQ.state,AQ.delay))break;while(++rQ<nQ&&(AQ=oQ.shift()));if(this.active=!1,iQ){for(;++rQ<nQ&&(AQ=oQ.shift());)AQ.unsubscribe();throw iQ}},eQ}(AsyncScheduler$2),asapScheduler=new AsapScheduler(AsapAction),asap=asapScheduler,asyncScheduler=new AsyncScheduler$2(AsyncAction$2),async=asyncScheduler,AnimationFrameAction=function(tQ){function eQ(AQ,iQ){var oQ=tQ.call(this,AQ,iQ)||this;return oQ.scheduler=AQ,oQ.work=iQ,oQ}return __extends$3(eQ,tQ),eQ.prototype.requestAsyncId=function(AQ,iQ,oQ){return oQ===void 0&&(oQ=0),oQ!==null&&oQ>0?tQ.prototype.requestAsyncId.call(this,AQ,iQ,oQ):(AQ.actions.push(this),AQ.scheduled||(AQ.scheduled=requestAnimationFrame(function(){return AQ.flush(null)})))},eQ.prototype.recycleAsyncId=function(AQ,iQ,oQ){if(oQ===void 0&&(oQ=0),oQ!==null&&oQ>0||oQ===null&&this.delay>0)return tQ.prototype.recycleAsyncId.call(this,AQ,iQ,oQ);AQ.actions.length===0&&(cancelAnimationFrame(iQ),AQ.scheduled=void 0)},eQ}(AsyncAction$2),AnimationFrameScheduler=function(tQ){function eQ(){return tQ!==null&&tQ.apply(this,arguments)||this}return __extends$3(eQ,tQ),eQ.prototype.flush=function(AQ){this.active=!0,this.scheduled=void 0;var iQ,oQ=this.actions,rQ=-1,nQ=oQ.length;AQ=AQ||oQ.shift();do if(iQ=AQ.execute(AQ.state,AQ.delay))break;while(++rQ<nQ&&(AQ=oQ.shift()));if(this.active=!1,iQ){for(;++rQ<nQ&&(AQ=oQ.shift());)AQ.unsubscribe();throw iQ}},eQ}(AsyncScheduler$2),animationFrameScheduler=new AnimationFrameScheduler(AnimationFrameAction),animationFrame=animationFrameScheduler,VirtualTimeScheduler=function(tQ){function eQ(AQ,iQ){AQ===void 0&&(AQ=VirtualAction),iQ===void 0&&(iQ=Number.POSITIVE_INFINITY);var oQ=tQ.call(this,AQ,function(){return oQ.frame})||this;return oQ.maxFrames=iQ,oQ.frame=0,oQ.index=-1,oQ}return __extends$3(eQ,tQ),eQ.prototype.flush=function(){for(var AQ,iQ,oQ=this.actions,rQ=this.maxFrames;(iQ=oQ[0])&&iQ.delay<=rQ&&(oQ.shift(),this.frame=iQ.delay,!(AQ=iQ.execute(iQ.state,iQ.delay))););if(AQ){for(;iQ=oQ.shift();)iQ.unsubscribe();throw AQ}},eQ.frameTimeFactor=10,eQ}(AsyncScheduler$2),VirtualAction=function(tQ){function eQ(AQ,iQ,oQ){oQ===void 0&&(oQ=AQ.index+=1);var rQ=tQ.call(this,AQ,iQ)||this;return rQ.scheduler=AQ,rQ.work=iQ,rQ.index=oQ,rQ.active=!0,rQ.index=AQ.index=oQ,rQ}return __extends$3(eQ,tQ),eQ.prototype.schedule=function(AQ,iQ){if(iQ===void 0&&(iQ=0),!this.id)return tQ.prototype.schedule.call(this,AQ,iQ);this.active=!1;var oQ=new eQ(this.scheduler,this.work);return this.add(oQ),oQ.schedule(AQ,iQ)},eQ.prototype.requestAsyncId=function(AQ,iQ,oQ){oQ===void 0&&(oQ=0),this.delay=AQ.frame+oQ;var rQ=AQ.actions;return rQ.push(this),rQ.sort(eQ.sortActions),!0},eQ.prototype.recycleAsyncId=function(AQ,iQ,oQ){},eQ.prototype._execute=function(AQ,iQ){if(this.active===!0)return tQ.prototype._execute.call(this,AQ,iQ)},eQ.sortActions=function(AQ,iQ){return AQ.delay===iQ.delay?AQ.index===iQ.index?0:AQ.index>iQ.index?1:-1:AQ.delay>iQ.delay?1:-1},eQ}(AsyncAction$2);function noop$3(){}function isObservable(tQ){return!!tQ&&(tQ instanceof Observable||typeof tQ.lift=="function"&&typeof tQ.subscribe=="function")}var ArgumentOutOfRangeErrorImpl=function(){function tQ(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return tQ.prototype=Object.create(Error.prototype),tQ}(),ArgumentOutOfRangeError=ArgumentOutOfRangeErrorImpl,EmptyErrorImpl=function(){function tQ(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return tQ.prototype=Object.create(Error.prototype),tQ}(),EmptyError=EmptyErrorImpl,TimeoutErrorImpl=function(){function tQ(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return tQ.prototype=Object.create(Error.prototype),tQ}(),TimeoutError=TimeoutErrorImpl;function map$1(tQ,eQ){return function(AQ){if(typeof tQ!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return AQ.lift(new MapOperator(tQ,eQ))}}var MapOperator=function(){function tQ(eQ,AQ){this.project=eQ,this.thisArg=AQ}return tQ.prototype.call=function(eQ,AQ){return AQ.subscribe(new MapSubscriber(eQ,this.project,this.thisArg))},tQ}(),MapSubscriber=function(tQ){function eQ(AQ,iQ,oQ){var rQ=tQ.call(this,AQ)||this;return rQ.project=iQ,rQ.count=0,rQ.thisArg=oQ||rQ,rQ}return __extends$3(eQ,tQ),eQ.prototype._next=function(AQ){var iQ;try{iQ=this.project.call(this.thisArg,AQ,this.count++)}catch(oQ){return void this.destination.error(oQ)}this.destination.next(iQ)},eQ}(Subscriber);function bindCallback(tQ,eQ,AQ){if(eQ){if(!isScheduler(eQ))return function(){for(var iQ=[],oQ=0;oQ<arguments.length;oQ++)iQ[oQ]=arguments[oQ];return bindCallback(tQ,AQ).apply(void 0,iQ).pipe(map$1(function(rQ){return isArray$h(rQ)?eQ.apply(void 0,rQ):eQ(rQ)}))};AQ=eQ}return function(){for(var iQ=[],oQ=0;oQ<arguments.length;oQ++)iQ[oQ]=arguments[oQ];var rQ,nQ=this,sQ={context:nQ,subject:rQ,callbackFunc:tQ,scheduler:AQ};return new Observable(function(aQ){if(AQ){var cQ={args:iQ,subscriber:aQ,params:sQ};return AQ.schedule(dispatch$6,0,cQ)}if(!rQ){rQ=new AsyncSubject;try{tQ.apply(nQ,iQ.concat([function(){for(var gQ=[],IQ=0;IQ<arguments.length;IQ++)gQ[IQ]=arguments[IQ];rQ.next(gQ.length<=1?gQ[0]:gQ),rQ.complete()}]))}catch(gQ){canReportError(rQ)?rQ.error(gQ):console.warn(gQ)}}return rQ.subscribe(aQ)})}}function dispatch$6(tQ){var eQ=this,AQ=tQ.args,iQ=tQ.subscriber,oQ=tQ.params,rQ=oQ.callbackFunc,nQ=oQ.context,sQ=oQ.scheduler,aQ=oQ.subject;if(!aQ){aQ=oQ.subject=new AsyncSubject;try{rQ.apply(nQ,AQ.concat([function(){for(var cQ=[],gQ=0;gQ<arguments.length;gQ++)cQ[gQ]=arguments[gQ];var IQ=cQ.length<=1?cQ[0]:cQ;eQ.add(sQ.schedule(dispatchNext$2,0,{value:IQ,subject:aQ}))}]))}catch(cQ){aQ.error(cQ)}}this.add(aQ.subscribe(iQ))}function dispatchNext$2(tQ){var eQ=tQ.value,AQ=tQ.subject;AQ.next(eQ),AQ.complete()}function bindNodeCallback(tQ,eQ,AQ){if(eQ){if(!isScheduler(eQ))return function(){for(var iQ=[],oQ=0;oQ<arguments.length;oQ++)iQ[oQ]=arguments[oQ];return bindNodeCallback(tQ,AQ).apply(void 0,iQ).pipe(map$1(function(rQ){return isArray$h(rQ)?eQ.apply(void 0,rQ):eQ(rQ)}))};AQ=eQ}return function(){for(var iQ=[],oQ=0;oQ<arguments.length;oQ++)iQ[oQ]=arguments[oQ];var rQ={subject:void 0,args:iQ,callbackFunc:tQ,scheduler:AQ,context:this};return new Observable(function(nQ){var sQ=rQ.context,aQ=rQ.subject;if(AQ)return AQ.schedule(dispatch$5,0,{params:rQ,subscriber:nQ,context:sQ});if(!aQ){aQ=rQ.subject=new AsyncSubject;try{tQ.apply(sQ,iQ.concat([function(){for(var cQ=[],gQ=0;gQ<arguments.length;gQ++)cQ[gQ]=arguments[gQ];var IQ=cQ.shift();IQ?aQ.error(IQ):(aQ.next(cQ.length<=1?cQ[0]:cQ),aQ.complete())}]))}catch(cQ){canReportError(aQ)?aQ.error(cQ):console.warn(cQ)}}return aQ.subscribe(nQ)})}}function dispatch$5(tQ){var eQ=this,AQ=tQ.params,iQ=tQ.subscriber,oQ=tQ.context,rQ=AQ.callbackFunc,nQ=AQ.args,sQ=AQ.scheduler,aQ=AQ.subject;if(!aQ){aQ=AQ.subject=new AsyncSubject;try{rQ.apply(oQ,nQ.concat([function(){for(var cQ=[],gQ=0;gQ<arguments.length;gQ++)cQ[gQ]=arguments[gQ];var IQ=cQ.shift();if(IQ)eQ.add(sQ.schedule(dispatchError,0,{err:IQ,subject:aQ}));else{var EQ=cQ.length<=1?cQ[0]:cQ;eQ.add(sQ.schedule(dispatchNext$1,0,{value:EQ,subject:aQ}))}}]))}catch(cQ){this.add(sQ.schedule(dispatchError,0,{err:cQ,subject:aQ}))}}this.add(aQ.subscribe(iQ))}function dispatchNext$1(tQ){var eQ=tQ.value,AQ=tQ.subject;AQ.next(eQ),AQ.complete()}function dispatchError(tQ){var eQ=tQ.err;tQ.subject.error(eQ)}var OuterSubscriber=function(tQ){function eQ(){return tQ!==null&&tQ.apply(this,arguments)||this}return __extends$3(eQ,tQ),eQ.prototype.notifyNext=function(AQ,iQ,oQ,rQ,nQ){this.destination.next(iQ)},eQ.prototype.notifyError=function(AQ,iQ){this.destination.error(AQ)},eQ.prototype.notifyComplete=function(AQ){this.destination.complete()},eQ}(Subscriber),InnerSubscriber=function(tQ){function eQ(AQ,iQ,oQ){var rQ=tQ.call(this)||this;return rQ.parent=AQ,rQ.outerValue=iQ,rQ.outerIndex=oQ,rQ.index=0,rQ}return __extends$3(eQ,tQ),eQ.prototype._next=function(AQ){this.parent.notifyNext(this.outerValue,AQ,this.outerIndex,this.index++,this)},eQ.prototype._error=function(AQ){this.parent.notifyError(AQ,this),this.unsubscribe()},eQ.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},eQ}(Subscriber),subscribeToPromise=function(tQ){return function(eQ){return tQ.then(function(AQ){eQ.closed||(eQ.next(AQ),eQ.complete())},function(AQ){return eQ.error(AQ)}).then(null,hostReportError),eQ}};function getSymbolIterator(){return typeof Symbol=="function"&&Symbol.iterator?Symbol.iterator:"@@iterator"}var iterator=getSymbolIterator(),subscribeToIterable=function(tQ){return function(eQ){for(var AQ=tQ[iterator]();;){var iQ=void 0;try{iQ=AQ.next()}catch(oQ){return eQ.error(oQ),eQ}if(iQ.done){eQ.complete();break}if(eQ.next(iQ.value),eQ.closed)break}return typeof AQ.return=="function"&&eQ.add(function(){AQ.return&&AQ.return()}),eQ}},subscribeToObservable=function(tQ){return function(eQ){var AQ=tQ[observable]();if(typeof AQ.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return AQ.subscribe(eQ)}},isArrayLike$9=function(tQ){return tQ&&typeof tQ.length=="number"&&typeof tQ!="function"};function isPromise(tQ){return!!tQ&&typeof tQ.subscribe!="function"&&typeof tQ.then=="function"}var subscribeTo=function(tQ){if(tQ&&typeof tQ[observable]=="function")return subscribeToObservable(tQ);if(isArrayLike$9(tQ))return subscribeToArray(tQ);if(isPromise(tQ))return subscribeToPromise(tQ);if(tQ&&typeof tQ[iterator]=="function")return subscribeToIterable(tQ);var eQ=isObject$e(tQ)?"an invalid object":"'"+tQ+"'";throw new TypeError("You provided "+eQ+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function subscribeToResult(tQ,eQ,AQ,iQ,oQ){if(oQ===void 0&&(oQ=new InnerSubscriber(tQ,AQ,iQ)),!oQ.closed)return eQ instanceof Observable?eQ.subscribe(oQ):subscribeTo(eQ)(oQ)}var NONE={};function combineLatest(){for(var tQ=[],eQ=0;eQ<arguments.length;eQ++)tQ[eQ]=arguments[eQ];var AQ=void 0,iQ=void 0;return isScheduler(tQ[tQ.length-1])&&(iQ=tQ.pop()),typeof tQ[tQ.length-1]=="function"&&(AQ=tQ.pop()),tQ.length===1&&isArray$h(tQ[0])&&(tQ=tQ[0]),fromArray(tQ,iQ).lift(new CombineLatestOperator(AQ))}var CombineLatestOperator=function(){function tQ(eQ){this.resultSelector=eQ}return tQ.prototype.call=function(eQ,AQ){return AQ.subscribe(new CombineLatestSubscriber(eQ,this.resultSelector))},tQ}(),CombineLatestSubscriber=function(tQ){function eQ(AQ,iQ){var oQ=tQ.call(this,AQ)||this;return oQ.resultSelector=iQ,oQ.active=0,oQ.values=[],oQ.observables=[],oQ}return __extends$3(eQ,tQ),eQ.prototype._next=function(AQ){this.values.push(NONE),this.observables.push(AQ)},eQ.prototype._complete=function(){var AQ=this.observables,iQ=AQ.length;if(iQ===0)this.destination.complete();else{this.active=iQ,this.toRespond=iQ;for(var oQ=0;oQ<iQ;oQ++){var rQ=AQ[oQ];this.add(subscribeToResult(this,rQ,void 0,oQ))}}},eQ.prototype.notifyComplete=function(AQ){(this.active-=1)==0&&this.destination.complete()},eQ.prototype.notifyNext=function(AQ,iQ,oQ){var rQ=this.values,nQ=rQ[oQ],sQ=this.toRespond?nQ===NONE?--this.toRespond:this.toRespond:0;rQ[oQ]=iQ,sQ===0&&(this.resultSelector?this._tryResultSelector(rQ):this.destination.next(rQ.slice()))},eQ.prototype._tryResultSelector=function(AQ){var iQ;try{iQ=this.resultSelector.apply(this,AQ)}catch(oQ){return void this.destination.error(oQ)}this.destination.next(iQ)},eQ}(OuterSubscriber);function scheduleObservable(tQ,eQ){return new Observable(function(AQ){var iQ=new Subscription$2;return iQ.add(eQ.schedule(function(){var oQ=tQ[observable]();iQ.add(oQ.subscribe({next:function(rQ){iQ.add(eQ.schedule(function(){return AQ.next(rQ)}))},error:function(rQ){iQ.add(eQ.schedule(function(){return AQ.error(rQ)}))},complete:function(){iQ.add(eQ.schedule(function(){return AQ.complete()}))}}))})),iQ})}function schedulePromise(tQ,eQ){return new Observable(function(AQ){var iQ=new Subscription$2;return iQ.add(eQ.schedule(function(){return tQ.then(function(oQ){iQ.add(eQ.schedule(function(){AQ.next(oQ),iQ.add(eQ.schedule(function(){return AQ.complete()}))}))},function(oQ){iQ.add(eQ.schedule(function(){return AQ.error(oQ)}))})})),iQ})}function scheduleIterable(tQ,eQ){if(!tQ)throw new Error("Iterable cannot be null");return new Observable(function(AQ){var iQ,oQ=new Subscription$2;return oQ.add(function(){iQ&&typeof iQ.return=="function"&&iQ.return()}),oQ.add(eQ.schedule(function(){iQ=tQ[iterator](),oQ.add(eQ.schedule(function(){if(!AQ.closed){var rQ,nQ;try{var sQ=iQ.next();rQ=sQ.value,nQ=sQ.done}catch(aQ){return void AQ.error(aQ)}nQ?AQ.complete():(AQ.next(rQ),this.schedule())}}))})),oQ})}function isInteropObservable(tQ){return tQ&&typeof tQ[observable]=="function"}function isIterable$1(tQ){return tQ&&typeof tQ[iterator]=="function"}function scheduled(tQ,eQ){if(tQ!=null){if(isInteropObservable(tQ))return scheduleObservable(tQ,eQ);if(isPromise(tQ))return schedulePromise(tQ,eQ);if(isArrayLike$9(tQ))return scheduleArray(tQ,eQ);if(isIterable$1(tQ)||typeof tQ=="string")return scheduleIterable(tQ,eQ)}throw new TypeError((tQ!==null&&typeof tQ||tQ)+" is not observable")}function from(tQ,eQ){return eQ?scheduled(tQ,eQ):tQ instanceof Observable?tQ:new Observable(subscribeTo(tQ))}var SimpleInnerSubscriber=function(tQ){function eQ(AQ){var iQ=tQ.call(this)||this;return iQ.parent=AQ,iQ}return __extends$3(eQ,tQ),eQ.prototype._next=function(AQ){this.parent.notifyNext(AQ)},eQ.prototype._error=function(AQ){this.parent.notifyError(AQ),this.unsubscribe()},eQ.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},eQ}(Subscriber),SimpleOuterSubscriber=function(tQ){function eQ(){return tQ!==null&&tQ.apply(this,arguments)||this}return __extends$3(eQ,tQ),eQ.prototype.notifyNext=function(AQ){this.destination.next(AQ)},eQ.prototype.notifyError=function(AQ){this.destination.error(AQ)},eQ.prototype.notifyComplete=function(){this.destination.complete()},eQ}(Subscriber);function innerSubscribe(tQ,eQ){if(!eQ.closed){if(tQ instanceof Observable)return tQ.subscribe(eQ);var AQ;try{AQ=subscribeTo(tQ)(eQ)}catch(iQ){eQ.error(iQ)}return AQ}}function mergeMap(tQ,eQ,AQ){return AQ===void 0&&(AQ=Number.POSITIVE_INFINITY),typeof eQ=="function"?function(iQ){return iQ.pipe(mergeMap(function(oQ,rQ){return from(tQ(oQ,rQ)).pipe(map$1(function(nQ,sQ){return eQ(oQ,nQ,rQ,sQ)}))},AQ))}:(typeof eQ=="number"&&(AQ=eQ),function(iQ){return iQ.lift(new MergeMapOperator(tQ,AQ))})}var MergeMapOperator=function(){function tQ(eQ,AQ){AQ===void 0&&(AQ=Number.POSITIVE_INFINITY),this.project=eQ,this.concurrent=AQ}return tQ.prototype.call=function(eQ,AQ){return AQ.subscribe(new MergeMapSubscriber(eQ,this.project,this.concurrent))},tQ}(),MergeMapSubscriber=function(tQ){function eQ(AQ,iQ,oQ){oQ===void 0&&(oQ=Number.POSITIVE_INFINITY);var rQ=tQ.call(this,AQ)||this;return rQ.project=iQ,rQ.concurrent=oQ,rQ.hasCompleted=!1,rQ.buffer=[],rQ.active=0,rQ.index=0,rQ}return __extends$3(eQ,tQ),eQ.prototype._next=function(AQ){this.active<this.concurrent?this._tryNext(AQ):this.buffer.push(AQ)},eQ.prototype._tryNext=function(AQ){var iQ,oQ=this.index++;try{iQ=this.project(AQ,oQ)}catch(rQ){return void this.destination.error(rQ)}this.active++,this._innerSub(iQ)},eQ.prototype._innerSub=function(AQ){var iQ=new SimpleInnerSubscriber(this),oQ=this.destination;oQ.add(iQ);var rQ=innerSubscribe(AQ,iQ);rQ!==iQ&&oQ.add(rQ)},eQ.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},eQ.prototype.notifyNext=function(AQ){this.destination.next(AQ)},eQ.prototype.notifyComplete=function(){var AQ=this.buffer;this.active--,AQ.length>0?this._next(AQ.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},eQ}(SimpleOuterSubscriber);function mergeAll(tQ){return tQ===void 0&&(tQ=Number.POSITIVE_INFINITY),mergeMap(identity$5,tQ)}function concatAll(){return mergeAll(1)}function concat(){for(var tQ=[],eQ=0;eQ<arguments.length;eQ++)tQ[eQ]=arguments[eQ];return concatAll()(of.apply(void 0,tQ))}function defer(tQ){return new Observable(function(eQ){var AQ;try{AQ=tQ()}catch(iQ){return void eQ.error(iQ)}return(AQ?from(AQ):empty()).subscribe(eQ)})}function forkJoin(){for(var tQ=[],eQ=0;eQ<arguments.length;eQ++)tQ[eQ]=arguments[eQ];if(tQ.length===1){var AQ=tQ[0];if(isArray$h(AQ))return forkJoinInternal(AQ,null);if(isObject$e(AQ)&&Object.getPrototypeOf(AQ)===Object.prototype){var iQ=Object.keys(AQ);return forkJoinInternal(iQ.map(function(rQ){return AQ[rQ]}),iQ)}}if(typeof tQ[tQ.length-1]=="function"){var oQ=tQ.pop();return forkJoinInternal(tQ=tQ.length===1&&isArray$h(tQ[0])?tQ[0]:tQ,null).pipe(map$1(function(rQ){return oQ.apply(void 0,rQ)}))}return forkJoinInternal(tQ,null)}function forkJoinInternal(tQ,eQ){return new Observable(function(AQ){var iQ=tQ.length;if(iQ!==0)for(var oQ=new Array(iQ),rQ=0,nQ=0,sQ=function(cQ){var gQ=from(tQ[cQ]),IQ=!1;AQ.add(gQ.subscribe({next:function(EQ){IQ||(IQ=!0,nQ++),oQ[cQ]=EQ},error:function(EQ){return AQ.error(EQ)},complete:function(){++rQ!==iQ&&IQ||(nQ===iQ&&AQ.next(eQ?eQ.reduce(function(EQ,CQ,dQ){return EQ[CQ]=oQ[dQ],EQ},{}):oQ),AQ.complete())}}))},aQ=0;aQ<iQ;aQ++)sQ(aQ);else AQ.complete()})}function fromEvent(tQ,eQ,AQ,iQ){return isFunction$7(AQ)&&(iQ=AQ,AQ=void 0),iQ?fromEvent(tQ,eQ,AQ).pipe(map$1(function(oQ){return isArray$h(oQ)?iQ.apply(void 0,oQ):iQ(oQ)})):new Observable(function(oQ){setupSubscription(tQ,eQ,function(rQ){arguments.length>1?oQ.next(Array.prototype.slice.call(arguments)):oQ.next(rQ)},oQ,AQ)})}function setupSubscription(tQ,eQ,AQ,iQ,oQ){var rQ;if(isEventTarget(tQ)){var nQ=tQ;tQ.addEventListener(eQ,AQ,oQ),rQ=function(){return nQ.removeEventListener(eQ,AQ,oQ)}}else if(isJQueryStyleEventEmitter(tQ)){var sQ=tQ;tQ.on(eQ,AQ),rQ=function(){return sQ.off(eQ,AQ)}}else if(isNodeStyleEventEmitter(tQ)){var aQ=tQ;tQ.addListener(eQ,AQ),rQ=function(){return aQ.removeListener(eQ,AQ)}}else{if(!tQ||!tQ.length)throw new TypeError("Invalid event target");for(var cQ=0,gQ=tQ.length;cQ<gQ;cQ++)setupSubscription(tQ[cQ],eQ,AQ,iQ,oQ)}iQ.add(rQ)}function isNodeStyleEventEmitter(tQ){return tQ&&typeof tQ.addListener=="function"&&typeof tQ.removeListener=="function"}function isJQueryStyleEventEmitter(tQ){return tQ&&typeof tQ.on=="function"&&typeof tQ.off=="function"}function isEventTarget(tQ){return tQ&&typeof tQ.addEventListener=="function"&&typeof tQ.removeEventListener=="function"}function fromEventPattern(tQ,eQ,AQ){return AQ?fromEventPattern(tQ,eQ).pipe(map$1(function(iQ){return isArray$h(iQ)?AQ.apply(void 0,iQ):AQ(iQ)})):new Observable(function(iQ){var oQ,rQ=function(){for(var nQ=[],sQ=0;sQ<arguments.length;sQ++)nQ[sQ]=arguments[sQ];return iQ.next(nQ.length===1?nQ[0]:nQ)};try{oQ=tQ(rQ)}catch(nQ){return void iQ.error(nQ)}if(isFunction$7(eQ))return function(){return eQ(rQ,oQ)}})}function generate(tQ,eQ,AQ,iQ,oQ){var rQ,nQ;if(arguments.length==1){var sQ=tQ;nQ=sQ.initialState,eQ=sQ.condition,AQ=sQ.iterate,rQ=sQ.resultSelector||identity$5,oQ=sQ.scheduler}else iQ===void 0||isScheduler(iQ)?(nQ=tQ,rQ=identity$5,oQ=iQ):(nQ=tQ,rQ=iQ);return new Observable(function(aQ){var cQ=nQ;if(oQ)return oQ.schedule(dispatch$4,0,{subscriber:aQ,iterate:AQ,condition:eQ,resultSelector:rQ,state:cQ});for(;;){if(eQ){var gQ=void 0;try{gQ=eQ(cQ)}catch(EQ){return void aQ.error(EQ)}if(!gQ){aQ.complete();break}}var IQ=void 0;try{IQ=rQ(cQ)}catch(EQ){return void aQ.error(EQ)}if(aQ.next(IQ),aQ.closed)break;try{cQ=AQ(cQ)}catch(EQ){return void aQ.error(EQ)}}})}function dispatch$4(tQ){var eQ=tQ.subscriber,AQ=tQ.condition;if(!eQ.closed){if(tQ.needIterate)try{tQ.state=tQ.iterate(tQ.state)}catch(rQ){return void eQ.error(rQ)}else tQ.needIterate=!0;if(AQ){var iQ=void 0;try{iQ=AQ(tQ.state)}catch(rQ){return void eQ.error(rQ)}if(!iQ)return void eQ.complete();if(eQ.closed)return}var oQ;try{oQ=tQ.resultSelector(tQ.state)}catch(rQ){return void eQ.error(rQ)}if(!eQ.closed&&(eQ.next(oQ),!eQ.closed))return this.schedule(tQ)}}function iif(tQ,eQ,AQ){return eQ===void 0&&(eQ=EMPTY),AQ===void 0&&(AQ=EMPTY),defer(function(){return tQ()?eQ:AQ})}function isNumeric(tQ){return!isArray$h(tQ)&&tQ-parseFloat(tQ)+1>=0}function interval(tQ,eQ){return tQ===void 0&&(tQ=0),eQ===void 0&&(eQ=async),(!isNumeric(tQ)||tQ<0)&&(tQ=0),eQ&&typeof eQ.schedule=="function"||(eQ=async),new Observable(function(AQ){return AQ.add(eQ.schedule(dispatch$3,tQ,{subscriber:AQ,counter:0,period:tQ})),AQ})}function dispatch$3(tQ){var eQ=tQ.subscriber,AQ=tQ.counter,iQ=tQ.period;eQ.next(AQ),this.schedule({subscriber:eQ,counter:AQ+1,period:iQ},iQ)}function merge(){for(var tQ=[],eQ=0;eQ<arguments.length;eQ++)tQ[eQ]=arguments[eQ];var AQ=Number.POSITIVE_INFINITY,iQ=null,oQ=tQ[tQ.length-1];return isScheduler(oQ)?(iQ=tQ.pop(),tQ.length>1&&typeof tQ[tQ.length-1]=="number"&&(AQ=tQ.pop())):typeof oQ=="number"&&(AQ=tQ.pop()),iQ===null&&tQ.length===1&&tQ[0]instanceof Observable?tQ[0]:mergeAll(AQ)(fromArray(tQ,iQ))}var NEVER=new Observable(noop$3);function never(){return NEVER}function onErrorResumeNext(){for(var tQ=[],eQ=0;eQ<arguments.length;eQ++)tQ[eQ]=arguments[eQ];if(tQ.length===0)return EMPTY;var AQ=tQ[0],iQ=tQ.slice(1);return tQ.length===1&&isArray$h(AQ)?onErrorResumeNext.apply(void 0,AQ):new Observable(function(oQ){var rQ=function(){return oQ.add(onErrorResumeNext.apply(void 0,iQ).subscribe(oQ))};return from(AQ).subscribe({next:function(nQ){oQ.next(nQ)},error:rQ,complete:rQ})})}function pairs(tQ,eQ){return new Observable(eQ?function(AQ){var iQ=Object.keys(tQ),oQ=new Subscription$2;return oQ.add(eQ.schedule(dispatch$2,0,{keys:iQ,index:0,subscriber:AQ,subscription:oQ,obj:tQ})),oQ}:function(AQ){for(var iQ=Object.keys(tQ),oQ=0;oQ<iQ.length&&!AQ.closed;oQ++){var rQ=iQ[oQ];tQ.hasOwnProperty(rQ)&&AQ.next([rQ,tQ[rQ]])}AQ.complete()})}function dispatch$2(tQ){var eQ=tQ.keys,AQ=tQ.index,iQ=tQ.subscriber,oQ=tQ.subscription,rQ=tQ.obj;if(!iQ.closed)if(AQ<eQ.length){var nQ=eQ[AQ];iQ.next([nQ,rQ[nQ]]),oQ.add(this.schedule({keys:eQ,index:AQ+1,subscriber:iQ,subscription:oQ,obj:rQ}))}else iQ.complete()}function not(tQ,eQ){function AQ(){return!AQ.pred.apply(AQ.thisArg,arguments)}return AQ.pred=tQ,AQ.thisArg=eQ,AQ}function filter(tQ,eQ){return function(AQ){return AQ.lift(new FilterOperator(tQ,eQ))}}var FilterOperator=function(){function tQ(eQ,AQ){this.predicate=eQ,this.thisArg=AQ}return tQ.prototype.call=function(eQ,AQ){return AQ.subscribe(new FilterSubscriber(eQ,this.predicate,this.thisArg))},tQ}(),FilterSubscriber=function(tQ){function eQ(AQ,iQ,oQ){var rQ=tQ.call(this,AQ)||this;return rQ.predicate=iQ,rQ.thisArg=oQ,rQ.count=0,rQ}return __extends$3(eQ,tQ),eQ.prototype._next=function(AQ){var iQ;try{iQ=this.predicate.call(this.thisArg,AQ,this.count++)}catch(oQ){return void this.destination.error(oQ)}iQ&&this.destination.next(AQ)},eQ}(Subscriber);function partition(tQ,eQ,AQ){return[filter(eQ,AQ)(new Observable(subscribeTo(tQ))),filter(not(eQ,AQ))(new Observable(subscribeTo(tQ)))]}function race(){for(var tQ=[],eQ=0;eQ<arguments.length;eQ++)tQ[eQ]=arguments[eQ];if(tQ.length===1){if(!isArray$h(tQ[0]))return tQ[0];tQ=tQ[0]}return fromArray(tQ,void 0).lift(new RaceOperator)}var RaceOperator=function(){function tQ(){}return tQ.prototype.call=function(eQ,AQ){return AQ.subscribe(new RaceSubscriber(eQ))},tQ}(),RaceSubscriber=function(tQ){function eQ(AQ){var iQ=tQ.call(this,AQ)||this;return iQ.hasFirst=!1,iQ.observables=[],iQ.subscriptions=[],iQ}return __extends$3(eQ,tQ),eQ.prototype._next=function(AQ){this.observables.push(AQ)},eQ.prototype._complete=function(){var AQ=this.observables,iQ=AQ.length;if(iQ===0)this.destination.complete();else{for(var oQ=0;oQ<iQ&&!this.hasFirst;oQ++){var rQ=subscribeToResult(this,AQ[oQ],void 0,oQ);this.subscriptions&&this.subscriptions.push(rQ),this.add(rQ)}this.observables=null}},eQ.prototype.notifyNext=function(AQ,iQ,oQ){if(!this.hasFirst){this.hasFirst=!0;for(var rQ=0;rQ<this.subscriptions.length;rQ++)if(rQ!==oQ){var nQ=this.subscriptions[rQ];nQ.unsubscribe(),this.remove(nQ)}this.subscriptions=null}this.destination.next(iQ)},eQ}(OuterSubscriber);function range(tQ,eQ,AQ){return tQ===void 0&&(tQ=0),new Observable(function(iQ){eQ===void 0&&(eQ=tQ,tQ=0);var oQ=0,rQ=tQ;if(AQ)return AQ.schedule(dispatch$1,0,{index:oQ,count:eQ,start:tQ,subscriber:iQ});for(;;){if(oQ++>=eQ){iQ.complete();break}if(iQ.next(rQ++),iQ.closed)break}})}function dispatch$1(tQ){var eQ=tQ.start,AQ=tQ.index,iQ=tQ.count,oQ=tQ.subscriber;AQ>=iQ?oQ.complete():(oQ.next(eQ),oQ.closed||(tQ.index=AQ+1,tQ.start=eQ+1,this.schedule(tQ)))}function timer(tQ,eQ,AQ){tQ===void 0&&(tQ=0);var iQ=-1;return isNumeric(eQ)?iQ=Number(eQ)<1?1:Number(eQ):isScheduler(eQ)&&(AQ=eQ),isScheduler(AQ)||(AQ=async),new Observable(function(oQ){var rQ=isNumeric(tQ)?tQ:+tQ-AQ.now();return AQ.schedule(dispatch,rQ,{index:0,period:iQ,subscriber:oQ})})}function dispatch(tQ){var eQ=tQ.index,AQ=tQ.period,iQ=tQ.subscriber;if(iQ.next(eQ),!iQ.closed){if(AQ===-1)return iQ.complete();tQ.index=eQ+1,this.schedule(tQ,AQ)}}function using(tQ,eQ){return new Observable(function(AQ){var iQ,oQ;try{iQ=tQ()}catch(nQ){return void AQ.error(nQ)}try{oQ=eQ(iQ)}catch(nQ){return void AQ.error(nQ)}var rQ=(oQ?from(oQ):EMPTY).subscribe(AQ);return function(){rQ.unsubscribe(),iQ&&iQ.unsubscribe()}})}function zip(){for(var tQ=[],eQ=0;eQ<arguments.length;eQ++)tQ[eQ]=arguments[eQ];var AQ=tQ[tQ.length-1];return typeof AQ=="function"&&tQ.pop(),fromArray(tQ,void 0).lift(new ZipOperator(AQ))}var ZipOperator=function(){function tQ(eQ){this.resultSelector=eQ}return tQ.prototype.call=function(eQ,AQ){return AQ.subscribe(new ZipSubscriber(eQ,this.resultSelector))},tQ}(),ZipSubscriber=function(tQ){function eQ(AQ,iQ,oQ){var rQ=tQ.call(this,AQ)||this;return rQ.resultSelector=iQ,rQ.iterators=[],rQ.active=0,rQ.resultSelector=typeof iQ=="function"?iQ:void 0,rQ}return __extends$3(eQ,tQ),eQ.prototype._next=function(AQ){var iQ=this.iterators;isArray$h(AQ)?iQ.push(new StaticArrayIterator(AQ)):typeof AQ[iterator]=="function"?iQ.push(new StaticIterator(AQ[iterator]())):iQ.push(new ZipBufferIterator(this.destination,this,AQ))},eQ.prototype._complete=function(){var AQ=this.iterators,iQ=AQ.length;if(this.unsubscribe(),iQ!==0){this.active=iQ;for(var oQ=0;oQ<iQ;oQ++){var rQ=AQ[oQ];rQ.stillUnsubscribed?this.destination.add(rQ.subscribe()):this.active--}}else this.destination.complete()},eQ.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},eQ.prototype.checkIterators=function(){for(var AQ=this.iterators,iQ=AQ.length,oQ=this.destination,rQ=0;rQ<iQ;rQ++)if(typeof(aQ=AQ[rQ]).hasValue=="function"&&!aQ.hasValue())return;var nQ=!1,sQ=[];for(rQ=0;rQ<iQ;rQ++){var aQ,cQ=(aQ=AQ[rQ]).next();if(aQ.hasCompleted()&&(nQ=!0),cQ.done)return void oQ.complete();sQ.push(cQ.value)}this.resultSelector?this._tryresultSelector(sQ):oQ.next(sQ),nQ&&oQ.complete()},eQ.prototype._tryresultSelector=function(AQ){var iQ;try{iQ=this.resultSelector.apply(this,AQ)}catch(oQ){return void this.destination.error(oQ)}this.destination.next(iQ)},eQ}(Subscriber),StaticIterator=function(){function tQ(eQ){this.iterator=eQ,this.nextResult=eQ.next()}return tQ.prototype.hasValue=function(){return!0},tQ.prototype.next=function(){var eQ=this.nextResult;return this.nextResult=this.iterator.next(),eQ},tQ.prototype.hasCompleted=function(){var eQ=this.nextResult;return Boolean(eQ&&eQ.done)},tQ}(),StaticArrayIterator=function(){function tQ(eQ){this.array=eQ,this.index=0,this.length=0,this.length=eQ.length}return tQ.prototype[iterator]=function(){return this},tQ.prototype.next=function(eQ){var AQ=this.index++,iQ=this.array;return AQ<this.length?{value:iQ[AQ],done:!1}:{value:null,done:!0}},tQ.prototype.hasValue=function(){return this.array.length>this.index},tQ.prototype.hasCompleted=function(){return this.array.length===this.index},tQ}(),ZipBufferIterator=function(tQ){function eQ(AQ,iQ,oQ){var rQ=tQ.call(this,AQ)||this;return rQ.parent=iQ,rQ.observable=oQ,rQ.stillUnsubscribed=!0,rQ.buffer=[],rQ.isComplete=!1,rQ}return __extends$3(eQ,tQ),eQ.prototype[iterator]=function(){return this},eQ.prototype.next=function(){var AQ=this.buffer;return AQ.length===0&&this.isComplete?{value:null,done:!0}:{value:AQ.shift(),done:!1}},eQ.prototype.hasValue=function(){return this.buffer.length>0},eQ.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},eQ.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},eQ.prototype.notifyNext=function(AQ){this.buffer.push(AQ),this.parent.checkIterators()},eQ.prototype.subscribe=function(){return innerSubscribe(this.observable,new SimpleInnerSubscriber(this))},eQ}(SimpleOuterSubscriber),_esm5=Object.freeze({__proto__:null,ArgumentOutOfRangeError,AsyncSubject,BehaviorSubject,ConnectableObservable,EMPTY,EmptyError,GroupedObservable,NEVER,Notification,get NotificationKind(){return NotificationKind},ObjectUnsubscribedError,Observable,ReplaySubject,Scheduler:Scheduler$2,Subject,Subscriber,Subscription:Subscription$2,TimeoutError,UnsubscriptionError:UnsubscriptionError$1,VirtualAction,VirtualTimeScheduler,animationFrame,animationFrameScheduler,asap,asapScheduler,async,asyncScheduler,bindCallback,bindNodeCallback,combineLatest,concat,config:config$1,defer,empty,forkJoin,from,fromEvent,fromEventPattern,generate,identity:identity$5,iif,interval,isObservable,merge,never,noop:noop$3,observable,of,onErrorResumeNext,pairs,partition,pipe,queue,queueScheduler,race,range,scheduled,throwError,timer,using,zip});const addPeriodIfNeeded=tQ=>typeof tQ=="string"?tQ.endsWith(".")?tQ:"".concat(tQ,"."):tQ;function genErrorMessage(tQ,eQ){const AQ=typeof eQ=="number"?eQ:eQ!==void 0&&typeof eQ!="string"?eQ.code:void 0,iQ=typeof eQ!="number"&&typeof eQ!="string"&&eQ!==void 0&&eQ.serverCode!==void 0?eQ.serverCode:void 0,oQ="".concat(AQ!==void 0?"Error Code ".concat(AQ):"").concat(iQ!==void 0?", server Code ".concat(iQ):"");let rQ;return rQ=typeof tQ=="string"&&tQ?addPeriodIfNeeded(tQ):Array.isArray(tQ)&&typeof tQ[0]=="string"&&tQ[0]?addPeriodIfNeeded(format$1(tQ[0],...tQ.slice(1))):"","".concat(oQ===""?"":"".concat(oQ," - ")).concat(rQ)}class RTMBaseError extends Error{constructor(eQ,AQ,iQ){var oQ;let rQ;super(genErrorMessage(AQ,iQ)),_defineProperty$1(this,"originalError",void 0),_defineProperty$1(this,"code",void 0),_defineProperty$1(this,"serverCode",void 0),_defineProperty$1(this,"error",void 0),_defineProperty$1(this,"reason",void 0),_defineProperty$1(this,"operation",void 0),_defineProperty$1(this,"errorCode",void 0),typeof iQ=="number"?this.code=iQ:typeof iQ=="string"?this.name=iQ:iQ!==void 0&&(iQ.originalError&&(this.originalError=iQ.originalError),iQ.code!==void 0&&(this.code=iQ.code),iQ.serverCode!==void 0&&(this.serverCode=iQ.serverCode)),rQ=typeof AQ=="string"&&AQ?addPeriodIfNeeded(AQ):Array.isArray(AQ)&&typeof AQ[0]=="string"&&AQ[0]?addPeriodIfNeeded(format$1(AQ[0],...AQ.slice(1))):"",this.error=!0,this.errorCode=(oQ=this.code)!==null&&oQ!==void 0?oQ:0,this.operation=eQ??"",this.reason=rQ}}class RtmInternalError extends Error{constructor(eQ,AQ){super(genErrorMessage(eQ,AQ)),_defineProperty$1(this,"name","RtmInternalError"),_defineProperty$1(this,"code",void 0),this.code=AQ}}const genError=()=>class extends RtmInternalError{constructor(tQ){const eQ=Object.keys(tQ);super(tQ[eQ[0]],eQ[0])}},CommonError=genError();class RtmTimeoutError extends RTMBaseError{constructor(){super(...arguments),_defineProperty$1(this,"name","RtmTimeoutError")}}class RtmInvalidArgumentError extends RTMBaseError{constructor(){super(...arguments),_defineProperty$1(this,"name","RtmInvalidArgumentError")}}class RtmInvalidStatusError extends RTMBaseError{constructor(){super(...arguments),_defineProperty$1(this,"name","RtmInvalidStatusError")}}class RtmLimitExceededError extends RTMBaseError{constructor(){super(...arguments),_defineProperty$1(this,"name","RtmLimitExceededError")}}class RtmInvokeTooOftenError extends RTMBaseError{constructor(){super(...arguments),_defineProperty$1(this,"name","RtmInvokeTooOftenError")}}class RtmUnavailableError extends RTMBaseError{constructor(){super(...arguments),_defineProperty$1(this,"name","RtmUnavailableError"),_defineProperty$1(this,"statusCode",void 0)}}class RtmUnauthenticatedError extends RTMBaseError{constructor(){super(...arguments),_defineProperty$1(this,"name","RtmUnauthenticatedError"),_defineProperty$1(this,"serverCode",void 0)}}class RtmUnknownError extends RTMBaseError{constructor(){super(...arguments),_defineProperty$1(this,"name","RtmUnknownError")}}const isTimeout=tQ=>tQ instanceof RtmTimeoutError||tQ instanceof TimeoutError,isRtmError=tQ=>tQ instanceof RTMBaseError,isNoLogged=tQ=>tQ instanceof RtmInvalidStatusError;function getType(tQ){return Object.prototype.toString.call(tQ).slice(8,-1)}function isUndefined$2(tQ){return getType(tQ)==="Undefined"}function isNull$2(tQ){return getType(tQ)==="Null"}function isPlainObject$3(tQ){return getType(tQ)==="Object"&&tQ.constructor===Object&&Object.getPrototypeOf(tQ)===Object.prototype}function isEmptyObject(tQ){return isPlainObject$3(tQ)&&Object.keys(tQ).length===0}function isAnyObject(tQ){return getType(tQ)==="Object"}function isFunction$6(tQ){return typeof tQ=="function"}function isString(tQ){return getType(tQ)==="String"}function isNumber(tQ){return getType(tQ)==="Number"&&!isNaN(tQ)}function isBoolean(tQ){return getType(tQ)==="Boolean"}function isSymbol$6(tQ){return getType(tQ)==="Symbol"}function isPrimitive(tQ){return isBoolean(tQ)||isNull$2(tQ)||isUndefined$2(tQ)||isNumber(tQ)||isString(tQ)||isSymbol$6(tQ)}function isNil(tQ){return tQ==null}var isNil_1=isNil,isNil$1=getDefaultExportFromCjs(isNil_1);function copyArray$3(tQ,eQ){var AQ=-1,iQ=tQ.length;for(eQ||(eQ=Array(iQ));++AQ<iQ;)eQ[AQ]=tQ[AQ];return eQ}var _copyArray=copyArray$3,nativeFloor=Math.floor,nativeRandom=Math.random;function baseRandom$2(tQ,eQ){return tQ+nativeFloor(nativeRandom()*(eQ-tQ+1))}var _baseRandom=baseRandom$2,baseRandom$1=_baseRandom;function shuffleSelf$2(tQ,eQ){var AQ=-1,iQ=tQ.length,oQ=iQ-1;for(eQ=eQ===void 0?iQ:eQ;++AQ<eQ;){var rQ=baseRandom$1(AQ,oQ),nQ=tQ[rQ];tQ[rQ]=tQ[AQ],tQ[AQ]=nQ}return tQ.length=eQ,tQ}var _shuffleSelf=shuffleSelf$2,copyArray$2=_copyArray,shuffleSelf$1=_shuffleSelf;function arrayShuffle$1(tQ){return shuffleSelf$1(copyArray$2(tQ))}var _arrayShuffle=arrayShuffle$1;function arrayMap$5(tQ,eQ){for(var AQ=-1,iQ=tQ==null?0:tQ.length,oQ=Array(iQ);++AQ<iQ;)oQ[AQ]=eQ(tQ[AQ],AQ,tQ);return oQ}var _arrayMap=arrayMap$5,arrayMap$4=_arrayMap;function baseValues$1(tQ,eQ){return arrayMap$4(eQ,function(AQ){return tQ[AQ]})}var _baseValues=baseValues$1;function baseTimes$1(tQ,eQ){for(var AQ=-1,iQ=Array(tQ);++AQ<tQ;)iQ[AQ]=eQ(AQ);return iQ}var _baseTimes=baseTimes$1,freeGlobal$1=typeof commonjsGlobal$1=="object"&&commonjsGlobal$1&&commonjsGlobal$1.Object===Object&&commonjsGlobal$1,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$9=freeGlobal||freeSelf||Function("return this")(),_root=root$9,root$8=_root,Symbol$7=root$8.Symbol,_Symbol=Symbol$7,Symbol$6=_Symbol,objectProto$f=Object.prototype,hasOwnProperty$c=objectProto$f.hasOwnProperty,nativeObjectToString$1=objectProto$f.toString,symToStringTag$1=Symbol$6?Symbol$6.toStringTag:void 0;function getRawTag$1(tQ){var eQ=hasOwnProperty$c.call(tQ,symToStringTag$1),AQ=tQ[symToStringTag$1];try{tQ[symToStringTag$1]=void 0;var iQ=!0}catch{}var oQ=nativeObjectToString$1.call(tQ);return iQ&&(eQ?tQ[symToStringTag$1]=AQ:delete tQ[symToStringTag$1]),oQ}var _getRawTag=getRawTag$1,objectProto$e=Object.prototype,nativeObjectToString=objectProto$e.toString;function objectToString$1(tQ){return nativeObjectToString.call(tQ)}var _objectToString=objectToString$1,Symbol$5=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$5?Symbol$5.toStringTag:void 0;function baseGetTag$6(tQ){return tQ==null?tQ===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(tQ)?getRawTag(tQ):objectToString(tQ)}var _baseGetTag=baseGetTag$6;function isObjectLike$9(tQ){return tQ!=null&&typeof tQ=="object"}var isObjectLike_1=isObjectLike$9,baseGetTag$5=_baseGetTag,isObjectLike$8=isObjectLike_1,argsTag$3="[object Arguments]";function baseIsArguments$1(tQ){return isObjectLike$8(tQ)&&baseGetTag$5(tQ)==argsTag$3}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$7=isObjectLike_1,objectProto$d=Object.prototype,hasOwnProperty$b=objectProto$d.hasOwnProperty,propertyIsEnumerable$1=objectProto$d.propertyIsEnumerable,isArguments$4=baseIsArguments(function(){return arguments}())?baseIsArguments:function(tQ){return isObjectLike$7(tQ)&&hasOwnProperty$b.call(tQ,"callee")&&!propertyIsEnumerable$1.call(tQ,"callee")},isArguments_1=isArguments$4,isArray$g=Array.isArray,isArray_1$1=isArray$g,isBuffer$4={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse;isBuffer$4.exports,function(tQ,eQ){var AQ=_root,iQ=stubFalse_1,oQ=eQ&&!eQ.nodeType&&eQ,rQ=oQ&&tQ&&!tQ.nodeType&&tQ,nQ=rQ&&rQ.exports===oQ?AQ.Buffer:void 0,sQ=(nQ?nQ.isBuffer:void 0)||iQ;tQ.exports=sQ}(isBuffer$4,isBuffer$4.exports);var isBufferExports=isBuffer$4.exports,MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$4(tQ,eQ){var AQ=typeof tQ;return!!(eQ=eQ??MAX_SAFE_INTEGER$1)&&(AQ=="number"||AQ!="symbol"&&reIsUint.test(tQ))&&tQ>-1&&tQ%1==0&&tQ<eQ}var _isIndex=isIndex$4,MAX_SAFE_INTEGER=9007199254740991;function isLength$3(tQ){return typeof tQ=="number"&&tQ>-1&&tQ%1==0&&tQ<=MAX_SAFE_INTEGER}var isLength_1=isLength$3,baseGetTag$4=_baseGetTag,isLength$2=isLength_1,isObjectLike$6=isObjectLike_1,argsTag$2="[object Arguments]",arrayTag$2="[object Array]",boolTag$3="[object Boolean]",dateTag$3="[object Date]",errorTag$2="[object Error]",funcTag$2="[object Function]",mapTag$5="[object Map]",numberTag$3="[object Number]",objectTag$4="[object Object]",regexpTag$3="[object RegExp]",setTag$5="[object Set]",stringTag$3="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$4="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",typedArrayTags={};function baseIsTypedArray$1(tQ){return isObjectLike$6(tQ)&&isLength$2(tQ.length)&&!!typedArrayTags[baseGetTag$4(tQ)]}typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0,typedArrayTags[argsTag$2]=typedArrayTags[arrayTag$2]=typedArrayTags[arrayBufferTag$3]=typedArrayTags[boolTag$3]=typedArrayTags[dataViewTag$4]=typedArrayTags[dateTag$3]=typedArrayTags[errorTag$2]=typedArrayTags[funcTag$2]=typedArrayTags[mapTag$5]=typedArrayTags[numberTag$3]=typedArrayTags[objectTag$4]=typedArrayTags[regexpTag$3]=typedArrayTags[setTag$5]=typedArrayTags[stringTag$3]=typedArrayTags[weakMapTag$2]=!1;var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$4(tQ){return function(eQ){return tQ(eQ)}}var _baseUnary=baseUnary$4,_nodeUtil={exports:{}};_nodeUtil.exports,function(tQ,eQ){var AQ=_freeGlobal,iQ=eQ&&!eQ.nodeType&&eQ,oQ=iQ&&tQ&&!tQ.nodeType&&tQ,rQ=oQ&&oQ.exports===iQ&&AQ.process,nQ=function(){try{var sQ=oQ&&oQ.require&&oQ.require("util").types;return sQ||rQ&&rQ.binding&&rQ.binding("util")}catch{}}();tQ.exports=nQ}(_nodeUtil,_nodeUtil.exports);var _nodeUtilExports=_nodeUtil.exports,baseIsTypedArray=_baseIsTypedArray,baseUnary$3=_baseUnary,nodeUtil$2=_nodeUtilExports,nodeIsTypedArray=nodeUtil$2&&nodeUtil$2.isTypedArray,isTypedArray$3=nodeIsTypedArray?baseUnary$3(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$3,baseTimes=_baseTimes,isArguments$3=isArguments_1,isArray$f=isArray_1$1,isBuffer$3=isBufferExports,isIndex$3=_isIndex,isTypedArray$2=isTypedArray_1,objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty;function arrayLikeKeys$2(tQ,eQ){var AQ=isArray$f(tQ),iQ=!AQ&&isArguments$3(tQ),oQ=!AQ&&!iQ&&isBuffer$3(tQ),rQ=!AQ&&!iQ&&!oQ&&isTypedArray$2(tQ),nQ=AQ||iQ||oQ||rQ,sQ=nQ?baseTimes(tQ.length,String):[],aQ=sQ.length;for(var cQ in tQ)!eQ&&!hasOwnProperty$a.call(tQ,cQ)||nQ&&(cQ=="length"||oQ&&(cQ=="offset"||cQ=="parent")||rQ&&(cQ=="buffer"||cQ=="byteLength"||cQ=="byteOffset")||isIndex$3(cQ,aQ))||sQ.push(cQ);return sQ}var _arrayLikeKeys=arrayLikeKeys$2,objectProto$b=Object.prototype;function isPrototype$3(tQ){var eQ=tQ&&tQ.constructor;return tQ===(typeof eQ=="function"&&eQ.prototype||objectProto$b)}var _isPrototype=isPrototype$3;function overArg$2(tQ,eQ){return function(AQ){return tQ(eQ(AQ))}}var _overArg=overArg$2,overArg$1=_overArg,nativeKeys$1=overArg$1(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype$2=_isPrototype,nativeKeys=_nativeKeys,objectProto$a=Object.prototype,hasOwnProperty$9=objectProto$a.hasOwnProperty;function baseKeys$1(tQ){if(!isPrototype$2(tQ))return nativeKeys(tQ);var eQ=[];for(var AQ in Object(tQ))hasOwnProperty$9.call(tQ,AQ)&&AQ!="constructor"&&eQ.push(AQ);return eQ}var _baseKeys=baseKeys$1;function isObject$d(tQ){var eQ=typeof tQ;return tQ!=null&&(eQ=="object"||eQ=="function")}var isObject_1$1=isObject$d,baseGetTag$3=_baseGetTag,isObject$c=isObject_1$1,asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$5(tQ){if(!isObject$c(tQ))return!1;var eQ=baseGetTag$3(tQ);return eQ==funcTag$1||eQ==genTag$1||eQ==asyncTag||eQ==proxyTag}var isFunction_1$1=isFunction$5,isFunction$4=isFunction_1$1,isLength$1=isLength_1;function isArrayLike$8(tQ){return tQ!=null&&isLength$1(tQ.length)&&!isFunction$4(tQ)}var isArrayLike_1=isArrayLike$8,arrayLikeKeys$1=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike$7=isArrayLike_1;function keys$7(tQ){return isArrayLike$7(tQ)?arrayLikeKeys$1(tQ):baseKeys(tQ)}var keys_1=keys$7,baseValues=_baseValues,keys$6=keys_1;function values$2(tQ){return tQ==null?[]:baseValues(tQ,keys$6(tQ))}var values_1=values$2,values$3=getDefaultExportFromCjs(values_1),shuffleSelf=_shuffleSelf,values$1=values_1;function baseShuffle$1(tQ){return shuffleSelf(values$1(tQ))}var _baseShuffle=baseShuffle$1,arrayShuffle=_arrayShuffle,baseShuffle=_baseShuffle,isArray$e=isArray_1$1;function shuffle(tQ){return(isArray$e(tQ)?arrayShuffle:baseShuffle)(tQ)}var shuffle_1=shuffle,shuffle$1=getDefaultExportFromCjs(shuffle_1);function arraySome$2(tQ,eQ){for(var AQ=-1,iQ=tQ==null?0:tQ.length;++AQ<iQ;)if(eQ(tQ[AQ],AQ,tQ))return!0;return!1}var _arraySome=arraySome$2;function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$5(tQ,eQ){return tQ===eQ||tQ!=tQ&&eQ!=eQ}var eq_1=eq$5,eq$4=eq_1;function assocIndexOf$4(tQ,eQ){for(var AQ=tQ.length;AQ--;)if(eq$4(tQ[AQ][0],eQ))return AQ;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(tQ){var eQ=this.__data__,AQ=assocIndexOf$3(eQ,tQ);return!(AQ<0)&&(AQ==eQ.length-1?eQ.pop():splice.call(eQ,AQ,1),--this.size,!0)}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(tQ){var eQ=this.__data__,AQ=assocIndexOf$2(eQ,tQ);return AQ<0?void 0:eQ[AQ][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(tQ){return assocIndexOf$1(this.__data__,tQ)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(tQ,eQ){var AQ=this.__data__,iQ=assocIndexOf(AQ,tQ);return iQ<0?(++this.size,AQ.push([tQ,eQ])):AQ[iQ][1]=eQ,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$4(tQ){var eQ=-1,AQ=tQ==null?0:tQ.length;for(this.clear();++eQ<AQ;){var iQ=tQ[eQ];this.set(iQ[0],iQ[1])}}ListCache$4.prototype.clear=listCacheClear,ListCache$4.prototype.delete=listCacheDelete,ListCache$4.prototype.get=listCacheGet,ListCache$4.prototype.has=listCacheHas,ListCache$4.prototype.set=listCacheSet;var _ListCache=ListCache$4,ListCache$3=_ListCache;function stackClear$1(){this.__data__=new ListCache$3,this.size=0}var _stackClear=stackClear$1;function stackDelete$1(tQ){var eQ=this.__data__,AQ=eQ.delete(tQ);return this.size=eQ.size,AQ}var _stackDelete=stackDelete$1;function stackGet$1(tQ){return this.__data__.get(tQ)}var _stackGet=stackGet$1;function stackHas$1(tQ){return this.__data__.has(tQ)}var _stackHas=stackHas$1,root$7=_root,coreJsData$1=root$7["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""),uid?"Symbol(src)_1."+uid:""),uid;function isMasked$1(tQ){return!!maskSrcKey&&maskSrcKey in tQ}var _isMasked=isMasked$1,funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource$2(tQ){if(tQ!=null){try{return funcToString$2.call(tQ)}catch{}try{return tQ+""}catch{}}return""}var _toSource=toSource$2,isFunction$3=isFunction_1$1,isMasked=_isMasked,isObject$b=isObject_1$1,toSource$1=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$9=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$8=objectProto$9.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$8).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(tQ){return!(!isObject$b(tQ)||isMasked(tQ))&&(isFunction$3(tQ)?reIsNative:reIsHostCtor).test(toSource$1(tQ))}var _baseIsNative=baseIsNative$1;function getValue$1(tQ,eQ){return tQ==null?void 0:tQ[eQ]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$7(tQ,eQ){var AQ=getValue(tQ,eQ);return baseIsNative(AQ)?AQ:void 0}var _getNative=getNative$7,getNative$6=_getNative,root$6=_root,Map$5=getNative$6(root$6,"Map"),_Map=Map$5,getNative$5=_getNative,nativeCreate$4=getNative$5(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(tQ){var eQ=this.has(tQ)&&delete this.__data__[tQ];return this.size-=eQ?1:0,eQ}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function hashGet$1(tQ){var eQ=this.__data__;if(nativeCreate$2){var AQ=eQ[tQ];return AQ===HASH_UNDEFINED$2?void 0:AQ}return hasOwnProperty$7.call(eQ,tQ)?eQ[tQ]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$7=Object.prototype,hasOwnProperty$6=objectProto$7.hasOwnProperty;function hashHas$1(tQ){var eQ=this.__data__;return nativeCreate$1?eQ[tQ]!==void 0:hasOwnProperty$6.call(eQ,tQ)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet$1(tQ,eQ){var AQ=this.__data__;return this.size+=this.has(tQ)?0:1,AQ[tQ]=nativeCreate&&eQ===void 0?HASH_UNDEFINED$1:eQ,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(tQ){var eQ=-1,AQ=tQ==null?0:tQ.length;for(this.clear();++eQ<AQ;){var iQ=tQ[eQ];this.set(iQ[0],iQ[1])}}Hash$1.prototype.clear=hashClear,Hash$1.prototype.delete=hashDelete,Hash$1.prototype.get=hashGet,Hash$1.prototype.has=hashHas,Hash$1.prototype.set=hashSet;var _Hash=Hash$1,Hash=_Hash,ListCache$2=_ListCache,Map$4=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$4||ListCache$2),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(tQ){var eQ=typeof tQ;return eQ=="string"||eQ=="number"||eQ=="symbol"||eQ=="boolean"?tQ!=="__proto__":tQ===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(tQ,eQ){var AQ=tQ.__data__;return isKeyable(eQ)?AQ[typeof eQ=="string"?"string":"hash"]:AQ.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(tQ){var eQ=getMapData$3(this,tQ).delete(tQ);return this.size-=eQ?1:0,eQ}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(tQ){return getMapData$2(this,tQ).get(tQ)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(tQ){return getMapData$1(this,tQ).has(tQ)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(tQ,eQ){var AQ=getMapData(this,tQ),iQ=AQ.size;return AQ.set(tQ,eQ),this.size+=AQ.size==iQ?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$3(tQ){var eQ=-1,AQ=tQ==null?0:tQ.length;for(this.clear();++eQ<AQ;){var iQ=tQ[eQ];this.set(iQ[0],iQ[1])}}MapCache$3.prototype.clear=mapCacheClear,MapCache$3.prototype.delete=mapCacheDelete,MapCache$3.prototype.get=mapCacheGet,MapCache$3.prototype.has=mapCacheHas,MapCache$3.prototype.set=mapCacheSet;var _MapCache=MapCache$3,ListCache$1=_ListCache,Map$3=_Map,MapCache$2=_MapCache,LARGE_ARRAY_SIZE$1=200;function stackSet$1(tQ,eQ){var AQ=this.__data__;if(AQ instanceof ListCache$1){var iQ=AQ.__data__;if(!Map$3||iQ.length<LARGE_ARRAY_SIZE$1-1)return iQ.push([tQ,eQ]),this.size=++AQ.size,this;AQ=this.__data__=new MapCache$2(iQ)}return AQ.set(tQ,eQ),this.size=AQ.size,this}var _stackSet=stackSet$1,ListCache=_ListCache,stackClear=_stackClear,stackDelete=_stackDelete,stackGet=_stackGet,stackHas=_stackHas,stackSet=_stackSet;function Stack$4(tQ){var eQ=this.__data__=new ListCache(tQ);this.size=eQ.size}Stack$4.prototype.clear=stackClear,Stack$4.prototype.delete=stackDelete,Stack$4.prototype.get=stackGet,Stack$4.prototype.has=stackHas,Stack$4.prototype.set=stackSet;var _Stack=Stack$4,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd$1(tQ){return this.__data__.set(tQ,HASH_UNDEFINED),this}var _setCacheAdd=setCacheAdd$1;function setCacheHas$1(tQ){return this.__data__.has(tQ)}var _setCacheHas=setCacheHas$1,MapCache$1=_MapCache,setCacheAdd=_setCacheAdd,setCacheHas=_setCacheHas;function SetCache$2(tQ){var eQ=-1,AQ=tQ==null?0:tQ.length;for(this.__data__=new MapCache$1;++eQ<AQ;)this.add(tQ[eQ])}SetCache$2.prototype.add=SetCache$2.prototype.push=setCacheAdd,SetCache$2.prototype.has=setCacheHas;var _SetCache=SetCache$2;function cacheHas$2(tQ,eQ){return tQ.has(eQ)}var _cacheHas=cacheHas$2,SetCache$1=_SetCache,arraySome$1=_arraySome,cacheHas$1=_cacheHas,COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays$2(tQ,eQ,AQ,iQ,oQ,rQ){var nQ=AQ&COMPARE_PARTIAL_FLAG$5,sQ=tQ.length,aQ=eQ.length;if(sQ!=aQ&&!(nQ&&aQ>sQ))return!1;var cQ=rQ.get(tQ),gQ=rQ.get(eQ);if(cQ&&gQ)return cQ==eQ&&gQ==tQ;var IQ=-1,EQ=!0,CQ=AQ&COMPARE_UNORDERED_FLAG$3?new SetCache$1:void 0;for(rQ.set(tQ,eQ),rQ.set(eQ,tQ);++IQ<sQ;){var dQ=tQ[IQ],lQ=eQ[IQ];if(iQ)var uQ=nQ?iQ(lQ,dQ,IQ,eQ,tQ,rQ):iQ(dQ,lQ,IQ,tQ,eQ,rQ);if(uQ!==void 0){if(uQ)continue;EQ=!1;break}if(CQ){if(!arraySome$1(eQ,function(hQ,BQ){if(!cacheHas$1(CQ,BQ)&&(dQ===hQ||oQ(dQ,hQ,AQ,iQ,rQ)))return CQ.push(BQ)})){EQ=!1;break}}else if(dQ!==lQ&&!oQ(dQ,lQ,AQ,iQ,rQ)){EQ=!1;break}}return rQ.delete(tQ),rQ.delete(eQ),EQ}var _equalArrays=equalArrays$2,root$5=_root,Uint8Array$3=root$5.Uint8Array,_Uint8Array=Uint8Array$3;function mapToArray$1(tQ){var eQ=-1,AQ=Array(tQ.size);return tQ.forEach(function(iQ,oQ){AQ[++eQ]=[oQ,iQ]}),AQ}var _mapToArray=mapToArray$1;function setToArray$3(tQ){var eQ=-1,AQ=Array(tQ.size);return tQ.forEach(function(iQ){AQ[++eQ]=iQ}),AQ}var _setToArray=setToArray$3,Symbol$4=_Symbol,Uint8Array$2=_Uint8Array,eq$3=eq_1,equalArrays$1=_equalArrays,mapToArray=_mapToArray,setToArray$2=_setToArray,COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag$2="[object Boolean]",dateTag$2="[object Date]",errorTag$1="[object Error]",mapTag$4="[object Map]",numberTag$2="[object Number]",regexpTag$2="[object RegExp]",setTag$4="[object Set]",stringTag$2="[object String]",symbolTag$3="[object Symbol]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$3="[object DataView]",symbolProto$2=Symbol$4?Symbol$4.prototype:void 0,symbolValueOf$1=symbolProto$2?symbolProto$2.valueOf:void 0;function equalByTag$1(tQ,eQ,AQ,iQ,oQ,rQ,nQ){switch(AQ){case dataViewTag$3:if(tQ.byteLength!=eQ.byteLength||tQ.byteOffset!=eQ.byteOffset)return!1;tQ=tQ.buffer,eQ=eQ.buffer;case arrayBufferTag$2:return!(tQ.byteLength!=eQ.byteLength||!rQ(new Uint8Array$2(tQ),new Uint8Array$2(eQ)));case boolTag$2:case dateTag$2:case numberTag$2:return eq$3(+tQ,+eQ);case errorTag$1:return tQ.name==eQ.name&&tQ.message==eQ.message;case regexpTag$2:case stringTag$2:return tQ==eQ+"";case mapTag$4:var sQ=mapToArray;case setTag$4:var aQ=iQ&COMPARE_PARTIAL_FLAG$4;if(sQ||(sQ=setToArray$2),tQ.size!=eQ.size&&!aQ)return!1;var cQ=nQ.get(tQ);if(cQ)return cQ==eQ;iQ|=COMPARE_UNORDERED_FLAG$2,nQ.set(tQ,eQ);var gQ=equalArrays$1(sQ(tQ),sQ(eQ),iQ,oQ,rQ,nQ);return nQ.delete(tQ),gQ;case symbolTag$3:if(symbolValueOf$1)return symbolValueOf$1.call(tQ)==symbolValueOf$1.call(eQ)}return!1}var _equalByTag=equalByTag$1;function arrayPush$3(tQ,eQ){for(var AQ=-1,iQ=eQ.length,oQ=tQ.length;++AQ<iQ;)tQ[oQ+AQ]=eQ[AQ];return tQ}var _arrayPush=arrayPush$3,arrayPush$2=_arrayPush,isArray$d=isArray_1$1;function baseGetAllKeys$2(tQ,eQ,AQ){var iQ=eQ(tQ);return isArray$d(tQ)?iQ:arrayPush$2(iQ,AQ(tQ))}var _baseGetAllKeys=baseGetAllKeys$2;function arrayFilter$1(tQ,eQ){for(var AQ=-1,iQ=tQ==null?0:tQ.length,oQ=0,rQ=[];++AQ<iQ;){var nQ=tQ[AQ];eQ(nQ,AQ,tQ)&&(rQ[oQ++]=nQ)}return rQ}var _arrayFilter=arrayFilter$1;function stubArray$2(){return[]}var stubArray_1=stubArray$2,arrayFilter=_arrayFilter,stubArray$1=stubArray_1,objectProto$6=Object.prototype,propertyIsEnumerable=objectProto$6.propertyIsEnumerable,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbols$3=nativeGetSymbols$1?function(tQ){return tQ==null?[]:(tQ=Object(tQ),arrayFilter(nativeGetSymbols$1(tQ),function(eQ){return propertyIsEnumerable.call(tQ,eQ)}))}:stubArray$1,_getSymbols=getSymbols$3,baseGetAllKeys$1=_baseGetAllKeys,getSymbols$2=_getSymbols,keys$5=keys_1;function getAllKeys$2(tQ){return baseGetAllKeys$1(tQ,keys$5,getSymbols$2)}var _getAllKeys=getAllKeys$2,getAllKeys$1=_getAllKeys,COMPARE_PARTIAL_FLAG$3=1,objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty;function equalObjects$1(tQ,eQ,AQ,iQ,oQ,rQ){var nQ=AQ&COMPARE_PARTIAL_FLAG$3,sQ=getAllKeys$1(tQ),aQ=sQ.length;if(aQ!=getAllKeys$1(eQ).length&&!nQ)return!1;for(var cQ=aQ;cQ--;){var gQ=sQ[cQ];if(!(nQ?gQ in eQ:hasOwnProperty$5.call(eQ,gQ)))return!1}var IQ=rQ.get(tQ),EQ=rQ.get(eQ);if(IQ&&EQ)return IQ==eQ&&EQ==tQ;var CQ=!0;rQ.set(tQ,eQ),rQ.set(eQ,tQ);for(var dQ=nQ;++cQ<aQ;){var lQ=tQ[gQ=sQ[cQ]],uQ=eQ[gQ];if(iQ)var hQ=nQ?iQ(uQ,lQ,gQ,eQ,tQ,rQ):iQ(lQ,uQ,gQ,tQ,eQ,rQ);if(!(hQ===void 0?lQ===uQ||oQ(lQ,uQ,AQ,iQ,rQ):hQ)){CQ=!1;break}dQ||(dQ=gQ=="constructor")}if(CQ&&!dQ){var BQ=tQ.constructor,QQ=eQ.constructor;BQ==QQ||!("constructor"in tQ)||!("constructor"in eQ)||typeof BQ=="function"&&BQ instanceof BQ&&typeof QQ=="function"&&QQ instanceof QQ||(CQ=!1)}return rQ.delete(tQ),rQ.delete(eQ),CQ}var _equalObjects=equalObjects$1,getNative$4=_getNative,root$4=_root,DataView$2=getNative$4(root$4,"DataView"),_DataView=DataView$2,getNative$3=_getNative,root$3=_root,Promise$2=getNative$3(root$3,"Promise"),_Promise=Promise$2,getNative$2=_getNative,root$2=_root,Set$3=getNative$2(root$2,"Set"),_Set=Set$3,getNative$1=_getNative,root$1=_root,WeakMap$2=getNative$1(root$1,"WeakMap"),_WeakMap=WeakMap$2,DataView$1=_DataView,Map$2=_Map,Promise$1=_Promise,Set$2=_Set,WeakMap$1=_WeakMap,baseGetTag$2=_baseGetTag,toSource=_toSource,mapTag$3="[object Map]",objectTag$3="[object Object]",promiseTag="[object Promise]",setTag$3="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$2="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$2),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$2),weakMapCtorString=toSource(WeakMap$1),getTag$4=baseGetTag$2;(DataView$1&&getTag$4(new DataView$1(new ArrayBuffer(1)))!=dataViewTag$2||Map$2&&getTag$4(new Map$2)!=mapTag$3||Promise$1&&getTag$4(Promise$1.resolve())!=promiseTag||Set$2&&getTag$4(new Set$2)!=setTag$3||WeakMap$1&&getTag$4(new WeakMap$1)!=weakMapTag$1)&&(getTag$4=function(tQ){var eQ=baseGetTag$2(tQ),AQ=eQ==objectTag$3?tQ.constructor:void 0,iQ=AQ?toSource(AQ):"";if(iQ)switch(iQ){case dataViewCtorString:return dataViewTag$2;case mapCtorString:return mapTag$3;case promiseCtorString:return promiseTag;case setCtorString:return setTag$3;case weakMapCtorString:return weakMapTag$1}return eQ});var _getTag=getTag$4,Stack$3=_Stack,equalArrays=_equalArrays,equalByTag=_equalByTag,equalObjects=_equalObjects,getTag$3=_getTag,isArray$c=isArray_1$1,isBuffer$2=isBufferExports,isTypedArray$1=isTypedArray_1,COMPARE_PARTIAL_FLAG$2=1,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",objectTag$2="[object Object]",objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty;function baseIsEqualDeep$1(tQ,eQ,AQ,iQ,oQ,rQ){var nQ=isArray$c(tQ),sQ=isArray$c(eQ),aQ=nQ?arrayTag$1:getTag$3(tQ),cQ=sQ?arrayTag$1:getTag$3(eQ),gQ=(aQ=aQ==argsTag$1?objectTag$2:aQ)==objectTag$2,IQ=(cQ=cQ==argsTag$1?objectTag$2:cQ)==objectTag$2,EQ=aQ==cQ;if(EQ&&isBuffer$2(tQ)){if(!isBuffer$2(eQ))return!1;nQ=!0,gQ=!1}if(EQ&&!gQ)return rQ||(rQ=new Stack$3),nQ||isTypedArray$1(tQ)?equalArrays(tQ,eQ,AQ,iQ,oQ,rQ):equalByTag(tQ,eQ,aQ,AQ,iQ,oQ,rQ);if(!(AQ&COMPARE_PARTIAL_FLAG$2)){var CQ=gQ&&hasOwnProperty$4.call(tQ,"__wrapped__"),dQ=IQ&&hasOwnProperty$4.call(eQ,"__wrapped__");if(CQ||dQ){var lQ=CQ?tQ.value():tQ,uQ=dQ?eQ.value():eQ;return rQ||(rQ=new Stack$3),oQ(lQ,uQ,AQ,iQ,rQ)}}return!!EQ&&(rQ||(rQ=new Stack$3),equalObjects(tQ,eQ,AQ,iQ,oQ,rQ))}var _baseIsEqualDeep=baseIsEqualDeep$1,baseIsEqualDeep=_baseIsEqualDeep,isObjectLike$5=isObjectLike_1;function baseIsEqual$2(tQ,eQ,AQ,iQ,oQ){return tQ===eQ||(tQ==null||eQ==null||!isObjectLike$5(tQ)&&!isObjectLike$5(eQ)?tQ!=tQ&&eQ!=eQ:baseIsEqualDeep(tQ,eQ,AQ,iQ,baseIsEqual$2,oQ))}var _baseIsEqual=baseIsEqual$2,Stack$2=_Stack,baseIsEqual$1=_baseIsEqual,COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch$1(tQ,eQ,AQ,iQ){var oQ=AQ.length,rQ=oQ,nQ=!iQ;if(tQ==null)return!rQ;for(tQ=Object(tQ);oQ--;){var sQ=AQ[oQ];if(nQ&&sQ[2]?sQ[1]!==tQ[sQ[0]]:!(sQ[0]in tQ))return!1}for(;++oQ<rQ;){var aQ=(sQ=AQ[oQ])[0],cQ=tQ[aQ],gQ=sQ[1];if(nQ&&sQ[2]){if(cQ===void 0&&!(aQ in tQ))return!1}else{var IQ=new Stack$2;if(iQ)var EQ=iQ(cQ,gQ,aQ,tQ,eQ,IQ);if(!(EQ===void 0?baseIsEqual$1(gQ,cQ,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,iQ,IQ):EQ))return!1}}return!0}var _baseIsMatch=baseIsMatch$1,isObject$a=isObject_1$1;function isStrictComparable$2(tQ){return tQ==tQ&&!isObject$a(tQ)}var _isStrictComparable=isStrictComparable$2,isStrictComparable$1=_isStrictComparable,keys$4=keys_1;function getMatchData$1(tQ){for(var eQ=keys$4(tQ),AQ=eQ.length;AQ--;){var iQ=eQ[AQ],oQ=tQ[iQ];eQ[AQ]=[iQ,oQ,isStrictComparable$1(oQ)]}return eQ}var _getMatchData=getMatchData$1;function matchesStrictComparable$2(tQ,eQ){return function(AQ){return AQ!=null&&AQ[tQ]===eQ&&(eQ!==void 0||tQ in Object(AQ))}}var _matchesStrictComparable=matchesStrictComparable$2,baseIsMatch=_baseIsMatch,getMatchData=_getMatchData,matchesStrictComparable$1=_matchesStrictComparable;function baseMatches$1(tQ){var eQ=getMatchData(tQ);return eQ.length==1&&eQ[0][2]?matchesStrictComparable$1(eQ[0][0],eQ[0][1]):function(AQ){return AQ===tQ||baseIsMatch(AQ,tQ,eQ)}}var _baseMatches=baseMatches$1,baseGetTag$1=_baseGetTag,isObjectLike$4=isObjectLike_1,symbolTag$2="[object Symbol]";function isSymbol$5(tQ){return typeof tQ=="symbol"||isObjectLike$4(tQ)&&baseGetTag$1(tQ)==symbolTag$2}var isSymbol_1=isSymbol$5,isArray$b=isArray_1$1,isSymbol$4=isSymbol_1,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey$3(tQ,eQ){if(isArray$b(tQ))return!1;var AQ=typeof tQ;return!(AQ!="number"&&AQ!="symbol"&&AQ!="boolean"&&tQ!=null&&!isSymbol$4(tQ))||reIsPlainProp.test(tQ)||!reIsDeepProp.test(tQ)||eQ!=null&&tQ in Object(eQ)}var _isKey=isKey$3,MapCache=_MapCache,FUNC_ERROR_TEXT$1="Expected a function";function memoize$1(tQ,eQ){if(typeof tQ!="function"||eQ!=null&&typeof eQ!="function")throw new TypeError(FUNC_ERROR_TEXT$1);var AQ=function(){var iQ=arguments,oQ=eQ?eQ.apply(this,iQ):iQ[0],rQ=AQ.cache;if(rQ.has(oQ))return rQ.get(oQ);var nQ=tQ.apply(this,iQ);return AQ.cache=rQ.set(oQ,nQ)||rQ,nQ};return AQ.cache=new(memoize$1.Cache||MapCache),AQ}memoize$1.Cache=MapCache;var memoize_1=memoize$1,memoize=memoize_1,MAX_MEMOIZE_SIZE=500;function memoizeCapped$1(tQ){var eQ=memoize(tQ,function(iQ){return AQ.size===MAX_MEMOIZE_SIZE&&AQ.clear(),iQ}),AQ=eQ.cache;return eQ}var _memoizeCapped=memoizeCapped$1,memoizeCapped=_memoizeCapped,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath$1=memoizeCapped(function(tQ){var eQ=[];return tQ.charCodeAt(0)===46&&eQ.push(""),tQ.replace(rePropName,function(AQ,iQ,oQ,rQ){eQ.push(oQ?rQ.replace(reEscapeChar,"$1"):iQ||AQ)}),eQ}),_stringToPath=stringToPath$1,Symbol$3=_Symbol,arrayMap$3=_arrayMap,isArray$a=isArray_1$1,isSymbol$3=isSymbol_1,INFINITY$3=1/0,symbolProto$1=Symbol$3?Symbol$3.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString$1(tQ){if(typeof tQ=="string")return tQ;if(isArray$a(tQ))return arrayMap$3(tQ,baseToString$1)+"";if(isSymbol$3(tQ))return symbolToString?symbolToString.call(tQ):"";var eQ=tQ+"";return eQ=="0"&&1/tQ==-INFINITY$3?"-0":eQ}var _baseToString=baseToString$1,baseToString=_baseToString;function toString$2(tQ){return tQ==null?"":baseToString(tQ)}var toString_1=toString$2,isArray$9=isArray_1$1,isKey$2=_isKey,stringToPath=_stringToPath,toString$1=toString_1;function castPath$6(tQ,eQ){return isArray$9(tQ)?tQ:isKey$2(tQ,eQ)?[tQ]:stringToPath(toString$1(tQ))}var _castPath=castPath$6,isSymbol$2=isSymbol_1,INFINITY$2=1/0;function toKey$6(tQ){if(typeof tQ=="string"||isSymbol$2(tQ))return tQ;var eQ=tQ+"";return eQ=="0"&&1/tQ==-INFINITY$2?"-0":eQ}var _toKey=toKey$6,castPath$5=_castPath,toKey$5=_toKey;function baseGet$5(tQ,eQ){for(var AQ=0,iQ=(eQ=castPath$5(eQ,tQ)).length;tQ!=null&&AQ<iQ;)tQ=tQ[toKey$5(eQ[AQ++])];return AQ&&AQ==iQ?tQ:void 0}var _baseGet=baseGet$5,baseGet$4=_baseGet;function get$1(tQ,eQ,AQ){var iQ=tQ==null?void 0:baseGet$4(tQ,eQ);return iQ===void 0?AQ:iQ}var get_1=get$1;function baseHasIn$1(tQ,eQ){return tQ!=null&&eQ in Object(tQ)}var _baseHasIn=baseHasIn$1,castPath$4=_castPath,isArguments$2=isArguments_1,isArray$8=isArray_1$1,isIndex$2=_isIndex,isLength=isLength_1,toKey$4=_toKey;function hasPath$1(tQ,eQ,AQ){for(var iQ=-1,oQ=(eQ=castPath$4(eQ,tQ)).length,rQ=!1;++iQ<oQ;){var nQ=toKey$4(eQ[iQ]);if(!(rQ=tQ!=null&&AQ(tQ,nQ)))break;tQ=tQ[nQ]}return rQ||++iQ!=oQ?rQ:!!(oQ=tQ==null?0:tQ.length)&&isLength(oQ)&&isIndex$2(nQ,oQ)&&(isArray$8(tQ)||isArguments$2(tQ))}var _hasPath=hasPath$1,baseHasIn=_baseHasIn,hasPath=_hasPath;function hasIn$1(tQ,eQ){return tQ!=null&&hasPath(tQ,eQ,baseHasIn)}var hasIn_1=hasIn$1,baseIsEqual=_baseIsEqual,get=get_1,hasIn=hasIn_1,isKey$1=_isKey,isStrictComparable=_isStrictComparable,matchesStrictComparable=_matchesStrictComparable,toKey$3=_toKey,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty$1(tQ,eQ){return isKey$1(tQ)&&isStrictComparable(eQ)?matchesStrictComparable(toKey$3(tQ),eQ):function(AQ){var iQ=get(AQ,tQ);return iQ===void 0&&iQ===eQ?hasIn(AQ,tQ):baseIsEqual(eQ,iQ,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}var _baseMatchesProperty=baseMatchesProperty$1;function identity$4(tQ){return tQ}var identity_1=identity$4;function baseProperty$1(tQ){return function(eQ){return eQ==null?void 0:eQ[tQ]}}var _baseProperty=baseProperty$1,baseGet$3=_baseGet;function basePropertyDeep$1(tQ){return function(eQ){return baseGet$3(eQ,tQ)}}var _basePropertyDeep=basePropertyDeep$1,baseProperty=_baseProperty,basePropertyDeep=_basePropertyDeep,isKey=_isKey,toKey$2=_toKey;function property$1(tQ){return isKey(tQ)?baseProperty(toKey$2(tQ)):basePropertyDeep(tQ)}var property_1=property$1,baseMatches=_baseMatches,baseMatchesProperty=_baseMatchesProperty,identity$3=identity_1,isArray$7=isArray_1$1,property=property_1;function baseIteratee$8(tQ){return typeof tQ=="function"?tQ:tQ==null?identity$3:typeof tQ=="object"?isArray$7(tQ)?baseMatchesProperty(tQ[0],tQ[1]):baseMatches(tQ):property(tQ)}var _baseIteratee=baseIteratee$8;function createBaseFor$1(tQ){return function(eQ,AQ,iQ){for(var oQ=-1,rQ=Object(eQ),nQ=iQ(eQ),sQ=nQ.length;sQ--;){var aQ=nQ[tQ?sQ:++oQ];if(AQ(rQ[aQ],aQ,rQ)===!1)break}return eQ}}var _createBaseFor=createBaseFor$1,createBaseFor=_createBaseFor,baseFor$2=createBaseFor(),_baseFor=baseFor$2,baseFor$1=_baseFor,keys$3=keys_1;function baseForOwn$2(tQ,eQ){return tQ&&baseFor$1(tQ,eQ,keys$3)}var _baseForOwn=baseForOwn$2,isArrayLike$6=isArrayLike_1;function createBaseEach$1(tQ,eQ){return function(AQ,iQ){if(AQ==null)return AQ;if(!isArrayLike$6(AQ))return tQ(AQ,iQ);for(var oQ=AQ.length,rQ=eQ?oQ:-1,nQ=Object(AQ);(eQ?rQ--:++rQ<oQ)&&iQ(nQ[rQ],rQ,nQ)!==!1;);return AQ}}var _createBaseEach=createBaseEach$1,baseForOwn$1=_baseForOwn,createBaseEach=_createBaseEach,baseEach$2=createBaseEach(baseForOwn$1),_baseEach=baseEach$2,baseEach$1=_baseEach;function baseSome$1(tQ,eQ){var AQ;return baseEach$1(tQ,function(iQ,oQ,rQ){return!(AQ=eQ(iQ,oQ,rQ))}),!!AQ}var _baseSome=baseSome$1,eq$2=eq_1,isArrayLike$5=isArrayLike_1,isIndex$1=_isIndex,isObject$9=isObject_1$1;function isIterateeCall$3(tQ,eQ,AQ){if(!isObject$9(AQ))return!1;var iQ=typeof eQ;return!!(iQ=="number"?isArrayLike$5(AQ)&&isIndex$1(eQ,AQ.length):iQ=="string"&&eQ in AQ)&&eq$2(AQ[eQ],tQ)}var _isIterateeCall=isIterateeCall$3,arraySome=_arraySome,baseIteratee$7=_baseIteratee,baseSome=_baseSome,isArray$6=isArray_1$1,isIterateeCall$2=_isIterateeCall;function some(tQ,eQ,AQ){var iQ=isArray$6(tQ)?arraySome:baseSome;return AQ&&isIterateeCall$2(tQ,eQ,AQ)&&(eQ=void 0),iQ(tQ,baseIteratee$7(eQ))}var some_1=some,some$1=getDefaultExportFromCjs(some_1),Symbol$2=_Symbol,isArguments$1=isArguments_1,isArray$5=isArray_1$1,spreadableSymbol=Symbol$2?Symbol$2.isConcatSpreadable:void 0;function isFlattenable$1(tQ){return isArray$5(tQ)||isArguments$1(tQ)||!!(spreadableSymbol&&tQ&&tQ[spreadableSymbol])}var _isFlattenable=isFlattenable$1,arrayPush$1=_arrayPush,isFlattenable=_isFlattenable;function baseFlatten$2(tQ,eQ,AQ,iQ,oQ){var rQ=-1,nQ=tQ.length;for(AQ||(AQ=isFlattenable),oQ||(oQ=[]);++rQ<nQ;){var sQ=tQ[rQ];eQ>0&&AQ(sQ)?eQ>1?baseFlatten$2(sQ,eQ-1,AQ,iQ,oQ):arrayPush$1(oQ,sQ):iQ||(oQ[oQ.length]=sQ)}return oQ}var _baseFlatten=baseFlatten$2,baseEach=_baseEach,isArrayLike$4=isArrayLike_1;function baseMap$1(tQ,eQ){var AQ=-1,iQ=isArrayLike$4(tQ)?Array(tQ.length):[];return baseEach(tQ,function(oQ,rQ,nQ){iQ[++AQ]=eQ(oQ,rQ,nQ)}),iQ}var _baseMap=baseMap$1;function baseSortBy$1(tQ,eQ){var AQ=tQ.length;for(tQ.sort(eQ);AQ--;)tQ[AQ]=tQ[AQ].value;return tQ}var _baseSortBy=baseSortBy$1,isSymbol$1=isSymbol_1;function compareAscending$1(tQ,eQ){if(tQ!==eQ){var AQ=tQ!==void 0,iQ=tQ===null,oQ=tQ==tQ,rQ=isSymbol$1(tQ),nQ=eQ!==void 0,sQ=eQ===null,aQ=eQ==eQ,cQ=isSymbol$1(eQ);if(!sQ&&!cQ&&!rQ&&tQ>eQ||rQ&&nQ&&aQ&&!sQ&&!cQ||iQ&&nQ&&aQ||!AQ&&aQ||!oQ)return 1;if(!iQ&&!rQ&&!cQ&&tQ<eQ||cQ&&AQ&&oQ&&!iQ&&!rQ||sQ&&AQ&&oQ||!nQ&&oQ||!aQ)return-1}return 0}var _compareAscending=compareAscending$1,compareAscending=_compareAscending;function compareMultiple$1(tQ,eQ,AQ){for(var iQ=-1,oQ=tQ.criteria,rQ=eQ.criteria,nQ=oQ.length,sQ=AQ.length;++iQ<nQ;){var aQ=compareAscending(oQ[iQ],rQ[iQ]);if(aQ)return iQ>=sQ?aQ:aQ*(AQ[iQ]=="desc"?-1:1)}return tQ.index-eQ.index}var _compareMultiple=compareMultiple$1,arrayMap$2=_arrayMap,baseGet$2=_baseGet,baseIteratee$6=_baseIteratee,baseMap=_baseMap,baseSortBy=_baseSortBy,baseUnary$2=_baseUnary,compareMultiple=_compareMultiple,identity$2=identity_1,isArray$4=isArray_1$1;function baseOrderBy$1(tQ,eQ,AQ){eQ=eQ.length?arrayMap$2(eQ,function(rQ){return isArray$4(rQ)?function(nQ){return baseGet$2(nQ,rQ.length===1?rQ[0]:rQ)}:rQ}):[identity$2];var iQ=-1;eQ=arrayMap$2(eQ,baseUnary$2(baseIteratee$6));var oQ=baseMap(tQ,function(rQ,nQ,sQ){return{criteria:arrayMap$2(eQ,function(aQ){return aQ(rQ)}),index:++iQ,value:rQ}});return baseSortBy(oQ,function(rQ,nQ){return compareMultiple(rQ,nQ,AQ)})}var _baseOrderBy=baseOrderBy$1;function apply$1(tQ,eQ,AQ){switch(AQ.length){case 0:return tQ.call(eQ);case 1:return tQ.call(eQ,AQ[0]);case 2:return tQ.call(eQ,AQ[0],AQ[1]);case 3:return tQ.call(eQ,AQ[0],AQ[1],AQ[2])}return tQ.apply(eQ,AQ)}var _apply=apply$1,apply=_apply,nativeMax$3=Math.max;function overRest$2(tQ,eQ,AQ){return eQ=nativeMax$3(eQ===void 0?tQ.length-1:eQ,0),function(){for(var iQ=arguments,oQ=-1,rQ=nativeMax$3(iQ.length-eQ,0),nQ=Array(rQ);++oQ<rQ;)nQ[oQ]=iQ[eQ+oQ];oQ=-1;for(var sQ=Array(eQ+1);++oQ<eQ;)sQ[oQ]=iQ[oQ];return sQ[eQ]=AQ(nQ),apply(tQ,this,sQ)}}var _overRest=overRest$2;function constant$1(tQ){return function(){return tQ}}var constant_1=constant$1,getNative=_getNative,defineProperty$2=function(){try{var tQ=getNative(Object,"defineProperty");return tQ({},"",{}),tQ}catch{}}(),_defineProperty=defineProperty$2,constant=constant_1,defineProperty$1=_defineProperty,identity$1=identity_1,baseSetToString$1=defineProperty$1?function(tQ,eQ){return defineProperty$1(tQ,"toString",{configurable:!0,enumerable:!1,value:constant(eQ),writable:!0})}:identity$1,_baseSetToString=baseSetToString$1,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut$1(tQ){var eQ=0,AQ=0;return function(){var iQ=nativeNow(),oQ=HOT_SPAN-(iQ-AQ);if(AQ=iQ,oQ>0){if(++eQ>=HOT_COUNT)return arguments[0]}else eQ=0;return tQ.apply(void 0,arguments)}}var _shortOut=shortOut$1,baseSetToString=_baseSetToString,shortOut=_shortOut,setToString$2=shortOut(baseSetToString),_setToString=setToString$2,identity=identity_1,overRest$1=_overRest,setToString$1=_setToString;function baseRest$2(tQ,eQ){return setToString$1(overRest$1(tQ,eQ,identity),tQ+"")}var _baseRest=baseRest$2,baseFlatten$1=_baseFlatten,baseOrderBy=_baseOrderBy,baseRest$1=_baseRest,isIterateeCall$1=_isIterateeCall,sortBy=baseRest$1(function(tQ,eQ){if(tQ==null)return[];var AQ=eQ.length;return AQ>1&&isIterateeCall$1(tQ,eQ[0],eQ[1])?eQ=[]:AQ>2&&isIterateeCall$1(eQ[0],eQ[1],eQ[2])&&(eQ=[eQ[0]]),baseOrderBy(tQ,baseFlatten$1(eQ,1),[])}),sortBy_1=sortBy,sortBy$1=getDefaultExportFromCjs(sortBy_1),baseRandom=_baseRandom;function arraySample$2(tQ){var eQ=tQ.length;return eQ?tQ[baseRandom(0,eQ-1)]:void 0}var _arraySample=arraySample$2,arraySample$1=_arraySample,values=values_1;function baseSample$1(tQ){return arraySample$1(values(tQ))}var _baseSample=baseSample$1,arraySample=_arraySample,baseSample=_baseSample,isArray$3=isArray_1$1;function sample(tQ){return(isArray$3(tQ)?arraySample:baseSample)(tQ)}var sample_1=sample,sample$1=getDefaultExportFromCjs(sample_1),nativeMax$2=Math.max,nativeMin$1=Math.min;function baseInRange$1(tQ,eQ,AQ){return tQ>=nativeMin$1(eQ,AQ)&&tQ<nativeMax$2(eQ,AQ)}var _baseInRange=baseInRange$1,reWhitespace=/\s/;function trimmedEndIndex$1(tQ){for(var eQ=tQ.length;eQ--&&reWhitespace.test(tQ.charAt(eQ)););return eQ}var _trimmedEndIndex=trimmedEndIndex$1,trimmedEndIndex=_trimmedEndIndex,reTrimStart$1=/^\s+/;function baseTrim$1(tQ){return tQ&&tQ.slice(0,trimmedEndIndex(tQ)+1).replace(reTrimStart$1,"")}var _baseTrim=baseTrim$1,baseTrim=_baseTrim,isObject$8=isObject_1$1,isSymbol=isSymbol_1,NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber$2(tQ){if(typeof tQ=="number")return tQ;if(isSymbol(tQ))return NAN;if(isObject$8(tQ)){var eQ=typeof tQ.valueOf=="function"?tQ.valueOf():tQ;tQ=isObject$8(eQ)?eQ+"":eQ}if(typeof tQ!="string")return tQ===0?tQ:+tQ;tQ=baseTrim(tQ);var AQ=reIsBinary.test(tQ);return AQ||reIsOctal.test(tQ)?freeParseInt(tQ.slice(2),AQ?2:8):reIsBadHex.test(tQ)?NAN:+tQ}var toNumber_1=toNumber$2,toNumber$1=toNumber_1,INFINITY$1=1/0,MAX_INTEGER=17976931348623157e292;function toFinite$2(tQ){return tQ?(tQ=toNumber$1(tQ))===INFINITY$1||tQ===-INFINITY$1?(tQ<0?-1:1)*MAX_INTEGER:tQ==tQ?tQ:0:tQ===0?tQ:0}var toFinite_1=toFinite$2,baseInRange=_baseInRange,toFinite$1=toFinite_1,toNumber=toNumber_1;function inRange(tQ,eQ,AQ){return eQ=toFinite$1(eQ),AQ===void 0?(AQ=eQ,eQ=0):AQ=toFinite$1(AQ),tQ=toNumber(tQ),baseInRange(tQ,eQ,AQ)}var inRange_1=inRange,inRange$1=getDefaultExportFromCjs(inRange_1);function compact(tQ){for(var eQ=-1,AQ=tQ==null?0:tQ.length,iQ=0,oQ=[];++eQ<AQ;){var rQ=tQ[eQ];rQ&&(oQ[iQ++]=rQ)}return oQ}var compact_1=compact,compact$1=getDefaultExportFromCjs(compact_1);function arrayEach$1(tQ,eQ){for(var AQ=-1,iQ=tQ==null?0:tQ.length;++AQ<iQ&&eQ(tQ[AQ],AQ,tQ)!==!1;);return tQ}var _arrayEach=arrayEach$1,defineProperty=_defineProperty;function baseAssignValue$4(tQ,eQ,AQ){eQ=="__proto__"&&defineProperty?defineProperty(tQ,eQ,{configurable:!0,enumerable:!0,value:AQ,writable:!0}):tQ[eQ]=AQ}var _baseAssignValue=baseAssignValue$4,baseAssignValue$3=_baseAssignValue,eq$1=eq_1,objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty;function assignValue$3(tQ,eQ,AQ){var iQ=tQ[eQ];hasOwnProperty$3.call(tQ,eQ)&&eq$1(iQ,AQ)&&(AQ!==void 0||eQ in tQ)||baseAssignValue$3(tQ,eQ,AQ)}var _assignValue=assignValue$3,assignValue$2=_assignValue,baseAssignValue$2=_baseAssignValue;function copyObject$6(tQ,eQ,AQ,iQ){var oQ=!AQ;AQ||(AQ={});for(var rQ=-1,nQ=eQ.length;++rQ<nQ;){var sQ=eQ[rQ],aQ=iQ?iQ(AQ[sQ],tQ[sQ],sQ,AQ,tQ):void 0;aQ===void 0&&(aQ=tQ[sQ]),oQ?baseAssignValue$2(AQ,sQ,aQ):assignValue$2(AQ,sQ,aQ)}return AQ}var _copyObject=copyObject$6,copyObject$5=_copyObject,keys$2=keys_1;function baseAssign$1(tQ,eQ){return tQ&&copyObject$5(eQ,keys$2(eQ),tQ)}var _baseAssign=baseAssign$1;function nativeKeysIn$1(tQ){var eQ=[];if(tQ!=null)for(var AQ in Object(tQ))eQ.push(AQ);return eQ}var _nativeKeysIn=nativeKeysIn$1,isObject$7=isObject_1$1,isPrototype$1=_isPrototype,nativeKeysIn=_nativeKeysIn,objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function baseKeysIn$1(tQ){if(!isObject$7(tQ))return nativeKeysIn(tQ);var eQ=isPrototype$1(tQ),AQ=[];for(var iQ in tQ)(iQ!="constructor"||!eQ&&hasOwnProperty$2.call(tQ,iQ))&&AQ.push(iQ);return AQ}var _baseKeysIn=baseKeysIn$1,arrayLikeKeys=_arrayLikeKeys,baseKeysIn=_baseKeysIn,isArrayLike$3=isArrayLike_1;function keysIn$5(tQ){return isArrayLike$3(tQ)?arrayLikeKeys(tQ,!0):baseKeysIn(tQ)}var keysIn_1=keysIn$5,copyObject$4=_copyObject,keysIn$4=keysIn_1;function baseAssignIn$1(tQ,eQ){return tQ&&copyObject$4(eQ,keysIn$4(eQ),tQ)}var _baseAssignIn=baseAssignIn$1,_cloneBuffer={exports:{}};_cloneBuffer.exports,function(tQ,eQ){var AQ=_root,iQ=eQ&&!eQ.nodeType&&eQ,oQ=iQ&&tQ&&!tQ.nodeType&&tQ,rQ=oQ&&oQ.exports===iQ?AQ.Buffer:void 0,nQ=rQ?rQ.allocUnsafe:void 0;tQ.exports=function(sQ,aQ){if(aQ)return sQ.slice();var cQ=sQ.length,gQ=nQ?nQ(cQ):new sQ.constructor(cQ);return sQ.copy(gQ),gQ}}(_cloneBuffer,_cloneBuffer.exports);var _cloneBufferExports=_cloneBuffer.exports,copyObject$3=_copyObject,getSymbols$1=_getSymbols;function copySymbols$1(tQ,eQ){return copyObject$3(tQ,getSymbols$1(tQ),eQ)}var _copySymbols=copySymbols$1,overArg=_overArg,getPrototype$3=overArg(Object.getPrototypeOf,Object),_getPrototype=getPrototype$3,arrayPush=_arrayPush,getPrototype$2=_getPrototype,getSymbols=_getSymbols,stubArray=stubArray_1,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbolsIn$2=nativeGetSymbols?function(tQ){for(var eQ=[];tQ;)arrayPush(eQ,getSymbols(tQ)),tQ=getPrototype$2(tQ);return eQ}:stubArray,_getSymbolsIn=getSymbolsIn$2,copyObject$2=_copyObject,getSymbolsIn$1=_getSymbolsIn;function copySymbolsIn$1(tQ,eQ){return copyObject$2(tQ,getSymbolsIn$1(tQ),eQ)}var _copySymbolsIn=copySymbolsIn$1,baseGetAllKeys=_baseGetAllKeys,getSymbolsIn=_getSymbolsIn,keysIn$3=keysIn_1;function getAllKeysIn$3(tQ){return baseGetAllKeys(tQ,keysIn$3,getSymbolsIn)}var _getAllKeysIn=getAllKeysIn$3,objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function initCloneArray$1(tQ){var eQ=tQ.length,AQ=new tQ.constructor(eQ);return eQ&&typeof tQ[0]=="string"&&hasOwnProperty$1.call(tQ,"index")&&(AQ.index=tQ.index,AQ.input=tQ.input),AQ}var _initCloneArray=initCloneArray$1,Uint8Array$1=_Uint8Array;function cloneArrayBuffer$3(tQ){var eQ=new tQ.constructor(tQ.byteLength);return new Uint8Array$1(eQ).set(new Uint8Array$1(tQ)),eQ}var _cloneArrayBuffer=cloneArrayBuffer$3,cloneArrayBuffer$2=_cloneArrayBuffer;function cloneDataView$1(tQ,eQ){var AQ=eQ?cloneArrayBuffer$2(tQ.buffer):tQ.buffer;return new tQ.constructor(AQ,tQ.byteOffset,tQ.byteLength)}var _cloneDataView=cloneDataView$1,reFlags=/\w*$/;function cloneRegExp$1(tQ){var eQ=new tQ.constructor(tQ.source,reFlags.exec(tQ));return eQ.lastIndex=tQ.lastIndex,eQ}var _cloneRegExp=cloneRegExp$1,Symbol$1=_Symbol,symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function cloneSymbol$1(tQ){return symbolValueOf?Object(symbolValueOf.call(tQ)):{}}var _cloneSymbol=cloneSymbol$1,cloneArrayBuffer$1=_cloneArrayBuffer;function cloneTypedArray$2(tQ,eQ){var AQ=eQ?cloneArrayBuffer$1(tQ.buffer):tQ.buffer;return new tQ.constructor(AQ,tQ.byteOffset,tQ.length)}var _cloneTypedArray=cloneTypedArray$2,cloneArrayBuffer=_cloneArrayBuffer,cloneDataView=_cloneDataView,cloneRegExp=_cloneRegExp,cloneSymbol=_cloneSymbol,cloneTypedArray$1=_cloneTypedArray,boolTag$1="[object Boolean]",dateTag$1="[object Date]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag$1="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag$1(tQ,eQ,AQ){var iQ=tQ.constructor;switch(eQ){case arrayBufferTag$1:return cloneArrayBuffer(tQ);case boolTag$1:case dateTag$1:return new iQ(+tQ);case dataViewTag$1:return cloneDataView(tQ,AQ);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray$1(tQ,AQ);case mapTag$2:return new iQ;case numberTag$1:case stringTag$1:return new iQ(tQ);case regexpTag$1:return cloneRegExp(tQ);case setTag$2:return new iQ;case symbolTag$1:return cloneSymbol(tQ)}}var _initCloneByTag=initCloneByTag$1,isObject$6=isObject_1$1,objectCreate=Object.create,baseCreate$1=function(){function tQ(){}return function(eQ){if(!isObject$6(eQ))return{};if(objectCreate)return objectCreate(eQ);tQ.prototype=eQ;var AQ=new tQ;return tQ.prototype=void 0,AQ}}(),_baseCreate=baseCreate$1,baseCreate=_baseCreate,getPrototype$1=_getPrototype,isPrototype=_isPrototype;function initCloneObject$2(tQ){return typeof tQ.constructor!="function"||isPrototype(tQ)?{}:baseCreate(getPrototype$1(tQ))}var _initCloneObject=initCloneObject$2,getTag$2=_getTag,isObjectLike$3=isObjectLike_1,mapTag$1="[object Map]";function baseIsMap$1(tQ){return isObjectLike$3(tQ)&&getTag$2(tQ)==mapTag$1}var _baseIsMap=baseIsMap$1,baseIsMap=_baseIsMap,baseUnary$1=_baseUnary,nodeUtil$1=_nodeUtilExports,nodeIsMap=nodeUtil$1&&nodeUtil$1.isMap,isMap$1=nodeIsMap?baseUnary$1(nodeIsMap):baseIsMap,isMap_1=isMap$1,getTag$1=_getTag,isObjectLike$2=isObjectLike_1,setTag$1="[object Set]";function baseIsSet$1(tQ){return isObjectLike$2(tQ)&&getTag$1(tQ)==setTag$1}var _baseIsSet=baseIsSet$1,baseIsSet=_baseIsSet,baseUnary=_baseUnary,nodeUtil=_nodeUtilExports,nodeIsSet=nodeUtil&&nodeUtil.isSet,isSet$1=nodeIsSet?baseUnary(nodeIsSet):baseIsSet,isSet_1=isSet$1,Stack$1=_Stack,arrayEach=_arrayEach,assignValue$1=_assignValue,baseAssign=_baseAssign,baseAssignIn=_baseAssignIn,cloneBuffer$1=_cloneBufferExports,copyArray$1=_copyArray,copySymbols=_copySymbols,copySymbolsIn=_copySymbolsIn,getAllKeys=_getAllKeys,getAllKeysIn$2=_getAllKeysIn,getTag=_getTag,initCloneArray=_initCloneArray,initCloneByTag=_initCloneByTag,initCloneObject$1=_initCloneObject,isArray$2=isArray_1$1,isBuffer$1=isBufferExports,isMap=isMap_1,isObject$5=isObject_1$1,isSet=isSet_1,keys$1=keys_1,keysIn$2=keysIn_1,CLONE_DEEP_FLAG$2=1,CLONE_FLAT_FLAG$1=2,CLONE_SYMBOLS_FLAG$2=4,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag$1="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags={};function baseClone$2(tQ,eQ,AQ,iQ,oQ,rQ){var nQ,sQ=eQ&CLONE_DEEP_FLAG$2,aQ=eQ&CLONE_FLAT_FLAG$1,cQ=eQ&CLONE_SYMBOLS_FLAG$2;if(AQ&&(nQ=oQ?AQ(tQ,iQ,oQ,rQ):AQ(tQ)),nQ!==void 0)return nQ;if(!isObject$5(tQ))return tQ;var gQ=isArray$2(tQ);if(gQ){if(nQ=initCloneArray(tQ),!sQ)return copyArray$1(tQ,nQ)}else{var IQ=getTag(tQ),EQ=IQ==funcTag||IQ==genTag;if(isBuffer$1(tQ))return cloneBuffer$1(tQ,sQ);if(IQ==objectTag$1||IQ==argsTag||EQ&&!oQ){if(nQ=aQ||EQ?{}:initCloneObject$1(tQ),!sQ)return aQ?copySymbolsIn(tQ,baseAssignIn(nQ,tQ)):copySymbols(tQ,baseAssign(nQ,tQ))}else{if(!cloneableTags[IQ])return oQ?tQ:{};nQ=initCloneByTag(tQ,IQ,sQ)}}rQ||(rQ=new Stack$1);var CQ=rQ.get(tQ);if(CQ)return CQ;rQ.set(tQ,nQ),isSet(tQ)?tQ.forEach(function(lQ){nQ.add(baseClone$2(lQ,eQ,AQ,lQ,tQ,rQ))}):isMap(tQ)&&tQ.forEach(function(lQ,uQ){nQ.set(uQ,baseClone$2(lQ,eQ,AQ,uQ,tQ,rQ))});var dQ=gQ?void 0:(cQ?aQ?getAllKeysIn$2:getAllKeys:aQ?keysIn$2:keys$1)(tQ);return arrayEach(dQ||tQ,function(lQ,uQ){dQ&&(lQ=tQ[uQ=lQ]),assignValue$1(nQ,uQ,baseClone$2(lQ,eQ,AQ,uQ,tQ,rQ))}),nQ}cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag$1]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;var _baseClone=baseClone$2,baseClone$1=_baseClone,CLONE_DEEP_FLAG$1=1,CLONE_SYMBOLS_FLAG$1=4;function cloneDeep(tQ){return baseClone$1(tQ,CLONE_DEEP_FLAG$1|CLONE_SYMBOLS_FLAG$1)}var cloneDeep_1=cloneDeep,cloneDeep$1=getDefaultExportFromCjs(cloneDeep_1),baseAssignValue$1=_baseAssignValue,baseForOwn=_baseForOwn,baseIteratee$5=_baseIteratee;function mapValues(tQ,eQ){var AQ={};return eQ=baseIteratee$5(eQ),baseForOwn(tQ,function(iQ,oQ,rQ){baseAssignValue$1(AQ,oQ,eQ(iQ,oQ,rQ))}),AQ}var mapValues_1=mapValues,mapValues$1=getDefaultExportFromCjs(mapValues_1),baseAssignValue=_baseAssignValue,eq=eq_1;function assignMergeValue$2(tQ,eQ,AQ){(AQ!==void 0&&!eq(tQ[eQ],AQ)||AQ===void 0&&!(eQ in tQ))&&baseAssignValue(tQ,eQ,AQ)}var _assignMergeValue=assignMergeValue$2,isArrayLike$2=isArrayLike_1,isObjectLike$1=isObjectLike_1;function isArrayLikeObject$1(tQ){return isObjectLike$1(tQ)&&isArrayLike$2(tQ)}var isArrayLikeObject_1=isArrayLikeObject$1,baseGetTag=_baseGetTag,getPrototype=_getPrototype,isObjectLike=isObjectLike_1,objectTag="[object Object]",funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject$2(tQ){if(!isObjectLike(tQ)||baseGetTag(tQ)!=objectTag)return!1;var eQ=getPrototype(tQ);if(eQ===null)return!0;var AQ=hasOwnProperty.call(eQ,"constructor")&&eQ.constructor;return typeof AQ=="function"&&AQ instanceof AQ&&funcToString.call(AQ)==objectCtorString}var isPlainObject_1=isPlainObject$2;function safeGet$2(tQ,eQ){if((eQ!=="constructor"||typeof tQ[eQ]!="function")&&eQ!="__proto__")return tQ[eQ]}var _safeGet=safeGet$2,copyObject$1=_copyObject,keysIn$1=keysIn_1;function toPlainObject$1(tQ){return copyObject$1(tQ,keysIn$1(tQ))}var toPlainObject_1=toPlainObject$1,assignMergeValue$1=_assignMergeValue,cloneBuffer=_cloneBufferExports,cloneTypedArray=_cloneTypedArray,copyArray=_copyArray,initCloneObject=_initCloneObject,isArguments=isArguments_1,isArray$1=isArray_1$1,isArrayLikeObject=isArrayLikeObject_1,isBuffer=isBufferExports,isFunction$2=isFunction_1$1,isObject$4=isObject_1$1,isPlainObject$1=isPlainObject_1,isTypedArray=isTypedArray_1,safeGet$1=_safeGet,toPlainObject=toPlainObject_1;function baseMergeDeep$1(tQ,eQ,AQ,iQ,oQ,rQ,nQ){var sQ=safeGet$1(tQ,AQ),aQ=safeGet$1(eQ,AQ),cQ=nQ.get(aQ);if(cQ)assignMergeValue$1(tQ,AQ,cQ);else{var gQ=rQ?rQ(sQ,aQ,AQ+"",tQ,eQ,nQ):void 0,IQ=gQ===void 0;if(IQ){var EQ=isArray$1(aQ),CQ=!EQ&&isBuffer(aQ),dQ=!EQ&&!CQ&&isTypedArray(aQ);gQ=aQ,EQ||CQ||dQ?isArray$1(sQ)?gQ=sQ:isArrayLikeObject(sQ)?gQ=copyArray(sQ):CQ?(IQ=!1,gQ=cloneBuffer(aQ,!0)):dQ?(IQ=!1,gQ=cloneTypedArray(aQ,!0)):gQ=[]:isPlainObject$1(aQ)||isArguments(aQ)?(gQ=sQ,isArguments(sQ)?gQ=toPlainObject(sQ):isObject$4(sQ)&&!isFunction$2(sQ)||(gQ=initCloneObject(aQ))):IQ=!1}IQ&&(nQ.set(aQ,gQ),oQ(gQ,aQ,iQ,rQ,nQ),nQ.delete(aQ)),assignMergeValue$1(tQ,AQ,gQ)}}var _baseMergeDeep=baseMergeDeep$1,Stack=_Stack,assignMergeValue=_assignMergeValue,baseFor=_baseFor,baseMergeDeep=_baseMergeDeep,isObject$3=isObject_1$1,keysIn=keysIn_1,safeGet=_safeGet;function baseMerge$1(tQ,eQ,AQ,iQ,oQ){tQ!==eQ&&baseFor(eQ,function(rQ,nQ){if(oQ||(oQ=new Stack),isObject$3(rQ))baseMergeDeep(tQ,eQ,nQ,AQ,baseMerge$1,iQ,oQ);else{var sQ=iQ?iQ(safeGet(tQ,nQ),rQ,nQ+"",tQ,eQ,oQ):void 0;sQ===void 0&&(sQ=rQ),assignMergeValue(tQ,nQ,sQ)}},keysIn)}var _baseMerge=baseMerge$1,baseRest=_baseRest,isIterateeCall=_isIterateeCall;function createAssigner$1(tQ){return baseRest(function(eQ,AQ){var iQ=-1,oQ=AQ.length,rQ=oQ>1?AQ[oQ-1]:void 0,nQ=oQ>2?AQ[2]:void 0;for(rQ=tQ.length>3&&typeof rQ=="function"?(oQ--,rQ):void 0,nQ&&isIterateeCall(AQ[0],AQ[1],nQ)&&(rQ=oQ<3?void 0:rQ,oQ=1),eQ=Object(eQ);++iQ<oQ;){var sQ=AQ[iQ];sQ&&tQ(eQ,sQ,iQ,rQ)}return eQ})}var _createAssigner=createAssigner$1,baseMerge=_baseMerge,createAssigner=_createAssigner,mergeWith=createAssigner(function(tQ,eQ,AQ,iQ){baseMerge(tQ,eQ,AQ,iQ)}),mergeWith_1=mergeWith,mergeWith$1=getDefaultExportFromCjs(mergeWith_1);function last$1(tQ){var eQ=tQ==null?0:tQ.length;return eQ?tQ[eQ-1]:void 0}var last_1=last$1;function baseSlice$1(tQ,eQ,AQ){var iQ=-1,oQ=tQ.length;eQ<0&&(eQ=-eQ>oQ?0:oQ+eQ),(AQ=AQ>oQ?oQ:AQ)<0&&(AQ+=oQ),oQ=eQ>AQ?0:AQ-eQ>>>0,eQ>>>=0;for(var rQ=Array(oQ);++iQ<oQ;)rQ[iQ]=tQ[iQ+eQ];return rQ}var _baseSlice=baseSlice$1,baseGet$1=_baseGet,baseSlice=_baseSlice;function parent$1(tQ,eQ){return eQ.length<2?tQ:baseGet$1(tQ,baseSlice(eQ,0,-1))}var _parent=parent$1,castPath$3=_castPath,last=last_1,parent=_parent,toKey$1=_toKey;function baseUnset$1(tQ,eQ){return eQ=castPath$3(eQ,tQ),(tQ=parent(tQ,eQ))==null||delete tQ[toKey$1(last(eQ))]}var _baseUnset=baseUnset$1,isPlainObject=isPlainObject_1;function customOmitClone$1(tQ){return isPlainObject(tQ)?void 0:tQ}var _customOmitClone=customOmitClone$1,baseFlatten=_baseFlatten;function flatten$1(tQ){return tQ!=null&&tQ.length?baseFlatten(tQ,1):[]}var flatten_1=flatten$1,flatten=flatten_1,overRest=_overRest,setToString=_setToString;function flatRest$1(tQ){return setToString(overRest(tQ,void 0,flatten),tQ+"")}var _flatRest=flatRest$1,arrayMap$1=_arrayMap,baseClone=_baseClone,baseUnset=_baseUnset,castPath$2=_castPath,copyObject=_copyObject,customOmitClone=_customOmitClone,flatRest=_flatRest,getAllKeysIn$1=_getAllKeysIn,CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4,omit=flatRest(function(tQ,eQ){var AQ={};if(tQ==null)return AQ;var iQ=!1;eQ=arrayMap$1(eQ,function(rQ){return rQ=castPath$2(rQ,tQ),iQ||(iQ=rQ.length>1),rQ}),copyObject(tQ,getAllKeysIn$1(tQ),AQ),iQ&&(AQ=baseClone(AQ,CLONE_DEEP_FLAG|CLONE_FLAT_FLAG|CLONE_SYMBOLS_FLAG,customOmitClone));for(var oQ=eQ.length;oQ--;)baseUnset(AQ,eQ[oQ]);return AQ}),omit_1=omit,omit$1=getDefaultExportFromCjs(omit_1),root=_root,toString=toString_1,reTrimStart=/^\s+/,nativeParseInt=root.parseInt;function parseInt$1(tQ,eQ,AQ){return AQ||eQ==null?eQ=0:eQ&&(eQ=+eQ),nativeParseInt(toString(tQ).replace(reTrimStart,""),eQ||0)}var _parseInt=parseInt$1,parseInt$2=getDefaultExportFromCjs(_parseInt);function isUndefined(tQ){return tQ===void 0}var isUndefined_1=isUndefined,isUndefined$1=getDefaultExportFromCjs(isUndefined_1),FUNC_ERROR_TEXT="Expected a function";function negate$1(tQ){if(typeof tQ!="function")throw new TypeError(FUNC_ERROR_TEXT);return function(){var eQ=arguments;switch(eQ.length){case 0:return!tQ.call(this);case 1:return!tQ.call(this,eQ[0]);case 2:return!tQ.call(this,eQ[0],eQ[1]);case 3:return!tQ.call(this,eQ[0],eQ[1],eQ[2])}return!tQ.apply(this,eQ)}}var negate_1=negate$1,assignValue=_assignValue,castPath$1=_castPath,isIndex=_isIndex,isObject$2=isObject_1$1,toKey=_toKey;function baseSet$1(tQ,eQ,AQ,iQ){if(!isObject$2(tQ))return tQ;for(var oQ=-1,rQ=(eQ=castPath$1(eQ,tQ)).length,nQ=rQ-1,sQ=tQ;sQ!=null&&++oQ<rQ;){var aQ=toKey(eQ[oQ]),cQ=AQ;if(aQ==="__proto__"||aQ==="constructor"||aQ==="prototype")return tQ;if(oQ!=nQ){var gQ=sQ[aQ];(cQ=iQ?iQ(gQ,aQ,sQ):void 0)===void 0&&(cQ=isObject$2(gQ)?gQ:isIndex(eQ[oQ+1])?[]:{})}assignValue(sQ,aQ,cQ),sQ=sQ[aQ]}return tQ}var _baseSet=baseSet$1,baseGet=_baseGet,baseSet=_baseSet,castPath=_castPath;function basePickBy$1(tQ,eQ,AQ){for(var iQ=-1,oQ=eQ.length,rQ={};++iQ<oQ;){var nQ=eQ[iQ],sQ=baseGet(tQ,nQ);AQ(sQ,nQ)&&baseSet(rQ,castPath(nQ,tQ),sQ)}return rQ}var _basePickBy=basePickBy$1,arrayMap=_arrayMap,baseIteratee$4=_baseIteratee,basePickBy=_basePickBy,getAllKeysIn=_getAllKeysIn;function pickBy$1(tQ,eQ){if(tQ==null)return{};var AQ=arrayMap(getAllKeysIn(tQ),function(iQ){return[iQ]});return eQ=baseIteratee$4(eQ),basePickBy(tQ,AQ,function(iQ,oQ){return eQ(iQ,oQ[0])})}var pickBy_1=pickBy$1,baseIteratee$3=_baseIteratee,negate=negate_1,pickBy=pickBy_1;function omitBy(tQ,eQ){return pickBy(tQ,negate(baseIteratee$3(eQ)))}var omitBy_1=omitBy,omitBy$1=getDefaultExportFromCjs(omitBy_1);function isNull(tQ){return tQ===null}var isNull_1=isNull,isNull$1=getDefaultExportFromCjs(isNull_1),baseIteratee$2=_baseIteratee,isArrayLike$1=isArrayLike_1,keys=keys_1;function createFind$1(tQ){return function(eQ,AQ,iQ){var oQ=Object(eQ);if(!isArrayLike$1(eQ)){var rQ=baseIteratee$2(AQ);eQ=keys(eQ),AQ=function(sQ){return rQ(oQ[sQ],sQ,oQ)}}var nQ=tQ(eQ,AQ,iQ);return nQ>-1?oQ[rQ?eQ[nQ]:nQ]:void 0}}var _createFind=createFind$1;function baseFindIndex$3(tQ,eQ,AQ,iQ){for(var oQ=tQ.length,rQ=AQ+(iQ?1:-1);iQ?rQ--:++rQ<oQ;)if(eQ(tQ[rQ],rQ,tQ))return rQ;return-1}var _baseFindIndex=baseFindIndex$3,toFinite=toFinite_1;function toInteger$2(tQ){var eQ=toFinite(tQ),AQ=eQ%1;return eQ==eQ?AQ?eQ-AQ:eQ:0}var toInteger_1=toInteger$2,baseFindIndex$2=_baseFindIndex,baseIteratee$1=_baseIteratee,toInteger$1=toInteger_1,nativeMax$1=Math.max;function findIndex$1(tQ,eQ,AQ){var iQ=tQ==null?0:tQ.length;if(!iQ)return-1;var oQ=AQ==null?0:toInteger$1(AQ);return oQ<0&&(oQ=nativeMax$1(iQ+oQ,0)),baseFindIndex$2(tQ,baseIteratee$1(eQ),oQ)}var findIndex_1=findIndex$1,createFind=_createFind,findIndex=findIndex_1,find=createFind(findIndex),find_1=find,find$1=getDefaultExportFromCjs(find_1);function baseIsNaN$1(tQ){return tQ!=tQ}var _baseIsNaN=baseIsNaN$1;function strictIndexOf$1(tQ,eQ,AQ){for(var iQ=AQ-1,oQ=tQ.length;++iQ<oQ;)if(tQ[iQ]===eQ)return iQ;return-1}var _strictIndexOf=strictIndexOf$1,baseFindIndex$1=_baseFindIndex,baseIsNaN=_baseIsNaN,strictIndexOf=_strictIndexOf;function baseIndexOf$1(tQ,eQ,AQ){return eQ==eQ?strictIndexOf(tQ,eQ,AQ):baseFindIndex$1(tQ,baseIsNaN,AQ)}var _baseIndexOf=baseIndexOf$1,baseIndexOf=_baseIndexOf;function arrayIncludes$1(tQ,eQ){return!!(tQ!=null&&tQ.length)&&baseIndexOf(tQ,eQ,0)>-1}var _arrayIncludes=arrayIncludes$1;function arrayIncludesWith$1(tQ,eQ,AQ){for(var iQ=-1,oQ=tQ==null?0:tQ.length;++iQ<oQ;)if(AQ(eQ,tQ[iQ]))return!0;return!1}var _arrayIncludesWith=arrayIncludesWith$1;function noop$2(){}var noop_1=noop$2,Set$1=_Set,noop$1=noop_1,setToArray$1=_setToArray,INFINITY=1/0,createSet$1=Set$1&&1/setToArray$1(new Set$1([,-0]))[1]==INFINITY?function(tQ){return new Set$1(tQ)}:noop$1,_createSet=createSet$1,SetCache=_SetCache,arrayIncludes=_arrayIncludes,arrayIncludesWith=_arrayIncludesWith,cacheHas=_cacheHas,createSet=_createSet,setToArray=_setToArray,LARGE_ARRAY_SIZE=200;function baseUniq$1(tQ,eQ,AQ){var iQ=-1,oQ=arrayIncludes,rQ=tQ.length,nQ=!0,sQ=[],aQ=sQ;if(AQ)nQ=!1,oQ=arrayIncludesWith;else if(rQ>=LARGE_ARRAY_SIZE){var cQ=eQ?null:createSet(tQ);if(cQ)return setToArray(cQ);nQ=!1,oQ=cacheHas,aQ=new SetCache}else aQ=eQ?[]:sQ;e:for(;++iQ<rQ;){var gQ=tQ[iQ],IQ=eQ?eQ(gQ):gQ;if(gQ=AQ||gQ!==0?gQ:0,nQ&&IQ==IQ){for(var EQ=aQ.length;EQ--;)if(aQ[EQ]===IQ)continue e;eQ&&aQ.push(IQ),sQ.push(gQ)}else oQ(aQ,IQ,AQ)||(aQ!==sQ&&aQ.push(IQ),sQ.push(gQ))}return sQ}var _baseUniq=baseUniq$1,baseUniq=_baseUniq;function uniqWith(tQ,eQ){return eQ=typeof eQ=="function"?eQ:void 0,tQ&&tQ.length?baseUniq(tQ,void 0,eQ):[]}var uniqWith_1=uniqWith,uniqWith$1=getDefaultExportFromCjs(uniqWith_1),baseFindIndex=_baseFindIndex,baseIteratee=_baseIteratee,toInteger=toInteger_1,nativeMax=Math.max,nativeMin=Math.min;function findLastIndex(tQ,eQ,AQ){var iQ=tQ==null?0:tQ.length;if(!iQ)return-1;var oQ=iQ-1;return AQ!==void 0&&(oQ=toInteger(AQ),oQ=AQ<0?nativeMax(iQ+oQ,0):nativeMin(oQ,iQ-1)),baseFindIndex(tQ,baseIteratee(eQ),oQ,!0)}var findLastIndex_1=findLastIndex,findLastIndex$1=getDefaultExportFromCjs(findLastIndex_1),long=Long$1,wasm=null;try{wasm=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(tQ){}function Long$1(tQ,eQ,AQ){this.low=0|tQ,this.high=0|eQ,this.unsigned=!!AQ}function isLong(tQ){return(tQ&&tQ.__isLong__)===!0}Long$1.prototype.__isLong__,Object.defineProperty(Long$1.prototype,"__isLong__",{value:!0}),Long$1.isLong=isLong;var INT_CACHE={},UINT_CACHE={};function fromInt(tQ,eQ){var AQ,iQ,oQ;return eQ?(oQ=0<=(tQ>>>=0)&&tQ<256)&&(iQ=UINT_CACHE[tQ])?iQ:(AQ=fromBits(tQ,(0|tQ)<0?-1:0,!0),oQ&&(UINT_CACHE[tQ]=AQ),AQ):(oQ=-128<=(tQ|=0)&&tQ<128)&&(iQ=INT_CACHE[tQ])?iQ:(AQ=fromBits(tQ,tQ<0?-1:0,!1),oQ&&(INT_CACHE[tQ]=AQ),AQ)}function fromNumber(tQ,eQ){if(isNaN(tQ))return eQ?UZERO:ZERO;if(eQ){if(tQ<0)return UZERO;if(tQ>=TWO_PWR_64_DBL)return MAX_UNSIGNED_VALUE}else{if(tQ<=-TWO_PWR_63_DBL)return MIN_VALUE;if(tQ+1>=TWO_PWR_63_DBL)return MAX_VALUE}return tQ<0?fromNumber(-tQ,eQ).neg():fromBits(tQ%TWO_PWR_32_DBL|0,tQ/TWO_PWR_32_DBL|0,eQ)}function fromBits(tQ,eQ,AQ){return new Long$1(tQ,eQ,AQ)}Long$1.fromInt=fromInt,Long$1.fromNumber=fromNumber,Long$1.fromBits=fromBits;var pow_dbl=Math.pow;function fromString(tQ,eQ,AQ){if(tQ.length===0)throw Error("empty string");if(tQ==="NaN"||tQ==="Infinity"||tQ==="+Infinity"||tQ==="-Infinity")return ZERO;if(typeof eQ=="number"?(AQ=eQ,eQ=!1):eQ=!!eQ,(AQ=AQ||10)<2||36<AQ)throw RangeError("radix");var iQ;if((iQ=tQ.indexOf("-"))>0)throw Error("interior hyphen");if(iQ===0)return fromString(tQ.substring(1),eQ,AQ).neg();for(var oQ=fromNumber(pow_dbl(AQ,8)),rQ=ZERO,nQ=0;nQ<tQ.length;nQ+=8){var sQ=Math.min(8,tQ.length-nQ),aQ=parseInt(tQ.substring(nQ,nQ+sQ),AQ);if(sQ<8){var cQ=fromNumber(pow_dbl(AQ,sQ));rQ=rQ.mul(cQ).add(fromNumber(aQ))}else rQ=(rQ=rQ.mul(oQ)).add(fromNumber(aQ))}return rQ.unsigned=eQ,rQ}function fromValue(tQ,eQ){return typeof tQ=="number"?fromNumber(tQ,eQ):typeof tQ=="string"?fromString(tQ,eQ):fromBits(tQ.low,tQ.high,typeof eQ=="boolean"?eQ:tQ.unsigned)}Long$1.fromString=fromString,Long$1.fromValue=fromValue;var TWO_PWR_16_DBL=65536,TWO_PWR_24_DBL=1<<24,TWO_PWR_32_DBL=TWO_PWR_16_DBL*TWO_PWR_16_DBL,TWO_PWR_64_DBL=TWO_PWR_32_DBL*TWO_PWR_32_DBL,TWO_PWR_63_DBL=TWO_PWR_64_DBL/2,TWO_PWR_24=fromInt(TWO_PWR_24_DBL),ZERO=fromInt(0);Long$1.ZERO=ZERO;var UZERO=fromInt(0,!0);Long$1.UZERO=UZERO;var ONE=fromInt(1);Long$1.ONE=ONE;var UONE=fromInt(1,!0);Long$1.UONE=UONE;var NEG_ONE=fromInt(-1);Long$1.NEG_ONE=NEG_ONE;var MAX_VALUE=fromBits(-1,2147483647,!1);Long$1.MAX_VALUE=MAX_VALUE;var MAX_UNSIGNED_VALUE=fromBits(-1,-1,!0);Long$1.MAX_UNSIGNED_VALUE=MAX_UNSIGNED_VALUE;var MIN_VALUE=fromBits(0,-2147483648,!1);Long$1.MIN_VALUE=MIN_VALUE;var LongPrototype=Long$1.prototype;LongPrototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},LongPrototype.toNumber=function(){return this.unsigned?(this.high>>>0)*TWO_PWR_32_DBL+(this.low>>>0):this.high*TWO_PWR_32_DBL+(this.low>>>0)},LongPrototype.toString=function(tQ){if((tQ=tQ||10)<2||36<tQ)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(MIN_VALUE)){var eQ=fromNumber(tQ),AQ=this.div(eQ),iQ=AQ.mul(eQ).sub(this);return AQ.toString(tQ)+iQ.toInt().toString(tQ)}return"-"+this.neg().toString(tQ)}for(var oQ=fromNumber(pow_dbl(tQ,6),this.unsigned),rQ=this,nQ="";;){var sQ=rQ.div(oQ),aQ=(rQ.sub(sQ.mul(oQ)).toInt()>>>0).toString(tQ);if((rQ=sQ).isZero())return aQ+nQ;for(;aQ.length<6;)aQ="0"+aQ;nQ=""+aQ+nQ}},LongPrototype.getHighBits=function(){return this.high},LongPrototype.getHighBitsUnsigned=function(){return this.high>>>0},LongPrototype.getLowBits=function(){return this.low},LongPrototype.getLowBitsUnsigned=function(){return this.low>>>0},LongPrototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(MIN_VALUE)?64:this.neg().getNumBitsAbs();for(var tQ=this.high!=0?this.high:this.low,eQ=31;eQ>0&&!(tQ&1<<eQ);eQ--);return this.high!=0?eQ+33:eQ+1},LongPrototype.isZero=function(){return this.high===0&&this.low===0},LongPrototype.eqz=LongPrototype.isZero,LongPrototype.isNegative=function(){return!this.unsigned&&this.high<0},LongPrototype.isPositive=function(){return this.unsigned||this.high>=0},LongPrototype.isOdd=function(){return!(1&~this.low)},LongPrototype.isEven=function(){return!(1&this.low)},LongPrototype.equals=function(tQ){return isLong(tQ)||(tQ=fromValue(tQ)),(this.unsigned===tQ.unsigned||this.high>>>31!=1||tQ.high>>>31!=1)&&this.high===tQ.high&&this.low===tQ.low},LongPrototype.eq=LongPrototype.equals,LongPrototype.notEquals=function(tQ){return!this.eq(tQ)},LongPrototype.neq=LongPrototype.notEquals,LongPrototype.ne=LongPrototype.notEquals,LongPrototype.lessThan=function(tQ){return this.comp(tQ)<0},LongPrototype.lt=LongPrototype.lessThan,LongPrototype.lessThanOrEqual=function(tQ){return this.comp(tQ)<=0},LongPrototype.lte=LongPrototype.lessThanOrEqual,LongPrototype.le=LongPrototype.lessThanOrEqual,LongPrototype.greaterThan=function(tQ){return this.comp(tQ)>0},LongPrototype.gt=LongPrototype.greaterThan,LongPrototype.greaterThanOrEqual=function(tQ){return this.comp(tQ)>=0},LongPrototype.gte=LongPrototype.greaterThanOrEqual,LongPrototype.ge=LongPrototype.greaterThanOrEqual,LongPrototype.compare=function(tQ){if(isLong(tQ)||(tQ=fromValue(tQ)),this.eq(tQ))return 0;var eQ=this.isNegative(),AQ=tQ.isNegative();return eQ&&!AQ?-1:!eQ&&AQ?1:this.unsigned?tQ.high>>>0>this.high>>>0||tQ.high===this.high&&tQ.low>>>0>this.low>>>0?-1:1:this.sub(tQ).isNegative()?-1:1},LongPrototype.comp=LongPrototype.compare,LongPrototype.negate=function(){return!this.unsigned&&this.eq(MIN_VALUE)?MIN_VALUE:this.not().add(ONE)},LongPrototype.neg=LongPrototype.negate,LongPrototype.add=function(tQ){isLong(tQ)||(tQ=fromValue(tQ));var eQ=this.high>>>16,AQ=65535&this.high,iQ=this.low>>>16,oQ=65535&this.low,rQ=tQ.high>>>16,nQ=65535&tQ.high,sQ=tQ.low>>>16,aQ=0,cQ=0,gQ=0,IQ=0;return gQ+=(IQ+=oQ+(65535&tQ.low))>>>16,cQ+=(gQ+=iQ+sQ)>>>16,aQ+=(cQ+=AQ+nQ)>>>16,aQ+=eQ+rQ,fromBits((gQ&=65535)<<16|(IQ&=65535),(aQ&=65535)<<16|(cQ&=65535),this.unsigned)},LongPrototype.subtract=function(tQ){return isLong(tQ)||(tQ=fromValue(tQ)),this.add(tQ.neg())},LongPrototype.sub=LongPrototype.subtract,LongPrototype.multiply=function(tQ){if(this.isZero())return ZERO;if(isLong(tQ)||(tQ=fromValue(tQ)),wasm)return fromBits(wasm.mul(this.low,this.high,tQ.low,tQ.high),wasm.get_high(),this.unsigned);if(tQ.isZero())return ZERO;if(this.eq(MIN_VALUE))return tQ.isOdd()?MIN_VALUE:ZERO;if(tQ.eq(MIN_VALUE))return this.isOdd()?MIN_VALUE:ZERO;if(this.isNegative())return tQ.isNegative()?this.neg().mul(tQ.neg()):this.neg().mul(tQ).neg();if(tQ.isNegative())return this.mul(tQ.neg()).neg();if(this.lt(TWO_PWR_24)&&tQ.lt(TWO_PWR_24))return fromNumber(this.toNumber()*tQ.toNumber(),this.unsigned);var eQ=this.high>>>16,AQ=65535&this.high,iQ=this.low>>>16,oQ=65535&this.low,rQ=tQ.high>>>16,nQ=65535&tQ.high,sQ=tQ.low>>>16,aQ=65535&tQ.low,cQ=0,gQ=0,IQ=0,EQ=0;return IQ+=(EQ+=oQ*aQ)>>>16,gQ+=(IQ+=iQ*aQ)>>>16,IQ&=65535,gQ+=(IQ+=oQ*sQ)>>>16,cQ+=(gQ+=AQ*aQ)>>>16,gQ&=65535,cQ+=(gQ+=iQ*sQ)>>>16,gQ&=65535,cQ+=(gQ+=oQ*nQ)>>>16,cQ+=eQ*aQ+AQ*sQ+iQ*nQ+oQ*rQ,fromBits((IQ&=65535)<<16|(EQ&=65535),(cQ&=65535)<<16|(gQ&=65535),this.unsigned)},LongPrototype.mul=LongPrototype.multiply,LongPrototype.divide=function(tQ){if(isLong(tQ)||(tQ=fromValue(tQ)),tQ.isZero())throw Error("division by zero");var eQ,AQ,iQ;if(wasm)return this.unsigned||this.high!==-2147483648||tQ.low!==-1||tQ.high!==-1?fromBits((this.unsigned?wasm.div_u:wasm.div_s)(this.low,this.high,tQ.low,tQ.high),wasm.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?UZERO:ZERO;if(this.unsigned){if(tQ.unsigned||(tQ=tQ.toUnsigned()),tQ.gt(this))return UZERO;if(tQ.gt(this.shru(1)))return UONE;iQ=UZERO}else{if(this.eq(MIN_VALUE))return tQ.eq(ONE)||tQ.eq(NEG_ONE)?MIN_VALUE:tQ.eq(MIN_VALUE)?ONE:(eQ=this.shr(1).div(tQ).shl(1)).eq(ZERO)?tQ.isNegative()?ONE:NEG_ONE:(AQ=this.sub(tQ.mul(eQ)),iQ=eQ.add(AQ.div(tQ)));if(tQ.eq(MIN_VALUE))return this.unsigned?UZERO:ZERO;if(this.isNegative())return tQ.isNegative()?this.neg().div(tQ.neg()):this.neg().div(tQ).neg();if(tQ.isNegative())return this.div(tQ.neg()).neg();iQ=ZERO}for(AQ=this;AQ.gte(tQ);){eQ=Math.max(1,Math.floor(AQ.toNumber()/tQ.toNumber()));for(var oQ=Math.ceil(Math.log(eQ)/Math.LN2),rQ=oQ<=48?1:pow_dbl(2,oQ-48),nQ=fromNumber(eQ),sQ=nQ.mul(tQ);sQ.isNegative()||sQ.gt(AQ);)sQ=(nQ=fromNumber(eQ-=rQ,this.unsigned)).mul(tQ);nQ.isZero()&&(nQ=ONE),iQ=iQ.add(nQ),AQ=AQ.sub(sQ)}return iQ},LongPrototype.div=LongPrototype.divide,LongPrototype.modulo=function(tQ){return isLong(tQ)||(tQ=fromValue(tQ)),wasm?fromBits((this.unsigned?wasm.rem_u:wasm.rem_s)(this.low,this.high,tQ.low,tQ.high),wasm.get_high(),this.unsigned):this.sub(this.div(tQ).mul(tQ))},LongPrototype.mod=LongPrototype.modulo,LongPrototype.rem=LongPrototype.modulo,LongPrototype.not=function(){return fromBits(~this.low,~this.high,this.unsigned)},LongPrototype.and=function(tQ){return isLong(tQ)||(tQ=fromValue(tQ)),fromBits(this.low&tQ.low,this.high&tQ.high,this.unsigned)},LongPrototype.or=function(tQ){return isLong(tQ)||(tQ=fromValue(tQ)),fromBits(this.low|tQ.low,this.high|tQ.high,this.unsigned)},LongPrototype.xor=function(tQ){return isLong(tQ)||(tQ=fromValue(tQ)),fromBits(this.low^tQ.low,this.high^tQ.high,this.unsigned)},LongPrototype.shiftLeft=function(tQ){return isLong(tQ)&&(tQ=tQ.toInt()),(tQ&=63)==0?this:tQ<32?fromBits(this.low<<tQ,this.high<<tQ|this.low>>>32-tQ,this.unsigned):fromBits(0,this.low<<tQ-32,this.unsigned)},LongPrototype.shl=LongPrototype.shiftLeft,LongPrototype.shiftRight=function(tQ){return isLong(tQ)&&(tQ=tQ.toInt()),(tQ&=63)==0?this:tQ<32?fromBits(this.low>>>tQ|this.high<<32-tQ,this.high>>tQ,this.unsigned):fromBits(this.high>>tQ-32,this.high>=0?0:-1,this.unsigned)},LongPrototype.shr=LongPrototype.shiftRight,LongPrototype.shiftRightUnsigned=function(tQ){if(isLong(tQ)&&(tQ=tQ.toInt()),(tQ&=63)===0)return this;var eQ=this.high;return tQ<32?fromBits(this.low>>>tQ|eQ<<32-tQ,eQ>>>tQ,this.unsigned):fromBits(tQ===32?eQ:eQ>>>tQ-32,0,this.unsigned)},LongPrototype.shru=LongPrototype.shiftRightUnsigned,LongPrototype.shr_u=LongPrototype.shiftRightUnsigned,LongPrototype.toSigned=function(){return this.unsigned?fromBits(this.low,this.high,!1):this},LongPrototype.toUnsigned=function(){return this.unsigned?this:fromBits(this.low,this.high,!0)},LongPrototype.toBytes=function(tQ){return tQ?this.toBytesLE():this.toBytesBE()},LongPrototype.toBytesLE=function(){var tQ=this.high,eQ=this.low;return[255&eQ,eQ>>>8&255,eQ>>>16&255,eQ>>>24,255&tQ,tQ>>>8&255,tQ>>>16&255,tQ>>>24]},LongPrototype.toBytesBE=function(){var tQ=this.high,eQ=this.low;return[tQ>>>24,tQ>>>16&255,tQ>>>8&255,255&tQ,eQ>>>24,eQ>>>16&255,eQ>>>8&255,255&eQ]},Long$1.fromBytes=function(tQ,eQ,AQ){return AQ?Long$1.fromBytesLE(tQ,eQ):Long$1.fromBytesBE(tQ,eQ)},Long$1.fromBytesLE=function(tQ,eQ){return new Long$1(tQ[0]|tQ[1]<<8|tQ[2]<<16|tQ[3]<<24,tQ[4]|tQ[5]<<8|tQ[6]<<16|tQ[7]<<24,eQ)},Long$1.fromBytesBE=function(tQ,eQ){return new Long$1(tQ[4]<<24|tQ[5]<<16|tQ[6]<<8|tQ[7],tQ[0]<<24|tQ[1]<<16|tQ[2]<<8|tQ[3],eQ)};var Long$2=getDefaultExportFromCjs(long);let RtmMessageCategoryEnum=function(tQ){return tQ[tQ.ChannelSMsg=1]="ChannelSMsg",tQ[tQ.ChannelRMsg=2]="ChannelRMsg",tQ[tQ.P2pSMsgOfflineFlag=3]="P2pSMsgOfflineFlag",tQ[tQ.P2pRMsgOfflineFlag=4]="P2pRMsgOfflineFlag",tQ[tQ.P2pSMsgNoOfflineFlag=5]="P2pSMsgNoOfflineFlag",tQ[tQ.P2pRMsgNoOfflineFlag=6]="P2pRMsgNoOfflineFlag",tQ[tQ.P2pCallInvitation=7]="P2pCallInvitation",tQ[tQ.P2pCallCancellation=8]="P2pCallCancellation",tQ[tQ.P2pCallAcceptance=9]="P2pCallAcceptance",tQ[tQ.P2pCallRefusal=10]="P2pCallRefusal",tQ}({});const AP_CONCURRENT_REQ_NUM=2,MIN_HEARTBEAT_INTERVAL=5e3,MAX_HEARTBEAT_INTERVAL=18e5,CONFIGURABLE_KEY_RTM_LINK_KEEP_ALIVE_TIMEOUT=1e4,CONFIGURABLE_KEY_RTM_HEARTBEAT_INTERVAL=MIN_HEARTBEAT_INTERVAL,SOCKET_RETRY_INTERVAL=3e3,LINK_INTERVALS=[2,4,8,16,32,32],SUSPENDED_TIME_INTERVAL=30,LOGIN_RESP_TIMEOUT=5e3,LOGIN_QPS_LIMIT=2,MESSAGE_MIN_COMPRESSION_LEN=128,MESSAGE_SEND_TIMEOUT=1e4,COMMON_REQUEST_TIMEOUT=1e4,P2P_MESSAGE_SEND_TIMEOUT=13e3,DIALOGUE_EXPIRE_TIMEOUT=1e4,LRU_MAX_ITEMS=1e4,MESSAGE_RETRY_TIMEOUT=6e3,TEXT_MESSAGE_MAX_TEXT_BYTES=32768,ONLINE_MESSAGE_DEDUP_DELAY=750,OFFLINE_MESSAGE_DEDUP_DELAY=1500,MSG_DEDUP_MAX_LEN=200,K_ACK_MISS=1,K_ACK_PEER_OFFLINE=8,PUBLISH_MESSAGE_SIZE=32768,TOPIC_MESSAGE_SIZE=1024,CUSTOM_TYPE_SIZE=32,K_P2P_MESSAGE_PREFIX="*p*",LOGOUT_SOCKET_CLOSE_TIMEOUT=5e3,LOG_UPLOAD_MAX_ITEMS=1e3,MAX_JOINED_CHANNELS=50,SUB_STREAM_CHANNEL_LIMITATION=10,K_STREAM_CHANNEL_PREFIX="*s*",MAX_SUBSCRIPTION_USER=50,MAX_METADATA_COUNT=32,RTM_METADATA_MAX_LENGTH=16384,RTM_METADATA_KEY_MAX_LENGTH=32,RTM_METADATA_VALUE_MAX_LENGTH=16384,LOCK_DEFAULT_TTL=10,MAX_LOCK_TTL=300,LAST_PONG_RECEIVED_TS_FIELD_NUMBER=4e3,IV_LENGTH=12,TAG_LENGTH=16,KEY_ITERATIONS_COUNT=1e3,ROUNDUP_BIT_SIZE=4,SALT_LENGTH=32,JOIN_TOPIC_LIMITATION=8,SUB_TOPIC_LIMITATION=50,SUB_TOPIC_USER_LIMITATION=64,TOPIC_NAME_SIZE=16,DEFAULT_RPC_TIMEOUT_TIME=5e3,PRESENCE_DATABASE="vendor-state",MAX_STATE_COUNT=32,MAX_STATE_KEY_SIZE=32,MAX_STATE_VALUE_SIZE=16384,K_PRESENCE_MAX_CHANNEL_COUNT=100,K_USER_COLLECTION="/Users",K_PRESENCE_PREFIX="/Vendors/",K_GLOBAL_ONLINE="/Presence",K_CHANNEL_ONLINE="/ChannelPresence/",K_GLOBAL_PRESENCE_COLLECTION="_keepalive_",K_PRESENCE_EXPIRED="_expired",K_SYNC_INTERNAL_KEY_PREFIX="_",K_INTERVAL_THRESHOLD_MAX=128,K_INTERVAL_THRESHOLD_MIN=8,K_DEFAULT_INTERVAL_THRESHOLD=50,K_PRESENCE_INTERVAL_MAX=300,K_PRESENCE_INTERVAL_MIN=10,K_PRESENCE_INTERVAL_DEFAULT=30,K_PRESENCE_TIMEOUT_MAX=300,K_PRESENCE_TIMEOUT_MIN=5,K_PRESENCE_TIMEOUT_DEFAULT=300,K_DEBOUNCE_DEFAULT=2,CREATE_COLL_INTERVALS=[10,20,30],MONITOR_INTERVAL=1e3,APP_ID_LENGTH=32,VERSION_LENGTH=3,API_QPS_SECOND=1e3,JOIN_TIMEOUT=15e3,RECONNECT_STREAM_CHANNEL_TIMEOUT=12e5,GET_MESSAGE_TIME_LIMIT=864e5,GET_MESSAGE_MAX_COUNT=100;var util$7={exports:{}},forge$8={options:{usePureJavaScript:!1}},api={},baseN$1=api,_reverseAlphabets={};function _encodeWithByteBuffer(tQ,eQ){var AQ=0,iQ=eQ.length,oQ=eQ.charAt(0),rQ=[0];for(AQ=0;AQ<tQ.length();++AQ){for(var nQ=0,sQ=tQ.at(AQ);nQ<rQ.length;++nQ)sQ+=rQ[nQ]<<8,rQ[nQ]=sQ%iQ,sQ=sQ/iQ|0;for(;sQ>0;)rQ.push(sQ%iQ),sQ=sQ/iQ|0}var aQ="";for(AQ=0;tQ.at(AQ)===0&&AQ<tQ.length()-1;++AQ)aQ+=oQ;for(AQ=rQ.length-1;AQ>=0;--AQ)aQ+=eQ[rQ[AQ]];return aQ}api.encode=function(tQ,eQ,AQ){if(typeof eQ!="string")throw new TypeError('"alphabet" must be a string.');if(AQ!==void 0&&typeof AQ!="number")throw new TypeError('"maxline" must be a number.');var iQ="";if(tQ instanceof Uint8Array){var oQ=0,rQ=eQ.length,nQ=eQ.charAt(0),sQ=[0];for(oQ=0;oQ<tQ.length;++oQ){for(var aQ=0,cQ=tQ[oQ];aQ<sQ.length;++aQ)cQ+=sQ[aQ]<<8,sQ[aQ]=cQ%rQ,cQ=cQ/rQ|0;for(;cQ>0;)sQ.push(cQ%rQ),cQ=cQ/rQ|0}for(oQ=0;tQ[oQ]===0&&oQ<tQ.length-1;++oQ)iQ+=nQ;for(oQ=sQ.length-1;oQ>=0;--oQ)iQ+=eQ[sQ[oQ]]}else iQ=_encodeWithByteBuffer(tQ,eQ);if(AQ){var gQ=new RegExp(".{1,"+AQ+"}","g");iQ=iQ.match(gQ).join(`\r
`)}return iQ},api.decode=function(tQ,eQ){if(typeof tQ!="string")throw new TypeError('"input" must be a string.');if(typeof eQ!="string")throw new TypeError('"alphabet" must be a string.');var AQ=_reverseAlphabets[eQ];if(!AQ){AQ=_reverseAlphabets[eQ]=[];for(var iQ=0;iQ<eQ.length;++iQ)AQ[eQ.charCodeAt(iQ)]=iQ}tQ=tQ.replace(/\s/g,"");var oQ=eQ.length,rQ=eQ.charAt(0),nQ=[0];for(iQ=0;iQ<tQ.length;iQ++){var sQ=AQ[tQ.charCodeAt(iQ)];if(sQ===void 0)return;for(var aQ=0,cQ=sQ;aQ<nQ.length;++aQ)cQ+=nQ[aQ]*oQ,nQ[aQ]=255&cQ,cQ>>=8;for(;cQ>0;)nQ.push(255&cQ),cQ>>=8}for(var gQ=0;tQ[gQ]===rQ&&gQ<tQ.length-1;++gQ)nQ.push(0);return typeof Buffer<"u"?Buffer.from(nQ.reverse()):new Uint8Array(nQ.reverse())};var forge$7=forge$8,baseN=baseN$1,util$5=util$7.exports=forge$7.util=forge$7.util||{};function _checkBitsParam(tQ){if(tQ!==8&&tQ!==16&&tQ!==24&&tQ!==32)throw new Error("Only 8, 16, 24, or 32 bits supported: "+tQ)}function ByteStringBuffer(tQ){if(this.data="",this.read=0,typeof tQ=="string")this.data=tQ;else if(util$5.isArrayBuffer(tQ)||util$5.isArrayBufferView(tQ))if(typeof Buffer<"u"&&tQ instanceof Buffer)this.data=tQ.toString("binary");else{var eQ=new Uint8Array(tQ);try{this.data=String.fromCharCode.apply(null,eQ)}catch{for(var AQ=0;AQ<eQ.length;++AQ)this.putByte(eQ[AQ])}}else(tQ instanceof ByteStringBuffer||typeof tQ=="object"&&typeof tQ.data=="string"&&typeof tQ.read=="number")&&(this.data=tQ.data,this.read=tQ.read);this._constructedStringLength=0}(function(){if(typeof process<"u"&&process.nextTick&&!process.browser)return util$5.nextTick=process.nextTick,void(typeof setImmediate=="function"?util$5.setImmediate=setImmediate:util$5.setImmediate=util$5.nextTick);if(typeof setImmediate=="function")return util$5.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(util$5.nextTick=function(sQ){return setImmediate(sQ)});if(util$5.setImmediate=function(sQ){setTimeout(sQ,0)},typeof window<"u"&&typeof window.postMessage=="function"){let sQ=function(aQ){if(aQ.source===window&&aQ.data===tQ){aQ.stopPropagation();var cQ=eQ.slice();eQ.length=0,cQ.forEach(function(gQ){gQ()})}};var nQ=sQ,tQ="forge.setImmediate",eQ=[];util$5.setImmediate=function(aQ){eQ.push(aQ),eQ.length===1&&window.postMessage(tQ,"*")},window.addEventListener("message",sQ,!0)}if(typeof MutationObserver<"u"){var AQ=Date.now(),iQ=!0,oQ=document.createElement("div");eQ=[],new MutationObserver(function(){var sQ=eQ.slice();eQ.length=0,sQ.forEach(function(aQ){aQ()})}).observe(oQ,{attributes:!0});var rQ=util$5.setImmediate;util$5.setImmediate=function(sQ){Date.now()-AQ>15?(AQ=Date.now(),rQ(sQ)):(eQ.push(sQ),eQ.length===1&&oQ.setAttribute("a",iQ=!iQ))}}util$5.nextTick=util$5.setImmediate})(),util$5.isNodejs=typeof process<"u"&&process.versions&&process.versions.node,util$5.globalScope=util$5.isNodejs?commonjsGlobal$1:typeof self>"u"?window:self,util$5.isArray=Array.isArray||function(tQ){return Object.prototype.toString.call(tQ)==="[object Array]"},util$5.isArrayBuffer=function(tQ){return typeof ArrayBuffer<"u"&&tQ instanceof ArrayBuffer},util$5.isArrayBufferView=function(tQ){return tQ&&util$5.isArrayBuffer(tQ.buffer)&&tQ.byteLength!==void 0},util$5.ByteBuffer=ByteStringBuffer,util$5.ByteStringBuffer=ByteStringBuffer;var _MAX_CONSTRUCTED_STRING_LENGTH=4096;function DataBuffer(tQ,eQ){eQ=eQ||{},this.read=eQ.readOffset||0,this.growSize=eQ.growSize||1024;var AQ=util$5.isArrayBuffer(tQ),iQ=util$5.isArrayBufferView(tQ);if(AQ||iQ)return this.data=AQ?new DataView(tQ):new DataView(tQ.buffer,tQ.byteOffset,tQ.byteLength),void(this.write="writeOffset"in eQ?eQ.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,tQ!=null&&this.putBytes(tQ),"writeOffset"in eQ&&(this.write=eQ.writeOffset)}util$5.ByteStringBuffer.prototype._optimizeConstructedString=function(tQ){this._constructedStringLength+=tQ,this._constructedStringLength>_MAX_CONSTRUCTED_STRING_LENGTH&&(this.data.substr(0,1),this._constructedStringLength=0)},util$5.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},util$5.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},util$5.ByteStringBuffer.prototype.putByte=function(tQ){return this.putBytes(String.fromCharCode(tQ))},util$5.ByteStringBuffer.prototype.fillWithByte=function(tQ,eQ){tQ=String.fromCharCode(tQ);for(var AQ=this.data;eQ>0;)1&eQ&&(AQ+=tQ),(eQ>>>=1)>0&&(tQ+=tQ);return this.data=AQ,this._optimizeConstructedString(eQ),this},util$5.ByteStringBuffer.prototype.putBytes=function(tQ){return this.data+=tQ,this._optimizeConstructedString(tQ.length),this},util$5.ByteStringBuffer.prototype.putString=function(tQ){return this.putBytes(util$5.encodeUtf8(tQ))},util$5.ByteStringBuffer.prototype.putInt16=function(tQ){return this.putBytes(String.fromCharCode(tQ>>8&255)+String.fromCharCode(255&tQ))},util$5.ByteStringBuffer.prototype.putInt24=function(tQ){return this.putBytes(String.fromCharCode(tQ>>16&255)+String.fromCharCode(tQ>>8&255)+String.fromCharCode(255&tQ))},util$5.ByteStringBuffer.prototype.putInt32=function(tQ){return this.putBytes(String.fromCharCode(tQ>>24&255)+String.fromCharCode(tQ>>16&255)+String.fromCharCode(tQ>>8&255)+String.fromCharCode(255&tQ))},util$5.ByteStringBuffer.prototype.putInt16Le=function(tQ){return this.putBytes(String.fromCharCode(255&tQ)+String.fromCharCode(tQ>>8&255))},util$5.ByteStringBuffer.prototype.putInt24Le=function(tQ){return this.putBytes(String.fromCharCode(255&tQ)+String.fromCharCode(tQ>>8&255)+String.fromCharCode(tQ>>16&255))},util$5.ByteStringBuffer.prototype.putInt32Le=function(tQ){return this.putBytes(String.fromCharCode(255&tQ)+String.fromCharCode(tQ>>8&255)+String.fromCharCode(tQ>>16&255)+String.fromCharCode(tQ>>24&255))},util$5.ByteStringBuffer.prototype.putInt=function(tQ,eQ){_checkBitsParam(eQ);var AQ="";do eQ-=8,AQ+=String.fromCharCode(tQ>>eQ&255);while(eQ>0);return this.putBytes(AQ)},util$5.ByteStringBuffer.prototype.putSignedInt=function(tQ,eQ){return tQ<0&&(tQ+=2<<eQ-1),this.putInt(tQ,eQ)},util$5.ByteStringBuffer.prototype.putBuffer=function(tQ){return this.putBytes(tQ.getBytes())},util$5.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},util$5.ByteStringBuffer.prototype.getInt16=function(){var tQ=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,tQ},util$5.ByteStringBuffer.prototype.getInt24=function(){var tQ=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,tQ},util$5.ByteStringBuffer.prototype.getInt32=function(){var tQ=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,tQ},util$5.ByteStringBuffer.prototype.getInt16Le=function(){var tQ=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,tQ},util$5.ByteStringBuffer.prototype.getInt24Le=function(){var tQ=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,tQ},util$5.ByteStringBuffer.prototype.getInt32Le=function(){var tQ=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,tQ},util$5.ByteStringBuffer.prototype.getInt=function(tQ){_checkBitsParam(tQ);var eQ=0;do eQ=(eQ<<8)+this.data.charCodeAt(this.read++),tQ-=8;while(tQ>0);return eQ},util$5.ByteStringBuffer.prototype.getSignedInt=function(tQ){var eQ=this.getInt(tQ),AQ=2<<tQ-2;return eQ>=AQ&&(eQ-=AQ<<1),eQ},util$5.ByteStringBuffer.prototype.getBytes=function(tQ){var eQ;return tQ?(tQ=Math.min(this.length(),tQ),eQ=this.data.slice(this.read,this.read+tQ),this.read+=tQ):tQ===0?eQ="":(eQ=this.read===0?this.data:this.data.slice(this.read),this.clear()),eQ},util$5.ByteStringBuffer.prototype.bytes=function(tQ){return tQ===void 0?this.data.slice(this.read):this.data.slice(this.read,this.read+tQ)},util$5.ByteStringBuffer.prototype.at=function(tQ){return this.data.charCodeAt(this.read+tQ)},util$5.ByteStringBuffer.prototype.setAt=function(tQ,eQ){return this.data=this.data.substr(0,this.read+tQ)+String.fromCharCode(eQ)+this.data.substr(this.read+tQ+1),this},util$5.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},util$5.ByteStringBuffer.prototype.copy=function(){var tQ=util$5.createBuffer(this.data);return tQ.read=this.read,tQ},util$5.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},util$5.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},util$5.ByteStringBuffer.prototype.truncate=function(tQ){var eQ=Math.max(0,this.length()-tQ);return this.data=this.data.substr(this.read,eQ),this.read=0,this},util$5.ByteStringBuffer.prototype.toHex=function(){for(var tQ="",eQ=this.read;eQ<this.data.length;++eQ){var AQ=this.data.charCodeAt(eQ);AQ<16&&(tQ+="0"),tQ+=AQ.toString(16)}return tQ},util$5.ByteStringBuffer.prototype.toString=function(){return util$5.decodeUtf8(this.bytes())},util$5.DataBuffer=DataBuffer,util$5.DataBuffer.prototype.length=function(){return this.write-this.read},util$5.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},util$5.DataBuffer.prototype.accommodate=function(tQ,eQ){if(this.length()>=tQ)return this;eQ=Math.max(eQ||this.growSize,tQ);var AQ=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),iQ=new Uint8Array(this.length()+eQ);return iQ.set(AQ),this.data=new DataView(iQ.buffer),this},util$5.DataBuffer.prototype.putByte=function(tQ){return this.accommodate(1),this.data.setUint8(this.write++,tQ),this},util$5.DataBuffer.prototype.fillWithByte=function(tQ,eQ){this.accommodate(eQ);for(var AQ=0;AQ<eQ;++AQ)this.data.setUint8(tQ);return this},util$5.DataBuffer.prototype.putBytes=function(tQ,eQ){if(util$5.isArrayBufferView(tQ)){var AQ=(iQ=new Uint8Array(tQ.buffer,tQ.byteOffset,tQ.byteLength)).byteLength-iQ.byteOffset;return this.accommodate(AQ),new Uint8Array(this.data.buffer,this.write).set(iQ),this.write+=AQ,this}if(util$5.isArrayBuffer(tQ)){var iQ=new Uint8Array(tQ);return this.accommodate(iQ.byteLength),new Uint8Array(this.data.buffer).set(iQ,this.write),this.write+=iQ.byteLength,this}if(tQ instanceof util$5.DataBuffer||typeof tQ=="object"&&typeof tQ.read=="number"&&typeof tQ.write=="number"&&util$5.isArrayBufferView(tQ.data))return iQ=new Uint8Array(tQ.data.byteLength,tQ.read,tQ.length()),this.accommodate(iQ.byteLength),new Uint8Array(tQ.data.byteLength,this.write).set(iQ),this.write+=iQ.byteLength,this;if(tQ instanceof util$5.ByteStringBuffer&&(tQ=tQ.data,eQ="binary"),eQ=eQ||"binary",typeof tQ=="string"){var oQ;if(eQ==="hex")return this.accommodate(Math.ceil(tQ.length/2)),oQ=new Uint8Array(this.data.buffer,this.write),this.write+=util$5.binary.hex.decode(tQ,oQ,this.write),this;if(eQ==="base64")return this.accommodate(3*Math.ceil(tQ.length/4)),oQ=new Uint8Array(this.data.buffer,this.write),this.write+=util$5.binary.base64.decode(tQ,oQ,this.write),this;if(eQ==="utf8"&&(tQ=util$5.encodeUtf8(tQ),eQ="binary"),eQ==="binary"||eQ==="raw")return this.accommodate(tQ.length),oQ=new Uint8Array(this.data.buffer,this.write),this.write+=util$5.binary.raw.decode(oQ),this;if(eQ==="utf16")return this.accommodate(2*tQ.length),oQ=new Uint16Array(this.data.buffer,this.write),this.write+=util$5.text.utf16.encode(oQ),this;throw new Error("Invalid encoding: "+eQ)}throw Error("Invalid parameter: "+tQ)},util$5.DataBuffer.prototype.putBuffer=function(tQ){return this.putBytes(tQ),tQ.clear(),this},util$5.DataBuffer.prototype.putString=function(tQ){return this.putBytes(tQ,"utf16")},util$5.DataBuffer.prototype.putInt16=function(tQ){return this.accommodate(2),this.data.setInt16(this.write,tQ),this.write+=2,this},util$5.DataBuffer.prototype.putInt24=function(tQ){return this.accommodate(3),this.data.setInt16(this.write,tQ>>8&65535),this.data.setInt8(this.write,tQ>>16&255),this.write+=3,this},util$5.DataBuffer.prototype.putInt32=function(tQ){return this.accommodate(4),this.data.setInt32(this.write,tQ),this.write+=4,this},util$5.DataBuffer.prototype.putInt16Le=function(tQ){return this.accommodate(2),this.data.setInt16(this.write,tQ,!0),this.write+=2,this},util$5.DataBuffer.prototype.putInt24Le=function(tQ){return this.accommodate(3),this.data.setInt8(this.write,tQ>>16&255),this.data.setInt16(this.write,tQ>>8&65535,!0),this.write+=3,this},util$5.DataBuffer.prototype.putInt32Le=function(tQ){return this.accommodate(4),this.data.setInt32(this.write,tQ,!0),this.write+=4,this},util$5.DataBuffer.prototype.putInt=function(tQ,eQ){_checkBitsParam(eQ),this.accommodate(eQ/8);do eQ-=8,this.data.setInt8(this.write++,tQ>>eQ&255);while(eQ>0);return this},util$5.DataBuffer.prototype.putSignedInt=function(tQ,eQ){return _checkBitsParam(eQ),this.accommodate(eQ/8),tQ<0&&(tQ+=2<<eQ-1),this.putInt(tQ,eQ)},util$5.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},util$5.DataBuffer.prototype.getInt16=function(){var tQ=this.data.getInt16(this.read);return this.read+=2,tQ},util$5.DataBuffer.prototype.getInt24=function(){var tQ=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,tQ},util$5.DataBuffer.prototype.getInt32=function(){var tQ=this.data.getInt32(this.read);return this.read+=4,tQ},util$5.DataBuffer.prototype.getInt16Le=function(){var tQ=this.data.getInt16(this.read,!0);return this.read+=2,tQ},util$5.DataBuffer.prototype.getInt24Le=function(){var tQ=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,tQ},util$5.DataBuffer.prototype.getInt32Le=function(){var tQ=this.data.getInt32(this.read,!0);return this.read+=4,tQ},util$5.DataBuffer.prototype.getInt=function(tQ){_checkBitsParam(tQ);var eQ=0;do eQ=(eQ<<8)+this.data.getInt8(this.read++),tQ-=8;while(tQ>0);return eQ},util$5.DataBuffer.prototype.getSignedInt=function(tQ){var eQ=this.getInt(tQ),AQ=2<<tQ-2;return eQ>=AQ&&(eQ-=AQ<<1),eQ},util$5.DataBuffer.prototype.getBytes=function(tQ){var eQ;return tQ?(tQ=Math.min(this.length(),tQ),eQ=this.data.slice(this.read,this.read+tQ),this.read+=tQ):tQ===0?eQ="":(eQ=this.read===0?this.data:this.data.slice(this.read),this.clear()),eQ},util$5.DataBuffer.prototype.bytes=function(tQ){return tQ===void 0?this.data.slice(this.read):this.data.slice(this.read,this.read+tQ)},util$5.DataBuffer.prototype.at=function(tQ){return this.data.getUint8(this.read+tQ)},util$5.DataBuffer.prototype.setAt=function(tQ,eQ){return this.data.setUint8(tQ,eQ),this},util$5.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},util$5.DataBuffer.prototype.copy=function(){return new util$5.DataBuffer(this)},util$5.DataBuffer.prototype.compact=function(){if(this.read>0){var tQ=new Uint8Array(this.data.buffer,this.read),eQ=new Uint8Array(tQ.byteLength);eQ.set(tQ),this.data=new DataView(eQ),this.write-=this.read,this.read=0}return this},util$5.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},util$5.DataBuffer.prototype.truncate=function(tQ){return this.write=Math.max(0,this.length()-tQ),this.read=Math.min(this.read,this.write),this},util$5.DataBuffer.prototype.toHex=function(){for(var tQ="",eQ=this.read;eQ<this.data.byteLength;++eQ){var AQ=this.data.getUint8(eQ);AQ<16&&(tQ+="0"),tQ+=AQ.toString(16)}return tQ},util$5.DataBuffer.prototype.toString=function(tQ){var eQ=new Uint8Array(this.data,this.read,this.length());if((tQ=tQ||"utf8")==="binary"||tQ==="raw")return util$5.binary.raw.encode(eQ);if(tQ==="hex")return util$5.binary.hex.encode(eQ);if(tQ==="base64")return util$5.binary.base64.encode(eQ);if(tQ==="utf8")return util$5.text.utf8.decode(eQ);if(tQ==="utf16")return util$5.text.utf16.decode(eQ);throw new Error("Invalid encoding: "+tQ)},util$5.createBuffer=function(tQ,eQ){return eQ=eQ||"raw",tQ!==void 0&&eQ==="utf8"&&(tQ=util$5.encodeUtf8(tQ)),new util$5.ByteBuffer(tQ)},util$5.fillString=function(tQ,eQ){for(var AQ="";eQ>0;)1&eQ&&(AQ+=tQ),(eQ>>>=1)>0&&(tQ+=tQ);return AQ},util$5.xorBytes=function(tQ,eQ,AQ){for(var iQ="",oQ="",rQ="",nQ=0,sQ=0;AQ>0;--AQ,++nQ)oQ=tQ.charCodeAt(nQ)^eQ.charCodeAt(nQ),sQ>=10&&(iQ+=rQ,rQ="",sQ=0),rQ+=String.fromCharCode(oQ),++sQ;return iQ+=rQ},util$5.hexToBytes=function(tQ){var eQ="",AQ=0;for(!0&tQ.length&&(AQ=1,eQ+=String.fromCharCode(parseInt(tQ[0],16)));AQ<tQ.length;AQ+=2)eQ+=String.fromCharCode(parseInt(tQ.substr(AQ,2),16));return eQ},util$5.bytesToHex=function(tQ){return util$5.createBuffer(tQ).toHex()},util$5.int32ToBytes=function(tQ){return String.fromCharCode(tQ>>24&255)+String.fromCharCode(tQ>>16&255)+String.fromCharCode(tQ>>8&255)+String.fromCharCode(255&tQ)};var _base64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_base64Idx=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],_base58="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";util$5.encode64=function(tQ,eQ){for(var AQ,iQ,oQ,rQ="",nQ="",sQ=0;sQ<tQ.length;)AQ=tQ.charCodeAt(sQ++),iQ=tQ.charCodeAt(sQ++),oQ=tQ.charCodeAt(sQ++),rQ+=_base64.charAt(AQ>>2),rQ+=_base64.charAt((3&AQ)<<4|iQ>>4),isNaN(iQ)?rQ+="==":(rQ+=_base64.charAt((15&iQ)<<2|oQ>>6),rQ+=isNaN(oQ)?"=":_base64.charAt(63&oQ)),eQ&&rQ.length>eQ&&(nQ+=rQ.substr(0,eQ)+`\r
`,rQ=rQ.substr(eQ));return nQ+=rQ},util$5.decode64=function(tQ){tQ=tQ.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var eQ,AQ,iQ,oQ,rQ="",nQ=0;nQ<tQ.length;)eQ=_base64Idx[tQ.charCodeAt(nQ++)-43],AQ=_base64Idx[tQ.charCodeAt(nQ++)-43],iQ=_base64Idx[tQ.charCodeAt(nQ++)-43],oQ=_base64Idx[tQ.charCodeAt(nQ++)-43],rQ+=String.fromCharCode(eQ<<2|AQ>>4),iQ!==64&&(rQ+=String.fromCharCode((15&AQ)<<4|iQ>>2),oQ!==64&&(rQ+=String.fromCharCode((3&iQ)<<6|oQ)));return rQ},util$5.encodeUtf8=function(tQ){return unescape(encodeURIComponent(tQ))},util$5.decodeUtf8=function(tQ){return decodeURIComponent(escape(tQ))},util$5.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:baseN.encode,decode:baseN.decode}},util$5.binary.raw.encode=function(tQ){return String.fromCharCode.apply(null,tQ)},util$5.binary.raw.decode=function(tQ,eQ,AQ){var iQ=eQ;iQ||(iQ=new Uint8Array(tQ.length));for(var oQ=AQ=AQ||0,rQ=0;rQ<tQ.length;++rQ)iQ[oQ++]=tQ.charCodeAt(rQ);return eQ?oQ-AQ:iQ},util$5.binary.hex.encode=util$5.bytesToHex,util$5.binary.hex.decode=function(tQ,eQ,AQ){var iQ=eQ;iQ||(iQ=new Uint8Array(Math.ceil(tQ.length/2)));var oQ=0,rQ=AQ=AQ||0;for(1&tQ.length&&(oQ=1,iQ[rQ++]=parseInt(tQ[0],16));oQ<tQ.length;oQ+=2)iQ[rQ++]=parseInt(tQ.substr(oQ,2),16);return eQ?rQ-AQ:iQ},util$5.binary.base64.encode=function(tQ,eQ){for(var AQ,iQ,oQ,rQ="",nQ="",sQ=0;sQ<tQ.byteLength;)AQ=tQ[sQ++],iQ=tQ[sQ++],oQ=tQ[sQ++],rQ+=_base64.charAt(AQ>>2),rQ+=_base64.charAt((3&AQ)<<4|iQ>>4),isNaN(iQ)?rQ+="==":(rQ+=_base64.charAt((15&iQ)<<2|oQ>>6),rQ+=isNaN(oQ)?"=":_base64.charAt(63&oQ)),eQ&&rQ.length>eQ&&(nQ+=rQ.substr(0,eQ)+`\r
`,rQ=rQ.substr(eQ));return nQ+=rQ},util$5.binary.base64.decode=function(tQ,eQ,AQ){var iQ,oQ,rQ,nQ,sQ=eQ;sQ||(sQ=new Uint8Array(3*Math.ceil(tQ.length/4))),tQ=tQ.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var aQ=0,cQ=AQ=AQ||0;aQ<tQ.length;)iQ=_base64Idx[tQ.charCodeAt(aQ++)-43],oQ=_base64Idx[tQ.charCodeAt(aQ++)-43],rQ=_base64Idx[tQ.charCodeAt(aQ++)-43],nQ=_base64Idx[tQ.charCodeAt(aQ++)-43],sQ[cQ++]=iQ<<2|oQ>>4,rQ!==64&&(sQ[cQ++]=(15&oQ)<<4|rQ>>2,nQ!==64&&(sQ[cQ++]=(3&rQ)<<6|nQ));return eQ?cQ-AQ:sQ.subarray(0,cQ)},util$5.binary.base58.encode=function(tQ,eQ){return util$5.binary.baseN.encode(tQ,_base58,eQ)},util$5.binary.base58.decode=function(tQ,eQ){return util$5.binary.baseN.decode(tQ,_base58,eQ)},util$5.text={utf8:{},utf16:{}},util$5.text.utf8.encode=function(tQ,eQ,AQ){tQ=util$5.encodeUtf8(tQ);var iQ=eQ;iQ||(iQ=new Uint8Array(tQ.length));for(var oQ=AQ=AQ||0,rQ=0;rQ<tQ.length;++rQ)iQ[oQ++]=tQ.charCodeAt(rQ);return eQ?oQ-AQ:iQ},util$5.text.utf8.decode=function(tQ){return util$5.decodeUtf8(String.fromCharCode.apply(null,tQ))},util$5.text.utf16.encode=function(tQ,eQ,AQ){var iQ=eQ;iQ||(iQ=new Uint8Array(2*tQ.length));for(var oQ=new Uint16Array(iQ.buffer),rQ=AQ=AQ||0,nQ=AQ,sQ=0;sQ<tQ.length;++sQ)oQ[nQ++]=tQ.charCodeAt(sQ),rQ+=2;return eQ?rQ-AQ:iQ},util$5.text.utf16.decode=function(tQ){return String.fromCharCode.apply(null,new Uint16Array(tQ.buffer))},util$5.deflate=function(tQ,eQ,AQ){if(eQ=util$5.decode64(tQ.deflate(util$5.encode64(eQ)).rval),AQ){var iQ=2;32&eQ.charCodeAt(1)&&(iQ=6),eQ=eQ.substring(iQ,eQ.length-4)}return eQ},util$5.inflate=function(tQ,eQ,AQ){var iQ=tQ.inflate(util$5.encode64(eQ)).rval;return iQ===null?null:util$5.decode64(iQ)};var _setStorageObject=function(tQ,eQ,AQ){if(!tQ)throw new Error("WebStorage not available.");var iQ;if(AQ===null?iQ=tQ.removeItem(eQ):(AQ=util$5.encode64(JSON.stringify(AQ)),iQ=tQ.setItem(eQ,AQ)),iQ!==void 0&&iQ.rval!==!0){var oQ=new Error(iQ.error.message);throw oQ.id=iQ.error.id,oQ.name=iQ.error.name,oQ}},_getStorageObject=function(tQ,eQ){if(!tQ)throw new Error("WebStorage not available.");var AQ=tQ.getItem(eQ);if(tQ.init)if(AQ.rval===null){if(AQ.error){var iQ=new Error(AQ.error.message);throw iQ.id=AQ.error.id,iQ.name=AQ.error.name,iQ}AQ=null}else AQ=AQ.rval;return AQ!==null&&(AQ=JSON.parse(util$5.decode64(AQ))),AQ},_setItem=function(tQ,eQ,AQ,iQ){var oQ=_getStorageObject(tQ,eQ);oQ===null&&(oQ={}),oQ[AQ]=iQ,_setStorageObject(tQ,eQ,oQ)},_getItem=function(tQ,eQ,AQ){var iQ=_getStorageObject(tQ,eQ);return iQ!==null&&(iQ=AQ in iQ?iQ[AQ]:null),iQ},_removeItem=function(tQ,eQ,AQ){var iQ=_getStorageObject(tQ,eQ);if(iQ!==null&&AQ in iQ){delete iQ[AQ];var oQ=!0;for(var rQ in iQ){oQ=!1;break}oQ&&(iQ=null),_setStorageObject(tQ,eQ,iQ)}},_clearItems=function(tQ,eQ){_setStorageObject(tQ,eQ,null)},_callStorageFunction=function(tQ,eQ,AQ){var iQ,oQ=null;AQ===void 0&&(AQ=["web","flash"]);var rQ=!1,nQ=null;for(var sQ in AQ){iQ=AQ[sQ];try{if(iQ==="flash"||iQ==="both"){if(eQ[0]===null)throw new Error("Flash local storage not available.");oQ=tQ.apply(this,eQ),rQ=iQ==="flash"}iQ!=="web"&&iQ!=="both"||(eQ[0]=localStorage,oQ=tQ.apply(this,eQ),rQ=!0)}catch(aQ){nQ=aQ}if(rQ)break}if(!rQ)throw nQ;return oQ};util$5.setItem=function(tQ,eQ,AQ,iQ,oQ){_callStorageFunction(_setItem,arguments,oQ)},util$5.getItem=function(tQ,eQ,AQ,iQ){return _callStorageFunction(_getItem,arguments,iQ)},util$5.removeItem=function(tQ,eQ,AQ,iQ){_callStorageFunction(_removeItem,arguments,iQ)},util$5.clearItems=function(tQ,eQ,AQ){_callStorageFunction(_clearItems,arguments,AQ)},util$5.isEmpty=function(tQ){for(var eQ in tQ)if(tQ.hasOwnProperty(eQ))return!1;return!0},util$5.format=function(tQ){for(var eQ,AQ,iQ=/%./g,oQ=0,rQ=[],nQ=0;eQ=iQ.exec(tQ);){(AQ=tQ.substring(nQ,iQ.lastIndex-2)).length>0&&rQ.push(AQ),nQ=iQ.lastIndex;var sQ=eQ[0][1];switch(sQ){case"s":case"o":oQ<arguments.length?rQ.push(arguments[1+oQ++]):rQ.push("<?>");break;case"%":rQ.push("%");break;default:rQ.push("<%"+sQ+"?>")}}return rQ.push(tQ.substring(nQ)),rQ.join("")},util$5.formatNumber=function(tQ,eQ,AQ,iQ){var oQ=tQ,rQ=isNaN(eQ=Math.abs(eQ))?2:eQ,nQ=AQ===void 0?",":AQ,sQ=iQ===void 0?".":iQ,aQ=oQ<0?"-":"",cQ=parseInt(oQ=Math.abs(+oQ||0).toFixed(rQ),10)+"",gQ=cQ.length>3?cQ.length%3:0;return aQ+(gQ?cQ.substr(0,gQ)+sQ:"")+cQ.substr(gQ).replace(/(\d{3})(?=\d)/g,"$1"+sQ)+(rQ?nQ+Math.abs(oQ-cQ).toFixed(rQ).slice(2):"")},util$5.formatSize=function(tQ){return tQ=tQ>=1073741824?util$5.formatNumber(tQ/1073741824,2,".","")+" GiB":tQ>=1048576?util$5.formatNumber(tQ/1048576,2,".","")+" MiB":tQ>=1024?util$5.formatNumber(tQ/1024,0)+" KiB":util$5.formatNumber(tQ,0)+" bytes"},util$5.bytesFromIP=function(tQ){return tQ.indexOf(".")!==-1?util$5.bytesFromIPv4(tQ):tQ.indexOf(":")!==-1?util$5.bytesFromIPv6(tQ):null},util$5.bytesFromIPv4=function(tQ){if((tQ=tQ.split(".")).length!==4)return null;for(var eQ=util$5.createBuffer(),AQ=0;AQ<tQ.length;++AQ){var iQ=parseInt(tQ[AQ],10);if(isNaN(iQ))return null;eQ.putByte(iQ)}return eQ.getBytes()},util$5.bytesFromIPv6=function(tQ){for(var eQ=0,AQ=2*(8-(tQ=tQ.split(":").filter(function(nQ){return nQ.length===0&&++eQ,!0})).length+eQ),iQ=util$5.createBuffer(),oQ=0;oQ<8;++oQ)if(tQ[oQ]&&tQ[oQ].length!==0){var rQ=util$5.hexToBytes(tQ[oQ]);rQ.length<2&&iQ.putByte(0),iQ.putBytes(rQ)}else iQ.fillWithByte(0,AQ),AQ=0;return iQ.getBytes()},util$5.bytesToIP=function(tQ){return tQ.length===4?util$5.bytesToIPv4(tQ):tQ.length===16?util$5.bytesToIPv6(tQ):null},util$5.bytesToIPv4=function(tQ){if(tQ.length!==4)return null;for(var eQ=[],AQ=0;AQ<tQ.length;++AQ)eQ.push(tQ.charCodeAt(AQ));return eQ.join(".")},util$5.bytesToIPv6=function(tQ){if(tQ.length!==16)return null;for(var eQ=[],AQ=[],iQ=0,oQ=0;oQ<tQ.length;oQ+=2){for(var rQ=util$5.bytesToHex(tQ[oQ]+tQ[oQ+1]);rQ[0]==="0"&&rQ!=="0";)rQ=rQ.substr(1);if(rQ==="0"){var nQ=AQ[AQ.length-1],sQ=eQ.length;nQ&&sQ===nQ.end+1?(nQ.end=sQ,nQ.end-nQ.start>AQ[iQ].end-AQ[iQ].start&&(iQ=AQ.length-1)):AQ.push({start:sQ,end:sQ})}eQ.push(rQ)}if(AQ.length>0){var aQ=AQ[iQ];aQ.end-aQ.start>0&&(eQ.splice(aQ.start,aQ.end-aQ.start+1,""),aQ.start===0&&eQ.unshift(""),aQ.end===7&&eQ.push(""))}return eQ.join(":")},util$5.estimateCores=function(tQ,eQ){if(typeof tQ=="function"&&(eQ=tQ,tQ={}),tQ=tQ||{},"cores"in util$5&&!tQ.update)return eQ(null,util$5.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return util$5.cores=navigator.hardwareConcurrency,eQ(null,util$5.cores);if(typeof Worker>"u")return util$5.cores=1,eQ(null,util$5.cores);if(typeof Blob>"u")return util$5.cores=2,eQ(null,util$5.cores);var AQ=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(iQ){var oQ=Date.now(),rQ=oQ+4;self.postMessage({st:oQ,et:rQ})})}.toString(),")()"],{type:"application/javascript"}));(function iQ(oQ,rQ,nQ){if(rQ===0){var sQ=Math.floor(oQ.reduce(function(aQ,cQ){return aQ+cQ},0)/oQ.length);return util$5.cores=Math.max(1,sQ),URL.revokeObjectURL(AQ),eQ(null,util$5.cores)}(function(aQ,cQ){for(var gQ=[],IQ=[],EQ=0;EQ<aQ;++EQ){var CQ=new Worker(AQ);CQ.addEventListener("message",function(dQ){if(IQ.push(dQ.data),IQ.length===aQ){for(var lQ=0;lQ<aQ;++lQ)gQ[lQ].terminate();cQ(null,IQ)}}),gQ.push(CQ)}for(EQ=0;EQ<aQ;++EQ)gQ[EQ].postMessage(EQ)})(nQ,function(aQ,cQ){oQ.push(function(gQ,IQ){for(var EQ=[],CQ=0;CQ<gQ;++CQ)for(var dQ=IQ[CQ],lQ=EQ[CQ]=[],uQ=0;uQ<gQ;++uQ)if(CQ!==uQ){var hQ=IQ[uQ];(dQ.st>hQ.st&&dQ.st<hQ.et||hQ.st>dQ.st&&hQ.st<dQ.et)&&lQ.push(uQ)}return EQ.reduce(function(BQ,QQ){return Math.max(BQ,QQ.length)},0)}(nQ,cQ)),iQ(oQ,rQ-1,nQ)})})([],5,16)};var utilExports=util$7.exports,util$6=getDefaultExportFromCjs(utilExports),forge$6=forge$8,cipher=forge$6.cipher=forge$6.cipher||{};forge$6.cipher.algorithms=forge$6.cipher.algorithms||{},forge$6.cipher.createCipher=function(tQ,eQ){var AQ=tQ;if(typeof AQ=="string"&&(AQ=forge$6.cipher.getAlgorithm(AQ))&&(AQ=AQ()),!AQ)throw new Error("Unsupported algorithm: "+tQ);return new forge$6.cipher.BlockCipher({algorithm:AQ,key:eQ,decrypt:!1})},forge$6.cipher.createDecipher=function(tQ,eQ){var AQ=tQ;if(typeof AQ=="string"&&(AQ=forge$6.cipher.getAlgorithm(AQ))&&(AQ=AQ()),!AQ)throw new Error("Unsupported algorithm: "+tQ);return new forge$6.cipher.BlockCipher({algorithm:AQ,key:eQ,decrypt:!0})},forge$6.cipher.registerAlgorithm=function(tQ,eQ){tQ=tQ.toUpperCase(),forge$6.cipher.algorithms[tQ]=eQ},forge$6.cipher.getAlgorithm=function(tQ){return(tQ=tQ.toUpperCase())in forge$6.cipher.algorithms?forge$6.cipher.algorithms[tQ]:null};var BlockCipher=forge$6.cipher.BlockCipher=function(tQ){this.algorithm=tQ.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=tQ.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=tQ.decrypt,this.algorithm.initialize(tQ)};BlockCipher.prototype.start=function(tQ){tQ=tQ||{};var eQ={};for(var AQ in tQ)eQ[AQ]=tQ[AQ];eQ.decrypt=this._decrypt,this._finish=!1,this._input=forge$6.util.createBuffer(),this.output=tQ.output||forge$6.util.createBuffer(),this.mode.start(eQ)},BlockCipher.prototype.update=function(tQ){for(tQ&&this._input.putBuffer(tQ);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},BlockCipher.prototype.finish=function(tQ){!tQ||this.mode.name!=="ECB"&&this.mode.name!=="CBC"||(this.mode.pad=function(AQ){return tQ(this.blockSize,AQ,!1)},this.mode.unpad=function(AQ){return tQ(this.blockSize,AQ,!0)});var eQ={};return eQ.decrypt=this._decrypt,eQ.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,eQ))&&(this._finish=!0,this.update(),!(this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,eQ))&&!(this.mode.afterFinish&&!this.mode.afterFinish(this.output,eQ)))};var forgeCipher=getDefaultExportFromCjs(cipher),forge$5=forge$8;forge$5.md=forge$5.md||{},forge$5.md.algorithms=forge$5.md.algorithms||{};var forge$4=forge$8,sha256=forge$4.sha256=forge$4.sha256||{};forge$4.md.sha256=forge$4.md.algorithms.sha256=sha256,sha256.create=function(){_initialized||_init();var tQ=null,eQ=forge$4.util.createBuffer(),AQ=new Array(64),iQ={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){iQ.messageLength=0,iQ.fullMessageLength=iQ.messageLength64=[];for(var oQ=iQ.messageLengthSize/4,rQ=0;rQ<oQ;++rQ)iQ.fullMessageLength.push(0);return eQ=forge$4.util.createBuffer(),tQ={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},iQ}};return iQ.start(),iQ.update=function(oQ,rQ){rQ==="utf8"&&(oQ=forge$4.util.encodeUtf8(oQ));var nQ=oQ.length;iQ.messageLength+=nQ,nQ=[nQ/4294967296>>>0,nQ>>>0];for(var sQ=iQ.fullMessageLength.length-1;sQ>=0;--sQ)iQ.fullMessageLength[sQ]+=nQ[1],nQ[1]=nQ[0]+(iQ.fullMessageLength[sQ]/4294967296>>>0),iQ.fullMessageLength[sQ]=iQ.fullMessageLength[sQ]>>>0,nQ[0]=nQ[1]/4294967296>>>0;return eQ.putBytes(oQ),_update(tQ,AQ,eQ),(eQ.read>2048||eQ.length()===0)&&eQ.compact(),iQ},iQ.digest=function(){var oQ=forge$4.util.createBuffer();oQ.putBytes(eQ.bytes());var rQ,nQ=iQ.fullMessageLength[iQ.fullMessageLength.length-1]+iQ.messageLengthSize&iQ.blockLength-1;oQ.putBytes(_padding.substr(0,iQ.blockLength-nQ));for(var sQ=8*iQ.fullMessageLength[0],aQ=0;aQ<iQ.fullMessageLength.length-1;++aQ)sQ+=(rQ=8*iQ.fullMessageLength[aQ+1])/4294967296>>>0,oQ.putInt32(sQ>>>0),sQ=rQ>>>0;oQ.putInt32(sQ);var cQ={h0:tQ.h0,h1:tQ.h1,h2:tQ.h2,h3:tQ.h3,h4:tQ.h4,h5:tQ.h5,h6:tQ.h6,h7:tQ.h7};_update(cQ,AQ,oQ);var gQ=forge$4.util.createBuffer();return gQ.putInt32(cQ.h0),gQ.putInt32(cQ.h1),gQ.putInt32(cQ.h2),gQ.putInt32(cQ.h3),gQ.putInt32(cQ.h4),gQ.putInt32(cQ.h5),gQ.putInt32(cQ.h6),gQ.putInt32(cQ.h7),gQ},iQ};var _padding=null,_initialized=!1,_k=null;function _init(){_padding=String.fromCharCode(128),_padding+=forge$4.util.fillString(String.fromCharCode(0),64),_k=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],_initialized=!0}function _update(tQ,eQ,AQ){for(var iQ,oQ,rQ,nQ,sQ,aQ,cQ,gQ,IQ,EQ,CQ,dQ,lQ,uQ=AQ.length();uQ>=64;){for(sQ=0;sQ<16;++sQ)eQ[sQ]=AQ.getInt32();for(;sQ<64;++sQ)iQ=((iQ=eQ[sQ-2])>>>17|iQ<<15)^(iQ>>>19|iQ<<13)^iQ>>>10,oQ=((oQ=eQ[sQ-15])>>>7|oQ<<25)^(oQ>>>18|oQ<<14)^oQ>>>3,eQ[sQ]=iQ+eQ[sQ-7]+oQ+eQ[sQ-16]|0;for(aQ=tQ.h0,cQ=tQ.h1,gQ=tQ.h2,IQ=tQ.h3,EQ=tQ.h4,CQ=tQ.h5,dQ=tQ.h6,lQ=tQ.h7,sQ=0;sQ<64;++sQ)rQ=(aQ>>>2|aQ<<30)^(aQ>>>13|aQ<<19)^(aQ>>>22|aQ<<10),nQ=aQ&cQ|gQ&(aQ^cQ),iQ=lQ+((EQ>>>6|EQ<<26)^(EQ>>>11|EQ<<21)^(EQ>>>25|EQ<<7))+(dQ^EQ&(CQ^dQ))+_k[sQ]+eQ[sQ],lQ=dQ,dQ=CQ,CQ=EQ,EQ=IQ+iQ>>>0,IQ=gQ,gQ=cQ,cQ=aQ,aQ=iQ+(oQ=rQ+nQ)>>>0;tQ.h0=tQ.h0+aQ|0,tQ.h1=tQ.h1+cQ|0,tQ.h2=tQ.h2+gQ|0,tQ.h3=tQ.h3+IQ|0,tQ.h4=tQ.h4+EQ|0,tQ.h5=tQ.h5+CQ|0,tQ.h6=tQ.h6+dQ|0,tQ.h7=tQ.h7+lQ|0,uQ-=64}}var forge$3=forge$8,hmac=forge$3.hmac=forge$3.hmac||{};hmac.create=function(){var tQ=null,eQ=null,AQ=null,iQ=null,oQ={start:function(rQ,nQ){if(rQ!==null)if(typeof rQ=="string"){if(!((rQ=rQ.toLowerCase())in forge$3.md.algorithms))throw new Error('Unknown hash algorithm "'+rQ+'"');eQ=forge$3.md.algorithms[rQ].create()}else eQ=rQ;if(nQ===null)nQ=tQ;else{if(typeof nQ=="string")nQ=forge$3.util.createBuffer(nQ);else if(forge$3.util.isArray(nQ)){var sQ=nQ;nQ=forge$3.util.createBuffer();for(var aQ=0;aQ<sQ.length;++aQ)nQ.putByte(sQ[aQ])}var cQ=nQ.length();for(cQ>eQ.blockLength&&(eQ.start(),eQ.update(nQ.bytes()),nQ=eQ.digest()),AQ=forge$3.util.createBuffer(),iQ=forge$3.util.createBuffer(),cQ=nQ.length(),aQ=0;aQ<cQ;++aQ)sQ=nQ.at(aQ),AQ.putByte(54^sQ),iQ.putByte(92^sQ);if(cQ<eQ.blockLength)for(sQ=eQ.blockLength-cQ,aQ=0;aQ<sQ;++aQ)AQ.putByte(54),iQ.putByte(92);tQ=nQ,AQ=AQ.bytes(),iQ=iQ.bytes()}eQ.start(),eQ.update(AQ)},update:function(rQ){eQ.update(rQ)},getMac:function(){var rQ=eQ.digest().bytes();return eQ.start(),eQ.update(iQ),eQ.update(rQ),eQ.digest()}};return oQ.digest=oQ.getMac,oQ};var _nodeResolve_empty={},_nodeResolve_empty$1=Object.freeze({__proto__:null,default:_nodeResolve_empty}),require$$4=getAugmentedNamespace(_nodeResolve_empty$1),forge$2=forge$8,pkcs5=forge$2.pkcs5=forge$2.pkcs5||{},crypto$1;forge$2.util.isNodejs&&!forge$2.options.usePureJavaScript&&(crypto$1=require$$4);var pbkdf2=forge$2.pbkdf2=pkcs5.pbkdf2=function(tQ,eQ,AQ,iQ,oQ,rQ){if(typeof oQ=="function"&&(rQ=oQ,oQ=null),forge$2.util.isNodejs&&!forge$2.options.usePureJavaScript&&crypto$1.pbkdf2&&(oQ===null||typeof oQ!="object")&&(crypto$1.pbkdf2Sync.length>4||!oQ||oQ==="sha1"))return typeof oQ!="string"&&(oQ="sha1"),tQ=Buffer.from(tQ,"binary"),eQ=Buffer.from(eQ,"binary"),rQ?crypto$1.pbkdf2Sync.length===4?crypto$1.pbkdf2(tQ,eQ,AQ,iQ,function(QQ,fQ){if(QQ)return rQ(QQ);rQ(null,fQ.toString("binary"))}):crypto$1.pbkdf2(tQ,eQ,AQ,iQ,oQ,function(QQ,fQ){if(QQ)return rQ(QQ);rQ(null,fQ.toString("binary"))}):crypto$1.pbkdf2Sync.length===4?crypto$1.pbkdf2Sync(tQ,eQ,AQ,iQ).toString("binary"):crypto$1.pbkdf2Sync(tQ,eQ,AQ,iQ,oQ).toString("binary");if(oQ==null&&(oQ="sha1"),typeof oQ=="string"){if(!(oQ in forge$2.md.algorithms))throw new Error("Unknown hash algorithm: "+oQ);oQ=forge$2.md[oQ].create()}var nQ=oQ.digestLength;if(iQ>4294967295*nQ){var sQ=new Error("Derived key is too long.");if(rQ)return rQ(sQ);throw sQ}var aQ=Math.ceil(iQ/nQ),cQ=iQ-(aQ-1)*nQ,gQ=forge$2.hmac.create();gQ.start(oQ,tQ);var IQ,EQ,CQ,dQ="";if(!rQ){for(var lQ=1;lQ<=aQ;++lQ){gQ.start(null,null),gQ.update(eQ),gQ.update(forge$2.util.int32ToBytes(lQ)),IQ=CQ=gQ.digest().getBytes();for(var uQ=2;uQ<=AQ;++uQ)gQ.start(null,null),gQ.update(CQ),EQ=gQ.digest().getBytes(),IQ=forge$2.util.xorBytes(IQ,EQ,nQ),CQ=EQ;dQ+=lQ<aQ?IQ:IQ.substr(0,cQ)}return dQ}lQ=1;function hQ(){if(lQ>aQ)return rQ(null,dQ);gQ.start(null,null),gQ.update(eQ),gQ.update(forge$2.util.int32ToBytes(lQ)),IQ=CQ=gQ.digest().getBytes(),uQ=2,BQ()}function BQ(){if(uQ<=AQ)return gQ.start(null,null),gQ.update(CQ),EQ=gQ.digest().getBytes(),IQ=forge$2.util.xorBytes(IQ,EQ,nQ),CQ=EQ,++uQ,forge$2.util.setImmediate(BQ);dQ+=lQ<aQ?IQ:IQ.substr(0,cQ),++lQ,hQ()}hQ()},pkcs5$1=getDefaultExportFromCjs(pbkdf2),forge$1=forge$8;forge$1.cipher=forge$1.cipher||{};var modes=forge$1.cipher.modes=forge$1.cipher.modes||{};function transformIV(tQ,eQ){if(typeof tQ=="string"&&(tQ=forge$1.util.createBuffer(tQ)),forge$1.util.isArray(tQ)&&tQ.length>4){var AQ=tQ;tQ=forge$1.util.createBuffer();for(var iQ=0;iQ<AQ.length;++iQ)tQ.putByte(AQ[iQ])}if(tQ.length()<eQ)throw new Error("Invalid IV length; got "+tQ.length()+" bytes and expected "+eQ+" bytes.");if(!forge$1.util.isArray(tQ)){var oQ=[],rQ=eQ/4;for(iQ=0;iQ<rQ;++iQ)oQ.push(tQ.getInt32());tQ=oQ}return tQ}function inc32(tQ){tQ[tQ.length-1]=tQ[tQ.length-1]+1&4294967295}function from64To32(tQ){return[tQ/4294967296|0,4294967295&tQ]}modes.ecb=function(tQ){tQ=tQ||{},this.name="ECB",this.cipher=tQ.cipher,this.blockSize=tQ.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},modes.ecb.prototype.start=function(tQ){},modes.ecb.prototype.encrypt=function(tQ,eQ,AQ){if(tQ.length()<this.blockSize&&!(AQ&&tQ.length()>0))return!0;for(var iQ=0;iQ<this._ints;++iQ)this._inBlock[iQ]=tQ.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),iQ=0;iQ<this._ints;++iQ)eQ.putInt32(this._outBlock[iQ])},modes.ecb.prototype.decrypt=function(tQ,eQ,AQ){if(tQ.length()<this.blockSize&&!(AQ&&tQ.length()>0))return!0;for(var iQ=0;iQ<this._ints;++iQ)this._inBlock[iQ]=tQ.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),iQ=0;iQ<this._ints;++iQ)eQ.putInt32(this._outBlock[iQ])},modes.ecb.prototype.pad=function(tQ,eQ){var AQ=tQ.length()===this.blockSize?this.blockSize:this.blockSize-tQ.length();return tQ.fillWithByte(AQ,AQ),!0},modes.ecb.prototype.unpad=function(tQ,eQ){if(eQ.overflow>0)return!1;var AQ=tQ.length(),iQ=tQ.at(AQ-1);return!(iQ>this.blockSize<<2)&&(tQ.truncate(iQ),!0)},modes.cbc=function(tQ){tQ=tQ||{},this.name="CBC",this.cipher=tQ.cipher,this.blockSize=tQ.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},modes.cbc.prototype.start=function(tQ){if(tQ.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in tQ))throw new Error("Invalid IV parameter.");this._iv=transformIV(tQ.iv,this.blockSize),this._prev=this._iv.slice(0)}},modes.cbc.prototype.encrypt=function(tQ,eQ,AQ){if(tQ.length()<this.blockSize&&!(AQ&&tQ.length()>0))return!0;for(var iQ=0;iQ<this._ints;++iQ)this._inBlock[iQ]=this._prev[iQ]^tQ.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),iQ=0;iQ<this._ints;++iQ)eQ.putInt32(this._outBlock[iQ]);this._prev=this._outBlock},modes.cbc.prototype.decrypt=function(tQ,eQ,AQ){if(tQ.length()<this.blockSize&&!(AQ&&tQ.length()>0))return!0;for(var iQ=0;iQ<this._ints;++iQ)this._inBlock[iQ]=tQ.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),iQ=0;iQ<this._ints;++iQ)eQ.putInt32(this._prev[iQ]^this._outBlock[iQ]);this._prev=this._inBlock.slice(0)},modes.cbc.prototype.pad=function(tQ,eQ){var AQ=tQ.length()===this.blockSize?this.blockSize:this.blockSize-tQ.length();return tQ.fillWithByte(AQ,AQ),!0},modes.cbc.prototype.unpad=function(tQ,eQ){if(eQ.overflow>0)return!1;var AQ=tQ.length(),iQ=tQ.at(AQ-1);return!(iQ>this.blockSize<<2)&&(tQ.truncate(iQ),!0)},modes.cfb=function(tQ){tQ=tQ||{},this.name="CFB",this.cipher=tQ.cipher,this.blockSize=tQ.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=forge$1.util.createBuffer(),this._partialBytes=0},modes.cfb.prototype.start=function(tQ){if(!("iv"in tQ))throw new Error("Invalid IV parameter.");this._iv=transformIV(tQ.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},modes.cfb.prototype.encrypt=function(tQ,eQ,AQ){var iQ=tQ.length();if(iQ===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&iQ>=this.blockSize)for(var oQ=0;oQ<this._ints;++oQ)this._inBlock[oQ]=tQ.getInt32()^this._outBlock[oQ],eQ.putInt32(this._inBlock[oQ]);else{var rQ=(this.blockSize-iQ)%this.blockSize;for(rQ>0&&(rQ=this.blockSize-rQ),this._partialOutput.clear(),oQ=0;oQ<this._ints;++oQ)this._partialBlock[oQ]=tQ.getInt32()^this._outBlock[oQ],this._partialOutput.putInt32(this._partialBlock[oQ]);if(rQ>0)tQ.read-=this.blockSize;else for(oQ=0;oQ<this._ints;++oQ)this._inBlock[oQ]=this._partialBlock[oQ];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),rQ>0&&!AQ)return eQ.putBytes(this._partialOutput.getBytes(rQ-this._partialBytes)),this._partialBytes=rQ,!0;eQ.putBytes(this._partialOutput.getBytes(iQ-this._partialBytes)),this._partialBytes=0}},modes.cfb.prototype.decrypt=function(tQ,eQ,AQ){var iQ=tQ.length();if(iQ===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&iQ>=this.blockSize)for(var oQ=0;oQ<this._ints;++oQ)this._inBlock[oQ]=tQ.getInt32(),eQ.putInt32(this._inBlock[oQ]^this._outBlock[oQ]);else{var rQ=(this.blockSize-iQ)%this.blockSize;for(rQ>0&&(rQ=this.blockSize-rQ),this._partialOutput.clear(),oQ=0;oQ<this._ints;++oQ)this._partialBlock[oQ]=tQ.getInt32(),this._partialOutput.putInt32(this._partialBlock[oQ]^this._outBlock[oQ]);if(rQ>0)tQ.read-=this.blockSize;else for(oQ=0;oQ<this._ints;++oQ)this._inBlock[oQ]=this._partialBlock[oQ];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),rQ>0&&!AQ)return eQ.putBytes(this._partialOutput.getBytes(rQ-this._partialBytes)),this._partialBytes=rQ,!0;eQ.putBytes(this._partialOutput.getBytes(iQ-this._partialBytes)),this._partialBytes=0}},modes.ofb=function(tQ){tQ=tQ||{},this.name="OFB",this.cipher=tQ.cipher,this.blockSize=tQ.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=forge$1.util.createBuffer(),this._partialBytes=0},modes.ofb.prototype.start=function(tQ){if(!("iv"in tQ))throw new Error("Invalid IV parameter.");this._iv=transformIV(tQ.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},modes.ofb.prototype.encrypt=function(tQ,eQ,AQ){var iQ=tQ.length();if(tQ.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&iQ>=this.blockSize)for(var oQ=0;oQ<this._ints;++oQ)eQ.putInt32(tQ.getInt32()^this._outBlock[oQ]),this._inBlock[oQ]=this._outBlock[oQ];else{var rQ=(this.blockSize-iQ)%this.blockSize;for(rQ>0&&(rQ=this.blockSize-rQ),this._partialOutput.clear(),oQ=0;oQ<this._ints;++oQ)this._partialOutput.putInt32(tQ.getInt32()^this._outBlock[oQ]);if(rQ>0)tQ.read-=this.blockSize;else for(oQ=0;oQ<this._ints;++oQ)this._inBlock[oQ]=this._outBlock[oQ];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),rQ>0&&!AQ)return eQ.putBytes(this._partialOutput.getBytes(rQ-this._partialBytes)),this._partialBytes=rQ,!0;eQ.putBytes(this._partialOutput.getBytes(iQ-this._partialBytes)),this._partialBytes=0}},modes.ofb.prototype.decrypt=modes.ofb.prototype.encrypt,modes.ctr=function(tQ){tQ=tQ||{},this.name="CTR",this.cipher=tQ.cipher,this.blockSize=tQ.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=forge$1.util.createBuffer(),this._partialBytes=0},modes.ctr.prototype.start=function(tQ){if(!("iv"in tQ))throw new Error("Invalid IV parameter.");this._iv=transformIV(tQ.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},modes.ctr.prototype.encrypt=function(tQ,eQ,AQ){var iQ=tQ.length();if(iQ===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&iQ>=this.blockSize)for(var oQ=0;oQ<this._ints;++oQ)eQ.putInt32(tQ.getInt32()^this._outBlock[oQ]);else{var rQ=(this.blockSize-iQ)%this.blockSize;for(rQ>0&&(rQ=this.blockSize-rQ),this._partialOutput.clear(),oQ=0;oQ<this._ints;++oQ)this._partialOutput.putInt32(tQ.getInt32()^this._outBlock[oQ]);if(rQ>0&&(tQ.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),rQ>0&&!AQ)return eQ.putBytes(this._partialOutput.getBytes(rQ-this._partialBytes)),this._partialBytes=rQ,!0;eQ.putBytes(this._partialOutput.getBytes(iQ-this._partialBytes)),this._partialBytes=0}inc32(this._inBlock)},modes.ctr.prototype.decrypt=modes.ctr.prototype.encrypt,modes.gcm=function(tQ){tQ=tQ||{},this.name="GCM",this.cipher=tQ.cipher,this.blockSize=tQ.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=forge$1.util.createBuffer(),this._partialBytes=0,this._R=3774873600},modes.gcm.prototype.start=function(tQ){if(!("iv"in tQ))throw new Error("Invalid IV parameter.");var eQ,AQ=forge$1.util.createBuffer(tQ.iv);if(this._cipherLength=0,eQ="additionalData"in tQ?forge$1.util.createBuffer(tQ.additionalData):forge$1.util.createBuffer(),this._tagLength="tagLength"in tQ?tQ.tagLength:128,this._tag=null,tQ.decrypt&&(this._tag=forge$1.util.createBuffer(tQ.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var iQ=AQ.length();if(iQ===12)this._j0=[AQ.getInt32(),AQ.getInt32(),AQ.getInt32(),1];else{for(this._j0=[0,0,0,0];AQ.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[AQ.getInt32(),AQ.getInt32(),AQ.getInt32(),AQ.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(from64To32(8*iQ)))}this._inBlock=this._j0.slice(0),inc32(this._inBlock),this._partialBytes=0,eQ=forge$1.util.createBuffer(eQ),this._aDataLength=from64To32(8*eQ.length());var oQ=eQ.length()%this.blockSize;for(oQ&&eQ.fillWithByte(0,this.blockSize-oQ),this._s=[0,0,0,0];eQ.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[eQ.getInt32(),eQ.getInt32(),eQ.getInt32(),eQ.getInt32()])},modes.gcm.prototype.encrypt=function(tQ,eQ,AQ){var iQ=tQ.length();if(iQ===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&iQ>=this.blockSize){for(var oQ=0;oQ<this._ints;++oQ)eQ.putInt32(this._outBlock[oQ]^=tQ.getInt32());this._cipherLength+=this.blockSize}else{var rQ=(this.blockSize-iQ)%this.blockSize;for(rQ>0&&(rQ=this.blockSize-rQ),this._partialOutput.clear(),oQ=0;oQ<this._ints;++oQ)this._partialOutput.putInt32(tQ.getInt32()^this._outBlock[oQ]);if(rQ<=0||AQ){if(AQ){var nQ=iQ%this.blockSize;this._cipherLength+=nQ,this._partialOutput.truncate(this.blockSize-nQ)}else this._cipherLength+=this.blockSize;for(oQ=0;oQ<this._ints;++oQ)this._outBlock[oQ]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),rQ>0&&!AQ)return tQ.read-=this.blockSize,eQ.putBytes(this._partialOutput.getBytes(rQ-this._partialBytes)),this._partialBytes=rQ,!0;eQ.putBytes(this._partialOutput.getBytes(iQ-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),inc32(this._inBlock)},modes.gcm.prototype.decrypt=function(tQ,eQ,AQ){var iQ=tQ.length();if(iQ<this.blockSize&&!(AQ&&iQ>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),inc32(this._inBlock),this._hashBlock[0]=tQ.getInt32(),this._hashBlock[1]=tQ.getInt32(),this._hashBlock[2]=tQ.getInt32(),this._hashBlock[3]=tQ.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var oQ=0;oQ<this._ints;++oQ)eQ.putInt32(this._outBlock[oQ]^this._hashBlock[oQ]);iQ<this.blockSize?this._cipherLength+=iQ%this.blockSize:this._cipherLength+=this.blockSize},modes.gcm.prototype.afterFinish=function(tQ,eQ){var AQ=!0;eQ.decrypt&&eQ.overflow&&tQ.truncate(this.blockSize-eQ.overflow),this.tag=forge$1.util.createBuffer();var iQ=this._aDataLength.concat(from64To32(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,iQ);var oQ=[];this.cipher.encrypt(this._j0,oQ);for(var rQ=0;rQ<this._ints;++rQ)this.tag.putInt32(this._s[rQ]^oQ[rQ]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),eQ.decrypt&&this.tag.bytes()!==this._tag&&(AQ=!1),AQ},modes.gcm.prototype.multiply=function(tQ,eQ){for(var AQ=[0,0,0,0],iQ=eQ.slice(0),oQ=0;oQ<128;++oQ)tQ[oQ/32|0]&1<<31-oQ%32&&(AQ[0]^=iQ[0],AQ[1]^=iQ[1],AQ[2]^=iQ[2],AQ[3]^=iQ[3]),this.pow(iQ,iQ);return AQ},modes.gcm.prototype.pow=function(tQ,eQ){for(var AQ=1&tQ[3],iQ=3;iQ>0;--iQ)eQ[iQ]=tQ[iQ]>>>1|(1&tQ[iQ-1])<<31;eQ[0]=tQ[0]>>>1,AQ&&(eQ[0]^=this._R)},modes.gcm.prototype.tableMultiply=function(tQ){for(var eQ=[0,0,0,0],AQ=0;AQ<32;++AQ){var iQ=tQ[AQ/8|0]>>>4*(7-AQ%8)&15,oQ=this._m[AQ][iQ];eQ[0]^=oQ[0],eQ[1]^=oQ[1],eQ[2]^=oQ[2],eQ[3]^=oQ[3]}return eQ},modes.gcm.prototype.ghash=function(tQ,eQ,AQ){return eQ[0]^=AQ[0],eQ[1]^=AQ[1],eQ[2]^=AQ[2],eQ[3]^=AQ[3],this.tableMultiply(eQ)},modes.gcm.prototype.generateHashTable=function(tQ,eQ){for(var AQ=8/eQ,iQ=4*AQ,oQ=16*AQ,rQ=new Array(oQ),nQ=0;nQ<oQ;++nQ){var sQ=[0,0,0,0],aQ=(iQ-1-nQ%iQ)*eQ;sQ[nQ/iQ|0]=1<<eQ-1<<aQ,rQ[nQ]=this.generateSubHashTable(this.multiply(sQ,tQ),eQ)}return rQ},modes.gcm.prototype.generateSubHashTable=function(tQ,eQ){var AQ=1<<eQ,iQ=AQ>>>1,oQ=new Array(AQ);oQ[iQ]=tQ.slice(0);for(var rQ=iQ>>>1;rQ>0;)this.pow(oQ[2*rQ],oQ[rQ]=[]),rQ>>=1;for(rQ=2;rQ<iQ;){for(var nQ=1;nQ<rQ;++nQ){var sQ=oQ[rQ],aQ=oQ[nQ];oQ[rQ+nQ]=[sQ[0]^aQ[0],sQ[1]^aQ[1],sQ[2]^aQ[2],sQ[3]^aQ[3]]}rQ*=2}for(oQ[0]=[0,0,0,0],rQ=iQ+1;rQ<AQ;++rQ){var cQ=oQ[rQ^iQ];oQ[rQ]=[tQ[0]^cQ[0],tQ[1]^cQ[1],tQ[2]^cQ[2],tQ[3]^cQ[3]]}return oQ};var forge=forge$8;function registerAlgorithm(tQ,eQ){forge.cipher.registerAlgorithm(tQ,function(){return new forge.aes.Algorithm(tQ,eQ)})}forge.aes=forge.aes||{},forge.aes.startEncrypting=function(tQ,eQ,AQ,iQ){var oQ=_createCipher({key:tQ,output:AQ,decrypt:!1,mode:iQ});return oQ.start(eQ),oQ},forge.aes.createEncryptionCipher=function(tQ,eQ){return _createCipher({key:tQ,output:null,decrypt:!1,mode:eQ})},forge.aes.startDecrypting=function(tQ,eQ,AQ,iQ){var oQ=_createCipher({key:tQ,output:AQ,decrypt:!0,mode:iQ});return oQ.start(eQ),oQ},forge.aes.createDecryptionCipher=function(tQ,eQ){return _createCipher({key:tQ,output:null,decrypt:!0,mode:eQ})},forge.aes.Algorithm=function(tQ,eQ){init||initialize();var AQ=this;AQ.name=tQ,AQ.mode=new eQ({blockSize:16,cipher:{encrypt:function(iQ,oQ){return _updateBlock(AQ._w,iQ,oQ,!1)},decrypt:function(iQ,oQ){return _updateBlock(AQ._w,iQ,oQ,!0)}}}),AQ._init=!1},forge.aes.Algorithm.prototype.initialize=function(tQ){if(!this._init){var eQ,AQ=tQ.key;if(typeof AQ!="string"||AQ.length!==16&&AQ.length!==24&&AQ.length!==32){if(forge.util.isArray(AQ)&&(AQ.length===16||AQ.length===24||AQ.length===32)){eQ=AQ,AQ=forge.util.createBuffer();for(var iQ=0;iQ<eQ.length;++iQ)AQ.putByte(eQ[iQ])}}else AQ=forge.util.createBuffer(AQ);if(!forge.util.isArray(AQ)){eQ=AQ,AQ=[];var oQ=eQ.length();if(oQ===16||oQ===24||oQ===32)for(oQ>>>=2,iQ=0;iQ<oQ;++iQ)AQ.push(eQ.getInt32())}if(!forge.util.isArray(AQ)||AQ.length!==4&&AQ.length!==6&&AQ.length!==8)throw new Error("Invalid key parameter.");var rQ=this.mode.name,nQ=["CFB","OFB","CTR","GCM"].indexOf(rQ)!==-1;this._w=_expandKey(AQ,tQ.decrypt&&!nQ),this._init=!0}},forge.aes._expandKey=function(tQ,eQ){return init||initialize(),_expandKey(tQ,eQ)},forge.aes._updateBlock=_updateBlock,registerAlgorithm("AES-ECB",forge.cipher.modes.ecb),registerAlgorithm("AES-CBC",forge.cipher.modes.cbc),registerAlgorithm("AES-CFB",forge.cipher.modes.cfb),registerAlgorithm("AES-OFB",forge.cipher.modes.ofb),registerAlgorithm("AES-CTR",forge.cipher.modes.ctr),registerAlgorithm("AES-GCM",forge.cipher.modes.gcm);var init=!1,Nb=4,sbox,isbox,rcon,mix,imix;function initialize(){init=!0,rcon=[0,1,2,4,8,16,32,64,128,27,54];for(var tQ=new Array(256),eQ=0;eQ<128;++eQ)tQ[eQ]=eQ<<1,tQ[eQ+128]=eQ+128<<1^283;for(sbox=new Array(256),isbox=new Array(256),mix=new Array(4),imix=new Array(4),eQ=0;eQ<4;++eQ)mix[eQ]=new Array(256),imix[eQ]=new Array(256);var AQ,iQ,oQ,rQ,nQ,sQ,aQ,cQ=0,gQ=0;for(eQ=0;eQ<256;++eQ){rQ=(rQ=gQ^gQ<<1^gQ<<2^gQ<<3^gQ<<4)>>8^255&rQ^99,sbox[cQ]=rQ,isbox[rQ]=cQ,sQ=(nQ=tQ[rQ])<<24^rQ<<16^rQ<<8^rQ^nQ,aQ=((AQ=tQ[cQ])^(iQ=tQ[AQ])^(oQ=tQ[iQ]))<<24^(cQ^oQ)<<16^(cQ^iQ^oQ)<<8^cQ^AQ^oQ;for(var IQ=0;IQ<4;++IQ)mix[IQ][cQ]=sQ,imix[IQ][rQ]=aQ,sQ=sQ<<24|sQ>>>8,aQ=aQ<<24|aQ>>>8;cQ===0?cQ=gQ=1:(cQ=AQ^tQ[tQ[tQ[AQ^oQ]]],gQ^=tQ[tQ[gQ]])}}function _expandKey(tQ,eQ){for(var AQ,iQ=tQ.slice(0),oQ=1,rQ=iQ.length,nQ=Nb*(rQ+6+1),sQ=rQ;sQ<nQ;++sQ)AQ=iQ[sQ-1],sQ%rQ==0?(AQ=sbox[AQ>>>16&255]<<24^sbox[AQ>>>8&255]<<16^sbox[255&AQ]<<8^sbox[AQ>>>24]^rcon[oQ]<<24,oQ++):rQ>6&&sQ%rQ==4&&(AQ=sbox[AQ>>>24]<<24^sbox[AQ>>>16&255]<<16^sbox[AQ>>>8&255]<<8^sbox[255&AQ]),iQ[sQ]=iQ[sQ-rQ]^AQ;if(eQ){for(var aQ,cQ=imix[0],gQ=imix[1],IQ=imix[2],EQ=imix[3],CQ=iQ.slice(0),dQ=(sQ=0,(nQ=iQ.length)-Nb);sQ<nQ;sQ+=Nb,dQ-=Nb)if(sQ===0||sQ===nQ-Nb)CQ[sQ]=iQ[dQ],CQ[sQ+1]=iQ[dQ+3],CQ[sQ+2]=iQ[dQ+2],CQ[sQ+3]=iQ[dQ+1];else for(var lQ=0;lQ<Nb;++lQ)aQ=iQ[dQ+lQ],CQ[sQ+(3&-lQ)]=cQ[sbox[aQ>>>24]]^gQ[sbox[aQ>>>16&255]]^IQ[sbox[aQ>>>8&255]]^EQ[sbox[255&aQ]];iQ=CQ}return iQ}function _updateBlock(tQ,eQ,AQ,iQ){var oQ,rQ,nQ,sQ,aQ,cQ,gQ,IQ,EQ,CQ,dQ,lQ,uQ=tQ.length/4-1;iQ?(oQ=imix[0],rQ=imix[1],nQ=imix[2],sQ=imix[3],aQ=isbox):(oQ=mix[0],rQ=mix[1],nQ=mix[2],sQ=mix[3],aQ=sbox),cQ=eQ[0]^tQ[0],gQ=eQ[iQ?3:1]^tQ[1],IQ=eQ[2]^tQ[2],EQ=eQ[iQ?1:3]^tQ[3];for(var hQ=3,BQ=1;BQ<uQ;++BQ)CQ=oQ[cQ>>>24]^rQ[gQ>>>16&255]^nQ[IQ>>>8&255]^sQ[255&EQ]^tQ[++hQ],dQ=oQ[gQ>>>24]^rQ[IQ>>>16&255]^nQ[EQ>>>8&255]^sQ[255&cQ]^tQ[++hQ],lQ=oQ[IQ>>>24]^rQ[EQ>>>16&255]^nQ[cQ>>>8&255]^sQ[255&gQ]^tQ[++hQ],EQ=oQ[EQ>>>24]^rQ[cQ>>>16&255]^nQ[gQ>>>8&255]^sQ[255&IQ]^tQ[++hQ],cQ=CQ,gQ=dQ,IQ=lQ;AQ[0]=aQ[cQ>>>24]<<24^aQ[gQ>>>16&255]<<16^aQ[IQ>>>8&255]<<8^aQ[255&EQ]^tQ[++hQ],AQ[iQ?3:1]=aQ[gQ>>>24]<<24^aQ[IQ>>>16&255]<<16^aQ[EQ>>>8&255]<<8^aQ[255&cQ]^tQ[++hQ],AQ[2]=aQ[IQ>>>24]<<24^aQ[EQ>>>16&255]<<16^aQ[cQ>>>8&255]<<8^aQ[255&gQ]^tQ[++hQ],AQ[iQ?1:3]=aQ[EQ>>>24]<<24^aQ[cQ>>>16&255]<<16^aQ[gQ>>>8&255]<<8^aQ[255&IQ]^tQ[++hQ]}function _createCipher(tQ){var eQ,AQ="AES-"+((tQ=tQ||{}).mode||"CBC").toUpperCase(),iQ=(eQ=tQ.decrypt?forge.cipher.createDecipher(AQ,tQ.key):forge.cipher.createCipher(AQ,tQ.key)).start;return eQ.start=function(oQ,rQ){var nQ=null;rQ instanceof forge.util.ByteBuffer&&(nQ=rQ,rQ={}),(rQ=rQ||{}).output=nQ,rQ.iv=oQ,iQ.call(eQ,rQ)},eQ}let RTMErrorCode=function(tQ){return tQ[tQ.RTM_ERROR_OK=0]="RTM_ERROR_OK",tQ[tQ.RTM_ERROR_NOT_INITIALIZED=-10001]="RTM_ERROR_NOT_INITIALIZED",tQ[tQ.RTM_ERROR_NOT_LOGIN=-10002]="RTM_ERROR_NOT_LOGIN",tQ[tQ.RTM_ERROR_INVALID_APP_ID=-10003]="RTM_ERROR_INVALID_APP_ID",tQ[tQ.RTM_ERROR_INVALID_EVENT_HANDLER=-10004]="RTM_ERROR_INVALID_EVENT_HANDLER",tQ[tQ.RTM_ERROR_INVALID_TOKEN=-10005]="RTM_ERROR_INVALID_TOKEN",tQ[tQ.RTM_ERROR_INVALID_USER_ID=-10006]="RTM_ERROR_INVALID_USER_ID",tQ[tQ.RTM_ERROR_INIT_SERVICE_FAILED=-10007]="RTM_ERROR_INIT_SERVICE_FAILED",tQ[tQ.RTM_ERROR_INVALID_CHANNEL_NAME=-10008]="RTM_ERROR_INVALID_CHANNEL_NAME",tQ[tQ.RTM_ERROR_TOKEN_EXPIRED=-10009]="RTM_ERROR_TOKEN_EXPIRED",tQ[tQ.RTM_ERROR_LOGIN_NO_SERVER_RESOURCES=-10010]="RTM_ERROR_LOGIN_NO_SERVER_RESOURCES",tQ[tQ.RTM_ERROR_LOGIN_TIMEOUT=-10011]="RTM_ERROR_LOGIN_TIMEOUT",tQ[tQ.RTM_ERROR_LOGIN_REJECTED=-10012]="RTM_ERROR_LOGIN_REJECTED",tQ[tQ.RTM_ERROR_LOGIN_ABORTED=-10013]="RTM_ERROR_LOGIN_ABORTED",tQ[tQ.RTM_ERROR_INVALID_PARAMETER=-10014]="RTM_ERROR_INVALID_PARAMETER",tQ[tQ.RTM_ERROR_LOGIN_NOT_AUTHORIZED=-10015]="RTM_ERROR_LOGIN_NOT_AUTHORIZED",tQ[tQ.RTM_ERROR_INCONSISTENT_APPID=-10016]="RTM_ERROR_INCONSISTENT_APPID",tQ[tQ.RTM_ERROR_DUPLICATE_OPERATION=-10017]="RTM_ERROR_DUPLICATE_OPERATION",tQ[tQ.RTM_ERROR_INSTANCE_ALREADY_RELEASED=-10018]="RTM_ERROR_INSTANCE_ALREADY_RELEASED",tQ[tQ.RTM_ERROR_INVALID_CHANNEL_TYPE=-10019]="RTM_ERROR_INVALID_CHANNEL_TYPE",tQ[tQ.RTM_ERROR_INVALID_ENCRYPTION_PARAMETER=-10020]="RTM_ERROR_INVALID_ENCRYPTION_PARAMETER",tQ[tQ.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION=-10021]="RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION",tQ[tQ.RTM_ERROR_SERVICE_NOT_SUPPORTED=-10022]="RTM_ERROR_SERVICE_NOT_SUPPORTED",tQ[tQ.RTM_ERROR_LOGIN_CANCELED=-10023]="RTM_ERROR_LOGIN_CANCELED",tQ[tQ.RTM_ERROR_INVALID_PRIVATE_CONFIG=-10024]="RTM_ERROR_INVALID_PRIVATE_CONFIG",tQ[tQ.RTM_ERROR_NOT_CONNECTED=-10025]="RTM_ERROR_NOT_CONNECTED",tQ[tQ.RTM_ERROR_CHANNEL_NOT_JOINED=-11001]="RTM_ERROR_CHANNEL_NOT_JOINED",tQ[tQ.RTM_ERROR_CHANNEL_NOT_SUBSCRIBED=-11002]="RTM_ERROR_CHANNEL_NOT_SUBSCRIBED",tQ[tQ.RTM_ERROR_CHANNEL_EXCEED_TOPIC_USER_LIMITATION=-11003]="RTM_ERROR_CHANNEL_EXCEED_TOPIC_USER_LIMITATION",tQ[tQ.RTM_ERROR_CHANNEL_IN_REUSE=-11004]="RTM_ERROR_CHANNEL_IN_REUSE",tQ[tQ.RTM_ERROR_CHANNEL_INSTANCE_EXCEED_LIMITATION=-11005]="RTM_ERROR_CHANNEL_INSTANCE_EXCEED_LIMITATION",tQ[tQ.RTM_ERROR_CHANNEL_IN_ERROR_STATE=-11006]="RTM_ERROR_CHANNEL_IN_ERROR_STATE",tQ[tQ.RTM_ERROR_CHANNEL_JOIN_FAILED=-11007]="RTM_ERROR_CHANNEL_JOIN_FAILED",tQ[tQ.RTM_ERROR_CHANNEL_INVALID_TOPIC_NAME=-11008]="RTM_ERROR_CHANNEL_INVALID_TOPIC_NAME",tQ[tQ.RTM_ERROR_CHANNEL_INVALID_MESSAGE=-11009]="RTM_ERROR_CHANNEL_INVALID_MESSAGE",tQ[tQ.RTM_ERROR_CHANNEL_MESSAGE_LENGTH_EXCEED_LIMITATION=-11010]="RTM_ERROR_CHANNEL_MESSAGE_LENGTH_EXCEED_LIMITATION",tQ[tQ.RTM_ERROR_CHANNEL_INVALID_USER_LIST=-11011]="RTM_ERROR_CHANNEL_INVALID_USER_LIST",tQ[tQ.RTM_ERROR_CHANNEL_NOT_AVAILABLE=-11012]="RTM_ERROR_CHANNEL_NOT_AVAILABLE",tQ[tQ.RTM_ERROR_CHANNEL_TOPIC_NOT_SUBSCRIBED=-11013]="RTM_ERROR_CHANNEL_TOPIC_NOT_SUBSCRIBED",tQ[tQ.RTM_ERROR_CHANNEL_EXCEED_TOPIC_LIMITATION=-11014]="RTM_ERROR_CHANNEL_EXCEED_TOPIC_LIMITATION",tQ[tQ.RTM_ERROR_CHANNEL_JOIN_TOPIC_FAILED=-11015]="RTM_ERROR_CHANNEL_JOIN_TOPIC_FAILED",tQ[tQ.RTM_ERROR_CHANNEL_TOPIC_NOT_JOINED=-11016]="RTM_ERROR_CHANNEL_TOPIC_NOT_JOINED",tQ[tQ.RTM_ERROR_CHANNEL_TOPIC_NOT_EXIST=-11017]="RTM_ERROR_CHANNEL_TOPIC_NOT_EXIST",tQ[tQ.RTM_ERROR_CHANNEL_INVALID_TOPIC_META=-11018]="RTM_ERROR_CHANNEL_INVALID_TOPIC_META",tQ[tQ.RTM_ERROR_CHANNEL_SUBSCRIBE_TIMEOUT=-11019]="RTM_ERROR_CHANNEL_SUBSCRIBE_TIMEOUT",tQ[tQ.RTM_ERROR_CHANNEL_SUBSCRIBE_TOO_FREQUENT=-11020]="RTM_ERROR_CHANNEL_SUBSCRIBE_TOO_FREQUENT",tQ[tQ.RTM_ERROR_CHANNEL_SUBSCRIBE_FAILED=-11021]="RTM_ERROR_CHANNEL_SUBSCRIBE_FAILED",tQ[tQ.RTM_ERROR_CHANNEL_UNSUBSCRIBE_FAILED=-11022]="RTM_ERROR_CHANNEL_UNSUBSCRIBE_FAILED",tQ[tQ.RTM_ERROR_CHANNEL_ENCRYPT_MESSAGE_FAILED=-11023]="RTM_ERROR_CHANNEL_ENCRYPT_MESSAGE_FAILED",tQ[tQ.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED=-11024]="RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED",tQ[tQ.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_TOO_FREQUENT=-11025]="RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_TOO_FREQUENT",tQ[tQ.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_TIMEOUT=-11026]="RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_TIMEOUT",tQ[tQ.RTM_ERROR_CHANNEL_NOT_CONNECTED=-11027]="RTM_ERROR_CHANNEL_NOT_CONNECTED",tQ[tQ.RTM_ERROR_CHANNEL_LEAVE_FAILED=-11028]="RTM_ERROR_CHANNEL_LEAVE_FAILED",tQ[tQ.RTM_ERROR_CHANNEL_CUSTOM_TYPE_LENGTH_OVERFLOW=-11029]="RTM_ERROR_CHANNEL_CUSTOM_TYPE_LENGTH_OVERFLOW",tQ[tQ.RTM_ERROR_CHANNEL_INVALID_CUSTOM_TYPE=-11030]="RTM_ERROR_CHANNEL_INVALID_CUSTOM_TYPE",tQ[tQ.RTM_ERROR_CHANNEL_UNSUPPORTED_MESSAGE_TYPE=-11031]="RTM_ERROR_CHANNEL_UNSUPPORTED_MESSAGE_TYPE",tQ[tQ.RTM_ERROR_CHANNEL_PRESENCE_NOT_READY=-11032]="RTM_ERROR_CHANNEL_PRESENCE_NOT_READY",tQ[tQ.RTM_ERROR_CHANNEL_RECEIVER_OFFLINE=-11033]="RTM_ERROR_CHANNEL_RECEIVER_OFFLINE",tQ[tQ.RTM_ERROR_CHANNEL_JOIN_CANCELED=-11034]="RTM_ERROR_CHANNEL_JOIN_CANCELED",tQ[tQ.RTM_ERROR_CHANNEL_RECEIVER_OFFLINE_BUT_STORE_SUCCEEDED=-11035]="RTM_ERROR_CHANNEL_RECEIVER_OFFLINE_BUT_STORE_SUCCEEDED",tQ[tQ.RTM_ERROR_CHANNEL_RECEIVER_OFFLINE_AND_STORE_FAILED=-11036]="RTM_ERROR_CHANNEL_RECEIVER_OFFLINE_AND_STORE_FAILED",tQ[tQ.RTM_ERROR_CHANNEL_MESSAGE_DELIVERED_BUT_STORE_FAILED=-11037]="RTM_ERROR_CHANNEL_MESSAGE_DELIVERED_BUT_STORE_FAILED",tQ[tQ.RTM_ERROR_STORAGE_OPERATION_FAILED=-12001]="RTM_ERROR_STORAGE_OPERATION_FAILED",tQ[tQ.RTM_ERROR_STORAGE_METADATA_ITEM_EXCEED_LIMITATION=-12002]="RTM_ERROR_STORAGE_METADATA_ITEM_EXCEED_LIMITATION",tQ[tQ.RTM_ERROR_STORAGE_INVALID_METADATA_ITEM=-12003]="RTM_ERROR_STORAGE_INVALID_METADATA_ITEM",tQ[tQ.RTM_ERROR_STORAGE_INVALID_ARGUMENT=-12004]="RTM_ERROR_STORAGE_INVALID_ARGUMENT",tQ[tQ.RTM_ERROR_STORAGE_INVALID_REVISION=-12005]="RTM_ERROR_STORAGE_INVALID_REVISION",tQ[tQ.RTM_ERROR_STORAGE_METADATA_LENGTH_OVERFLOW=-12006]="RTM_ERROR_STORAGE_METADATA_LENGTH_OVERFLOW",tQ[tQ.RTM_ERROR_STORAGE_INVALID_LOCK_NAME=-12007]="RTM_ERROR_STORAGE_INVALID_LOCK_NAME",tQ[tQ.RTM_ERROR_STORAGE_LOCK_NOT_ACQUIRED=-12008]="RTM_ERROR_STORAGE_LOCK_NOT_ACQUIRED",tQ[tQ.RTM_ERROR_STORAGE_INVALID_KEY=-12009]="RTM_ERROR_STORAGE_INVALID_KEY",tQ[tQ.RTM_ERROR_STORAGE_INVALID_VALUE=-12010]="RTM_ERROR_STORAGE_INVALID_VALUE",tQ[tQ.RTM_ERROR_STORAGE_KEY_LENGTH_OVERFLOW=-12011]="RTM_ERROR_STORAGE_KEY_LENGTH_OVERFLOW",tQ[tQ.RTM_ERROR_STORAGE_VALUE_LENGTH_OVERFLOW=-12012]="RTM_ERROR_STORAGE_VALUE_LENGTH_OVERFLOW",tQ[tQ.RTM_ERROR_STORAGE_DUPLICATE_KEY=-12013]="RTM_ERROR_STORAGE_DUPLICATE_KEY",tQ[tQ.RTM_ERROR_STORAGE_OUTDATED_REVISION=-12014]="RTM_ERROR_STORAGE_OUTDATED_REVISION",tQ[tQ.RTM_ERROR_STORAGE_NOT_SUBSCRIBE=-12015]="RTM_ERROR_STORAGE_NOT_SUBSCRIBE",tQ[tQ.RTM_ERROR_STORAGE_INVALID_METADATA_INSTANCE=-12016]="RTM_ERROR_STORAGE_INVALID_METADATA_INSTANCE",tQ[tQ.RTM_ERROR_STORAGE_SUBSCRIBE_USER_EXCEED_LIMITATION=-12017]="RTM_ERROR_STORAGE_SUBSCRIBE_USER_EXCEED_LIMITATION",tQ[tQ.RTM_ERROR_STORAGE_OPERATION_TIMEOUT=-12018]="RTM_ERROR_STORAGE_OPERATION_TIMEOUT",tQ[tQ.RTM_ERROR_STORAGE_NOT_AVAILABLE=-12019]="RTM_ERROR_STORAGE_NOT_AVAILABLE",tQ[tQ.RTM_ERROR_PRESENCE_NOT_CONNECTED=-13001]="RTM_ERROR_PRESENCE_NOT_CONNECTED",tQ[tQ.RTM_ERROR_PRESENCE_NOT_WRITABLE=-13002]="RTM_ERROR_PRESENCE_NOT_WRITABLE",tQ[tQ.RTM_ERROR_PRESENCE_INVALID_ARGUMENT=-13003]="RTM_ERROR_PRESENCE_INVALID_ARGUMENT",tQ[tQ.RTM_ERROR_PRESENCE_CACHED_TOO_MANY_STATES=-13004]="RTM_ERROR_PRESENCE_CACHED_TOO_MANY_STATES",tQ[tQ.RTM_ERROR_PRESENCE_STATE_COUNT_OVERFLOW=-13005]="RTM_ERROR_PRESENCE_STATE_COUNT_OVERFLOW",tQ[tQ.RTM_ERROR_PRESENCE_INVALID_STATE_KEY=-13006]="RTM_ERROR_PRESENCE_INVALID_STATE_KEY",tQ[tQ.RTM_ERROR_PRESENCE_INVALID_STATE_VALUE=-13007]="RTM_ERROR_PRESENCE_INVALID_STATE_VALUE",tQ[tQ.RTM_ERROR_PRESENCE_STATE_KEY_SIZE_OVERFLOW=-13008]="RTM_ERROR_PRESENCE_STATE_KEY_SIZE_OVERFLOW",tQ[tQ.RTM_ERROR_PRESENCE_STATE_VALUE_SIZE_OVERFLOW=-13009]="RTM_ERROR_PRESENCE_STATE_VALUE_SIZE_OVERFLOW",tQ[tQ.RTM_ERROR_PRESENCE_STATE_DUPLICATE_KEY=-13010]="RTM_ERROR_PRESENCE_STATE_DUPLICATE_KEY",tQ[tQ.RTM_ERROR_PRESENCE_USER_NOT_EXIST=-13011]="RTM_ERROR_PRESENCE_USER_NOT_EXIST",tQ[tQ.RTM_ERROR_PRESENCE_OPERATION_TIMEOUT=-13012]="RTM_ERROR_PRESENCE_OPERATION_TIMEOUT",tQ[tQ.RTM_ERROR_PRESENCE_OPERATION_FAILED=-13013]="RTM_ERROR_PRESENCE_OPERATION_FAILED",tQ[tQ.RTM_ERROR_LOCK_OPERATION_FAILED=-14001]="RTM_ERROR_LOCK_OPERATION_FAILED",tQ[tQ.RTM_ERROR_LOCK_OPERATION_TIMEOUT=-14002]="RTM_ERROR_LOCK_OPERATION_TIMEOUT",tQ[tQ.RTM_ERROR_LOCK_OPERATION_PERFORMING=-14003]="RTM_ERROR_LOCK_OPERATION_PERFORMING",tQ[tQ.RTM_ERROR_LOCK_ALREADY_EXIST=-14004]="RTM_ERROR_LOCK_ALREADY_EXIST",tQ[tQ.RTM_ERROR_LOCK_INVALID_NAME=-14005]="RTM_ERROR_LOCK_INVALID_NAME",tQ[tQ.RTM_ERROR_LOCK_NOT_ACQUIRED=-14006]="RTM_ERROR_LOCK_NOT_ACQUIRED",tQ[tQ.RTM_ERROR_LOCK_ACQUIRE_FAILED=-14007]="RTM_ERROR_LOCK_ACQUIRE_FAILED",tQ[tQ.RTM_ERROR_LOCK_NOT_EXIST=-14008]="RTM_ERROR_LOCK_NOT_EXIST",tQ[tQ.RTM_ERROR_LOCK_NOT_AVAILABLE=-14009]="RTM_ERROR_LOCK_NOT_AVAILABLE",tQ[tQ.RTM_ERROR_HISTORY_OPERATION_FAILED=-15001]="RTM_ERROR_HISTORY_OPERATION_FAILED",tQ[tQ.RTM_ERROR_HISTORY_INVALID_TIMESTAMP=-15002]="RTM_ERROR_HISTORY_INVALID_TIMESTAMP",tQ[tQ.RTM_ERROR_HISTORY_OPERATION_TIMEOUT=-15003]="RTM_ERROR_HISTORY_OPERATION_TIMEOUT",tQ[tQ.RTM_ERROR_HISTORY_OPERATION_NOT_PERMITTED=-15004]="RTM_ERROR_HISTORY_OPERATION_NOT_PERMITTED",tQ[tQ.RTM_ERROR_HISTORY_NOT_AVAILABLE=-15005]="RTM_ERROR_HISTORY_NOT_AVAILABLE",tQ}({});const detailMsg4InvalidParam="illegal symbol or too long.",RTMErrorDescription={[RTMErrorCode.RTM_ERROR_OK]:"No error.",[RTMErrorCode.RTM_ERROR_NOT_INITIALIZED]:"Preform operation without initialize.",[RTMErrorCode.RTM_ERROR_NOT_LOGIN]:"Preform operation without login RTM service.",[RTMErrorCode.RTM_ERROR_INVALID_APP_ID]:"Invalid App id. ".concat(detailMsg4InvalidParam),[RTMErrorCode.RTM_ERROR_INVALID_EVENT_HANDLER]:"Invalid event handler.",[RTMErrorCode.RTM_ERROR_INVALID_TOKEN]:"Invalid token.",[RTMErrorCode.RTM_ERROR_INVALID_USER_ID]:"Invalid user id. ".concat(detailMsg4InvalidParam),[RTMErrorCode.RTM_ERROR_INIT_SERVICE_FAILED]:"Initialize agora service failed.",[RTMErrorCode.RTM_ERROR_INVALID_CHANNEL_NAME]:"Invalid channel name. ".concat(detailMsg4InvalidParam),[RTMErrorCode.RTM_ERROR_TOKEN_EXPIRED]:"Token is expired.",[RTMErrorCode.RTM_ERROR_LOGIN_NO_SERVER_RESOURCES]:"No server resources.",[RTMErrorCode.RTM_ERROR_LOGIN_TIMEOUT]:"Login RTM service timeout.",[RTMErrorCode.RTM_ERROR_LOGIN_REJECTED]:"Login RTM service was rejected due to server error.",[RTMErrorCode.RTM_ERROR_LOGIN_ABORTED]:"Login RTM service was aborted due to unrecoverable error.",[RTMErrorCode.RTM_ERROR_INVALID_PARAMETER]:"Invalid parameter.",[RTMErrorCode.RTM_ERROR_LOGIN_NOT_AUTHORIZED]:"The login operation is not authorized, should grant from console.",[RTMErrorCode.RTM_ERROR_INCONSISTENT_APPID]:"The appid is not consistent.",[RTMErrorCode.RTM_ERROR_DUPLICATE_OPERATION]:"Same subscribe, join or login request",[RTMErrorCode.RTM_ERROR_INSTANCE_ALREADY_RELEASED]:"Instance already released or destroyed, need to create new one",[RTMErrorCode.RTM_ERROR_INVALID_CHANNEL_TYPE]:"Invalid channel type, some api not support set channel type as user.",[RTMErrorCode.RTM_ERROR_INVALID_ENCRYPTION_PARAMETER]:"Invalid encryption parameter.",[RTMErrorCode.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION]:"The operation rate exceeds limitation.",[RTMErrorCode.RTM_ERROR_SERVICE_NOT_SUPPORTED]:"Service doesn't support.",[RTMErrorCode.RTM_ERROR_LOGIN_CANCELED]:"Login RTM service was canceled by user.",[RTMErrorCode.RTM_ERROR_INVALID_PRIVATE_CONFIG]:"Set private config should both set serviceType and accessPointHosts.",[RTMErrorCode.RTM_ERROR_NOT_CONNECTED]:"Perform operation failed due to RTM service is not connected",[RTMErrorCode.RTM_ERROR_CHANNEL_NOT_JOINED]:"Perform operation without join stream channel.",[RTMErrorCode.RTM_ERROR_CHANNEL_NOT_SUBSCRIBED]:"Perform operation without subscribe message channel.",[RTMErrorCode.RTM_ERROR_CHANNEL_EXCEED_TOPIC_USER_LIMITATION]:"Subscribe failed due to exceed topic user limitation in stream channel.",[RTMErrorCode.RTM_ERROR_CHANNEL_IN_REUSE]:"Release a stream channel which was reused in RTC channel.",[RTMErrorCode.RTM_ERROR_CHANNEL_INSTANCE_EXCEED_LIMITATION]:"Join or subscribe too many channels and have reach limitation.",[RTMErrorCode.RTM_ERROR_CHANNEL_IN_ERROR_STATE]:"Perform channel operation failed since channel state is incorrect.",[RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_FAILED]:"Join stream channel failed.",[RTMErrorCode.RTM_ERROR_CHANNEL_INVALID_TOPIC_NAME]:"Perform topic operation with invalid name.".concat(detailMsg4InvalidParam),[RTMErrorCode.RTM_ERROR_CHANNEL_INVALID_MESSAGE]:"Publish invalid message.",[RTMErrorCode.RTM_ERROR_CHANNEL_MESSAGE_LENGTH_EXCEED_LIMITATION]:"Publish too long message.",[RTMErrorCode.RTM_ERROR_CHANNEL_INVALID_USER_LIST]:"Perform topic operation with invalid user list.",[RTMErrorCode.RTM_ERROR_CHANNEL_NOT_AVAILABLE]:"Stream channel not available for this app id.",[RTMErrorCode.RTM_ERROR_CHANNEL_TOPIC_NOT_SUBSCRIBED]:"Perform topic operation without subscribe.",[RTMErrorCode.RTM_ERROR_CHANNEL_EXCEED_TOPIC_LIMITATION]:"Have subscribe or joined too many topics.",[RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_TOPIC_FAILED]:"Join topic failed.",[RTMErrorCode.RTM_ERROR_CHANNEL_TOPIC_NOT_JOINED]:"Perform topic operation without join.",[RTMErrorCode.RTM_ERROR_CHANNEL_TOPIC_NOT_EXIST]:"Topic does not exist.",[RTMErrorCode.RTM_ERROR_CHANNEL_INVALID_TOPIC_META]:"Topic meta is invalid.",[RTMErrorCode.RTM_ERROR_CHANNEL_SUBSCRIBE_TIMEOUT]:"Subscribe message channel timeout.",[RTMErrorCode.RTM_ERROR_CHANNEL_SUBSCRIBE_TOO_FREQUENT]:"Subscribe message channel too frequently.",[RTMErrorCode.RTM_ERROR_CHANNEL_SUBSCRIBE_FAILED]:"Subscribe message channel failed.",[RTMErrorCode.RTM_ERROR_CHANNEL_UNSUBSCRIBE_FAILED]:"Unsubscribe message channel failed.",[RTMErrorCode.RTM_ERROR_CHANNEL_ENCRYPT_MESSAGE_FAILED]:"Encrypt message failed.",[RTMErrorCode.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED]:"Publish message failed.",[RTMErrorCode.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_TOO_FREQUENT]:"Publish message too frequently.",[RTMErrorCode.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_TIMEOUT]:"Publish message timeout.",[RTMErrorCode.RTM_ERROR_CHANNEL_NOT_CONNECTED]:"Perform operation failed due to connection closed.",[RTMErrorCode.RTM_ERROR_CHANNEL_LEAVE_FAILED]:"Leave channel failed.",[RTMErrorCode.RTM_ERROR_CHANNEL_CUSTOM_TYPE_LENGTH_OVERFLOW]:"The length of custom type overflow.",[RTMErrorCode.RTM_ERROR_CHANNEL_INVALID_CUSTOM_TYPE]:"Send message with invalid custom type.",[RTMErrorCode.RTM_ERROR_CHANNEL_UNSUPPORTED_MESSAGE_TYPE]:"Send message with unsupported message type.",[RTMErrorCode.RTM_ERROR_CHANNEL_PRESENCE_NOT_READY]:"Join or subscribe channel failed due to presence service not ready.",[RTMErrorCode.RTM_ERROR_CHANNEL_RECEIVER_OFFLINE]:"Publish a message to user now is offline.",[RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_CANCELED]:"Join channel operation was canceled.",[RTMErrorCode.RTM_ERROR_CHANNEL_RECEIVER_OFFLINE_BUT_STORE_SUCCEEDED]:"Message receiver is offline but store in history succeeded.",[RTMErrorCode.RTM_ERROR_CHANNEL_RECEIVER_OFFLINE_AND_STORE_FAILED]:"Message receiver is offline and store in history failed.",[RTMErrorCode.RTM_ERROR_CHANNEL_MESSAGE_DELIVERED_BUT_STORE_FAILED]:"Message delivered successfully but store in history failed.",[RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_FAILED]:"Storage operation failed.",[RTMErrorCode.RTM_ERROR_STORAGE_METADATA_ITEM_EXCEED_LIMITATION]:"Metadata item size exceeds limitation.",[RTMErrorCode.RTM_ERROR_STORAGE_INVALID_METADATA_ITEM]:"Metadata item is invalid.",[RTMErrorCode.RTM_ERROR_STORAGE_INVALID_ARGUMENT]:"Server reject operation due to invalid argument.",[RTMErrorCode.RTM_ERROR_STORAGE_INVALID_REVISION]:"Metadata item with invalid revision.",[RTMErrorCode.RTM_ERROR_STORAGE_METADATA_LENGTH_OVERFLOW]:"The length of metadata items overflow.",[RTMErrorCode.RTM_ERROR_STORAGE_INVALID_LOCK_NAME]:"Storage operation with invalid lock name. ".concat(detailMsg4InvalidParam),[RTMErrorCode.RTM_ERROR_STORAGE_LOCK_NOT_ACQUIRED]:"Storage operation with lock not acquired.",[RTMErrorCode.RTM_ERROR_STORAGE_INVALID_KEY]:"Storage operation with invalid key.",[RTMErrorCode.RTM_ERROR_STORAGE_INVALID_VALUE]:"Storage operation with invalid value.",[RTMErrorCode.RTM_ERROR_STORAGE_KEY_LENGTH_OVERFLOW]:"Storage operation with key length overflow.",[RTMErrorCode.RTM_ERROR_STORAGE_VALUE_LENGTH_OVERFLOW]:"Storage operation with value length overflow.",[RTMErrorCode.RTM_ERROR_STORAGE_DUPLICATE_KEY]:"Storage operation with duplicate key.",[RTMErrorCode.RTM_ERROR_STORAGE_OUTDATED_REVISION]:"Storage operation with outdated revision or the key does not exist.",[RTMErrorCode.RTM_ERROR_STORAGE_NOT_SUBSCRIBE]:"Storage operation without subscribe.",[RTMErrorCode.RTM_ERROR_STORAGE_INVALID_METADATA_INSTANCE]:"Metadata instance is invalid.",[RTMErrorCode.RTM_ERROR_STORAGE_SUBSCRIBE_USER_EXCEED_LIMITATION]:"Subscribe user metadata exceeds limitation.",[RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT]:"Storage operation timeout.",[RTMErrorCode.RTM_ERROR_STORAGE_NOT_AVAILABLE]:"Storage service is not available.",[RTMErrorCode.RTM_ERROR_PRESENCE_NOT_CONNECTED]:"Presence service not connected.",[RTMErrorCode.RTM_ERROR_PRESENCE_NOT_WRITABLE]:"Operation failed since presence document is not writable, try later.",[RTMErrorCode.RTM_ERROR_PRESENCE_INVALID_ARGUMENT]:"Presence operation failed due to invalid argument.",[RTMErrorCode.RTM_ERROR_PRESENCE_CACHED_TOO_MANY_STATES]:"Exceed presence cache limitation.",[RTMErrorCode.RTM_ERROR_PRESENCE_STATE_COUNT_OVERFLOW]:"Exceed presence state count limitation.",[RTMErrorCode.RTM_ERROR_PRESENCE_INVALID_STATE_KEY]:"Invalid presence state key.",[RTMErrorCode.RTM_ERROR_PRESENCE_INVALID_STATE_VALUE]:"Invalid presence state value.",[RTMErrorCode.RTM_ERROR_PRESENCE_STATE_KEY_SIZE_OVERFLOW]:"Presence state key length is too long.",[RTMErrorCode.RTM_ERROR_PRESENCE_STATE_VALUE_SIZE_OVERFLOW]:"Presence state value length is too long.",[RTMErrorCode.RTM_ERROR_PRESENCE_STATE_DUPLICATE_KEY]:"Presence operation failed since including duplicate key.",[RTMErrorCode.RTM_ERROR_PRESENCE_USER_NOT_EXIST]:"Presence operation failed due to inexistent user.",[RTMErrorCode.RTM_ERROR_PRESENCE_OPERATION_TIMEOUT]:"Presence operation timeout.",[RTMErrorCode.RTM_ERROR_PRESENCE_OPERATION_FAILED]:"Presence operation failed.",[RTMErrorCode.RTM_ERROR_LOCK_OPERATION_FAILED]:"Lock operation failed.",[RTMErrorCode.RTM_ERROR_LOCK_OPERATION_TIMEOUT]:"Lock operation timeout.",[RTMErrorCode.RTM_ERROR_LOCK_OPERATION_PERFORMING]:"Lock operation is performing, try later.",[RTMErrorCode.RTM_ERROR_LOCK_ALREADY_EXIST]:"Lock already exist.",[RTMErrorCode.RTM_ERROR_LOCK_INVALID_NAME]:"Lock operation with invalid name. ".concat(detailMsg4InvalidParam),[RTMErrorCode.RTM_ERROR_LOCK_NOT_ACQUIRED]:"Lock not acquired.",[RTMErrorCode.RTM_ERROR_LOCK_ACQUIRE_FAILED]:"Lock acquire failed.",[RTMErrorCode.RTM_ERROR_LOCK_NOT_EXIST]:"Lock not exist.",[RTMErrorCode.RTM_ERROR_LOCK_NOT_AVAILABLE]:"Lock service is not available.",[RTMErrorCode.RTM_ERROR_HISTORY_INVALID_TIMESTAMP]:"Invalid start or end timestamp.",[RTMErrorCode.RTM_ERROR_HISTORY_OPERATION_FAILED]:"History operation failed.",[RTMErrorCode.RTM_ERROR_HISTORY_OPERATION_TIMEOUT]:"History operation timeout.",[RTMErrorCode.RTM_ERROR_HISTORY_OPERATION_NOT_PERMITTED]:"History operation is not permitted.",[RTMErrorCode.RTM_ERROR_HISTORY_NOT_AVAILABLE]:"History service is not available."};var UZIP={},u16,u32;module.exports=UZIP,UZIP.parse=function(tQ,eQ){for(var AQ=UZIP.bin.readUshort,iQ=UZIP.bin.readUint,oQ=0,rQ={},nQ=new Uint8Array(tQ),sQ=nQ.length-4;iQ(nQ,sQ)!=101010256;)sQ--;oQ=sQ,oQ+=4;var aQ=AQ(nQ,oQ+=4);AQ(nQ,oQ+=2);var cQ=iQ(nQ,oQ+=2),gQ=iQ(nQ,oQ+=4);oQ+=4,oQ=gQ;for(var IQ=0;IQ<aQ;IQ++){iQ(nQ,oQ),oQ+=4,oQ+=4,oQ+=4,iQ(nQ,oQ+=4),cQ=iQ(nQ,oQ+=4);var EQ=iQ(nQ,oQ+=4),CQ=AQ(nQ,oQ+=4),dQ=AQ(nQ,oQ+2),lQ=AQ(nQ,oQ+4);oQ+=6;var uQ=iQ(nQ,oQ+=8);oQ+=4,oQ+=CQ+dQ+lQ,UZIP._readLocal(nQ,uQ,rQ,cQ,EQ,eQ)}return rQ},UZIP._readLocal=function(tQ,eQ,AQ,iQ,oQ,rQ){var nQ=UZIP.bin.readUshort,sQ=UZIP.bin.readUint;sQ(tQ,eQ),nQ(tQ,eQ+=4),nQ(tQ,eQ+=2);var aQ=nQ(tQ,eQ+=2);sQ(tQ,eQ+=2),sQ(tQ,eQ+=4),eQ+=4;var cQ=nQ(tQ,eQ+=8),gQ=nQ(tQ,eQ+=2);eQ+=2;var IQ=UZIP.bin.readUTF8(tQ,eQ,cQ);if(eQ+=cQ,eQ+=gQ,rQ)AQ[IQ]={size:oQ,csize:iQ};else{var EQ=new Uint8Array(tQ.buffer,eQ);if(aQ==0)AQ[IQ]=new Uint8Array(EQ.buffer.slice(eQ,eQ+iQ));else{if(aQ!=8)throw"unknown compression method: "+aQ;var CQ=new Uint8Array(oQ);UZIP.inflateRaw(EQ,CQ),AQ[IQ]=CQ}}},UZIP.inflateRaw=function(tQ,eQ){return UZIP.F.inflate(tQ,eQ)},UZIP.inflate=function(tQ,eQ){return tQ[0],tQ[1],UZIP.inflateRaw(new Uint8Array(tQ.buffer,tQ.byteOffset+2,tQ.length-2),eQ)},UZIP.deflate=function(tQ,eQ){eQ==null&&(eQ={level:6});var AQ=0,iQ=new Uint8Array(50+Math.floor(1.1*tQ.length));iQ[AQ]=120,iQ[AQ+1]=156,AQ+=2,AQ=UZIP.F.deflateRaw(tQ,iQ,AQ,eQ.level);var oQ=UZIP.adler(tQ,0,tQ.length);return iQ[AQ+0]=oQ>>>24&255,iQ[AQ+1]=oQ>>>16&255,iQ[AQ+2]=oQ>>>8&255,iQ[AQ+3]=oQ>>>0&255,new Uint8Array(iQ.buffer,0,AQ+4)},UZIP.deflateRaw=function(tQ,eQ){eQ==null&&(eQ={level:6});var AQ=new Uint8Array(50+Math.floor(1.1*tQ.length)),iQ=UZIP.F.deflateRaw(tQ,AQ,iQ,eQ.level);return new Uint8Array(AQ.buffer,0,iQ)},UZIP.encode=function(tQ,eQ){eQ==null&&(eQ=!1);var AQ=0,iQ=UZIP.bin.writeUint,oQ=UZIP.bin.writeUshort,rQ={};for(var nQ in tQ){var sQ=!UZIP._noNeed(nQ)&&!eQ,aQ=tQ[nQ],cQ=UZIP.crc.crc(aQ,0,aQ.length);rQ[nQ]={cpr:sQ,usize:aQ.length,crc:cQ,file:sQ?UZIP.deflateRaw(aQ):aQ}}for(var nQ in rQ)AQ+=rQ[nQ].file.length+30+46+2*UZIP.bin.sizeUTF8(nQ);AQ+=22;var gQ=new Uint8Array(AQ),IQ=0,EQ=[];for(var nQ in rQ){var CQ=rQ[nQ];EQ.push(IQ),IQ=UZIP._writeHeader(gQ,IQ,nQ,CQ,0)}var dQ=0,lQ=IQ;for(var nQ in rQ)CQ=rQ[nQ],EQ.push(IQ),IQ=UZIP._writeHeader(gQ,IQ,nQ,CQ,1,EQ[dQ++]);var uQ=IQ-lQ;return iQ(gQ,IQ,101010256),IQ+=4,oQ(gQ,IQ+=4,dQ),oQ(gQ,IQ+=2,dQ),iQ(gQ,IQ+=2,uQ),iQ(gQ,IQ+=4,lQ),IQ+=4,IQ+=2,gQ.buffer},UZIP._noNeed=function(tQ){var eQ=tQ.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(eQ)!=-1},UZIP._writeHeader=function(tQ,eQ,AQ,iQ,oQ,rQ){var nQ=UZIP.bin.writeUint,sQ=UZIP.bin.writeUshort,aQ=iQ.file;return nQ(tQ,eQ,oQ==0?67324752:33639248),eQ+=4,oQ==1&&(eQ+=2),sQ(tQ,eQ,20),sQ(tQ,eQ+=2,0),sQ(tQ,eQ+=2,iQ.cpr?8:0),nQ(tQ,eQ+=2,0),nQ(tQ,eQ+=4,iQ.crc),nQ(tQ,eQ+=4,aQ.length),nQ(tQ,eQ+=4,iQ.usize),sQ(tQ,eQ+=4,UZIP.bin.sizeUTF8(AQ)),sQ(tQ,eQ+=2,0),eQ+=2,oQ==1&&(eQ+=2,eQ+=2,nQ(tQ,eQ+=6,rQ),eQ+=4),eQ+=UZIP.bin.writeUTF8(tQ,eQ,AQ),oQ==0&&(tQ.set(aQ,eQ),eQ+=aQ.length),eQ},UZIP.crc={table:function(){for(var tQ=new Uint32Array(256),eQ=0;eQ<256;eQ++){for(var AQ=eQ,iQ=0;iQ<8;iQ++)1&AQ?AQ=3988292384^AQ>>>1:AQ>>>=1;tQ[eQ]=AQ}return tQ}(),update:function(tQ,eQ,AQ,iQ){for(var oQ=0;oQ<iQ;oQ++)tQ=UZIP.crc.table[255&(tQ^eQ[AQ+oQ])]^tQ>>>8;return tQ},crc:function(tQ,eQ,AQ){return 4294967295^UZIP.crc.update(4294967295,tQ,eQ,AQ)}},UZIP.adler=function(tQ,eQ,AQ){for(var iQ=1,oQ=0,rQ=eQ,nQ=eQ+AQ;rQ<nQ;){for(var sQ=Math.min(rQ+5552,nQ);rQ<sQ;)oQ+=iQ+=tQ[rQ++];iQ%=65521,oQ%=65521}return oQ<<16|iQ},UZIP.bin={readUshort:function(tQ,eQ){return tQ[eQ]|tQ[eQ+1]<<8},writeUshort:function(tQ,eQ,AQ){tQ[eQ]=255&AQ,tQ[eQ+1]=AQ>>8&255},readUint:function(tQ,eQ){return 16777216*tQ[eQ+3]+(tQ[eQ+2]<<16|tQ[eQ+1]<<8|tQ[eQ])},writeUint:function(tQ,eQ,AQ){tQ[eQ]=255&AQ,tQ[eQ+1]=AQ>>8&255,tQ[eQ+2]=AQ>>16&255,tQ[eQ+3]=AQ>>24&255},readASCII:function(tQ,eQ,AQ){for(var iQ="",oQ=0;oQ<AQ;oQ++)iQ+=String.fromCharCode(tQ[eQ+oQ]);return iQ},writeASCII:function(tQ,eQ,AQ){for(var iQ=0;iQ<AQ.length;iQ++)tQ[eQ+iQ]=AQ.charCodeAt(iQ)},pad:function(tQ){return tQ.length<2?"0"+tQ:tQ},readUTF8:function(tQ,eQ,AQ){for(var iQ,oQ="",rQ=0;rQ<AQ;rQ++)oQ+="%"+UZIP.bin.pad(tQ[eQ+rQ].toString(16));try{iQ=decodeURIComponent(oQ)}catch{return UZIP.bin.readASCII(tQ,eQ,AQ)}return iQ},writeUTF8:function(tQ,eQ,AQ){for(var iQ=AQ.length,oQ=0,rQ=0;rQ<iQ;rQ++){var nQ=AQ.charCodeAt(rQ);if(4294967168&nQ)if(4294965248&nQ)if(4294901760&nQ){if(4292870144&nQ)throw"e";tQ[eQ+oQ]=240|nQ>>18,tQ[eQ+oQ+1]=128|nQ>>12&63,tQ[eQ+oQ+2]=128|nQ>>6&63,tQ[eQ+oQ+3]=128|63&nQ,oQ+=4}else tQ[eQ+oQ]=224|nQ>>12,tQ[eQ+oQ+1]=128|nQ>>6&63,tQ[eQ+oQ+2]=128|63&nQ,oQ+=3;else tQ[eQ+oQ]=192|nQ>>6,tQ[eQ+oQ+1]=128|63&nQ,oQ+=2;else tQ[eQ+oQ]=nQ,oQ++}return oQ},sizeUTF8:function(tQ){for(var eQ=tQ.length,AQ=0,iQ=0;iQ<eQ;iQ++){var oQ=tQ.charCodeAt(iQ);if(4294967168&oQ)if(4294965248&oQ)if(4294901760&oQ){if(4292870144&oQ)throw"e";AQ+=4}else AQ+=3;else AQ+=2;else AQ++}return AQ}},UZIP.F={},UZIP.F.deflateRaw=function(tQ,eQ,AQ,iQ){var oQ=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][iQ],rQ=UZIP.F.U,nQ=UZIP.F._goodIndex;UZIP.F._hash;var sQ=UZIP.F._putsE,aQ=0,cQ=AQ<<3,gQ=0,IQ=tQ.length;if(iQ==0){for(;aQ<IQ;)sQ(eQ,cQ,aQ+(wQ=Math.min(65535,IQ-aQ))==IQ?1:0),cQ=UZIP.F._copyExact(tQ,aQ,wQ,eQ,cQ+8),aQ+=wQ;return cQ>>>3}var EQ=rQ.lits,CQ=rQ.strt,dQ=rQ.prev,lQ=0,uQ=0,hQ=0,BQ=0,QQ=0,fQ=0;for(IQ>2&&(CQ[fQ=UZIP.F._hash(tQ,0)]=0),aQ=0;aQ<IQ;aQ++){if(QQ=fQ,aQ+1<IQ-2){fQ=UZIP.F._hash(tQ,aQ+1);var _Q=aQ+1&32767;dQ[_Q]=CQ[fQ],CQ[fQ]=_Q}if(gQ<=aQ){(lQ>14e3||uQ>26697)&&IQ-aQ>100&&(gQ<aQ&&(EQ[lQ]=aQ-gQ,lQ+=2,gQ=aQ),cQ=UZIP.F._writeBlock(aQ==IQ-1||gQ==IQ?1:0,EQ,lQ,BQ,tQ,hQ,aQ-hQ,eQ,cQ),lQ=uQ=BQ=0,hQ=aQ);var RQ=0;aQ<IQ-2&&(RQ=UZIP.F._bestMatch(tQ,aQ,dQ,QQ,Math.min(oQ[2],IQ-aQ),oQ[3]));var wQ=RQ>>>16,bQ=65535&RQ;if(RQ!=0){bQ=65535&RQ;var NQ=nQ(wQ=RQ>>>16,rQ.of0);rQ.lhst[257+NQ]++;var UQ=nQ(bQ,rQ.df0);rQ.dhst[UQ]++,BQ+=rQ.exb[NQ]+rQ.dxb[UQ],EQ[lQ]=wQ<<23|aQ-gQ,EQ[lQ+1]=bQ<<16|NQ<<8|UQ,lQ+=2,gQ=aQ+wQ}else rQ.lhst[tQ[aQ]]++;uQ++}}for(hQ==aQ&&tQ.length!=0||(gQ<aQ&&(EQ[lQ]=aQ-gQ,lQ+=2,gQ=aQ),cQ=UZIP.F._writeBlock(1,EQ,lQ,BQ,tQ,hQ,aQ-hQ,eQ,cQ),lQ=0,uQ=0,lQ=uQ=BQ=0,hQ=aQ);7&cQ;)cQ++;return cQ>>>3},UZIP.F._bestMatch=function(tQ,eQ,AQ,iQ,oQ,rQ){var nQ=32767&eQ,sQ=AQ[nQ],aQ=nQ-sQ+32768&32767;if(sQ==nQ||iQ!=UZIP.F._hash(tQ,eQ-aQ))return 0;for(var cQ=0,gQ=0,IQ=Math.min(32767,eQ);aQ<=IQ&&--rQ!=0&&sQ!=nQ;){if(cQ==0||tQ[eQ+cQ]==tQ[eQ+cQ-aQ]){var EQ=UZIP.F._howLong(tQ,eQ,aQ);if(EQ>cQ){if(gQ=aQ,(cQ=EQ)>=oQ)break;aQ+2<EQ&&(EQ=aQ+2);for(var CQ=0,dQ=0;dQ<EQ-2;dQ++){var lQ=eQ-aQ+dQ+32768&32767,uQ=lQ-AQ[lQ]+32768&32767;uQ>CQ&&(CQ=uQ,sQ=lQ)}}}aQ+=(nQ=sQ)-(sQ=AQ[nQ])+32768&32767}return cQ<<16|gQ},UZIP.F._howLong=function(tQ,eQ,AQ){if(tQ[eQ]!=tQ[eQ-AQ]||tQ[eQ+1]!=tQ[eQ+1-AQ]||tQ[eQ+2]!=tQ[eQ+2-AQ])return 0;var iQ=eQ,oQ=Math.min(tQ.length,eQ+258);for(eQ+=3;eQ<oQ&&tQ[eQ]==tQ[eQ-AQ];)eQ++;return eQ-iQ},UZIP.F._hash=function(tQ,eQ){return(tQ[eQ]<<8|tQ[eQ+1])+(tQ[eQ+2]<<4)&65535},UZIP.saved=0,UZIP.F._writeBlock=function(tQ,eQ,AQ,iQ,oQ,rQ,nQ,sQ,aQ){var cQ,gQ,IQ,EQ,CQ,dQ,lQ,uQ,hQ,BQ=UZIP.F.U,QQ=UZIP.F._putsF,fQ=UZIP.F._putsE;BQ.lhst[256]++,gQ=(cQ=UZIP.F.getTrees())[0],IQ=cQ[1],EQ=cQ[2],CQ=cQ[3],dQ=cQ[4],lQ=cQ[5],uQ=cQ[6],hQ=cQ[7];var _Q=32+(aQ+3&7?8-(aQ+3&7):0)+(nQ<<3),RQ=iQ+UZIP.F.contSize(BQ.fltree,BQ.lhst)+UZIP.F.contSize(BQ.fdtree,BQ.dhst),wQ=iQ+UZIP.F.contSize(BQ.ltree,BQ.lhst)+UZIP.F.contSize(BQ.dtree,BQ.dhst);wQ+=14+3*lQ+UZIP.F.contSize(BQ.itree,BQ.ihst)+(2*BQ.ihst[16]+3*BQ.ihst[17]+7*BQ.ihst[18]);for(var bQ=0;bQ<286;bQ++)BQ.lhst[bQ]=0;for(bQ=0;bQ<30;bQ++)BQ.dhst[bQ]=0;for(bQ=0;bQ<19;bQ++)BQ.ihst[bQ]=0;var NQ=_Q<RQ&&_Q<wQ?0:RQ<wQ?1:2;if(QQ(sQ,aQ,tQ),QQ(sQ,aQ+1,NQ),aQ+=3,NQ==0){for(;7&aQ;)aQ++;aQ=UZIP.F._copyExact(oQ,rQ,nQ,sQ,aQ)}else{var UQ,PQ;if(NQ==1&&(UQ=BQ.fltree,PQ=BQ.fdtree),NQ==2){UZIP.F.makeCodes(BQ.ltree,gQ),UZIP.F.revCodes(BQ.ltree,gQ),UZIP.F.makeCodes(BQ.dtree,IQ),UZIP.F.revCodes(BQ.dtree,IQ),UZIP.F.makeCodes(BQ.itree,EQ),UZIP.F.revCodes(BQ.itree,EQ),UQ=BQ.ltree,PQ=BQ.dtree,fQ(sQ,aQ,CQ-257),fQ(sQ,aQ+=5,dQ-1),fQ(sQ,aQ+=5,lQ-4),aQ+=4;for(var OQ=0;OQ<lQ;OQ++)fQ(sQ,aQ+3*OQ,BQ.itree[1+(BQ.ordr[OQ]<<1)]);aQ+=3*lQ,aQ=UZIP.F._codeTiny(uQ,BQ.itree,sQ,aQ),aQ=UZIP.F._codeTiny(hQ,BQ.itree,sQ,aQ)}for(var YQ=rQ,SQ=0;SQ<AQ;SQ+=2){for(var xQ=eQ[SQ],VQ=xQ>>>23,TQ=YQ+(8388607&xQ);YQ<TQ;)aQ=UZIP.F._writeLit(oQ[YQ++],UQ,sQ,aQ);if(VQ!=0){var kQ=eQ[SQ+1],GQ=kQ>>16,vQ=kQ>>8&255,pQ=255&kQ;fQ(sQ,aQ=UZIP.F._writeLit(257+vQ,UQ,sQ,aQ),VQ-BQ.of0[vQ]),aQ+=BQ.exb[vQ],QQ(sQ,aQ=UZIP.F._writeLit(pQ,PQ,sQ,aQ),GQ-BQ.df0[pQ]),aQ+=BQ.dxb[pQ],YQ+=VQ}}aQ=UZIP.F._writeLit(256,UQ,sQ,aQ)}return aQ},UZIP.F._copyExact=function(tQ,eQ,AQ,iQ,oQ){var rQ=oQ>>>3;return iQ[rQ]=AQ,iQ[rQ+1]=AQ>>>8,iQ[rQ+2]=255-iQ[rQ],iQ[rQ+3]=255-iQ[rQ+1],rQ+=4,iQ.set(new Uint8Array(tQ.buffer,eQ,AQ),rQ),oQ+(AQ+4<<3)},UZIP.F.getTrees=function(){for(var tQ=UZIP.F.U,eQ=UZIP.F._hufTree(tQ.lhst,tQ.ltree,15),AQ=UZIP.F._hufTree(tQ.dhst,tQ.dtree,15),iQ=[],oQ=UZIP.F._lenCodes(tQ.ltree,iQ),rQ=[],nQ=UZIP.F._lenCodes(tQ.dtree,rQ),sQ=0;sQ<iQ.length;sQ+=2)tQ.ihst[iQ[sQ]]++;for(sQ=0;sQ<rQ.length;sQ+=2)tQ.ihst[rQ[sQ]]++;for(var aQ=UZIP.F._hufTree(tQ.ihst,tQ.itree,7),cQ=19;cQ>4&&tQ.itree[1+(tQ.ordr[cQ-1]<<1)]==0;)cQ--;return[eQ,AQ,aQ,oQ,nQ,cQ,iQ,rQ]},UZIP.F.getSecond=function(tQ){for(var eQ=[],AQ=0;AQ<tQ.length;AQ+=2)eQ.push(tQ[AQ+1]);return eQ},UZIP.F.nonZero=function(tQ){for(var eQ="",AQ=0;AQ<tQ.length;AQ+=2)tQ[AQ+1]!=0&&(eQ+=(AQ>>1)+",");return eQ},UZIP.F.contSize=function(tQ,eQ){for(var AQ=0,iQ=0;iQ<eQ.length;iQ++)AQ+=eQ[iQ]*tQ[1+(iQ<<1)];return AQ},UZIP.F._codeTiny=function(tQ,eQ,AQ,iQ){for(var oQ=0;oQ<tQ.length;oQ+=2){var rQ=tQ[oQ],nQ=tQ[oQ+1];iQ=UZIP.F._writeLit(rQ,eQ,AQ,iQ);var sQ=rQ==16?2:rQ==17?3:7;rQ>15&&(UZIP.F._putsE(AQ,iQ,nQ,sQ),iQ+=sQ)}return iQ},UZIP.F._lenCodes=function(tQ,eQ){for(var AQ=tQ.length;AQ!=2&&tQ[AQ-1]==0;)AQ-=2;for(var iQ=0;iQ<AQ;iQ+=2){var oQ=tQ[iQ+1],rQ=iQ+3<AQ?tQ[iQ+3]:-1,nQ=iQ+5<AQ?tQ[iQ+5]:-1,sQ=iQ==0?-1:tQ[iQ-1];if(oQ==0&&rQ==oQ&&nQ==oQ){for(var aQ=iQ+5;aQ+2<AQ&&tQ[aQ+2]==oQ;)aQ+=2;(cQ=Math.min(aQ+1-iQ>>>1,138))<11?eQ.push(17,cQ-3):eQ.push(18,cQ-11),iQ+=2*cQ-2}else if(oQ==sQ&&rQ==oQ&&nQ==oQ){for(aQ=iQ+5;aQ+2<AQ&&tQ[aQ+2]==oQ;)aQ+=2;var cQ=Math.min(aQ+1-iQ>>>1,6);eQ.push(16,cQ-3),iQ+=2*cQ-2}else eQ.push(oQ,0)}return AQ>>>1},UZIP.F._hufTree=function(tQ,eQ,AQ){var iQ=[],oQ=tQ.length,rQ=eQ.length,nQ=0;for(nQ=0;nQ<rQ;nQ+=2)eQ[nQ]=0,eQ[nQ+1]=0;for(nQ=0;nQ<oQ;nQ++)tQ[nQ]!=0&&iQ.push({lit:nQ,f:tQ[nQ]});var sQ=iQ.length,aQ=iQ.slice(0);if(sQ==0)return 0;if(sQ==1){var cQ=iQ[0].lit;return aQ=cQ==0?1:0,eQ[1+(cQ<<1)]=1,eQ[1+(aQ<<1)]=1,1}iQ.sort(function(uQ,hQ){return uQ.f-hQ.f});var gQ=iQ[0],IQ=iQ[1],EQ=0,CQ=1,dQ=2;for(iQ[0]={lit:-1,f:gQ.f+IQ.f,l:gQ,r:IQ,d:0};CQ!=sQ-1;)gQ=EQ!=CQ&&(dQ==sQ||iQ[EQ].f<iQ[dQ].f)?iQ[EQ++]:iQ[dQ++],IQ=EQ!=CQ&&(dQ==sQ||iQ[EQ].f<iQ[dQ].f)?iQ[EQ++]:iQ[dQ++],iQ[CQ++]={lit:-1,f:gQ.f+IQ.f,l:gQ,r:IQ};var lQ=UZIP.F.setDepth(iQ[CQ-1],0);for(lQ>AQ&&(UZIP.F.restrictDepth(aQ,AQ,lQ),lQ=AQ),nQ=0;nQ<sQ;nQ++)eQ[1+(aQ[nQ].lit<<1)]=aQ[nQ].d;return lQ},UZIP.F.setDepth=function(tQ,eQ){return tQ.lit!=-1?(tQ.d=eQ,eQ):Math.max(UZIP.F.setDepth(tQ.l,eQ+1),UZIP.F.setDepth(tQ.r,eQ+1))},UZIP.F.restrictDepth=function(tQ,eQ,AQ){var iQ=0,oQ=1<<AQ-eQ,rQ=0;for(tQ.sort(function(sQ,aQ){return aQ.d==sQ.d?sQ.f-aQ.f:aQ.d-sQ.d}),iQ=0;iQ<tQ.length&&tQ[iQ].d>eQ;iQ++){var nQ=tQ[iQ].d;tQ[iQ].d=eQ,rQ+=oQ-(1<<AQ-nQ)}for(rQ>>>=AQ-eQ;rQ>0;)(nQ=tQ[iQ].d)<eQ?(tQ[iQ].d++,rQ-=1<<eQ-nQ-1):iQ++;for(;iQ>=0;iQ--)tQ[iQ].d==eQ&&rQ<0&&(tQ[iQ].d--,rQ++);rQ!=0&&console.log("debt left")},UZIP.F._goodIndex=function(tQ,eQ){var AQ=0;return eQ[16|AQ]<=tQ&&(AQ|=16),eQ[8|AQ]<=tQ&&(AQ|=8),eQ[4|AQ]<=tQ&&(AQ|=4),eQ[2|AQ]<=tQ&&(AQ|=2),eQ[1|AQ]<=tQ&&(AQ|=1),AQ},UZIP.F._writeLit=function(tQ,eQ,AQ,iQ){return UZIP.F._putsF(AQ,iQ,eQ[tQ<<1]),iQ+eQ[1+(tQ<<1)]},UZIP.F.inflate=function(tQ,eQ){var AQ=Uint8Array;if(tQ[0]==3&&tQ[1]==0)return eQ||new AQ(0);var iQ=UZIP.F,oQ=iQ._bitsF,rQ=iQ._bitsE,nQ=iQ._decodeTiny,sQ=iQ.makeCodes,aQ=iQ.codes2map,cQ=iQ._get17,gQ=iQ.U,IQ=eQ==null;IQ&&(eQ=new AQ(tQ.length>>>2<<3));for(var EQ,CQ,dQ=0,lQ=0,uQ=0,hQ=0,BQ=0,QQ=0,fQ=0,_Q=0,RQ=0;dQ==0;)if(dQ=oQ(tQ,RQ,1),lQ=oQ(tQ,RQ+1,2),RQ+=3,lQ!=0){if(IQ&&(eQ=UZIP.F._check(eQ,_Q+(1<<17))),lQ==1&&(EQ=gQ.flmap,CQ=gQ.fdmap,QQ=511,fQ=31),lQ==2){uQ=rQ(tQ,RQ,5)+257,hQ=rQ(tQ,RQ+5,5)+1,BQ=rQ(tQ,RQ+10,4)+4,RQ+=14;for(var wQ=0;wQ<38;wQ+=2)gQ.itree[wQ]=0,gQ.itree[wQ+1]=0;var bQ=1;for(wQ=0;wQ<BQ;wQ++){var NQ=rQ(tQ,RQ+3*wQ,3);gQ.itree[1+(gQ.ordr[wQ]<<1)]=NQ,NQ>bQ&&(bQ=NQ)}RQ+=3*BQ,sQ(gQ.itree,bQ),aQ(gQ.itree,bQ,gQ.imap),EQ=gQ.lmap,CQ=gQ.dmap,RQ=nQ(gQ.imap,(1<<bQ)-1,uQ+hQ,tQ,RQ,gQ.ttree);var UQ=iQ._copyOut(gQ.ttree,0,uQ,gQ.ltree);QQ=(1<<UQ)-1;var PQ=iQ._copyOut(gQ.ttree,uQ,hQ,gQ.dtree);fQ=(1<<PQ)-1,sQ(gQ.ltree,UQ),aQ(gQ.ltree,UQ,EQ),sQ(gQ.dtree,PQ),aQ(gQ.dtree,PQ,CQ)}for(;;){var OQ=EQ[cQ(tQ,RQ)&QQ];RQ+=15&OQ;var YQ=OQ>>>4;if(!(YQ>>>8))eQ[_Q++]=YQ;else{if(YQ==256)break;var SQ=_Q+YQ-254;if(YQ>264){var xQ=gQ.ldef[YQ-257];SQ=_Q+(xQ>>>3)+rQ(tQ,RQ,7&xQ),RQ+=7&xQ}var VQ=CQ[cQ(tQ,RQ)&fQ];RQ+=15&VQ;var TQ=VQ>>>4,kQ=gQ.ddef[TQ],GQ=(kQ>>>4)+oQ(tQ,RQ,15&kQ);for(RQ+=15&kQ,IQ&&(eQ=UZIP.F._check(eQ,_Q+(1<<17)));_Q<SQ;)eQ[_Q]=eQ[_Q++-GQ],eQ[_Q]=eQ[_Q++-GQ],eQ[_Q]=eQ[_Q++-GQ],eQ[_Q]=eQ[_Q++-GQ];_Q=SQ}}}else{7&RQ&&(RQ+=8-(7&RQ));var vQ=4+(RQ>>>3),pQ=tQ[vQ-4]|tQ[vQ-3]<<8;IQ&&(eQ=UZIP.F._check(eQ,_Q+pQ)),eQ.set(new AQ(tQ.buffer,tQ.byteOffset+vQ,pQ),_Q),RQ=vQ+pQ<<3,_Q+=pQ}return eQ.length==_Q?eQ:eQ.slice(0,_Q)},UZIP.F._check=function(tQ,eQ){var AQ=tQ.length;if(eQ<=AQ)return tQ;var iQ=new Uint8Array(Math.max(AQ<<1,eQ));return iQ.set(tQ,0),iQ},UZIP.F._decodeTiny=function(tQ,eQ,AQ,iQ,oQ,rQ){for(var nQ=UZIP.F._bitsE,sQ=UZIP.F._get17,aQ=0;aQ<AQ;){var cQ=tQ[sQ(iQ,oQ)&eQ];oQ+=15&cQ;var gQ=cQ>>>4;if(gQ<=15)rQ[aQ]=gQ,aQ++;else{var IQ=0,EQ=0;gQ==16?(EQ=3+nQ(iQ,oQ,2),oQ+=2,IQ=rQ[aQ-1]):gQ==17?(EQ=3+nQ(iQ,oQ,3),oQ+=3):gQ==18&&(EQ=11+nQ(iQ,oQ,7),oQ+=7);for(var CQ=aQ+EQ;aQ<CQ;)rQ[aQ]=IQ,aQ++}}return oQ},UZIP.F._copyOut=function(tQ,eQ,AQ,iQ){for(var oQ=0,rQ=0,nQ=iQ.length>>>1;rQ<AQ;){var sQ=tQ[rQ+eQ];iQ[rQ<<1]=0,iQ[1+(rQ<<1)]=sQ,sQ>oQ&&(oQ=sQ),rQ++}for(;rQ<nQ;)iQ[rQ<<1]=0,iQ[1+(rQ<<1)]=0,rQ++;return oQ},UZIP.F.makeCodes=function(tQ,eQ){for(var AQ,iQ,oQ,rQ,nQ=UZIP.F.U,sQ=tQ.length,aQ=nQ.bl_count,cQ=0;cQ<=eQ;cQ++)aQ[cQ]=0;for(cQ=1;cQ<sQ;cQ+=2)aQ[tQ[cQ]]++;var gQ=nQ.next_code;for(AQ=0,aQ[0]=0,iQ=1;iQ<=eQ;iQ++)AQ=AQ+aQ[iQ-1]<<1,gQ[iQ]=AQ;for(oQ=0;oQ<sQ;oQ+=2)(rQ=tQ[oQ+1])!=0&&(tQ[oQ]=gQ[rQ],gQ[rQ]++)},UZIP.F.codes2map=function(tQ,eQ,AQ){for(var iQ=tQ.length,oQ=UZIP.F.U.rev15,rQ=0;rQ<iQ;rQ+=2)if(tQ[rQ+1]!=0)for(var nQ=rQ>>1,sQ=tQ[rQ+1],aQ=nQ<<4|sQ,cQ=eQ-sQ,gQ=tQ[rQ]<<cQ,IQ=gQ+(1<<cQ);gQ!=IQ;)AQ[oQ[gQ]>>>15-eQ]=aQ,gQ++},UZIP.F.revCodes=function(tQ,eQ){for(var AQ=UZIP.F.U.rev15,iQ=15-eQ,oQ=0;oQ<tQ.length;oQ+=2){var rQ=tQ[oQ]<<eQ-tQ[oQ+1];tQ[oQ]=AQ[rQ]>>>iQ}},UZIP.F._putsE=function(tQ,eQ,AQ){AQ<<=7&eQ;var iQ=eQ>>>3;tQ[iQ]|=AQ,tQ[iQ+1]|=AQ>>>8},UZIP.F._putsF=function(tQ,eQ,AQ){AQ<<=7&eQ;var iQ=eQ>>>3;tQ[iQ]|=AQ,tQ[iQ+1]|=AQ>>>8,tQ[iQ+2]|=AQ>>>16},UZIP.F._bitsE=function(tQ,eQ,AQ){return(tQ[eQ>>>3]|tQ[1+(eQ>>>3)]<<8)>>>(7&eQ)&(1<<AQ)-1},UZIP.F._bitsF=function(tQ,eQ,AQ){return(tQ[eQ>>>3]|tQ[1+(eQ>>>3)]<<8|tQ[2+(eQ>>>3)]<<16)>>>(7&eQ)&(1<<AQ)-1},UZIP.F._get17=function(tQ,eQ){return(tQ[eQ>>>3]|tQ[1+(eQ>>>3)]<<8|tQ[2+(eQ>>>3)]<<16)>>>(7&eQ)},UZIP.F._get25=function(tQ,eQ){return(tQ[eQ>>>3]|tQ[1+(eQ>>>3)]<<8|tQ[2+(eQ>>>3)]<<16|tQ[3+(eQ>>>3)]<<24)>>>(7&eQ)},UZIP.F.U=(u16=Uint16Array,u32=Uint32Array,{next_code:new u16(16),bl_count:new u16(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new u16(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new u32(32),flmap:new u16(512),fltree:[],fdmap:new u16(32),fdtree:[],lmap:new u16(32768),ltree:[],ttree:[],dmap:new u16(32768),dtree:[],imap:new u16(512),itree:[],rev15:new u16(32768),lhst:new u32(286),dhst:new u32(30),ihst:new u32(19),lits:new u32(15e3),strt:new u16(65536),prev:new u16(32768)}),function(){for(var tQ=UZIP.F.U,eQ=0;eQ<32768;eQ++){var AQ=eQ;AQ=(4278255360&(AQ=(4042322160&(AQ=(3435973836&(AQ=(2863311530&AQ)>>>1|(1431655765&AQ)<<1))>>>2|(858993459&AQ)<<2))>>>4|(252645135&AQ)<<4))>>>8|(16711935&AQ)<<8,tQ.rev15[eQ]=(AQ>>>16|AQ<<16)>>>17}function iQ(oQ,rQ,nQ){for(;rQ--!=0;)oQ.push(0,nQ)}for(eQ=0;eQ<32;eQ++)tQ.ldef[eQ]=tQ.of0[eQ]<<3|tQ.exb[eQ],tQ.ddef[eQ]=tQ.df0[eQ]<<4|tQ.dxb[eQ];iQ(tQ.fltree,144,8),iQ(tQ.fltree,112,9),iQ(tQ.fltree,24,7),iQ(tQ.fltree,8,8),UZIP.F.makeCodes(tQ.fltree,9),UZIP.F.codes2map(tQ.fltree,9,tQ.flmap),UZIP.F.revCodes(tQ.fltree,9),iQ(tQ.fdtree,32,5),UZIP.F.makeCodes(tQ.fdtree,5),UZIP.F.codes2map(tQ.fdtree,5,tQ.fdmap),UZIP.F.revCodes(tQ.fdtree,5),iQ(tQ.itree,19,0),iQ(tQ.ltree,286,0),iQ(tQ.dtree,30,0),iQ(tQ.ttree,320,0)}();const{inflate:inflate$1}=UZIP,UINT32_MAX=4294967295,OperationName={initRTM:"initRTM",login:"login",logout:"logout",renewToken:"renewToken",updateConfig:"updateConfig",publish:"publish",subscribe:"subscribe",unsubscribe:"unsubscribe",createStreamChannel:"createStreamChannel",leave:"leave",joinTopic:"joinTopic",join:"join",publishTopicMessage:"publishTopicMessage",leaveTopic:"leaveTopic",subscribeTopic:"subscribeTopic",unsubscribeTopic:"unsubscribeTopic",getSubscribedUserList:"getSubscribedUserList",setChannelMetadata:"setChannelMetadata",getChannelMetadata:"getChannelMetadata",removeChannelMetadata:"removeChannelMetadata",updateChannelMetadata:"updateChannelMetadata",setUserMetadata:"setUserMetadata",getUserMetadata:"getUserMetadata",removeUserMetadata:"removeUserMetadata",updateUserMetadata:"updateUserMetadata",subscribeUserMetadata:"subscribeUserMetadata",unsubscribeUserMetadata:"unsubscribeUserMetadata",setLock:"setLock",removeLock:"removeLock",acquireLock:"acquireLock",releaseLock:"releaseLock",revokeLock:"revokeLock",getLock:"getLock",rtm:"rtm",presenceSetState:"presenceSetState",whereNow:"whereNow",getUserChannels:"getUserChannels",whoNow:"whoNow",getOnlineUsers:"getOnlineUsers",presenceGetState:"presenceGetState",presenceRemoveState:"presenceRemoveState",storage:"storage",getMessages:"getMessages"};function getRandomInt(tQ,eQ){const AQ=Math.ceil(tQ),iQ=Math.floor(eQ);return Math.floor(Math.random()*(iQ-AQ+1))+tQ}function getRandomUInt64(){const tQ=getRandomInt(0,UINT32_MAX),eQ=getRandomInt(1,UINT32_MAX);return new Long$2(tQ,eQ,!0)}function getSid(tQ){return tQ.toString().padEnd(32,"0")}function calIpDistance(tQ,eQ){const AQ=tQ.split(".").map(oQ=>Number(oQ)),iQ=eQ.split(".").map(oQ=>Number(oQ));return Math.sqrt(1e3*(AQ[0]-iQ[0])**2+100*(AQ[1]-iQ[1])**2+10*(AQ[2]-iQ[2])**2+1*(AQ[3]-iQ[3])**2)}function longToStringIfNeeded(tQ){return tQ.lessThanOrEqual(Number.MAX_SAFE_INTEGER)?tQ.toNumber():tQ.toString()}const prefixSeqMap=new Map;function uniquePrefixedId(tQ,eQ){const AQ="".concat(tQ).concat(eQ||""),iQ=prefixSeqMap.get(AQ)||1;return prefixSeqMap.set(AQ,iQ+1),"".concat(tQ).concat(iQ)}const getUTCTimestamp$1=()=>{const tQ=new Date,[eQ,AQ]=tQ.toISOString().split("T"),[iQ,oQ,rQ]=eQ.split("-");return"".concat(oQ,"-").concat(rQ," ").concat(AQ.replace(/\..+/,""),".").concat(tQ.getMilliseconds())},getKeys=Object.keys,getEntries=Object.entries.bind(Object);function isLongNum(tQ){return typeof tQ=="number"||Long$2.isLong(tQ)}async function delay$1(tQ,eQ){return new Promise(AQ=>{setTimeout(AQ,tQ)})}async function postWithAbortSignal(tQ,eQ,AQ){let{body:iQ,headers:oQ={},timeout:rQ=1e4,signal:nQ,withCredentials:sQ=!1}=eQ;if(navigator.onLine===!1)throw new Error("network is offline, not permit send request: url(".concat(tQ,")"));const aQ=OperationName.rtm,{useBinaryResponse:cQ=!1}={},gQ=new XMLHttpRequest;gQ.open("POST",tQ,!0),gQ.responseType=cQ?"arraybuffer":"text",gQ.withCredentials=sQ,gQ.timeout=rQ;const IQ=iQ instanceof FormData,EQ=iQ instanceof Uint8Array,CQ=Object.keys(oQ).filter(dQ=>dQ.toLowerCase()==="content-type");if(CQ.length>1)throw new RangeError("multiple content-type");if(CQ.length===0&&(EQ?oQ["Content-Type"]="application/octet-stream":IQ||(oQ["Content-Type"]="application/json")),!("setRequestHeader"in gQ)){gQ.abort();const dQ=await fetch(tQ,{body:IQ||EQ?iQ:JSON.stringify(iQ),cache:"no-cache",credentials:sQ?"include":"same-origin",headers:oQ,method:"POST",mode:"cors",referrer:"no-referrer",signal:nQ}),{status:lQ}=dQ;if(lQ>=200&&lQ<300||lQ===304)return cQ?{status:lQ,responseData:await dQ.arrayBuffer()}:{status:lQ,responseText:await dQ.text()};const uQ=new RtmUnavailableError(aQ,["Post XHR failure, status %d",lQ]);try{const hQ=await dQ.text();throw uQ.statusCode=lQ,uQ.message=hQ||"Request failed, status ".concat(lQ),uQ}catch{throw uQ.statusCode=lQ,uQ.message="Request failed, status ".concat(lQ),uQ}}if(Object.keys(oQ).length!==0)for(let dQ=0,lQ=Object.entries(oQ);dQ<lQ.length;dQ++){const[uQ,hQ]=lQ[dQ];gQ.setRequestHeader(uQ,hQ)}if(nQ!==void 0){const dQ=()=>{gQ.abort(),nQ.removeEventListener("abort",dQ)};nQ.addEventListener("abort",dQ)}return IQ||EQ?gQ.send(iQ):gQ.send(JSON.stringify(iQ)),new Promise((dQ,lQ)=>{const uQ=()=>{try{lQ(new DOMException("The request aborted.","AbortError"))}catch{const BQ=new Error("The request aborted.");BQ.name="AbortError",lQ(BQ)}};gQ.onload=()=>{const{status:hQ}=gQ;if(hQ===0)uQ();else if(hQ>=200&&hQ<300||hQ===304)dQ(cQ?{status:hQ,responseData:gQ.response}:{status:hQ,responseText:gQ.responseText});else{const BQ=new RtmUnavailableError(aQ,["Post XHR failure, status %d",hQ]);BQ.statusCode=hQ,BQ.message=gQ.response||"Request failed, status ".concat(gQ.status),lQ(BQ)}},gQ.ontimeout=hQ=>{lQ(new RtmTimeoutError(aQ,["XHR request timed out after %d ms",rQ],{originalError:hQ}))},gQ.onerror=()=>{gQ.status===0&&uQ();const hQ=new RtmUnavailableError(aQ,["Post XHR failure, status %d",gQ.status]);hQ.statusCode=gQ.status,hQ.message=gQ.response||"Request failed, status ".concat(gQ.status),lQ(hQ)},gQ.onabort=()=>{uQ()}})}function validMessage(tQ,eQ){const AQ=OperationName.publish,{code:iQ,reason:oQ}=getErrorInfoByCode(eQ);if(!isPlainObject$3(tQ))throw new RtmInvalidArgumentError(AQ,[oQ],iQ);if(tQ.messageType===void 0)if(tQ.rawMessage instanceof Uint8Array){if(tQ.messageType="RAW",tQ.text!==void 0)throw new RtmInvalidArgumentError(AQ,[oQ],iQ)}else{if(typeof tQ.text!="string")throw new RtmInvalidArgumentError(AQ,[oQ],iQ);if(tQ.messageType="TEXT",tQ.rawMessage!==void 0)throw new RtmInvalidArgumentError(AQ,[oQ],iQ)}}async function commonSendMessage(tQ){let{message:eQ,peerId:AQ,session:iQ,diff:oQ,customType:rQ,storeInHistory:nQ,toPeer:sQ}=tQ;const aQ=OperationName.publish;if(iQ===void 0){const{code:gQ,reason:IQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(aQ,[IQ],gQ)}let cQ;switch(cQ=sQ?eQ.messageType==="TEXT"?RtmMessageCategoryEnum.P2pSMsgNoOfflineFlag:RtmMessageCategoryEnum.P2pRMsgNoOfflineFlag:eQ.messageType==="TEXT"?RtmMessageCategoryEnum.ChannelSMsg:RtmMessageCategoryEnum.ChannelRMsg,eQ.messageType){case"TEXT":return iQ.sendTextMessage(eQ.text,AQ,sQ,(sQ?P2P_MESSAGE_SEND_TIMEOUT:MESSAGE_SEND_TIMEOUT)-oQ,rQ,nQ);case"RAW":return eQ.description===void 0&&(eQ.description=""),iQ.sendRawMessage(eQ.rawMessage,eQ.description,AQ,sQ,(sQ?P2P_MESSAGE_SEND_TIMEOUT:MESSAGE_SEND_TIMEOUT)-oQ,rQ,nQ);default:iQ.emit("messageCount",{messageCategory:cQ,type:"common",key:"sentcount"}),iQ.emit("messageCount",{messageCategory:cQ,type:"common",key:"invalidmessagecount"});const{code:gQ,reason:IQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_INVALID_MESSAGE);throw new RtmInvalidArgumentError(aQ,[IQ],gQ)}}function getDomain(tQ){let eQ=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],AQ=tQ.replace(/(https?:\/\/)?(www.)?/i,"");return eQ||(AQ=AQ.split(".").slice(tQ.length-2).join(".")),AQ.indexOf("/")!==-1?AQ.split("/")[0]:AQ}function replaceRangeWithAsterisk(tQ){const eQ=String(tQ);if(typeof eQ!="string")return"[Sensitive Info]";const AQ=Math.floor(.7*eQ.length),iQ=eQ.length;return replaceRange(eQ,AQ,iQ,"*".repeat(iQ-AQ))}function maskMiddleOfString(tQ){const eQ=String(tQ);if(typeof eQ!="string")return"[Sensitive Info]";const AQ=eQ.length;if(AQ<=2)return eQ;const iQ=AQ/3,oQ=AQ/3*2,rQ="*".repeat(oQ-iQ);return eQ.substring(0,iQ)+rQ+eQ.substring(oQ)}function handleLogObject(tQ,eQ,AQ){function iQ(oQ){if(isPrimitive(oQ))return oQ;if(tQ instanceof Uint8Array)return"[Hidden Info]";if(Array.isArray(oQ))return oQ.map(iQ);const rQ={};for(let nQ=0,sQ=Object.entries(oQ);nQ<sQ.length;nQ++){const[aQ,cQ]=sQ[nQ],gQ=typeof cQ=="number"?cQ.toString():cQ;gQ instanceof Uint8Array||eQ.includes(aQ)?rQ[aQ]="[Hidden Info]":AQ.includes(aQ)?rQ[aQ]=typeof gQ=="string"?maskMiddleOfString(gQ):Array.isArray(gQ)?gQ.map(iQ):iQ(gQ):rQ[aQ]=isNil$1(gQ)?gQ:iQ(gQ)}return rQ}return Array.isArray(tQ)?tQ.map(iQ):iQ(tQ)}function deepFreeze(tQ){return Object.getOwnPropertyNames(tQ).forEach(function(eQ){const AQ=tQ[eQ];typeof AQ=="object"&&AQ!==null&&deepFreeze(AQ)}),Object.freeze(tQ)}function decodeUint8ArrayToString(tQ){return new TextDecoder("utf-8").decode(tQ.buffer.slice(tQ.byteOffset,tQ.byteOffset+tQ.byteLength))}function concatenateUint8Array(){let tQ=0;for(var eQ=arguments.length,AQ=new Array(eQ),iQ=0;iQ<eQ;iQ++)AQ[iQ]=arguments[iQ];for(let nQ=0;nQ<AQ.length;nQ++)tQ+=AQ[nQ].length;const oQ=new Uint8Array(tQ);let rQ=0;for(let nQ=0;nQ<AQ.length;nQ++){const sQ=AQ[nQ];oQ.set(sQ,rQ),rQ+=sQ.length}return oQ}function appendQueryParameter(tQ,eQ,AQ){const iQ=tQ.match(/([^?#]+)(\?[^#]*)?(\#.*)?/),oQ=iQ==null?void 0:iQ[1],rQ=iQ==null?void 0:iQ[2];if(rQ){const nQ=rQ.substr(1).split("&");let sQ;for(sQ=0;sQ<nQ.length;sQ++)if(nQ[sQ].split("=")[0]==eQ){nQ[sQ]=eQ+"="+encodeURIComponent(AQ);break}return sQ==nQ.length&&nQ.push(eQ+"="+encodeURIComponent(AQ)),oQ+"?"+nQ.join("&")}return oQ+"?"+eQ+"="+encodeURIComponent(AQ)}function replaceRange(tQ,eQ,AQ,iQ){return typeof tQ!="string"?"[Sensitive Info]":tQ.substring(0,eQ)+iQ+tQ.substring(AQ)}function isValidEnvString(tQ){return typeof tQ=="string"&&tQ.length!==0&&tQ!=="false"&&tQ!=="null"&&tQ!=="undefined"}const streamChannel_prefix="*s*",lock_prefix="*l*";function getPrefixLockName(tQ){return"".concat(lock_prefix).concat(tQ)}function getChannelNameByType(tQ,eQ){return eQ==="STREAM"?"".concat(streamChannel_prefix).concat(tQ):tQ}function getChannelDetailByName(tQ){return tQ.startsWith(streamChannel_prefix)?{channelName:tQ.slice(3),channelType:"STREAM"}:{channelName:tQ,channelType:"MESSAGE"}}function roundUp(tQ){const eQ=(1<<ROUNDUP_BIT_SIZE)-1;return tQ+eQ&~eQ}function encrypt(tQ,eQ,AQ,iQ){let oQ=typeof tQ=="string"?new TextEncoder().encode(tQ):tQ;const rQ=roundUp(oQ.length);if(rQ>oQ.byteLength){const aQ=new Uint8Array(rQ-oQ.byteLength);oQ=new Uint8Array([...oQ,...aQ])}const nQ=util$6.createBuffer(oQ),sQ=forgeCipher.createCipher("AES-GCM",util$6.createBuffer(eQ.slice(0,iQ)));sQ.start({iv:AQ}),sQ.update(nQ),sQ.finish();{const aQ=sQ.output.getBytes()+sQ.mode.tag.getBytes(),cQ=[];for(let gQ=0;gQ<aQ.length;gQ++)cQ.push(aQ.charCodeAt(gQ));return new Uint8Array(cQ)}}function decrypt(tQ,eQ,AQ,iQ){const oQ=util$6.createBuffer(tQ),rQ=util$6.createBuffer(tQ),nQ=util$6.createBuffer(oQ.getBytes(oQ.length()).slice(-TAG_LENGTH)),sQ=rQ.getBytes(rQ.length()).slice(0,oQ.getBytes().length-TAG_LENGTH),aQ=forgeCipher.createDecipher("AES-GCM",util$6.createBuffer(eQ.slice(0,iQ)));aQ.start({iv:AQ,tag:nQ,tagLength:128}),aQ.update(util$6.createBuffer(sQ)),aQ.finish();const cQ=aQ.output.data,gQ=[];for(let IQ=0;IQ<cQ.length;IQ++)gQ.push(cQ.charCodeAt(IQ));return new Uint8Array(gQ)}function GlobalPresenceString(tQ){return K_PRESENCE_PREFIX+tQ+K_GLOBAL_ONLINE}function ChannelQueryString(tQ,eQ){return K_PRESENCE_PREFIX+tQ+K_CHANNEL_ONLINE+eQ+K_USER_COLLECTION}function extractPrefixChannelName(tQ){const eQ=new RegExp("^".concat(K_PRESENCE_PREFIX,"([^/]+)").concat(K_CHANNEL_ONLINE,"([^/]+)").concat(K_USER_COLLECTION,"$")),AQ=tQ.match(eQ);return AQ?{vid:AQ[1],prefixChannelName:AQ[2]}:{}}function getErrorInfoByCode(tQ){return{code:tQ,reason:RTMErrorDescription[tQ]}}class ReadByteBuffer{constructor(eQ){_defineProperty$1(this,"view",void 0),_defineProperty$1(this,"offset",void 0),this.view=new DataView(eQ),this.offset=0}getString(){const eQ=this.view.getUint16(this.offset,!0);this.offset+=2;const AQ=new Uint8Array(this.view.buffer,this.offset,eQ);return this.offset+=eQ,new TextDecoder().decode(AQ)}getUint32(){const eQ=this.view.getUint32(this.offset,!0);return this.offset+=4,eQ}getUint16(){const eQ=this.view.getUint16(this.offset,!0);return this.offset+=2,eQ}pack(){return this.view.buffer.slice(this.offset)}}function decodeBase64(tQ){const eQ=atob(tQ),AQ=new Uint8Array(eQ.length);for(let iQ=0;iQ<eQ.length;iQ++)AQ[iQ]=eQ.charCodeAt(iQ);return AQ}function fromStringWith006(tQ){return tQ.slice(VERSION_LENGTH,APP_ID_LENGTH+VERSION_LENGTH)}function fromStringWith007(tQ){const eQ=tQ.substring(VERSION_LENGTH),AQ=inflate$1(decodeBase64(eQ)),iQ=new ReadByteBuffer(AQ.buffer);return iQ.getString(),iQ.getString()}const syncRpcStart="Sync Request Start",syncRpcEnd="Sync Request End";function getUTCTimeBaseREG(tQ){return new Date().getTime()+tQ}function parseHost(tQ,eQ){let AQ=eQ;const iQ=tQ.indexOf(":");if(iQ!==-1){const oQ=tQ.length-iQ;return AQ=Number(tQ.slice(iQ+1)),{domain:tQ.slice(0,tQ.length-oQ),port:eQ}}return{domain:tQ,port:AQ}}function getPrivateSettingsPortAndDomains(tQ,eQ){let AQ=eQ;return{hostname:tQ.map(iQ=>{const oQ=parseHost(iQ,void 0);return oQ.port&&(AQ=oQ.port),oQ.domain}),port:AQ}}function getSyncPacketUri(tQ){const eQ=Array.from(tQ.slice(2,4)),AQ=eQ[0],iQ=eQ[1];return new DataView(new Uint8Array([iQ,AQ]).buffer).getInt16(0)}function handleJoinOptionsAsDefault(tQ){var eQ,AQ,iQ,oQ;return{withLock:(eQ=tQ==null?void 0:tQ.withLock)!==null&&eQ!==void 0&&eQ,withMetadata:(AQ=tQ==null?void 0:tQ.withMetadata)!==null&&AQ!==void 0&&AQ,withPresence:(iQ=tQ==null?void 0:tQ.withPresence)===null||iQ===void 0||iQ,beQuiet:(oQ=tQ==null?void 0:tQ.beQuiet)!==null&&oQ!==void 0&&oQ}}function handleSubOptionsAsDefault(tQ){var eQ;return _objectSpread2(_objectSpread2({},handleJoinOptionsAsDefault(tQ)),{},{withMessage:(eQ=tQ==null?void 0:tQ.withMessage)===null||eQ===void 0||eQ})}async function timeoutPromise(tQ,eQ,AQ,iQ,oQ){if(tQ)return new Promise(async(rQ,nQ)=>{const sQ=setTimeout(()=>{clearTimeout(sQ);const{code:aQ,reason:cQ}=getErrorInfoByCode(iQ),gQ=new RtmTimeoutError(AQ,[cQ+"timeout occurred"],aQ);nQ(gQ)},eQ);try{const aQ=await tQ;clearTimeout(sQ),rQ(aQ)}catch(aQ){if(clearTimeout(sQ),isRtmError(aQ)||oQ)nQ(aQ);else{const{code:cQ,reason:gQ}=getErrorInfoByCode(iQ),IQ=new RtmTimeoutError(AQ,[gQ+"timeout occurred"],cQ);nQ(IQ)}}})}let RegServerErrorCode=function(tQ){return tQ[tQ.kOk=0]="kOk",tQ[tQ.kFail=1]="kFail",tQ[tQ.kTimestampExpired=2]="kTimestampExpired",tQ[tQ.kChannelPermissionInvalid=3]="kChannelPermissionInvalid",tQ[tQ.kCertificateInvalid=4]="kCertificateInvalid",tQ[tQ.kChannelNameEmpty=5]="kChannelNameEmpty",tQ[tQ.kChannelNotFound=6]="kChannelNotFound",tQ[tQ.kTicketInvalid=7]="kTicketInvalid",tQ[tQ.kChannelConflicted=8]="kChannelConflicted",tQ[tQ.kServiceNotReady=9]="kServiceNotReady",tQ[tQ.kServiceTooHeavy=10]="kServiceTooHeavy",tQ[tQ.kRejoined=11]="kRejoined",tQ[tQ.kNoNeedToChange=13]="kNoNeedToChange",tQ[tQ.kUidBanned=14]="kUidBanned",tQ[tQ.kIpBanned=15]="kIpBanned",tQ[tQ.kChannelBanned=16]="kChannelBanned",tQ[tQ.kTicketParseError=17]="kTicketParseError",tQ[tQ.kTicketIllegalLength=18]="kTicketIllegalLength",tQ[tQ.kTicketNotAuth=19]="kTicketNotAuth",tQ[tQ.kTicketUnknownVersion=20]="kTicketUnknownVersion",tQ[tQ.kLoginedFromRemote=21]="kLoginedFromRemote",tQ[tQ.kGwychFailed=23]="kGwychFailed",tQ[tQ.kTooManyBroadcasters=24]="kTooManyBroadcasters",tQ[tQ.kServerDown=25]="kServerDown",tQ[tQ.kResourceHeldByOther=26]="kResourceHeldByOther",tQ[tQ.kRtm2GwychFailed=27]="kRtm2GwychFailed",tQ[tQ.kAutoRebalance=28]="kAutoRebalance",tQ[tQ.kBannedForExceedingQuota=101]="kBannedForExceedingQuota",tQ[tQ.kRequestPending=65535]="kRequestPending",tQ[tQ.kVoid=1e4]="kVoid",tQ[tQ.kConnectionTimeout=10001]="kConnectionTimeout",tQ[tQ.kInvalidPacket=10002]="kInvalidPacket",tQ[tQ.kAlreadyJoined=10003]="kAlreadyJoined",tQ[tQ.kJoinTimeout=10004]="kJoinTimeout",tQ[tQ.kRejoinFailed=10005]="kRejoinFailed",tQ[tQ.kJoinTooFrequently=10006]="kJoinTooFrequently",tQ[tQ.kCompressionMethodUnrecognized=10007]="kCompressionMethodUnrecognized",tQ[tQ.kUserNotFound=10008]="kUserNotFound",tQ[tQ.kUserInstanceConflict=10009]="kUserInstanceConflict",tQ[tQ.kContentOversized=10010]="kContentOversized",tQ[tQ.kRequestTooFrequently=10011]="kRequestTooFrequently",tQ[tQ.kDamagedPacket=10012]="kDamagedPacket",tQ[tQ.kInvalidRequestParameters=10013]="kInvalidRequestParameters",tQ[tQ.kServerInternalError=10014]="kServerInternalError",tQ[tQ.kContentNotFound=10015]="kContentNotFound",tQ[tQ.kIncompatible=10016]="kIncompatible",tQ[tQ.kEdgeInDegradation=10017]="kEdgeInDegradation",tQ[tQ.kUserBannedByRule=10018]="kUserBannedByRule",tQ[tQ.kUserBannedByAuth=10019]="kUserBannedByAuth",tQ[tQ.kGroupUserBannedByAuth=10020]="kGroupUserBannedByAuth",tQ[tQ.kConsoleConfigNotFound=10021]="kConsoleConfigNotFound",tQ[tQ.kUserRejectedByConsoleConfig=10022]="kUserRejectedByConsoleConfig",tQ[tQ.kTest1=11001]="kTest1",tQ[tQ.kTest2=11002]="kTest2",tQ[tQ.kTest3=11003]="kTest3",tQ}({});class OperationControl{constructor(){_defineProperty$1(this,"promiseMap",new Map)}setPromise(eQ,AQ){this.promiseMap.set(eQ,AQ)}getPromise(eQ){return this.promiseMap.get(eQ)}deletePromise(eQ){this.promiseMap.delete(eQ)}async awaitPromise(eQ){let AQ,iQ;const oQ=new Promise((nQ,sQ)=>{AQ=nQ,iQ=sQ}),rQ=this.getPromise(eQ);try{rQ&&await rQ}catch{}return oQ.finally(()=>{this.deletePromise(eQ)}),this.setPromise(eQ,oQ),{currentResolve:AQ,currentReject:iQ}}}function validDomain(tQ){return/^(?:(?:[a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)+[a-zA-Z]{2,}(?::\d{1,5})?$/.test(tQ)}const linkStateCodeMap={IDLE:0,CONNECTING:1,CONNECTED:2,DISCONNECTED:3,SUSPENDED:4,FAILED:5},linkOperationCodeMap={LOGIN:0,LOGOUT:1,JOIN:2,LEAVE:3,SERVER_REJECT:4,AUTO_RECONNECT:5,RECONNECTED:6,HEARTBEAT_TIMEOUT:7,SERVER_TIMEOUT:8,NETWORK_CHANGE:9},EDGE_ENV_PORT={0:9591,1:9593},EDGE_ENV_PORT_DEFAULT=EDGE_ENV_PORT,DEFAULT_API_RATE_LIMIT=new Map([["removeLock",20],["setLock",20],["acquireLock",10],["releaseLock",20],["revokeLock",20],["getLock",20],["userMetaModify",20],["userMetaGet",20],["userMetaSub",20],["channelMetaModify",20],["channelMetaGet",20],["login",20],["renewToken",20],["whoNow",20],["whereNow",20],["modifyState",20],["getState",20],["subscribe",20],["join",20],["joinTopic",20],["subscribeTopic",20],["publish",60],["publishTopicMsg",200],["getMessages",20]]),loginConfig={AP_DOMAIN:void 0,EDGE_DOMAIN_TLD:void 0,EDGE_IP_LIST:void 0,EDGE_ENV_PORT:EDGE_ENV_PORT_DEFAULT,REGISTRAR_USE_WS:!1},consoleConfig={RTM2_ENABLED:void 0,LOCK_ENABLED:void 0,STORAGE_ENABLED:void 0,STORAGE_CHANNEL_SUB_ENABLED:void 0,STORAGE_USER_SUB_ENABLED:void 0,PRESENCE_INTERVAL:void 0,PRESENCE_THRESHOLD:void 0,PRESENCE_DEBOUNCE:void 0,PRESENCE_TIMEOUT:K_PRESENCE_TIMEOUT_DEFAULT,PRESENCE_RPC_TIMEOUT:DEFAULT_RPC_TIMEOUT_TIME,API_RATE_LIMIT:DEFAULT_API_RATE_LIMIT,ENABLE_API_RATE_LIMIT:!0},MUTABLE_PARAMS=_objectSpread2(_objectSpread2({RECONNECTING_AP_INTERVAL:2500,RECONNECTING_AP_NUM:2,DISABLE_MESSAGE_COMPRESSION:!1,LOG_UPLOAD_INTERVAL:5e3,LOG_HANDLER:void 0,ENABLE_EDGE_AUTO_FALLBACK:!0,MAX_STATE_COUNT,USE_STAGING_REPORT_DOMAIN:!1,PRINT_TICK_LOG:!1,RTM_LINK_KEEP_ALIVE_TIMEOUT:void 0,HEART_BEAT:void 0,VID:new Map,STREAM_CHANNEL_COUNT:SUB_STREAM_CHANNEL_LIMITATION,MESSAGE_CHANNEL_COUNT:MAX_JOINED_CHANNELS,HISTORY_MSG_COUNT_LIMIT:GET_MESSAGE_MAX_COUNT,LOG_PING_PONG:!1,AREA_CONFIG:void 0,DECOUPLE_SYNC:!0,LOCK_TTL:LOCK_DEFAULT_TTL},consoleConfig),loginConfig);class Parameter{_setParameter(eQ,AQ){if(console.log(JSON.stringify({key:eQ,value:AQ}),"RTM setParameter"),!Object.keys(MUTABLE_PARAMS).includes(eQ)){console.warn("setParameter: key is not in MUTABLE_PARAMS");const{code:iQ,reason:oQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_PARAMETER);throw new RtmInvalidArgumentError("set parameter",[oQ],iQ)}switch(eQ){case"STREAM_CHANNEL_COUNT":const iQ=typeof AQ=="number"&&AQ>100?100:typeof AQ=="number"?AQ:SUB_STREAM_CHANNEL_LIMITATION;MUTABLE_PARAMS.STREAM_CHANNEL_COUNT=iQ;break;case"MESSAGE_CHANNEL_COUNT":MUTABLE_PARAMS.MESSAGE_CHANNEL_COUNT=typeof AQ=="number"?AQ:MAX_JOINED_CHANNELS;case"HISTORY_MSG_COUNT_LIMIT":MUTABLE_PARAMS.HISTORY_MSG_COUNT_LIMIT=typeof AQ=="number"?AQ:GET_MESSAGE_MAX_COUNT;break;case"API_RATE_LIMIT":if(isNil$1(AQ))MUTABLE_PARAMS.API_RATE_LIMIT=DEFAULT_API_RATE_LIMIT;else{if(!(AQ instanceof Map)){console.warn("setParameter: API_RATE_LIMIT value is not a Map");const{code:oQ,reason:rQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_PARAMETER);throw new RtmInvalidArgumentError("set parameter",[rQ],oQ)}{const oQ=AQ.entries();Array.from(oQ).forEach(rQ=>{let[nQ,sQ]=rQ;typeof sQ=="number"&&MUTABLE_PARAMS.API_RATE_LIMIT.set(nQ,sQ)})}}break;default:MUTABLE_PARAMS[eQ]=AQ}}_getParameter(eQ){return MUTABLE_PARAMS[eQ]}setParameter(eQ,AQ){return this._setParameter(eQ,AQ)}getParameter(eQ){return this._getParameter(eQ)}}const p=new Parameter,setParameter=p.setParameter.bind(p),getParameter=p.getParameter.bind(p);function setVidParameter(tQ,eQ){const AQ=getParameter("VID");AQ.set(tQ,eQ),setParameter("VID",AQ)}const _excluded=["CODE"];let AreaCodeMap=function(tQ){return tQ.CHINA="CN",tQ.ASIA="AS",tQ.NORTH_AMERICA="NA",tQ.EUROPE="EU",tQ.JAPAN="JP",tQ.INDIA="IN",tQ.OCEANIA="OC",tQ.SOUTH_AMERICA="SA",tQ.AFRICA="AF",tQ.GLOBAL="GLOBAL",tQ.OVERSEA="OVERSEA",tQ.SOUTH_KOREA="KR",tQ.UNITED_STATES="US",tQ}({});AreaCodeMap.CHINA,AreaCodeMap.NORTH_AMERICA,AreaCodeMap.EUROPE,AreaCodeMap.ASIA,AreaCodeMap.JAPAN,AreaCodeMap.INDIA,AreaCodeMap.OCEANIA,AreaCodeMap.OVERSEA,AreaCodeMap.SOUTH_AMERICA,AreaCodeMap.AFRICA,AreaCodeMap.SOUTH_KOREA,AreaCodeMap.UNITED_STATES,AreaCodeMap.GLOBAL;const AREA_DOMAIN_MAP=deepFreeze({[AreaCodeMap.ASIA]:{CODE:AreaCodeMap.ASIA,AP_DOMAINS:["ap-web-1-asia.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-asia.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-asia.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-asia.agora.io"],LOG_UPLOAD_SERVER:["logservice-asia.agora.io"],PROXY_AP:["proxy-ap-web-asia.agora.io"],PROXY_NGINX:["southeast-asia.webrtc-cloud-proxy.sd-rtn.com"]},[AreaCodeMap.NORTH_AMERICA]:{CODE:AreaCodeMap.NORTH_AMERICA,AP_DOMAINS:["ap-web-1-north-america.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-north-america.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-north-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-north-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-north-america.agora.io"],PROXY_AP:["proxy-ap-web-america.agora.io"],PROXY_NGINX:["east-usa.webrtc-cloud-proxy.sd-rtn.com"]},[AreaCodeMap.EUROPE]:{CODE:AreaCodeMap.EUROPE,AP_DOMAINS:["ap-web-1-europe.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-europe.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-europe.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-europe.agora.io"],LOG_UPLOAD_SERVER:["logservice-europe.agora.io"],PROXY_AP:["proxy-ap-web-europe.agora.io"],PROXY_NGINX:["europe.webrtc-cloud-proxy.sd-rtn.com"]},[AreaCodeMap.JAPAN]:{CODE:AreaCodeMap.JAPAN,AP_DOMAINS:["ap-web-1-japan.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-japan.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-japan.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-japan.agora.io"],LOG_UPLOAD_SERVER:["logservice-japan.agora.io"],PROXY_AP:["proxy-ap-web-japan.agora.io"],PROXY_NGINX:["japan.webrtc-cloud-proxy.sd-rtn.com"]},[AreaCodeMap.INDIA]:{CODE:AreaCodeMap.INDIA,AP_DOMAINS:["ap-web-1-india.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-india.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-india.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-india.agora.io"],LOG_UPLOAD_SERVER:["logservice-india.agora.io"],PROXY_AP:["proxy-ap-web-india.agora.io"],PROXY_NGINX:["india.webrtc-cloud-proxy.sd-rtn.com"]},[AreaCodeMap.OVERSEA]:{CODE:AreaCodeMap.OVERSEA,AP_DOMAINS:["ap-web-1-oversea.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-oversea.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oversea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oversea.agora.io"],LOG_UPLOAD_SERVER:["logservice-oversea.agora.io"],PROXY_AP:["proxy-ap-web-oversea.agora.io"],PROXY_NGINX:["webrtc-cloud-proxy.agora.io"]},[AreaCodeMap.GLOBAL]:{CODE:AreaCodeMap.GLOBAL,AP_DOMAINS:["ap-web-1.agora.io","ap-web-2.agora.io"],AP_BACKUP_DOMAINS:["ap-web-3.agora.io","ap-web-4.agora.io"],EVENT_REPORT_DOMAIN:["webcollector-rtm.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["webcollector-1.agora.io"],LOG_UPLOAD_SERVER:["logservice-rtm.agora.io"],PROXY_AP:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],PROXY_NGINX:["webrtc-cloud-proxy.sd-rtn.com"]},[AreaCodeMap.OCEANIA]:{CODE:AreaCodeMap.OCEANIA,AP_DOMAINS:["ap-web-1-oceania.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-oceania.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oceania.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oceania.agora.io"],LOG_UPLOAD_SERVER:["logservice-oceania.agora.io"],PROXY_AP:["proxy-ap-web-oceania.agora.io"],PROXY_NGINX:["oceania.webrtc-cloud-proxy.sd-rtn.com"]},[AreaCodeMap.SOUTH_AMERICA]:{CODE:AreaCodeMap.SOUTH_AMERICA,AP_DOMAINS:["ap-web-1-south-america.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-south-america.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-south-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-south-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-america.agora.io"],PROXY_AP:["proxy-ap-web-south-america.agora.io"],PROXY_NGINX:["south-america.webrtc-cloud-proxy.sd-rtn.com"]},[AreaCodeMap.AFRICA]:{CODE:AreaCodeMap.AFRICA,AP_DOMAINS:["ap-web-1-africa.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-africa.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-africa.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-africa.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-africa.agora.io"],PROXY_AP:["proxy-ap-web-africa.agora.io"],PROXY_NGINX:["africa.webrtc-cloud-proxy.sd-rtn.com"]},[AreaCodeMap.CHINA]:{CODE:AreaCodeMap.CHINA,AP_DOMAINS:["webrtc2-2.ap.sd-rtn.com"],AP_BACKUP_DOMAINS:["webrtc2-4.ap.sd-rtn.com"],EVENT_REPORT_DOMAIN:["statscollector-1-china.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-china.agora.io"],LOG_UPLOAD_SERVER:["logservice-china.agora.io"],PROXY_AP:["proxy-ap-web.agoraio.cn"],PROXY_NGINX:["east-cn.webrtc-cloud-proxy.sd-rtn.com"]},[AreaCodeMap.SOUTH_KOREA]:{CODE:AreaCodeMap.SOUTH_KOREA,AP_DOMAINS:["ap-web-1-korea.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-korea.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-korea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-korea.agora.io"],LOG_UPLOAD_SERVER:["logservice-korea.agora.io"],PROXY_AP:["proxy-ap-web-korea.agora.io"],PROXY_NGINX:["korea.webrtc-cloud-proxy.sd-rtn.com"]},[AreaCodeMap.UNITED_STATES]:{CODE:AreaCodeMap.UNITED_STATES,AP_DOMAINS:["ap-web-1-us.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-us.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-us.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-us.agora.io"],LOG_UPLOAD_SERVER:["logservice-us.agora.io"],PROXY_AP:["proxy-ap-web-us.agora.io"],PROXY_NGINX:["us.webrtc-cloud-proxy.sd-rtn.com"]}}),continentCountryMap={[AreaCodeMap.ASIA]:[AreaCodeMap.CHINA,AreaCodeMap.JAPAN,AreaCodeMap.INDIA],[AreaCodeMap.EUROPE]:[],[AreaCodeMap.NORTH_AMERICA]:[],[AreaCodeMap.SOUTH_AMERICA]:[],[AreaCodeMap.OCEANIA]:[],[AreaCodeMap.AFRICA]:[]},areaWeights=[AreaCodeMap.GLOBAL,AreaCodeMap.CHINA,AreaCodeMap.NORTH_AMERICA,AreaCodeMap.EUROPE,AreaCodeMap.ASIA,AreaCodeMap.JAPAN,AreaCodeMap.INDIA,AreaCodeMap.OCEANIA,AreaCodeMap.SOUTH_AMERICA,AreaCodeMap.AFRICA],isContinent=tQ=>tQ in continentCountryMap,isCountry=tQ=>Object.values(continentCountryMap).flat().includes(tQ),getContinentByCountry=tQ=>{var eQ;return(eQ=getEntries(continentCountryMap).find(AQ=>{let[iQ,oQ]=AQ;return oQ.includes(tQ)}))===null||eQ===void 0?void 0:eQ[0]},sortAreasByWeight=tQ=>tQ.sort((eQ,AQ)=>areaWeights.indexOf(eQ)-areaWeights.indexOf(AQ)),getAreaDomainConfig=tQ=>{const eQ=new Set,AQ=sortAreasByWeight(tQ).slice(0,3).map(iQ=>{const oQ=AREA_DOMAIN_MAP[iQ];if(oQ===void 0)throw new RtmInternalError("invalid area key");const{CODE:rQ}=oQ,nQ=_objectWithoutProperties(oQ,_excluded);return eQ.add(rQ),nQ});if(AQ.length===0)throw new RtmInternalError("areas cannot be empty");return _objectSpread2({CODES:eQ},AQ.reduce((iQ,oQ)=>{for(let rQ=0,nQ=getEntries(iQ);rQ<nQ.length;rQ++){const[sQ,aQ]=nQ[rQ];iQ[sQ]=Array.from(new Set([...oQ[sQ],...aQ]))}return iQ}))};function getAreaDomainConfigWithExclusion(tQ){let{areas:eQ,excludedArea:AQ}=tQ;if(eQ.length===1&&eQ[0]===AreaCodeMap.GLOBAL&&AQ===AreaCodeMap.CHINA)return getAreaDomainConfig([AreaCodeMap.OVERSEA]);if(eQ.includes(AreaCodeMap.GLOBAL)){const iQ=getKeys(AREA_DOMAIN_MAP).filter(oQ=>oQ!==AreaCodeMap.GLOBAL&&oQ!==AreaCodeMap.OVERSEA);if(isContinent(AQ)){const oQ=continentCountryMap[AQ],rQ=[...oQ??[],AQ];return getAreaDomainConfig(iQ.filter(nQ=>!rQ.includes(nQ)))}if(isCountry(AQ)){const oQ=getContinentByCountry(AQ);return getAreaDomainConfig(iQ.filter(rQ=>rQ!==AQ&&rQ!==oQ))}}if(isCountry(AQ)||isContinent(AQ))return getAreaDomainConfig(eQ);throw new RtmInvalidArgumentError("setArea","Invalid excludedArea area config")}let areaConfig;function setAreaConfig(tQ){areaConfig=tQ}function setArea(tQ){let{areaCodes:eQ,excludedArea:AQ}=tQ;if(setParameter("AREA_CONFIG",{areaCodes:eQ,excludedArea:AQ}),!Array.isArray(eQ)||eQ.length===0||!eQ.every(iQ=>iQ in AreaCode))throw new RtmInvalidArgumentError("setArea","Invalid area config");if(AQ!==void 0&&AQ===AreaCode.GLOBAL)throw new RtmInvalidArgumentError("setArea","Excluded area cannot be global");if(console.log(JSON.stringify({areaCodes:eQ,excludedArea:AQ}),"RTM setArea"),AQ!==void 0){if(eQ.includes(AQ))throw new RtmInvalidArgumentError("setArea","Excluded area cannot be in areaCodes");if(!(AQ in AreaCodeMap))throw new RtmInvalidArgumentError("setArea","Invalid excludedArea:",AQ);setAreaConfig(getAreaDomainConfigWithExclusion({areas:eQ.map(iQ=>AreaCodeMap[iQ]),excludedArea:AreaCodeMap[AQ]}))}else setAreaConfig(getAreaDomainConfig(eQ.map(iQ=>AreaCodeMap[iQ])))}var rngBrowser={exports:{}},getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(getRandomValues){var rnds8=new Uint8Array(16);rngBrowser.exports=function(){return getRandomValues(rnds8),rnds8}}else{var rnds=new Array(16);rngBrowser.exports=function(){for(var tQ,eQ=0;eQ<16;eQ++)3&eQ||(tQ=4294967296*Math.random()),rnds[eQ]=tQ>>>((3&eQ)<<3)&255;return rnds}}for(var rngBrowserExports=rngBrowser.exports,byteToHex=[],i=0;i<256;++i)byteToHex[i]=(i+256).toString(16).substr(1);function bytesToUuid$2(tQ,eQ){var AQ=eQ||0,iQ=byteToHex;return[iQ[tQ[AQ++]],iQ[tQ[AQ++]],iQ[tQ[AQ++]],iQ[tQ[AQ++]],"-",iQ[tQ[AQ++]],iQ[tQ[AQ++]],"-",iQ[tQ[AQ++]],iQ[tQ[AQ++]],"-",iQ[tQ[AQ++]],iQ[tQ[AQ++]],"-",iQ[tQ[AQ++]],iQ[tQ[AQ++]],iQ[tQ[AQ++]],iQ[tQ[AQ++]],iQ[tQ[AQ++]],iQ[tQ[AQ++]]].join("")}var bytesToUuid_1=bytesToUuid$2,rng$1=rngBrowserExports,bytesToUuid$1=bytesToUuid_1;function v4$1(tQ,eQ,AQ){var iQ=eQ&&AQ||0;typeof tQ=="string"&&(eQ=tQ==="binary"?new Array(16):null,tQ=null);var oQ=(tQ=tQ||{}).random||(tQ.rng||rng$1)();if(oQ[6]=15&oQ[6]|64,oQ[8]=63&oQ[8]|128,eQ)for(var rQ=0;rQ<16;++rQ)eQ[iQ+rQ]=oQ[rQ];return eQ||bytesToUuid$1(oQ)}var v4_1=v4$1,uuid$2=getDefaultExportFromCjs(v4_1);const VERSION="2.2.1",BUILD="v2.2.1-0-g69f68c57-dirty",processId=uuid$2(),WEB_PLATFORM_TYPE=7,VERSION_NO=9,SUBVERSION=414,FUSION=!1;let isBusy=!1,loginAbortController=new AbortController;function changeBusyStatus(tQ){(isBusy||tQ)&&(loginAbortController.abort(),tQ&&(loginAbortController=new AbortController),isBusy=tQ)}var rng=rngBrowserExports,bytesToUuid=bytesToUuid_1,_nodeId,_clockseq,_lastMSecs=0,_lastNSecs=0;function v1$1(tQ,eQ,AQ){var iQ=eQ&&AQ||0,oQ=eQ||[],rQ=(tQ=tQ||{}).node||_nodeId,nQ=tQ.clockseq!==void 0?tQ.clockseq:_clockseq;if(rQ==null||nQ==null){var sQ=rng();rQ==null&&(rQ=_nodeId=[1|sQ[0],sQ[1],sQ[2],sQ[3],sQ[4],sQ[5]]),nQ==null&&(nQ=_clockseq=16383&(sQ[6]<<8|sQ[7]))}var aQ=tQ.msecs!==void 0?tQ.msecs:new Date().getTime(),cQ=tQ.nsecs!==void 0?tQ.nsecs:_lastNSecs+1,gQ=aQ-_lastMSecs+(cQ-_lastNSecs)/1e4;if(gQ<0&&tQ.clockseq===void 0&&(nQ=nQ+1&16383),(gQ<0||aQ>_lastMSecs)&&tQ.nsecs===void 0&&(cQ=0),cQ>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=aQ,_lastNSecs=cQ,_clockseq=nQ;var IQ=(1e4*(268435455&(aQ+=122192928e5))+cQ)%4294967296;oQ[iQ++]=IQ>>>24&255,oQ[iQ++]=IQ>>>16&255,oQ[iQ++]=IQ>>>8&255,oQ[iQ++]=255&IQ;var EQ=aQ/4294967296*1e4&268435455;oQ[iQ++]=EQ>>>8&255,oQ[iQ++]=255&EQ,oQ[iQ++]=EQ>>>24&15|16,oQ[iQ++]=EQ>>>16&255,oQ[iQ++]=nQ>>>8|128,oQ[iQ++]=255&nQ;for(var CQ=0;CQ<6;++CQ)oQ[iQ+CQ]=rQ[CQ];return eQ||bytesToUuid(oQ)}var v1_1=v1$1,v1=v1_1,v4=v4_1,uuid=v4;uuid.v1=v1,uuid.v4=v4;var uuid_1=uuid,uuid$1=getDefaultExportFromCjs(uuid_1),events={exports:{}},R=typeof Reflect=="object"?Reflect:null,ReflectApply=R&&typeof R.apply=="function"?R.apply:function(tQ,eQ,AQ){return Function.prototype.apply.call(tQ,eQ,AQ)},ReflectOwnKeys;function ProcessEmitWarning(tQ){console&&console.warn&&console.warn(tQ)}ReflectOwnKeys=R&&typeof R.ownKeys=="function"?R.ownKeys:Object.getOwnPropertySymbols?function(tQ){return Object.getOwnPropertyNames(tQ).concat(Object.getOwnPropertySymbols(tQ))}:function(tQ){return Object.getOwnPropertyNames(tQ)};var NumberIsNaN=Number.isNaN||function(tQ){return tQ!=tQ};function EventEmitter(){EventEmitter.init.call(this)}events.exports=EventEmitter,events.exports.once=once,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(tQ){if(typeof tQ!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof tQ)}function _getMaxListeners(tQ){return tQ._maxListeners===void 0?EventEmitter.defaultMaxListeners:tQ._maxListeners}function _addListener(tQ,eQ,AQ,iQ){var oQ,rQ,nQ;if(checkListener(AQ),(rQ=tQ._events)===void 0?(rQ=tQ._events=Object.create(null),tQ._eventsCount=0):(rQ.newListener!==void 0&&(tQ.emit("newListener",eQ,AQ.listener?AQ.listener:AQ),rQ=tQ._events),nQ=rQ[eQ]),nQ===void 0)nQ=rQ[eQ]=AQ,++tQ._eventsCount;else if(typeof nQ=="function"?nQ=rQ[eQ]=iQ?[AQ,nQ]:[nQ,AQ]:iQ?nQ.unshift(AQ):nQ.push(AQ),(oQ=_getMaxListeners(tQ))>0&&nQ.length>oQ&&!nQ.warned){nQ.warned=!0;var sQ=new Error("Possible EventEmitter memory leak detected. "+nQ.length+" "+String(eQ)+" listeners added. Use emitter.setMaxListeners() to increase limit");sQ.name="MaxListenersExceededWarning",sQ.emitter=tQ,sQ.type=eQ,sQ.count=nQ.length,ProcessEmitWarning(sQ)}return tQ}function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(tQ,eQ,AQ){var iQ={fired:!1,wrapFn:void 0,target:tQ,type:eQ,listener:AQ},oQ=onceWrapper.bind(iQ);return oQ.listener=AQ,iQ.wrapFn=oQ,oQ}function _listeners(tQ,eQ,AQ){var iQ=tQ._events;if(iQ===void 0)return[];var oQ=iQ[eQ];return oQ===void 0?[]:typeof oQ=="function"?AQ?[oQ.listener||oQ]:[oQ]:AQ?unwrapListeners(oQ):arrayClone(oQ,oQ.length)}function listenerCount(tQ){var eQ=this._events;if(eQ!==void 0){var AQ=eQ[tQ];if(typeof AQ=="function")return 1;if(AQ!==void 0)return AQ.length}return 0}function arrayClone(tQ,eQ){for(var AQ=new Array(eQ),iQ=0;iQ<eQ;++iQ)AQ[iQ]=tQ[iQ];return AQ}function spliceOne(tQ,eQ){for(;eQ+1<tQ.length;eQ++)tQ[eQ]=tQ[eQ+1];tQ.pop()}function unwrapListeners(tQ){for(var eQ=new Array(tQ.length),AQ=0;AQ<eQ.length;++AQ)eQ[AQ]=tQ[AQ].listener||tQ[AQ];return eQ}function once(tQ,eQ){return new Promise(function(AQ,iQ){function oQ(nQ){tQ.removeListener(eQ,rQ),iQ(nQ)}function rQ(){typeof tQ.removeListener=="function"&&tQ.removeListener("error",oQ),AQ([].slice.call(arguments))}eventTargetAgnosticAddListener(tQ,eQ,rQ,{once:!0}),eQ!=="error"&&addErrorHandlerIfEventEmitter(tQ,oQ,{once:!0})})}function addErrorHandlerIfEventEmitter(tQ,eQ,AQ){typeof tQ.on=="function"&&eventTargetAgnosticAddListener(tQ,"error",eQ,AQ)}function eventTargetAgnosticAddListener(tQ,eQ,AQ,iQ){if(typeof tQ.on=="function")iQ.once?tQ.once(eQ,AQ):tQ.on(eQ,AQ);else{if(typeof tQ.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof tQ);tQ.addEventListener(eQ,function oQ(rQ){iQ.once&&tQ.removeEventListener(eQ,oQ),AQ(rQ)})}}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(tQ){if(typeof tQ!="number"||tQ<0||NumberIsNaN(tQ))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+tQ+".");defaultMaxListeners=tQ}}),EventEmitter.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function(tQ){if(typeof tQ!="number"||tQ<0||NumberIsNaN(tQ))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+tQ+".");return this._maxListeners=tQ,this},EventEmitter.prototype.getMaxListeners=function(){return _getMaxListeners(this)},EventEmitter.prototype.emit=function(tQ){for(var eQ=[],AQ=1;AQ<arguments.length;AQ++)eQ.push(arguments[AQ]);var iQ=tQ==="error",oQ=this._events;if(oQ!==void 0)iQ=iQ&&oQ.error===void 0;else if(!iQ)return!1;if(iQ){var rQ;if(eQ.length>0&&(rQ=eQ[0]),rQ instanceof Error)throw rQ;var nQ=new Error("Unhandled error."+(rQ?" ("+rQ.message+")":""));throw nQ.context=rQ,nQ}var sQ=oQ[tQ];if(sQ===void 0)return!1;if(typeof sQ=="function")ReflectApply(sQ,this,eQ);else{var aQ=sQ.length,cQ=arrayClone(sQ,aQ);for(AQ=0;AQ<aQ;++AQ)ReflectApply(cQ[AQ],this,eQ)}return!0},EventEmitter.prototype.addListener=function(tQ,eQ){return _addListener(this,tQ,eQ,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function(tQ,eQ){return _addListener(this,tQ,eQ,!0)},EventEmitter.prototype.once=function(tQ,eQ){return checkListener(eQ),this.on(tQ,_onceWrap(this,tQ,eQ)),this},EventEmitter.prototype.prependOnceListener=function(tQ,eQ){return checkListener(eQ),this.prependListener(tQ,_onceWrap(this,tQ,eQ)),this},EventEmitter.prototype.removeListener=function(tQ,eQ){var AQ,iQ,oQ,rQ,nQ;if(checkListener(eQ),(iQ=this._events)===void 0)return this;if((AQ=iQ[tQ])===void 0)return this;if(AQ===eQ||AQ.listener===eQ)--this._eventsCount==0?this._events=Object.create(null):(delete iQ[tQ],iQ.removeListener&&this.emit("removeListener",tQ,AQ.listener||eQ));else if(typeof AQ!="function"){for(oQ=-1,rQ=AQ.length-1;rQ>=0;rQ--)if(AQ[rQ]===eQ||AQ[rQ].listener===eQ){nQ=AQ[rQ].listener,oQ=rQ;break}if(oQ<0)return this;oQ===0?AQ.shift():spliceOne(AQ,oQ),AQ.length===1&&(iQ[tQ]=AQ[0]),iQ.removeListener!==void 0&&this.emit("removeListener",tQ,nQ||eQ)}return this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function(tQ){var eQ,AQ,iQ;if((AQ=this._events)===void 0)return this;if(AQ.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):AQ[tQ]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete AQ[tQ]),this;if(arguments.length===0){var oQ,rQ=Object.keys(AQ);for(iQ=0;iQ<rQ.length;++iQ)(oQ=rQ[iQ])!=="removeListener"&&this.removeAllListeners(oQ);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(eQ=AQ[tQ])=="function")this.removeListener(tQ,eQ);else if(eQ!==void 0)for(iQ=eQ.length-1;iQ>=0;iQ--)this.removeListener(tQ,eQ[iQ]);return this},EventEmitter.prototype.listeners=function(tQ){return _listeners(this,tQ,!0)},EventEmitter.prototype.rawListeners=function(tQ){return _listeners(this,tQ,!1)},EventEmitter.listenerCount=function(tQ,eQ){return typeof tQ.listenerCount=="function"?tQ.listenerCount(eQ):listenerCount.call(tQ,eQ)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};var eventsExports=events.exports,EventEmitter$1=getDefaultExportFromCjs(eventsExports),key="__global_unique_id__",gud=function(){return commonjsGlobal$1[key]=(commonjsGlobal$1[key]||0)+1},gud$1=getDefaultExportFromCjs(gud),safeJsonStringify$1={exports:{}},hasProp=Object.prototype.hasOwnProperty;function throwsMessage(tQ){return"[Throws: "+(tQ?tQ.message:"?")+"]"}function safeGetValueFromPropertyOnObject(tQ,eQ){if(hasProp.call(tQ,eQ))try{return tQ[eQ]}catch(AQ){return throwsMessage(AQ)}return tQ[eQ]}function ensureProperties(tQ){var eQ=[];return function AQ(iQ){if(iQ===null||typeof iQ!="object")return iQ;if(eQ.indexOf(iQ)!==-1)return"[Circular]";if(eQ.push(iQ),typeof iQ.toJSON=="function")try{var oQ=AQ(iQ.toJSON());return eQ.pop(),oQ}catch(sQ){return throwsMessage(sQ)}if(Array.isArray(iQ)){var rQ=iQ.map(AQ);return eQ.pop(),rQ}var nQ=Object.keys(iQ).reduce(function(sQ,aQ){return sQ[aQ]=AQ(safeGetValueFromPropertyOnObject(iQ,aQ)),sQ},{});return eQ.pop(),nQ}(tQ)}safeJsonStringify$1.exports=function(tQ,eQ,AQ){return JSON.stringify(ensureProperties(tQ),eQ,AQ)},safeJsonStringify$1.exports.ensureProperties=ensureProperties;var safeJsonStringifyExports=safeJsonStringify$1.exports,safeJsonStringify=getDefaultExportFromCjs(safeJsonStringifyExports),browser={exports:{}},ms,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var tQ=1e3,eQ=60*tQ,AQ=60*eQ,iQ=24*AQ,oQ=7*iQ,rQ=365.25*iQ;function nQ(sQ,aQ,cQ,gQ){var IQ=aQ>=1.5*cQ;return Math.round(sQ/cQ)+" "+gQ+(IQ?"s":"")}return ms=function(sQ,aQ){aQ=aQ||{};var cQ=typeof sQ;if(cQ==="string"&&sQ.length>0)return function(gQ){if(!((gQ=String(gQ)).length>100)){var IQ=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(gQ);if(IQ){var EQ=parseFloat(IQ[1]);switch((IQ[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return EQ*rQ;case"weeks":case"week":case"w":return EQ*oQ;case"days":case"day":case"d":return EQ*iQ;case"hours":case"hour":case"hrs":case"hr":case"h":return EQ*AQ;case"minutes":case"minute":case"mins":case"min":case"m":return EQ*eQ;case"seconds":case"second":case"secs":case"sec":case"s":return EQ*tQ;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return EQ;default:return}}}}(sQ);if(cQ==="number"&&isFinite(sQ))return aQ.long?function(gQ){var IQ=Math.abs(gQ);return IQ>=iQ?nQ(gQ,IQ,iQ,"day"):IQ>=AQ?nQ(gQ,IQ,AQ,"hour"):IQ>=eQ?nQ(gQ,IQ,eQ,"minute"):IQ>=tQ?nQ(gQ,IQ,tQ,"second"):gQ+" ms"}(sQ):function(gQ){var IQ=Math.abs(gQ);return IQ>=iQ?Math.round(gQ/iQ)+"d":IQ>=AQ?Math.round(gQ/AQ)+"h":IQ>=eQ?Math.round(gQ/eQ)+"m":IQ>=tQ?Math.round(gQ/tQ)+"s":gQ+"ms"}(sQ);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(sQ))}}function setup(tQ){function eQ(oQ){let rQ,nQ,sQ,aQ=null;function cQ(){for(var gQ=arguments.length,IQ=new Array(gQ),EQ=0;EQ<gQ;EQ++)IQ[EQ]=arguments[EQ];if(!cQ.enabled)return;const CQ=cQ,dQ=Number(new Date),lQ=dQ-(rQ||dQ);CQ.diff=lQ,CQ.prev=rQ,CQ.curr=dQ,rQ=dQ,IQ[0]=eQ.coerce(IQ[0]),typeof IQ[0]!="string"&&IQ.unshift("%O");let uQ=0;IQ[0]=IQ[0].replace(/%([a-zA-Z%])/g,(hQ,BQ)=>{if(hQ==="%%")return"%";uQ++;const QQ=eQ.formatters[BQ];if(typeof QQ=="function"){const fQ=IQ[uQ];hQ=QQ.call(CQ,fQ),IQ.splice(uQ,1),uQ--}return hQ}),eQ.formatArgs.call(CQ,IQ),(CQ.log||eQ.log).apply(CQ,IQ)}return cQ.namespace=oQ,cQ.useColors=eQ.useColors(),cQ.color=eQ.selectColor(oQ),cQ.extend=AQ,cQ.destroy=eQ.destroy,Object.defineProperty(cQ,"enabled",{enumerable:!0,configurable:!1,get:()=>aQ!==null?aQ:(nQ!==eQ.namespaces&&(nQ=eQ.namespaces,sQ=eQ.enabled(oQ)),sQ),set:gQ=>{aQ=gQ}}),typeof eQ.init=="function"&&eQ.init(cQ),cQ}function AQ(oQ,rQ){const nQ=eQ(this.namespace+(rQ===void 0?":":rQ)+oQ);return nQ.log=this.log,nQ}function iQ(oQ){return oQ.toString().substring(2,oQ.toString().length-2).replace(/\.\*\?$/,"*")}return eQ.debug=eQ,eQ.default=eQ,eQ.coerce=function(oQ){return oQ instanceof Error?oQ.stack||oQ.message:oQ},eQ.disable=function(){const oQ=[...eQ.names.map(iQ),...eQ.skips.map(iQ).map(rQ=>"-"+rQ)].join(",");return eQ.enable(""),oQ},eQ.enable=function(oQ){let rQ;eQ.save(oQ),eQ.namespaces=oQ,eQ.names=[],eQ.skips=[];const nQ=(typeof oQ=="string"?oQ:"").split(/[\s,]+/),sQ=nQ.length;for(rQ=0;rQ<sQ;rQ++)nQ[rQ]&&((oQ=nQ[rQ].replace(/\*/g,".*?"))[0]==="-"?eQ.skips.push(new RegExp("^"+oQ.slice(1)+"$")):eQ.names.push(new RegExp("^"+oQ+"$")))},eQ.enabled=function(oQ){if(oQ[oQ.length-1]==="*")return!0;let rQ,nQ;for(rQ=0,nQ=eQ.skips.length;rQ<nQ;rQ++)if(eQ.skips[rQ].test(oQ))return!1;for(rQ=0,nQ=eQ.names.length;rQ<nQ;rQ++)if(eQ.names[rQ].test(oQ))return!0;return!1},eQ.humanize=requireMs(),eQ.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(tQ).forEach(oQ=>{eQ[oQ]=tQ[oQ]}),eQ.names=[],eQ.skips=[],eQ.formatters={},eQ.selectColor=function(oQ){let rQ=0;for(let nQ=0;nQ<oQ.length;nQ++)rQ=(rQ<<5)-rQ+oQ.charCodeAt(nQ),rQ|=0;return eQ.colors[Math.abs(rQ)%eQ.colors.length]},eQ.enable(eQ.load()),eQ}var common=setup;(function(tQ,eQ){eQ.formatArgs=function(iQ){if(iQ[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+iQ[0]+(this.useColors?"%c ":" ")+"+"+tQ.exports.humanize(this.diff),!this.useColors)return;const oQ="color: "+this.color;iQ.splice(1,0,oQ,"color: inherit");let rQ=0,nQ=0;iQ[0].replace(/%[a-zA-Z%]/g,sQ=>{sQ!=="%%"&&(rQ++,sQ==="%c"&&(nQ=rQ))}),iQ.splice(nQ,0,oQ)},eQ.save=function(iQ){try{iQ?eQ.storage.setItem("debug",iQ):eQ.storage.removeItem("debug")}catch{}},eQ.load=function(){let iQ;try{iQ=eQ.storage.getItem("debug")}catch{}return!iQ&&typeof process<"u"&&"env"in process&&(iQ={}.DEBUG),iQ},eQ.useColors=function(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let iQ;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(iQ=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(iQ[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},eQ.storage=function(){try{return localStorage}catch{}}(),eQ.destroy=(()=>{let iQ=!1;return()=>{iQ||(iQ=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),eQ.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],eQ.log=console.debug||console.log||(()=>{}),tQ.exports=common(eQ);const{formatters:AQ}=tQ.exports;AQ.j=function(iQ){try{return JSON.stringify(iQ)}catch(oQ){return"[UnexpectedJSONParseError]: "+oQ.message}}})(browser,browser.exports);var browserExports=browser.exports,Debug=getDefaultExportFromCjs(browserExports);const logPingPong=!1,logSyncPingPong=!1,isProd=!0,uploadLog=Debug("RTM:DEBUG");uploadLog.enabled=!isProd;var UploadState=function(tQ){return tQ[tQ.Uploading=0]="Uploading",tQ[tQ.Free=1]="Free",tQ}(UploadState||{});class LogUploader{constructor(eQ){_defineProperty$1(this,"uploadRequest",void 0),_defineProperty$1(this,"uploadState",void 0),_defineProperty$1(this,"uploadResendCount",void 0),_defineProperty$1(this,"LogCache",void 0),_defineProperty$1(this,"LogsToPost",void 0),_defineProperty$1(this,"processId",void 0),_defineProperty$1(this,"sdkVersion",void 0),_defineProperty$1(this,"logId",void 0),_defineProperty$1(this,"PrivateConfig",void 0),_defineProperty$1(this,"privateLogUploadHosts",void 0),this.processId=eQ.processId,this.sdkVersion=eQ.sdkVersion,this.PrivateConfig=eQ.PrivateConfig,this.uploadRequest=eQ.uploadRequest,this.uploadState=UploadState.Free,this.uploadResendCount=0,this.LogCache=[],this.LogsToPost=[],this.logId=0,this.privateLogUploadHosts=eQ.privateLogUploadHosts}upload(eQ,AQ){this.LogCache.push(AQ),this.uploadState===UploadState.Free&&navigator.onLine&&getParameter("VID").get(eQ)!==void 0&&(this.LogsToPost=this.LogCache.length<LOG_UPLOAD_MAX_ITEMS?this.LogCache.splice(0,this.LogCache.length):this.LogCache.splice(0,LOG_UPLOAD_MAX_ITEMS),this.postLog(eQ,this.LogsToPost))}postLog(eQ,AQ){this.uploadState=UploadState.Uploading,setTimeout(async()=>{const iQ={sdk_version:this.sdkVersion,process_id:this.processId,payload:JSON.stringify(AQ)};try{var oQ;await this.uploadRequest(eQ,iQ,(oQ=this.PrivateConfig.cloudProxy)!==null&&oQ!==void 0&&oQ,this.privateLogUploadHosts)}catch{const nQ=this.uploadResendCount++<2?2e3:1e4;return void setTimeout(()=>this.postLog(eQ,this.LogsToPost),nQ)}this.LogCache.length!==0?(this.uploadResendCount=0,this.LogsToPost=this.LogCache.length<LOG_UPLOAD_MAX_ITEMS?this.LogCache.splice(0,this.LogCache.length):this.LogCache.splice(0,LOG_UPLOAD_MAX_ITEMS),this.postLog(eQ,this.LogsToPost)):this.uploadState=UploadState.Free},getParameter("LOG_UPLOAD_INTERVAL"))}}const LOG_SERVICE_MAIN_DOMAIN="logservice-rtm.agora.io",LOG_SERVICE_BACKUP_DOMAIN="rtm.logservice.sd-rtn.com",_uploadRequest=async function(tQ,eQ,AQ,iQ){var oQ,rQ;let nQ=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!getParameter("VID").get(tQ)||nQ>2)return;const sQ={withCredentials:!0,body:eQ,timeout:2e4,headers:{vid:getParameter("VID").get(tQ),"Content-Encoding":"gzip"}},aQ=iQ&&getPrivateSettingsPortAndDomains(iQ),cQ=aQ==null?void 0:aQ.hostname,gQ=(oQ=cQ==null?void 0:cQ.length)!==null&&oQ!==void 0?oQ:0,IQ=aQ==null?void 0:aQ.port,EQ=cQ&&cQ[0],CQ=cQ&&cQ[gQ-1],dQ=nQ>0?(areaConfig==null?void 0:areaConfig.LOG_UPLOAD_SERVER[0])||(CQ??LOG_SERVICE_BACKUP_DOMAIN):(areaConfig==null?void 0:areaConfig.LOG_UPLOAD_SERVER[0])||(EQ??LOG_SERVICE_MAIN_DOMAIN),lQ=AQ&&!iQ?"https://".concat((rQ=areaConfig==null?void 0:areaConfig.PROXY_NGINX[0])!==null&&rQ!==void 0?rQ:"webrtc-cloud-proxy.sd-rtn.com","/ls/?h=").concat(dQ,"&p=").concat(IQ??443,"&d=upload/v1"):"https://".concat(dQ).concat(IQ?":".concat(IQ):"","/upload/v1");await postWithAbortSignal(lQ,sQ).catch(uQ=>_uploadRequest(tQ,eQ,AQ,iQ,nQ+1))},logUploaders=new Map,logUploader=(tQ,eQ)=>{if(logUploaders.has(tQ)&&logUploaders.get(tQ)instanceof LogUploader)return logUploaders.get(tQ);{const AQ=new LogUploader({processId:"process-".concat(tQ),sdkVersion:"Agora_RTM_SDK_for_Web_".concat(BUILD),uploadRequest:_uploadRequest,PrivateConfig:{},privateLogUploadHosts:eQ});return logUploaders.set(tQ,AQ),AQ}},blacklistedKeywords=["text","payload","rawMessage","thumbnail","attributeInfos","keys","value","extra"],sensitiveKeywords=["account","ticket","uid","detail","token","fileName","cname","user","group","key","origin","users","src","dst","lastUpdateUserId","channel","cert","wan_ip","userId","authorUid","target","lockName","appTicket","channelName","publisher","succeedUsers","failedUsers"],whitelistedKeywords=["serverReceivedTs","hasPeerReceived","messageType","enableNotificationToChannelMembers","lastUpdateTs"],sensitiveEvents=["message","presence","topic","lock","storage","MessageFromPeer","LocalInvitationRefused","LocalInvitationAccepted","RemoteInvitationCanceled","PeersOnlineStatusChanged","AttributesUpdated","MemberJoined"],sensitiveArgsHandler=tQ=>{if(typeof tQ=="string")return replaceRangeWithAsterisk(tQ);if(Array.isArray(tQ)&&tQ.every(eQ=>typeof eQ=="string"))return tQ.map(eQ=>replaceRangeWithAsterisk(eQ));if(!isPrimitive(tQ)){const eQ={};for(let AQ=0;AQ<whitelistedKeywords.length;AQ++){const iQ=whitelistedKeywords[AQ];iQ in tQ&&(eQ[iQ]=tQ[iQ])}if(Object.keys(eQ).length>0)return eQ;if(Object.keys(tQ).length<5){for(let AQ=0,iQ=Object.entries(tQ);AQ<iQ.length;AQ++){const[oQ,rQ]=iQ[AQ];blacklistedKeywords.includes(oQ)?eQ[oQ]="[Hidden Info]":eQ[replaceRangeWithAsterisk(oQ)]=replaceRangeWithAsterisk(rQ)}return eQ}return typeof tQ=="object"&&tQ!==null?safeJsonStringify(Array.isArray(tQ)?tQ.map(getPlain):getPlain(tQ)):"[Sensitive Info]"}return tQ},filterLogObject=tQ=>handleLogObject(cloneDeep$1(tQ),blacklistedKeywords,sensitiveKeywords),getPlain=tQ=>typeof tQ=="object"?isPlainObject$3(tQ)?filterLogObject(tQ):tQ.constructor&&tQ.constructor.name:tQ,formatLogTextAndParameters=(tQ,eQ)=>{if(tQ instanceof Error)return tQ.message;if(typeof tQ!="string")return JSON.stringify(filterLogObject(tQ));const AQ=eQ.map(iQ=>iQ instanceof Error?iQ.message:typeof iQ=="object"&&iQ!==null?safeJsonStringify(Array.isArray(iQ)?iQ.map(getPlain):getPlain(iQ)):iQ);return format$1(tQ.replace(/%[%Oo]/g,iQ=>iQ==="%%"?"%":iQ==="%o"||iQ==="%O"?"%s":iQ),...AQ)},logAndUploadGenerator=(tQ,eQ,AQ,iQ,oQ,rQ,nQ)=>{const sQ=Debug(eQ);return sQ.enabled=!0,sQ.log=rQ,sQ.useColors=!1,function(aQ){for(var cQ=arguments.length,gQ=new Array(cQ>1?cQ-1:0),IQ=1;IQ<cQ;IQ++)gQ[IQ-1]=arguments[IQ];if(oQ.logUpload){const dQ=addPeriodIfNeeded(aQ);var EQ=formatLogTextAndParameters(dQ,gQ);const lQ=logUploader(AQ,nQ),uQ="".concat(lQ.logId++);lQ.upload(tQ,{log_item_id:uQ,log_level:eQ,payload_str:"[".concat(getUTCTimestamp$1(),"] - ").concat(String(iQ).slice(0,7)).concat(iQ.length>7?"...":""," - ").concat(eQ," - ").concat(EQ.length>256?EQ.slice(0,256):EQ)})}const CQ=dQ=>{const lQ=EQ||formatLogTextAndParameters(addPeriodIfNeeded(aQ),gQ),uQ=getParameter("LOG_HANDLER");isFunction$6(uQ)&&uQ({level:dQ,message:lQ}),sQ("[UTC_Time: ".concat(getUTCTimestamp$1(),"][uid: ").concat(maskMiddleOfString(iQ),"]").concat(lQ))};switch(eQ){case"RTM:INFO":oQ.logFilter.info&&CQ("log");break;case"RTM:WARN":oQ.logFilter.warn&&CQ("warning");break;case"RTM:ERROR":oQ.logFilter.error&&CQ("error");break;case"RTM:TRACK":oQ.logFilter.track&&CQ("log");break;case"RTM:MSG:RECV":case"RTM:MSG:SEND":case"RTM:DEBUG":oQ.logFilter.debug&&CQ("debug")}}};let loggerId;const prefixer=tQ=>eQ=>{const AQ=loggerId===1||tQ===void 0?"":"Ins#".concat(tQ," ");return"".concat(AQ).concat(eQ)},loggerGenerator=(tQ,eQ,AQ,iQ,oQ,rQ,nQ)=>{const sQ=prefixer(loggerId);return logAndUploadGenerator(tQ,"RTM:".concat(AQ),oQ,rQ,iQ,function(aQ){return eQ(sQ(aQ))},nQ)};class EventBase extends EventEmitter$1{constructor(eQ,AQ){var iQ;let oQ=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(super(),iQ=this,_defineProperty$1(this,"logError",void 0),_defineProperty$1(this,"invokeTracker",void 0),_defineProperty$1(this,"resultTracker",void 0),_defineProperty$1(this,"errorTracker",void 0),_defineProperty$1(this,"eventTracker",void 0),_defineProperty$1(this,"info",void 0),_defineProperty$1(this,"warn",void 0),_defineProperty$1(this,"log",void 0),_defineProperty$1(this,"genLogger",void 0),_defineProperty$1(this,"loggerId",void 0),_defineProperty$1(this,"logger",void 0),_defineProperty$1(this,"name",void 0),this.logger=eQ,this.name=AQ,this.loggerId=eQ.loggerId,this.info=eQ.info,this.warn=eQ.warn,this.logError=eQ.logError,this.genLogger=eQ.genLogger,this.log=eQ.genLogger("RTM:DEBUG","<".concat(AQ,"> ")),this.invokeTracker=eQ.genTracker("Invoke"),this.eventTracker=eQ.genTracker("Event"),this.resultTracker=eQ.genTracker("Result"),this.errorTracker=eQ.genTracker("Error"),oQ){const rQ=this.emit.bind(this),nQ=function(){for(var sQ=arguments.length,aQ=new Array(sQ),cQ=0;cQ<sQ;cQ++)aQ[cQ]=arguments[cQ];const[gQ,...IQ]=aQ,EQ=sensitiveEvents.includes(gQ);iQ.eventTracker("%s: ".concat(IQ.length>0?"%s emitted with args: ".concat(IQ.map(()=>"%o")):"%s emitted"),AQ,gQ,...EQ?IQ.map(sensitiveArgsHandler):IQ);try{return rQ(...aQ),!0}catch(CQ){return iQ.logError("Caught in the callback function of the event %s",gQ,CQ),!1}};this.emit=nQ}}}function initLoggerId(tQ,eQ){loggerId=gud$1();const AQ=new LogUploader({processId:"process-".concat(tQ),sdkVersion:"Agora_RTM_SDK_for_Web_".concat(BUILD),uploadRequest:_uploadRequest,PrivateConfig:{},privateLogUploadHosts:eQ});return logUploaders.set(tQ,AQ),loggerId}const genInfoLogger=(tQ,eQ,AQ,iQ,oQ)=>loggerGenerator(tQ,console.log,"INFO",eQ,AQ,iQ,oQ),genWarnLogger=(tQ,eQ,AQ,iQ,oQ)=>loggerGenerator(tQ,console.warn,"WARN",eQ,AQ,iQ,oQ),genErrorLogger=(tQ,eQ,AQ,iQ,oQ)=>loggerGenerator(tQ,console.error,"ERROR",eQ,AQ,iQ,oQ),debugLoggerGenerator=(tQ,eQ,AQ,iQ,oQ,rQ)=>function(nQ){let sQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const aQ=prefixer(eQ),cQ=console.log,gQ=logAndUploadGenerator(tQ,nQ,iQ,oQ,AQ,function(IQ){return cQ(aQ(IQ))},rQ);return function(IQ){for(var EQ=arguments.length,CQ=new Array(EQ>1?EQ-1:0),dQ=1;dQ<EQ;dQ++)CQ[dQ-1]=arguments[dQ];return gQ(sQ+IQ,...CQ)}},trackLoggerGenerator=(tQ,eQ,AQ,iQ,oQ,rQ)=>nQ=>debugLoggerGenerator(tQ,eQ,AQ,iQ,oQ,rQ)("RTM:TRACK","[".concat(nQ,"] "));function loggedSensitive(tQ,eQ,AQ){let iQ=AQ;iQ===void 0&&(iQ=Object.getOwnPropertyDescriptor(tQ,eQ));const oQ=iQ.value;return iQ.value=function(){for(var rQ=arguments.length,nQ=new Array(rQ),sQ=0;sQ<rQ;sQ++)nQ[sQ]=arguments[sQ];this.invokeTracker("%s: ".concat(nQ.length>0?"%s with args: ".concat(nQ.map(()=>"%o")):"%s"),this.name,eQ,...nQ.map(sensitiveArgsHandler));try{var aQ=oQ.apply(this,nQ)}catch(gQ){throw this.logError("".concat(gQ.code!==void 0?"Error Code ".concat(gQ.code,": "):"","%s failed").concat(nQ.length>0?" with args: ".concat(nQ.map(()=>"%o")):""),eQ,...nQ.map(sensitiveArgsHandler)),gQ.originalError&&this.logError(gQ.originalError),this.errorTracker(gQ),gQ}const cQ=Date.now();return(async()=>{let gQ;try{gQ=await aQ}catch(EQ){return this.logError("".concat(EQ.code!==void 0?"Error Code ".concat(EQ.code,": "):"","%s failed").concat(nQ.length>0?" with args: ".concat(nQ.map(()=>"%o")):""),eQ,...nQ.map(sensitiveArgsHandler)),EQ.originalError&&this.logError(EQ.originalError),void this.errorTracker(EQ)}var IQ;gQ!==aQ?gQ===void 0?this.resultTracker("%s promise resolves after %dms",eQ,Date.now()-cQ):this.resultTracker("%s promise resolves after %dms, result is %o",eQ,Date.now()-cQ,sensitiveArgsHandler(gQ)):isAnyObject(gQ)&&!isPlainObject$3(gQ)?this.resultTracker("%s result is %s",eQ,gQ.name||((IQ=gQ.constructor)===null||IQ===void 0?void 0:IQ.name)):this.resultTracker("%s result is %o",eQ,gQ?sensitiveArgsHandler(gQ):"void")})(),aQ},iQ}function isValidAppId(tQ){return/^[\dA-Za-z]{32}$/.test(tQ)}function isValidTopic(tQ){return typeof tQ=="string"&&tQ.length>0&&!tQ.startsWith("_")&&isValidString(tQ)}function validateTopicName(tQ,eQ){const{code:AQ,reason:iQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_INVALID_TOPIC_NAME);if(!isValidTopic(tQ))throw new RtmInvalidArgumentError(eQ,[iQ],AQ);if(tQ.length===0||new Blob([tQ??""]).size>TOPIC_NAME_SIZE)throw new RtmInvalidArgumentError(eQ,[iQ],AQ)}function isValidId(tQ){return typeof tQ=="string"&&!tQ.startsWith("_")&&/^[a-zA-Z0-9 \!\#\$\%\&\(\)\+\,\-\:\;\<\=\>\?\@\[\]\^\_\`\{\|\}\~]{1,64}$/.test(tQ)}function isValidString(tQ){return typeof tQ=="string"&&/^[abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 !*#$%&()+,-:;<=>?@\[\]\^_`{\|}~\u4e00-\u9fff]+$/.test(tQ)}function isUintString(tQ){const eQ=Number(tQ);return Number.isInteger(eQ)&&eQ>=0}function isValidIp(tQ){let eQ;try{eQ=tQ.split(".").map(AQ=>Number(AQ))}catch{return!1}if(eQ.length!==4||eQ[0]===0)return!1;for(let AQ=0,iQ=eQ;AQ<iQ.length;AQ++){const oQ=iQ[AQ];if(!Number.isInteger(oQ)||oQ<0||oQ>255)return!1}return!0}function validMetaDataItem(tQ,eQ){let{items:AQ,maxMetaDataCount:iQ,maxMetaValueSize:oQ,majorRevision:rQ,type:nQ}=eQ;if(!Array.isArray(AQ)){const{code:aQ,reason:cQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_METADATA_ITEM);throw new RtmInvalidArgumentError(tQ,[cQ],aQ)}const sQ=AQ.map(aQ=>[aQ.getKey(),aQ.getValue()]);if(sQ.length>iQ){const{code:aQ,reason:cQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_METADATA_ITEM_EXCEED_LIMITATION);throw new RtmLimitExceededError(tQ,[cQ],aQ)}if(sQ.length===0){const{code:aQ,reason:cQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_METADATA_ITEM);throw new RtmInvalidArgumentError(tQ,[cQ],aQ)}if(typeof rQ!="number"||rQ<-1||rQ%1!=0){const{code:aQ,reason:cQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_REVISION);throw new RtmInvalidArgumentError(tQ,[cQ],aQ)}if(AQ.map(aQ=>{if((aQ==null?void 0:aQ.getRevision())<-1){const{code:cQ,reason:gQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_REVISION);throw new RtmInvalidArgumentError(tQ,[gQ],cQ)}}),(nQ==="Update"||nQ==="Delete")&&rQ===0){const{code:aQ,reason:cQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_REVISION);throw new RtmInvalidArgumentError(tQ,[cQ],aQ)}if((nQ==="Update"||nQ==="Delete")&&AQ.map(aQ=>aQ.getRevision()).includes(0)){const{code:aQ,reason:cQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_REVISION);throw new RtmInvalidArgumentError(tQ,[cQ],aQ)}for(let aQ=0;aQ<sQ.length;aQ++){const[cQ,gQ]=sQ[aQ],IQ=new Blob([cQ??""]).size,EQ=new Blob([gQ??""]).size;if(IQ===0||(cQ==null?void 0:cQ[0])==="_"||typeof cQ!="string"){const{code:CQ,reason:dQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_KEY);throw new RtmInvalidArgumentError(tQ,[dQ],CQ)}if(IQ>RTM_METADATA_KEY_MAX_LENGTH){const{code:CQ,reason:dQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_KEY_LENGTH_OVERFLOW);throw new RtmInvalidArgumentError(tQ,[dQ],CQ)}if(nQ!=="Delete"&&typeof gQ!="string"){const{code:CQ,reason:dQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_VALUE);throw new RtmInvalidArgumentError(tQ,[dQ],CQ)}if(nQ!=="Delete"&&EQ>oQ){const{code:CQ,reason:dQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_VALUE_LENGTH_OVERFLOW);throw new RtmLimitExceededError(tQ,[dQ],CQ)}}}function validateMetaDataSize(tQ,eQ){if(new Blob([eQ??""]).size>RTM_METADATA_MAX_LENGTH){const{code:AQ,reason:iQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_METADATA_LENGTH_OVERFLOW);throw new RtmLimitExceededError(tQ,[iQ],AQ)}}function validMetaDataMajorRevisionForRemove(tQ,eQ){if(eQ<-1){const{code:AQ,reason:iQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_REVISION);throw new RtmInvalidArgumentError(tQ,[iQ],AQ)}if(eQ%1!=0){const{code:AQ,reason:iQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_REVISION);throw new RtmInvalidArgumentError(tQ,[iQ],AQ)}if(eQ===0){const{code:AQ,reason:iQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_REVISION);throw new RtmInvalidArgumentError(tQ,[iQ],AQ)}}function validStateOfPresence(tQ,eQ){for(const iQ in tQ){var AQ;const oQ=new Blob([(AQ=tQ[iQ])!==null&&AQ!==void 0?AQ:""]).size;if(validStateKeyOfPresence(iQ,eQ),oQ>MAX_STATE_VALUE_SIZE){const{code:rQ,reason:nQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_PRESENCE_STATE_VALUE_SIZE_OVERFLOW);throw new RtmLimitExceededError(eQ,[nQ],rQ)}}}function validStateKeyOfPresence(tQ,eQ){const AQ=new Blob([tQ??""]).size;if(AQ>MAX_STATE_KEY_SIZE){const{code:iQ,reason:oQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_PRESENCE_STATE_KEY_SIZE_OVERFLOW);throw new RtmInvalidArgumentError(eQ,[oQ],iQ)}if(AQ===0||!isValidString(tQ)||(tQ==null?void 0:tQ[0])==="_"){const{code:iQ,reason:oQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_PRESENCE_INVALID_STATE_KEY);throw new RtmInvalidArgumentError(eQ,[oQ],iQ)}}function checkKeyValidity(tQ){return tQ.length!==0&&tQ[0]!==K_SYNC_INTERNAL_KEY_PREFIX}function validateMessageSize(tQ,eQ){if(!tQ||typeof tQ!="string"&&!(tQ instanceof Uint8Array)){const{code:AQ,reason:iQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_INVALID_MESSAGE);throw new RtmInvalidArgumentError(eQ,[iQ],AQ)}if((typeof tQ=="string"?new Blob([tQ??""]).size:tQ.byteLength)>PUBLISH_MESSAGE_SIZE){const{code:AQ,reason:iQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_MESSAGE_LENGTH_EXCEED_LIMITATION);throw new RtmInvalidArgumentError(eQ,[iQ],AQ)}}function validateCustomType(tQ,eQ){const AQ=new Blob([tQ]);if(AQ.size>CUSTOM_TYPE_SIZE){const{code:iQ,reason:oQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_CUSTOM_TYPE_LENGTH_OVERFLOW);throw new RtmInvalidArgumentError(eQ,[oQ],iQ)}if(AQ.size===0){const{code:iQ,reason:oQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_INVALID_CUSTOM_TYPE);throw new RtmInvalidArgumentError(eQ,[oQ],iQ)}}const get007Version=()=>"007",get006Version=()=>"006";function validateToken(tQ,eQ,AQ,iQ){if(eQ===tQ)return;function oQ(){const{code:sQ,reason:aQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INCONSISTENT_APPID);throw new RtmInvalidArgumentError(AQ,[aQ],sQ)}function rQ(){const{code:sQ,reason:aQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_TOKEN);throw new RtmInvalidArgumentError(AQ,[aQ],sQ)}const nQ=tQ==null?void 0:tQ.slice(0,3);try{const sQ=nQ===get006Version()?fromStringWith006(tQ):nQ!==get007Version()||fromStringWith007(tQ);typeof sQ=="string"&&sQ!==eQ&&(isValidAppId(sQ)||rQ(),iQ("appId from token is '".concat(sQ,"', not match the appId of config.")),oQ()),sQ&&sQ!==eQ&&oQ()}catch(sQ){iQ(sQ),rQ()}}function validateChannelType(tQ,eQ){if(eQ!=="MESSAGE"&&eQ!=="STREAM"){const{code:AQ,reason:iQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_CHANNEL_TYPE);throw new RtmInvalidArgumentError(tQ,[iQ],AQ)}}function validateHistoryChannelType(tQ,eQ){if(eQ!=="MESSAGE"&&eQ!=="USER"){const{code:AQ,reason:iQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_CHANNEL_TYPE);throw new RtmInvalidArgumentError(tQ,[iQ],AQ)}}function __awaiter(tQ,eQ,AQ,iQ){return new(AQ||(AQ=Promise))(function(oQ,rQ){function nQ(cQ){try{aQ(iQ.next(cQ))}catch(gQ){rQ(gQ)}}function sQ(cQ){try{aQ(iQ.throw(cQ))}catch(gQ){rQ(gQ)}}function aQ(cQ){var gQ;cQ.done?oQ(cQ.value):(gQ=cQ.value,gQ instanceof AQ?gQ:new AQ(function(IQ){IQ(gQ)})).then(nQ,sQ)}aQ((iQ=iQ.apply(tQ,[])).next())})}function __generator(tQ,eQ){var AQ,iQ,oQ,rQ,nQ={label:0,sent:function(){if(1&oQ[0])throw oQ[1];return oQ[1]},trys:[],ops:[]};return rQ={next:sQ(0),throw:sQ(1),return:sQ(2)},typeof Symbol=="function"&&(rQ[Symbol.iterator]=function(){return this}),rQ;function sQ(aQ){return function(cQ){return function(gQ){if(AQ)throw new TypeError("Generator is already executing.");for(;nQ;)try{if(AQ=1,iQ&&(oQ=2&gQ[0]?iQ.return:gQ[0]?iQ.throw||((oQ=iQ.return)&&oQ.call(iQ),0):iQ.next)&&!(oQ=oQ.call(iQ,gQ[1])).done)return oQ;switch(iQ=0,oQ&&(gQ=[2&gQ[0],oQ.value]),gQ[0]){case 0:case 1:oQ=gQ;break;case 4:return nQ.label++,{value:gQ[1],done:!1};case 5:nQ.label++,iQ=gQ[1],gQ=[0];continue;case 7:gQ=nQ.ops.pop(),nQ.trys.pop();continue;default:if(oQ=nQ.trys,!((oQ=oQ.length>0&&oQ[oQ.length-1])||gQ[0]!==6&&gQ[0]!==2)){nQ=0;continue}if(gQ[0]===3&&(!oQ||gQ[1]>oQ[0]&&gQ[1]<oQ[3])){nQ.label=gQ[1];break}if(gQ[0]===6&&nQ.label<oQ[1]){nQ.label=oQ[1],oQ=gQ;break}if(oQ&&nQ.label<oQ[2]){nQ.label=oQ[2],nQ.ops.push(gQ);break}oQ[2]&&nQ.ops.pop(),nQ.trys.pop();continue}gQ=eQ.call(tQ,nQ)}catch(IQ){gQ=[6,IQ],iQ=0}finally{AQ=oQ=0}if(5&gQ[0])throw gQ[1];return{value:gQ[0]?gQ[1]:void 0,done:!0}}([aQ,cQ])}}}function __read(tQ,eQ){var AQ=typeof Symbol=="function"&&tQ[Symbol.iterator];if(!AQ)return tQ;var iQ,oQ,rQ=AQ.call(tQ),nQ=[];try{for(;(eQ===void 0||eQ-- >0)&&!(iQ=rQ.next()).done;)nQ.push(iQ.value)}catch(sQ){oQ={error:sQ}}finally{try{iQ&&!iQ.done&&(AQ=rQ.return)&&AQ.call(rQ)}finally{if(oQ)throw oQ.error}}return nQ}function __spreadArray(tQ,eQ,AQ){if(arguments.length===2)for(var iQ,oQ=0,rQ=eQ.length;oQ<rQ;oQ++)!iQ&&oQ in eQ||(iQ||(iQ=Array.prototype.slice.call(eQ,0,oQ)),iQ[oQ]=eQ[oQ]);return tQ.concat(iQ||Array.prototype.slice.call(eQ))}var defaultErrorConfig={withStackTrace:!1},createNeverThrowError=function(tQ,eQ,AQ){return AQ===void 0&&(AQ=defaultErrorConfig),{data:eQ.isOk()?{type:"Ok",value:eQ.value}:{type:"Err",value:eQ.error},message:tQ,stack:AQ.withStackTrace?new Error().stack:void 0}},ResultAsync=function(){function tQ(eQ){this._promise=eQ}return tQ.fromSafePromise=function(eQ){return new tQ(eQ.then(function(AQ){return new Ok(AQ)}))},tQ.fromPromise=function(eQ,AQ){return new tQ(eQ.then(function(iQ){return new Ok(iQ)}).catch(function(iQ){return new Err(AQ(iQ))}))},tQ.combine=function(eQ){return combineResultAsyncList(eQ)},tQ.combineWithAllErrors=function(eQ){return combineResultAsyncListWithAllErrors(eQ)},tQ.prototype.map=function(eQ){var AQ=this;return new tQ(this._promise.then(function(iQ){return __awaiter(AQ,void 0,void 0,function(){var oQ;return __generator(this,function(rQ){switch(rQ.label){case 0:return iQ.isErr()?[2,new Err(iQ.error)]:(oQ=Ok.bind,[4,eQ(iQ.value)]);case 1:return[2,new(oQ.apply(Ok,[void 0,rQ.sent()]))]}})})}))},tQ.prototype.mapErr=function(eQ){var AQ=this;return new tQ(this._promise.then(function(iQ){return __awaiter(AQ,void 0,void 0,function(){var oQ;return __generator(this,function(rQ){switch(rQ.label){case 0:return iQ.isOk()?[2,new Ok(iQ.value)]:(oQ=Err.bind,[4,eQ(iQ.error)]);case 1:return[2,new(oQ.apply(Err,[void 0,rQ.sent()]))]}})})}))},tQ.prototype.andThen=function(eQ){return new tQ(this._promise.then(function(AQ){if(AQ.isErr())return new Err(AQ.error);var iQ=eQ(AQ.value);return iQ instanceof tQ?iQ._promise:iQ}))},tQ.prototype.orElse=function(eQ){var AQ=this;return new tQ(this._promise.then(function(iQ){return __awaiter(AQ,void 0,void 0,function(){return __generator(this,function(oQ){return iQ.isErr()?[2,eQ(iQ.error)]:[2,new Ok(iQ.value)]})})}))},tQ.prototype.match=function(eQ,AQ){return this._promise.then(function(iQ){return iQ.match(eQ,AQ)})},tQ.prototype.unwrapOr=function(eQ){return this._promise.then(function(AQ){return AQ.unwrapOr(eQ)})},tQ.prototype.then=function(eQ,AQ){return this._promise.then(eQ,AQ)},tQ}(),errAsync=function(tQ){return new ResultAsync(Promise.resolve(new Err(tQ)))},fromPromise=ResultAsync.fromPromise;ResultAsync.fromSafePromise;var appendValueToEndOfList=function(tQ){return function(eQ){return __spreadArray(__spreadArray([],__read(eQ),!1),[tQ],!1)}},combineResultList=function(tQ){return tQ.reduce(function(eQ,AQ){return eQ.isOk()?AQ.isErr()?err(AQ.error):eQ.map(appendValueToEndOfList(AQ.value)):eQ},ok([]))},combineResultAsyncList=function(tQ){return ResultAsync.fromSafePromise(Promise.all(tQ)).andThen(combineResultList)},combineResultListWithAllErrors=function(tQ){return tQ.reduce(function(eQ,AQ){return AQ.isErr()?eQ.isErr()?err(__spreadArray(__spreadArray([],__read(eQ.error),!1),[AQ.error],!1)):err([AQ.error]):eQ.isErr()?eQ:ok(__spreadArray(__spreadArray([],__read(eQ.value),!1),[AQ.value],!1))},ok([]))},combineResultAsyncListWithAllErrors=function(tQ){return ResultAsync.fromSafePromise(Promise.all(tQ)).andThen(combineResultListWithAllErrors)},Result;(function(tQ){tQ.fromThrowable=function(eQ,AQ){return function(){for(var iQ=[],oQ=0;oQ<arguments.length;oQ++)iQ[oQ]=arguments[oQ];try{var rQ=eQ.apply(void 0,__spreadArray([],__read(iQ),!1));return ok(rQ)}catch(nQ){return err(AQ?AQ(nQ):nQ)}}},tQ.combine=function(eQ){return combineResultList(eQ)},tQ.combineWithAllErrors=function(eQ){return combineResultListWithAllErrors(eQ)}})(Result||(Result={}));var ok=function(tQ){return new Ok(tQ)},err=function(tQ){return new Err(tQ)},Ok=function(){function tQ(eQ){this.value=eQ}return tQ.prototype.isOk=function(){return!0},tQ.prototype.isErr=function(){return!this.isOk()},tQ.prototype.map=function(eQ){return ok(eQ(this.value))},tQ.prototype.mapErr=function(eQ){return ok(this.value)},tQ.prototype.andThen=function(eQ){return eQ(this.value)},tQ.prototype.orElse=function(eQ){return ok(this.value)},tQ.prototype.asyncAndThen=function(eQ){return eQ(this.value)},tQ.prototype.asyncMap=function(eQ){return ResultAsync.fromSafePromise(eQ(this.value))},tQ.prototype.unwrapOr=function(eQ){return this.value},tQ.prototype.match=function(eQ,AQ){return eQ(this.value)},tQ.prototype._unsafeUnwrap=function(eQ){return this.value},tQ.prototype._unsafeUnwrapErr=function(eQ){throw createNeverThrowError("Called `_unsafeUnwrapErr` on an Ok",this,eQ)},tQ}(),Err=function(){function tQ(eQ){this.error=eQ}return tQ.prototype.isOk=function(){return!1},tQ.prototype.isErr=function(){return!this.isOk()},tQ.prototype.map=function(eQ){return err(this.error)},tQ.prototype.mapErr=function(eQ){return err(eQ(this.error))},tQ.prototype.andThen=function(eQ){return err(this.error)},tQ.prototype.orElse=function(eQ){return eQ(this.error)},tQ.prototype.asyncAndThen=function(eQ){return errAsync(this.error)},tQ.prototype.asyncMap=function(eQ){return errAsync(this.error)},tQ.prototype.unwrapOr=function(eQ){return eQ},tQ.prototype.match=function(eQ,AQ){return AQ(this.error)},tQ.prototype._unsafeUnwrap=function(eQ){throw createNeverThrowError("Called `_unsafeUnwrap` on an Err",this,eQ)},tQ.prototype._unsafeUnwrapErr=function(eQ){return this.error},tQ}();Result.fromThrowable;let ConnectionDisconnectedReason=function(tQ){return tQ.LEAVE="LEAVE",tQ.NETWORK_ERROR="NETWORK_ERROR",tQ.SERVER_ERROR="SERVER_ERROR",tQ.UID_BANNED="UID_BANNED",tQ.FALLBACK="FALLBACK",tQ.IP_BANNED="IP_BANNED",tQ.CHANNEL_BANNED="CHANNEL_BANNED",tQ.LICENSE_MISSING="LICENSE_MISSING",tQ.LICENSE_EXPIRED="LICENSE_EXPIRED",tQ.LICENSE_MINUTES_EXCEEDED="LICENSE_MINUTES_EXCEEDED",tQ.LICENSE_PERIOD_INVALID="LICENSE_PERIOD_INVALID",tQ.LICENSE_MULTIPLE_SDK_SERVICE="LICENSE_MULTIPLE_SDK_SERVICE",tQ.LICENSE_ILLEGAL="LICENSE_ILLEGAL",tQ.TOKEN_EXPIRE="TOKEN_EXPIRE",tQ}({}),AgoraRTCErrorCode=function(tQ){return tQ.UNEXPECTED_ERROR="UNEXPECTED_ERROR",tQ.UNEXPECTED_RESPONSE="UNEXPECTED_RESPONSE",tQ.TIMEOUT="TIMEOUT",tQ.INVALID_PARAMS="INVALID_PARAMS",tQ.NOT_READABLE="NOT_READABLE",tQ.NOT_SUPPORTED="NOT_SUPPORTED",tQ.INVALID_OPERATION="INVALID_OPERATION",tQ.OPERATION_ABORTED="OPERATION_ABORTED",tQ.WEB_SECURITY_RESTRICT="WEB_SECURITY_RESTRICT",tQ.EXCHANGE_SDP_FAILED="EXCHANGE_SDP_FAILED",tQ.ADD_CANDIDATE_FAILED="ADD_CANDIDATE_FAILED",tQ.DATACHANNEL_FAILED="DATACHANNEL_FAILED",tQ.NETWORK_ERROR="NETWORK_ERROR",tQ.NETWORK_TIMEOUT="NETWORK_TIMEOUT",tQ.NETWORK_RESPONSE_ERROR="NETWORK_RESPONSE_ERROR",tQ.API_INVOKE_TIMEOUT="API_INVOKE_TIMEOUT",tQ.ENUMERATE_DEVICES_FAILED="ENUMERATE_DEVICES_FAILED",tQ.DEVICE_NOT_FOUND="DEVICE_NOT_FOUND",tQ.ELECTRON_IS_NULL="ELECTRON_IS_NULL",tQ.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR="ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR",tQ.CHROME_PLUGIN_NO_RESPONSE="CHROME_PLUGIN_NO_RESPONSE",tQ.CHROME_PLUGIN_NOT_INSTALL="CHROME_PLUGIN_NOT_INSTALL",tQ.MEDIA_OPTION_INVALID="MEDIA_OPTION_INVALID",tQ.PERMISSION_DENIED="PERMISSION_DENIED",tQ.CONSTRAINT_NOT_SATISFIED="CONSTRAINT_NOT_SATISFIED",tQ.TRACK_IS_DISABLED="TRACK_IS_DISABLED",tQ.GET_VIDEO_ELEMENT_VISIBLE_ERROR="GET_VIDEO_ELEMENT_VISIBLE_ERROR",tQ.SHARE_AUDIO_NOT_ALLOWED="SHARE_AUDIO_NOT_ALLOWED",tQ.LOW_STREAM_ENCODING_ERROR="LOW_STREAM_ENCODING_ERROR",tQ.SET_ENCODING_PARAMETER_ERROR="SET_ENCODING_PARAMETER_ERROR",tQ.TRACK_STATE_UNREACHABLE="TRACK_STATE_UNREACHABLE",tQ.INVALID_UINT_UID_FROM_STRING_UID="INVALID_UINT_UID_FROM_STRING_UID",tQ.CAN_NOT_GET_PROXY_SERVER="CAN_NOT_GET_PROXY_SERVER",tQ.CAN_NOT_GET_GATEWAY_SERVER="CAN_NOT_GET_GATEWAY_SERVER",tQ.VOID_GATEWAY_ADDRESS="VOID_GATEWAY_ADDRESS",tQ.UID_CONFLICT="UID_CONFLICT",tQ.MULTI_UNILBS_RESPONSE_ERROR="MULTI_UNILBS_RESPONSE_ERROR",tQ.UPDATE_TICKET_FAILED="UPDATE_TICKET_FAILED",tQ.TOKEN_EXPIRE="TOKEN_EXPIRE",tQ.INVALID_LOCAL_TRACK="INVALID_LOCAL_TRACK",tQ.INVALID_TRACK="INVALID_TRACK",tQ.SENDER_NOT_FOUND="SENDER_NOT_FOUND",tQ.CREATE_OFFER_FAILED="CREATE_OFFER_FAILED",tQ.SET_ANSWER_FAILED="SET_ANSWER_FAILED",tQ.ICE_FAILED="ICE_FAILED",tQ.PC_CLOSED="PC_CLOSED",tQ.SENDER_REPLACE_FAILED="SENDER_REPLACE_FAILED",tQ.GET_LOCAL_CAPABILITIES_FAILED="GET_LOCAL_CAPABILITIES_FAILED",tQ.GET_LOCAL_CONNECTION_PARAMS_FAILED="GET_LOCAL_CONNECTION_PARAMS_FAILED",tQ.SUBSCRIBE_FAILED="SUBSCRIBE_FAILED",tQ.UNSUBSCRIBE_FAILED="UNSUBSCRIBE_FAILED",tQ.GATEWAY_P2P_LOST="GATEWAY_P2P_LOST",tQ.NO_ICE_CANDIDATE="NO_ICE_CANDIDATE",tQ.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS="CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS",tQ.EXIST_DISABLED_VIDEO_TRACK="EXIST_DISABLED_VIDEO_TRACK",tQ.INVALID_REMOTE_USER="INVALID_REMOTE_USER",tQ.REMOTE_USER_IS_NOT_PUBLISHED="REMOTE_USER_IS_NOT_PUBLISHED",tQ.CUSTOM_REPORT_SEND_FAILED="CUSTOM_REPORT_SEND_FAILED",tQ.CUSTOM_REPORT_FREQUENCY_TOO_HIGH="CUSTOM_REPORT_FREQUENCY_TOO_HIGH",tQ.FETCH_AUDIO_FILE_FAILED="FETCH_AUDIO_FILE_FAILED",tQ.READ_LOCAL_AUDIO_FILE_ERROR="READ_LOCAL_AUDIO_FILE_ERROR",tQ.DECODE_AUDIO_FILE_FAILED="DECODE_AUDIO_FILE_FAILED",tQ.WS_ABORT="WS_ABORT",tQ.WS_DISCONNECT="WS_DISCONNECT",tQ.WS_ERR="WS_ERR",tQ.EXTERNAL_SIGNAL_ABORT="EXTERNAL_SIGNAL_ABORT",tQ.LIVE_STREAMING_TASK_CONFLICT="LIVE_STREAMING_TASK_CONFLICT",tQ.LIVE_STREAMING_INVALID_ARGUMENT="LIVE_STREAMING_INVALID_ARGUMENT",tQ.LIVE_STREAMING_INTERNAL_SERVER_ERROR="LIVE_STREAMING_INTERNAL_SERVER_ERROR",tQ.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED="LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED",tQ.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED="LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED",tQ.LIVE_STREAMING_CDN_ERROR="LIVE_STREAMING_CDN_ERROR",tQ.LIVE_STREAMING_INVALID_RAW_STREAM="LIVE_STREAMING_INVALID_RAW_STREAM",tQ.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT="LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT",tQ.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE="LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE",tQ.LIVE_STREAMING_WARN_FREQUENT_REQUEST="LIVE_STREAMING_WARN_FREQUENT_REQUEST",tQ.WEBGL_INTERNAL_ERROR="WEBGL_INTERNAL_ERROR",tQ.BEAUTY_PROCESSOR_INTERNAL_ERROR="BEAUTY_PROCESSOR_INTERNAL_ERROR",tQ.CROSS_CHANNEL_WAIT_STATUS_ERROR="CROSS_CHANNEL_WAIT_STATUS_ERROR",tQ.CROSS_CHANNEL_FAILED_JOIN_SRC="CROSS_CHANNEL_FAILED_JOIN_SEC",tQ.CROSS_CHANNEL_FAILED_JOIN_DEST="CROSS_CHANNEL_FAILED_JOIN_DEST",tQ.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST="CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST",tQ.CROSS_CHANNEL_SERVER_ERROR_RESPONSE="CROSS_CHANNEL_SERVER_ERROR_RESPONSE",tQ.METADATA_OUT_OF_RANGE="METADATA_OUT_OF_RANGE",tQ.LOCAL_AEC_ERROR="LOCAL_AEC_ERROR",tQ.INVALID_PLUGIN="INVALID_PLUGIN",tQ.DISCONNECT_P2P="DISCONNECT_P2P",tQ.CONVERTING_IMAGEDATA_TO_BLOB_FAILED="CONVERTING_IMAGEDATA_TO_BLOB_FAILED",tQ.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED="CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED",tQ.INIT_DATACHANNEL_TIMEOUT="INIT_DATACHANNEL_TIMEOUT",tQ.CREATE_DATACHANNEL_ERROR="CREATE_DATACHANNEL_ERROR",tQ.DATACHANNEL_CONNECTION_TIMEOUT="DATACHANNEL_CONNECTION_TIMEOUT",tQ.PROHIBITED_OPERATION="PROHIBITED_OPERATION",tQ.IMAGE_MODERATION_UPLOAD_FAILED="IMAGE_MODERATION_UPLOAD_FAILED",tQ.P2P_MESSAGE_FAILED="P2P_MESSAGE_FAILED",tQ.DATASTREAM2_NOT_AVAILABLE="DATASTREAM2_NOT_AVAILABLE",tQ}({});var umd={exports:{}};(function(tQ,eQ){var AQ=function(iQ){Object.defineProperty(iQ,"__esModule",{value:!0}),iQ.default=void 0;/**
	   * @license
	   * Copyright 2009 The Closure Library Authors
	   * Copyright 2020 Daniel Wirtz / The long.js Authors.
	   *
	   * Licensed under the Apache License, Version 2.0 (the "License");
	   * you may not use this file except in compliance with the License.
	   * You may obtain a copy of the License at
	   *
	   *     http://www.apache.org/licenses/LICENSE-2.0
	   *
	   * Unless required by applicable law or agreed to in writing, software
	   * distributed under the License is distributed on an "AS IS" BASIS,
	   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	   * See the License for the specific language governing permissions and
	   * limitations under the License.
	   *
	   * SPDX-License-Identifier: Apache-2.0
	   */var oQ=null;try{oQ=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function rQ(SQ,xQ,VQ){this.low=0|SQ,this.high=0|xQ,this.unsigned=!!VQ}function nQ(SQ){return(SQ&&SQ.__isLong__)===!0}function sQ(SQ){var xQ=Math.clz32(SQ&-SQ);return SQ?31-xQ:xQ}rQ.prototype.__isLong__,Object.defineProperty(rQ.prototype,"__isLong__",{value:!0}),rQ.isLong=nQ;var aQ={},cQ={};function gQ(SQ,xQ){var VQ,TQ,kQ;return xQ?(kQ=0<=(SQ>>>=0)&&SQ<256)&&(TQ=cQ[SQ])?TQ:(VQ=EQ(SQ,0,!0),kQ&&(cQ[SQ]=VQ),VQ):(kQ=-128<=(SQ|=0)&&SQ<128)&&(TQ=aQ[SQ])?TQ:(VQ=EQ(SQ,SQ<0?-1:0,!1),kQ&&(aQ[SQ]=VQ),VQ)}function IQ(SQ,xQ){if(isNaN(SQ))return xQ?_Q:fQ;if(xQ){if(SQ<0)return _Q;if(SQ>=hQ)return UQ}else{if(SQ<=-BQ)return PQ;if(SQ+1>=BQ)return NQ}return SQ<0?IQ(-SQ,xQ).neg():EQ(SQ%uQ|0,SQ/uQ|0,xQ)}function EQ(SQ,xQ,VQ){return new rQ(SQ,xQ,VQ)}rQ.fromInt=gQ,rQ.fromNumber=IQ,rQ.fromBits=EQ;var CQ=Math.pow;function dQ(SQ,xQ,VQ){if(SQ.length===0)throw Error("empty string");if(typeof xQ=="number"?(VQ=xQ,xQ=!1):xQ=!!xQ,SQ==="NaN"||SQ==="Infinity"||SQ==="+Infinity"||SQ==="-Infinity")return xQ?_Q:fQ;if((VQ=VQ||10)<2||36<VQ)throw RangeError("radix");var TQ;if((TQ=SQ.indexOf("-"))>0)throw Error("interior hyphen");if(TQ===0)return dQ(SQ.substring(1),xQ,VQ).neg();for(var kQ=IQ(CQ(VQ,8)),GQ=fQ,vQ=0;vQ<SQ.length;vQ+=8){var pQ=Math.min(8,SQ.length-vQ),yQ=parseInt(SQ.substring(vQ,vQ+pQ),VQ);if(pQ<8){var mQ=IQ(CQ(VQ,pQ));GQ=GQ.mul(mQ).add(IQ(yQ))}else GQ=(GQ=GQ.mul(kQ)).add(IQ(yQ))}return GQ.unsigned=xQ,GQ}function lQ(SQ,xQ){return typeof SQ=="number"?IQ(SQ,xQ):typeof SQ=="string"?dQ(SQ,xQ):EQ(SQ.low,SQ.high,typeof xQ=="boolean"?xQ:SQ.unsigned)}rQ.fromString=dQ,rQ.fromValue=lQ;var uQ=4294967296,hQ=uQ*uQ,BQ=hQ/2,QQ=gQ(1<<24),fQ=gQ(0);rQ.ZERO=fQ;var _Q=gQ(0,!0);rQ.UZERO=_Q;var RQ=gQ(1);rQ.ONE=RQ;var wQ=gQ(1,!0);rQ.UONE=wQ;var bQ=gQ(-1);rQ.NEG_ONE=bQ;var NQ=EQ(-1,2147483647,!1);rQ.MAX_VALUE=NQ;var UQ=EQ(-1,-1,!0);rQ.MAX_UNSIGNED_VALUE=UQ;var PQ=EQ(0,-2147483648,!1);rQ.MIN_VALUE=PQ;var OQ=rQ.prototype;OQ.toInt=function(){return this.unsigned?this.low>>>0:this.low},OQ.toNumber=function(){return this.unsigned?(this.high>>>0)*uQ+(this.low>>>0):this.high*uQ+(this.low>>>0)},OQ.toString=function(SQ){if((SQ=SQ||10)<2||36<SQ)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(PQ)){var xQ=IQ(SQ),VQ=this.div(xQ),TQ=VQ.mul(xQ).sub(this);return VQ.toString(SQ)+TQ.toInt().toString(SQ)}return"-"+this.neg().toString(SQ)}for(var kQ=IQ(CQ(SQ,6),this.unsigned),GQ=this,vQ="";;){var pQ=GQ.div(kQ),yQ=(GQ.sub(pQ.mul(kQ)).toInt()>>>0).toString(SQ);if((GQ=pQ).isZero())return yQ+vQ;for(;yQ.length<6;)yQ="0"+yQ;vQ=""+yQ+vQ}},OQ.getHighBits=function(){return this.high},OQ.getHighBitsUnsigned=function(){return this.high>>>0},OQ.getLowBits=function(){return this.low},OQ.getLowBitsUnsigned=function(){return this.low>>>0},OQ.getNumBitsAbs=function(){if(this.isNegative())return this.eq(PQ)?64:this.neg().getNumBitsAbs();for(var SQ=this.high!=0?this.high:this.low,xQ=31;xQ>0&&!(SQ&1<<xQ);xQ--);return this.high!=0?xQ+33:xQ+1},OQ.isZero=function(){return this.high===0&&this.low===0},OQ.eqz=OQ.isZero,OQ.isNegative=function(){return!this.unsigned&&this.high<0},OQ.isPositive=function(){return this.unsigned||this.high>=0},OQ.isOdd=function(){return!(1&~this.low)},OQ.isEven=function(){return!(1&this.low)},OQ.equals=function(SQ){return nQ(SQ)||(SQ=lQ(SQ)),(this.unsigned===SQ.unsigned||this.high>>>31!=1||SQ.high>>>31!=1)&&this.high===SQ.high&&this.low===SQ.low},OQ.eq=OQ.equals,OQ.notEquals=function(SQ){return!this.eq(SQ)},OQ.neq=OQ.notEquals,OQ.ne=OQ.notEquals,OQ.lessThan=function(SQ){return this.comp(SQ)<0},OQ.lt=OQ.lessThan,OQ.lessThanOrEqual=function(SQ){return this.comp(SQ)<=0},OQ.lte=OQ.lessThanOrEqual,OQ.le=OQ.lessThanOrEqual,OQ.greaterThan=function(SQ){return this.comp(SQ)>0},OQ.gt=OQ.greaterThan,OQ.greaterThanOrEqual=function(SQ){return this.comp(SQ)>=0},OQ.gte=OQ.greaterThanOrEqual,OQ.ge=OQ.greaterThanOrEqual,OQ.compare=function(SQ){if(nQ(SQ)||(SQ=lQ(SQ)),this.eq(SQ))return 0;var xQ=this.isNegative(),VQ=SQ.isNegative();return xQ&&!VQ?-1:!xQ&&VQ?1:this.unsigned?SQ.high>>>0>this.high>>>0||SQ.high===this.high&&SQ.low>>>0>this.low>>>0?-1:1:this.sub(SQ).isNegative()?-1:1},OQ.comp=OQ.compare,OQ.negate=function(){return!this.unsigned&&this.eq(PQ)?PQ:this.not().add(RQ)},OQ.neg=OQ.negate,OQ.add=function(SQ){nQ(SQ)||(SQ=lQ(SQ));var xQ=this.high>>>16,VQ=65535&this.high,TQ=this.low>>>16,kQ=65535&this.low,GQ=SQ.high>>>16,vQ=65535&SQ.high,pQ=SQ.low>>>16,yQ=0,mQ=0,LQ=0,HQ=0;return LQ+=(HQ+=kQ+(65535&SQ.low))>>>16,mQ+=(LQ+=TQ+pQ)>>>16,yQ+=(mQ+=VQ+vQ)>>>16,yQ+=xQ+GQ,EQ((LQ&=65535)<<16|(HQ&=65535),(yQ&=65535)<<16|(mQ&=65535),this.unsigned)},OQ.subtract=function(SQ){return nQ(SQ)||(SQ=lQ(SQ)),this.add(SQ.neg())},OQ.sub=OQ.subtract,OQ.multiply=function(SQ){if(this.isZero())return this;if(nQ(SQ)||(SQ=lQ(SQ)),oQ)return EQ(oQ.mul(this.low,this.high,SQ.low,SQ.high),oQ.get_high(),this.unsigned);if(SQ.isZero())return this.unsigned?_Q:fQ;if(this.eq(PQ))return SQ.isOdd()?PQ:fQ;if(SQ.eq(PQ))return this.isOdd()?PQ:fQ;if(this.isNegative())return SQ.isNegative()?this.neg().mul(SQ.neg()):this.neg().mul(SQ).neg();if(SQ.isNegative())return this.mul(SQ.neg()).neg();if(this.lt(QQ)&&SQ.lt(QQ))return IQ(this.toNumber()*SQ.toNumber(),this.unsigned);var xQ=this.high>>>16,VQ=65535&this.high,TQ=this.low>>>16,kQ=65535&this.low,GQ=SQ.high>>>16,vQ=65535&SQ.high,pQ=SQ.low>>>16,yQ=65535&SQ.low,mQ=0,LQ=0,HQ=0,$Q=0;return HQ+=($Q+=kQ*yQ)>>>16,LQ+=(HQ+=TQ*yQ)>>>16,HQ&=65535,LQ+=(HQ+=kQ*pQ)>>>16,mQ+=(LQ+=VQ*yQ)>>>16,LQ&=65535,mQ+=(LQ+=TQ*pQ)>>>16,LQ&=65535,mQ+=(LQ+=kQ*vQ)>>>16,mQ+=xQ*yQ+VQ*pQ+TQ*vQ+kQ*GQ,EQ((HQ&=65535)<<16|($Q&=65535),(mQ&=65535)<<16|(LQ&=65535),this.unsigned)},OQ.mul=OQ.multiply,OQ.divide=function(SQ){if(nQ(SQ)||(SQ=lQ(SQ)),SQ.isZero())throw Error("division by zero");var xQ,VQ,TQ;if(oQ)return this.unsigned||this.high!==-2147483648||SQ.low!==-1||SQ.high!==-1?EQ((this.unsigned?oQ.div_u:oQ.div_s)(this.low,this.high,SQ.low,SQ.high),oQ.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?_Q:fQ;if(this.unsigned){if(SQ.unsigned||(SQ=SQ.toUnsigned()),SQ.gt(this))return _Q;if(SQ.gt(this.shru(1)))return wQ;TQ=_Q}else{if(this.eq(PQ))return SQ.eq(RQ)||SQ.eq(bQ)?PQ:SQ.eq(PQ)?RQ:(xQ=this.shr(1).div(SQ).shl(1)).eq(fQ)?SQ.isNegative()?RQ:bQ:(VQ=this.sub(SQ.mul(xQ)),TQ=xQ.add(VQ.div(SQ)));if(SQ.eq(PQ))return this.unsigned?_Q:fQ;if(this.isNegative())return SQ.isNegative()?this.neg().div(SQ.neg()):this.neg().div(SQ).neg();if(SQ.isNegative())return this.div(SQ.neg()).neg();TQ=fQ}for(VQ=this;VQ.gte(SQ);){xQ=Math.max(1,Math.floor(VQ.toNumber()/SQ.toNumber()));for(var kQ=Math.ceil(Math.log(xQ)/Math.LN2),GQ=kQ<=48?1:CQ(2,kQ-48),vQ=IQ(xQ),pQ=vQ.mul(SQ);pQ.isNegative()||pQ.gt(VQ);)pQ=(vQ=IQ(xQ-=GQ,this.unsigned)).mul(SQ);vQ.isZero()&&(vQ=RQ),TQ=TQ.add(vQ),VQ=VQ.sub(pQ)}return TQ},OQ.div=OQ.divide,OQ.modulo=function(SQ){return nQ(SQ)||(SQ=lQ(SQ)),oQ?EQ((this.unsigned?oQ.rem_u:oQ.rem_s)(this.low,this.high,SQ.low,SQ.high),oQ.get_high(),this.unsigned):this.sub(this.div(SQ).mul(SQ))},OQ.mod=OQ.modulo,OQ.rem=OQ.modulo,OQ.not=function(){return EQ(~this.low,~this.high,this.unsigned)},OQ.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},OQ.clz=OQ.countLeadingZeros,OQ.countTrailingZeros=function(){return this.low?sQ(this.low):sQ(this.high)+32},OQ.ctz=OQ.countTrailingZeros,OQ.and=function(SQ){return nQ(SQ)||(SQ=lQ(SQ)),EQ(this.low&SQ.low,this.high&SQ.high,this.unsigned)},OQ.or=function(SQ){return nQ(SQ)||(SQ=lQ(SQ)),EQ(this.low|SQ.low,this.high|SQ.high,this.unsigned)},OQ.xor=function(SQ){return nQ(SQ)||(SQ=lQ(SQ)),EQ(this.low^SQ.low,this.high^SQ.high,this.unsigned)},OQ.shiftLeft=function(SQ){return nQ(SQ)&&(SQ=SQ.toInt()),(SQ&=63)==0?this:SQ<32?EQ(this.low<<SQ,this.high<<SQ|this.low>>>32-SQ,this.unsigned):EQ(0,this.low<<SQ-32,this.unsigned)},OQ.shl=OQ.shiftLeft,OQ.shiftRight=function(SQ){return nQ(SQ)&&(SQ=SQ.toInt()),(SQ&=63)==0?this:SQ<32?EQ(this.low>>>SQ|this.high<<32-SQ,this.high>>SQ,this.unsigned):EQ(this.high>>SQ-32,this.high>=0?0:-1,this.unsigned)},OQ.shr=OQ.shiftRight,OQ.shiftRightUnsigned=function(SQ){return nQ(SQ)&&(SQ=SQ.toInt()),(SQ&=63)==0?this:SQ<32?EQ(this.low>>>SQ|this.high<<32-SQ,this.high>>>SQ,this.unsigned):EQ(SQ===32?this.high:this.high>>>SQ-32,0,this.unsigned)},OQ.shru=OQ.shiftRightUnsigned,OQ.shr_u=OQ.shiftRightUnsigned,OQ.rotateLeft=function(SQ){var xQ;return nQ(SQ)&&(SQ=SQ.toInt()),(SQ&=63)==0?this:SQ===32?EQ(this.high,this.low,this.unsigned):SQ<32?(xQ=32-SQ,EQ(this.low<<SQ|this.high>>>xQ,this.high<<SQ|this.low>>>xQ,this.unsigned)):(xQ=32-(SQ-=32),EQ(this.high<<SQ|this.low>>>xQ,this.low<<SQ|this.high>>>xQ,this.unsigned))},OQ.rotl=OQ.rotateLeft,OQ.rotateRight=function(SQ){var xQ;return nQ(SQ)&&(SQ=SQ.toInt()),(SQ&=63)==0?this:SQ===32?EQ(this.high,this.low,this.unsigned):SQ<32?(xQ=32-SQ,EQ(this.high<<xQ|this.low>>>SQ,this.low<<xQ|this.high>>>SQ,this.unsigned)):(xQ=32-(SQ-=32),EQ(this.low<<xQ|this.high>>>SQ,this.high<<xQ|this.low>>>SQ,this.unsigned))},OQ.rotr=OQ.rotateRight,OQ.toSigned=function(){return this.unsigned?EQ(this.low,this.high,!1):this},OQ.toUnsigned=function(){return this.unsigned?this:EQ(this.low,this.high,!0)},OQ.toBytes=function(SQ){return SQ?this.toBytesLE():this.toBytesBE()},OQ.toBytesLE=function(){var SQ=this.high,xQ=this.low;return[255&xQ,xQ>>>8&255,xQ>>>16&255,xQ>>>24,255&SQ,SQ>>>8&255,SQ>>>16&255,SQ>>>24]},OQ.toBytesBE=function(){var SQ=this.high,xQ=this.low;return[SQ>>>24,SQ>>>16&255,SQ>>>8&255,255&SQ,xQ>>>24,xQ>>>16&255,xQ>>>8&255,255&xQ]},rQ.fromBytes=function(SQ,xQ,VQ){return VQ?rQ.fromBytesLE(SQ,xQ):rQ.fromBytesBE(SQ,xQ)},rQ.fromBytesLE=function(SQ,xQ){return new rQ(SQ[0]|SQ[1]<<8|SQ[2]<<16|SQ[3]<<24,SQ[4]|SQ[5]<<8|SQ[6]<<16|SQ[7]<<24,xQ)},rQ.fromBytesBE=function(SQ,xQ){return new rQ(SQ[4]<<24|SQ[5]<<16|SQ[6]<<8|SQ[7],SQ[0]<<24|SQ[1]<<16|SQ[2]<<8|SQ[3],xQ)};var YQ=rQ;return iQ.default=YQ,"default"in iQ?iQ.default:iQ}({});tQ.exports=AQ})(umd);var umdExports=umd.exports,indexMinimal={},minimal$1={},aspromise,hasRequiredAspromise;function requireAspromise(){return hasRequiredAspromise||(hasRequiredAspromise=1,aspromise=function(tQ,eQ){for(var AQ=new Array(arguments.length-1),iQ=0,oQ=2,rQ=!0;oQ<arguments.length;)AQ[iQ++]=arguments[oQ++];return new Promise(function(nQ,sQ){AQ[iQ]=function(aQ){if(rQ)if(rQ=!1,aQ)sQ(aQ);else{for(var cQ=new Array(arguments.length-1),gQ=0;gQ<cQ.length;)cQ[gQ++]=arguments[gQ];nQ.apply(null,cQ)}};try{tQ.apply(eQ||null,AQ)}catch(aQ){rQ&&(rQ=!1,sQ(aQ))}})}),aspromise}var base64$1={},hasRequiredBase64,eventemitter,hasRequiredEventemitter,float,hasRequiredFloat,inquire_1,hasRequiredInquire;function requireBase64(){return hasRequiredBase64||(hasRequiredBase64=1,function(tQ){var eQ=tQ;eQ.length=function(nQ){var sQ=nQ.length;if(!sQ)return 0;for(var aQ=0;--sQ%4>1&&nQ.charAt(sQ)==="=";)++aQ;return Math.ceil(3*nQ.length)/4-aQ};for(var AQ=new Array(64),iQ=new Array(123),oQ=0;oQ<64;)iQ[AQ[oQ]=oQ<26?oQ+65:oQ<52?oQ+71:oQ<62?oQ-4:oQ-59|43]=oQ++;eQ.encode=function(nQ,sQ,aQ){for(var cQ,gQ=null,IQ=[],EQ=0,CQ=0;sQ<aQ;){var dQ=nQ[sQ++];switch(CQ){case 0:IQ[EQ++]=AQ[dQ>>2],cQ=(3&dQ)<<4,CQ=1;break;case 1:IQ[EQ++]=AQ[cQ|dQ>>4],cQ=(15&dQ)<<2,CQ=2;break;case 2:IQ[EQ++]=AQ[cQ|dQ>>6],IQ[EQ++]=AQ[63&dQ],CQ=0}EQ>8191&&((gQ||(gQ=[])).push(String.fromCharCode.apply(String,IQ)),EQ=0)}return CQ&&(IQ[EQ++]=AQ[cQ],IQ[EQ++]=61,CQ===1&&(IQ[EQ++]=61)),gQ?(EQ&&gQ.push(String.fromCharCode.apply(String,IQ.slice(0,EQ))),gQ.join("")):String.fromCharCode.apply(String,IQ.slice(0,EQ))};var rQ="invalid encoding";eQ.decode=function(nQ,sQ,aQ){for(var cQ,gQ=aQ,IQ=0,EQ=0;EQ<nQ.length;){var CQ=nQ.charCodeAt(EQ++);if(CQ===61&&IQ>1)break;if((CQ=iQ[CQ])===void 0)throw Error(rQ);switch(IQ){case 0:cQ=CQ,IQ=1;break;case 1:sQ[aQ++]=cQ<<2|(48&CQ)>>4,cQ=CQ,IQ=2;break;case 2:sQ[aQ++]=(15&cQ)<<4|(60&CQ)>>2,cQ=CQ,IQ=3;break;case 3:sQ[aQ++]=(3&cQ)<<6|CQ,IQ=0}}if(IQ===1)throw Error(rQ);return aQ-gQ},eQ.test=function(nQ){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(nQ)}}(base64$1)),base64$1}function requireEventemitter(){if(hasRequiredEventemitter)return eventemitter;function tQ(){this._listeners={}}return hasRequiredEventemitter=1,eventemitter=tQ,tQ.prototype.on=function(eQ,AQ,iQ){return(this._listeners[eQ]||(this._listeners[eQ]=[])).push({fn:AQ,ctx:iQ||this}),this},tQ.prototype.off=function(eQ,AQ){if(eQ===void 0)this._listeners={};else if(AQ===void 0)this._listeners[eQ]=[];else for(var iQ=this._listeners[eQ],oQ=0;oQ<iQ.length;)iQ[oQ].fn===AQ?iQ.splice(oQ,1):++oQ;return this},tQ.prototype.emit=function(eQ){var AQ=this._listeners[eQ];if(AQ){for(var iQ=[],oQ=1;oQ<arguments.length;)iQ.push(arguments[oQ++]);for(oQ=0;oQ<AQ.length;)AQ[oQ].fn.apply(AQ[oQ++].ctx,iQ)}return this},eventemitter}function requireFloat(){if(hasRequiredFloat)return float;function tQ(rQ){return typeof Float32Array<"u"?function(){var nQ=new Float32Array([-0]),sQ=new Uint8Array(nQ.buffer),aQ=sQ[3]===128;function cQ(CQ,dQ,lQ){nQ[0]=CQ,dQ[lQ]=sQ[0],dQ[lQ+1]=sQ[1],dQ[lQ+2]=sQ[2],dQ[lQ+3]=sQ[3]}function gQ(CQ,dQ,lQ){nQ[0]=CQ,dQ[lQ]=sQ[3],dQ[lQ+1]=sQ[2],dQ[lQ+2]=sQ[1],dQ[lQ+3]=sQ[0]}function IQ(CQ,dQ){return sQ[0]=CQ[dQ],sQ[1]=CQ[dQ+1],sQ[2]=CQ[dQ+2],sQ[3]=CQ[dQ+3],nQ[0]}function EQ(CQ,dQ){return sQ[3]=CQ[dQ],sQ[2]=CQ[dQ+1],sQ[1]=CQ[dQ+2],sQ[0]=CQ[dQ+3],nQ[0]}rQ.writeFloatLE=aQ?cQ:gQ,rQ.writeFloatBE=aQ?gQ:cQ,rQ.readFloatLE=aQ?IQ:EQ,rQ.readFloatBE=aQ?EQ:IQ}():function(){function nQ(aQ,cQ,gQ,IQ){var EQ=cQ<0?1:0;if(EQ&&(cQ=-cQ),cQ===0)aQ(1/cQ>0?0:2147483648,gQ,IQ);else if(isNaN(cQ))aQ(2143289344,gQ,IQ);else if(cQ>34028234663852886e22)aQ((EQ<<31|2139095040)>>>0,gQ,IQ);else if(cQ<11754943508222875e-54)aQ((EQ<<31|Math.round(cQ/1401298464324817e-60))>>>0,gQ,IQ);else{var CQ=Math.floor(Math.log(cQ)/Math.LN2);aQ((EQ<<31|CQ+127<<23|8388607&Math.round(cQ*Math.pow(2,-CQ)*8388608))>>>0,gQ,IQ)}}function sQ(aQ,cQ,gQ){var IQ=aQ(cQ,gQ),EQ=2*(IQ>>31)+1,CQ=IQ>>>23&255,dQ=8388607&IQ;return CQ===255?dQ?NaN:EQ*(1/0):CQ===0?1401298464324817e-60*EQ*dQ:EQ*Math.pow(2,CQ-150)*(dQ+8388608)}rQ.writeFloatLE=nQ.bind(null,eQ),rQ.writeFloatBE=nQ.bind(null,AQ),rQ.readFloatLE=sQ.bind(null,iQ),rQ.readFloatBE=sQ.bind(null,oQ)}(),typeof Float64Array<"u"?function(){var nQ=new Float64Array([-0]),sQ=new Uint8Array(nQ.buffer),aQ=sQ[7]===128;function cQ(CQ,dQ,lQ){nQ[0]=CQ,dQ[lQ]=sQ[0],dQ[lQ+1]=sQ[1],dQ[lQ+2]=sQ[2],dQ[lQ+3]=sQ[3],dQ[lQ+4]=sQ[4],dQ[lQ+5]=sQ[5],dQ[lQ+6]=sQ[6],dQ[lQ+7]=sQ[7]}function gQ(CQ,dQ,lQ){nQ[0]=CQ,dQ[lQ]=sQ[7],dQ[lQ+1]=sQ[6],dQ[lQ+2]=sQ[5],dQ[lQ+3]=sQ[4],dQ[lQ+4]=sQ[3],dQ[lQ+5]=sQ[2],dQ[lQ+6]=sQ[1],dQ[lQ+7]=sQ[0]}function IQ(CQ,dQ){return sQ[0]=CQ[dQ],sQ[1]=CQ[dQ+1],sQ[2]=CQ[dQ+2],sQ[3]=CQ[dQ+3],sQ[4]=CQ[dQ+4],sQ[5]=CQ[dQ+5],sQ[6]=CQ[dQ+6],sQ[7]=CQ[dQ+7],nQ[0]}function EQ(CQ,dQ){return sQ[7]=CQ[dQ],sQ[6]=CQ[dQ+1],sQ[5]=CQ[dQ+2],sQ[4]=CQ[dQ+3],sQ[3]=CQ[dQ+4],sQ[2]=CQ[dQ+5],sQ[1]=CQ[dQ+6],sQ[0]=CQ[dQ+7],nQ[0]}rQ.writeDoubleLE=aQ?cQ:gQ,rQ.writeDoubleBE=aQ?gQ:cQ,rQ.readDoubleLE=aQ?IQ:EQ,rQ.readDoubleBE=aQ?EQ:IQ}():function(){function nQ(aQ,cQ,gQ,IQ,EQ,CQ){var dQ=IQ<0?1:0;if(dQ&&(IQ=-IQ),IQ===0)aQ(0,EQ,CQ+cQ),aQ(1/IQ>0?0:2147483648,EQ,CQ+gQ);else if(isNaN(IQ))aQ(0,EQ,CQ+cQ),aQ(2146959360,EQ,CQ+gQ);else if(IQ>17976931348623157e292)aQ(0,EQ,CQ+cQ),aQ((dQ<<31|2146435072)>>>0,EQ,CQ+gQ);else{var lQ;if(IQ<22250738585072014e-324)aQ((lQ=IQ/5e-324)>>>0,EQ,CQ+cQ),aQ((dQ<<31|lQ/4294967296)>>>0,EQ,CQ+gQ);else{var uQ=Math.floor(Math.log(IQ)/Math.LN2);uQ===1024&&(uQ=1023),aQ(4503599627370496*(lQ=IQ*Math.pow(2,-uQ))>>>0,EQ,CQ+cQ),aQ((dQ<<31|uQ+1023<<20|1048576*lQ&1048575)>>>0,EQ,CQ+gQ)}}}function sQ(aQ,cQ,gQ,IQ,EQ){var CQ=aQ(IQ,EQ+cQ),dQ=aQ(IQ,EQ+gQ),lQ=2*(dQ>>31)+1,uQ=dQ>>>20&2047,hQ=4294967296*(1048575&dQ)+CQ;return uQ===2047?hQ?NaN:lQ*(1/0):uQ===0?5e-324*lQ*hQ:lQ*Math.pow(2,uQ-1075)*(hQ+4503599627370496)}rQ.writeDoubleLE=nQ.bind(null,eQ,0,4),rQ.writeDoubleBE=nQ.bind(null,AQ,4,0),rQ.readDoubleLE=sQ.bind(null,iQ,0,4),rQ.readDoubleBE=sQ.bind(null,oQ,4,0)}(),rQ}function eQ(rQ,nQ,sQ){nQ[sQ]=255&rQ,nQ[sQ+1]=rQ>>>8&255,nQ[sQ+2]=rQ>>>16&255,nQ[sQ+3]=rQ>>>24}function AQ(rQ,nQ,sQ){nQ[sQ]=rQ>>>24,nQ[sQ+1]=rQ>>>16&255,nQ[sQ+2]=rQ>>>8&255,nQ[sQ+3]=255&rQ}function iQ(rQ,nQ){return(rQ[nQ]|rQ[nQ+1]<<8|rQ[nQ+2]<<16|rQ[nQ+3]<<24)>>>0}function oQ(rQ,nQ){return(rQ[nQ]<<24|rQ[nQ+1]<<16|rQ[nQ+2]<<8|rQ[nQ+3])>>>0}return hasRequiredFloat=1,float=tQ(tQ)}function requireInquire(){if(hasRequiredInquire)return inquire_1;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(tQ){}return null}return hasRequiredInquire=1,inquire_1=inquire,inquire_1}var utf8$2={},hasRequiredUtf8,pool_1,hasRequiredPool,longbits,hasRequiredLongbits,hasRequiredMinimal;function requireUtf8(){return hasRequiredUtf8||(hasRequiredUtf8=1,function(tQ){var eQ=tQ;eQ.length=function(AQ){for(var iQ=0,oQ=0,rQ=0;rQ<AQ.length;++rQ)(oQ=AQ.charCodeAt(rQ))<128?iQ+=1:oQ<2048?iQ+=2:(64512&oQ)==55296&&(64512&AQ.charCodeAt(rQ+1))==56320?(++rQ,iQ+=4):iQ+=3;return iQ},eQ.read=function(AQ,iQ,oQ){if(oQ-iQ<1)return"";for(var rQ,nQ=null,sQ=[],aQ=0;iQ<oQ;)(rQ=AQ[iQ++])<128?sQ[aQ++]=rQ:rQ>191&&rQ<224?sQ[aQ++]=(31&rQ)<<6|63&AQ[iQ++]:rQ>239&&rQ<365?(rQ=((7&rQ)<<18|(63&AQ[iQ++])<<12|(63&AQ[iQ++])<<6|63&AQ[iQ++])-65536,sQ[aQ++]=55296+(rQ>>10),sQ[aQ++]=56320+(1023&rQ)):sQ[aQ++]=(15&rQ)<<12|(63&AQ[iQ++])<<6|63&AQ[iQ++],aQ>8191&&((nQ||(nQ=[])).push(String.fromCharCode.apply(String,sQ)),aQ=0);return nQ?(aQ&&nQ.push(String.fromCharCode.apply(String,sQ.slice(0,aQ))),nQ.join("")):String.fromCharCode.apply(String,sQ.slice(0,aQ))},eQ.write=function(AQ,iQ,oQ){for(var rQ,nQ,sQ=oQ,aQ=0;aQ<AQ.length;++aQ)(rQ=AQ.charCodeAt(aQ))<128?iQ[oQ++]=rQ:rQ<2048?(iQ[oQ++]=rQ>>6|192,iQ[oQ++]=63&rQ|128):(64512&rQ)==55296&&(64512&(nQ=AQ.charCodeAt(aQ+1)))==56320?(rQ=65536+((1023&rQ)<<10)+(1023&nQ),++aQ,iQ[oQ++]=rQ>>18|240,iQ[oQ++]=rQ>>12&63|128,iQ[oQ++]=rQ>>6&63|128,iQ[oQ++]=63&rQ|128):(iQ[oQ++]=rQ>>12|224,iQ[oQ++]=rQ>>6&63|128,iQ[oQ++]=63&rQ|128);return oQ-sQ}}(utf8$2)),utf8$2}function requirePool(){return hasRequiredPool?pool_1:(hasRequiredPool=1,pool_1=function(tQ,eQ,AQ){var iQ=AQ||8192,oQ=iQ>>>1,rQ=null,nQ=iQ;return function(sQ){if(sQ<1||sQ>oQ)return tQ(sQ);nQ+sQ>iQ&&(rQ=tQ(iQ),nQ=0);var aQ=eQ.call(rQ,nQ,nQ+=sQ);return 7&nQ&&(nQ=1+(7|nQ)),aQ}})}function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=eQ;var tQ=requireMinimal();function eQ(rQ,nQ){this.lo=rQ>>>0,this.hi=nQ>>>0}var AQ=eQ.zero=new eQ(0,0);AQ.toNumber=function(){return 0},AQ.zzEncode=AQ.zzDecode=function(){return this},AQ.length=function(){return 1};var iQ=eQ.zeroHash="\0\0\0\0\0\0\0\0";eQ.fromNumber=function(rQ){if(rQ===0)return AQ;var nQ=rQ<0;nQ&&(rQ=-rQ);var sQ=rQ>>>0,aQ=(rQ-sQ)/4294967296>>>0;return nQ&&(aQ=~aQ>>>0,sQ=~sQ>>>0,++sQ>4294967295&&(sQ=0,++aQ>4294967295&&(aQ=0))),new eQ(sQ,aQ)},eQ.from=function(rQ){if(typeof rQ=="number")return eQ.fromNumber(rQ);if(tQ.isString(rQ)){if(!tQ.Long)return eQ.fromNumber(parseInt(rQ,10));rQ=tQ.Long.fromString(rQ)}return rQ.low||rQ.high?new eQ(rQ.low>>>0,rQ.high>>>0):AQ},eQ.prototype.toNumber=function(rQ){if(!rQ&&this.hi>>>31){var nQ=1+~this.lo>>>0,sQ=~this.hi>>>0;return nQ||(sQ=sQ+1>>>0),-(nQ+4294967296*sQ)}return this.lo+4294967296*this.hi},eQ.prototype.toLong=function(rQ){return tQ.Long?new tQ.Long(0|this.lo,0|this.hi,Boolean(rQ)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(rQ)}};var oQ=String.prototype.charCodeAt;return eQ.fromHash=function(rQ){return rQ===iQ?AQ:new eQ((oQ.call(rQ,0)|oQ.call(rQ,1)<<8|oQ.call(rQ,2)<<16|oQ.call(rQ,3)<<24)>>>0,(oQ.call(rQ,4)|oQ.call(rQ,5)<<8|oQ.call(rQ,6)<<16|oQ.call(rQ,7)<<24)>>>0)},eQ.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},eQ.prototype.zzEncode=function(){var rQ=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^rQ)>>>0,this.lo=(this.lo<<1^rQ)>>>0,this},eQ.prototype.zzDecode=function(){var rQ=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^rQ)>>>0,this.hi=(this.hi>>>1^rQ)>>>0,this},eQ.prototype.length=function(){var rQ=this.lo,nQ=(this.lo>>>28|this.hi<<4)>>>0,sQ=this.hi>>>24;return sQ===0?nQ===0?rQ<16384?rQ<128?1:2:rQ<2097152?3:4:nQ<16384?nQ<128?5:6:nQ<2097152?7:8:sQ<128?9:10},longbits}function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function(tQ){var eQ=tQ;function AQ(oQ,rQ,nQ){for(var sQ=Object.keys(rQ),aQ=0;aQ<sQ.length;++aQ)oQ[sQ[aQ]]!==void 0&&nQ||(oQ[sQ[aQ]]=rQ[sQ[aQ]]);return oQ}function iQ(oQ){function rQ(nQ,sQ){if(!(this instanceof rQ))return new rQ(nQ,sQ);Object.defineProperty(this,"message",{get:function(){return nQ}}),Error.captureStackTrace?Error.captureStackTrace(this,rQ):Object.defineProperty(this,"stack",{value:new Error().stack||""}),sQ&&AQ(this,sQ)}return rQ.prototype=Object.create(Error.prototype,{constructor:{value:rQ,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return oQ},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),rQ}eQ.asPromise=requireAspromise(),eQ.base64=requireBase64(),eQ.EventEmitter=requireEventemitter(),eQ.float=requireFloat(),eQ.inquire=requireInquire(),eQ.utf8=requireUtf8(),eQ.pool=requirePool(),eQ.LongBits=requireLongbits(),eQ.isNode=Boolean(commonjsGlobal$1!==void 0&&commonjsGlobal$1&&commonjsGlobal$1.process&&commonjsGlobal$1.process.versions&&commonjsGlobal$1.process.versions.node),eQ.global=eQ.isNode&&commonjsGlobal$1||typeof window<"u"&&window||typeof self<"u"&&self||commonjsGlobal$1,eQ.emptyArray=Object.freeze?Object.freeze([]):[],eQ.emptyObject=Object.freeze?Object.freeze({}):{},eQ.isInteger=Number.isInteger||function(oQ){return typeof oQ=="number"&&isFinite(oQ)&&Math.floor(oQ)===oQ},eQ.isString=function(oQ){return typeof oQ=="string"||oQ instanceof String},eQ.isObject=function(oQ){return oQ&&typeof oQ=="object"},eQ.isset=eQ.isSet=function(oQ,rQ){var nQ=oQ[rQ];return!(nQ==null||!oQ.hasOwnProperty(rQ))&&(typeof nQ!="object"||(Array.isArray(nQ)?nQ.length:Object.keys(nQ).length)>0)},eQ.Buffer=function(){try{var oQ=eQ.inquire("buffer").Buffer;return oQ.prototype.utf8Write?oQ:null}catch{return null}}(),eQ._Buffer_from=null,eQ._Buffer_allocUnsafe=null,eQ.newBuffer=function(oQ){return typeof oQ=="number"?eQ.Buffer?eQ._Buffer_allocUnsafe(oQ):new eQ.Array(oQ):eQ.Buffer?eQ._Buffer_from(oQ):typeof Uint8Array>"u"?oQ:new Uint8Array(oQ)},eQ.Array=typeof Uint8Array<"u"?Uint8Array:Array,eQ.Long=eQ.global.dcodeIO&&eQ.global.dcodeIO.Long||eQ.global.Long||eQ.inquire("long"),eQ.key2Re=/^true|false|0|1$/,eQ.key32Re=/^-?(?:0|[1-9][0-9]*)$/,eQ.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,eQ.longToHash=function(oQ){return oQ?eQ.LongBits.from(oQ).toHash():eQ.LongBits.zeroHash},eQ.longFromHash=function(oQ,rQ){var nQ=eQ.LongBits.fromHash(oQ);return eQ.Long?eQ.Long.fromBits(nQ.lo,nQ.hi,rQ):nQ.toNumber(Boolean(rQ))},eQ.merge=AQ,eQ.lcFirst=function(oQ){return oQ.charAt(0).toLowerCase()+oQ.substring(1)},eQ.newError=iQ,eQ.ProtocolError=iQ("ProtocolError"),eQ.oneOfGetter=function(oQ){for(var rQ={},nQ=0;nQ<oQ.length;++nQ)rQ[oQ[nQ]]=1;return function(){for(var sQ=Object.keys(this),aQ=sQ.length-1;aQ>-1;--aQ)if(rQ[sQ[aQ]]===1&&this[sQ[aQ]]!==void 0&&this[sQ[aQ]]!==null)return sQ[aQ]}},eQ.oneOfSetter=function(oQ){return function(rQ){for(var nQ=0;nQ<oQ.length;++nQ)oQ[nQ]!==rQ&&delete this[oQ[nQ]]}},eQ.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},eQ._configure=function(){var oQ=eQ.Buffer;oQ?(eQ._Buffer_from=oQ.from!==Uint8Array.from&&oQ.from||function(rQ,nQ){return new oQ(rQ,nQ)},eQ._Buffer_allocUnsafe=oQ.allocUnsafe||function(rQ){return new oQ(rQ)}):eQ._Buffer_from=eQ._Buffer_allocUnsafe=null}}(minimal$1)),minimal$1}var writer=Writer$1,util$4=requireMinimal(),BufferWriter$1,LongBits$1=util$4.LongBits,base64=util$4.base64,utf8$1=util$4.utf8;function Op(tQ,eQ,AQ){this.fn=tQ,this.len=eQ,this.next=void 0,this.val=AQ}function noop(){}function State(tQ){this.head=tQ.head,this.tail=tQ.tail,this.len=tQ.len,this.next=tQ.states}function Writer$1(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create$1=function(){return util$4.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};function writeByte(tQ,eQ,AQ){eQ[AQ]=255&tQ}function writeVarint32(tQ,eQ,AQ){for(;tQ>127;)eQ[AQ++]=127&tQ|128,tQ>>>=7;eQ[AQ]=tQ}function VarintOp(tQ,eQ){this.len=tQ,this.next=void 0,this.val=eQ}function writeVarint64(tQ,eQ,AQ){for(;tQ.hi;)eQ[AQ++]=127&tQ.lo|128,tQ.lo=(tQ.lo>>>7|tQ.hi<<25)>>>0,tQ.hi>>>=7;for(;tQ.lo>127;)eQ[AQ++]=127&tQ.lo|128,tQ.lo=tQ.lo>>>7;eQ[AQ++]=tQ.lo}function writeFixed32(tQ,eQ,AQ){eQ[AQ]=255&tQ,eQ[AQ+1]=tQ>>>8&255,eQ[AQ+2]=tQ>>>16&255,eQ[AQ+3]=tQ>>>24}Writer$1.create=create$1(),Writer$1.alloc=function(tQ){return new util$4.Array(tQ)},util$4.Array!==Array&&(Writer$1.alloc=util$4.pool(Writer$1.alloc,util$4.Array.prototype.subarray)),Writer$1.prototype._push=function(tQ,eQ,AQ){return this.tail=this.tail.next=new Op(tQ,eQ,AQ),this.len+=eQ,this},VarintOp.prototype=Object.create(Op.prototype),VarintOp.prototype.fn=writeVarint32,Writer$1.prototype.uint32=function(tQ){return this.len+=(this.tail=this.tail.next=new VarintOp((tQ>>>=0)<128?1:tQ<16384?2:tQ<2097152?3:tQ<268435456?4:5,tQ)).len,this},Writer$1.prototype.int32=function(tQ){return tQ<0?this._push(writeVarint64,10,LongBits$1.fromNumber(tQ)):this.uint32(tQ)},Writer$1.prototype.sint32=function(tQ){return this.uint32((tQ<<1^tQ>>31)>>>0)},Writer$1.prototype.uint64=function(tQ){var eQ=LongBits$1.from(tQ);return this._push(writeVarint64,eQ.length(),eQ)},Writer$1.prototype.int64=Writer$1.prototype.uint64,Writer$1.prototype.sint64=function(tQ){var eQ=LongBits$1.from(tQ).zzEncode();return this._push(writeVarint64,eQ.length(),eQ)},Writer$1.prototype.bool=function(tQ){return this._push(writeByte,1,tQ?1:0)},Writer$1.prototype.fixed32=function(tQ){return this._push(writeFixed32,4,tQ>>>0)},Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32,Writer$1.prototype.fixed64=function(tQ){var eQ=LongBits$1.from(tQ);return this._push(writeFixed32,4,eQ.lo)._push(writeFixed32,4,eQ.hi)},Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64,Writer$1.prototype.float=function(tQ){return this._push(util$4.float.writeFloatLE,4,tQ)},Writer$1.prototype.double=function(tQ){return this._push(util$4.float.writeDoubleLE,8,tQ)};var writeBytes=util$4.Array.prototype.set?function(tQ,eQ,AQ){eQ.set(tQ,AQ)}:function(tQ,eQ,AQ){for(var iQ=0;iQ<tQ.length;++iQ)eQ[AQ+iQ]=tQ[iQ]};Writer$1.prototype.bytes=function(tQ){var eQ=tQ.length>>>0;if(!eQ)return this._push(writeByte,1,0);if(util$4.isString(tQ)){var AQ=Writer$1.alloc(eQ=base64.length(tQ));base64.decode(tQ,AQ,0),tQ=AQ}return this.uint32(eQ)._push(writeBytes,eQ,tQ)},Writer$1.prototype.string=function(tQ){var eQ=utf8$1.length(tQ);return eQ?this.uint32(eQ)._push(utf8$1.write,eQ,tQ):this._push(writeByte,1,0)},Writer$1.prototype.fork=function(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this},Writer$1.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this},Writer$1.prototype.ldelim=function(){var tQ=this.head,eQ=this.tail,AQ=this.len;return this.reset().uint32(AQ),AQ&&(this.tail.next=tQ.next,this.tail=eQ,this.len+=AQ),this},Writer$1.prototype.finish=function(){for(var tQ=this.head.next,eQ=this.constructor.alloc(this.len),AQ=0;tQ;)tQ.fn(tQ.val,eQ,AQ),AQ+=tQ.len,tQ=tQ.next;return eQ},Writer$1._configure=function(tQ){BufferWriter$1=tQ,Writer$1.create=create$1(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$3=requireMinimal();function BufferWriter(){Writer.call(this)}function writeStringBuffer(tQ,eQ,AQ){tQ.length<40?util$3.utf8.write(tQ,eQ,AQ):eQ.utf8Write?eQ.utf8Write(tQ,AQ):eQ.write(tQ,AQ)}BufferWriter._configure=function(){BufferWriter.alloc=util$3._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$3.Buffer&&util$3.Buffer.prototype instanceof Uint8Array&&util$3.Buffer.prototype.set.name==="set"?function(tQ,eQ,AQ){eQ.set(tQ,AQ)}:function(tQ,eQ,AQ){if(tQ.copy)tQ.copy(eQ,AQ,0,tQ.length);else for(var iQ=0;iQ<tQ.length;)eQ[AQ++]=tQ[iQ++]}},BufferWriter.prototype.bytes=function(tQ){util$3.isString(tQ)&&(tQ=util$3._Buffer_from(tQ,"base64"));var eQ=tQ.length>>>0;return this.uint32(eQ),eQ&&this._push(BufferWriter.writeBytesBuffer,eQ,tQ),this},BufferWriter.prototype.string=function(tQ){var eQ=util$3.Buffer.byteLength(tQ);return this.uint32(eQ),eQ&&this._push(writeStringBuffer,eQ,tQ),this},BufferWriter._configure();var reader=Reader$1,util$2=requireMinimal(),BufferReader$1,LongBits=util$2.LongBits,utf8=util$2.utf8;function indexOutOfRange(tQ,eQ){return RangeError("index out of range: "+tQ.pos+" + "+(eQ||1)+" > "+tQ.len)}function Reader$1(tQ){this.buf=tQ,this.pos=0,this.len=tQ.length}var create_array=typeof Uint8Array<"u"?function(tQ){if(tQ instanceof Uint8Array||Array.isArray(tQ))return new Reader$1(tQ);throw Error("illegal buffer")}:function(tQ){if(Array.isArray(tQ))return new Reader$1(tQ);throw Error("illegal buffer")},create=function(){return util$2.Buffer?function(tQ){return(Reader$1.create=function(eQ){return util$2.Buffer.isBuffer(eQ)?new BufferReader$1(eQ):create_array(eQ)})(tQ)}:create_array},value;function readLongVarint(){var tQ=new LongBits(0,0),eQ=0;if(!(this.len-this.pos>4)){for(;eQ<3;++eQ){if(this.pos>=this.len)throw indexOutOfRange(this);if(tQ.lo=(tQ.lo|(127&this.buf[this.pos])<<7*eQ)>>>0,this.buf[this.pos++]<128)return tQ}return tQ.lo=(tQ.lo|(127&this.buf[this.pos++])<<7*eQ)>>>0,tQ}for(;eQ<4;++eQ)if(tQ.lo=(tQ.lo|(127&this.buf[this.pos])<<7*eQ)>>>0,this.buf[this.pos++]<128)return tQ;if(tQ.lo=(tQ.lo|(127&this.buf[this.pos])<<28)>>>0,tQ.hi=(tQ.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return tQ;if(eQ=0,this.len-this.pos>4){for(;eQ<5;++eQ)if(tQ.hi=(tQ.hi|(127&this.buf[this.pos])<<7*eQ+3)>>>0,this.buf[this.pos++]<128)return tQ}else for(;eQ<5;++eQ){if(this.pos>=this.len)throw indexOutOfRange(this);if(tQ.hi=(tQ.hi|(127&this.buf[this.pos])<<7*eQ+3)>>>0,this.buf[this.pos++]<128)return tQ}throw Error("invalid varint encoding")}function readFixed32_end(tQ,eQ){return(tQ[eQ-4]|tQ[eQ-3]<<8|tQ[eQ-2]<<16|tQ[eQ-1]<<24)>>>0}function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.create=create(),Reader$1.prototype._slice=util$2.Array.prototype.subarray||util$2.Array.prototype.slice,Reader$1.prototype.uint32=(value=4294967295,function(){if(value=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(value=(value|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(value=(value|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(value=(value|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(value=(value|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return value;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return value}),Reader$1.prototype.int32=function(){return 0|this.uint32()},Reader$1.prototype.sint32=function(){var tQ=this.uint32();return tQ>>>1^-(1&tQ)},Reader$1.prototype.bool=function(){return this.uint32()!==0},Reader$1.prototype.fixed32=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)},Reader$1.prototype.sfixed32=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return 0|readFixed32_end(this.buf,this.pos+=4)},Reader$1.prototype.float=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var tQ=util$2.float.readFloatLE(this.buf,this.pos);return this.pos+=4,tQ},Reader$1.prototype.double=function(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var tQ=util$2.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,tQ},Reader$1.prototype.bytes=function(){var tQ=this.uint32(),eQ=this.pos,AQ=this.pos+tQ;if(AQ>this.len)throw indexOutOfRange(this,tQ);if(this.pos+=tQ,Array.isArray(this.buf))return this.buf.slice(eQ,AQ);if(eQ===AQ){var iQ=util$2.Buffer;return iQ?iQ.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,eQ,AQ)},Reader$1.prototype.string=function(){var tQ=this.bytes();return utf8.read(tQ,0,tQ.length)},Reader$1.prototype.skip=function(tQ){if(typeof tQ=="number"){if(this.pos+tQ>this.len)throw indexOutOfRange(this,tQ);this.pos+=tQ}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(128&this.buf[this.pos++]);return this},Reader$1.prototype.skipType=function(tQ){switch(tQ){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(tQ=7&this.uint32())!=4;)this.skipType(tQ);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+tQ+" at offset "+this.pos)}return this},Reader$1._configure=function(tQ){BufferReader$1=tQ,Reader$1.create=create(),BufferReader$1._configure();var eQ=util$2.Long?"toLong":"toNumber";util$2.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[eQ](!1)},uint64:function(){return readLongVarint.call(this)[eQ](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[eQ](!1)},fixed64:function(){return readFixed64.call(this)[eQ](!0)},sfixed64:function(){return readFixed64.call(this)[eQ](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$1=requireMinimal();function BufferReader(tQ){Reader.call(this,tQ)}BufferReader._configure=function(){util$1.Buffer&&(BufferReader.prototype._slice=util$1.Buffer.prototype.slice)},BufferReader.prototype.string=function(){var tQ=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+tQ,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+tQ,this.len))},BufferReader._configure();var rpc={},service=Service,util=requireMinimal();function Service(tQ,eQ,AQ){if(typeof tQ!="function")throw TypeError("rpcImpl must be a function");util.EventEmitter.call(this),this.rpcImpl=tQ,this.requestDelimited=Boolean(eQ),this.responseDelimited=Boolean(AQ)}(Service.prototype=Object.create(util.EventEmitter.prototype)).constructor=Service,Service.prototype.rpcCall=function tQ(eQ,AQ,iQ,oQ,rQ){if(!oQ)throw TypeError("request must be specified");var nQ=this;if(!rQ)return util.asPromise(tQ,nQ,eQ,AQ,iQ,oQ);if(nQ.rpcImpl)try{return nQ.rpcImpl(eQ,AQ[nQ.requestDelimited?"encodeDelimited":"encode"](oQ).finish(),function(sQ,aQ){if(sQ)return nQ.emit("error",sQ,eQ),rQ(sQ);if(aQ!==null){if(!(aQ instanceof iQ))try{aQ=iQ[nQ.responseDelimited?"decodeDelimited":"decode"](aQ)}catch(cQ){return nQ.emit("error",cQ,eQ),rQ(cQ)}return nQ.emit("data",aQ,eQ),rQ(null,aQ)}nQ.end(!0)})}catch(sQ){return nQ.emit("error",sQ,eQ),void setTimeout(function(){rQ(sQ)},0)}else setTimeout(function(){rQ(Error("already ended"))},0)},Service.prototype.end=function(tQ){return this.rpcImpl&&(tQ||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},function(tQ){tQ.Service=service}(rpc);var roots={};(function(tQ){var eQ=tQ;function AQ(){eQ.util._configure(),eQ.Writer._configure(eQ.BufferWriter),eQ.Reader._configure(eQ.BufferReader)}eQ.build="minimal",eQ.Writer=writer,eQ.BufferWriter=writer_buffer,eQ.Reader=reader,eQ.BufferReader=reader_buffer,eQ.util=requireMinimal(),eQ.rpc=rpc,eQ.roots=roots,eQ.configure=AQ,AQ()})(indexMinimal);const Long=umdExports,minimal=indexMinimal;minimal.util.Long=Long,minimal.configure();var minimal_1=minimal;const $Reader$1=minimal_1.Reader,$Writer$2=minimal_1.Writer,$util$2=minimal_1.util,$root$2=minimal_1.roots.default||(minimal_1.roots.default={}),TopicMetadata=$root$2.TopicMetadata=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.topic="",tQ.prototype.metadata="",tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$2.create()),eQ.topic!=null&&Object.hasOwnProperty.call(eQ,"topic")&&AQ.uint32(10).string(eQ.topic),eQ.metadata!=null&&Object.hasOwnProperty.call(eQ,"metadata")&&AQ.uint32(18).string(eQ.metadata),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader$1||(eQ=$Reader$1.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$2.TopicMetadata;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.topic=eQ.string();break;case 2:oQ.metadata=eQ.string();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/TopicMetadata"},tQ})(),StreamMessageProtocol=$root$2.StreamMessageProtocol=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.messageType=0,tQ.prototype.payload=$util$2.newBuffer([]),tQ.prototype.payloadLength=0,tQ.prototype.sequence=$util$2.Long?$util$2.Long.fromBits(0,0,!1):0,tQ.prototype.sendTs=$util$2.Long?$util$2.Long.fromBits(0,0,!1):0,tQ.prototype.encrypted=!1,tQ.prototype.customType="",tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$2.create()),eQ.messageType!=null&&Object.hasOwnProperty.call(eQ,"messageType")&&AQ.uint32(8).int32(eQ.messageType),eQ.payload!=null&&Object.hasOwnProperty.call(eQ,"payload")&&AQ.uint32(18).bytes(eQ.payload),eQ.payloadLength!=null&&Object.hasOwnProperty.call(eQ,"payloadLength")&&AQ.uint32(24).int32(eQ.payloadLength),eQ.sequence!=null&&Object.hasOwnProperty.call(eQ,"sequence")&&AQ.uint32(32).int64(eQ.sequence),eQ.sendTs!=null&&Object.hasOwnProperty.call(eQ,"sendTs")&&AQ.uint32(40).int64(eQ.sendTs),eQ.encrypted!=null&&Object.hasOwnProperty.call(eQ,"encrypted")&&AQ.uint32(48).bool(eQ.encrypted),eQ.customType!=null&&Object.hasOwnProperty.call(eQ,"customType")&&AQ.uint32(58).string(eQ.customType),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader$1||(eQ=$Reader$1.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$2.StreamMessageProtocol;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.messageType=eQ.int32();break;case 2:oQ.payload=eQ.bytes();break;case 3:oQ.payloadLength=eQ.int32();break;case 4:oQ.sequence=eQ.int64();break;case 5:oQ.sendTs=eQ.int64();break;case 6:oQ.encrypted=eQ.bool();break;case 7:oQ.customType=eQ.string();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/StreamMessageProtocol"},tQ})();let RTMStreamChannelStatusCode;(function(tQ){let eQ=function(AQ){return AQ[AQ.NO_ERROR=0]="NO_ERROR",AQ[AQ.PARTIALLY_SUCCESSFUL=1]="PARTIALLY_SUCCESSFUL",AQ[AQ.ALL_FAILED=2]="ALL_FAILED",AQ[AQ.UNKNOWN_ERROR=3]="UNKNOWN_ERROR",AQ[AQ.INVALID_PARAMS=4]="INVALID_PARAMS",AQ[AQ.REMOTE_USER_IS_NOT_PUBLISHED=5]="REMOTE_USER_IS_NOT_PUBLISHED",AQ[AQ.INVALID_REMOTE_USER=6]="INVALID_REMOTE_USER",AQ[AQ.TIMEOUT=7]="TIMEOUT",AQ[AQ.ALREADY_SUBSCRIBED_USER=20001]="ALREADY_SUBSCRIBED_USER",AQ[AQ.SUB_USER_EXCEED_LIMITATION=20003]="SUB_USER_EXCEED_LIMITATION",AQ[AQ.NOT_SUBSCRIBED_USER=20004]="NOT_SUBSCRIBED_USER",AQ}({});tQ.SubscribeTopicErrorCode=eQ})(RTMStreamChannelStatusCode||(RTMStreamChannelStatusCode={}));var lib_es5={},require$$0=getAugmentedNamespace(_esm5);function bufferTime(tQ){var eQ=arguments.length,AQ=async;isScheduler(arguments[arguments.length-1])&&(AQ=arguments[arguments.length-1],eQ--);var iQ=null;eQ>=2&&(iQ=arguments[1]);var oQ=Number.POSITIVE_INFINITY;return eQ>=3&&(oQ=arguments[2]),function(rQ){return rQ.lift(new BufferTimeOperator(tQ,iQ,oQ,AQ))}}(function(tQ){Object.defineProperty(tQ,"__esModule",{value:!0});var eQ=require$$0,AQ=[],iQ=function(oQ,rQ){return new WebSocket(oQ,rQ)};tQ.normalClosureMessage="Normal closure",tQ.default=function(oQ,rQ){var nQ=rQ===void 0?{protocols:AQ,makeWebSocket:iQ}:rQ,sQ=nQ.protocols,aQ=sQ===void 0?AQ:sQ,cQ=nQ.makeWebSocket,gQ=cQ===void 0?iQ:cQ;return new eQ.Observable(function(IQ){var EQ,CQ=new eQ.Subject,dQ=gQ(oQ,aQ),lQ=!1,uQ=!1,hQ=function(){lQ=!0},BQ=function(QQ){if(EQ){hQ();var fQ=new Error("Web socket message factory function called more than once");throw IQ.error(fQ),fQ}return EQ=QQ.subscribe(function(_Q){dQ.send(_Q)}),CQ};return dQ.onopen=function(){uQ?(lQ=!0,dQ.close()):IQ.next(BQ)},dQ.onmessage=function(QQ){CQ.next(QQ.data)},dQ.onerror=function(QQ){hQ(),IQ.error(new Error(QQ.message))},dQ.onclose=function(QQ){lQ||(hQ(),uQ?(IQ.complete(),CQ.complete()):IQ.error(new Error(QQ.code===1e3?tQ.normalClosureMessage:QQ.reason)))},function(){uQ=!0,EQ&&EQ.unsubscribe(),lQ||(hQ(),dQ.close())}})}})(lib_es5);var BufferTimeOperator=function(){function tQ(eQ,AQ,iQ,oQ){this.bufferTimeSpan=eQ,this.bufferCreationInterval=AQ,this.maxBufferSize=iQ,this.scheduler=oQ}return tQ.prototype.call=function(eQ,AQ){return AQ.subscribe(new BufferTimeSubscriber(eQ,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},tQ}(),Context$1=function(){return function(){this.buffer=[]}}(),BufferTimeSubscriber=function(tQ){function eQ(AQ,iQ,oQ,rQ,nQ){var sQ=tQ.call(this,AQ)||this;sQ.bufferTimeSpan=iQ,sQ.bufferCreationInterval=oQ,sQ.maxBufferSize=rQ,sQ.scheduler=nQ,sQ.contexts=[];var aQ=sQ.openContext();if(sQ.timespanOnly=oQ==null||oQ<0,sQ.timespanOnly){var cQ={subscriber:sQ,context:aQ,bufferTimeSpan:iQ};sQ.add(aQ.closeAction=nQ.schedule(dispatchBufferTimeSpanOnly,iQ,cQ))}else{var gQ={subscriber:sQ,context:aQ},IQ={bufferTimeSpan:iQ,bufferCreationInterval:oQ,subscriber:sQ,scheduler:nQ};sQ.add(aQ.closeAction=nQ.schedule(dispatchBufferClose,iQ,gQ)),sQ.add(nQ.schedule(dispatchBufferCreation,oQ,IQ))}return sQ}return __extends$3(eQ,tQ),eQ.prototype._next=function(AQ){for(var iQ,oQ=this.contexts,rQ=oQ.length,nQ=0;nQ<rQ;nQ++){var sQ=oQ[nQ],aQ=sQ.buffer;aQ.push(AQ),aQ.length==this.maxBufferSize&&(iQ=sQ)}iQ&&this.onBufferFull(iQ)},eQ.prototype._error=function(AQ){this.contexts.length=0,tQ.prototype._error.call(this,AQ)},eQ.prototype._complete=function(){for(var AQ=this.contexts,iQ=this.destination;AQ.length>0;){var oQ=AQ.shift();iQ.next(oQ.buffer)}tQ.prototype._complete.call(this)},eQ.prototype._unsubscribe=function(){this.contexts=null},eQ.prototype.onBufferFull=function(AQ){this.closeContext(AQ);var iQ=AQ.closeAction;if(iQ.unsubscribe(),this.remove(iQ),!this.closed&&this.timespanOnly){AQ=this.openContext();var oQ=this.bufferTimeSpan,rQ={subscriber:this,context:AQ,bufferTimeSpan:oQ};this.add(AQ.closeAction=this.scheduler.schedule(dispatchBufferTimeSpanOnly,oQ,rQ))}},eQ.prototype.openContext=function(){var AQ=new Context$1;return this.contexts.push(AQ),AQ},eQ.prototype.closeContext=function(AQ){this.destination.next(AQ.buffer);var iQ=this.contexts;(iQ?iQ.indexOf(AQ):-1)>=0&&iQ.splice(iQ.indexOf(AQ),1)},eQ}(Subscriber);function dispatchBufferTimeSpanOnly(tQ){var eQ=tQ.subscriber,AQ=tQ.context;AQ&&eQ.closeContext(AQ),eQ.closed||(tQ.context=eQ.openContext(),tQ.context.closeAction=this.schedule(tQ,tQ.bufferTimeSpan))}function dispatchBufferCreation(tQ){var eQ=tQ.bufferCreationInterval,AQ=tQ.bufferTimeSpan,iQ=tQ.subscriber,oQ=tQ.scheduler,rQ=iQ.openContext();iQ.closed||(iQ.add(rQ.closeAction=oQ.schedule(dispatchBufferClose,AQ,{subscriber:iQ,context:rQ})),this.schedule(tQ,eQ))}function dispatchBufferClose(tQ){var eQ=tQ.subscriber,AQ=tQ.context;eQ.closeContext(AQ)}function catchError(tQ){return function(eQ){var AQ=new CatchOperator(tQ),iQ=eQ.lift(AQ);return AQ.caught=iQ}}var CatchOperator=function(){function tQ(eQ){this.selector=eQ}return tQ.prototype.call=function(eQ,AQ){return AQ.subscribe(new CatchSubscriber(eQ,this.selector,this.caught))},tQ}(),CatchSubscriber=function(tQ){function eQ(AQ,iQ,oQ){var rQ=tQ.call(this,AQ)||this;return rQ.selector=iQ,rQ.caught=oQ,rQ}return __extends$3(eQ,tQ),eQ.prototype.error=function(AQ){if(!this.isStopped){var iQ=void 0;try{iQ=this.selector(AQ,this.caught)}catch(nQ){return void tQ.prototype.error.call(this,nQ)}this._unsubscribeAndRecycle();var oQ=new SimpleInnerSubscriber(this);this.add(oQ);var rQ=innerSubscribe(iQ,oQ);rQ!==oQ&&this.add(rQ)}},eQ}(SimpleOuterSubscriber);function concatMap(tQ,eQ){return mergeMap(tQ,eQ,1)}function defaultIfEmpty(tQ){return tQ===void 0&&(tQ=null),function(eQ){return eQ.lift(new DefaultIfEmptyOperator(tQ))}}var DefaultIfEmptyOperator=function(){function tQ(eQ){this.defaultValue=eQ}return tQ.prototype.call=function(eQ,AQ){return AQ.subscribe(new DefaultIfEmptySubscriber(eQ,this.defaultValue))},tQ}(),DefaultIfEmptySubscriber=function(tQ){function eQ(AQ,iQ){var oQ=tQ.call(this,AQ)||this;return oQ.defaultValue=iQ,oQ.isEmpty=!0,oQ}return __extends$3(eQ,tQ),eQ.prototype._next=function(AQ){this.isEmpty=!1,this.destination.next(AQ)},eQ.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},eQ}(Subscriber);function isDate(tQ){return tQ instanceof Date&&!isNaN(+tQ)}function delay(tQ,eQ){eQ===void 0&&(eQ=async);var AQ=isDate(tQ)?+tQ-eQ.now():Math.abs(tQ);return function(iQ){return iQ.lift(new DelayOperator(AQ,eQ))}}var DelayOperator=function(){function tQ(eQ,AQ){this.delay=eQ,this.scheduler=AQ}return tQ.prototype.call=function(eQ,AQ){return AQ.subscribe(new DelaySubscriber(eQ,this.delay,this.scheduler))},tQ}(),DelaySubscriber=function(tQ){function eQ(AQ,iQ,oQ){var rQ=tQ.call(this,AQ)||this;return rQ.delay=iQ,rQ.scheduler=oQ,rQ.queue=[],rQ.active=!1,rQ.errored=!1,rQ}return __extends$3(eQ,tQ),eQ.dispatch=function(AQ){for(var iQ=AQ.source,oQ=iQ.queue,rQ=AQ.scheduler,nQ=AQ.destination;oQ.length>0&&oQ[0].time-rQ.now()<=0;)oQ.shift().notification.observe(nQ);if(oQ.length>0){var sQ=Math.max(0,oQ[0].time-rQ.now());this.schedule(AQ,sQ)}else this.unsubscribe(),iQ.active=!1},eQ.prototype._schedule=function(AQ){this.active=!0,this.destination.add(AQ.schedule(eQ.dispatch,this.delay,{source:this,destination:this.destination,scheduler:AQ}))},eQ.prototype.scheduleNotification=function(AQ){if(this.errored!==!0){var iQ=this.scheduler,oQ=new DelayMessage(iQ.now()+this.delay,AQ);this.queue.push(oQ),this.active===!1&&this._schedule(iQ)}},eQ.prototype._next=function(AQ){this.scheduleNotification(Notification.createNext(AQ))},eQ.prototype._error=function(AQ){this.errored=!0,this.queue=[],this.destination.error(AQ),this.unsubscribe()},eQ.prototype._complete=function(){this.scheduleNotification(Notification.createComplete()),this.unsubscribe()},eQ}(Subscriber),DelayMessage=function(){return function(tQ,eQ){this.time=tQ,this.notification=eQ}}();function distinct(tQ,eQ){return function(AQ){return AQ.lift(new DistinctOperator(tQ,eQ))}}var DistinctOperator=function(){function tQ(eQ,AQ){this.keySelector=eQ,this.flushes=AQ}return tQ.prototype.call=function(eQ,AQ){return AQ.subscribe(new DistinctSubscriber(eQ,this.keySelector,this.flushes))},tQ}(),DistinctSubscriber=function(tQ){function eQ(AQ,iQ,oQ){var rQ=tQ.call(this,AQ)||this;return rQ.keySelector=iQ,rQ.values=new Set,oQ&&rQ.add(innerSubscribe(oQ,new SimpleInnerSubscriber(rQ))),rQ}return __extends$3(eQ,tQ),eQ.prototype.notifyNext=function(){this.values.clear()},eQ.prototype.notifyError=function(AQ){this._error(AQ)},eQ.prototype._next=function(AQ){this.keySelector?this._useKeySelector(AQ):this._finalizeNext(AQ,AQ)},eQ.prototype._useKeySelector=function(AQ){var iQ,oQ=this.destination;try{iQ=this.keySelector(AQ)}catch(rQ){return void oQ.error(rQ)}this._finalizeNext(iQ,AQ)},eQ.prototype._finalizeNext=function(AQ,iQ){var oQ=this.values;oQ.has(AQ)||(oQ.add(AQ),this.destination.next(iQ))},eQ}(SimpleOuterSubscriber);function throwIfEmpty(tQ){return tQ===void 0&&(tQ=defaultErrorFactory),function(eQ){return eQ.lift(new ThrowIfEmptyOperator(tQ))}}var ThrowIfEmptyOperator=function(){function tQ(eQ){this.errorFactory=eQ}return tQ.prototype.call=function(eQ,AQ){return AQ.subscribe(new ThrowIfEmptySubscriber(eQ,this.errorFactory))},tQ}(),ThrowIfEmptySubscriber=function(tQ){function eQ(AQ,iQ){var oQ=tQ.call(this,AQ)||this;return oQ.errorFactory=iQ,oQ.hasValue=!1,oQ}return __extends$3(eQ,tQ),eQ.prototype._next=function(AQ){this.hasValue=!0,this.destination.next(AQ)},eQ.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var AQ=void 0;try{AQ=this.errorFactory()}catch(iQ){AQ=iQ}this.destination.error(AQ)},eQ}(Subscriber);function defaultErrorFactory(){return new EmptyError}function take(tQ){return function(eQ){return tQ===0?empty():eQ.lift(new TakeOperator(tQ))}}var TakeOperator=function(){function tQ(eQ){if(this.total=eQ,this.total<0)throw new ArgumentOutOfRangeError}return tQ.prototype.call=function(eQ,AQ){return AQ.subscribe(new TakeSubscriber(eQ,this.total))},tQ}(),TakeSubscriber=function(tQ){function eQ(AQ,iQ){var oQ=tQ.call(this,AQ)||this;return oQ.total=iQ,oQ.count=0,oQ}return __extends$3(eQ,tQ),eQ.prototype._next=function(AQ){var iQ=this.total,oQ=++this.count;oQ<=iQ&&(this.destination.next(AQ),oQ===iQ&&(this.destination.complete(),this.unsubscribe()))},eQ}(Subscriber);function finalize(tQ){return function(eQ){return eQ.lift(new FinallyOperator(tQ))}}var FinallyOperator=function(){function tQ(eQ){this.callback=eQ}return tQ.prototype.call=function(eQ,AQ){return AQ.subscribe(new FinallySubscriber(eQ,this.callback))},tQ}(),FinallySubscriber=function(tQ){function eQ(AQ,iQ){var oQ=tQ.call(this,AQ)||this;return oQ.add(new Subscription$2(iQ)),oQ}return __extends$3(eQ,tQ),eQ}(Subscriber);function first(tQ,eQ){var AQ=arguments.length>=2;return function(iQ){return iQ.pipe(tQ?filter(function(oQ,rQ){return tQ(oQ,rQ,iQ)}):identity$5,take(1),AQ?defaultIfEmpty(eQ):throwIfEmpty(function(){return new EmptyError}))}}function ignoreElements(){return function(tQ){return tQ.lift(new IgnoreElementsOperator)}}var IgnoreElementsOperator=function(){function tQ(){}return tQ.prototype.call=function(eQ,AQ){return AQ.subscribe(new IgnoreElementsSubscriber(eQ))},tQ}(),IgnoreElementsSubscriber=function(tQ){function eQ(){return tQ!==null&&tQ.apply(this,arguments)||this}return __extends$3(eQ,tQ),eQ.prototype._next=function(AQ){},eQ}(Subscriber);function takeLast(tQ){return function(eQ){return eQ.lift(new TakeLastOperator(tQ))}}var TakeLastOperator=function(){function tQ(eQ){if(this.total=eQ,this.total<0)throw new ArgumentOutOfRangeError}return tQ.prototype.call=function(eQ,AQ){return AQ.subscribe(new TakeLastSubscriber(eQ,this.total))},tQ}(),TakeLastSubscriber=function(tQ){function eQ(AQ,iQ){var oQ=tQ.call(this,AQ)||this;return oQ.total=iQ,oQ.ring=new Array,oQ.count=0,oQ}return __extends$3(eQ,tQ),eQ.prototype._next=function(AQ){var iQ=this.ring,oQ=this.total,rQ=this.count++;iQ.length<oQ?iQ.push(AQ):iQ[rQ%oQ]=AQ},eQ.prototype._complete=function(){var AQ=this.destination,iQ=this.count;if(iQ>0)for(var oQ=this.count>=this.total?this.total:this.count,rQ=this.ring,nQ=0;nQ<oQ;nQ++){var sQ=iQ++%oQ;AQ.next(rQ[sQ])}AQ.complete()},eQ}(Subscriber);function mapTo(tQ){return function(eQ){return eQ.lift(new MapToOperator(tQ))}}var MapToOperator=function(){function tQ(eQ){this.value=eQ}return tQ.prototype.call=function(eQ,AQ){return AQ.subscribe(new MapToSubscriber(eQ,this.value))},tQ}(),MapToSubscriber=function(tQ){function eQ(AQ,iQ){var oQ=tQ.call(this,AQ)||this;return oQ.value=iQ,oQ}return __extends$3(eQ,tQ),eQ.prototype._next=function(AQ){this.destination.next(this.value)},eQ}(Subscriber);function scan(tQ,eQ){var AQ=!1;return arguments.length>=2&&(AQ=!0),function(iQ){return iQ.lift(new ScanOperator(tQ,eQ,AQ))}}var ScanOperator=function(){function tQ(eQ,AQ,iQ){iQ===void 0&&(iQ=!1),this.accumulator=eQ,this.seed=AQ,this.hasSeed=iQ}return tQ.prototype.call=function(eQ,AQ){return AQ.subscribe(new ScanSubscriber(eQ,this.accumulator,this.seed,this.hasSeed))},tQ}(),ScanSubscriber=function(tQ){function eQ(AQ,iQ,oQ,rQ){var nQ=tQ.call(this,AQ)||this;return nQ.accumulator=iQ,nQ._seed=oQ,nQ.hasSeed=rQ,nQ.index=0,nQ}return __extends$3(eQ,tQ),Object.defineProperty(eQ.prototype,"seed",{get:function(){return this._seed},set:function(AQ){this.hasSeed=!0,this._seed=AQ},enumerable:!0,configurable:!0}),eQ.prototype._next=function(AQ){if(this.hasSeed)return this._tryNext(AQ);this.seed=AQ,this.destination.next(AQ)},eQ.prototype._tryNext=function(AQ){var iQ,oQ=this.index++;try{iQ=this.accumulator(this.seed,AQ,oQ)}catch(rQ){this.destination.error(rQ)}this.seed=iQ,this.destination.next(iQ)},eQ}(Subscriber);function reduce(tQ,eQ){return arguments.length>=2?function(AQ){return pipe(scan(tQ,eQ),takeLast(1),defaultIfEmpty(eQ))(AQ)}:function(AQ){return pipe(scan(function(iQ,oQ,rQ){return tQ(iQ,oQ,rQ+1)}),takeLast(1))(AQ)}}function multicast(tQ,eQ){return function(AQ){var iQ;iQ=typeof tQ=="function"?tQ:function(){return tQ};var oQ=Object.create(AQ,connectableObservableDescriptor);return oQ.source=AQ,oQ.subjectFactory=iQ,oQ}}function retryWhen(tQ){return function(eQ){return eQ.lift(new RetryWhenOperator(tQ,eQ))}}var RetryWhenOperator=function(){function tQ(eQ,AQ){this.notifier=eQ,this.source=AQ}return tQ.prototype.call=function(eQ,AQ){return AQ.subscribe(new RetryWhenSubscriber(eQ,this.notifier,this.source))},tQ}(),RetryWhenSubscriber=function(tQ){function eQ(AQ,iQ,oQ){var rQ=tQ.call(this,AQ)||this;return rQ.notifier=iQ,rQ.source=oQ,rQ}return __extends$3(eQ,tQ),eQ.prototype.error=function(AQ){if(!this.isStopped){var iQ=this.errors,oQ=this.retries,rQ=this.retriesSubscription;if(oQ)this.errors=void 0,this.retriesSubscription=void 0;else{iQ=new Subject;try{oQ=(0,this.notifier)(iQ)}catch(nQ){return tQ.prototype.error.call(this,nQ)}rQ=innerSubscribe(oQ,new SimpleInnerSubscriber(this))}this._unsubscribeAndRecycle(),this.errors=iQ,this.retries=oQ,this.retriesSubscription=rQ,iQ.next(AQ)}},eQ.prototype._unsubscribe=function(){var AQ=this.errors,iQ=this.retriesSubscription;AQ&&(AQ.unsubscribe(),this.errors=void 0),iQ&&(iQ.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},eQ.prototype.notifyNext=function(){var AQ=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=AQ,this.source.subscribe(this)},eQ}(SimpleOuterSubscriber);function shareSubjectFactory(){return new Subject}function share(){return function(tQ){return refCount()(multicast(shareSubjectFactory)(tQ))}}function shareReplay(tQ,eQ,AQ){var iQ;return iQ=tQ&&typeof tQ=="object"?tQ:{bufferSize:tQ,windowTime:eQ,refCount:!1,scheduler:AQ},function(oQ){return oQ.lift(shareReplayOperator(iQ))}}function shareReplayOperator(tQ){var eQ,AQ,iQ=tQ.bufferSize,oQ=iQ===void 0?Number.POSITIVE_INFINITY:iQ,rQ=tQ.windowTime,nQ=rQ===void 0?Number.POSITIVE_INFINITY:rQ,sQ=tQ.refCount,aQ=tQ.scheduler,cQ=0,gQ=!1,IQ=!1;return function(EQ){var CQ;cQ++,!eQ||gQ?(gQ=!1,eQ=new ReplaySubject(oQ,nQ,aQ),CQ=eQ.subscribe(this),AQ=EQ.subscribe({next:function(dQ){eQ.next(dQ)},error:function(dQ){gQ=!0,eQ.error(dQ)},complete:function(){IQ=!0,AQ=void 0,eQ.complete()}}),IQ&&(AQ=void 0)):CQ=eQ.subscribe(this),this.add(function(){cQ--,CQ.unsubscribe(),CQ=void 0,AQ&&!IQ&&sQ&&cQ===0&&(AQ.unsubscribe(),AQ=void 0,eQ=void 0)})}}function switchMap(tQ,eQ){return function(AQ){return AQ.lift(new SwitchMapOperator(tQ))}}var SwitchMapOperator=function(){function tQ(eQ){this.project=eQ}return tQ.prototype.call=function(eQ,AQ){return AQ.subscribe(new SwitchMapSubscriber(eQ,this.project))},tQ}(),SwitchMapSubscriber=function(tQ){function eQ(AQ,iQ){var oQ=tQ.call(this,AQ)||this;return oQ.project=iQ,oQ.index=0,oQ}return __extends$3(eQ,tQ),eQ.prototype._next=function(AQ){var iQ,oQ=this.index++;try{iQ=this.project(AQ,oQ)}catch(rQ){return void this.destination.error(rQ)}this._innerSub(iQ)},eQ.prototype._innerSub=function(AQ){var iQ=this.innerSubscription;iQ&&iQ.unsubscribe();var oQ=new SimpleInnerSubscriber(this),rQ=this.destination;rQ.add(oQ),this.innerSubscription=innerSubscribe(AQ,oQ),this.innerSubscription!==oQ&&rQ.add(this.innerSubscription)},eQ.prototype._complete=function(){var AQ=this.innerSubscription;AQ&&!AQ.closed||tQ.prototype._complete.call(this),this.unsubscribe()},eQ.prototype._unsubscribe=function(){this.innerSubscription=void 0},eQ.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&tQ.prototype._complete.call(this)},eQ.prototype.notifyNext=function(AQ){this.destination.next(AQ)},eQ}(SimpleOuterSubscriber);function switchAll(){return switchMap(identity$5)}function takeUntil(tQ){return function(eQ){return eQ.lift(new TakeUntilOperator(tQ))}}var TakeUntilOperator=function(){function tQ(eQ){this.notifier=eQ}return tQ.prototype.call=function(eQ,AQ){var iQ=new TakeUntilSubscriber(eQ),oQ=innerSubscribe(this.notifier,new SimpleInnerSubscriber(iQ));return oQ&&!iQ.seenValue?(iQ.add(oQ),AQ.subscribe(iQ)):iQ},tQ}(),TakeUntilSubscriber=function(tQ){function eQ(AQ){var iQ=tQ.call(this,AQ)||this;return iQ.seenValue=!1,iQ}return __extends$3(eQ,tQ),eQ.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},eQ.prototype.notifyComplete=function(){},eQ}(SimpleOuterSubscriber);function tap(tQ,eQ,AQ){return function(iQ){return iQ.lift(new DoOperator(tQ,eQ,AQ))}}var DoOperator=function(){function tQ(eQ,AQ,iQ){this.nextOrObserver=eQ,this.error=AQ,this.complete=iQ}return tQ.prototype.call=function(eQ,AQ){return AQ.subscribe(new TapSubscriber(eQ,this.nextOrObserver,this.error,this.complete))},tQ}(),TapSubscriber=function(tQ){function eQ(AQ,iQ,oQ,rQ){var nQ=tQ.call(this,AQ)||this;return nQ._tapNext=noop$3,nQ._tapError=noop$3,nQ._tapComplete=noop$3,nQ._tapError=oQ||noop$3,nQ._tapComplete=rQ||noop$3,isFunction$7(iQ)?(nQ._context=nQ,nQ._tapNext=iQ):iQ&&(nQ._context=iQ,nQ._tapNext=iQ.next||noop$3,nQ._tapError=iQ.error||noop$3,nQ._tapComplete=iQ.complete||noop$3),nQ}return __extends$3(eQ,tQ),eQ.prototype._next=function(AQ){try{this._tapNext.call(this._context,AQ)}catch(iQ){return void this.destination.error(iQ)}this.destination.next(AQ)},eQ.prototype._error=function(AQ){try{this._tapError.call(this._context,AQ)}catch(iQ){return void this.destination.error(iQ)}this.destination.error(AQ)},eQ.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(AQ){return void this.destination.error(AQ)}return this.destination.complete()},eQ}(Subscriber),defaultThrottleConfig={leading:!0,trailing:!1};function throttleTime(tQ,eQ,AQ){return eQ===void 0&&(eQ=async),AQ===void 0&&(AQ=defaultThrottleConfig),function(iQ){return iQ.lift(new ThrottleTimeOperator(tQ,eQ,AQ.leading,AQ.trailing))}}var ThrottleTimeOperator=function(){function tQ(eQ,AQ,iQ,oQ){this.duration=eQ,this.scheduler=AQ,this.leading=iQ,this.trailing=oQ}return tQ.prototype.call=function(eQ,AQ){return AQ.subscribe(new ThrottleTimeSubscriber(eQ,this.duration,this.scheduler,this.leading,this.trailing))},tQ}(),ThrottleTimeSubscriber=function(tQ){function eQ(AQ,iQ,oQ,rQ,nQ){var sQ=tQ.call(this,AQ)||this;return sQ.duration=iQ,sQ.scheduler=oQ,sQ.leading=rQ,sQ.trailing=nQ,sQ._hasTrailingValue=!1,sQ._trailingValue=null,sQ}return __extends$3(eQ,tQ),eQ.prototype._next=function(AQ){this.throttled?this.trailing&&(this._trailingValue=AQ,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(dispatchNext,this.duration,{subscriber:this})),this.leading?this.destination.next(AQ):this.trailing&&(this._trailingValue=AQ,this._hasTrailingValue=!0))},eQ.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},eQ.prototype.clearThrottle=function(){var AQ=this.throttled;AQ&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),AQ.unsubscribe(),this.remove(AQ),this.throttled=null)},eQ}(Subscriber);function dispatchNext(tQ){tQ.subscriber.clearThrottle()}function timeoutWith(tQ,eQ,AQ){return AQ===void 0&&(AQ=async),function(iQ){var oQ=isDate(tQ),rQ=oQ?+tQ-AQ.now():Math.abs(tQ);return iQ.lift(new TimeoutWithOperator(rQ,oQ,eQ,AQ))}}var TimeoutWithOperator=function(){function tQ(eQ,AQ,iQ,oQ){this.waitFor=eQ,this.absoluteTimeout=AQ,this.withObservable=iQ,this.scheduler=oQ}return tQ.prototype.call=function(eQ,AQ){return AQ.subscribe(new TimeoutWithSubscriber(eQ,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},tQ}(),TimeoutWithSubscriber=function(tQ){function eQ(AQ,iQ,oQ,rQ,nQ){var sQ=tQ.call(this,AQ)||this;return sQ.absoluteTimeout=iQ,sQ.waitFor=oQ,sQ.withObservable=rQ,sQ.scheduler=nQ,sQ.scheduleTimeout(),sQ}return __extends$3(eQ,tQ),eQ.dispatchTimeout=function(AQ){var iQ=AQ.withObservable;AQ._unsubscribeAndRecycle(),AQ.add(innerSubscribe(iQ,new SimpleInnerSubscriber(AQ)))},eQ.prototype.scheduleTimeout=function(){var AQ=this.action;AQ?this.action=AQ.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(eQ.dispatchTimeout,this.waitFor,this))},eQ.prototype._next=function(AQ){this.absoluteTimeout||this.scheduleTimeout(),tQ.prototype._next.call(this,AQ)},eQ.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},eQ}(SimpleOuterSubscriber);function timeout(tQ,eQ){return eQ===void 0&&(eQ=async),timeoutWith(tQ,throwError(new TimeoutError),eQ)}var defaultProtocols=[],defaultWebsocketFactory=function(tQ,eQ){return new WebSocket(tQ,eQ)},normalClosureMessage="Normal closure";function makeWebSocketObservable(tQ,eQ){var AQ=eQ===void 0?{protocols:defaultProtocols,makeWebSocket:defaultWebsocketFactory}:eQ,iQ=AQ.protocols,oQ=iQ===void 0?defaultProtocols:iQ,rQ=AQ.makeWebSocket,nQ=rQ===void 0?defaultWebsocketFactory:rQ;return new Observable(function(sQ){var aQ,cQ=new Subject,gQ=nQ(tQ,oQ),IQ=!1,EQ=!1,CQ=!1,dQ=function(){IQ=!0},lQ=function(uQ){if(aQ){dQ();var hQ=new Error("Web socket message factory function called more than once");throw sQ.error(hQ),hQ}return aQ=uQ.subscribe(function(BQ){gQ.send(BQ)}),cQ};return gQ.onopen=function(){CQ=!0,EQ?(IQ=!0,gQ.close()):sQ.next(lQ)},gQ.onmessage=function(uQ){cQ.next(uQ.data)},gQ.onerror=function(uQ){dQ(),sQ.error(new Error(uQ.message))},gQ.onclose=function(uQ){IQ||(dQ(),EQ?(sQ.complete(),cQ.complete()):sQ.error(new Error(uQ.code===1e3?normalClosureMessage:uQ.reason)))},function(){EQ=!0,aQ&&aQ.unsubscribe(),IQ||(dQ(),CQ&&gQ.close())}})}const $Reader=minimal_1.Reader,$Writer$1=minimal_1.Writer,$util$1=minimal_1.util,$root$1=minimal_1.roots.default||(minimal_1.roots.default={}),Wrapper$1=$root$1.Wrapper=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.uri=0,tQ.prototype.data=$util$1.newBuffer([]),tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.uri!=null&&Object.hasOwnProperty.call(eQ,"uri")&&AQ.uint32(8).int32(eQ.uri),eQ.data!=null&&Object.hasOwnProperty.call(eQ,"data")&&AQ.uint32(18).bytes(eQ.data),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.Wrapper;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.uri=eQ.int32();break;case 2:oQ.data=eQ.bytes();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/Wrapper"},tQ})(),Ping=$root$1.Ping=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.ms=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),eQ.ms!=null&&Object.hasOwnProperty.call(eQ,"ms")&&AQ.uint32(16).uint64(eQ.ms),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.Ping;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.seq=eQ.uint64();break;case 2:oQ.ms=eQ.uint64();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/Ping"},tQ})(),Ping2=$root$1.Ping2=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.ms=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),eQ.ms!=null&&Object.hasOwnProperty.call(eQ,"ms")&&AQ.uint32(16).uint64(eQ.ms),eQ.flags!=null&&Object.hasOwnProperty.call(eQ,"flags")&&AQ.uint32(24).uint64(eQ.flags),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.Ping2;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.seq=eQ.uint64();break;case 2:oQ.ms=eQ.uint64();break;case 3:oQ.flags=eQ.uint64();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/Ping2"},tQ})(),Pong=$root$1.Pong=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.ms=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),eQ.ms!=null&&Object.hasOwnProperty.call(eQ,"ms")&&AQ.uint32(16).uint64(eQ.ms),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.Pong;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.seq=eQ.uint64();break;case 2:oQ.ms=eQ.uint64();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/Pong"},tQ})(),Ping3=$root$1.Ping3=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.ms=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),eQ.ms!=null&&Object.hasOwnProperty.call(eQ,"ms")&&AQ.uint32(16).uint64(eQ.ms),eQ.flags!=null&&Object.hasOwnProperty.call(eQ,"flags")&&AQ.uint32(24).uint64(eQ.flags),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.Ping3;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.seq=eQ.uint64();break;case 2:oQ.ms=eQ.uint64();break;case 3:oQ.flags=eQ.uint64();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/Ping3"},tQ})(),Pong3=$root$1.Pong3=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.ms=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.serverMs=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),eQ.ms!=null&&Object.hasOwnProperty.call(eQ,"ms")&&AQ.uint32(16).uint64(eQ.ms),eQ.serverMs!=null&&Object.hasOwnProperty.call(eQ,"serverMs")&&AQ.uint32(24).uint64(eQ.serverMs),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.Pong3;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.seq=eQ.uint64();break;case 2:oQ.ms=eQ.uint64();break;case 3:oQ.serverMs=eQ.uint64();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/Pong3"},tQ})(),UserJoin=$root$1.UserJoin=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.opt=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.instance=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.account="",tQ.prototype.ticket="",tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),eQ.opt!=null&&Object.hasOwnProperty.call(eQ,"opt")&&AQ.uint32(16).uint64(eQ.opt),eQ.instance!=null&&Object.hasOwnProperty.call(eQ,"instance")&&AQ.uint32(24).uint64(eQ.instance),eQ.account!=null&&Object.hasOwnProperty.call(eQ,"account")&&AQ.uint32(34).string(eQ.account),eQ.ticket!=null&&Object.hasOwnProperty.call(eQ,"ticket")&&AQ.uint32(42).string(eQ.ticket),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.UserJoin;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.seq=eQ.uint64();break;case 2:oQ.opt=eQ.uint64();break;case 3:oQ.instance=eQ.uint64();break;case 4:oQ.account=eQ.string();break;case 5:oQ.ticket=eQ.string();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/UserJoin"},tQ})(),UserResp=$root$1.UserResp=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.account="",tQ.prototype.code=0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),eQ.account!=null&&Object.hasOwnProperty.call(eQ,"account")&&AQ.uint32(18).string(eQ.account),eQ.code!=null&&Object.hasOwnProperty.call(eQ,"code")&&AQ.uint32(24).uint32(eQ.code),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.UserResp;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.seq=eQ.uint64();break;case 2:oQ.account=eQ.string();break;case 3:oQ.code=eQ.uint32();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/UserResp"},tQ})(),UserJoin2=$root$1.UserJoin2=(()=>{function tQ(eQ){if(this.detail={},eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.opt=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.instance=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.account="",tQ.prototype.ticket="",tQ.prototype.detail=$util$1.emptyObject,tQ.encode=function(eQ,AQ){if(AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),eQ.opt!=null&&Object.hasOwnProperty.call(eQ,"opt")&&AQ.uint32(16).uint64(eQ.opt),eQ.instance!=null&&Object.hasOwnProperty.call(eQ,"instance")&&AQ.uint32(24).uint64(eQ.instance),eQ.account!=null&&Object.hasOwnProperty.call(eQ,"account")&&AQ.uint32(34).string(eQ.account),eQ.ticket!=null&&Object.hasOwnProperty.call(eQ,"ticket")&&AQ.uint32(42).string(eQ.ticket),eQ.detail!=null&&Object.hasOwnProperty.call(eQ,"detail"))for(let iQ=Object.keys(eQ.detail),oQ=0;oQ<iQ.length;++oQ)AQ.uint32(50).fork().uint32(8).uint32(iQ[oQ]).uint32(18).bytes(eQ.detail[iQ[oQ]]).ldelim();return AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ,oQ,rQ=AQ===void 0?eQ.len:eQ.pos+AQ,nQ=new $root$1.UserJoin2;for(;eQ.pos<rQ;){let sQ=eQ.uint32();switch(sQ>>>3){case 1:nQ.seq=eQ.uint64();break;case 2:nQ.opt=eQ.uint64();break;case 3:nQ.instance=eQ.uint64();break;case 4:nQ.account=eQ.string();break;case 5:nQ.ticket=eQ.string();break;case 6:{nQ.detail===$util$1.emptyObject&&(nQ.detail={});let aQ=eQ.uint32()+eQ.pos;for(iQ=0,oQ=[];eQ.pos<aQ;){let cQ=eQ.uint32();switch(cQ>>>3){case 1:iQ=eQ.uint32();break;case 2:oQ=eQ.bytes();break;default:eQ.skipType(7&cQ)}}nQ.detail[iQ]=oQ;break}default:eQ.skipType(7&sQ)}}return nQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/UserJoin2"},tQ})(),UserResp2=$root$1.UserResp2=(()=>{function tQ(eQ){if(this.detail={},eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.account="",tQ.prototype.code=0,tQ.prototype.serverTs=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.detail=$util$1.emptyObject,tQ.encode=function(eQ,AQ){if(AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),eQ.account!=null&&Object.hasOwnProperty.call(eQ,"account")&&AQ.uint32(18).string(eQ.account),eQ.code!=null&&Object.hasOwnProperty.call(eQ,"code")&&AQ.uint32(24).uint32(eQ.code),eQ.serverTs!=null&&Object.hasOwnProperty.call(eQ,"serverTs")&&AQ.uint32(32).uint64(eQ.serverTs),eQ.detail!=null&&Object.hasOwnProperty.call(eQ,"detail"))for(let iQ=Object.keys(eQ.detail),oQ=0;oQ<iQ.length;++oQ)AQ.uint32(42).fork().uint32(8).uint32(iQ[oQ]).uint32(18).bytes(eQ.detail[iQ[oQ]]).ldelim();return AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ,oQ,rQ=AQ===void 0?eQ.len:eQ.pos+AQ,nQ=new $root$1.UserResp2;for(;eQ.pos<rQ;){let sQ=eQ.uint32();switch(sQ>>>3){case 1:nQ.seq=eQ.uint64();break;case 2:nQ.account=eQ.string();break;case 3:nQ.code=eQ.uint32();break;case 4:nQ.serverTs=eQ.uint64();break;case 5:{nQ.detail===$util$1.emptyObject&&(nQ.detail={});let aQ=eQ.uint32()+eQ.pos;for(iQ=0,oQ=[];eQ.pos<aQ;){let cQ=eQ.uint32();switch(cQ>>>3){case 1:iQ=eQ.uint32();break;case 2:oQ=eQ.bytes();break;default:eQ.skipType(7&cQ)}}nQ.detail[iQ]=oQ;break}default:eQ.skipType(7&sQ)}}return nQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/UserResp2"},tQ})(),UserQuit=$root$1.UserQuit=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.UserQuit;for(;eQ.pos<iQ;){let rQ=eQ.uint32();eQ.skipType(7&rQ)}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/UserQuit"},tQ})(),UserQuit2=$root$1.UserQuit2=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.flags!=null&&Object.hasOwnProperty.call(eQ,"flags")&&AQ.uint32(8).uint64(eQ.flags),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.UserQuit2;for(;eQ.pos<iQ;){let rQ=eQ.uint32();rQ>>>3==1?oQ.flags=eQ.uint64():eQ.skipType(7&rQ)}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/UserQuit2"},tQ})(),UserDrop=$root$1.UserDrop=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.code=0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.code!=null&&Object.hasOwnProperty.call(eQ,"code")&&AQ.uint32(8).uint32(eQ.code),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.UserDrop;for(;eQ.pos<iQ;){let rQ=eQ.uint32();rQ>>>3==1?oQ.code=eQ.uint32():eQ.skipType(7&rQ)}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/UserDrop"},tQ})(),UserTicketNearlyExpire=$root$1.UserTicketNearlyExpire=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.expireTs=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.ticket="",tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.expireTs!=null&&Object.hasOwnProperty.call(eQ,"expireTs")&&AQ.uint32(8).uint64(eQ.expireTs),eQ.ticket!=null&&Object.hasOwnProperty.call(eQ,"ticket")&&AQ.uint32(18).string(eQ.ticket),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.UserTicketNearlyExpire;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.expireTs=eQ.uint64();break;case 2:oQ.ticket=eQ.string();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/UserTicketNearlyExpire"},tQ})(),UserRenewTokenReq=$root$1.UserRenewTokenReq=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.instance=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.account="",tQ.prototype.ticket="",tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.instance!=null&&Object.hasOwnProperty.call(eQ,"instance")&&AQ.uint32(8).uint64(eQ.instance),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(16).uint64(eQ.seq),eQ.account!=null&&Object.hasOwnProperty.call(eQ,"account")&&AQ.uint32(26).string(eQ.account),eQ.ticket!=null&&Object.hasOwnProperty.call(eQ,"ticket")&&AQ.uint32(34).string(eQ.ticket),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.UserRenewTokenReq;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.instance=eQ.uint64();break;case 2:oQ.seq=eQ.uint64();break;case 3:oQ.account=eQ.string();break;case 4:oQ.ticket=eQ.string();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/UserRenewTokenReq"},tQ})(),UserRenewTokenResp=$root$1.UserRenewTokenResp=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.code=0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),eQ.code!=null&&Object.hasOwnProperty.call(eQ,"code")&&AQ.uint32(16).uint32(eQ.code),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.UserRenewTokenResp;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.seq=eQ.uint64();break;case 2:oQ.code=eQ.uint32();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/UserRenewTokenResp"},tQ})(),GroupEnter=$root$1.GroupEnter=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.account="",tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),eQ.account!=null&&Object.hasOwnProperty.call(eQ,"account")&&AQ.uint32(18).string(eQ.account),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.GroupEnter;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.seq=eQ.uint64();break;case 2:oQ.account=eQ.string();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/GroupEnter"},tQ})(),GroupLeave=$root$1.GroupLeave=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.account="",tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.account!=null&&Object.hasOwnProperty.call(eQ,"account")&&AQ.uint32(10).string(eQ.account),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.GroupLeave;for(;eQ.pos<iQ;){let rQ=eQ.uint32();rQ>>>3==1?oQ.account=eQ.string():eQ.skipType(7&rQ)}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/GroupLeave"},tQ})(),GroupLeave2=$root$1.GroupLeave2=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.account="",tQ.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.account!=null&&Object.hasOwnProperty.call(eQ,"account")&&AQ.uint32(10).string(eQ.account),eQ.flags!=null&&Object.hasOwnProperty.call(eQ,"flags")&&AQ.uint32(16).uint64(eQ.flags),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.GroupLeave2;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.account=eQ.string();break;case 2:oQ.flags=eQ.uint64();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/GroupLeave2"},tQ})(),GroupReply=$root$1.GroupReply=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.account="",tQ.prototype.code=0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),eQ.account!=null&&Object.hasOwnProperty.call(eQ,"account")&&AQ.uint32(18).string(eQ.account),eQ.code!=null&&Object.hasOwnProperty.call(eQ,"code")&&AQ.uint32(24).uint32(eQ.code),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.GroupReply;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.seq=eQ.uint64();break;case 2:oQ.account=eQ.string();break;case 3:oQ.code=eQ.uint32();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/GroupReply"},tQ})(),GroupLeaveNotice=$root$1.GroupLeaveNotice=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.user="",tQ.prototype.group="",tQ.prototype.instance=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.size=0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),eQ.user!=null&&Object.hasOwnProperty.call(eQ,"user")&&AQ.uint32(18).string(eQ.user),eQ.group!=null&&Object.hasOwnProperty.call(eQ,"group")&&AQ.uint32(26).string(eQ.group),eQ.instance!=null&&Object.hasOwnProperty.call(eQ,"instance")&&AQ.uint32(32).uint64(eQ.instance),eQ.size!=null&&Object.hasOwnProperty.call(eQ,"size")&&AQ.uint32(40).uint32(eQ.size),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.GroupLeaveNotice;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.seq=eQ.uint64();break;case 2:oQ.user=eQ.string();break;case 3:oQ.group=eQ.string();break;case 4:oQ.instance=eQ.uint64();break;case 5:oQ.size=eQ.uint32();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/GroupLeaveNotice"},tQ})(),GroupEnterNotice=$root$1.GroupEnterNotice=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.user="",tQ.prototype.group="",tQ.prototype.instance=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.size=0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),eQ.user!=null&&Object.hasOwnProperty.call(eQ,"user")&&AQ.uint32(18).string(eQ.user),eQ.group!=null&&Object.hasOwnProperty.call(eQ,"group")&&AQ.uint32(26).string(eQ.group),eQ.instance!=null&&Object.hasOwnProperty.call(eQ,"instance")&&AQ.uint32(32).uint64(eQ.instance),eQ.size!=null&&Object.hasOwnProperty.call(eQ,"size")&&AQ.uint32(40).uint32(eQ.size),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.GroupEnterNotice;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.seq=eQ.uint64();break;case 2:oQ.user=eQ.string();break;case 3:oQ.group=eQ.string();break;case 4:oQ.instance=eQ.uint64();break;case 5:oQ.size=eQ.uint32();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/GroupEnterNotice"},tQ})(),Message=$root$1.Message=(()=>{function tQ(eQ){if(this.MiscMap={},eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.instance=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.dialogue=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.options=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.src="",tQ.prototype.dst="",tQ.prototype.payload=$util$1.newBuffer([]),tQ.prototype.MiscMap=$util$1.emptyObject,tQ.prototype.ms=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.encode=function(eQ,AQ){if(AQ||(AQ=$Writer$1.create()),eQ.instance!=null&&Object.hasOwnProperty.call(eQ,"instance")&&AQ.uint32(8).uint64(eQ.instance),eQ.dialogue!=null&&Object.hasOwnProperty.call(eQ,"dialogue")&&AQ.uint32(16).uint64(eQ.dialogue),eQ.sequence!=null&&Object.hasOwnProperty.call(eQ,"sequence")&&AQ.uint32(24).uint64(eQ.sequence),eQ.options!=null&&Object.hasOwnProperty.call(eQ,"options")&&AQ.uint32(32).uint64(eQ.options),eQ.src!=null&&Object.hasOwnProperty.call(eQ,"src")&&AQ.uint32(42).string(eQ.src),eQ.dst!=null&&Object.hasOwnProperty.call(eQ,"dst")&&AQ.uint32(50).string(eQ.dst),eQ.payload!=null&&Object.hasOwnProperty.call(eQ,"payload")&&AQ.uint32(58).bytes(eQ.payload),eQ.MiscMap!=null&&Object.hasOwnProperty.call(eQ,"MiscMap"))for(let iQ=Object.keys(eQ.MiscMap),oQ=0;oQ<iQ.length;++oQ)AQ.uint32(66).fork().uint32(10).string(iQ[oQ]).uint32(18).bytes(eQ.MiscMap[iQ[oQ]]).ldelim();return eQ.ms!=null&&Object.hasOwnProperty.call(eQ,"ms")&&AQ.uint32(72).uint64(eQ.ms),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ,oQ,rQ=AQ===void 0?eQ.len:eQ.pos+AQ,nQ=new $root$1.Message;for(;eQ.pos<rQ;){let sQ=eQ.uint32();switch(sQ>>>3){case 1:nQ.instance=eQ.uint64();break;case 2:nQ.dialogue=eQ.uint64();break;case 3:nQ.sequence=eQ.uint64();break;case 4:nQ.options=eQ.uint64();break;case 5:nQ.src=eQ.string();break;case 6:nQ.dst=eQ.string();break;case 7:nQ.payload=eQ.bytes();break;case 8:{nQ.MiscMap===$util$1.emptyObject&&(nQ.MiscMap={});let aQ=eQ.uint32()+eQ.pos;for(iQ="",oQ=[];eQ.pos<aQ;){let cQ=eQ.uint32();switch(cQ>>>3){case 1:iQ=eQ.string();break;case 2:oQ=eQ.bytes();break;default:eQ.skipType(7&cQ)}}nQ.MiscMap[iQ]=oQ;break}case 9:nQ.ms=eQ.uint64();break;default:eQ.skipType(7&sQ)}}return nQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/Message"},tQ})(),Ack=$root$1.Ack=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.instance=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.dialogue=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.code=0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.instance!=null&&Object.hasOwnProperty.call(eQ,"instance")&&AQ.uint32(8).uint64(eQ.instance),eQ.dialogue!=null&&Object.hasOwnProperty.call(eQ,"dialogue")&&AQ.uint32(16).uint64(eQ.dialogue),eQ.sequence!=null&&Object.hasOwnProperty.call(eQ,"sequence")&&AQ.uint32(24).uint64(eQ.sequence),eQ.code!=null&&Object.hasOwnProperty.call(eQ,"code")&&AQ.uint32(32).uint32(eQ.code),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.Ack;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.instance=eQ.uint64();break;case 2:oQ.dialogue=eQ.uint64();break;case 3:oQ.sequence=eQ.uint64();break;case 4:oQ.code=eQ.uint32();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/Ack"},tQ})(),GroupDrop=$root$1.GroupDrop=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.account="",tQ.prototype.code=0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.account!=null&&Object.hasOwnProperty.call(eQ,"account")&&AQ.uint32(10).string(eQ.account),eQ.code!=null&&Object.hasOwnProperty.call(eQ,"code")&&AQ.uint32(16).uint32(eQ.code),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.GroupDrop;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.account=eQ.string();break;case 2:oQ.code=eQ.uint32();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/GroupDrop"},tQ})(),GroupAllUsersList=$root$1.GroupAllUsersList=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.group="",tQ.prototype.pageSize=0,tQ.prototype.pageNumber=0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),eQ.group!=null&&Object.hasOwnProperty.call(eQ,"group")&&AQ.uint32(18).string(eQ.group),eQ.pageSize!=null&&Object.hasOwnProperty.call(eQ,"pageSize")&&AQ.uint32(24).uint32(eQ.pageSize),eQ.pageNumber!=null&&Object.hasOwnProperty.call(eQ,"pageNumber")&&AQ.uint32(32).uint32(eQ.pageNumber),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.GroupAllUsersList;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.seq=eQ.uint64();break;case 2:oQ.group=eQ.string();break;case 3:oQ.pageSize=eQ.uint32();break;case 4:oQ.pageNumber=eQ.uint32();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/GroupAllUsersList"},tQ})(),GroupAllUsersResult=$root$1.GroupAllUsersResult=(()=>{function tQ(eQ){if(this.memberInfos=[],eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.group="",tQ.prototype.totalSize=0,tQ.prototype.pageSize=0,tQ.prototype.pageNumber=0,tQ.prototype.memberInfos=$util$1.emptyArray,tQ.encode=function(eQ,AQ){if(AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),eQ.group!=null&&Object.hasOwnProperty.call(eQ,"group")&&AQ.uint32(18).string(eQ.group),eQ.totalSize!=null&&Object.hasOwnProperty.call(eQ,"totalSize")&&AQ.uint32(24).uint32(eQ.totalSize),eQ.pageSize!=null&&Object.hasOwnProperty.call(eQ,"pageSize")&&AQ.uint32(32).uint32(eQ.pageSize),eQ.pageNumber!=null&&Object.hasOwnProperty.call(eQ,"pageNumber")&&AQ.uint32(40).uint32(eQ.pageNumber),eQ.memberInfos!=null&&eQ.memberInfos.length)for(let iQ=0;iQ<eQ.memberInfos.length;++iQ)$root$1.GroupAllUsersResult.MemberInfo.encode(eQ.memberInfos[iQ],AQ.uint32(50).fork()).ldelim();return AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.GroupAllUsersResult;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.seq=eQ.uint64();break;case 2:oQ.group=eQ.string();break;case 3:oQ.totalSize=eQ.uint32();break;case 4:oQ.pageSize=eQ.uint32();break;case 5:oQ.pageNumber=eQ.uint32();break;case 6:oQ.memberInfos&&oQ.memberInfos.length||(oQ.memberInfos=[]),oQ.memberInfos.push($root$1.GroupAllUsersResult.MemberInfo.decode(eQ,eQ.uint32()));break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/GroupAllUsersResult"},tQ.MemberInfo=function(){function eQ(AQ){if(AQ)for(let iQ=Object.keys(AQ),oQ=0;oQ<iQ.length;++oQ)AQ[iQ[oQ]]!=null&&(this[iQ[oQ]]=AQ[iQ[oQ]])}return eQ.prototype.account="",eQ.prototype.ts=0,eQ.encode=function(AQ,iQ){return iQ||(iQ=$Writer$1.create()),AQ.account!=null&&Object.hasOwnProperty.call(AQ,"account")&&iQ.uint32(10).string(AQ.account),AQ.ts!=null&&Object.hasOwnProperty.call(AQ,"ts")&&iQ.uint32(16).uint32(AQ.ts),iQ},eQ.decode=function(AQ,iQ){AQ instanceof $Reader||(AQ=$Reader.create(AQ));let oQ=iQ===void 0?AQ.len:AQ.pos+iQ,rQ=new $root$1.GroupAllUsersResult.MemberInfo;for(;AQ.pos<oQ;){let nQ=AQ.uint32();switch(nQ>>>3){case 1:rQ.account=AQ.string();break;case 2:rQ.ts=AQ.uint32();break;default:AQ.skipType(7&nQ)}}return rQ},eQ.getTypeUrl=function(AQ){return AQ===void 0&&(AQ="type.googleapis.com"),AQ+"/GroupAllUsersResult.MemberInfo"},eQ}(),tQ})(),UserStatusList=$root$1.UserStatusList=(()=>{function tQ(eQ){if(this.users=[],eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.users=$util$1.emptyArray,tQ.encode=function(eQ,AQ){if(AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),eQ.users!=null&&eQ.users.length)for(let iQ=0;iQ<eQ.users.length;++iQ)AQ.uint32(18).string(eQ.users[iQ]);return AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.UserStatusList;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.seq=eQ.uint64();break;case 2:oQ.users&&oQ.users.length||(oQ.users=[]),oQ.users.push(eQ.string());break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/UserStatusList"},tQ})(),UserStatusResult=$root$1.UserStatusResult=(()=>{function tQ(eQ){if(this.userInfos=[],eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.userInfos=$util$1.emptyArray,tQ.encode=function(eQ,AQ){if(AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),eQ.userInfos!=null&&eQ.userInfos.length)for(let iQ=0;iQ<eQ.userInfos.length;++iQ)$root$1.UserStatusResult.UserStatusInfo.encode(eQ.userInfos[iQ],AQ.uint32(18).fork()).ldelim();return AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.UserStatusResult;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.seq=eQ.uint64();break;case 2:oQ.userInfos&&oQ.userInfos.length||(oQ.userInfos=[]),oQ.userInfos.push($root$1.UserStatusResult.UserStatusInfo.decode(eQ,eQ.uint32()));break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/UserStatusResult"},tQ.UserStatusInfo=function(){function eQ(AQ){if(AQ)for(let iQ=Object.keys(AQ),oQ=0;oQ<iQ.length;++oQ)AQ[iQ[oQ]]!=null&&(this[iQ[oQ]]=AQ[iQ[oQ]])}return eQ.prototype.account="",eQ.prototype.ts=0,eQ.encode=function(AQ,iQ){return iQ||(iQ=$Writer$1.create()),AQ.account!=null&&Object.hasOwnProperty.call(AQ,"account")&&iQ.uint32(10).string(AQ.account),AQ.ts!=null&&Object.hasOwnProperty.call(AQ,"ts")&&iQ.uint32(16).uint32(AQ.ts),iQ},eQ.decode=function(AQ,iQ){AQ instanceof $Reader||(AQ=$Reader.create(AQ));let oQ=iQ===void 0?AQ.len:AQ.pos+iQ,rQ=new $root$1.UserStatusResult.UserStatusInfo;for(;AQ.pos<oQ;){let nQ=AQ.uint32();switch(nQ>>>3){case 1:rQ.account=AQ.string();break;case 2:rQ.ts=AQ.uint32();break;default:AQ.skipType(7&nQ)}}return rQ},eQ.getTypeUrl=function(AQ){return AQ===void 0&&(AQ="type.googleapis.com"),AQ+"/UserStatusResult.UserStatusInfo"},eQ}(),tQ})(),UserAttributeGet=$root$1.UserAttributeGet=(()=>{function tQ(eQ){if(this.attributes=[],eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.account="",tQ.prototype.attributes=$util$1.emptyArray,tQ.encode=function(eQ,AQ){if(AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),eQ.account!=null&&Object.hasOwnProperty.call(eQ,"account")&&AQ.uint32(18).string(eQ.account),eQ.attributes!=null&&eQ.attributes.length)for(let iQ=0;iQ<eQ.attributes.length;++iQ)AQ.uint32(26).string(eQ.attributes[iQ]);return AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.UserAttributeGet;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.seq=eQ.uint64();break;case 2:oQ.account=eQ.string();break;case 3:oQ.attributes&&oQ.attributes.length||(oQ.attributes=[]),oQ.attributes.push(eQ.string());break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/UserAttributeGet"},tQ})(),UserAttributeRet=$root$1.UserAttributeRet=(()=>{function tQ(eQ){if(this.attributeInfos=[],eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.attributeInfos=$util$1.emptyArray,tQ.encode=function(eQ,AQ){if(AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),eQ.attributeInfos!=null&&eQ.attributeInfos.length)for(let iQ=0;iQ<eQ.attributeInfos.length;++iQ)$root$1.UserAttributeRet.AttributeInfo.encode(eQ.attributeInfos[iQ],AQ.uint32(18).fork()).ldelim();return AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.UserAttributeRet;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.seq=eQ.uint64();break;case 2:oQ.attributeInfos&&oQ.attributeInfos.length||(oQ.attributeInfos=[]),oQ.attributeInfos.push($root$1.UserAttributeRet.AttributeInfo.decode(eQ,eQ.uint32()));break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/UserAttributeRet"},tQ.AttributeInfo=function(){function eQ(AQ){if(AQ)for(let iQ=Object.keys(AQ),oQ=0;oQ<iQ.length;++oQ)AQ[iQ[oQ]]!=null&&(this[iQ[oQ]]=AQ[iQ[oQ]])}return eQ.prototype.key="",eQ.prototype.value="",eQ.encode=function(AQ,iQ){return iQ||(iQ=$Writer$1.create()),AQ.key!=null&&Object.hasOwnProperty.call(AQ,"key")&&iQ.uint32(10).string(AQ.key),AQ.value!=null&&Object.hasOwnProperty.call(AQ,"value")&&iQ.uint32(18).string(AQ.value),iQ},eQ.decode=function(AQ,iQ){AQ instanceof $Reader||(AQ=$Reader.create(AQ));let oQ=iQ===void 0?AQ.len:AQ.pos+iQ,rQ=new $root$1.UserAttributeRet.AttributeInfo;for(;AQ.pos<oQ;){let nQ=AQ.uint32();switch(nQ>>>3){case 1:rQ.key=AQ.string();break;case 2:rQ.value=AQ.string();break;default:AQ.skipType(7&nQ)}}return rQ},eQ.getTypeUrl=function(AQ){return AQ===void 0&&(AQ="type.googleapis.com"),AQ+"/UserAttributeRet.AttributeInfo"},eQ}(),tQ})(),UserAttributeSet=$root$1.UserAttributeSet=(()=>{function tQ(eQ){if(this.attributeInfos=[],eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.account="",tQ.prototype.attributeInfos=$util$1.emptyArray,tQ.encode=function(eQ,AQ){if(AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),eQ.account!=null&&Object.hasOwnProperty.call(eQ,"account")&&AQ.uint32(18).string(eQ.account),eQ.attributeInfos!=null&&eQ.attributeInfos.length)for(let iQ=0;iQ<eQ.attributeInfos.length;++iQ)$root$1.UserAttributeSet.AttributeInfo.encode(eQ.attributeInfos[iQ],AQ.uint32(26).fork()).ldelim();return AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.UserAttributeSet;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.seq=eQ.uint64();break;case 2:oQ.account=eQ.string();break;case 3:oQ.attributeInfos&&oQ.attributeInfos.length||(oQ.attributeInfos=[]),oQ.attributeInfos.push($root$1.UserAttributeSet.AttributeInfo.decode(eQ,eQ.uint32()));break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/UserAttributeSet"},tQ.AttributeInfo=function(){function eQ(AQ){if(AQ)for(let iQ=Object.keys(AQ),oQ=0;oQ<iQ.length;++oQ)AQ[iQ[oQ]]!=null&&(this[iQ[oQ]]=AQ[iQ[oQ]])}return eQ.prototype.key="",eQ.prototype.value="",eQ.encode=function(AQ,iQ){return iQ||(iQ=$Writer$1.create()),AQ.key!=null&&Object.hasOwnProperty.call(AQ,"key")&&iQ.uint32(10).string(AQ.key),AQ.value!=null&&Object.hasOwnProperty.call(AQ,"value")&&iQ.uint32(18).string(AQ.value),iQ},eQ.decode=function(AQ,iQ){AQ instanceof $Reader||(AQ=$Reader.create(AQ));let oQ=iQ===void 0?AQ.len:AQ.pos+iQ,rQ=new $root$1.UserAttributeSet.AttributeInfo;for(;AQ.pos<oQ;){let nQ=AQ.uint32();switch(nQ>>>3){case 1:rQ.key=AQ.string();break;case 2:rQ.value=AQ.string();break;default:AQ.skipType(7&nQ)}}return rQ},eQ.getTypeUrl=function(AQ){return AQ===void 0&&(AQ="type.googleapis.com"),AQ+"/UserAttributeSet.AttributeInfo"},eQ}(),tQ})(),UserAttributeMod=$root$1.UserAttributeMod=(()=>{function tQ(eQ){if(this.attributeInfos=[],eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.account="",tQ.prototype.attributeInfos=$util$1.emptyArray,tQ.encode=function(eQ,AQ){if(AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),eQ.account!=null&&Object.hasOwnProperty.call(eQ,"account")&&AQ.uint32(18).string(eQ.account),eQ.attributeInfos!=null&&eQ.attributeInfos.length)for(let iQ=0;iQ<eQ.attributeInfos.length;++iQ)$root$1.UserAttributeMod.AttributeInfo.encode(eQ.attributeInfos[iQ],AQ.uint32(26).fork()).ldelim();return AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.UserAttributeMod;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.seq=eQ.uint64();break;case 2:oQ.account=eQ.string();break;case 3:oQ.attributeInfos&&oQ.attributeInfos.length||(oQ.attributeInfos=[]),oQ.attributeInfos.push($root$1.UserAttributeMod.AttributeInfo.decode(eQ,eQ.uint32()));break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/UserAttributeMod"},tQ.AttributeInfo=function(){function eQ(AQ){if(AQ)for(let iQ=Object.keys(AQ),oQ=0;oQ<iQ.length;++oQ)AQ[iQ[oQ]]!=null&&(this[iQ[oQ]]=AQ[iQ[oQ]])}return eQ.prototype.key="",eQ.prototype.value="",eQ.encode=function(AQ,iQ){return iQ||(iQ=$Writer$1.create()),AQ.key!=null&&Object.hasOwnProperty.call(AQ,"key")&&iQ.uint32(10).string(AQ.key),AQ.value!=null&&Object.hasOwnProperty.call(AQ,"value")&&iQ.uint32(18).string(AQ.value),iQ},eQ.decode=function(AQ,iQ){AQ instanceof $Reader||(AQ=$Reader.create(AQ));let oQ=iQ===void 0?AQ.len:AQ.pos+iQ,rQ=new $root$1.UserAttributeMod.AttributeInfo;for(;AQ.pos<oQ;){let nQ=AQ.uint32();switch(nQ>>>3){case 1:rQ.key=AQ.string();break;case 2:rQ.value=AQ.string();break;default:AQ.skipType(7&nQ)}}return rQ},eQ.getTypeUrl=function(AQ){return AQ===void 0&&(AQ="type.googleapis.com"),AQ+"/UserAttributeMod.AttributeInfo"},eQ}(),tQ})(),UserAttributeDel=$root$1.UserAttributeDel=(()=>{function tQ(eQ){if(this.attributes=[],eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.account="",tQ.prototype.attributes=$util$1.emptyArray,tQ.encode=function(eQ,AQ){if(AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),eQ.account!=null&&Object.hasOwnProperty.call(eQ,"account")&&AQ.uint32(18).string(eQ.account),eQ.attributes!=null&&eQ.attributes.length)for(let iQ=0;iQ<eQ.attributes.length;++iQ)AQ.uint32(26).string(eQ.attributes[iQ]);return AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.UserAttributeDel;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.seq=eQ.uint64();break;case 2:oQ.account=eQ.string();break;case 3:oQ.attributes&&oQ.attributes.length||(oQ.attributes=[]),oQ.attributes.push(eQ.string());break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/UserAttributeDel"},tQ})(),UserAttributeErr=$root$1.UserAttributeErr=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.code=0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),eQ.code!=null&&Object.hasOwnProperty.call(eQ,"code")&&AQ.uint32(16).uint32(eQ.code),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.UserAttributeErr;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.seq=eQ.uint64();break;case 2:oQ.code=eQ.uint32();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/UserAttributeErr"},tQ})(),UserAttributeKeysGet=$root$1.UserAttributeKeysGet=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.account="",tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),eQ.account!=null&&Object.hasOwnProperty.call(eQ,"account")&&AQ.uint32(18).string(eQ.account),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.UserAttributeKeysGet;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.seq=eQ.uint64();break;case 2:oQ.account=eQ.string();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/UserAttributeKeysGet"},tQ})(),UserAttributeKeysRet=$root$1.UserAttributeKeysRet=(()=>{function tQ(eQ){if(this.keys=[],eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.keys=$util$1.emptyArray,tQ.encode=function(eQ,AQ){if(AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),eQ.keys!=null&&eQ.keys.length)for(let iQ=0;iQ<eQ.keys.length;++iQ)AQ.uint32(18).string(eQ.keys[iQ]);return AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.UserAttributeKeysRet;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.seq=eQ.uint64();break;case 2:oQ.keys&&oQ.keys.length||(oQ.keys=[]),oQ.keys.push(eQ.string());break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/UserAttributeKeysRet"},tQ})(),UserAttributeRsp=$root$1.UserAttributeRsp=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.UserAttributeRsp;for(;eQ.pos<iQ;){let rQ=eQ.uint32();rQ>>>3==1?oQ.seq=eQ.uint64():eQ.skipType(7&rQ)}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/UserAttributeRsp"},tQ})(),GroupStatusList=$root$1.GroupStatusList=(()=>{function tQ(eQ){if(this.groups=[],eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.groups=$util$1.emptyArray,tQ.encode=function(eQ,AQ){if(AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),eQ.groups!=null&&eQ.groups.length)for(let iQ=0;iQ<eQ.groups.length;++iQ)AQ.uint32(18).string(eQ.groups[iQ]);return AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.GroupStatusList;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.seq=eQ.uint64();break;case 2:oQ.groups&&oQ.groups.length||(oQ.groups=[]),oQ.groups.push(eQ.string());break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/GroupStatusList"},tQ})(),GroupStatusResult=$root$1.GroupStatusResult=(()=>{function tQ(eQ){if(this.groupInfos=[],eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.groupInfos=$util$1.emptyArray,tQ.encode=function(eQ,AQ){if(AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),eQ.groupInfos!=null&&eQ.groupInfos.length)for(let iQ=0;iQ<eQ.groupInfos.length;++iQ)$root$1.GroupStatusResult.GroupInfo.encode(eQ.groupInfos[iQ],AQ.uint32(18).fork()).ldelim();return AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.GroupStatusResult;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.seq=eQ.uint64();break;case 2:oQ.groupInfos&&oQ.groupInfos.length||(oQ.groupInfos=[]),oQ.groupInfos.push($root$1.GroupStatusResult.GroupInfo.decode(eQ,eQ.uint32()));break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/GroupStatusResult"},tQ.GroupInfo=function(){function eQ(AQ){if(AQ)for(let iQ=Object.keys(AQ),oQ=0;oQ<iQ.length;++oQ)AQ[iQ[oQ]]!=null&&(this[iQ[oQ]]=AQ[iQ[oQ]])}return eQ.prototype.group="",eQ.prototype.memberCount=0,eQ.encode=function(AQ,iQ){return iQ||(iQ=$Writer$1.create()),AQ.group!=null&&Object.hasOwnProperty.call(AQ,"group")&&iQ.uint32(10).string(AQ.group),AQ.memberCount!=null&&Object.hasOwnProperty.call(AQ,"memberCount")&&iQ.uint32(16).uint32(AQ.memberCount),iQ},eQ.decode=function(AQ,iQ){AQ instanceof $Reader||(AQ=$Reader.create(AQ));let oQ=iQ===void 0?AQ.len:AQ.pos+iQ,rQ=new $root$1.GroupStatusResult.GroupInfo;for(;AQ.pos<oQ;){let nQ=AQ.uint32();switch(nQ>>>3){case 1:rQ.group=AQ.string();break;case 2:rQ.memberCount=AQ.uint32();break;default:AQ.skipType(7&nQ)}}return rQ},eQ.getTypeUrl=function(AQ){return AQ===void 0&&(AQ="type.googleapis.com"),AQ+"/GroupStatusResult.GroupInfo"},eQ}(),tQ})(),GroupCountNotice=$root$1.GroupCountNotice=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.instance=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.group="",tQ.prototype.size=0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.instance!=null&&Object.hasOwnProperty.call(eQ,"instance")&&AQ.uint32(8).uint64(eQ.instance),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(16).uint64(eQ.seq),eQ.group!=null&&Object.hasOwnProperty.call(eQ,"group")&&AQ.uint32(26).string(eQ.group),eQ.size!=null&&Object.hasOwnProperty.call(eQ,"size")&&AQ.uint32(32).uint32(eQ.size),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.GroupCountNotice;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.instance=eQ.uint64();break;case 2:oQ.seq=eQ.uint64();break;case 3:oQ.group=eQ.string();break;case 4:oQ.size=eQ.uint32();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/GroupCountNotice"},tQ})(),GroupAttributeGet=$root$1.GroupAttributeGet=(()=>{function tQ(eQ){if(this.attributes=[],eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.group="",tQ.prototype.attributes=$util$1.emptyArray,tQ.encode=function(eQ,AQ){if(AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),eQ.group!=null&&Object.hasOwnProperty.call(eQ,"group")&&AQ.uint32(18).string(eQ.group),eQ.attributes!=null&&eQ.attributes.length)for(let iQ=0;iQ<eQ.attributes.length;++iQ)AQ.uint32(26).string(eQ.attributes[iQ]);return AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.GroupAttributeGet;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.seq=eQ.uint64();break;case 2:oQ.group=eQ.string();break;case 3:oQ.attributes&&oQ.attributes.length||(oQ.attributes=[]),oQ.attributes.push(eQ.string());break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/GroupAttributeGet"},tQ})(),GroupAttributeRet=$root$1.GroupAttributeRet=(()=>{function tQ(eQ){if(this.attributeMaps=[],eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.attributeMaps=$util$1.emptyArray,tQ.encode=function(eQ,AQ){if(AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),eQ.attributeMaps!=null&&eQ.attributeMaps.length)for(let iQ=0;iQ<eQ.attributeMaps.length;++iQ)$root$1.GroupAttributeRet.AttributeMap.encode(eQ.attributeMaps[iQ],AQ.uint32(18).fork()).ldelim();return AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.GroupAttributeRet;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.seq=eQ.uint64();break;case 2:oQ.attributeMaps&&oQ.attributeMaps.length||(oQ.attributeMaps=[]),oQ.attributeMaps.push($root$1.GroupAttributeRet.AttributeMap.decode(eQ,eQ.uint32()));break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/GroupAttributeRet"},tQ.AttributeMap=function(){function eQ(AQ){if(AQ)for(let iQ=Object.keys(AQ),oQ=0;oQ<iQ.length;++oQ)AQ[iQ[oQ]]!=null&&(this[iQ[oQ]]=AQ[iQ[oQ]])}return eQ.prototype.key="",eQ.prototype.value="",eQ.prototype.origin="",eQ.prototype.ms=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,eQ.encode=function(AQ,iQ){return iQ||(iQ=$Writer$1.create()),AQ.key!=null&&Object.hasOwnProperty.call(AQ,"key")&&iQ.uint32(10).string(AQ.key),AQ.value!=null&&Object.hasOwnProperty.call(AQ,"value")&&iQ.uint32(18).string(AQ.value),AQ.origin!=null&&Object.hasOwnProperty.call(AQ,"origin")&&iQ.uint32(26).string(AQ.origin),AQ.ms!=null&&Object.hasOwnProperty.call(AQ,"ms")&&iQ.uint32(32).uint64(AQ.ms),iQ},eQ.decode=function(AQ,iQ){AQ instanceof $Reader||(AQ=$Reader.create(AQ));let oQ=iQ===void 0?AQ.len:AQ.pos+iQ,rQ=new $root$1.GroupAttributeRet.AttributeMap;for(;AQ.pos<oQ;){let nQ=AQ.uint32();switch(nQ>>>3){case 1:rQ.key=AQ.string();break;case 2:rQ.value=AQ.string();break;case 3:rQ.origin=AQ.string();break;case 4:rQ.ms=AQ.uint64();break;default:AQ.skipType(7&nQ)}}return rQ},eQ.getTypeUrl=function(AQ){return AQ===void 0&&(AQ="type.googleapis.com"),AQ+"/GroupAttributeRet.AttributeMap"},eQ}(),tQ})(),GroupAttributeSet=$root$1.GroupAttributeSet=(()=>{function tQ(eQ){if(this.attributeInfos=[],eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.group="",tQ.prototype.broadcast=!1,tQ.prototype.attributeInfos=$util$1.emptyArray,tQ.encode=function(eQ,AQ){if(AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),eQ.group!=null&&Object.hasOwnProperty.call(eQ,"group")&&AQ.uint32(18).string(eQ.group),eQ.broadcast!=null&&Object.hasOwnProperty.call(eQ,"broadcast")&&AQ.uint32(24).bool(eQ.broadcast),eQ.attributeInfos!=null&&eQ.attributeInfos.length)for(let iQ=0;iQ<eQ.attributeInfos.length;++iQ)$root$1.GroupAttributeSet.AttributeInfo.encode(eQ.attributeInfos[iQ],AQ.uint32(34).fork()).ldelim();return AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.GroupAttributeSet;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.seq=eQ.uint64();break;case 2:oQ.group=eQ.string();break;case 3:oQ.broadcast=eQ.bool();break;case 4:oQ.attributeInfos&&oQ.attributeInfos.length||(oQ.attributeInfos=[]),oQ.attributeInfos.push($root$1.GroupAttributeSet.AttributeInfo.decode(eQ,eQ.uint32()));break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/GroupAttributeSet"},tQ.AttributeInfo=function(){function eQ(AQ){if(AQ)for(let iQ=Object.keys(AQ),oQ=0;oQ<iQ.length;++oQ)AQ[iQ[oQ]]!=null&&(this[iQ[oQ]]=AQ[iQ[oQ]])}return eQ.prototype.key="",eQ.prototype.value="",eQ.encode=function(AQ,iQ){return iQ||(iQ=$Writer$1.create()),AQ.key!=null&&Object.hasOwnProperty.call(AQ,"key")&&iQ.uint32(10).string(AQ.key),AQ.value!=null&&Object.hasOwnProperty.call(AQ,"value")&&iQ.uint32(18).string(AQ.value),iQ},eQ.decode=function(AQ,iQ){AQ instanceof $Reader||(AQ=$Reader.create(AQ));let oQ=iQ===void 0?AQ.len:AQ.pos+iQ,rQ=new $root$1.GroupAttributeSet.AttributeInfo;for(;AQ.pos<oQ;){let nQ=AQ.uint32();switch(nQ>>>3){case 1:rQ.key=AQ.string();break;case 2:rQ.value=AQ.string();break;default:AQ.skipType(7&nQ)}}return rQ},eQ.getTypeUrl=function(AQ){return AQ===void 0&&(AQ="type.googleapis.com"),AQ+"/GroupAttributeSet.AttributeInfo"},eQ}(),tQ})(),GroupAttributeMod=$root$1.GroupAttributeMod=(()=>{function tQ(eQ){if(this.attributeInfos=[],eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.group="",tQ.prototype.broadcast=!1,tQ.prototype.attributeInfos=$util$1.emptyArray,tQ.encode=function(eQ,AQ){if(AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),eQ.group!=null&&Object.hasOwnProperty.call(eQ,"group")&&AQ.uint32(18).string(eQ.group),eQ.broadcast!=null&&Object.hasOwnProperty.call(eQ,"broadcast")&&AQ.uint32(24).bool(eQ.broadcast),eQ.attributeInfos!=null&&eQ.attributeInfos.length)for(let iQ=0;iQ<eQ.attributeInfos.length;++iQ)$root$1.GroupAttributeMod.AttributeInfo.encode(eQ.attributeInfos[iQ],AQ.uint32(34).fork()).ldelim();return AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.GroupAttributeMod;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.seq=eQ.uint64();break;case 2:oQ.group=eQ.string();break;case 3:oQ.broadcast=eQ.bool();break;case 4:oQ.attributeInfos&&oQ.attributeInfos.length||(oQ.attributeInfos=[]),oQ.attributeInfos.push($root$1.GroupAttributeMod.AttributeInfo.decode(eQ,eQ.uint32()));break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/GroupAttributeMod"},tQ.AttributeInfo=function(){function eQ(AQ){if(AQ)for(let iQ=Object.keys(AQ),oQ=0;oQ<iQ.length;++oQ)AQ[iQ[oQ]]!=null&&(this[iQ[oQ]]=AQ[iQ[oQ]])}return eQ.prototype.key="",eQ.prototype.value="",eQ.encode=function(AQ,iQ){return iQ||(iQ=$Writer$1.create()),AQ.key!=null&&Object.hasOwnProperty.call(AQ,"key")&&iQ.uint32(10).string(AQ.key),AQ.value!=null&&Object.hasOwnProperty.call(AQ,"value")&&iQ.uint32(18).string(AQ.value),iQ},eQ.decode=function(AQ,iQ){AQ instanceof $Reader||(AQ=$Reader.create(AQ));let oQ=iQ===void 0?AQ.len:AQ.pos+iQ,rQ=new $root$1.GroupAttributeMod.AttributeInfo;for(;AQ.pos<oQ;){let nQ=AQ.uint32();switch(nQ>>>3){case 1:rQ.key=AQ.string();break;case 2:rQ.value=AQ.string();break;default:AQ.skipType(7&nQ)}}return rQ},eQ.getTypeUrl=function(AQ){return AQ===void 0&&(AQ="type.googleapis.com"),AQ+"/GroupAttributeMod.AttributeInfo"},eQ}(),tQ})(),GroupAttributeDel=$root$1.GroupAttributeDel=(()=>{function tQ(eQ){if(this.attributes=[],eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.group="",tQ.prototype.broadcast=!1,tQ.prototype.attributes=$util$1.emptyArray,tQ.encode=function(eQ,AQ){if(AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),eQ.group!=null&&Object.hasOwnProperty.call(eQ,"group")&&AQ.uint32(18).string(eQ.group),eQ.broadcast!=null&&Object.hasOwnProperty.call(eQ,"broadcast")&&AQ.uint32(24).bool(eQ.broadcast),eQ.attributes!=null&&eQ.attributes.length)for(let iQ=0;iQ<eQ.attributes.length;++iQ)AQ.uint32(34).string(eQ.attributes[iQ]);return AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.GroupAttributeDel;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.seq=eQ.uint64();break;case 2:oQ.group=eQ.string();break;case 3:oQ.broadcast=eQ.bool();break;case 4:oQ.attributes&&oQ.attributes.length||(oQ.attributes=[]),oQ.attributes.push(eQ.string());break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/GroupAttributeDel"},tQ})(),GroupAttributeAlt=$root$1.GroupAttributeAlt=(()=>{function tQ(eQ){if(this.attributeMaps=[],eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.group="",tQ.prototype.instance=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.attributeMaps=$util$1.emptyArray,tQ.encode=function(eQ,AQ){if(AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),eQ.group!=null&&Object.hasOwnProperty.call(eQ,"group")&&AQ.uint32(18).string(eQ.group),eQ.instance!=null&&Object.hasOwnProperty.call(eQ,"instance")&&AQ.uint32(24).uint64(eQ.instance),eQ.attributeMaps!=null&&eQ.attributeMaps.length)for(let iQ=0;iQ<eQ.attributeMaps.length;++iQ)$root$1.GroupAttributeAlt.AttributeMap.encode(eQ.attributeMaps[iQ],AQ.uint32(34).fork()).ldelim();return AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.GroupAttributeAlt;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.seq=eQ.uint64();break;case 2:oQ.group=eQ.string();break;case 3:oQ.instance=eQ.uint64();break;case 4:oQ.attributeMaps&&oQ.attributeMaps.length||(oQ.attributeMaps=[]),oQ.attributeMaps.push($root$1.GroupAttributeAlt.AttributeMap.decode(eQ,eQ.uint32()));break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/GroupAttributeAlt"},tQ.AttributeMap=function(){function eQ(AQ){if(AQ)for(let iQ=Object.keys(AQ),oQ=0;oQ<iQ.length;++oQ)AQ[iQ[oQ]]!=null&&(this[iQ[oQ]]=AQ[iQ[oQ]])}return eQ.prototype.key="",eQ.prototype.value="",eQ.prototype.origin="",eQ.prototype.ms=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,eQ.encode=function(AQ,iQ){return iQ||(iQ=$Writer$1.create()),AQ.key!=null&&Object.hasOwnProperty.call(AQ,"key")&&iQ.uint32(10).string(AQ.key),AQ.value!=null&&Object.hasOwnProperty.call(AQ,"value")&&iQ.uint32(18).string(AQ.value),AQ.origin!=null&&Object.hasOwnProperty.call(AQ,"origin")&&iQ.uint32(26).string(AQ.origin),AQ.ms!=null&&Object.hasOwnProperty.call(AQ,"ms")&&iQ.uint32(32).uint64(AQ.ms),iQ},eQ.decode=function(AQ,iQ){AQ instanceof $Reader||(AQ=$Reader.create(AQ));let oQ=iQ===void 0?AQ.len:AQ.pos+iQ,rQ=new $root$1.GroupAttributeAlt.AttributeMap;for(;AQ.pos<oQ;){let nQ=AQ.uint32();switch(nQ>>>3){case 1:rQ.key=AQ.string();break;case 2:rQ.value=AQ.string();break;case 3:rQ.origin=AQ.string();break;case 4:rQ.ms=AQ.uint64();break;default:AQ.skipType(7&nQ)}}return rQ},eQ.getTypeUrl=function(AQ){return AQ===void 0&&(AQ="type.googleapis.com"),AQ+"/GroupAttributeAlt.AttributeMap"},eQ}(),tQ})(),GroupAttributeRsp=$root$1.GroupAttributeRsp=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.GroupAttributeRsp;for(;eQ.pos<iQ;){let rQ=eQ.uint32();rQ>>>3==1?oQ.seq=eQ.uint64():eQ.skipType(7&rQ)}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/GroupAttributeRsp"},tQ})(),GroupAttributeErr=$root$1.GroupAttributeErr=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.code=0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),eQ.code!=null&&Object.hasOwnProperty.call(eQ,"code")&&AQ.uint32(16).uint32(eQ.code),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.GroupAttributeErr;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.seq=eQ.uint64();break;case 2:oQ.code=eQ.uint32();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/GroupAttributeErr"},tQ})(),GroupAttributeKeysGet=$root$1.GroupAttributeKeysGet=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.group="",tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),eQ.group!=null&&Object.hasOwnProperty.call(eQ,"group")&&AQ.uint32(18).string(eQ.group),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.GroupAttributeKeysGet;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.seq=eQ.uint64();break;case 2:oQ.group=eQ.string();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/GroupAttributeKeysGet"},tQ})(),GroupAttributeKeysRet=$root$1.GroupAttributeKeysRet=(()=>{function tQ(eQ){if(this.keys=[],eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.keys=$util$1.emptyArray,tQ.encode=function(eQ,AQ){if(AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),eQ.keys!=null&&eQ.keys.length)for(let iQ=0;iQ<eQ.keys.length;++iQ)AQ.uint32(18).string(eQ.keys[iQ]);return AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.GroupAttributeKeysRet;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.seq=eQ.uint64();break;case 2:oQ.keys&&oQ.keys.length||(oQ.keys=[]),oQ.keys.push(eQ.string());break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/GroupAttributeKeysRet"},tQ})(),SubscribeUserStatus=$root$1.SubscribeUserStatus=(()=>{function tQ(eQ){if(this.users=[],eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.users=$util$1.emptyArray,tQ.encode=function(eQ,AQ){if(AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),eQ.users!=null&&eQ.users.length)for(let iQ=0;iQ<eQ.users.length;++iQ)AQ.uint32(18).string(eQ.users[iQ]);return AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.SubscribeUserStatus;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.seq=eQ.uint64();break;case 2:oQ.users&&oQ.users.length||(oQ.users=[]),oQ.users.push(eQ.string());break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/SubscribeUserStatus"},tQ})(),UnsubscribeUserStatus=$root$1.UnsubscribeUserStatus=(()=>{function tQ(eQ){if(this.users=[],eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.users=$util$1.emptyArray,tQ.encode=function(eQ,AQ){if(AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),eQ.users!=null&&eQ.users.length)for(let iQ=0;iQ<eQ.users.length;++iQ)AQ.uint32(18).string(eQ.users[iQ]);return AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.UnsubscribeUserStatus;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.seq=eQ.uint64();break;case 2:oQ.users&&oQ.users.length||(oQ.users=[]),oQ.users.push(eQ.string());break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/UnsubscribeUserStatus"},tQ})(),UserJoinNotice=$root$1.UserJoinNotice=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.instance=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.user="",tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.instance!=null&&Object.hasOwnProperty.call(eQ,"instance")&&AQ.uint32(8).uint64(eQ.instance),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(16).uint64(eQ.seq),eQ.user!=null&&Object.hasOwnProperty.call(eQ,"user")&&AQ.uint32(26).string(eQ.user),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.UserJoinNotice;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.instance=eQ.uint64();break;case 2:oQ.seq=eQ.uint64();break;case 3:oQ.user=eQ.string();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/UserJoinNotice"},tQ})(),UserQuitNotice=$root$1.UserQuitNotice=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.instance=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.user="",tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.instance!=null&&Object.hasOwnProperty.call(eQ,"instance")&&AQ.uint32(8).uint64(eQ.instance),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(16).uint64(eQ.seq),eQ.user!=null&&Object.hasOwnProperty.call(eQ,"user")&&AQ.uint32(26).string(eQ.user),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.UserQuitNotice;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.instance=eQ.uint64();break;case 2:oQ.seq=eQ.uint64();break;case 3:oQ.user=eQ.string();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/UserQuitNotice"},tQ})(),UserWaitNotice=$root$1.UserWaitNotice=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.instance=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.user="",tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.instance!=null&&Object.hasOwnProperty.call(eQ,"instance")&&AQ.uint32(8).uint64(eQ.instance),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(16).uint64(eQ.seq),eQ.user!=null&&Object.hasOwnProperty.call(eQ,"user")&&AQ.uint32(26).string(eQ.user),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.UserWaitNotice;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.instance=eQ.uint64();break;case 2:oQ.seq=eQ.uint64();break;case 3:oQ.user=eQ.string();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/UserWaitNotice"},tQ})(),StateSubscribe=$root$1.StateSubscribe=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.target="",tQ.prototype.subTarget="",tQ.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.target!=null&&Object.hasOwnProperty.call(eQ,"target")&&AQ.uint32(10).string(eQ.target),eQ.subTarget!=null&&Object.hasOwnProperty.call(eQ,"subTarget")&&AQ.uint32(18).string(eQ.subTarget),eQ.sequence!=null&&Object.hasOwnProperty.call(eQ,"sequence")&&AQ.uint32(24).uint64(eQ.sequence),eQ.flags!=null&&Object.hasOwnProperty.call(eQ,"flags")&&AQ.uint32(32).uint64(eQ.flags),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.StateSubscribe;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.target=eQ.string();break;case 2:oQ.subTarget=eQ.string();break;case 3:oQ.sequence=eQ.uint64();break;case 4:oQ.flags=eQ.uint64();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/StateSubscribe"},tQ})(),StateUpdate=$root$1.StateUpdate=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.target="",tQ.prototype.subTarget="",tQ.prototype.allStates="",tQ.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.target!=null&&Object.hasOwnProperty.call(eQ,"target")&&AQ.uint32(10).string(eQ.target),eQ.subTarget!=null&&Object.hasOwnProperty.call(eQ,"subTarget")&&AQ.uint32(18).string(eQ.subTarget),eQ.allStates!=null&&Object.hasOwnProperty.call(eQ,"allStates")&&AQ.uint32(26).string(eQ.allStates),eQ.flags!=null&&Object.hasOwnProperty.call(eQ,"flags")&&AQ.uint32(32).uint64(eQ.flags),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.StateUpdate;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.target=eQ.string();break;case 2:oQ.subTarget=eQ.string();break;case 3:oQ.allStates=eQ.string();break;case 4:oQ.flags=eQ.uint64();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/StateUpdate"},tQ})(),StateSubscribeResult=$root$1.StateSubscribeResult=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.target="",tQ.prototype.subTarget="",tQ.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.code=0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.target!=null&&Object.hasOwnProperty.call(eQ,"target")&&AQ.uint32(10).string(eQ.target),eQ.subTarget!=null&&Object.hasOwnProperty.call(eQ,"subTarget")&&AQ.uint32(18).string(eQ.subTarget),eQ.sequence!=null&&Object.hasOwnProperty.call(eQ,"sequence")&&AQ.uint32(24).uint64(eQ.sequence),eQ.flags!=null&&Object.hasOwnProperty.call(eQ,"flags")&&AQ.uint32(32).uint64(eQ.flags),eQ.code!=null&&Object.hasOwnProperty.call(eQ,"code")&&AQ.uint32(40).uint32(eQ.code),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.StateSubscribeResult;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.target=eQ.string();break;case 2:oQ.subTarget=eQ.string();break;case 3:oQ.sequence=eQ.uint64();break;case 4:oQ.flags=eQ.uint64();break;case 5:oQ.code=eQ.uint32();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/StateSubscribeResult"},tQ})(),StateUnsubscribe=$root$1.StateUnsubscribe=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.target="",tQ.prototype.subTarget="",tQ.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.target!=null&&Object.hasOwnProperty.call(eQ,"target")&&AQ.uint32(10).string(eQ.target),eQ.subTarget!=null&&Object.hasOwnProperty.call(eQ,"subTarget")&&AQ.uint32(18).string(eQ.subTarget),eQ.sequence!=null&&Object.hasOwnProperty.call(eQ,"sequence")&&AQ.uint32(24).uint64(eQ.sequence),eQ.flags!=null&&Object.hasOwnProperty.call(eQ,"flags")&&AQ.uint32(32).uint64(eQ.flags),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.StateUnsubscribe;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.target=eQ.string();break;case 2:oQ.subTarget=eQ.string();break;case 3:oQ.sequence=eQ.uint64();break;case 4:oQ.flags=eQ.uint64();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/StateUnsubscribe"},tQ})(),StateSet=$root$1.StateSet=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.target="",tQ.prototype.author="",tQ.prototype.value="",tQ.prototype.lock="",tQ.prototype.requestUuid="",tQ.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.baseRevision=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.lockRev=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.target!=null&&Object.hasOwnProperty.call(eQ,"target")&&AQ.uint32(10).string(eQ.target),eQ.author!=null&&Object.hasOwnProperty.call(eQ,"author")&&AQ.uint32(18).string(eQ.author),eQ.value!=null&&Object.hasOwnProperty.call(eQ,"value")&&AQ.uint32(26).string(eQ.value),eQ.lock!=null&&Object.hasOwnProperty.call(eQ,"lock")&&AQ.uint32(34).string(eQ.lock),eQ.requestUuid!=null&&Object.hasOwnProperty.call(eQ,"requestUuid")&&AQ.uint32(42).string(eQ.requestUuid),eQ.sequence!=null&&Object.hasOwnProperty.call(eQ,"sequence")&&AQ.uint32(48).uint64(eQ.sequence),eQ.flags!=null&&Object.hasOwnProperty.call(eQ,"flags")&&AQ.uint32(56).uint64(eQ.flags),eQ.baseRevision!=null&&Object.hasOwnProperty.call(eQ,"baseRevision")&&AQ.uint32(64).uint64(eQ.baseRevision),eQ.lockRev!=null&&Object.hasOwnProperty.call(eQ,"lockRev")&&AQ.uint32(72).uint64(eQ.lockRev),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.StateSet;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.target=eQ.string();break;case 2:oQ.author=eQ.string();break;case 3:oQ.value=eQ.string();break;case 4:oQ.lock=eQ.string();break;case 5:oQ.requestUuid=eQ.string();break;case 6:oQ.sequence=eQ.uint64();break;case 7:oQ.flags=eQ.uint64();break;case 8:oQ.baseRevision=eQ.uint64();break;case 9:oQ.lockRev=eQ.uint64();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/StateSet"},tQ})(),StateModify=$root$1.StateModify=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.target="",tQ.prototype.author="",tQ.prototype.value="",tQ.prototype.lock="",tQ.prototype.requestUuid="",tQ.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.baseRevision=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.lockRev=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.target!=null&&Object.hasOwnProperty.call(eQ,"target")&&AQ.uint32(10).string(eQ.target),eQ.author!=null&&Object.hasOwnProperty.call(eQ,"author")&&AQ.uint32(18).string(eQ.author),eQ.value!=null&&Object.hasOwnProperty.call(eQ,"value")&&AQ.uint32(26).string(eQ.value),eQ.lock!=null&&Object.hasOwnProperty.call(eQ,"lock")&&AQ.uint32(34).string(eQ.lock),eQ.requestUuid!=null&&Object.hasOwnProperty.call(eQ,"requestUuid")&&AQ.uint32(42).string(eQ.requestUuid),eQ.sequence!=null&&Object.hasOwnProperty.call(eQ,"sequence")&&AQ.uint32(48).uint64(eQ.sequence),eQ.flags!=null&&Object.hasOwnProperty.call(eQ,"flags")&&AQ.uint32(56).uint64(eQ.flags),eQ.baseRevision!=null&&Object.hasOwnProperty.call(eQ,"baseRevision")&&AQ.uint32(64).uint64(eQ.baseRevision),eQ.lockRev!=null&&Object.hasOwnProperty.call(eQ,"lockRev")&&AQ.uint32(72).uint64(eQ.lockRev),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.StateModify;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.target=eQ.string();break;case 2:oQ.author=eQ.string();break;case 3:oQ.value=eQ.string();break;case 4:oQ.lock=eQ.string();break;case 5:oQ.requestUuid=eQ.string();break;case 6:oQ.sequence=eQ.uint64();break;case 7:oQ.flags=eQ.uint64();break;case 8:oQ.baseRevision=eQ.uint64();break;case 9:oQ.lockRev=eQ.uint64();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/StateModify"},tQ})(),StateRequestResult=$root$1.StateRequestResult=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.requestUuid="",tQ.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.code=0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.requestUuid!=null&&Object.hasOwnProperty.call(eQ,"requestUuid")&&AQ.uint32(10).string(eQ.requestUuid),eQ.sequence!=null&&Object.hasOwnProperty.call(eQ,"sequence")&&AQ.uint32(16).uint64(eQ.sequence),eQ.code!=null&&Object.hasOwnProperty.call(eQ,"code")&&AQ.uint32(24).uint32(eQ.code),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.StateRequestResult;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.requestUuid=eQ.string();break;case 2:oQ.sequence=eQ.uint64();break;case 3:oQ.code=eQ.uint32();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/StateRequestResult"},tQ})(),StateGet=$root$1.StateGet=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.target="",tQ.prototype.subTarget="",tQ.prototype.lock="",tQ.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.lockRev=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.target!=null&&Object.hasOwnProperty.call(eQ,"target")&&AQ.uint32(10).string(eQ.target),eQ.subTarget!=null&&Object.hasOwnProperty.call(eQ,"subTarget")&&AQ.uint32(18).string(eQ.subTarget),eQ.lock!=null&&Object.hasOwnProperty.call(eQ,"lock")&&AQ.uint32(26).string(eQ.lock),eQ.sequence!=null&&Object.hasOwnProperty.call(eQ,"sequence")&&AQ.uint32(32).uint64(eQ.sequence),eQ.flags!=null&&Object.hasOwnProperty.call(eQ,"flags")&&AQ.uint32(40).uint64(eQ.flags),eQ.lockRev!=null&&Object.hasOwnProperty.call(eQ,"lockRev")&&AQ.uint32(48).uint64(eQ.lockRev),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.StateGet;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.target=eQ.string();break;case 2:oQ.subTarget=eQ.string();break;case 3:oQ.lock=eQ.string();break;case 4:oQ.sequence=eQ.uint64();break;case 5:oQ.flags=eQ.uint64();break;case 6:oQ.lockRev=eQ.uint64();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/StateGet"},tQ})(),StateGetResult=$root$1.StateGetResult=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.target="",tQ.prototype.subTarget="",tQ.prototype.allStates="",tQ.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.code=0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.target!=null&&Object.hasOwnProperty.call(eQ,"target")&&AQ.uint32(10).string(eQ.target),eQ.subTarget!=null&&Object.hasOwnProperty.call(eQ,"subTarget")&&AQ.uint32(18).string(eQ.subTarget),eQ.allStates!=null&&Object.hasOwnProperty.call(eQ,"allStates")&&AQ.uint32(26).string(eQ.allStates),eQ.sequence!=null&&Object.hasOwnProperty.call(eQ,"sequence")&&AQ.uint32(32).uint64(eQ.sequence),eQ.flags!=null&&Object.hasOwnProperty.call(eQ,"flags")&&AQ.uint32(40).uint64(eQ.flags),eQ.code!=null&&Object.hasOwnProperty.call(eQ,"code")&&AQ.uint32(48).uint32(eQ.code),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.StateGetResult;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.target=eQ.string();break;case 2:oQ.subTarget=eQ.string();break;case 3:oQ.allStates=eQ.string();break;case 4:oQ.sequence=eQ.uint64();break;case 5:oQ.flags=eQ.uint64();break;case 6:oQ.code=eQ.uint32();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/StateGetResult"},tQ})(),StateLockAcquire=$root$1.StateLockAcquire=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.target="",tQ.prototype.lock="",tQ.prototype.requestUuid="",tQ.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.ttl=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.target!=null&&Object.hasOwnProperty.call(eQ,"target")&&AQ.uint32(10).string(eQ.target),eQ.lock!=null&&Object.hasOwnProperty.call(eQ,"lock")&&AQ.uint32(18).string(eQ.lock),eQ.requestUuid!=null&&Object.hasOwnProperty.call(eQ,"requestUuid")&&AQ.uint32(26).string(eQ.requestUuid),eQ.flags!=null&&Object.hasOwnProperty.call(eQ,"flags")&&AQ.uint32(32).uint64(eQ.flags),eQ.ttl!=null&&Object.hasOwnProperty.call(eQ,"ttl")&&AQ.uint32(40).uint64(eQ.ttl),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.StateLockAcquire;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.target=eQ.string();break;case 2:oQ.lock=eQ.string();break;case 3:oQ.requestUuid=eQ.string();break;case 4:oQ.flags=eQ.uint64();break;case 5:oQ.ttl=eQ.uint64();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/StateLockAcquire"},tQ})(),StateLockRelease=$root$1.StateLockRelease=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.target="",tQ.prototype.lock="",tQ.prototype.requestUuid="",tQ.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.target!=null&&Object.hasOwnProperty.call(eQ,"target")&&AQ.uint32(10).string(eQ.target),eQ.lock!=null&&Object.hasOwnProperty.call(eQ,"lock")&&AQ.uint32(18).string(eQ.lock),eQ.requestUuid!=null&&Object.hasOwnProperty.call(eQ,"requestUuid")&&AQ.uint32(26).string(eQ.requestUuid),eQ.flags!=null&&Object.hasOwnProperty.call(eQ,"flags")&&AQ.uint32(32).uint64(eQ.flags),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.StateLockRelease;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.target=eQ.string();break;case 2:oQ.lock=eQ.string();break;case 3:oQ.requestUuid=eQ.string();break;case 4:oQ.flags=eQ.uint64();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/StateLockRelease"},tQ})(),StateLockAcquireResult=$root$1.StateLockAcquireResult=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.target="",tQ.prototype.lock="",tQ.prototype.requestUuid="",tQ.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.lockRev=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.code=0,tQ.prototype.reason="",tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.target!=null&&Object.hasOwnProperty.call(eQ,"target")&&AQ.uint32(10).string(eQ.target),eQ.lock!=null&&Object.hasOwnProperty.call(eQ,"lock")&&AQ.uint32(18).string(eQ.lock),eQ.requestUuid!=null&&Object.hasOwnProperty.call(eQ,"requestUuid")&&AQ.uint32(26).string(eQ.requestUuid),eQ.flags!=null&&Object.hasOwnProperty.call(eQ,"flags")&&AQ.uint32(32).uint64(eQ.flags),eQ.lockRev!=null&&Object.hasOwnProperty.call(eQ,"lockRev")&&AQ.uint32(40).uint64(eQ.lockRev),eQ.code!=null&&Object.hasOwnProperty.call(eQ,"code")&&AQ.uint32(48).uint32(eQ.code),eQ.reason!=null&&Object.hasOwnProperty.call(eQ,"reason")&&AQ.uint32(58).string(eQ.reason),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.StateLockAcquireResult;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.target=eQ.string();break;case 2:oQ.lock=eQ.string();break;case 3:oQ.requestUuid=eQ.string();break;case 4:oQ.flags=eQ.uint64();break;case 5:oQ.lockRev=eQ.uint64();break;case 6:oQ.code=eQ.uint32();break;case 7:oQ.reason=eQ.string();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/StateLockAcquireResult"},tQ})(),StateLockUpdate=$root$1.StateLockUpdate=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.target="",tQ.prototype.lock="",tQ.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.code=0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.target!=null&&Object.hasOwnProperty.call(eQ,"target")&&AQ.uint32(10).string(eQ.target),eQ.lock!=null&&Object.hasOwnProperty.call(eQ,"lock")&&AQ.uint32(18).string(eQ.lock),eQ.flags!=null&&Object.hasOwnProperty.call(eQ,"flags")&&AQ.uint32(24).uint64(eQ.flags),eQ.code!=null&&Object.hasOwnProperty.call(eQ,"code")&&AQ.uint32(32).uint32(eQ.code),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.StateLockUpdate;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.target=eQ.string();break;case 2:oQ.lock=eQ.string();break;case 3:oQ.flags=eQ.uint64();break;case 4:oQ.code=eQ.uint32();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/StateLockUpdate"},tQ})(),StateLockReleaseResult=$root$1.StateLockReleaseResult=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.target="",tQ.prototype.lock="",tQ.prototype.requestUuid="",tQ.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.code=0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.target!=null&&Object.hasOwnProperty.call(eQ,"target")&&AQ.uint32(10).string(eQ.target),eQ.lock!=null&&Object.hasOwnProperty.call(eQ,"lock")&&AQ.uint32(18).string(eQ.lock),eQ.requestUuid!=null&&Object.hasOwnProperty.call(eQ,"requestUuid")&&AQ.uint32(26).string(eQ.requestUuid),eQ.flags!=null&&Object.hasOwnProperty.call(eQ,"flags")&&AQ.uint32(32).uint64(eQ.flags),eQ.code!=null&&Object.hasOwnProperty.call(eQ,"code")&&AQ.uint32(40).uint32(eQ.code),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.StateLockReleaseResult;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.target=eQ.string();break;case 2:oQ.lock=eQ.string();break;case 3:oQ.requestUuid=eQ.string();break;case 4:oQ.flags=eQ.uint64();break;case 5:oQ.code=eQ.uint32();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/StateLockReleaseResult"},tQ})(),StateLockDisable=$root$1.StateLockDisable=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.target="",tQ.prototype.lock="",tQ.prototype.userId="",tQ.prototype.requestUuid="",tQ.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.target!=null&&Object.hasOwnProperty.call(eQ,"target")&&AQ.uint32(10).string(eQ.target),eQ.lock!=null&&Object.hasOwnProperty.call(eQ,"lock")&&AQ.uint32(18).string(eQ.lock),eQ.userId!=null&&Object.hasOwnProperty.call(eQ,"userId")&&AQ.uint32(26).string(eQ.userId),eQ.requestUuid!=null&&Object.hasOwnProperty.call(eQ,"requestUuid")&&AQ.uint32(34).string(eQ.requestUuid),eQ.flags!=null&&Object.hasOwnProperty.call(eQ,"flags")&&AQ.uint32(40).uint64(eQ.flags),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.StateLockDisable;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.target=eQ.string();break;case 2:oQ.lock=eQ.string();break;case 3:oQ.userId=eQ.string();break;case 4:oQ.requestUuid=eQ.string();break;case 5:oQ.flags=eQ.uint64();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/StateLockDisable"},tQ})(),StateLockDisableResult=$root$1.StateLockDisableResult=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.target="",tQ.prototype.lock="",tQ.prototype.requestUuid="",tQ.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.code=0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.target!=null&&Object.hasOwnProperty.call(eQ,"target")&&AQ.uint32(10).string(eQ.target),eQ.lock!=null&&Object.hasOwnProperty.call(eQ,"lock")&&AQ.uint32(18).string(eQ.lock),eQ.requestUuid!=null&&Object.hasOwnProperty.call(eQ,"requestUuid")&&AQ.uint32(26).string(eQ.requestUuid),eQ.flags!=null&&Object.hasOwnProperty.call(eQ,"flags")&&AQ.uint32(32).uint64(eQ.flags),eQ.code!=null&&Object.hasOwnProperty.call(eQ,"code")&&AQ.uint32(40).uint32(eQ.code),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.StateLockDisableResult;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.target=eQ.string();break;case 2:oQ.lock=eQ.string();break;case 3:oQ.requestUuid=eQ.string();break;case 4:oQ.flags=eQ.uint64();break;case 5:oQ.code=eQ.uint32();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/StateLockDisableResult"},tQ})(),StateLockSubscribe=$root$1.StateLockSubscribe=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.target="",tQ.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.target!=null&&Object.hasOwnProperty.call(eQ,"target")&&AQ.uint32(10).string(eQ.target),eQ.sequence!=null&&Object.hasOwnProperty.call(eQ,"sequence")&&AQ.uint32(16).uint64(eQ.sequence),eQ.flags!=null&&Object.hasOwnProperty.call(eQ,"flags")&&AQ.uint32(24).uint64(eQ.flags),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.StateLockSubscribe;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.target=eQ.string();break;case 2:oQ.sequence=eQ.uint64();break;case 3:oQ.flags=eQ.uint64();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/StateLockSubscribe"},tQ})(),StateLockSubscribeResult=$root$1.StateLockSubscribeResult=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.target="",tQ.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.code=0,tQ.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.target!=null&&Object.hasOwnProperty.call(eQ,"target")&&AQ.uint32(10).string(eQ.target),eQ.sequence!=null&&Object.hasOwnProperty.call(eQ,"sequence")&&AQ.uint32(16).uint64(eQ.sequence),eQ.code!=null&&Object.hasOwnProperty.call(eQ,"code")&&AQ.uint32(24).uint32(eQ.code),eQ.flags!=null&&Object.hasOwnProperty.call(eQ,"flags")&&AQ.uint32(32).uint64(eQ.flags),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.StateLockSubscribeResult;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.target=eQ.string();break;case 2:oQ.sequence=eQ.uint64();break;case 3:oQ.code=eQ.uint32();break;case 4:oQ.flags=eQ.uint64();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/StateLockSubscribeResult"},tQ})(),LockState=$root$1.LockState=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.lockName="",tQ.prototype.lockState="",tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.lockName!=null&&Object.hasOwnProperty.call(eQ,"lockName")&&AQ.uint32(10).string(eQ.lockName),eQ.lockState!=null&&Object.hasOwnProperty.call(eQ,"lockState")&&AQ.uint32(18).string(eQ.lockState),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.LockState;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.lockName=eQ.string();break;case 2:oQ.lockState=eQ.string();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/LockState"},tQ})(),StateLockSubscribeEvent=$root$1.StateLockSubscribeEvent=(()=>{function tQ(eQ){if(this.lockStates=[],eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.target="",tQ.prototype.lockStates=$util$1.emptyArray,tQ.prototype.eventType=0,tQ.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.encode=function(eQ,AQ){if(AQ||(AQ=$Writer$1.create()),eQ.target!=null&&Object.hasOwnProperty.call(eQ,"target")&&AQ.uint32(10).string(eQ.target),eQ.lockStates!=null&&eQ.lockStates.length)for(let iQ=0;iQ<eQ.lockStates.length;++iQ)$root$1.LockState.encode(eQ.lockStates[iQ],AQ.uint32(18).fork()).ldelim();return eQ.eventType!=null&&Object.hasOwnProperty.call(eQ,"eventType")&&AQ.uint32(24).int32(eQ.eventType),eQ.flags!=null&&Object.hasOwnProperty.call(eQ,"flags")&&AQ.uint32(32).uint64(eQ.flags),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.StateLockSubscribeEvent;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.target=eQ.string();break;case 2:oQ.lockStates&&oQ.lockStates.length||(oQ.lockStates=[]),oQ.lockStates.push($root$1.LockState.decode(eQ,eQ.uint32()));break;case 3:oQ.eventType=eQ.int32();break;case 4:oQ.flags=eQ.uint64();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/StateLockSubscribeEvent"},tQ})(),StateLockUnsubscribe=$root$1.StateLockUnsubscribe=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.target="",tQ.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.target!=null&&Object.hasOwnProperty.call(eQ,"target")&&AQ.uint32(10).string(eQ.target),eQ.sequence!=null&&Object.hasOwnProperty.call(eQ,"sequence")&&AQ.uint32(16).uint64(eQ.sequence),eQ.flags!=null&&Object.hasOwnProperty.call(eQ,"flags")&&AQ.uint32(24).uint64(eQ.flags),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.StateLockUnsubscribe;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.target=eQ.string();break;case 2:oQ.sequence=eQ.uint64();break;case 3:oQ.flags=eQ.uint64();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/StateLockUnsubscribe"},tQ})(),StateLockCreate=$root$1.StateLockCreate=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.target="",tQ.prototype.lock="",tQ.prototype.ttl=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.requestUuid="",tQ.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.target!=null&&Object.hasOwnProperty.call(eQ,"target")&&AQ.uint32(10).string(eQ.target),eQ.lock!=null&&Object.hasOwnProperty.call(eQ,"lock")&&AQ.uint32(18).string(eQ.lock),eQ.ttl!=null&&Object.hasOwnProperty.call(eQ,"ttl")&&AQ.uint32(24).uint64(eQ.ttl),eQ.requestUuid!=null&&Object.hasOwnProperty.call(eQ,"requestUuid")&&AQ.uint32(34).string(eQ.requestUuid),eQ.flags!=null&&Object.hasOwnProperty.call(eQ,"flags")&&AQ.uint32(40).uint64(eQ.flags),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.StateLockCreate;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.target=eQ.string();break;case 2:oQ.lock=eQ.string();break;case 3:oQ.ttl=eQ.uint64();break;case 4:oQ.requestUuid=eQ.string();break;case 5:oQ.flags=eQ.uint64();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/StateLockCreate"},tQ})(),StateLockCreateResult=$root$1.StateLockCreateResult=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.target="",tQ.prototype.lock="",tQ.prototype.code=0,tQ.prototype.requestUuid="",tQ.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.target!=null&&Object.hasOwnProperty.call(eQ,"target")&&AQ.uint32(10).string(eQ.target),eQ.lock!=null&&Object.hasOwnProperty.call(eQ,"lock")&&AQ.uint32(18).string(eQ.lock),eQ.code!=null&&Object.hasOwnProperty.call(eQ,"code")&&AQ.uint32(24).uint32(eQ.code),eQ.requestUuid!=null&&Object.hasOwnProperty.call(eQ,"requestUuid")&&AQ.uint32(34).string(eQ.requestUuid),eQ.flags!=null&&Object.hasOwnProperty.call(eQ,"flags")&&AQ.uint32(40).uint64(eQ.flags),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.StateLockCreateResult;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.target=eQ.string();break;case 2:oQ.lock=eQ.string();break;case 3:oQ.code=eQ.uint32();break;case 4:oQ.requestUuid=eQ.string();break;case 5:oQ.flags=eQ.uint64();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/StateLockCreateResult"},tQ})(),StateLockDelete=$root$1.StateLockDelete=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.target="",tQ.prototype.lock="",tQ.prototype.requestUuid="",tQ.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.target!=null&&Object.hasOwnProperty.call(eQ,"target")&&AQ.uint32(10).string(eQ.target),eQ.lock!=null&&Object.hasOwnProperty.call(eQ,"lock")&&AQ.uint32(18).string(eQ.lock),eQ.requestUuid!=null&&Object.hasOwnProperty.call(eQ,"requestUuid")&&AQ.uint32(26).string(eQ.requestUuid),eQ.flags!=null&&Object.hasOwnProperty.call(eQ,"flags")&&AQ.uint32(32).uint64(eQ.flags),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.StateLockDelete;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.target=eQ.string();break;case 2:oQ.lock=eQ.string();break;case 3:oQ.requestUuid=eQ.string();break;case 4:oQ.flags=eQ.uint64();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/StateLockDelete"},tQ})(),StateLockDeleteResult=$root$1.StateLockDeleteResult=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.target="",tQ.prototype.lock="",tQ.prototype.code=0,tQ.prototype.requestUuid="",tQ.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.target!=null&&Object.hasOwnProperty.call(eQ,"target")&&AQ.uint32(10).string(eQ.target),eQ.lock!=null&&Object.hasOwnProperty.call(eQ,"lock")&&AQ.uint32(18).string(eQ.lock),eQ.code!=null&&Object.hasOwnProperty.call(eQ,"code")&&AQ.uint32(24).uint32(eQ.code),eQ.requestUuid!=null&&Object.hasOwnProperty.call(eQ,"requestUuid")&&AQ.uint32(34).string(eQ.requestUuid),eQ.flags!=null&&Object.hasOwnProperty.call(eQ,"flags")&&AQ.uint32(40).uint64(eQ.flags),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.StateLockDeleteResult;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.target=eQ.string();break;case 2:oQ.lock=eQ.string();break;case 3:oQ.code=eQ.uint32();break;case 4:oQ.requestUuid=eQ.string();break;case 5:oQ.flags=eQ.uint64();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/StateLockDeleteResult"},tQ})(),StateLockList=$root$1.StateLockList=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.target="",tQ.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.target!=null&&Object.hasOwnProperty.call(eQ,"target")&&AQ.uint32(10).string(eQ.target),eQ.sequence!=null&&Object.hasOwnProperty.call(eQ,"sequence")&&AQ.uint32(16).uint64(eQ.sequence),eQ.flags!=null&&Object.hasOwnProperty.call(eQ,"flags")&&AQ.uint32(24).uint64(eQ.flags),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.StateLockList;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.target=eQ.string();break;case 2:oQ.sequence=eQ.uint64();break;case 3:oQ.flags=eQ.uint64();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/StateLockList"},tQ})(),StateLockListResult=$root$1.StateLockListResult=(()=>{function tQ(eQ){if(this.lockStates=[],eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.target="",tQ.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.code=0,tQ.prototype.lockStates=$util$1.emptyArray,tQ.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.encode=function(eQ,AQ){if(AQ||(AQ=$Writer$1.create()),eQ.target!=null&&Object.hasOwnProperty.call(eQ,"target")&&AQ.uint32(10).string(eQ.target),eQ.sequence!=null&&Object.hasOwnProperty.call(eQ,"sequence")&&AQ.uint32(16).uint64(eQ.sequence),eQ.code!=null&&Object.hasOwnProperty.call(eQ,"code")&&AQ.uint32(24).uint32(eQ.code),eQ.lockStates!=null&&eQ.lockStates.length)for(let iQ=0;iQ<eQ.lockStates.length;++iQ)$root$1.LockState.encode(eQ.lockStates[iQ],AQ.uint32(34).fork()).ldelim();return eQ.flags!=null&&Object.hasOwnProperty.call(eQ,"flags")&&AQ.uint32(40).uint64(eQ.flags),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.StateLockListResult;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.target=eQ.string();break;case 2:oQ.sequence=eQ.uint64();break;case 3:oQ.code=eQ.uint32();break;case 4:oQ.lockStates&&oQ.lockStates.length||(oQ.lockStates=[]),oQ.lockStates.push($root$1.LockState.decode(eQ,eQ.uint32()));break;case 5:oQ.flags=eQ.uint64();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/StateLockListResult"},tQ})(),SyncInit=$root$1.SyncInit=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.SyncInit;for(;eQ.pos<iQ;){let rQ=eQ.uint32();rQ>>>3==1?oQ.seq=eQ.uint64():eQ.skipType(7&rQ)}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/SyncInit"},tQ})(),SyncInit2=$root$1.SyncInit2=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.SyncInit2;for(;eQ.pos<iQ;){let rQ=eQ.uint32();rQ>>>3==1?oQ.seq=eQ.uint64():eQ.skipType(7&rQ)}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/SyncInit2"},tQ})(),SyncInitAck=$root$1.SyncInitAck=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.code=0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),eQ.code!=null&&Object.hasOwnProperty.call(eQ,"code")&&AQ.uint32(16).uint32(eQ.code),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.SyncInitAck;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.seq=eQ.uint64();break;case 2:oQ.code=eQ.uint32();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/SyncInitAck"},tQ})(),SyncFin=$root$1.SyncFin=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.code=0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.code!=null&&Object.hasOwnProperty.call(eQ,"code")&&AQ.uint32(8).uint32(eQ.code),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.SyncFin;for(;eQ.pos<iQ;){let rQ=eQ.uint32();rQ>>>3==1?oQ.code=eQ.uint32():eQ.skipType(7&rQ)}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/SyncFin"},tQ})(),SubscribeResponse=$root$1.SubscribeResponse=(()=>{function tQ(eQ){if(this.errors=[],eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.errors=$util$1.emptyArray,tQ.encode=function(eQ,AQ){if(AQ||(AQ=$Writer$1.create()),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(8).uint64(eQ.seq),eQ.errors!=null&&eQ.errors.length)for(let iQ=0;iQ<eQ.errors.length;++iQ)$root$1.SubscribeResponse.SubscribeErrorsType.encode(eQ.errors[iQ],AQ.uint32(18).fork()).ldelim();return AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.SubscribeResponse;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.seq=eQ.uint64();break;case 2:oQ.errors&&oQ.errors.length||(oQ.errors=[]),oQ.errors.push($root$1.SubscribeResponse.SubscribeErrorsType.decode(eQ,eQ.uint32()));break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/SubscribeResponse"},tQ.SubscribeErrorsType=function(){function eQ(AQ){if(AQ)for(let iQ=Object.keys(AQ),oQ=0;oQ<iQ.length;++oQ)AQ[iQ[oQ]]!=null&&(this[iQ[oQ]]=AQ[iQ[oQ]])}return eQ.prototype.account="",eQ.prototype.code=0,eQ.encode=function(AQ,iQ){return iQ||(iQ=$Writer$1.create()),AQ.account!=null&&Object.hasOwnProperty.call(AQ,"account")&&iQ.uint32(10).string(AQ.account),AQ.code!=null&&Object.hasOwnProperty.call(AQ,"code")&&iQ.uint32(16).uint32(AQ.code),iQ},eQ.decode=function(AQ,iQ){AQ instanceof $Reader||(AQ=$Reader.create(AQ));let oQ=iQ===void 0?AQ.len:AQ.pos+iQ,rQ=new $root$1.SubscribeResponse.SubscribeErrorsType;for(;AQ.pos<oQ;){let nQ=AQ.uint32();switch(nQ>>>3){case 1:rQ.account=AQ.string();break;case 2:rQ.code=AQ.uint32();break;default:AQ.skipType(7&nQ)}}return rQ},eQ.getTypeUrl=function(AQ){return AQ===void 0&&(AQ="type.googleapis.com"),AQ+"/SubscribeResponse.SubscribeErrorsType"},eQ}(),tQ})(),StateHistoryGet2=$root$1.StateHistoryGet2=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.uuid="",tQ.prototype.startTime=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.endTime=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.dst="",tQ.prototype.count=0,tQ.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer$1.create()),eQ.uuid!=null&&Object.hasOwnProperty.call(eQ,"uuid")&&AQ.uint32(10).string(eQ.uuid),eQ.startTime!=null&&Object.hasOwnProperty.call(eQ,"startTime")&&AQ.uint32(16).uint64(eQ.startTime),eQ.endTime!=null&&Object.hasOwnProperty.call(eQ,"endTime")&&AQ.uint32(24).uint64(eQ.endTime),eQ.dst!=null&&Object.hasOwnProperty.call(eQ,"dst")&&AQ.uint32(34).string(eQ.dst),eQ.count!=null&&Object.hasOwnProperty.call(eQ,"count")&&AQ.uint32(40).uint32(eQ.count),eQ.flags!=null&&Object.hasOwnProperty.call(eQ,"flags")&&AQ.uint32(48).uint64(eQ.flags),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.StateHistoryGet2;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.uuid=eQ.string();break;case 2:oQ.startTime=eQ.uint64();break;case 3:oQ.endTime=eQ.uint64();break;case 4:oQ.dst=eQ.string();break;case 5:oQ.count=eQ.uint32();break;case 6:oQ.flags=eQ.uint64();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/StateHistoryGet2"},tQ})(),HistoryRecord2=$root$1.HistoryRecord2=(()=>{function tQ(eQ){if(this.details={},eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.src="",tQ.prototype.payload=$util$1.newBuffer([]),tQ.prototype.options=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.ms=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.details=$util$1.emptyObject,tQ.encode=function(eQ,AQ){if(AQ||(AQ=$Writer$1.create()),eQ.src!=null&&Object.hasOwnProperty.call(eQ,"src")&&AQ.uint32(10).string(eQ.src),eQ.payload!=null&&Object.hasOwnProperty.call(eQ,"payload")&&AQ.uint32(18).bytes(eQ.payload),eQ.options!=null&&Object.hasOwnProperty.call(eQ,"options")&&AQ.uint32(24).uint64(eQ.options),eQ.ms!=null&&Object.hasOwnProperty.call(eQ,"ms")&&AQ.uint32(32).uint64(eQ.ms),eQ.details!=null&&Object.hasOwnProperty.call(eQ,"details"))for(let iQ=Object.keys(eQ.details),oQ=0;oQ<iQ.length;++oQ)AQ.uint32(42).fork().uint32(10).string(iQ[oQ]).uint32(18).bytes(eQ.details[iQ[oQ]]).ldelim();return AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ,oQ,rQ=AQ===void 0?eQ.len:eQ.pos+AQ,nQ=new $root$1.HistoryRecord2;for(;eQ.pos<rQ;){let sQ=eQ.uint32();switch(sQ>>>3){case 1:nQ.src=eQ.string();break;case 2:nQ.payload=eQ.bytes();break;case 3:nQ.options=eQ.uint64();break;case 4:nQ.ms=eQ.uint64();break;case 5:{nQ.details===$util$1.emptyObject&&(nQ.details={});let aQ=eQ.uint32()+eQ.pos;for(iQ="",oQ=[];eQ.pos<aQ;){let cQ=eQ.uint32();switch(cQ>>>3){case 1:iQ=eQ.string();break;case 2:oQ=eQ.bytes();break;default:eQ.skipType(7&cQ)}}nQ.details[iQ]=oQ;break}default:eQ.skipType(7&sQ)}}return nQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/HistoryRecord2"},tQ})(),StateHistoryGetResult2=$root$1.StateHistoryGetResult2=(()=>{function tQ(eQ){if(this.messages=[],eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.uuid="",tQ.prototype.startTime=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.endTime=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.dst="",tQ.prototype.messages=$util$1.emptyArray,tQ.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.code=0,tQ.prototype.more=!1,tQ.prototype.latestTime=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.prototype.oldestTime=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,tQ.encode=function(eQ,AQ){if(AQ||(AQ=$Writer$1.create()),eQ.uuid!=null&&Object.hasOwnProperty.call(eQ,"uuid")&&AQ.uint32(10).string(eQ.uuid),eQ.startTime!=null&&Object.hasOwnProperty.call(eQ,"startTime")&&AQ.uint32(16).uint64(eQ.startTime),eQ.endTime!=null&&Object.hasOwnProperty.call(eQ,"endTime")&&AQ.uint32(24).uint64(eQ.endTime),eQ.dst!=null&&Object.hasOwnProperty.call(eQ,"dst")&&AQ.uint32(34).string(eQ.dst),eQ.messages!=null&&eQ.messages.length)for(let iQ=0;iQ<eQ.messages.length;++iQ)$root$1.HistoryRecord2.encode(eQ.messages[iQ],AQ.uint32(42).fork()).ldelim();return eQ.flags!=null&&Object.hasOwnProperty.call(eQ,"flags")&&AQ.uint32(48).uint64(eQ.flags),eQ.code!=null&&Object.hasOwnProperty.call(eQ,"code")&&AQ.uint32(56).uint32(eQ.code),eQ.more!=null&&Object.hasOwnProperty.call(eQ,"more")&&AQ.uint32(64).bool(eQ.more),eQ.latestTime!=null&&Object.hasOwnProperty.call(eQ,"latestTime")&&AQ.uint32(72).uint64(eQ.latestTime),eQ.oldestTime!=null&&Object.hasOwnProperty.call(eQ,"oldestTime")&&AQ.uint32(80).uint64(eQ.oldestTime),AQ},tQ.decode=function(eQ,AQ){eQ instanceof $Reader||(eQ=$Reader.create(eQ));let iQ=AQ===void 0?eQ.len:eQ.pos+AQ,oQ=new $root$1.StateHistoryGetResult2;for(;eQ.pos<iQ;){let rQ=eQ.uint32();switch(rQ>>>3){case 1:oQ.uuid=eQ.string();break;case 2:oQ.startTime=eQ.uint64();break;case 3:oQ.endTime=eQ.uint64();break;case 4:oQ.dst=eQ.string();break;case 5:oQ.messages&&oQ.messages.length||(oQ.messages=[]),oQ.messages.push($root$1.HistoryRecord2.decode(eQ,eQ.uint32()));break;case 6:oQ.flags=eQ.uint64();break;case 7:oQ.code=eQ.uint32();break;case 8:oQ.more=eQ.bool();break;case 9:oQ.latestTime=eQ.uint64();break;case 10:oQ.oldestTime=eQ.uint64();break;default:eQ.skipType(7&rQ)}}return oQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/StateHistoryGetResult2"},tQ})(),URI$1=$root$1.URI=(()=>{const tQ={},eQ=Object.create(tQ);return eQ[tQ[0]="Unknown"]=0,eQ[tQ[1]="PingUri"]=1,eQ[tQ[2]="PongUri"]=2,eQ[tQ[3]="Ping2Uri"]=3,eQ[tQ[4]="Ping3Uri"]=4,eQ[tQ[5]="Pong3Uri"]=5,eQ[tQ[11]="UserJoinUri"]=11,eQ[tQ[12]="UserRespUri"]=12,eQ[tQ[15]="UserTicketNearlyExpireUri"]=15,eQ[tQ[16]="UserRenewTokenReqUri"]=16,eQ[tQ[17]="UserRenewTokenRespUri"]=17,eQ[tQ[18]="UserJoin2Uri"]=18,eQ[tQ[19]="UserResp2Uri"]=19,eQ[tQ[21]="UserQuitUri"]=21,eQ[tQ[22]="UserDropUri"]=22,eQ[tQ[24]="UserQuit2Uri"]=24,eQ[tQ[31]="GroupEnterUri"]=31,eQ[tQ[32]="GroupLeaveUri"]=32,eQ[tQ[33]="GroupReplyUri"]=33,eQ[tQ[35]="GroupDropUri"]=35,eQ[tQ[230]="GroupLeave2Uri"]=230,eQ[tQ[36]="GroupEnterNoticeUri"]=36,eQ[tQ[37]="GroupLeaveNoticeUri"]=37,eQ[tQ[38]="GroupEventNoticeUri"]=38,eQ[tQ[39]="GroupCountNoticeUri"]=39,eQ[tQ[41]="UserStatusListUri"]=41,eQ[tQ[42]="UserStatusResultUri"]=42,eQ[tQ[51]="GroupStatusListUri"]=51,eQ[tQ[52]="GroupStatusResultUri"]=52,eQ[tQ[55]="GroupAllUsersListUri"]=55,eQ[tQ[56]="GroupAllUsersResultUri"]=56,eQ[tQ[100]="MessageUri"]=100,eQ[tQ[101]="AckUri"]=101,eQ[tQ[201]="UserJoinNoticeUri"]=201,eQ[tQ[202]="UserQuitNoticeUri"]=202,eQ[tQ[203]="UserWaitNoticeUri"]=203,eQ[tQ[301]="UserAttributeGetUri"]=301,eQ[tQ[302]="UserAttributeRetUri"]=302,eQ[tQ[303]="UserAttributeSetUri"]=303,eQ[tQ[304]="UserAttributeModUri"]=304,eQ[tQ[305]="UserAttributeDelUri"]=305,eQ[tQ[307]="UserAttributeRspUri"]=307,eQ[tQ[308]="UserAttributeErrUri"]=308,eQ[tQ[311]="UserAttributeKeysGetUri"]=311,eQ[tQ[312]="UserAttributeKeysRetUri"]=312,eQ[tQ[351]="GroupAttributeGetUri"]=351,eQ[tQ[352]="GroupAttributeRetUri"]=352,eQ[tQ[353]="GroupAttributeSetUri"]=353,eQ[tQ[354]="GroupAttributeModUri"]=354,eQ[tQ[355]="GroupAttributeDelUri"]=355,eQ[tQ[356]="GroupAttributeAltUri"]=356,eQ[tQ[357]="GroupAttributeRspUri"]=357,eQ[tQ[358]="GroupAttributeErrUri"]=358,eQ[tQ[361]="GroupAttributeKeysGetUri"]=361,eQ[tQ[362]="GroupAttributeKeysRetUri"]=362,eQ[tQ[401]="SubscribeUserStatusUri"]=401,eQ[tQ[402]="UnsubscribeUserStatusUri"]=402,eQ[tQ[499]="SubscribeResponseUri"]=499,eQ[tQ[601]="StateSubscribeUri"]=601,eQ[tQ[602]="StateUpdateUri"]=602,eQ[tQ[603]="StateSubscribeResultUri"]=603,eQ[tQ[604]="StateUnsubscribeUri"]=604,eQ[tQ[605]="StateSetUri"]=605,eQ[tQ[606]="StateModifyUri"]=606,eQ[tQ[607]="StateRequestResultUri"]=607,eQ[tQ[608]="StateGetUri"]=608,eQ[tQ[609]="StateGetResultUri"]=609,eQ[tQ[610]="StateLockAcquireUri"]=610,eQ[tQ[611]="StateLockReleaseUri"]=611,eQ[tQ[612]="StateLockAcquireResultUri"]=612,eQ[tQ[613]="StateLockUpdateUri"]=613,eQ[tQ[614]="StateLockReleaseResultUri"]=614,eQ[tQ[615]="StateLockDisableUri"]=615,eQ[tQ[616]="StateLockDisableResultUri"]=616,eQ[tQ[617]="StateLockSubscribeUri"]=617,eQ[tQ[618]="StateLockSubscribeResultUri"]=618,eQ[tQ[619]="StateLockSubscribeEventUri"]=619,eQ[tQ[620]="StateLockUnsubscribeUri"]=620,eQ[tQ[621]="StateLockCreateUri"]=621,eQ[tQ[622]="StateLockCreateResultUri"]=622,eQ[tQ[623]="StateLockDeleteUri"]=623,eQ[tQ[624]="StateLockDeleteResultUri"]=624,eQ[tQ[625]="StateLockListUri"]=625,eQ[tQ[626]="StateLockListResultUri"]=626,eQ[tQ[750]="SyncPacketUri"]=750,eQ[tQ[751]="SyncInitUri"]=751,eQ[tQ[752]="SyncInitAckUri"]=752,eQ[tQ[753]="SyncFinUri"]=753,eQ[tQ[633]="StateHistoryGet2Uri"]=633,eQ[tQ[634]="StateHistoryGetResult2Uri"]=634,eQ[tQ[754]="SyncInit2Uri"]=754,eQ})(),UserJoinDetailKey=$root$1.UserJoinDetailKey=(()=>{const tQ={},eQ=Object.create(tQ);return eQ[tQ[0]="kDetailKeyUnused"]=0,eQ[tQ[1]="kDetailKeyVendorConfig"]=1,eQ[tQ[2]="kDetailKeyKeepAliveInterval"]=2,eQ[tQ[3]="kDetailKeyEnabledSync"]=3,eQ})(),LockEventType=$root$1.LockEventType=(()=>{const tQ={},eQ=Object.create(tQ);return eQ[tQ[0]="LockUnknown"]=0,eQ[tQ[1]="LockAdded"]=1,eQ[tQ[2]="LockModified"]=2,eQ[tQ[3]="LockRemoved"]=3,eQ[tQ[4]="LockSnapshot"]=4,eQ})();var ProtoPackets$1=Object.freeze({__proto__:null,Ack,GroupAllUsersList,GroupAllUsersResult,GroupAttributeAlt,GroupAttributeDel,GroupAttributeErr,GroupAttributeGet,GroupAttributeKeysGet,GroupAttributeKeysRet,GroupAttributeMod,GroupAttributeRet,GroupAttributeRsp,GroupAttributeSet,GroupCountNotice,GroupDrop,GroupEnter,GroupEnterNotice,GroupLeave,GroupLeave2,GroupLeaveNotice,GroupReply,GroupStatusList,GroupStatusResult,HistoryRecord2,LockEventType,LockState,Message,Ping,Ping2,Ping3,Pong,Pong3,StateGet,StateGetResult,StateHistoryGet2,StateHistoryGetResult2,StateLockAcquire,StateLockAcquireResult,StateLockCreate,StateLockCreateResult,StateLockDelete,StateLockDeleteResult,StateLockDisable,StateLockDisableResult,StateLockList,StateLockListResult,StateLockRelease,StateLockReleaseResult,StateLockSubscribe,StateLockSubscribeEvent,StateLockSubscribeResult,StateLockUnsubscribe,StateLockUpdate,StateModify,StateRequestResult,StateSet,StateSubscribe,StateSubscribeResult,StateUnsubscribe,StateUpdate,SubscribeResponse,SubscribeUserStatus,SyncFin,SyncInit,SyncInit2,SyncInitAck,URI:URI$1,UnsubscribeUserStatus,UserAttributeDel,UserAttributeErr,UserAttributeGet,UserAttributeKeysGet,UserAttributeKeysRet,UserAttributeMod,UserAttributeRet,UserAttributeRsp,UserAttributeSet,UserDrop,UserJoin,UserJoin2,UserJoinDetailKey,UserJoinNotice,UserQuit,UserQuit2,UserQuitNotice,UserRenewTokenReq,UserRenewTokenResp,UserResp,UserResp2,UserStatusList,UserStatusResult,UserTicketNearlyExpire,UserWaitNotice,Wrapper:Wrapper$1,default:$root$1});const{URI}=$root$1,{Wrapper}=ProtoPackets$1,PacketsAndURI=_objectWithoutProperties(ProtoPackets$1,["Wrapper"]),Packets=omit$1(PacketsAndURI,"URI","LockEventType","UserJoinDetailKey"),nameToUri=tQ=>{const eQ="".concat(tQ,"Uri"),AQ=URI[eQ];if(typeof AQ!="number"||AQ===0)throw new TypeError("Got Unknown URI Name");return AQ};function uriToPacketName(tQ){return URI[tQ].slice(0,-3)}function getWrappedByName(tQ,eQ){const AQ=nameToUri(tQ),iQ=Packets[tQ],oQ=new iQ(eQ),rQ=iQ.encode(oQ).finish();return new Wrapper({uri:AQ,data:rQ})}function getSyncWrapped(tQ){return new Wrapper({uri:URI.SyncPacketUri,data:tQ})}const AP_DOMAINS_NEW=["web-1.ap.sd-rtn.com","web-2.ap.sd-rtn.com"],AP_DOMAINS_IO=["ap-web-1.agora.io","ap-web-2.agora.io"],AP_DOMAINS_IPV6=["ap-web-1.agora.io","ap-web-2.agora.io"],AP_BACKUP_DOMAINS_NEW=["web-3.ap.sd-rtn.com","web-4.ap.sd-rtn.com"],AP_BACKUP_DOMAINS_IO=["ap-web-3.agora.io","ap-web-4.agora.io"],getApUrl=tQ=>{var eQ;const AQ=getParameter("AP_DOMAIN"),iQ=isValidEnvString(AQ),oQ=getPrivateSettingsPortAndDomains([tQ]),rQ=oQ.port,nQ=oQ.hostname[0];return"https://".concat(iQ?AQ:nQ).concat(rQ?":".concat(rQ):"").concat((eQ=window.testPath)!==null&&eQ!==void 0?eQ:"/api/v1")};function getEdgeDomain(tQ,eQ,AQ){var iQ;const oQ=isValidEnvString(getParameter("EDGE_DOMAIN_TLD")),rQ=AQ&&AQ[0],nQ=AQ&&AQ[1];return"".concat(tQ.split(".").join("-"),".edge.").concat(oQ?getParameter("EDGE_DOMAIN_TLD"):eQ?(iQ=nQ??rQ)!==null&&iQ!==void 0?iQ:"sd-rtn.com":rQ??"agora.io")}const $Writer=minimal_1.Writer,$util=minimal_1.util,$root=minimal_1.roots.default||(minimal_1.roots.default={}),Session=$root.Session=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.sid="",tQ.prototype.userId="",tQ.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.appId="",tQ.prototype.ver="",tQ.prototype.buildno=0,tQ.prototype.installId="",tQ.prototype.os=0,tQ.prototype.did="",tQ.prototype.index=null,tQ.prototype.token="",tQ.prototype.version=0,tQ.prototype.subVersion=0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer.create()),eQ.sid!=null&&Object.hasOwnProperty.call(eQ,"sid")&&AQ.uint32(10).string(eQ.sid),eQ.userId!=null&&Object.hasOwnProperty.call(eQ,"userId")&&AQ.uint32(18).string(eQ.userId),eQ.lts!=null&&Object.hasOwnProperty.call(eQ,"lts")&&AQ.uint32(24).int64(eQ.lts),eQ.elapse!=null&&Object.hasOwnProperty.call(eQ,"elapse")&&AQ.uint32(32).int64(eQ.elapse),eQ.appId!=null&&Object.hasOwnProperty.call(eQ,"appId")&&AQ.uint32(42).string(eQ.appId),eQ.ver!=null&&Object.hasOwnProperty.call(eQ,"ver")&&AQ.uint32(50).string(eQ.ver),eQ.buildno!=null&&Object.hasOwnProperty.call(eQ,"buildno")&&AQ.uint32(56).int32(eQ.buildno),eQ.installId!=null&&Object.hasOwnProperty.call(eQ,"installId")&&AQ.uint32(66).string(eQ.installId),eQ.os!=null&&Object.hasOwnProperty.call(eQ,"os")&&AQ.uint32(128).int32(eQ.os),eQ.did!=null&&Object.hasOwnProperty.call(eQ,"did")&&AQ.uint32(138).string(eQ.did),eQ.index!=null&&Object.hasOwnProperty.call(eQ,"index")&&$root.Session.CommonIndex.encode(eQ.index,AQ.uint32(162).fork()).ldelim(),eQ.token!=null&&Object.hasOwnProperty.call(eQ,"token")&&AQ.uint32(170).string(eQ.token),eQ.version!=null&&Object.hasOwnProperty.call(eQ,"version")&&AQ.uint32(176).int32(eQ.version),eQ.subVersion!=null&&Object.hasOwnProperty.call(eQ,"subVersion")&&AQ.uint32(184).int32(eQ.subVersion),AQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/Session"},tQ.CommonIndex=function(){function eQ(AQ){if(AQ)for(let iQ=Object.keys(AQ),oQ=0;oQ<iQ.length;++oQ)AQ[iQ[oQ]]!=null&&(this[iQ[oQ]]=AQ[iQ[oQ]])}return eQ.prototype.index1="",eQ.prototype.index2="",eQ.prototype.index3="",eQ.encode=function(AQ,iQ){return iQ||(iQ=$Writer.create()),AQ.index1!=null&&Object.hasOwnProperty.call(AQ,"index1")&&iQ.uint32(10).string(AQ.index1),AQ.index2!=null&&Object.hasOwnProperty.call(AQ,"index2")&&iQ.uint32(18).string(AQ.index2),AQ.index3!=null&&Object.hasOwnProperty.call(AQ,"index3")&&iQ.uint32(26).string(AQ.index3),iQ},eQ.getTypeUrl=function(AQ){return AQ===void 0&&(AQ="type.googleapis.com"),AQ+"/Session.CommonIndex"},eQ}(),tQ})(),ApEvent=$root.ApEvent=(()=>{function tQ(eQ){if(this.linkServerList=[],eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.sid="",tQ.prototype.userId="",tQ.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.apAddr="",tQ.prototype.linkServerList=$util.emptyArray,tQ.prototype.localWanIp="",tQ.prototype.errCode=0,tQ.prototype.serverErrCode=0,tQ.prototype.isp="",tQ.prototype.opId=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.envId=0,tQ.prototype.flag=0,tQ.prototype.area="",tQ.prototype.responseTime=0,tQ.prototype.apLinkType="",tQ.prototype.version=0,tQ.prototype.subVersion=0,tQ.prototype.connectionsequence=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.resultcount=0,tQ.prototype.validresultcount=0,tQ.prototype.newvalidresultcount=0,tQ.encode=function(eQ,AQ){if(AQ||(AQ=$Writer.create()),eQ.sid!=null&&Object.hasOwnProperty.call(eQ,"sid")&&AQ.uint32(10).string(eQ.sid),eQ.userId!=null&&Object.hasOwnProperty.call(eQ,"userId")&&AQ.uint32(18).string(eQ.userId),eQ.lts!=null&&Object.hasOwnProperty.call(eQ,"lts")&&AQ.uint32(24).int64(eQ.lts),eQ.elapse!=null&&Object.hasOwnProperty.call(eQ,"elapse")&&AQ.uint32(32).int64(eQ.elapse),eQ.apAddr!=null&&Object.hasOwnProperty.call(eQ,"apAddr")&&AQ.uint32(50).string(eQ.apAddr),eQ.linkServerList!=null&&eQ.linkServerList.length)for(let iQ=0;iQ<eQ.linkServerList.length;++iQ)AQ.uint32(58).string(eQ.linkServerList[iQ]);return eQ.localWanIp!=null&&Object.hasOwnProperty.call(eQ,"localWanIp")&&AQ.uint32(66).string(eQ.localWanIp),eQ.errCode!=null&&Object.hasOwnProperty.call(eQ,"errCode")&&AQ.uint32(72).int32(eQ.errCode),eQ.serverErrCode!=null&&Object.hasOwnProperty.call(eQ,"serverErrCode")&&AQ.uint32(80).int32(eQ.serverErrCode),eQ.isp!=null&&Object.hasOwnProperty.call(eQ,"isp")&&AQ.uint32(90).string(eQ.isp),eQ.opId!=null&&Object.hasOwnProperty.call(eQ,"opId")&&AQ.uint32(96).int64(eQ.opId),eQ.envId!=null&&Object.hasOwnProperty.call(eQ,"envId")&&AQ.uint32(104).int32(eQ.envId),eQ.flag!=null&&Object.hasOwnProperty.call(eQ,"flag")&&AQ.uint32(112).int32(eQ.flag),eQ.area!=null&&Object.hasOwnProperty.call(eQ,"area")&&AQ.uint32(122).string(eQ.area),eQ.responseTime!=null&&Object.hasOwnProperty.call(eQ,"responseTime")&&AQ.uint32(128).int32(eQ.responseTime),eQ.apLinkType!=null&&Object.hasOwnProperty.call(eQ,"apLinkType")&&AQ.uint32(138).string(eQ.apLinkType),eQ.version!=null&&Object.hasOwnProperty.call(eQ,"version")&&AQ.uint32(144).int32(eQ.version),eQ.subVersion!=null&&Object.hasOwnProperty.call(eQ,"subVersion")&&AQ.uint32(152).int32(eQ.subVersion),eQ.connectionsequence!=null&&Object.hasOwnProperty.call(eQ,"connectionsequence")&&AQ.uint32(160).int64(eQ.connectionsequence),eQ.resultcount!=null&&Object.hasOwnProperty.call(eQ,"resultcount")&&AQ.uint32(168).int32(eQ.resultcount),eQ.validresultcount!=null&&Object.hasOwnProperty.call(eQ,"validresultcount")&&AQ.uint32(176).int32(eQ.validresultcount),eQ.newvalidresultcount!=null&&Object.hasOwnProperty.call(eQ,"newvalidresultcount")&&AQ.uint32(184).int32(eQ.newvalidresultcount),AQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/ApEvent"},tQ})(),ApRequest=$root.ApRequest=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.sid="",tQ.prototype.userId="",tQ.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.apAddr="",tQ.prototype.opId=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.envId=0,tQ.prototype.flag=0,tQ.prototype.version=0,tQ.prototype.subVersion=0,tQ.prototype.connectionsequence=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.rtmapflag=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer.create()),eQ.sid!=null&&Object.hasOwnProperty.call(eQ,"sid")&&AQ.uint32(10).string(eQ.sid),eQ.userId!=null&&Object.hasOwnProperty.call(eQ,"userId")&&AQ.uint32(18).string(eQ.userId),eQ.lts!=null&&Object.hasOwnProperty.call(eQ,"lts")&&AQ.uint32(24).int64(eQ.lts),eQ.elapse!=null&&Object.hasOwnProperty.call(eQ,"elapse")&&AQ.uint32(32).int64(eQ.elapse),eQ.apAddr!=null&&Object.hasOwnProperty.call(eQ,"apAddr")&&AQ.uint32(42).string(eQ.apAddr),eQ.opId!=null&&Object.hasOwnProperty.call(eQ,"opId")&&AQ.uint32(48).int64(eQ.opId),eQ.envId!=null&&Object.hasOwnProperty.call(eQ,"envId")&&AQ.uint32(56).int32(eQ.envId),eQ.flag!=null&&Object.hasOwnProperty.call(eQ,"flag")&&AQ.uint32(64).int32(eQ.flag),eQ.version!=null&&Object.hasOwnProperty.call(eQ,"version")&&AQ.uint32(72).int32(eQ.version),eQ.subVersion!=null&&Object.hasOwnProperty.call(eQ,"subVersion")&&AQ.uint32(80).int32(eQ.subVersion),eQ.connectionsequence!=null&&Object.hasOwnProperty.call(eQ,"connectionsequence")&&AQ.uint32(88).int64(eQ.connectionsequence),eQ.rtmapflag!=null&&Object.hasOwnProperty.call(eQ,"rtmapflag")&&AQ.uint32(96).int64(eQ.rtmapflag),AQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/ApRequest"},tQ})(),LinkLoginRequest=$root.LinkLoginRequest=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.sid="",tQ.prototype.userId="",tQ.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.destServerIp="",tQ.prototype.linkId=0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer.create()),eQ.sid!=null&&Object.hasOwnProperty.call(eQ,"sid")&&AQ.uint32(10).string(eQ.sid),eQ.userId!=null&&Object.hasOwnProperty.call(eQ,"userId")&&AQ.uint32(18).string(eQ.userId),eQ.lts!=null&&Object.hasOwnProperty.call(eQ,"lts")&&AQ.uint32(24).int64(eQ.lts),eQ.elapse!=null&&Object.hasOwnProperty.call(eQ,"elapse")&&AQ.uint32(32).int64(eQ.elapse),eQ.destServerIp!=null&&Object.hasOwnProperty.call(eQ,"destServerIp")&&AQ.uint32(42).string(eQ.destServerIp),eQ.linkId!=null&&Object.hasOwnProperty.call(eQ,"linkId")&&AQ.uint32(48).int32(eQ.linkId),AQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/LinkLoginRequest"},tQ})(),Link=$root.Link=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.sid="",tQ.prototype.userId="",tQ.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.ec=0,tQ.prototype.sc=0,tQ.prototype.destServerIp="",tQ.prototype.ackedServerIp="",tQ.prototype.responseTime=0,tQ.prototype.version=0,tQ.prototype.subVersion=0,tQ.prototype.connectionsequence=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.linktype=0,tQ.prototype.linkflag=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.linkenv=0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer.create()),eQ.sid!=null&&Object.hasOwnProperty.call(eQ,"sid")&&AQ.uint32(10).string(eQ.sid),eQ.userId!=null&&Object.hasOwnProperty.call(eQ,"userId")&&AQ.uint32(18).string(eQ.userId),eQ.lts!=null&&Object.hasOwnProperty.call(eQ,"lts")&&AQ.uint32(24).int64(eQ.lts),eQ.elapse!=null&&Object.hasOwnProperty.call(eQ,"elapse")&&AQ.uint32(32).int64(eQ.elapse),eQ.ec!=null&&Object.hasOwnProperty.call(eQ,"ec")&&AQ.uint32(40).int32(eQ.ec),eQ.sc!=null&&Object.hasOwnProperty.call(eQ,"sc")&&AQ.uint32(48).int32(eQ.sc),eQ.destServerIp!=null&&Object.hasOwnProperty.call(eQ,"destServerIp")&&AQ.uint32(58).string(eQ.destServerIp),eQ.ackedServerIp!=null&&Object.hasOwnProperty.call(eQ,"ackedServerIp")&&AQ.uint32(66).string(eQ.ackedServerIp),eQ.responseTime!=null&&Object.hasOwnProperty.call(eQ,"responseTime")&&AQ.uint32(72).int32(eQ.responseTime),eQ.version!=null&&Object.hasOwnProperty.call(eQ,"version")&&AQ.uint32(80).int32(eQ.version),eQ.subVersion!=null&&Object.hasOwnProperty.call(eQ,"subVersion")&&AQ.uint32(88).int32(eQ.subVersion),eQ.connectionsequence!=null&&Object.hasOwnProperty.call(eQ,"connectionsequence")&&AQ.uint32(96).int64(eQ.connectionsequence),eQ.linktype!=null&&Object.hasOwnProperty.call(eQ,"linktype")&&AQ.uint32(104).int32(eQ.linktype),eQ.linkflag!=null&&Object.hasOwnProperty.call(eQ,"linkflag")&&AQ.uint32(112).int64(eQ.linkflag),eQ.linkenv!=null&&Object.hasOwnProperty.call(eQ,"linkenv")&&AQ.uint32(120).int32(eQ.linkenv),AQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/Link"},tQ})(),Logout=$root.Logout=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.sid="",tQ.prototype.userId="",tQ.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.version=0,tQ.prototype.subVersion=0,tQ.prototype.connectionsequence=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.linktype=0,tQ.prototype.linkflag=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.linkenv=0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer.create()),eQ.sid!=null&&Object.hasOwnProperty.call(eQ,"sid")&&AQ.uint32(10).string(eQ.sid),eQ.userId!=null&&Object.hasOwnProperty.call(eQ,"userId")&&AQ.uint32(18).string(eQ.userId),eQ.lts!=null&&Object.hasOwnProperty.call(eQ,"lts")&&AQ.uint32(24).int64(eQ.lts),eQ.elapse!=null&&Object.hasOwnProperty.call(eQ,"elapse")&&AQ.uint32(32).int64(eQ.elapse),eQ.version!=null&&Object.hasOwnProperty.call(eQ,"version")&&AQ.uint32(40).int32(eQ.version),eQ.subVersion!=null&&Object.hasOwnProperty.call(eQ,"subVersion")&&AQ.uint32(48).int32(eQ.subVersion),eQ.connectionsequence!=null&&Object.hasOwnProperty.call(eQ,"connectionsequence")&&AQ.uint32(56).int64(eQ.connectionsequence),eQ.linktype!=null&&Object.hasOwnProperty.call(eQ,"linktype")&&AQ.uint32(64).int32(eQ.linktype),eQ.linkflag!=null&&Object.hasOwnProperty.call(eQ,"linkflag")&&AQ.uint32(72).int64(eQ.linkflag),eQ.linkenv!=null&&Object.hasOwnProperty.call(eQ,"linkenv")&&AQ.uint32(80).int32(eQ.linkenv),AQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/Logout"},tQ})(),KickedOff=$root.KickedOff=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.sid="",tQ.prototype.userId="",tQ.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.linkId=0,tQ.prototype.code=0,tQ.prototype.server="",tQ.prototype.serverCode=0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer.create()),eQ.sid!=null&&Object.hasOwnProperty.call(eQ,"sid")&&AQ.uint32(10).string(eQ.sid),eQ.userId!=null&&Object.hasOwnProperty.call(eQ,"userId")&&AQ.uint32(18).string(eQ.userId),eQ.lts!=null&&Object.hasOwnProperty.call(eQ,"lts")&&AQ.uint32(24).int64(eQ.lts),eQ.elapse!=null&&Object.hasOwnProperty.call(eQ,"elapse")&&AQ.uint32(32).int64(eQ.elapse),eQ.linkId!=null&&Object.hasOwnProperty.call(eQ,"linkId")&&AQ.uint32(48).int32(eQ.linkId),eQ.code!=null&&Object.hasOwnProperty.call(eQ,"code")&&AQ.uint32(56).int32(eQ.code),eQ.server!=null&&Object.hasOwnProperty.call(eQ,"server")&&AQ.uint32(66).string(eQ.server),eQ.serverCode!=null&&Object.hasOwnProperty.call(eQ,"serverCode")&&AQ.uint32(72).int32(eQ.serverCode),AQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/KickedOff"},tQ})(),ChnJoin=$root.ChnJoin=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.sid="",tQ.prototype.userId="",tQ.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.cname="",tQ.prototype.errCode=0,tQ.prototype.seq=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.joinFlag=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer.create()),eQ.sid!=null&&Object.hasOwnProperty.call(eQ,"sid")&&AQ.uint32(10).string(eQ.sid),eQ.userId!=null&&Object.hasOwnProperty.call(eQ,"userId")&&AQ.uint32(18).string(eQ.userId),eQ.lts!=null&&Object.hasOwnProperty.call(eQ,"lts")&&AQ.uint32(24).int64(eQ.lts),eQ.elapse!=null&&Object.hasOwnProperty.call(eQ,"elapse")&&AQ.uint32(32).int64(eQ.elapse),eQ.cname!=null&&Object.hasOwnProperty.call(eQ,"cname")&&AQ.uint32(50).string(eQ.cname),eQ.errCode!=null&&Object.hasOwnProperty.call(eQ,"errCode")&&AQ.uint32(56).int32(eQ.errCode),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(64).int64(eQ.seq),eQ.joinFlag!=null&&Object.hasOwnProperty.call(eQ,"joinFlag")&&AQ.uint32(72).int64(eQ.joinFlag),AQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/ChnJoin"},tQ})(),ChnJoinRes=$root.ChnJoinRes=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.sid="",tQ.prototype.userId="",tQ.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.cname="",tQ.prototype.errCode=0,tQ.prototype.serverErrCode=0,tQ.prototype.seq=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer.create()),eQ.sid!=null&&Object.hasOwnProperty.call(eQ,"sid")&&AQ.uint32(10).string(eQ.sid),eQ.userId!=null&&Object.hasOwnProperty.call(eQ,"userId")&&AQ.uint32(18).string(eQ.userId),eQ.lts!=null&&Object.hasOwnProperty.call(eQ,"lts")&&AQ.uint32(24).int64(eQ.lts),eQ.elapse!=null&&Object.hasOwnProperty.call(eQ,"elapse")&&AQ.uint32(32).int64(eQ.elapse),eQ.cname!=null&&Object.hasOwnProperty.call(eQ,"cname")&&AQ.uint32(50).string(eQ.cname),eQ.errCode!=null&&Object.hasOwnProperty.call(eQ,"errCode")&&AQ.uint32(56).int32(eQ.errCode),eQ.serverErrCode!=null&&Object.hasOwnProperty.call(eQ,"serverErrCode")&&AQ.uint32(64).int32(eQ.serverErrCode),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(72).int64(eQ.seq),AQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/ChnJoinRes"},tQ})(),ChnLeave=$root.ChnLeave=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.sid="",tQ.prototype.userId="",tQ.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.cname="",tQ.prototype.errCode=0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer.create()),eQ.sid!=null&&Object.hasOwnProperty.call(eQ,"sid")&&AQ.uint32(10).string(eQ.sid),eQ.userId!=null&&Object.hasOwnProperty.call(eQ,"userId")&&AQ.uint32(18).string(eQ.userId),eQ.lts!=null&&Object.hasOwnProperty.call(eQ,"lts")&&AQ.uint32(24).int64(eQ.lts),eQ.elapse!=null&&Object.hasOwnProperty.call(eQ,"elapse")&&AQ.uint32(32).int64(eQ.elapse),eQ.cname!=null&&Object.hasOwnProperty.call(eQ,"cname")&&AQ.uint32(50).string(eQ.cname),eQ.errCode!=null&&Object.hasOwnProperty.call(eQ,"errCode")&&AQ.uint32(56).int32(eQ.errCode),AQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/ChnLeave"},tQ})(),ConnectionStateChange=$root.ConnectionStateChange=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.sid="",tQ.prototype.userId="",tQ.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.oldState=0,tQ.prototype.newState=0,tQ.prototype.reason=0,tQ.prototype.reconnId=0,tQ.prototype.version=0,tQ.prototype.subVersion=0,tQ.prototype.lastdonestep=0,tQ.prototype.failedstep=0,tQ.prototype.errorcode=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.servererrorcode=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.networkchangesequence=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.networkchangeelapse=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.statechangeelapse=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer.create()),eQ.sid!=null&&Object.hasOwnProperty.call(eQ,"sid")&&AQ.uint32(10).string(eQ.sid),eQ.userId!=null&&Object.hasOwnProperty.call(eQ,"userId")&&AQ.uint32(18).string(eQ.userId),eQ.lts!=null&&Object.hasOwnProperty.call(eQ,"lts")&&AQ.uint32(24).int64(eQ.lts),eQ.elapse!=null&&Object.hasOwnProperty.call(eQ,"elapse")&&AQ.uint32(32).int64(eQ.elapse),eQ.oldState!=null&&Object.hasOwnProperty.call(eQ,"oldState")&&AQ.uint32(40).int32(eQ.oldState),eQ.newState!=null&&Object.hasOwnProperty.call(eQ,"newState")&&AQ.uint32(48).int32(eQ.newState),eQ.reason!=null&&Object.hasOwnProperty.call(eQ,"reason")&&AQ.uint32(56).int32(eQ.reason),eQ.reconnId!=null&&Object.hasOwnProperty.call(eQ,"reconnId")&&AQ.uint32(64).int32(eQ.reconnId),eQ.version!=null&&Object.hasOwnProperty.call(eQ,"version")&&AQ.uint32(72).int32(eQ.version),eQ.subVersion!=null&&Object.hasOwnProperty.call(eQ,"subVersion")&&AQ.uint32(80).int32(eQ.subVersion),eQ.lastdonestep!=null&&Object.hasOwnProperty.call(eQ,"lastdonestep")&&AQ.uint32(88).int32(eQ.lastdonestep),eQ.failedstep!=null&&Object.hasOwnProperty.call(eQ,"failedstep")&&AQ.uint32(96).int32(eQ.failedstep),eQ.errorcode!=null&&Object.hasOwnProperty.call(eQ,"errorcode")&&AQ.uint32(104).int64(eQ.errorcode),eQ.servererrorcode!=null&&Object.hasOwnProperty.call(eQ,"servererrorcode")&&AQ.uint32(112).int64(eQ.servererrorcode),eQ.networkchangesequence!=null&&Object.hasOwnProperty.call(eQ,"networkchangesequence")&&AQ.uint32(120).int64(eQ.networkchangesequence),eQ.networkchangeelapse!=null&&Object.hasOwnProperty.call(eQ,"networkchangeelapse")&&AQ.uint32(128).int64(eQ.networkchangeelapse),eQ.statechangeelapse!=null&&Object.hasOwnProperty.call(eQ,"statechangeelapse")&&AQ.uint32(136).int64(eQ.statechangeelapse),AQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/ConnectionStateChange"},tQ})(),RtmSdkMessageCount=$root.RtmSdkMessageCount=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.sid="",tQ.prototype.messagecategory=0,tQ.prototype.reportsequence=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.sentcount=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.receivedcount=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.peerack10mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.peerack25mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.peerack50mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.peerack75mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.peerack100mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.peerack150mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.peerack200mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.peerack250mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.peerack300mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.peerack400mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.peerack500mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.peerack600mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.peerack800mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.peerack1000mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.peerack2000mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.peerack3000mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.peerack5000mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.peerack7000mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.peerackslowcount=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.norecipientack10mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.norecipientack25mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.norecipientack50mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.norecipientack75mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.norecipientack100mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.norecipientack150mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.norecipientack200mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.norecipientack250mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.norecipientack300mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.norecipientack400mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.norecipientack500mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.norecipientack600mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.norecipientack800mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.norecipientack1000mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.norecipientack2000mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.norecipientack3000mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.norecipientack5000mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.norecipientack7000mscount=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.norecipientackslowcount=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.acktimeoutcount=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.apimajorversion=0,tQ.prototype.apiminorversion=0,tQ.prototype.os=0,tQ.prototype.toooftencount=0,tQ.prototype.receiverofflinecount=0,tQ.prototype.invalidmessagecount=0,tQ.prototype.unknowerrorcount=0,tQ.prototype.servercachedcount=0,tQ.prototype.timeoutcount=0,tQ.prototype.successcount=0,tQ.prototype.userid="",tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer.create()),eQ.lts!=null&&Object.hasOwnProperty.call(eQ,"lts")&&AQ.uint32(8).int64(eQ.lts),eQ.vid!=null&&Object.hasOwnProperty.call(eQ,"vid")&&AQ.uint32(16).int64(eQ.vid),eQ.sid!=null&&Object.hasOwnProperty.call(eQ,"sid")&&AQ.uint32(26).string(eQ.sid),eQ.messagecategory!=null&&Object.hasOwnProperty.call(eQ,"messagecategory")&&AQ.uint32(32).int32(eQ.messagecategory),eQ.reportsequence!=null&&Object.hasOwnProperty.call(eQ,"reportsequence")&&AQ.uint32(40).int64(eQ.reportsequence),eQ.sentcount!=null&&Object.hasOwnProperty.call(eQ,"sentcount")&&AQ.uint32(48).int64(eQ.sentcount),eQ.receivedcount!=null&&Object.hasOwnProperty.call(eQ,"receivedcount")&&AQ.uint32(56).int64(eQ.receivedcount),eQ.peerack10mscount!=null&&Object.hasOwnProperty.call(eQ,"peerack10mscount")&&AQ.uint32(64).int64(eQ.peerack10mscount),eQ.peerack25mscount!=null&&Object.hasOwnProperty.call(eQ,"peerack25mscount")&&AQ.uint32(72).int64(eQ.peerack25mscount),eQ.peerack50mscount!=null&&Object.hasOwnProperty.call(eQ,"peerack50mscount")&&AQ.uint32(80).int64(eQ.peerack50mscount),eQ.peerack75mscount!=null&&Object.hasOwnProperty.call(eQ,"peerack75mscount")&&AQ.uint32(88).int64(eQ.peerack75mscount),eQ.peerack100mscount!=null&&Object.hasOwnProperty.call(eQ,"peerack100mscount")&&AQ.uint32(96).int64(eQ.peerack100mscount),eQ.peerack150mscount!=null&&Object.hasOwnProperty.call(eQ,"peerack150mscount")&&AQ.uint32(104).int64(eQ.peerack150mscount),eQ.peerack200mscount!=null&&Object.hasOwnProperty.call(eQ,"peerack200mscount")&&AQ.uint32(112).int64(eQ.peerack200mscount),eQ.peerack250mscount!=null&&Object.hasOwnProperty.call(eQ,"peerack250mscount")&&AQ.uint32(120).int64(eQ.peerack250mscount),eQ.peerack300mscount!=null&&Object.hasOwnProperty.call(eQ,"peerack300mscount")&&AQ.uint32(128).int64(eQ.peerack300mscount),eQ.peerack400mscount!=null&&Object.hasOwnProperty.call(eQ,"peerack400mscount")&&AQ.uint32(136).int64(eQ.peerack400mscount),eQ.peerack500mscount!=null&&Object.hasOwnProperty.call(eQ,"peerack500mscount")&&AQ.uint32(144).int64(eQ.peerack500mscount),eQ.peerack600mscount!=null&&Object.hasOwnProperty.call(eQ,"peerack600mscount")&&AQ.uint32(152).int64(eQ.peerack600mscount),eQ.peerack800mscount!=null&&Object.hasOwnProperty.call(eQ,"peerack800mscount")&&AQ.uint32(160).int64(eQ.peerack800mscount),eQ.peerack1000mscount!=null&&Object.hasOwnProperty.call(eQ,"peerack1000mscount")&&AQ.uint32(168).int64(eQ.peerack1000mscount),eQ.peerack2000mscount!=null&&Object.hasOwnProperty.call(eQ,"peerack2000mscount")&&AQ.uint32(176).int64(eQ.peerack2000mscount),eQ.peerack3000mscount!=null&&Object.hasOwnProperty.call(eQ,"peerack3000mscount")&&AQ.uint32(184).int64(eQ.peerack3000mscount),eQ.peerack5000mscount!=null&&Object.hasOwnProperty.call(eQ,"peerack5000mscount")&&AQ.uint32(192).int64(eQ.peerack5000mscount),eQ.peerack7000mscount!=null&&Object.hasOwnProperty.call(eQ,"peerack7000mscount")&&AQ.uint32(200).int64(eQ.peerack7000mscount),eQ.peerackslowcount!=null&&Object.hasOwnProperty.call(eQ,"peerackslowcount")&&AQ.uint32(208).int64(eQ.peerackslowcount),eQ.norecipientack10mscount!=null&&Object.hasOwnProperty.call(eQ,"norecipientack10mscount")&&AQ.uint32(216).int64(eQ.norecipientack10mscount),eQ.norecipientack25mscount!=null&&Object.hasOwnProperty.call(eQ,"norecipientack25mscount")&&AQ.uint32(224).int64(eQ.norecipientack25mscount),eQ.norecipientack50mscount!=null&&Object.hasOwnProperty.call(eQ,"norecipientack50mscount")&&AQ.uint32(232).int64(eQ.norecipientack50mscount),eQ.norecipientack75mscount!=null&&Object.hasOwnProperty.call(eQ,"norecipientack75mscount")&&AQ.uint32(240).int64(eQ.norecipientack75mscount),eQ.norecipientack100mscount!=null&&Object.hasOwnProperty.call(eQ,"norecipientack100mscount")&&AQ.uint32(248).int64(eQ.norecipientack100mscount),eQ.norecipientack150mscount!=null&&Object.hasOwnProperty.call(eQ,"norecipientack150mscount")&&AQ.uint32(256).int64(eQ.norecipientack150mscount),eQ.norecipientack200mscount!=null&&Object.hasOwnProperty.call(eQ,"norecipientack200mscount")&&AQ.uint32(264).int64(eQ.norecipientack200mscount),eQ.norecipientack250mscount!=null&&Object.hasOwnProperty.call(eQ,"norecipientack250mscount")&&AQ.uint32(272).int64(eQ.norecipientack250mscount),eQ.norecipientack300mscount!=null&&Object.hasOwnProperty.call(eQ,"norecipientack300mscount")&&AQ.uint32(280).int64(eQ.norecipientack300mscount),eQ.norecipientack400mscount!=null&&Object.hasOwnProperty.call(eQ,"norecipientack400mscount")&&AQ.uint32(288).int64(eQ.norecipientack400mscount),eQ.norecipientack500mscount!=null&&Object.hasOwnProperty.call(eQ,"norecipientack500mscount")&&AQ.uint32(296).int64(eQ.norecipientack500mscount),eQ.norecipientack600mscount!=null&&Object.hasOwnProperty.call(eQ,"norecipientack600mscount")&&AQ.uint32(304).int64(eQ.norecipientack600mscount),eQ.norecipientack800mscount!=null&&Object.hasOwnProperty.call(eQ,"norecipientack800mscount")&&AQ.uint32(312).int64(eQ.norecipientack800mscount),eQ.norecipientack1000mscount!=null&&Object.hasOwnProperty.call(eQ,"norecipientack1000mscount")&&AQ.uint32(320).int64(eQ.norecipientack1000mscount),eQ.norecipientack2000mscount!=null&&Object.hasOwnProperty.call(eQ,"norecipientack2000mscount")&&AQ.uint32(328).int64(eQ.norecipientack2000mscount),eQ.norecipientack3000mscount!=null&&Object.hasOwnProperty.call(eQ,"norecipientack3000mscount")&&AQ.uint32(336).int64(eQ.norecipientack3000mscount),eQ.norecipientack5000mscount!=null&&Object.hasOwnProperty.call(eQ,"norecipientack5000mscount")&&AQ.uint32(344).int64(eQ.norecipientack5000mscount),eQ.norecipientack7000mscount!=null&&Object.hasOwnProperty.call(eQ,"norecipientack7000mscount")&&AQ.uint32(352).int64(eQ.norecipientack7000mscount),eQ.norecipientackslowcount!=null&&Object.hasOwnProperty.call(eQ,"norecipientackslowcount")&&AQ.uint32(360).int64(eQ.norecipientackslowcount),eQ.acktimeoutcount!=null&&Object.hasOwnProperty.call(eQ,"acktimeoutcount")&&AQ.uint32(368).int64(eQ.acktimeoutcount),eQ.apimajorversion!=null&&Object.hasOwnProperty.call(eQ,"apimajorversion")&&AQ.uint32(376).int32(eQ.apimajorversion),eQ.apiminorversion!=null&&Object.hasOwnProperty.call(eQ,"apiminorversion")&&AQ.uint32(384).int32(eQ.apiminorversion),eQ.os!=null&&Object.hasOwnProperty.call(eQ,"os")&&AQ.uint32(392).int32(eQ.os),eQ.toooftencount!=null&&Object.hasOwnProperty.call(eQ,"toooftencount")&&AQ.uint32(400).int32(eQ.toooftencount),eQ.receiverofflinecount!=null&&Object.hasOwnProperty.call(eQ,"receiverofflinecount")&&AQ.uint32(408).int32(eQ.receiverofflinecount),eQ.invalidmessagecount!=null&&Object.hasOwnProperty.call(eQ,"invalidmessagecount")&&AQ.uint32(416).int32(eQ.invalidmessagecount),eQ.unknowerrorcount!=null&&Object.hasOwnProperty.call(eQ,"unknowerrorcount")&&AQ.uint32(424).int32(eQ.unknowerrorcount),eQ.servercachedcount!=null&&Object.hasOwnProperty.call(eQ,"servercachedcount")&&AQ.uint32(432).int32(eQ.servercachedcount),eQ.timeoutcount!=null&&Object.hasOwnProperty.call(eQ,"timeoutcount")&&AQ.uint32(440).int32(eQ.timeoutcount),eQ.successcount!=null&&Object.hasOwnProperty.call(eQ,"successcount")&&AQ.uint32(448).int32(eQ.successcount),eQ.userid!=null&&Object.hasOwnProperty.call(eQ,"userid")&&AQ.uint32(458).string(eQ.userid),AQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/RtmSdkMessageCount"},tQ})(),SyncOperateEvent=$root.SyncOperateEvent=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.ip="",tQ.prototype.userid="",tQ.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.sid="",tQ.prototype.requestts=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.replyts=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.target="",tQ.prototype.eventtype="",tQ.prototype.revision=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.uuid="",tQ.prototype.sdktype=0,tQ.prototype.flags=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.code=0,tQ.prototype.seq=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.index=null,tQ.prototype.lock="",tQ.prototype.lockrev=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.subtarget="",tQ.prototype.usersid="",tQ.prototype.sdkip="",tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer.create()),eQ.lts!=null&&Object.hasOwnProperty.call(eQ,"lts")&&AQ.uint32(8).int64(eQ.lts),eQ.ip!=null&&Object.hasOwnProperty.call(eQ,"ip")&&AQ.uint32(18).string(eQ.ip),eQ.userid!=null&&Object.hasOwnProperty.call(eQ,"userid")&&AQ.uint32(26).string(eQ.userid),eQ.vid!=null&&Object.hasOwnProperty.call(eQ,"vid")&&AQ.uint32(32).int64(eQ.vid),eQ.sid!=null&&Object.hasOwnProperty.call(eQ,"sid")&&AQ.uint32(42).string(eQ.sid),eQ.requestts!=null&&Object.hasOwnProperty.call(eQ,"requestts")&&AQ.uint32(48).int64(eQ.requestts),eQ.replyts!=null&&Object.hasOwnProperty.call(eQ,"replyts")&&AQ.uint32(56).int64(eQ.replyts),eQ.target!=null&&Object.hasOwnProperty.call(eQ,"target")&&AQ.uint32(66).string(eQ.target),eQ.eventtype!=null&&Object.hasOwnProperty.call(eQ,"eventtype")&&AQ.uint32(74).string(eQ.eventtype),eQ.revision!=null&&Object.hasOwnProperty.call(eQ,"revision")&&AQ.uint32(80).int64(eQ.revision),eQ.uuid!=null&&Object.hasOwnProperty.call(eQ,"uuid")&&AQ.uint32(90).string(eQ.uuid),eQ.sdktype!=null&&Object.hasOwnProperty.call(eQ,"sdktype")&&AQ.uint32(96).int32(eQ.sdktype),eQ.flags!=null&&Object.hasOwnProperty.call(eQ,"flags")&&AQ.uint32(104).int64(eQ.flags),eQ.code!=null&&Object.hasOwnProperty.call(eQ,"code")&&AQ.uint32(112).int32(eQ.code),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(120).int64(eQ.seq),eQ.index!=null&&Object.hasOwnProperty.call(eQ,"index")&&$root.CommonIndex.encode(eQ.index,AQ.uint32(130).fork()).ldelim(),eQ.lock!=null&&Object.hasOwnProperty.call(eQ,"lock")&&AQ.uint32(138).string(eQ.lock),eQ.lockrev!=null&&Object.hasOwnProperty.call(eQ,"lockrev")&&AQ.uint32(144).int64(eQ.lockrev),eQ.subtarget!=null&&Object.hasOwnProperty.call(eQ,"subtarget")&&AQ.uint32(154).string(eQ.subtarget),eQ.usersid!=null&&Object.hasOwnProperty.call(eQ,"usersid")&&AQ.uint32(162).string(eQ.usersid),eQ.sdkip!=null&&Object.hasOwnProperty.call(eQ,"sdkip")&&AQ.uint32(170).string(eQ.sdkip),AQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/SyncOperateEvent"},tQ})(),SyncSubscribeEvent=$root.SyncSubscribeEvent=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.userid="",tQ.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.sid="",tQ.prototype.target="",tQ.prototype.eventtype="",tQ.prototype.sdktype=0,tQ.prototype.flags=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.code=0,tQ.prototype.seq=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.requestts=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.replyts=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.index=null,tQ.prototype.subtarget="",tQ.prototype.usersid="",tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer.create()),eQ.lts!=null&&Object.hasOwnProperty.call(eQ,"lts")&&AQ.uint32(8).int64(eQ.lts),eQ.userid!=null&&Object.hasOwnProperty.call(eQ,"userid")&&AQ.uint32(26).string(eQ.userid),eQ.vid!=null&&Object.hasOwnProperty.call(eQ,"vid")&&AQ.uint32(32).int64(eQ.vid),eQ.sid!=null&&Object.hasOwnProperty.call(eQ,"sid")&&AQ.uint32(42).string(eQ.sid),eQ.target!=null&&Object.hasOwnProperty.call(eQ,"target")&&AQ.uint32(66).string(eQ.target),eQ.eventtype!=null&&Object.hasOwnProperty.call(eQ,"eventtype")&&AQ.uint32(74).string(eQ.eventtype),eQ.sdktype!=null&&Object.hasOwnProperty.call(eQ,"sdktype")&&AQ.uint32(96).int32(eQ.sdktype),eQ.flags!=null&&Object.hasOwnProperty.call(eQ,"flags")&&AQ.uint32(104).int64(eQ.flags),eQ.code!=null&&Object.hasOwnProperty.call(eQ,"code")&&AQ.uint32(112).int32(eQ.code),eQ.seq!=null&&Object.hasOwnProperty.call(eQ,"seq")&&AQ.uint32(120).int64(eQ.seq),eQ.requestts!=null&&Object.hasOwnProperty.call(eQ,"requestts")&&AQ.uint32(128).int64(eQ.requestts),eQ.replyts!=null&&Object.hasOwnProperty.call(eQ,"replyts")&&AQ.uint32(136).int64(eQ.replyts),eQ.index!=null&&Object.hasOwnProperty.call(eQ,"index")&&$root.CommonIndex.encode(eQ.index,AQ.uint32(146).fork()).ldelim(),eQ.subtarget!=null&&Object.hasOwnProperty.call(eQ,"subtarget")&&AQ.uint32(154).string(eQ.subtarget),eQ.usersid!=null&&Object.hasOwnProperty.call(eQ,"usersid")&&AQ.uint32(162).string(eQ.usersid),AQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/SyncSubscribeEvent"},tQ})(),SyncUpdateEvent=$root.SyncUpdateEvent=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.userid="",tQ.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.sid="",tQ.prototype.replyts=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.target="",tQ.prototype.eventtype="",tQ.prototype.revision=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.sdktype=0,tQ.prototype.flags=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.count=0,tQ.prototype.delta=0,tQ.prototype.code=0,tQ.prototype.index=null,tQ.prototype.subtarget="",tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer.create()),eQ.lts!=null&&Object.hasOwnProperty.call(eQ,"lts")&&AQ.uint32(8).int64(eQ.lts),eQ.userid!=null&&Object.hasOwnProperty.call(eQ,"userid")&&AQ.uint32(26).string(eQ.userid),eQ.vid!=null&&Object.hasOwnProperty.call(eQ,"vid")&&AQ.uint32(32).int64(eQ.vid),eQ.sid!=null&&Object.hasOwnProperty.call(eQ,"sid")&&AQ.uint32(42).string(eQ.sid),eQ.replyts!=null&&Object.hasOwnProperty.call(eQ,"replyts")&&AQ.uint32(56).int64(eQ.replyts),eQ.target!=null&&Object.hasOwnProperty.call(eQ,"target")&&AQ.uint32(66).string(eQ.target),eQ.eventtype!=null&&Object.hasOwnProperty.call(eQ,"eventtype")&&AQ.uint32(74).string(eQ.eventtype),eQ.revision!=null&&Object.hasOwnProperty.call(eQ,"revision")&&AQ.uint32(80).int64(eQ.revision),eQ.sdktype!=null&&Object.hasOwnProperty.call(eQ,"sdktype")&&AQ.uint32(96).int32(eQ.sdktype),eQ.flags!=null&&Object.hasOwnProperty.call(eQ,"flags")&&AQ.uint32(104).int64(eQ.flags),eQ.count!=null&&Object.hasOwnProperty.call(eQ,"count")&&AQ.uint32(112).int32(eQ.count),eQ.delta!=null&&Object.hasOwnProperty.call(eQ,"delta")&&AQ.uint32(120).int32(eQ.delta),eQ.code!=null&&Object.hasOwnProperty.call(eQ,"code")&&AQ.uint32(128).int32(eQ.code),eQ.index!=null&&Object.hasOwnProperty.call(eQ,"index")&&$root.CommonIndex.encode(eQ.index,AQ.uint32(138).fork()).ldelim(),eQ.subtarget!=null&&Object.hasOwnProperty.call(eQ,"subtarget")&&AQ.uint32(162).string(eQ.subtarget),AQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/SyncUpdateEvent"},tQ})(),CommonIndex=$root.CommonIndex=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.index1="",tQ.prototype.index2="",tQ.prototype.index3="",tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer.create()),eQ.index1!=null&&Object.hasOwnProperty.call(eQ,"index1")&&AQ.uint32(10).string(eQ.index1),eQ.index2!=null&&Object.hasOwnProperty.call(eQ,"index2")&&AQ.uint32(18).string(eQ.index2),eQ.index3!=null&&Object.hasOwnProperty.call(eQ,"index3")&&AQ.uint32(26).string(eQ.index3),AQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/CommonIndex"},tQ})(),ProtoRaws=$root.ProtoRaws=(()=>{function tQ(eQ){if(this.payloads=[],eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.sendTs=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.payloads=$util.emptyArray,tQ.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.aid=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.encode=function(eQ,AQ){if(AQ||(AQ=$Writer.create()),eQ.sendTs!=null&&Object.hasOwnProperty.call(eQ,"sendTs")&&AQ.uint32(8).int64(eQ.sendTs),eQ.payloads!=null&&eQ.payloads.length)for(let iQ=0;iQ<eQ.payloads.length;++iQ)$root.ProtoRaws.MessageInfo.encode(eQ.payloads[iQ],AQ.uint32(18).fork()).ldelim();return eQ.vid!=null&&Object.hasOwnProperty.call(eQ,"vid")&&AQ.uint32(24).int64(eQ.vid),eQ.aid!=null&&Object.hasOwnProperty.call(eQ,"aid")&&AQ.uint32(32).int64(eQ.aid),AQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/ProtoRaws"},tQ.MessageInfo=function(){function eQ(AQ){if(AQ)for(let iQ=Object.keys(AQ),oQ=0;oQ<iQ.length;++oQ)AQ[iQ[oQ]]!=null&&(this[iQ[oQ]]=AQ[iQ[oQ]])}return eQ.prototype.id=$util.Long?$util.Long.fromBits(0,0,!1):0,eQ.prototype.msg=$util.newBuffer([]),eQ.encode=function(AQ,iQ){return iQ||(iQ=$Writer.create()),AQ.id!=null&&Object.hasOwnProperty.call(AQ,"id")&&iQ.uint32(8).int64(AQ.id),AQ.msg!=null&&Object.hasOwnProperty.call(AQ,"msg")&&iQ.uint32(18).bytes(AQ.msg),iQ},eQ.getTypeUrl=function(AQ){return AQ===void 0&&(AQ="type.googleapis.com"),AQ+"/ProtoRaws.MessageInfo"},eQ}(),tQ})(),LoginResult=$root.LoginResult=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.sid="",tQ.prototype.code=0,tQ.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.userId="",tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer.create()),eQ.lts!=null&&Object.hasOwnProperty.call(eQ,"lts")&&AQ.uint32(8).int64(eQ.lts),eQ.vid!=null&&Object.hasOwnProperty.call(eQ,"vid")&&AQ.uint32(16).int64(eQ.vid),eQ.sid!=null&&Object.hasOwnProperty.call(eQ,"sid")&&AQ.uint32(26).string(eQ.sid),eQ.code!=null&&Object.hasOwnProperty.call(eQ,"code")&&AQ.uint32(32).int32(eQ.code),eQ.elapse!=null&&Object.hasOwnProperty.call(eQ,"elapse")&&AQ.uint32(40).int64(eQ.elapse),eQ.userId!=null&&Object.hasOwnProperty.call(eQ,"userId")&&AQ.uint32(50).string(eQ.userId),AQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/LoginResult"},tQ})(),ChannelPresenceSnapshotEvent=$root.ChannelPresenceSnapshotEvent=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.sid="",tQ.prototype.userId="",tQ.prototype.channelName="",tQ.prototype.channelType=0,tQ.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.reqId=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer.create()),eQ.lts!=null&&Object.hasOwnProperty.call(eQ,"lts")&&AQ.uint32(8).int64(eQ.lts),eQ.vid!=null&&Object.hasOwnProperty.call(eQ,"vid")&&AQ.uint32(16).int64(eQ.vid),eQ.sid!=null&&Object.hasOwnProperty.call(eQ,"sid")&&AQ.uint32(26).string(eQ.sid),eQ.userId!=null&&Object.hasOwnProperty.call(eQ,"userId")&&AQ.uint32(34).string(eQ.userId),eQ.channelName!=null&&Object.hasOwnProperty.call(eQ,"channelName")&&AQ.uint32(42).string(eQ.channelName),eQ.channelType!=null&&Object.hasOwnProperty.call(eQ,"channelType")&&AQ.uint32(48).int32(eQ.channelType),eQ.elapse!=null&&Object.hasOwnProperty.call(eQ,"elapse")&&AQ.uint32(56).int64(eQ.elapse),eQ.reqId!=null&&Object.hasOwnProperty.call(eQ,"reqId")&&AQ.uint32(64).int64(eQ.reqId),AQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/ChannelPresenceSnapshotEvent"},tQ})(),LinkStateChange=$root.LinkStateChange=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.sid="",tQ.prototype.userid="",tQ.prototype.currentState=0,tQ.prototype.previousState=0,tQ.prototype.operation=0,tQ.prototype.reason=0,tQ.prototype.serviceType=0,tQ.prototype.streamChannelName="",tQ.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer.create()),eQ.lts!=null&&Object.hasOwnProperty.call(eQ,"lts")&&AQ.uint32(8).int64(eQ.lts),eQ.vid!=null&&Object.hasOwnProperty.call(eQ,"vid")&&AQ.uint32(16).int64(eQ.vid),eQ.sid!=null&&Object.hasOwnProperty.call(eQ,"sid")&&AQ.uint32(26).string(eQ.sid),eQ.userid!=null&&Object.hasOwnProperty.call(eQ,"userid")&&AQ.uint32(34).string(eQ.userid),eQ.currentState!=null&&Object.hasOwnProperty.call(eQ,"currentState")&&AQ.uint32(40).int32(eQ.currentState),eQ.previousState!=null&&Object.hasOwnProperty.call(eQ,"previousState")&&AQ.uint32(48).int32(eQ.previousState),eQ.operation!=null&&Object.hasOwnProperty.call(eQ,"operation")&&AQ.uint32(56).int32(eQ.operation),eQ.reason!=null&&Object.hasOwnProperty.call(eQ,"reason")&&AQ.uint32(64).int32(eQ.reason),eQ.serviceType!=null&&Object.hasOwnProperty.call(eQ,"serviceType")&&AQ.uint32(72).int32(eQ.serviceType),eQ.streamChannelName!=null&&Object.hasOwnProperty.call(eQ,"streamChannelName")&&AQ.uint32(82).string(eQ.streamChannelName),eQ.elapse!=null&&Object.hasOwnProperty.call(eQ,"elapse")&&AQ.uint32(88).int64(eQ.elapse),AQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/LinkStateChange"},tQ})(),RenewToken=$root.RenewToken=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.sid="",tQ.prototype.userId="",tQ.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.cname="",tQ.prototype.token="",tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer.create()),eQ.sid!=null&&Object.hasOwnProperty.call(eQ,"sid")&&AQ.uint32(10).string(eQ.sid),eQ.userId!=null&&Object.hasOwnProperty.call(eQ,"userId")&&AQ.uint32(18).string(eQ.userId),eQ.lts!=null&&Object.hasOwnProperty.call(eQ,"lts")&&AQ.uint32(24).int64(eQ.lts),eQ.elapse!=null&&Object.hasOwnProperty.call(eQ,"elapse")&&AQ.uint32(32).int64(eQ.elapse),eQ.cname!=null&&Object.hasOwnProperty.call(eQ,"cname")&&AQ.uint32(50).string(eQ.cname),eQ.token!=null&&Object.hasOwnProperty.call(eQ,"token")&&AQ.uint32(58).string(eQ.token),AQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/RenewToken"},tQ})(),RenewTokenRes=$root.RenewTokenRes=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.sid="",tQ.prototype.userId="",tQ.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.cname="",tQ.prototype.token="",tQ.prototype.apErrCode=0,tQ.prototype.regErrCode=0,tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer.create()),eQ.lts!=null&&Object.hasOwnProperty.call(eQ,"lts")&&AQ.uint32(8).int64(eQ.lts),eQ.vid!=null&&Object.hasOwnProperty.call(eQ,"vid")&&AQ.uint32(16).int64(eQ.vid),eQ.sid!=null&&Object.hasOwnProperty.call(eQ,"sid")&&AQ.uint32(26).string(eQ.sid),eQ.userId!=null&&Object.hasOwnProperty.call(eQ,"userId")&&AQ.uint32(34).string(eQ.userId),eQ.elapse!=null&&Object.hasOwnProperty.call(eQ,"elapse")&&AQ.uint32(40).int64(eQ.elapse),eQ.cname!=null&&Object.hasOwnProperty.call(eQ,"cname")&&AQ.uint32(50).string(eQ.cname),eQ.token!=null&&Object.hasOwnProperty.call(eQ,"token")&&AQ.uint32(58).string(eQ.token),eQ.apErrCode!=null&&Object.hasOwnProperty.call(eQ,"apErrCode")&&AQ.uint32(64).int32(eQ.apErrCode),eQ.regErrCode!=null&&Object.hasOwnProperty.call(eQ,"regErrCode")&&AQ.uint32(72).int32(eQ.regErrCode),AQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/RenewTokenRes"},tQ})(),SyncLockAcquireEvent=$root.SyncLockAcquireEvent=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.ip="",tQ.prototype.userid="",tQ.prototype.sid="",tQ.prototype.index=null,tQ.prototype.target="",tQ.prototype.lock="",tQ.prototype.lockrev=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.uuid="",tQ.prototype.flags=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.code=0,tQ.prototype.leaseid="",tQ.prototype.eventtype="",tQ.prototype.sdktype=0,tQ.prototype.requestts=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.replyts=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.ttl=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.usersid="",tQ.prototype.sdkip="",tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer.create()),eQ.lts!=null&&Object.hasOwnProperty.call(eQ,"lts")&&AQ.uint32(8).int64(eQ.lts),eQ.vid!=null&&Object.hasOwnProperty.call(eQ,"vid")&&AQ.uint32(16).int64(eQ.vid),eQ.ip!=null&&Object.hasOwnProperty.call(eQ,"ip")&&AQ.uint32(26).string(eQ.ip),eQ.userid!=null&&Object.hasOwnProperty.call(eQ,"userid")&&AQ.uint32(34).string(eQ.userid),eQ.sid!=null&&Object.hasOwnProperty.call(eQ,"sid")&&AQ.uint32(42).string(eQ.sid),eQ.index!=null&&Object.hasOwnProperty.call(eQ,"index")&&$root.CommonIndex.encode(eQ.index,AQ.uint32(50).fork()).ldelim(),eQ.target!=null&&Object.hasOwnProperty.call(eQ,"target")&&AQ.uint32(58).string(eQ.target),eQ.lock!=null&&Object.hasOwnProperty.call(eQ,"lock")&&AQ.uint32(66).string(eQ.lock),eQ.lockrev!=null&&Object.hasOwnProperty.call(eQ,"lockrev")&&AQ.uint32(72).int64(eQ.lockrev),eQ.uuid!=null&&Object.hasOwnProperty.call(eQ,"uuid")&&AQ.uint32(82).string(eQ.uuid),eQ.flags!=null&&Object.hasOwnProperty.call(eQ,"flags")&&AQ.uint32(88).int64(eQ.flags),eQ.code!=null&&Object.hasOwnProperty.call(eQ,"code")&&AQ.uint32(96).int32(eQ.code),eQ.leaseid!=null&&Object.hasOwnProperty.call(eQ,"leaseid")&&AQ.uint32(106).string(eQ.leaseid),eQ.eventtype!=null&&Object.hasOwnProperty.call(eQ,"eventtype")&&AQ.uint32(114).string(eQ.eventtype),eQ.sdktype!=null&&Object.hasOwnProperty.call(eQ,"sdktype")&&AQ.uint32(120).int32(eQ.sdktype),eQ.requestts!=null&&Object.hasOwnProperty.call(eQ,"requestts")&&AQ.uint32(128).int64(eQ.requestts),eQ.replyts!=null&&Object.hasOwnProperty.call(eQ,"replyts")&&AQ.uint32(136).int64(eQ.replyts),eQ.ttl!=null&&Object.hasOwnProperty.call(eQ,"ttl")&&AQ.uint32(144).int64(eQ.ttl),eQ.usersid!=null&&Object.hasOwnProperty.call(eQ,"usersid")&&AQ.uint32(154).string(eQ.usersid),eQ.sdkip!=null&&Object.hasOwnProperty.call(eQ,"sdkip")&&AQ.uint32(162).string(eQ.sdkip),AQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/SyncLockAcquireEvent"},tQ})(),SyncLockReleaseEvent=$root.SyncLockReleaseEvent=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.ip="",tQ.prototype.userid="",tQ.prototype.sid="",tQ.prototype.index=null,tQ.prototype.target="",tQ.prototype.lock="",tQ.prototype.uuid="",tQ.prototype.flags=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.code=0,tQ.prototype.leaseid="",tQ.prototype.eventtype="",tQ.prototype.sdktype=0,tQ.prototype.requestts=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.replyts=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.usersid="",tQ.prototype.sdkip="",tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer.create()),eQ.lts!=null&&Object.hasOwnProperty.call(eQ,"lts")&&AQ.uint32(8).int64(eQ.lts),eQ.vid!=null&&Object.hasOwnProperty.call(eQ,"vid")&&AQ.uint32(16).int64(eQ.vid),eQ.ip!=null&&Object.hasOwnProperty.call(eQ,"ip")&&AQ.uint32(26).string(eQ.ip),eQ.userid!=null&&Object.hasOwnProperty.call(eQ,"userid")&&AQ.uint32(34).string(eQ.userid),eQ.sid!=null&&Object.hasOwnProperty.call(eQ,"sid")&&AQ.uint32(42).string(eQ.sid),eQ.index!=null&&Object.hasOwnProperty.call(eQ,"index")&&$root.CommonIndex.encode(eQ.index,AQ.uint32(50).fork()).ldelim(),eQ.target!=null&&Object.hasOwnProperty.call(eQ,"target")&&AQ.uint32(58).string(eQ.target),eQ.lock!=null&&Object.hasOwnProperty.call(eQ,"lock")&&AQ.uint32(66).string(eQ.lock),eQ.uuid!=null&&Object.hasOwnProperty.call(eQ,"uuid")&&AQ.uint32(74).string(eQ.uuid),eQ.flags!=null&&Object.hasOwnProperty.call(eQ,"flags")&&AQ.uint32(80).int64(eQ.flags),eQ.code!=null&&Object.hasOwnProperty.call(eQ,"code")&&AQ.uint32(88).int32(eQ.code),eQ.leaseid!=null&&Object.hasOwnProperty.call(eQ,"leaseid")&&AQ.uint32(98).string(eQ.leaseid),eQ.eventtype!=null&&Object.hasOwnProperty.call(eQ,"eventtype")&&AQ.uint32(106).string(eQ.eventtype),eQ.sdktype!=null&&Object.hasOwnProperty.call(eQ,"sdktype")&&AQ.uint32(112).int32(eQ.sdktype),eQ.requestts!=null&&Object.hasOwnProperty.call(eQ,"requestts")&&AQ.uint32(120).int64(eQ.requestts),eQ.replyts!=null&&Object.hasOwnProperty.call(eQ,"replyts")&&AQ.uint32(128).int64(eQ.replyts),eQ.usersid!=null&&Object.hasOwnProperty.call(eQ,"usersid")&&AQ.uint32(138).string(eQ.usersid),eQ.sdkip!=null&&Object.hasOwnProperty.call(eQ,"sdkip")&&AQ.uint32(146).string(eQ.sdkip),AQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/SyncLockReleaseEvent"},tQ})(),SyncLockUpdateEvent=$root.SyncLockUpdateEvent=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.ip="",tQ.prototype.userid="",tQ.prototype.sid="",tQ.prototype.index=null,tQ.prototype.target="",tQ.prototype.lock="",tQ.prototype.flags=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.code=0,tQ.prototype.eventtype="",tQ.prototype.sdktype=0,tQ.prototype.replyts=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.usersid="",tQ.prototype.sdkip="",tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer.create()),eQ.lts!=null&&Object.hasOwnProperty.call(eQ,"lts")&&AQ.uint32(8).int64(eQ.lts),eQ.vid!=null&&Object.hasOwnProperty.call(eQ,"vid")&&AQ.uint32(16).int64(eQ.vid),eQ.ip!=null&&Object.hasOwnProperty.call(eQ,"ip")&&AQ.uint32(26).string(eQ.ip),eQ.userid!=null&&Object.hasOwnProperty.call(eQ,"userid")&&AQ.uint32(34).string(eQ.userid),eQ.sid!=null&&Object.hasOwnProperty.call(eQ,"sid")&&AQ.uint32(42).string(eQ.sid),eQ.index!=null&&Object.hasOwnProperty.call(eQ,"index")&&$root.CommonIndex.encode(eQ.index,AQ.uint32(50).fork()).ldelim(),eQ.target!=null&&Object.hasOwnProperty.call(eQ,"target")&&AQ.uint32(58).string(eQ.target),eQ.lock!=null&&Object.hasOwnProperty.call(eQ,"lock")&&AQ.uint32(66).string(eQ.lock),eQ.flags!=null&&Object.hasOwnProperty.call(eQ,"flags")&&AQ.uint32(72).int64(eQ.flags),eQ.code!=null&&Object.hasOwnProperty.call(eQ,"code")&&AQ.uint32(80).int32(eQ.code),eQ.eventtype!=null&&Object.hasOwnProperty.call(eQ,"eventtype")&&AQ.uint32(90).string(eQ.eventtype),eQ.sdktype!=null&&Object.hasOwnProperty.call(eQ,"sdktype")&&AQ.uint32(96).int32(eQ.sdktype),eQ.replyts!=null&&Object.hasOwnProperty.call(eQ,"replyts")&&AQ.uint32(104).int64(eQ.replyts),eQ.usersid!=null&&Object.hasOwnProperty.call(eQ,"usersid")&&AQ.uint32(114).string(eQ.usersid),eQ.sdkip!=null&&Object.hasOwnProperty.call(eQ,"sdkip")&&AQ.uint32(122).string(eQ.sdkip),AQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/SyncLockUpdateEvent"},tQ})(),SyncLockDisableEvent=$root.SyncLockDisableEvent=(()=>{function tQ(eQ){if(eQ)for(let AQ=Object.keys(eQ),iQ=0;iQ<AQ.length;++iQ)eQ[AQ[iQ]]!=null&&(this[AQ[iQ]]=eQ[AQ[iQ]])}return tQ.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.ip="",tQ.prototype.userid="",tQ.prototype.sid="",tQ.prototype.index=null,tQ.prototype.target="",tQ.prototype.lock="",tQ.prototype.leaseid="",tQ.prototype.uuid="",tQ.prototype.flags=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.code=0,tQ.prototype.eventtype="",tQ.prototype.sdktype=0,tQ.prototype.requestts=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.replyts=$util.Long?$util.Long.fromBits(0,0,!1):0,tQ.prototype.usersid="",tQ.prototype.sdkip="",tQ.encode=function(eQ,AQ){return AQ||(AQ=$Writer.create()),eQ.lts!=null&&Object.hasOwnProperty.call(eQ,"lts")&&AQ.uint32(8).int64(eQ.lts),eQ.vid!=null&&Object.hasOwnProperty.call(eQ,"vid")&&AQ.uint32(16).int64(eQ.vid),eQ.ip!=null&&Object.hasOwnProperty.call(eQ,"ip")&&AQ.uint32(26).string(eQ.ip),eQ.userid!=null&&Object.hasOwnProperty.call(eQ,"userid")&&AQ.uint32(34).string(eQ.userid),eQ.sid!=null&&Object.hasOwnProperty.call(eQ,"sid")&&AQ.uint32(42).string(eQ.sid),eQ.index!=null&&Object.hasOwnProperty.call(eQ,"index")&&$root.CommonIndex.encode(eQ.index,AQ.uint32(50).fork()).ldelim(),eQ.target!=null&&Object.hasOwnProperty.call(eQ,"target")&&AQ.uint32(58).string(eQ.target),eQ.lock!=null&&Object.hasOwnProperty.call(eQ,"lock")&&AQ.uint32(66).string(eQ.lock),eQ.leaseid!=null&&Object.hasOwnProperty.call(eQ,"leaseid")&&AQ.uint32(74).string(eQ.leaseid),eQ.uuid!=null&&Object.hasOwnProperty.call(eQ,"uuid")&&AQ.uint32(82).string(eQ.uuid),eQ.flags!=null&&Object.hasOwnProperty.call(eQ,"flags")&&AQ.uint32(88).int64(eQ.flags),eQ.code!=null&&Object.hasOwnProperty.call(eQ,"code")&&AQ.uint32(96).int32(eQ.code),eQ.eventtype!=null&&Object.hasOwnProperty.call(eQ,"eventtype")&&AQ.uint32(106).string(eQ.eventtype),eQ.sdktype!=null&&Object.hasOwnProperty.call(eQ,"sdktype")&&AQ.uint32(112).int32(eQ.sdktype),eQ.requestts!=null&&Object.hasOwnProperty.call(eQ,"requestts")&&AQ.uint32(120).int64(eQ.requestts),eQ.replyts!=null&&Object.hasOwnProperty.call(eQ,"replyts")&&AQ.uint32(128).int64(eQ.replyts),eQ.usersid!=null&&Object.hasOwnProperty.call(eQ,"usersid")&&AQ.uint32(138).string(eQ.usersid),eQ.sdkip!=null&&Object.hasOwnProperty.call(eQ,"sdkip")&&AQ.uint32(146).string(eQ.sdkip),AQ},tQ.getTypeUrl=function(eQ){return eQ===void 0&&(eQ="type.googleapis.com"),eQ+"/SyncLockDisableEvent"},tQ})();var ProtoPackets=Object.freeze({__proto__:null,ApEvent,ApRequest,ChannelPresenceSnapshotEvent,ChnJoin,ChnJoinRes,ChnLeave,CommonIndex,ConnectionStateChange,KickedOff,Link,LinkLoginRequest,LinkStateChange,LoginResult,Logout,ProtoRaws,RenewToken,RenewTokenRes,RtmSdkMessageCount,Session,SyncLockAcquireEvent,SyncLockDisableEvent,SyncLockReleaseEvent,SyncLockUpdateEvent,SyncOperateEvent,SyncSubscribeEvent,SyncUpdateEvent,default:$root});const ReportId={Counter:1,ApiExec:154,Session:164,ApEvent:165,Link:166,Logout:167,TxMessage:168,RxMessage:169,KickedOff:170,TxMessageRes:171,ChnJoin:172,ChnJoinRes:173,ChnLeave:174,ChnGetMembers:175,ChnGetMembersRes:176,ChnMemberJoined:177,ChnMemberLeft:178,QueryPeersOnlineStatus:179,QueryPeersOnlineStatusRes:180,RenewToken:181,OperateAttribute:186,OperateAttributeRes:187,ApRequest:188,LinkTcpEvent:189,LinkLoginRequest:190,ConnectionStateChange:191,RtmSdkMessageCount:510,SyncOperateEvent:9654,SyncSubscribeEvent:9651,LoginResult:10071,ChannelPresenceSnapshotEvent:10070,LinkStateChange:10201,RenewTokenRes:10204,SyncLockAcquireEvent:9740,SyncLockReleaseEvent:9741,SyncLockUpdateEvent:9742,SyncLockDisableEvent:9764},EVENT_REPORT_DOMAIN="webcollector-rtm.agora.io",EVENT_REPORT_BACKUP_DOMAIN="rtm.statscollector.sd-rtn.com",maxReportCount=20,reportInterval=1e4,forceReportInterval=6e4,eventsCacheKeyPrefix="events-",storageEvents=new Map;function initStorageCache(tQ){storageEvents.has(tQ)||storageEvents.set(tQ,[])}const staging_report_domain="183-131-160-209.edge.staging-1-aws.myagoralab.com",decodeHexAsBytes=tQ=>{var eQ;const AQ=(eQ=tQ.match(/.{1,2}/g))===null||eQ===void 0?void 0:eQ.map(iQ=>parseInt(iQ,16));return AQ??[]},genAid=tQ=>{const eQ=decodeHexAsBytes(tQ),AQ=[eQ[0],eQ[4],eQ[8],eQ[12]];return AQ.reduce((oQ,rQ,nQ)=>oQ|rQ<<8*(AQ.length-1-nQ),0)>>>0};async function batchSendReport(tQ,eQ,AQ){var iQ;const oQ=AQ&&getPrivateSettingsPortAndDomains(AQ),rQ=oQ==null?void 0:oQ.port,nQ=oQ==null?void 0:oQ.hostname,sQ=(iQ=nQ==null?void 0:nQ.length)!==null&&iQ!==void 0?iQ:0,aQ=nQ&&nQ[0],cQ=nQ&&nQ[sQ-1],gQ=async function(IQ){var EQ;let CQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(CQ>3)return;const dQ=eQ&&!AQ?"https://".concat((EQ=areaConfig==null?void 0:areaConfig.PROXY_NGINX[0])!==null&&EQ!==void 0?EQ:"webrtc-cloud-proxy.sd-rtn.com","/rs/?h=").concat(IQ,"&p=").concat(rQ??443,"&d=events/proto-raws"):"https://".concat(getParameter("USE_STAGING_REPORT_DOMAIN")?staging_report_domain:IQ).concat(rQ?":".concat(rQ):"","/events/proto-raws");await postWithAbortSignal(dQ,{body:tQ,timeout:2e4,headers:{"Content-Type":"application/octet-stream"}}).catch(lQ=>gQ(IQ,CQ+1))};try{await gQ((areaConfig==null?void 0:areaConfig.EVENT_REPORT_DOMAIN[0])||isValidEnvString(null)&&null||(aQ??EVENT_REPORT_DOMAIN))}catch{await gQ(areaConfig&&sample$1((areaConfig==null?void 0:areaConfig.EVENT_REPORT_DOMAIN.length)>1?areaConfig==null?void 0:areaConfig.EVENT_REPORT_DOMAIN.slice(1):areaConfig==null?void 0:areaConfig.EVENT_REPORT_DOMAIN)||(cQ??EVENT_REPORT_BACKUP_DOMAIN))}}function triggerReport(tQ,eQ,AQ,iQ,oQ){let rQ=arguments.length>5&&arguments[5]!==void 0&&arguments[5];if(navigator.onLine===!1||!oQ)return 0;const nQ="".concat(eventsCacheKeyPrefix).concat(tQ);initStorageCache(nQ);const sQ=storageEvents.get(nQ),aQ=Date.now();if(sQ.length===0||sQ.length<maxReportCount&&!rQ)return aQ;for(;sQ.length>0;){const cQ=sQ.length>maxReportCount?maxReportCount:sQ.length,gQ=sQ.splice(0,cQ);storageEvents.set(nQ,sQ);const IQ=Math.ceil(Date.now()/1e3);batchSendReport(ProtoRaws.encode(Object.assign({vid:Long$2.fromNumber(Number(tQ)),sendTs:Long$2.fromNumber(IQ),payloads:gQ},Number(tQ)===0?{aid:Long$2.fromNumber(genAid(eQ))}:{})).finish(),AQ,iQ)}return aQ}function initEventReportTimer(tQ,eQ,AQ,iQ,oQ){let rQ=0;return setInterval(()=>{const nQ=Date.now()-rQ>forceReportInterval,sQ=triggerReport(tQ,eQ,AQ,iQ,oQ,nQ);sQ&&(rQ=sQ)},reportInterval)}function clearEventReportTimer(tQ){clearInterval(tQ)}async function addReportEvents(tQ,eQ,AQ,iQ,oQ,rQ,nQ){if(!rQ)return;const sQ=ProtoPackets[eQ].encode(AQ).finish(),aQ=ReportId[eQ],cQ={id:Long$2.fromNumber(aQ),msg:sQ},gQ="".concat(eventsCacheKeyPrefix).concat(nQ);initStorageCache(gQ);const IQ=storageEvents.get(gQ);IQ.push(cQ),storageEvents.set(gQ,IQ),IQ.length>=maxReportCount&&triggerReport(nQ,tQ,iQ,oQ,!0)}async function sendReport(tQ,eQ,AQ,iQ,oQ,rQ){if(!rQ)return;arguments.length>6&&arguments[6]!==void 0&&arguments[6]&&await delay$1(1e4);const nQ=oQ&&getPrivateSettingsPortAndDomains(oQ),sQ=nQ==null?void 0:nQ.hostname;addReportEvents(tQ,eQ,AQ,iQ,oQ,rQ,"0"),triggerReport("0",tQ,iQ,sQ,rQ,!0)}function getElapse(tQ){return tQ===void 0?Long$2.fromNumber(0):Long$2.fromNumber(Date.now()-tQ)}function rateLimit(tQ){let eQ=1,AQ=asapScheduler;(arguments.length<=1?0:arguments.length-1)==1?typeof(arguments.length<=1?void 0:arguments[1])=="number"?eQ=arguments.length<=1?void 0:arguments[1]:AQ=arguments.length<=1?void 0:arguments[1]:(arguments.length<=1?0:arguments.length-1)==2&&(eQ=arguments.length<=1?void 0:arguments[1],AQ=arguments.length<=2?void 0:arguments[2]);const iQ=eQ||1;return oQ=>oQ.pipe(scan((rQ,nQ)=>{const sQ=AQ.now(),aQ=sQ-tQ;if((rQ=rQ.filter(cQ=>cQ.until>aQ)).length>=iQ){const cQ=rQ[0],gQ=rQ[rQ.length-1],IQ=cQ.until+tQ*Math.floor(rQ.length/iQ);rQ.push({delay:gQ.until<sQ?IQ-sQ:IQ-gQ.until,until:IQ,value:nQ})}else rQ.push({delay:0,until:sQ,value:nQ});return rQ},[]),map$1(rQ=>rQ[rQ.length-1]),concatMap(rQ=>{const nQ=of(rQ.value);return rQ.delay?nQ.pipe(delay(rQ.delay,AQ)):nQ}))}const SocketError=genError(),deprecatedURI=[URI$1.PingUri,URI$1.PongUri,URI$1.Ping2Uri,URI$1.UserJoinUri,URI$1.UserRespUri,URI$1.UserQuitUri,URI$1.GroupEnterNoticeUri,URI$1.GroupLeaveNoticeUri,URI$1.GroupEventNoticeUri,URI$1.GroupCountNoticeUri,URI$1.UserStatusListUri,URI$1.UserStatusResultUri,URI$1.GroupStatusListUri,URI$1.GroupStatusResultUri,URI$1.GroupAllUsersListUri,URI$1.GroupAllUsersResultUri,URI$1.UserJoinNoticeUri,URI$1.UserQuitNoticeUri,URI$1.UserWaitNoticeUri,URI$1.UserAttributeGetUri,URI$1.UserAttributeRetUri,URI$1.UserAttributeSetUri,URI$1.UserAttributeModUri,URI$1.UserAttributeDelUri,URI$1.UserAttributeRspUri,URI$1.UserAttributeErrUri,URI$1.UserAttributeKeysGetUri,URI$1.UserAttributeKeysRetUri,URI$1.GroupAttributeGetUri,URI$1.GroupAttributeRetUri,URI$1.GroupAttributeSetUri,URI$1.GroupAttributeModUri,URI$1.GroupAttributeDelUri,URI$1.GroupAttributeAltUri,URI$1.GroupAttributeRspUri,URI$1.GroupAttributeErrUri,URI$1.GroupAttributeKeysGetUri,URI$1.GroupAttributeKeysRetUri,URI$1.SubscribeUserStatusUri,URI$1.UnsubscribeUserStatusUri,URI$1.SubscribeResponseUri];class Socket extends EventBase{get address(){return"".concat(this.ip,":").concat(this.EDGE_ENV_PORT[this.env])}constructor(eQ,AQ,iQ,oQ,rQ,nQ){var sQ,aQ,cQ;if(super(rQ,uniquePrefixedId("Socket-",rQ.loggerId)),_defineProperty$1(this,"isActiveClose",!1),_defineProperty$1(this,"loggedIn",!1),_defineProperty$1(this,"useNewDomain",void 0),_defineProperty$1(this,"receivedPacket",new Subject),_defineProperty$1(this,"receivedSyncPacket",new Subject),_defineProperty$1(this,"open$",void 0),_defineProperty$1(this,"input$",new Subject),_defineProperty$1(this,"userJoin$",new Subject),_defineProperty$1(this,"EDGE_ENV_PORT",(sQ=getParameter("EDGE_ENV_PORT"))!==null&&sQ!==void 0?sQ:EDGE_ENV_PORT),_defineProperty$1(this,"attemptsSinceLastError",0),_defineProperty$1(this,"message$",new Subject),_defineProperty$1(this,"socket$",void 0),_defineProperty$1(this,"toClose",new Subject),_defineProperty$1(this,"toReconnect",new Subject),_defineProperty$1(this,"sendLogger",void 0),_defineProperty$1(this,"receiveLogger",void 0),_defineProperty$1(this,"ip",void 0),_defineProperty$1(this,"env",void 0),_defineProperty$1(this,"ticket",void 0),_defineProperty$1(this,"context",void 0),_defineProperty$1(this,"reConnect",!1),_defineProperty$1(this,"proxyIdx",0),_defineProperty$1(this,"getDomain",()=>{var CQ;return getEdgeDomain(this.ip,this.useNewDomain,(CQ=this.context.rtmConfig.privateConfig)===null||CQ===void 0?void 0:CQ.originDomains)}),_defineProperty$1(this,"socketReconnector",CQ=>{const dQ=lQ=>(this.attemptsSinceLastError+=1,this.warn("The %s of Env %d reconnecting %s",this.name,this.env,lQ.message),this.reConnect=!0,timer(SOCKET_RETRY_INTERVAL));return CQ.pipe(catchError(lQ=>this.isActiveClose?EMPTY:(this.warn("Env_".concat(this.env,"(").concat(this.name,"): socket connection closed, errorInfo: ").concat(lQ)),this.loggedIn=!1,this.attemptsSinceLastError>=2?(this.log("ENV_".concat(this.env,"(").concat(this.name,"): will emit connectionFailure")),this.emit("connectionFailure"),this.close(),throwError(lQ)):this.isActiveClose?EMPTY:(this.log("ENV_".concat(this.env,"(").concat(this.name,"): will emit reconnect")),this.emit("reconnect"),this.useNewDomain=!this.useNewDomain,throwError(lQ)))),retryWhen(lQ=>lQ.pipe(switchMap(dQ))),tap(()=>{this.reConnect&&this.env===this.context.connSyncEnv&&(this.reConnect=!1)}))}),this.ip=eQ,this.env=AQ,this.ticket=iQ,this.context=oQ,this.useNewDomain=nQ??Math.random()>=.5,this.sendLogger=this.genLogger("RTM:MSG:SEND"),this.receiveLogger=this.genLogger("RTM:MSG:RECV"),AQ!==0&&AQ!==1)throw new SocketError({ILLEGAL_RTM_ENV:"The env number is out of rtm env count"});const gQ=this.EDGE_ENV_PORT[AQ];this.log("Opening websocket address %s for the Env %d, %s",this.ip,this.env,this.name),addReportEvents(this.context.appId,"LinkLoginRequest",{sid:this.context.sid,userId:this.context.uid,lts:Long$2.fromNumber(Date.now()),elapse:getElapse(this.context.startTime),destServerIp:this.ip,linkId:this.env},(aQ=this.context.config.cloudProxy||this.context.socketUseProxy)!==null&&aQ!==void 0&&aQ,(cQ=this.context.rtmConfig.privateConfig)===null||cQ===void 0?void 0:cQ.eventUploadHosts,this.context.couldReportEvent,this.context.vid);const IQ=merge(this.input$,this.userJoin$.pipe(rateLimit(LOGIN_QPS_LIMIT)),this.message$).pipe(map$1(CQ=>Wrapper$1.encode(CQ).finish())),EQ=merge(makeWebSocketObservable("",{protocols:[],makeWebSocket:()=>{let CQ;const dQ=getParameter("REGISTRAR_USE_WS")?"ws":"wss";if(this.log("registrar websocket use ".concat(dQ)),!this.context.config.cloudProxy&&!this.context.socketUseProxy||this.context.enablePrivate){const uQ=parseHost(this.getDomain(),gQ);CQ=new WebSocket("".concat(dQ,"://").concat(uQ.domain,":").concat(uQ.port)),CQ instanceof WebSocket&&(CQ.addEventListener("close",hQ=>{this.log("ws onclose, code: %d, reason: '%s', env: %d, name: %s",hQ.code,hQ.reason,this.env,this.name)}),CQ.addEventListener("error",hQ=>{this.log("ws onerror, env: %d, name: %s, error: %o",this.env,this.name,hQ)}),CQ.addEventListener("open",hQ=>{this.log("ws open, env: %d, name: %s",this.env,this.name)}))}else{var lQ;if(this.context.cloudProxyServers.length===0)throw this.logError("No cloud proxy server to connect"),new RtmUnavailableError("");const uQ=null,hQ=parseHost(getEdgeDomain((isValidEnvString(uQ)?JSON.parse(uQ.replace(/-/g,".")):this.context.cloudProxyServers)[this.genProxyIdx()],!1,(lQ=this.context.rtmConfig.privateConfig)===null||lQ===void 0?void 0:lQ.originDomains));let BQ="".concat(dQ,"://").concat(hQ.domain,"/");BQ=appendQueryParameter(BQ,"sid",this.context.sid),BQ=appendQueryParameter(BQ,"remote_port",gQ.toString()),BQ=appendQueryParameter(BQ,"remote_ip",this.ip),BQ=appendQueryParameter(BQ,"token",this.context.key),CQ=new WebSocket("".concat(BQ,":").concat(hQ.port))}return CQ.binaryType="arraybuffer",CQ}}),this.toReconnect);this.socket$=race(EQ,NEVER.pipe(timeout(7e3),catchError(CQ=>(isTimeout(CQ)?this.warn("ENV_".concat(this.env,"(").concat(this.name,"): socket open timed out")):this.warn("ENV_".concat(this.env,"(").concat(this.name,"): error occurs of opening socket: ").concat(CQ)),throwError(CQ))))).pipe(map$1(CQ=>{if(CQ instanceof Error)throw this.warn("Env_%d: Force reconnect the socket",this.env),CQ;return CQ(IQ).pipe(map$1(dQ=>Wrapper$1.decode(new Uint8Array(dQ))))}),this.socketReconnector),this.open$=this.socket$.pipe(tap(CQ=>{this.log("ENV_".concat(this.env,": Websocket opened, addr: ").concat(this.address),this.name),CQ.subscribe(dQ=>{let{data:lQ,uri:uQ}=dQ;if(uQ===URI$1.SyncPacketUri){const _Q=getSyncPacketUri(lQ);return(_Q!==102&&_Q!==104||logSyncPingPong)&&this.receiveLogger("Env_%d: %s received sync packet uri: %d",this.env,"SyncPacket",_Q),void this.receivedSyncPacket.next(lQ)}const hQ=uriToPacketName(uQ),BQ=Packets[hQ].decode(lQ);if(deprecatedURI.includes(uQ))return void this.receiveLogger("Env_%d: %s, deprecated.",this.env,hQ);const QQ=mergeWith$1({},omit$1(BQ,"toJSON"),(_Q,RQ)=>RQ instanceof Long$2?longToStringIfNeeded(RQ):RQ);let fQ=!1;if(BQ instanceof GroupEnterNotice||BQ instanceof GroupLeaveNotice){const{instance:_Q}=BQ;_Q.lessThanOrEqual(UINT32_MAX)&&(fQ=!0)}if(BQ instanceof Message||BQ instanceof Ack){const{instance:_Q,dialogue:RQ,sequence:wQ}=BQ;(RQ.lessThanOrEqual(UINT32_MAX)||_Q.lessThanOrEqual(UINT32_MAX)||wQ.lessThan(1))&&(fQ=!0)}fQ?this.warn("Env_%d: Illegal %s, abandoned %o",this.env,hQ,QQ):((getParameter("LOG_PING_PONG")||logPingPong||hQ!=="Pong3")&&this.receiveLogger("Env_%d: %s %o",this.env,hQ,QQ),this.receivedPacket.next([hQ,BQ]))},()=>{})}),mapTo(void 0),takeUntil(this.toClose),share())}sendPacket(eQ,AQ){if(getParameter("LOG_PING_PONG")||logPingPong||eQ!=="Ping3"){const oQ=mapValues$1(AQ,rQ=>rQ instanceof Long$2?longToStringIfNeeded(rQ):rQ);this.sendLogger("Env_%d: %s %o",this.env,eQ,oQ)}const iQ=getWrappedByName(eQ,AQ);eQ==="UserJoin2"?this.userJoin$.next(iQ):eQ==="Message"?this.message$.next(iQ):this.input$.next(iQ)}close(){this.log("Closing websocket, name: %s, env: %d",this.name,this.env),this.isActiveClose=!0,this.loggedIn=!1,this.toClose.next()}fromReceived(eQ){return this.receivedPacket.pipe(filter(AQ=>{let[iQ]=AQ;return iQ===eQ}),map$1(AQ=>{let[,iQ]=AQ;return iQ}))}sendSyncPacket(eQ){const AQ=getSyncWrapped(eQ),iQ=getSyncPacketUri(eQ);(iQ!==102&&iQ!==104||logSyncPingPong)&&this.sendLogger("Env_%d: %s send  sync packet uri: %d",this.env,"SyncPacket",iQ),this.input$.next(AQ)}forceReconnect(){this.toReconnect.next(new SocketError({FORCE_RECONNECTING:"Connection seems broken, try force reconnecting"}))}genProxyIdx(){const eQ=this.proxyIdx;return this.proxyIdx=(eQ+1)%this.context.cloudProxyServers.length,eQ}}const getAreaCodeByApUrl=tQ=>{const eQ=getKeys(AREA_DOMAIN_MAP),AQ=getDomain(tQ);for(let iQ=0;iQ<eQ.length;iQ++){const oQ=eQ[iQ],rQ=AREA_DOMAIN_MAP[oQ];if(rQ!=null&&rQ.AP_DOMAINS.includes(AQ)||rQ!=null&&rQ.AP_BACKUP_DOMAINS.includes(AQ)||rQ!=null&&rQ.PROXY_AP.includes(AQ))return[rQ.CODE]}return[AreaCodeMap.CHINA,AreaCodeMap.GLOBAL]},ACCESS_POINT_CODE=101,UNI_LBS_CODE=201,ApResErrorMessage={INVALID_APP_ID:"Illegal App ID",APP_ID_NO_ACTIVATED:"The vendor is not activated",DYNAMIC_KEY_NOT_ENABLED:"The vendor did not enable the dynamic key, but uses the dynamic key",NO_AUTHORIZED:"Signature verification failed",DYNAMIC_ENABLED_BUT_STATIC_KEY:"The vendor enabled the dynamic key, but uses the static key",INVALID_USER_ID:"The user ID to login does not match the token",INVALID_TOKEN_UID:"UID in the security key(token) is not valid",TOKEN_TIMEOUT:"Dynamic key expired",TOKEN_EXPIRED:"The token has expired",CANNOT_MEET_AREA_DEMAND:"Cannot allocate to meet the requirements of the given area limit",INIT_APPID_MISMATCH:"The appid in the init request does not match the appid in the token",FORBIDDEN_REGION:"Forbidden to access the request in this area"},ApResErrorCode={5:"INVALID_APP_ID",7:"INVALID_USER_ID",9:"NO_AUTHORIZED",10:"TOKEN_TIMEOUT",11:"APP_ID_NO_ACTIVATED",12:"INVALID_TOKEN_UID",13:"TOKEN_EXPIRED",14:"DYNAMIC_KEY_NOT_ENABLED",15:"DYNAMIC_ENABLED_BUT_STATIC_KEY",18:"FORBIDDEN_REGION",19:"CANNOT_MEET_AREA_DEMAND",23:"INIT_APPID_MISMATCH"},UniLbsNonRetryableErrorCodes=[100,101,102],AP_NO_REGEX=/web-(\d)/;function handleUniLbsError(tQ,eQ){let AQ=tQ;if(tQ.toString().length>4){const rQ=tQ.toString().padStart(8,"0"),nQ=parseInt(rQ.slice(0,4),10),sQ=parseInt(rQ.slice(4,8),10);if(nQ===UNI_LBS_CODE)AQ=sQ;else if(nQ===ACCESS_POINT_CODE&&!UniLbsNonRetryableErrorCodes.includes(sQ)){const{code:aQ,reason:cQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOGIN_NO_SERVER_RESOURCES);return throwError(new RtmUnavailableError(this.operation,[cQ],aQ))}}const iQ=AQ.toString();if(!Object.keys(ApResErrorCode).includes(iQ)){const{code:rQ,reason:nQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOGIN_REJECTED),sQ=new RtmUnavailableError(this.operation,[nQ+"apCode is ".concat(AQ,", unexpected code.")],{code:rQ,serverCode:AQ});return sQ.serverCode=AQ,throwError(sQ)}const oQ=ApResErrorCode[iQ];switch(this.warn("%s: %s's error type is %s",this.name,eQ,oQ),oQ){case"INVALID_APP_ID":case"APP_ID_NO_ACTIVATED":case"DYNAMIC_KEY_NOT_ENABLED":{const{code:rQ,reason:nQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_APP_ID),sQ=new RtmUnauthenticatedError(this.operation,[nQ+" detail: ".concat(oQ,", ").concat(ApResErrorMessage[oQ])],rQ);return sQ.serverCode=rQ,throwError(sQ)}case"NO_AUTHORIZED":case"DYNAMIC_ENABLED_BUT_STATIC_KEY":case"INVALID_USER_ID":case"INVALID_TOKEN_UID":{const{code:rQ,reason:nQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_TOKEN),sQ=new RtmUnauthenticatedError(this.operation,[nQ+" detail: ".concat(oQ,", ").concat(ApResErrorMessage[oQ])],rQ);return sQ.serverCode=rQ,throwError(sQ)}case"TOKEN_TIMEOUT":case"TOKEN_EXPIRED":{const{code:rQ,reason:nQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_TOKEN_EXPIRED),sQ=new RtmUnauthenticatedError(this.operation,[nQ+" detail: ".concat(oQ,", ").concat(ApResErrorMessage[oQ])],rQ);return sQ.serverCode=rQ,throwError(sQ)}case"CANNOT_MEET_AREA_DEMAND":{const rQ=getAreaCodeByApUrl(eQ);rQ.forEach(cQ=>this.failedAreas.add(cQ));const nQ=areaConfig===void 0?2:areaConfig.CODES.size,{code:sQ,reason:aQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOGIN_NO_SERVER_RESOURCES);if(this.failedAreas.size===nQ){const cQ=new RtmInvalidArgumentError(this.operation,[aQ+" detail: ".concat(oQ,", ").concat(ApResErrorMessage[oQ])],sQ);return cQ.serverCode=sQ,throwError(cQ)}return throwError(new RtmUnavailableError(this.operation,[aQ+"".concat(this.name," ").concat(rQ.join(", ")," cannot meet requirement")],sQ))}case"INIT_APPID_MISMATCH":{const{code:rQ,reason:nQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INCONSISTENT_APPID),sQ=new RtmUnavailableError(this.operation,[nQ],rQ);return sQ.serverCode=rQ,throwError(sQ)}default:{const{code:rQ,reason:nQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOGIN_REJECTED),sQ=new RtmUnavailableError(this.operation,[nQ+" detail: ".concat(oQ,", ").concat(ApResErrorMessage[oQ])],rQ);return sQ.serverCode=rQ,throwError(sQ)}}}const AP_DETAIL_KEY_BUSINESS_TYPE=26;class AccessPoint extends EventBase{constructor(eQ,AQ){var iQ,oQ;let rQ=arguments.length>2&&arguments[2]!==void 0&&arguments[2];super(AQ,"AccessPoint"),oQ=this,_defineProperty$1(this,"operation",OperationName.login),_defineProperty$1(this,"handleUniLbsError",handleUniLbsError.bind(this)),_defineProperty$1(this,"getApEdgeInfo$",void 0),_defineProperty$1(this,"getApEdgeInfoEndFirst$",void 0),_defineProperty$1(this,"apFinish$",new Subject),_defineProperty$1(this,"retryCount",0),_defineProperty$1(this,"failedAreas",new Set),_defineProperty$1(this,"usedUrl",[]),_defineProperty$1(this,"newDomainUsed",!1),_defineProperty$1(this,"backupNewDomainUsed",!1),_defineProperty$1(this,"privateAPs",void 0),_defineProperty$1(this,"restDomains",[]),_defineProperty$1(this,"AP_DOMAINS_IPV6",[]),_defineProperty$1(this,"AP_DOMAINS_NEW",[]),_defineProperty$1(this,"AP_DOMAINS_IO",[]),_defineProperty$1(this,"AP_BACKUP_DOMAINS_NEW",[]),_defineProperty$1(this,"AP_BACKUP_DOMAINS_IO",[]),_defineProperty$1(this,"genUrl",nQ=>{const sQ=nQ??(this.context.useAp4Ipv6Reg?this.AP_DOMAINS_IPV6:this.AP_DOMAINS_NEW),aQ=nQ??(this.context.useAp4Ipv6Reg?this.AP_DOMAINS_IPV6:this.AP_DOMAINS_IO);return areaConfig===void 0?zip(of(...shuffle$1([...sQ,...aQ].map(getApUrl)))).pipe(concatMap(cQ=>of(...cQ))):of(...areaConfig.AP_DOMAINS.slice(0,3).map(getApUrl))}),_defineProperty$1(this,"genBackupUrl",nQ=>{const sQ=nQ??(this.context.useAp4Ipv6Reg?this.AP_DOMAINS_IPV6:this.AP_BACKUP_DOMAINS_NEW),aQ=nQ??(this.context.useAp4Ipv6Reg?this.AP_DOMAINS_IPV6:this.AP_BACKUP_DOMAINS_IO);return areaConfig===void 0?zip(of(...shuffle$1([...sQ,...aQ].map(getApUrl)))).pipe(concatMap(cQ=>of(...cQ))):of(...areaConfig.AP_BACKUP_DOMAINS.slice(0,3).map(getApUrl))}),_defineProperty$1(this,"getApUrl$",(nQ,sQ)=>{var aQ,cQ;return this.genUrl(sQ).pipe(filter(gQ=>(!this.newDomainUsed||!gQ.includes("sd-rtn.com"))&&(gQ.includes("sd-rtn.com")&&(this.newDomainUsed=!0),!some$1(this.usedUrl,IQ=>{var EQ;return IQ===((EQ=gQ.match(AP_NO_REGEX))===null||EQ===void 0?void 0:EQ[1])}))),tap(gQ=>{if(areaConfig===void 0){var IQ;const EQ=(IQ=gQ.match(AP_NO_REGEX))===null||IQ===void 0?void 0:IQ[1];typeof EQ=="string"&&this.usedUrl.push(EQ)}}),take(nQ?Math.max(getParameter("RECONNECTING_AP_NUM"),(aQ=areaConfig==null?void 0:areaConfig.CODES.size)!==null&&aQ!==void 0?aQ:0):(cQ=areaConfig==null?void 0:areaConfig.CODES.size)!==null&&cQ!==void 0?cQ:AP_CONCURRENT_REQ_NUM),throwIfEmpty(()=>AccessPoint.runOutOfUrlSymbol),catchError((gQ,IQ)=>(this.newDomainUsed=!1,gQ===AccessPoint.runOutOfUrlSymbol?(this.usedUrl=[],IQ):throwError(gQ))))}),_defineProperty$1(this,"getBackupApUrl$",(nQ,sQ)=>{var aQ,cQ;return this.genBackupUrl(sQ).pipe(filter(gQ=>(!this.backupNewDomainUsed||!gQ.includes("sd-rtn.com"))&&(gQ.includes("sd-rtn.com")&&(this.backupNewDomainUsed=!0),!some$1(this.usedUrl,IQ=>{var EQ;return IQ===((EQ=gQ.match(AP_NO_REGEX))===null||EQ===void 0?void 0:EQ[1])}))),tap(gQ=>{if(areaConfig===void 0){var IQ;const EQ=(IQ=gQ.match(AP_NO_REGEX))===null||IQ===void 0?void 0:IQ[1];typeof EQ=="string"&&this.usedUrl.push(EQ)}}),take(nQ?Math.max(getParameter("RECONNECTING_AP_NUM"),(aQ=areaConfig==null?void 0:areaConfig.CODES.size)!==null&&aQ!==void 0?aQ:0):(cQ=areaConfig==null?void 0:areaConfig.CODES.size)!==null&&cQ!==void 0?cQ:AP_CONCURRENT_REQ_NUM),throwIfEmpty(()=>AccessPoint.runOutOfUrlSymbol),catchError((gQ,IQ)=>(this.backupNewDomainUsed=!1,gQ===AccessPoint.runOutOfUrlSymbol?(this.usedUrl=[],IQ):throwError(gQ))))}),_defineProperty$1(this,"getProxyApUrl$",(nQ,sQ)=>{var aQ,cQ;return of(...(sQ??((areaConfig==null?void 0:areaConfig.PROXY_AP.slice(0,3))||["ap-proxy-1.agora.io","ap-proxy-2.agora.io"])).map(getApUrl)).pipe(take(nQ?Math.max(getParameter("RECONNECTING_AP_NUM"),(aQ=areaConfig==null?void 0:areaConfig.CODES.size)!==null&&aQ!==void 0?aQ:0):(cQ=areaConfig==null?void 0:areaConfig.CODES.size)!==null&&cQ!==void 0?cQ:AP_CONCURRENT_REQ_NUM))}),_defineProperty$1(this,"context",void 0),_defineProperty$1(this,"reportIntervalId",void 0),_defineProperty$1(this,"fetchCloudProxy",(nQ,sQ)=>{const aQ=uniquePrefixedId("AP-",this.loggerId);this.log("The AccessPoint requests %s(%s)",nQ,aQ);const cQ=new AbortController;return this.apFinish$.subscribe(()=>cQ.abort()),defer(async()=>{const gQ=getRandomInt(0,Number.MAX_SAFE_INTEGER);return this.log("%s request opid: %d",aQ,gQ),this.context.sendReport("ApRequest",{sid:this.context.sid,userId:this.context.uid,lts:Long$2.fromNumber(Date.now()),elapse:getElapse(this.context.startTime),apAddr:nQ,opId:Long$2.fromNumber(gQ),envId:0,flag:128,version:VERSION_NO,subVersion:SUBVERSION,connectionsequence:Long$2.fromNumber(0),rtmapflag:Long$2.fromNumber(0)}),postWithAbortSignal(nQ,{headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"90","Content-Type":"application/json"},body:{sid:this.context.sid,opid:gQ,appid:this.context.appId,client_ts:Math.ceil(Date.now()/1e3),request_bodies:[{uri:22,buffer:{service_ids:[7,16],key:sQ??this.context.key,cname:this.context.uid,uid:0,detail:_objectSpread2({},areaConfig===void 0?{11:[AreaCodeMap.CHINA,AreaCodeMap.GLOBAL].join(","),12:"1",[AP_DETAIL_KEY_BUSINESS_TYPE]:"RTM2"}:{11:Array.from(areaConfig.CODES).map(IQ=>IQ===AreaCodeMap.OVERSEA?"".concat(AreaCodeMap.ASIA,",").concat(AreaCodeMap.EUROPE,",").concat(AreaCodeMap.AFRICA,",").concat(AreaCodeMap.NORTH_AMERICA,",").concat(AreaCodeMap.SOUTH_AMERICA,",").concat(AreaCodeMap.OCEANIA):IQ).join(","),12:"1",[AP_DETAIL_KEY_BUSINESS_TYPE]:"RTM2"})}}]},signal:cQ.signal})}).pipe(catchError(gQ=>(gQ.name!=="AbortError"&&this.logError("The ProxyAP request reg server failure, %s",gQ),EMPTY)),mergeMap(async gQ=>{let{responseText:IQ}=gQ;const EQ=JSON.parse(IQ);this.log("The %s response is %o",aQ,EQ);const{response_body:CQ}=EQ;if(CQ===void 0||CQ.length===0||CQ.some(UQ=>{var PQ;return((PQ=UQ.buffer)===null||PQ===void 0?void 0:PQ.code)===void 0||UQ.uri!==23})){const{code:UQ,reason:PQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOGIN_REJECTED);throwError(new RtmUnavailableError(this.operation,[PQ+"cloud proxy response_body not valid"],UQ))}const dQ=CQ.filter(UQ=>UQ.buffer.code!==0);if(dQ.length!==0){const UQ=dQ.find(PQ=>PQ.buffer.flag===128);return UQ!==void 0?this.handleUniLbsError(UQ.buffer.code,nQ):(this.logError("cloud proxy error response"),this.handleUniLbsError(dQ[0].buffer.code,nQ))}let lQ=[];for(let UQ=0;UQ<CQ.length;UQ++){var uQ,hQ;const PQ=CQ[UQ];var BQ,QQ,fQ;if((PQ==null||(uQ=PQ.buffer)===null||uQ===void 0?void 0:uQ.flag)===262144)(BQ=PQ.buffer)===null||BQ===void 0||(BQ=BQ.edges_services)===null||BQ===void 0||(QQ=(fQ=BQ).forEach)===null||QQ===void 0||QQ.call(fQ,OQ=>{let{ip:YQ}=OQ;isValidIp(YQ)&&this.context.cloudProxyServers.indexOf(YQ)===-1&&(this.log("got cloud proxy server: %s",YQ),this.context.cloudProxyServers.push(YQ))});else if((PQ==null||(hQ=PQ.buffer)===null||hQ===void 0?void 0:hQ.flag)===128){var _Q,RQ,wQ,bQ;for(let OQ=0,YQ=PQ.buffer.edges_services;OQ<YQ.length;OQ++){const SQ=YQ[OQ];lQ.some(xQ=>xQ.ip===SQ.ip)||lQ.push({ip:SQ.ip,ticket:PQ.buffer.cert})}this.context.rtmArea=(_Q=(RQ=PQ.buffer)===null||RQ===void 0||(RQ=RQ.detail)===null||RQ===void 0?void 0:RQ[9])!==null&&_Q!==void 0?_Q:"",this.context.vid=(wQ=(bQ=PQ.buffer)===null||bQ===void 0||(bQ=bQ.detail)===null||bQ===void 0?void 0:bQ[8])!==null&&wQ!==void 0?wQ:"",setVidParameter(this.context.appId,this.context.vid)}}const NQ=getParameter("EDGE_IP_LIST");return this.log("registrar EDGE_IP_LIST: ".concat(NQ," ")),typeof NQ=="string"&&(lQ=JSON.parse(NQ).map(PQ=>({ip:PQ,ticket:lQ[0].ticket}))),of(...lQ,queueScheduler)}),catchError(gQ=>isRtmError(gQ)?throwError(gQ):EMPTY),mergeAll(),filter(gQ=>gQ!==void 0&&typeof gQ.ip=="string"&&typeof gQ.ticket=="string"&&isValidIp(gQ.ip)))}),_defineProperty$1(this,"fetchAp",(nQ,sQ)=>{const aQ=uniquePrefixedId("AP-",this.loggerId);this.log("The AccessPoint requests %s(%s)",nQ,aQ);const cQ=new AbortController;this.apFinish$.subscribe(()=>cQ.abort());const gQ=getRandomInt(0,Number.MAX_SAFE_INTEGER);return defer(async()=>(this.log("%s request opid: %d",aQ,gQ),this.context.sendReport("ApRequest",{sid:this.context.sid,userId:this.context.uid,lts:Long$2.fromNumber(Date.now()),elapse:getElapse(this.context.startTime),apAddr:nQ,opId:Long$2.fromNumber(gQ),envId:0,flag:128,version:VERSION_NO,subVersion:SUBVERSION,connectionsequence:Long$2.fromNumber(0),rtmapflag:Long$2.fromNumber(0)}),postWithAbortSignal(nQ,{headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"69","Content-Type":"application/json"},body:{flag:128,opid:gQ,key:sQ||this.context.key,cname:this.context.uid,detail:_objectSpread2({},areaConfig===void 0?{11:[AreaCodeMap.CHINA,AreaCodeMap.GLOBAL].join(","),12:"1",[AP_DETAIL_KEY_BUSINESS_TYPE]:"RTM2"}:{11:Array.from(areaConfig.CODES).map(IQ=>IQ===AreaCodeMap.OVERSEA?"".concat(AreaCodeMap.ASIA,",").concat(AreaCodeMap.EUROPE,",").concat(AreaCodeMap.AFRICA,",").concat(AreaCodeMap.NORTH_AMERICA,",").concat(AreaCodeMap.SOUTH_AMERICA,",").concat(AreaCodeMap.OCEANIA):IQ).join(","),12:"1",[AP_DETAIL_KEY_BUSINESS_TYPE]:"RTM2"}),uid:0,sid:this.context.sid},signal:cQ.signal}))).pipe(catchError(IQ=>(this.context.addReportEvents("ApEvent",{sid:this.context.sid,userId:this.context.uid,lts:Long$2.fromNumber(Date.now()),elapse:getElapse(this.context.startTime),apAddr:nQ,linkServerList:[],serverErrCode:10,flag:128,envId:0,opId:Long$2.fromNumber(gQ),errCode:0,area:"",isp:"",version:VERSION_NO,subVersion:SUBVERSION,connectionsequence:Long$2.fromNumber(0),localWanIp:"",responseTime:0,apLinkType:"tcp",resultcount:0,validresultcount:0,newvalidresultcount:0}),IQ.name!=="AbortError"&&this.logError("The AP request reg server failure, %s",IQ),EMPTY)),mergeMap(async IQ=>{var EQ;let{responseText:CQ}=IQ;const dQ=JSON.parse(CQ);this.log("The %s response is %o",aQ,dQ);const{code:lQ,addresses:uQ,detail:hQ}=dQ;if(this.context.vid=(EQ=hQ[8])!==null&&EQ!==void 0?EQ:"",setVidParameter(this.context.appId,this.context.vid),this.context.couldReportEvent){var BQ,QQ;const RQ=initEventReportTimer(this.context.vid,this.context.appId,(BQ=this.context.config.cloudProxy)!==null&&BQ!==void 0&&BQ,(QQ=this.context.rtmConfig.privateConfig)===null||QQ===void 0?void 0:QQ.eventUploadHosts,this.context.couldReportEvent);this.reportIntervalId=RQ}if(this.context.addReportEvents("ApEvent",{sid:this.context.sid,userId:this.context.uid,lts:Long$2.fromNumber(Date.now()),elapse:getElapse(this.context.startTime),apAddr:nQ,linkServerList:uQ.map(RQ=>RQ.ip),serverErrCode:lQ,flag:128,envId:0,opId:Long$2.fromNumber(gQ),errCode:0,area:hQ[9],isp:hQ[2],version:VERSION_NO,subVersion:SUBVERSION,connectionsequence:Long$2.fromNumber(0),localWanIp:"",responseTime:0,apLinkType:"tcp",resultcount:uQ.length,validresultcount:uQ.length,newvalidresultcount:uQ.length}),this.info(dQ),lQ!==0)return this.handleUniLbsError(lQ,nQ);let fQ=uQ;const _Q=getParameter("EDGE_IP_LIST");return this.log("registrar EDGE_IP_LIST: ".concat(_Q)),_Q!=null&&_Q.length&&(fQ=_Q.map(wQ=>wQ.replace(/-/g,".")).map(wQ=>({ip:wQ,ticket:fQ[0].ticket}))),fQ.length===0?throwError(new Error("No available edge address to connect")):(this.context.rtmArea=hQ==null?void 0:hQ[9],of(...fQ,queueScheduler))}),mergeAll(),catchError(IQ=>isRtmError(IQ)?throwError(IQ):EMPTY),filter(IQ=>IQ!==void 0&&typeof IQ.ip=="string"&&typeof IQ.ticket=="string"))}),this.context=eQ,this.privateAPs=(iQ=this.context.rtmConfig.privateConfig)===null||iQ===void 0?void 0:iQ.accessPointHosts,this.resetRestDomains(),this.getApEdgeInfoEndFirst$=function(){let nQ=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return timer(0,nQ||rQ?getParameter("RECONNECTING_AP_INTERVAL"):2e3).pipe(take(1),tap(()=>{oQ.retryCount+=1}),mergeMap(()=>oQ.context.config.cloudProxy||oQ.context.socketUseProxy?oQ.getProxyApUrl$(nQ||rQ,oQ.privateAPs):(oQ.retryCount>=4&&(oQ.retryCount=0),(areaConfig===void 0?[...oQ.AP_DOMAINS_IO,...oQ.AP_DOMAINS_NEW].length>0:oQ.retryCount<=3)?oQ.getApUrl$(nQ||rQ,oQ.privateAPs):oQ.getBackupApUrl$(nQ||rQ,oQ.privateAPs))),mergeMap(sQ=>oQ.context.config.cloudProxy||oQ.context.socketUseProxy?oQ.fetchCloudProxy(sQ):oQ.fetchAp(sQ)),catchError(sQ=>(sQ instanceof TimeoutError&&oQ.warn("AP request timeout"),throwError(sQ))),distinct(sQ=>{let{ip:aQ}=sQ;return aQ}),takeUntil(oQ.apFinish$))},this.getApEdgeInfo$=nQ=>timer(0,nQ||rQ?getParameter("RECONNECTING_AP_INTERVAL"):2e3).pipe(take(1),tap(()=>{this.retryCount+=1}),mergeMap(()=>this.context.config.cloudProxy||this.context.socketUseProxy?this.getProxyApUrl$(nQ||rQ,this.privateAPs):(areaConfig===void 0?[...this.AP_DOMAINS_IO,...this.AP_DOMAINS_NEW].length>0:this.retryCount<=3)?this.getApUrl$(nQ||rQ,this.privateAPs):this.getBackupApUrl$(nQ||rQ,this.privateAPs)),mergeMap(sQ=>(this.updateApDomainArrays(sQ),this.includeDomain(sQ,"backup")&&!this.context.useAp4Ipv6Reg&&(this.context.useAp4Ipv6Reg=!0),this.includeDomain(sQ,"ipv6")&&(this.context.useAp4Ipv6Reg=!1,this.resetRestDomains()),(this.context.config.cloudProxy||this.context.socketUseProxy?this.fetchCloudProxy(sQ):this.fetchAp(sQ)).pipe())),catchError(sQ=>(sQ instanceof TimeoutError&&this.warn("AP request timeout"),throwError(sQ))),distinct(sQ=>{let{ip:aQ}=sQ;return aQ}),takeUntil(this.apFinish$))}clearUp(){this.failedAreas.clear(),this.retryCount=0}includeDomain(eQ,AQ){let iQ=!1;return(AQ==="ipv6"?AP_DOMAINS_IPV6:[...AP_BACKUP_DOMAINS_IO,...AP_BACKUP_DOMAINS_NEW]).forEach(oQ=>{eQ.includes(oQ)&&(iQ=!0)}),iQ}updateApDomainArrays(eQ){this.restDomains=this.restDomains.filter(AQ=>!eQ.includes(AQ)),this.AP_DOMAINS_IPV6=this.AP_DOMAINS_IPV6.filter(AQ=>!eQ.includes(AQ)),this.AP_DOMAINS_NEW=this.AP_DOMAINS_NEW.filter(AQ=>!eQ.includes(AQ)),this.AP_DOMAINS_IO=this.AP_DOMAINS_IO.filter(AQ=>!eQ.includes(AQ)),this.AP_BACKUP_DOMAINS_NEW=this.AP_BACKUP_DOMAINS_NEW.filter(AQ=>!eQ.includes(AQ)),this.AP_BACKUP_DOMAINS_IO=this.AP_BACKUP_DOMAINS_IO.filter(AQ=>!eQ.includes(AQ))}resetRestDomains(){this.AP_DOMAINS_IPV6=[...AP_DOMAINS_IPV6],this.AP_DOMAINS_NEW=[...AP_DOMAINS_NEW],this.AP_DOMAINS_IO=[...AP_DOMAINS_IO],this.AP_BACKUP_DOMAINS_NEW=[...AP_BACKUP_DOMAINS_NEW],this.AP_BACKUP_DOMAINS_IO=[...AP_BACKUP_DOMAINS_IO],this.restDomains=[...this.AP_DOMAINS_NEW,...this.AP_DOMAINS_IO,...this.AP_DOMAINS_IPV6,...this.AP_BACKUP_DOMAINS_NEW,...this.AP_BACKUP_DOMAINS_IO]}}_defineProperty$1(AccessPoint,"runOutOfUrlSymbol",Symbol("AP urls are used up"));const ConnectionError=genError();class Connection extends EventBase{constructor(eQ,AQ,iQ){var oQ;super(AQ,"Connection"),_defineProperty$1(this,"apClient",void 0),_defineProperty$1(this,"startApRequest$",new Subject),_defineProperty$1(this,"endLogin$",new Subject),_defineProperty$1(this,"lastOpenSockets",[new ReplaySubject(1),new ReplaySubject(1)]),_defineProperty$1(this,"EDGE_ENV_PORT",(oQ=getParameter("EDGE_ENV_PORT"))!==null&&oQ!==void 0?oQ:EDGE_ENV_PORT),_defineProperty$1(this,"curOpenSockets",[void 0,void 0]),_defineProperty$1(this,"ipIterator",0),_defineProperty$1(this,"loginSocketOpenFailureCount",0),_defineProperty$1(this,"firstEnv",Math.random()>=.5?1:0),_defineProperty$1(this,"firstSocketOpener",void 0),_defineProperty$1(this,"secondSocketOpener",void 0),_defineProperty$1(this,"firstOpenKeeperSubject",new Subject),_defineProperty$1(this,"secondOpenKeeperSubject",new Subject),_defineProperty$1(this,"blacklistedIP",{}),_defineProperty$1(this,"edgeInfoReplayed",void 0),_defineProperty$1(this,"firstEnvOpenSocket",void 0),_defineProperty$1(this,"firstOpenKeeperSub",void 0),_defineProperty$1(this,"secondOpenKeeperSub",void 0),_defineProperty$1(this,"context",void 0),_defineProperty$1(this,"logger",void 0),_defineProperty$1(this,"cancelLogin",!1),this.context=eQ,this.logger=AQ,this.apClient=new AccessPoint(this.context,AQ),this.apClient.apFinish$.subscribe(()=>{this.log("Ap client fetch finished")});const rQ=[];let nQ;this.edgeInfoReplayed=this.startApRequest$.pipe(tap(()=>{if(this.log("start request ap by getApEdgeInfo$"),this.cancelLogin)throw this.handleCancelLogin()}),switchMap(()=>this.apClient.getApEdgeInfo$(iQ).pipe(retryWhen(sQ=>sQ.pipe(tap(aQ=>{if(isRtmError(aQ))throw aQ}),delay(iQ?getParameter("RECONNECTING_AP_INTERVAL"):900),takeUntil(this.apClient.apFinish$))),filter(sQ=>{var aQ;return!some$1(rQ,sQ)&&((aQ=this.blacklistedIP[sQ.ip])!==null&&aQ!==void 0?aQ:0)<=1}),tap(sQ=>{rQ.push(sQ),this.log("An edge info got %o",sQ)}),tap({error:sQ=>{this.logError("get edge info error %o",sQ),this.emit("connectionInitFailure",sQ)}}),finalize(()=>{this.apClient.clearUp()}))),takeUntil(this.endLogin$),shareReplay()),this.firstEnvOpenSocket=this.edgeInfoReplayed.pipe(mergeMap(sQ=>{if(sQ===void 0)return throwError(new Error("Invalid edge info"));const{ip:aQ,ticket:cQ}=sQ;this.emit("syncTicketUpdated",{ticket:atob(cQ),vid:this.context.vid}),this.log("create first socket ip: %s, env: %s",aQ,this.firstEnv);const gQ=new Socket(aQ,this.firstEnv,cQ,this.context,AQ,nQ);if(this.firstEnv=this.firstEnv===1?0:1,gQ.once("connectionFailure",()=>this.onSocketConnectionFailure(gQ)),!iQ&&getParameter("ENABLE_EDGE_AUTO_FALLBACK")&&!this.context.config.cloudProxy){const IQ=Date.now();let EQ;gQ.on("reconnect",()=>{var CQ;this.loginSocketOpenFailureCount+=1,(CQ=EQ)!==null&&CQ!==void 0||(EQ=Date.now()-IQ),EQ<500&&this.loginSocketOpenFailureCount>1&&this.context.rtmConfig.privateConfig===void 0&&this.context.socketUseProxy===!0?(this.context.useAp4Ipv6Reg=!0,this.context.socketUseProxy=!1):EQ<500&&this.loginSocketOpenFailureCount>1&&this.context.rtmConfig.privateConfig===void 0&&(this.context.socketUseProxy=!0)})}return nQ=!gQ.useNewDomain,gQ.open$.pipe(mapTo(gQ))}),takeUntil(this.apClient.apFinish$),take(1),tap(sQ=>{this.log("The first websocket of ENV_%d opened to %s:%d",sQ.env,sQ.ip,this.EDGE_ENV_PORT[sQ.env]),this.curOpenSockets[sQ.env]=sQ,this.lastOpenSockets[sQ.env].next(sQ),this.firstEnv=sQ.env,this.openSecondSocket(sQ.env,sQ.ip,sQ.useNewDomain)}),share()),this.firstSocketOpener=this.firstEnvOpenSocket.pipe(mergeMap(sQ=>sQ.open$.pipe(tap(()=>{this.log("The websocket of first ENV_%d re-opened to %s:%d",sQ.env,sQ.ip,this.EDGE_ENV_PORT[sQ.env]),this.curOpenSockets[sQ.env]=sQ,this.lastOpenSockets[sQ.env].next(sQ)}))),tap(()=>{this.log("first socket re opened")})),this.subKeeperSubject()}subKeeperSubject(){const eQ=this.firstOpenKeeperSubject.pipe(switchAll()).pipe(tap(()=>{this.log("firstOpenKeeperSubject switch æå¼ååºæ¥")}));this.firstOpenKeeperSub&&this.firstOpenKeeperSub.unsubscribe(),this.firstOpenKeeperSub=eQ.subscribe({error:this.logError})}unsubscribeSecondOpenKeeperSub(){var eQ;(eQ=this.secondOpenKeeperSub)===null||eQ===void 0||eQ.unsubscribe()}initConnection(){this.unsubscribeSecondOpenKeeperSub(),this.log("initConnection, and start firstSocketOpener, firstOpenKeeperSubject emit next"),this.firstOpenKeeperSubject.next(this.firstSocketOpener),this.startApRequest$.next(void 0)}closeSocket(eQ,AQ){if(![0,1].includes(eQ))throw new CommonError({INVALID_ENV:"The env argument is not 0 or 1"});let iQ;eQ===this.firstEnv?(iQ=this.firstOpenKeeperSub,this.firstOpenKeeperSub=void 0):(iQ=this.secondOpenKeeperSub,this.secondOpenKeeperSub=void 0);const oQ=this.curOpenSockets[eQ];this.curOpenSockets[eQ]=void 0,oQ&&(oQ.isActiveClose=!0,setTimeout(()=>{oQ.close()},AQ)),iQ!==void 0&&setTimeout(()=>{var rQ;(rQ=iQ)===null||rQ===void 0||rQ.unsubscribe()},AQ)}waitClosing(eQ){return eQ.isActiveClose=!0,eQ.open$.pipe(ignoreElements(),catchError(AQ=>AQ.message===lib_es5.normalClosureMessage?EMPTY:throwError(AQ)),timeout(LOGOUT_SOCKET_CLOSE_TIMEOUT),catchError(AQ=>AQ instanceof TimeoutError?(this.warn("Force closing the ENV_%d connection",eQ.env),EMPTY):throwError(AQ)))}onSocketConnectionFailure(eQ){const AQ=[0,1].filter(oQ=>oQ!==eQ.env)[0],iQ=this.curOpenSockets[AQ];eQ.env===this.context.connSyncEnv&&(this.context.connSyncEnv=void 0,this.warn("change connSyncEnv: %d to undefined in onSocketConnectionFailure",eQ.env)),this.log("ENV_".concat(eQ.env,"(").concat(eQ.name,"): connectionFailure received, otherSocketState: ").concat(iQ==null?void 0:iQ.loggedIn)),iQ&&iQ.loggedIn?this.reopenSocketWithApRequest(eQ.env):(this.log("ENV_".concat(eQ.env,"(").concat(eQ.name,"): will emit socketsFailure")),iQ&&this.closeSocket(iQ.env,0),this.emit("socketsFailure"))}openSecondSocket(eQ,AQ,iQ){const oQ=eQ===1?0:1;this.secondSocketOpener=this.edgeInfoReplayed.pipe(reduce((nQ,sQ)=>[...nQ,sQ],[]),map$1(nQ=>sortBy$1(nQ,sQ=>{let{ip:aQ}=sQ;return calIpDistance(AQ,aQ)}).slice(-1)[0]),mergeMap(nQ=>{if(nQ===void 0)return throwError(new Error("Invalid edge info"));const{ip:sQ,ticket:aQ}=nQ,cQ=this.curOpenSockets[eQ];cQ!=null&&cQ.loggedIn||this.warn("first socket is not logged in, can not open second socket, unsubscribe secondOpenKeeperSub"),this.log("create second socket. ip: %s, env: %s",sQ,oQ);const gQ=new Socket(sQ,oQ,aQ,this.context,this.logger,iQ);return gQ.on("connectionFailure",()=>this.onSocketConnectionFailure(gQ)),gQ.open$.pipe(tap(()=>{this.lastOpenSockets[oQ].next(gQ),this.curOpenSockets[oQ]=gQ,this.log("The second websocket of ENV_%d opened to %s:%d",gQ.env,gQ.ip,this.EDGE_ENV_PORT[gQ.env])}))}),share());const rQ=this.secondOpenKeeperSubject.pipe(switchAll());this.secondOpenKeeperSub=rQ.subscribe({error:this.logError}),this.secondOpenKeeperSubject.next(this.secondSocketOpener)}reopenSocketWithApRequest(eQ){const AQ=[0,1].filter(sQ=>sQ!==eQ)[0],iQ=this.curOpenSockets[AQ];if(iQ===void 0)return;const oQ=iQ.ip;let rQ;const nQ=(sQ=>sQ.pipe(throwIfEmpty(()=>new ConnectionError({AP_NO_AVAILABLE_EDGE:"No available edge address to connect"})),retryWhen(aQ=>aQ.pipe(tap(cQ=>{if(cQ.code!==RTMErrorCode.RTM_ERROR_TOKEN_EXPIRED)if(cQ.code!==RTMErrorCode.RTM_ERROR_LOGIN_NOT_AUTHORIZED){if(isRtmError(cQ))throw cQ}else this.apClient.apFinish$.next(void 0);else this.apClient.apFinish$.next(void 0)}),delay(getParameter("RECONNECTING_AP_INTERVAL")),takeUntil(timer(15e3)))),tap(aQ=>{this.log("An edge info got %o",aQ)}),finalize(()=>{this.apClient.clearUp()})))(this.apClient.getApEdgeInfoEndFirst$(!0)).pipe(reduce((sQ,aQ)=>[...sQ,aQ],[]),map$1(sQ=>{const aQ=sortBy$1(sQ,cQ=>{let{ip:gQ}=cQ;return calIpDistance(oQ,gQ)});return aQ.length-1>=this.ipIterator?aQ.slice(-this.ipIterator++-1)[0]:(this.ipIterator=0,aQ.slice(-1)[0])}),throwIfEmpty(),mergeMap(sQ=>{if(sQ===void 0)return throwError(new Error("Invalid edge info"));const{ip:aQ,ticket:cQ}=sQ;this.emit("syncTicketUpdated",{ticket:atob(cQ),vid:this.context.vid}),this.log("reopen socket ip: %s, env: %s",aQ,eQ);const gQ=new Socket(aQ,eQ,cQ,this.context,this.logger,rQ);return gQ.on("connectionFailure",()=>this.onSocketConnectionFailure(gQ)),rQ=!gQ.useNewDomain,gQ.open$.pipe(mapTo(gQ))}),mergeMap(sQ=>sQ.open$.pipe(tap(()=>{this.log("The websocket of ENV_%d re-opened to %s:%d using ap",sQ.env,sQ.ip,this.EDGE_ENV_PORT[sQ.env]),this.curOpenSockets[eQ]=sQ,this.lastOpenSockets[eQ].next(sQ)}))),share());eQ===this.firstEnv?(this.firstOpenKeeperSubject.next(nQ),this.log("reopenSocketWithAp, and start openSocket$, firstOpenKeeperSubject emit next")):this.secondOpenKeeperSubject.next(nQ)}handleCancelLogin(){const eQ=OperationName.login,{code:AQ,reason:iQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOGIN_CANCELED);return new RtmUnavailableError(eQ,[iQ],AQ)}stopLogin(){this.endLogin$.next()}}var isMobile$2={exports:{}};isMobile$2.exports=isMobile,isMobile$2.exports.isMobile=isMobile,isMobile$2.exports.default=isMobile;const mobileRE=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,notMobileRE=/CrOS/,tabletRE=/android|ipad|playbook|silk/i;function isMobile(tQ){tQ||(tQ={});let eQ=tQ.ua;if(eQ||typeof navigator>"u"||(eQ=navigator.userAgent),eQ&&eQ.headers&&typeof eQ.headers["user-agent"]=="string"&&(eQ=eQ.headers["user-agent"]),typeof eQ!="string")return!1;let AQ=mobileRE.test(eQ)&&!notMobileRE.test(eQ)||!!tQ.tablet&&tabletRE.test(eQ);return!AQ&&tQ.tablet&&tQ.featureDetect&&navigator&&navigator.maxTouchPoints>1&&eQ.indexOf("Macintosh")!==-1&&eQ.indexOf("Safari")!==-1&&(AQ=!0),AQ}var isMobileExports=isMobile$2.exports,isMobile$1=getDefaultExportFromCjs(isMobileExports);const implementsFunction=(tQ,eQ)=>tQ!=null&&typeof tQ[eQ]=="function",isArrayLike=tQ=>tQ!=null&&typeof tQ!="function"&&tQ.length!==void 0,isIterable=tQ=>tQ!=null&&typeof tQ[Symbol.iterator]=="function",compare=(tQ,eQ)=>tQ===eQ?0:tQ==null?eQ==null?0:-1:eQ==null?tQ==null?0:1:typeof tQ.compare=="function"?tQ.compare(eQ):typeof eQ.compare=="function"?-eQ.compare(tQ):tQ<eQ?-1:tQ>eQ?1:0,OBJP=Object.getPrototypeOf({}),FN="function",STR="string",equiv=(tQ,eQ)=>{let AQ;return tQ===eQ||(tQ==null?tQ==eQ:typeof tQ.equiv===FN?tQ.equiv(eQ):eQ==null?tQ==eQ:typeof eQ.equiv===FN?eQ.equiv(tQ):typeof tQ!==STR&&typeof eQ!==STR&&(AQ=Object.getPrototypeOf(tQ),AQ!=null&&AQ!==OBJP||(AQ=Object.getPrototypeOf(eQ),AQ!=null&&AQ!==OBJP)?typeof tQ!==FN&&tQ.length!==void 0&&typeof eQ!==FN&&eQ.length!==void 0?equivArrayLike(tQ,eQ):tQ instanceof Set&&eQ instanceof Set?equivSet(tQ,eQ):tQ instanceof Map&&eQ instanceof Map?equivMap(tQ,eQ):tQ instanceof Date&&eQ instanceof Date?tQ.getTime()===eQ.getTime():tQ instanceof RegExp&&eQ instanceof RegExp?tQ.toString()===eQ.toString():tQ!=tQ&&eQ!=eQ:equivObject(tQ,eQ)))},equivArrayLike=function(tQ,eQ){let AQ=arguments.length>2&&arguments[2]!==void 0?arguments[2]:equiv,iQ=tQ.length;if(iQ===eQ.length)for(;--iQ>=0&&AQ(tQ[iQ],eQ[iQ]););return iQ<0},equivSet=function(tQ,eQ){let AQ=arguments.length>2&&arguments[2]!==void 0?arguments[2]:equiv;return tQ.size===eQ.size&&AQ([...tQ.keys()].sort(),[...eQ.keys()].sort())},equivMap=function(tQ,eQ){let AQ=arguments.length>2&&arguments[2]!==void 0?arguments[2]:equiv;return tQ.size===eQ.size&&AQ([...tQ].sort(),[...eQ].sort())},equivObject=function(tQ,eQ){let AQ=arguments.length>2&&arguments[2]!==void 0?arguments[2]:equiv;if(Object.keys(tQ).length!==Object.keys(eQ).length)return!1;for(let iQ in tQ)if(!eQ.hasOwnProperty(iQ)||!AQ(tQ[iQ],eQ[iQ]))return!1;return!0},defError=function(tQ){let eQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:AQ=>AQ!==void 0?": "+AQ:"";return class extends Error{constructor(AQ){super(tQ(AQ)+eQ(AQ))}}},IllegalArgumentError=defError(()=>"illegal argument(s)"),illegalArgs=tQ=>{throw new IllegalArgumentError(tQ)},OutOfBoundsError=defError(()=>"index out of bounds"),outOfBounds=tQ=>{throw new OutOfBoundsError(tQ)},ensureIndex=(tQ,eQ,AQ)=>(tQ<eQ||tQ>=AQ)&&outOfBounds(tQ),INV_MAX=1/4294967295;class ARandom{float(){let eQ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;return this.int()*INV_MAX*eQ}norm(){let eQ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;return 2*(this.int()*INV_MAX-.5)*eQ}minmax(eQ,AQ){return this.float()*(AQ-eQ)+eQ}}const random=Math.random;class SystemRandom extends ARandom{int(){return 4294967296*random()>>>0}float(){let eQ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;return random()*eQ}norm(){let eQ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;return 2*(random()-.5)*eQ}}const SYSTEM=new SystemRandom,SEMAPHORE=Symbol(),NO_OP=()=>{},ensureTransducer=tQ=>implementsFunction(tQ,"xform")?tQ.xform():tQ;class Reduced{constructor(eQ){this.value=eQ}deref(){return this.value}}const isReduced=tQ=>tQ instanceof Reduced,unreduced=tQ=>tQ instanceof Reduced?tQ.deref():tQ;function*iterator1(tQ,eQ){const AQ=ensureTransducer(tQ)([NO_OP,NO_OP,(iQ,oQ)=>oQ])[2];for(let iQ=0;iQ<eQ.length;iQ++){let oQ=eQ[iQ],rQ=AQ(SEMAPHORE,oQ);if(isReduced(rQ))return rQ=unreduced(rQ.deref()),void(rQ!==SEMAPHORE&&(yield rQ));rQ!==SEMAPHORE&&(yield rQ)}}const compR=(tQ,eQ)=>[tQ[0],tQ[1],eQ];function map(tQ,eQ){return isIterable(eQ)?iterator1(map(tQ),eQ):AQ=>{const iQ=AQ[2];return compR(AQ,(oQ,rQ)=>iQ(oQ,tQ(rQ)))}}class DCons{constructor(eQ){this._length=0,eQ&&this.into(eQ)}get length(){return this._length}copy(){return new DCons(this)}empty(){return new DCons}clear(){this.release()}release(){let eQ,AQ=this.head;for(;AQ;)eQ=AQ.next,delete AQ.value,delete AQ.prev,delete AQ.next,AQ=eQ;return delete this.head,delete this.tail,this._length=0,!0}compare(eQ){const AQ=this._length;if(AQ<eQ._length)return-1;if(AQ>eQ._length)return 1;if(AQ===0)return 0;{let iQ=this.head,oQ=eQ.head,rQ=0;for(;iQ&&rQ==0;)rQ=compare(iQ.value,oQ.value),iQ=iQ.next,oQ=oQ.next;return rQ}}equiv(eQ){if(!(eQ instanceof DCons||isArrayLike(eQ))||this._length!==eQ.length)return!1;if(!this._length||this===eQ)return!0;let AQ=this.head;for(let iQ=0;iQ<eQ.length;iQ++){let oQ=eQ[iQ];if(!equiv(AQ.value,oQ))return!1;AQ=AQ.next}return!0}*[Symbol.iterator](){let eQ=this.head;for(;eQ;)yield eQ.value,eQ=eQ.next}seq(){let eQ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,AQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.length;if(eQ>=AQ||eQ<0)return;let iQ=this.nthCell(eQ);const oQ=this.nthCell(AQ-1),rQ=nQ=>({first(){return nQ.value},next(){return nQ!==oQ&&nQ.next?rQ(nQ.next):void 0}});return iQ?rQ(iQ):void 0}*cycle(){for(;;)yield*this}$reduce(eQ,AQ){let iQ=this.head;for(;iQ&&!isReduced(AQ);)AQ=eQ(AQ,iQ.value),iQ=iQ.next;return AQ}drop(){const eQ=this.head;if(eQ)return this.head=eQ.next,this.head?delete this.head.prev:delete this.tail,this._length--,eQ.value}cons(eQ){const AQ={value:eQ,next:this.head};return this.head?this.head.prev=AQ:this.tail=AQ,this.head=AQ,this._length++,this}insertBefore(eQ,AQ){eQ||illegalArgs("cell is undefined");const iQ={value:AQ,next:eQ,prev:eQ.prev};return eQ.prev?eQ.prev.next=iQ:this.head=iQ,eQ.prev=iQ,this._length++,this}insertAfter(eQ,AQ){eQ||illegalArgs("cell is undefined");const iQ={value:AQ,next:eQ.next,prev:eQ};return eQ.next?eQ.next.prev=iQ:this.tail=iQ,eQ.next=iQ,this._length++,this}insertBeforeNth(eQ,AQ){return eQ<0&&(eQ+=this._length),eQ<=0?this.cons(AQ):(ensureIndex(eQ,0,this._length),this.insertBefore(this.nthCellUnsafe(eQ),AQ))}insertAfterNth(eQ,AQ){return eQ<0&&(eQ+=this._length),eQ>=this._length-1?this.push(AQ):(ensureIndex(eQ,0,this._length),this.insertAfter(this.nthCellUnsafe(eQ),AQ))}insertSorted(eQ,AQ){AQ=AQ||compare;let iQ=this.head;for(;iQ;){if(AQ(eQ,iQ.value)<=0)return this.insertBefore(iQ,eQ);iQ=iQ.next}return this.push(eQ)}find(eQ){let AQ=this.head;for(;AQ;){if(AQ.value===eQ)return AQ;AQ=AQ.next}}findWith(eQ){let AQ=this.head;for(;AQ;){if(eQ(AQ.value))return AQ;AQ=AQ.next}}concat(){const eQ=this.copy();for(var AQ=arguments.length,iQ=new Array(AQ),oQ=0;oQ<AQ;oQ++)iQ[oQ]=arguments[oQ];for(let rQ=0;rQ<iQ.length;rQ++){let nQ=iQ[rQ];eQ.into(nQ)}return eQ}into(eQ){for(let AQ=0;AQ<eQ.length;AQ++){let iQ=eQ[AQ];this.push(iQ)}}slice(){let eQ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,AQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.length,iQ=eQ<0?eQ+this._length:eQ,oQ=AQ<0?AQ+this._length:AQ;(iQ<0||oQ<0)&&illegalArgs("invalid indices: ${from} / ${to}");const rQ=new DCons;let nQ=this.nthCell(iQ);for(;nQ&&++iQ<=oQ;)rQ.push(nQ.value),nQ=nQ.next;return rQ}splice(eQ){let AQ,iQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,oQ=arguments.length>2?arguments[2]:void 0;typeof eQ=="number"?(eQ<0&&(eQ+=this._length),ensureIndex(eQ,0,this._length),AQ=this.nthCellUnsafe(eQ)):AQ=eQ;const rQ=new DCons;if(iQ>0)for(;AQ&&iQ-- >0;)this.remove(AQ),rQ.push(AQ.value),AQ=AQ.next;else AQ&&(AQ=AQ.next);if(oQ)if(AQ)for(let nQ=0;nQ<oQ.length;nQ++){let sQ=oQ[nQ];this.insertBefore(AQ,sQ)}else for(let nQ=0;nQ<oQ.length;nQ++){let sQ=oQ[nQ];this.push(sQ)}return rQ}remove(eQ){return eQ.prev?eQ.prev.next=eQ.next:this.head=eQ.next,eQ.next?eQ.next.prev=eQ.prev:this.tail=eQ.prev,this._length--,this}swap(eQ,AQ){if(eQ!==AQ){const iQ=eQ.value;eQ.value=AQ.value,AQ.value=iQ}return this}push(eQ){if(this.tail){const AQ={value:eQ,prev:this.tail};return this.tail.next=AQ,this.tail=AQ,this._length++,this}return this.cons(eQ)}pop(){const eQ=this.tail;if(eQ)return this.tail=eQ.prev,this.tail?delete this.tail.next:delete this.head,this._length--,eQ.value}first(){return this.head&&this.head.value}peek(){return this.tail&&this.tail.value}setHead(eQ){return this.head?(this.head.value=eQ,this):this.cons(eQ)}setTail(eQ){return this.tail?(this.tail.value=eQ,this):this.push(eQ)}setNth(eQ,AQ){const iQ=this.nthCell(eQ);return!iQ&&illegalArgs("index out of bounds: ".concat(eQ)),iQ.value=AQ,this}nth(eQ,AQ){const iQ=this.nthCell(eQ);return iQ?iQ.value:AQ}nthCell(eQ){if(eQ<0&&(eQ+=this._length),!(eQ<0||eQ>=this._length))return this.nthCellUnsafe(eQ)}rotateLeft(){switch(this._length){case 0:case 1:return this;case 2:return this.swap(this.head,this.tail);default:return this.push(this.drop())}}rotateRight(){switch(this._length){case 0:case 1:return this;case 2:return this.swap(this.head,this.tail);default:const eQ=this.peek();return this.pop(),this.cons(eQ)}}map(eQ){const AQ=new DCons;let iQ=this.head;for(;iQ;)AQ.push(eQ(iQ.value)),iQ=iQ.next;return AQ}filter(eQ){const AQ=new DCons;let iQ=this.head;for(;iQ;)eQ(iQ.value)&&AQ.push(iQ.value),iQ=iQ.next;return AQ}reduce(eQ,AQ){let iQ=AQ,oQ=this.head;for(;oQ;)iQ=eQ(iQ,oQ.value),oQ=oQ.next;return iQ}shuffle(eQ){let AQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:SYSTEM;if(this._length<2)return this;for(eQ=eQ??Math.ceil(1.5*Math.log2(this._length));eQ>0;eQ--){let iQ=this.head;for(;iQ;){const oQ=iQ.next;AQ.float()<.5?this.asHead(iQ):this.asTail(iQ),iQ=oQ}}return this}sort(){let eQ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:compare;if(!this._length)return this;let AQ=1;for(;;){let iQ=this.head;this.head=void 0,this.tail=void 0;let oQ=0;for(;iQ;){oQ++;let rQ=iQ,nQ=0;for(let aQ=0;aQ<AQ&&(nQ++,rQ=rQ.next,rQ);aQ++);let sQ=AQ;for(;nQ>0||sQ>0&&rQ;){let aQ;nQ===0?(aQ=rQ,rQ=rQ.next,sQ--):rQ&&sQ!==0?eQ(iQ.value,rQ.value)<=0?(aQ=iQ,iQ=iQ.next,nQ--):(aQ=rQ,rQ=rQ.next,sQ--):(aQ=iQ,iQ=iQ.next,nQ--),this.tail?this.tail.next=aQ:this.head=aQ,aQ.prev=this.tail,this.tail=aQ}iQ=rQ}if(this.tail.next=void 0,oQ<=1)return this;AQ*=2}}reverse(){let eQ=this.head,AQ=this.tail,iQ=(this._length>>>1)+(1&this._length);for(;eQ&&AQ&&iQ>0;){const oQ=eQ.value;eQ.value=AQ.value,AQ.value=oQ,eQ=eQ.next,AQ=AQ.prev,iQ--}return this}asHead(eQ){return eQ===this.head||(this.remove(eQ),this.head.prev=eQ,eQ.next=this.head,eQ.prev=void 0,this.head=eQ,this._length++),this}asTail(eQ){return eQ===this.tail||(this.remove(eQ),this.tail.next=eQ,eQ.prev=this.tail,eQ.next=void 0,this.tail=eQ,this._length++),this}toString(){let eQ=[],AQ=this.head;for(;AQ;)eQ.push(String(AQ.value)),AQ=AQ.next;return eQ.join(", ")}toJSON(){return[...this]}nthCellUnsafe(eQ){let AQ,iQ;for(eQ<=this._length>>1?(AQ=this.head,iQ="next"):(AQ=this.tail,iQ="prev",eQ=this._length-eQ-1);eQ-- >0&&AQ;)AQ=AQ[iQ];return AQ}}class LRUCache{constructor(eQ,AQ){const iQ=Object.assign({maxlen:1/0,maxsize:1/0,map:()=>new Map,ksize:()=>0,vsize:()=>0},AQ);this.map=iQ.map(),this.items=new DCons,this._size=0,this.opts=iQ,eQ&&this.into(eQ)}get length(){return this.items.length}get size(){return this._size}[Symbol.iterator](){return this.entries()}entries(){return map(eQ=>[eQ.k,eQ],this.items)}keys(){return map(eQ=>eQ.k,this.items)}values(){return map(eQ=>eQ.v,this.items)}copy(){const eQ=this.empty();eQ.items=this.items.copy();let AQ=eQ.items.head;for(;AQ;)eQ.map.set(AQ.value.k,AQ),AQ=AQ.next;return eQ}empty(){return new LRUCache(null,this.opts)}release(){this._size=0,this.map.clear();const eQ=this.opts.release;if(eQ){let AQ;for(;AQ=this.items.drop();)eQ(AQ.k,AQ.v);return!0}return this.items.release()}has(eQ){return this.map.has(eQ)}get(eQ,AQ){const iQ=this.map.get(eQ);return iQ?this.resetEntry(iQ):AQ}set(eQ,AQ){const iQ=this.opts.ksize(eQ)+this.opts.vsize(AQ),oQ=this.map.get(eQ);return this._size+=Math.max(0,iQ-(oQ?oQ.value.s:0)),this.ensureSize()&&this.doSetEntry(oQ,eQ,AQ,iQ),AQ}into(eQ){for(let AQ=0;AQ<eQ.length;AQ++){let iQ=eQ[AQ];this.set(iQ[0],iQ[1])}return this}getSet(eQ,AQ){const iQ=this.map.get(eQ);return iQ?Promise.resolve(this.resetEntry(iQ)):AQ().then(oQ=>this.set(eQ,oQ))}delete(eQ){const AQ=this.map.get(eQ);return!!AQ&&(this.removeEntry(AQ),!0)}resetEntry(eQ){return this.items.asTail(eQ),eQ.value.v}ensureSize(){const eQ=this.opts.release,AQ=this.opts.maxsize,iQ=this.opts.maxlen;for(;this._size>AQ||this.length>=iQ;){const oQ=this.items.drop();if(!oQ)return!1;this.map.delete(oQ.k),eQ&&eQ(oQ.k,oQ.v),this._size-=oQ.s}return!0}removeEntry(eQ){const AQ=eQ.value;this.map.delete(AQ.k),this.items.remove(eQ),this.opts.release&&this.opts.release(AQ.k,AQ.v),this._size-=AQ.s}doSetEntry(eQ,AQ,iQ,oQ){eQ?(eQ.value.v=iQ,eQ.value.s=oQ,this.items.asTail(eQ)):(this.items.push({k:AQ,v:iQ,s:oQ}),this.map.set(AQ,this.items.tail))}}class TLRUCache extends LRUCache{constructor(eQ,AQ){super(eQ,AQ=Object.assign({ttl:36e5},AQ))}empty(){return new TLRUCache(null,this.opts)}has(eQ){return this.get(eQ)!==void 0}get(eQ,AQ){const iQ=this.map.get(eQ);if(iQ){if(iQ.value.t>=Date.now())return this.resetEntry(iQ);this.removeEntry(iQ)}return AQ}set(eQ,AQ){let iQ=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.opts.ttl;const oQ=this.opts.ksize(eQ)+this.opts.vsize(AQ),rQ=this.map.get(eQ);if(this._size+=Math.max(0,oQ-(rQ?rQ.value.s:0)),this.ensureSize()){const nQ=Date.now()+iQ;rQ?(rQ.value.v=AQ,rQ.value.s=oQ,rQ.value.t=nQ,this.items.asTail(rQ)):(this.items.push({k:eQ,v:AQ,s:oQ,t:nQ}),this.map.set(eQ,this.items.tail))}return AQ}getSet(eQ,AQ){let iQ=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.opts.ttl;const oQ=this.get(eQ);return oQ?Promise.resolve(oQ):AQ().then(rQ=>this.set(eQ,rQ,iQ))}prune(){const eQ=Date.now();let AQ=this.items.head;for(;AQ;)AQ.value.t<eQ&&this.removeEntry(AQ),AQ=AQ.next}ensureSize(){const eQ=this.opts.maxsize,AQ=this.opts.maxlen,iQ=Date.now();let oQ=this.items.head;for(;oQ&&(this._size>eQ||this.length>=AQ);)oQ.value.t<iQ&&this.removeEntry(oQ),oQ=oQ.next;return super.ensureSize()}}function comparator(tQ,eQ){return Long$2.fromValue(tQ).eq(eQ)}function validateField(tQ,eQ){const AQ=eQ===void 0?tQ.val:eQ,{isBoolean:iQ,isNumber:oQ,oneof:rQ,len:nQ}=tQ;if([iQ,oQ,rQ].filter(gQ=>!gQ).length!==2)throw new TypeError("invalid field type");if(AQ===void 0)return;let sQ=!1;if(rQ!==void 0){const gQ=values$3(rQ);uniqWith$1(gQ,comparator).length===gQ.length&&find$1(gQ,IQ=>comparator(AQ,IQ))!==void 0&&(sQ=!0)}const aQ=iQ!==void 0&&(AQ===0||AQ===1)&&nQ===1,cQ=oQ!==void 0&&AQ.toString(2).length<=nQ;if(!(sQ||aQ||cQ))throw new Error("invalid field value")}class Struct{constructor(){_defineProperty$1(this,"size",0),_defineProperty$1(this,"fields",new Map)}define(eQ,AQ,iQ){if(this.size+=iQ,this.size>64)throw new RangeError("the struct over 64 bits is not supported");const oQ={val:0,isNumber:AQ==="number",isBoolean:AQ==="boolean",oneof:AQ==="number"||AQ==="boolean"?void 0:AQ,len:iQ};validateField(oQ),this.fields.set(eQ,oQ)}set(eQ,AQ){const iQ=this.fields.get(eQ);if(!iQ)throw new Error("field not found");const{oneof:oQ}=iQ;let rQ;if(Long$2.isLong(AQ)||typeof AQ=="number")rQ=AQ;else if(typeof AQ=="boolean")rQ=AQ?1:0;else{if(oQ===void 0)throw new Error("invalid field type");const nQ=oQ[AQ];if(nQ===void 0)throw new Error("field type not found");rQ=nQ}validateField(iQ,rQ),iQ.val=rQ}toNumber(){let eQ=0,AQ=0;for(let iQ=0,oQ=Array.from(this.fields);iQ<oQ.length;iQ++){const[,rQ]=oQ[iQ],{len:nQ,val:sQ}=rQ;sQ!==void 0&&(eQ+=Long$2.fromValue(sQ).shiftLeft(AQ).toNumber(),AQ+=nQ)}return eQ}toLong(){let eQ=Long$2.fromNumber(0,!0),AQ=0;for(let iQ=0,oQ=Array.from(this.fields);iQ<oQ.length;iQ++){const[,rQ]=oQ[iQ],{len:nQ,val:sQ}=rQ;sQ!==void 0&&(eQ=Long$2.fromValue(sQ).shiftLeft(AQ).add(eQ),AQ+=nQ)}return eQ}assert(eQ,AQ){const iQ=this.fields.get(eQ);if(!iQ)throw new Error("field not found");const{oneof:oQ}=iQ;function rQ(nQ){let sQ;if(Long$2.isLong(nQ)||typeof nQ=="number")sQ=nQ;else if(typeof nQ=="boolean")sQ=nQ?1:0;else{if(oQ===void 0)throw new Error("invalid field type");const aQ=oQ[nQ];if(aQ===void 0)throw new Error("field type not found");sQ=aQ}return validateField(iQ,sQ),comparator(sQ,iQ.val)}if(!Array.isArray(AQ))return rQ(AQ);if(AQ.length===1)return rQ(AQ[0]);if(AQ.every(nQ=>typeof nQ=="string")&&oQ!==void 0)return AQ.some(nQ=>rQ(nQ));throw new Error("invalid valueTypes")}from(eQ){const AQ=Long$2.fromValue(eQ);let iQ=0;for(let oQ=0,rQ=Array.from(this.fields);oQ<rQ.length;oQ++){const[,nQ]=rQ[oQ],{len:sQ}=nQ,aQ=Long$2.fromNumber(2**sQ-1,!0).shiftLeft(iQ),cQ=AQ.and(aQ).shiftRightUnsigned(iQ);validateField(nQ,cQ),nQ.val=cQ,iQ+=sQ}}typeOf(eQ){const AQ=this.fields.get(eQ);if(AQ!==void 0){const{oneof:iQ,val:oQ}=AQ;if(iQ!==void 0)for(let rQ=0,nQ=Object.entries(iQ);rQ<nQ.length;rQ++){const[sQ,aQ]=nQ[rQ];if(comparator(oQ,aQ))return sQ}}throw new TypeError("can only get type of oneof type")}}class UserJoinOptions extends Struct{constructor(eQ){super(),this.define("Rejoin","boolean",1),this.define("Unused","number",31),this.define("Platform","number",8),this.define("Version","number",12),this.define("Subversion","number",12),this.set("Platform",WEB_PLATFORM_TYPE),this.set("Version",VERSION_NO),this.set("Subversion",SUBVERSION),this.set("Rejoin",eQ)}}const TextMessageDstType={PeerTextMessage:0,ChannelTextMessage:1,VendorTextMessage:2},RawMessageDstType={PeerRawMessage:3,ChannelRawMessage:4,VendorRawMessage:5},MessageDstType=_objectSpread2(_objectSpread2({},TextMessageDstType),RawMessageDstType),InvitationType={CallInvite:101,CallAccept:102,CallReject:103,CallCancel:104},MessageType=_objectSpread2(_objectSpread2({},MessageDstType),InvitationType),CompressionMethod={Uncompressed:0,Zlib:1};class MessageOption extends Struct{constructor(eQ){if(super(),this.define("MessageType",MessageType,8),this.define("BroadcastJumps","number",2),this.define("ToCache","boolean",1),this.define("FromCache","boolean",1),this.define("CompressionMethod",CompressionMethod,2),this.define("IterationNumber","number",4),this.define("BufferedMessage","boolean",1),this.define("ToArchive","boolean",1),this.define("FromArchive","boolean",1),this.define("kDelegate","number",1),this.define("kSecurity","number",1),this.define("kBypassGroupMemberCheck","number",1),this.define("enableEncryption","boolean",1),this.define("encrytionComplement","number",5),this.define("kHistory","number",1),this.define("undefined","number",33),isLongNum(eQ))this.from(eQ);else if(eQ!==void 0)for(let AQ=0,iQ=getEntries(eQ);AQ<iQ.length;AQ++){const[oQ,rQ]=iQ[AQ];this.set(oQ,rQ)}}isTextMessage(){return this.assert("MessageType",["PeerTextMessage","ChannelTextMessage","VendorTextMessage"])}isRawMessage(){return this.assert("MessageType",["ChannelRawMessage","PeerRawMessage","VendorRawMessage"])}isRawPeerMessage(){return this.assert("MessageType","PeerRawMessage")}isRawChannelMessage(){return this.assert("MessageType","ChannelRawMessage")}isPeerTextMessage(){return this.assert("MessageType","PeerTextMessage")}isChannelTextMessage(){return this.assert("MessageType","ChannelTextMessage")}isInvitation(eQ){return eQ!==void 0?this.assert("MessageType",eQ):getKeys(InvitationType).some(AQ=>this.assert("MessageType",AQ))}isPeerMessage(){return this.assert("MessageType",["PeerTextMessage","PeerRawMessage"])}isZlibCompressed(){return this.assert("CompressionMethod","Zlib")}isFromCache(){return this.assert("FromCache",!0)}isBufferedMessage(){return this.assert("BufferedMessage",!0)}getInvitationType(){if(!this.isInvitation())throw new TypeError("cannot get InvitationType of a normal message type");return this.typeOf("MessageType")}isEncryption(){return this.assert("enableEncryption",!0)}getEncrytionComplement(){var eQ;return(eQ=this.fields.get("encrytionComplement"))===null||eQ===void 0?void 0:eQ.val}}let MetadataRequestErrorCode=function(tQ){return tQ[tQ.kMetadataOk=0]="kMetadataOk",tQ[tQ.kDuplicatedOperation=1]="kDuplicatedOperation",tQ[tQ.kSyncServerError=2]="kSyncServerError",tQ[tQ.kArgumentError=3]="kArgumentError",tQ[tQ.kAutheticationError=4]="kAutheticationError",tQ[tQ.kExceedLimitationError=5]="kExceedLimitationError",tQ[tQ.kOutdateRevision=6]="kOutdateRevision",tQ[tQ.kLockAcquireFailed=7]="kLockAcquireFailed",tQ[tQ.kLockExpired=8]="kLockExpired",tQ[tQ.kLockWatching=9]="kLockWatching",tQ[tQ.kInvalidLock=10]="kInvalidLock",tQ[tQ.kLockReleased=11]="kLockReleased",tQ[tQ.kWriteNotAllowed=12]="kWriteNotAllowed",tQ[tQ.kNoLock=13]="kNoLock",tQ[tQ.kTimeOutError=100]="kTimeOutError",tQ[tQ.kUnknownError=255]="kUnknownError",tQ}({});function convertMetadataServerCodeToSdkCode(tQ){switch(tQ){case MetadataRequestErrorCode.kMetadataOk:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_OK);case MetadataRequestErrorCode.kArgumentError:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_ARGUMENT);case MetadataRequestErrorCode.kOutdateRevision:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_OUTDATED_REVISION);case MetadataRequestErrorCode.kTimeOutError:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT);default:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_FAILED)}}function convertServerCodeToSdkCodeForSub(tQ){switch(tQ){case MetadataRequestErrorCode.kMetadataOk:case MetadataRequestErrorCode.kDuplicatedOperation:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_OK);case MetadataRequestErrorCode.kArgumentError:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_ARGUMENT);case MetadataRequestErrorCode.kTimeOutError:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT);default:return getErrorInfoByCode(tQ)}}function convertLockServerCodeToSdkCode(tQ){switch(tQ){case MetadataRequestErrorCode.kMetadataOk:case MetadataRequestErrorCode.kDuplicatedOperation:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_OK);case MetadataRequestErrorCode.kOutdateRevision:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_ALREADY_EXIST);case MetadataRequestErrorCode.kLockAcquireFailed:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_ACQUIRE_FAILED);case MetadataRequestErrorCode.kNoLock:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_NOT_EXIST);default:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_FAILED)}}function convertDataChannelJoinCodeToSdkCode(tQ,eQ){switch(tQ){case AgoraRTCErrorCode.NOT_SUPPORTED:case AgoraRTCErrorCode.UNEXPECTED_RESPONSE:case AgoraRTCErrorCode.DATASTREAM2_NOT_AVAILABLE:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_NOT_AVAILABLE);case AgoraRTCErrorCode.INIT_DATACHANNEL_TIMEOUT:case AgoraRTCErrorCode.CREATE_DATACHANNEL_ERROR:case AgoraRTCErrorCode.DATACHANNEL_FAILED:case AgoraRTCErrorCode.DATACHANNEL_CONNECTION_TIMEOUT:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_TOPIC_FAILED);case AgoraRTCErrorCode.CAN_NOT_GET_GATEWAY_SERVER:case AgoraRTCErrorCode.VOID_GATEWAY_ADDRESS:case AgoraRTCErrorCode.MULTI_UNILBS_RESPONSE_ERROR:case AgoraRTCErrorCode.UID_CONFLICT:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_FAILED);case AgoraRTCErrorCode.TOKEN_EXPIRE:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_TOKEN_EXPIRED);case AgoraRTCErrorCode.TIMEOUT:case AgoraRTCErrorCode.UNEXPECTED_ERROR:case AgoraRTCErrorCode.INVALID_PARAMS:case AgoraRTCErrorCode.NOT_READABLE:case AgoraRTCErrorCode.INVALID_OPERATION:case AgoraRTCErrorCode.OPERATION_ABORTED:case AgoraRTCErrorCode.WEB_SECURITY_RESTRICT:case AgoraRTCErrorCode.EXCHANGE_SDP_FAILED:case AgoraRTCErrorCode.NETWORK_ERROR:case AgoraRTCErrorCode.NETWORK_TIMEOUT:case AgoraRTCErrorCode.NETWORK_RESPONSE_ERROR:case AgoraRTCErrorCode.API_INVOKE_TIMEOUT:case AgoraRTCErrorCode.ENUMERATE_DEVICES_FAILED:case AgoraRTCErrorCode.DEVICE_NOT_FOUND:case AgoraRTCErrorCode.ELECTRON_IS_NULL:case AgoraRTCErrorCode.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR:case AgoraRTCErrorCode.CHROME_PLUGIN_NO_RESPONSE:case AgoraRTCErrorCode.CHROME_PLUGIN_NOT_INSTALL:case AgoraRTCErrorCode.MEDIA_OPTION_INVALID:case AgoraRTCErrorCode.PERMISSION_DENIED:case AgoraRTCErrorCode.CONSTRAINT_NOT_SATISFIED:case AgoraRTCErrorCode.TRACK_IS_DISABLED:case AgoraRTCErrorCode.GET_VIDEO_ELEMENT_VISIBLE_ERROR:case AgoraRTCErrorCode.SHARE_AUDIO_NOT_ALLOWED:case AgoraRTCErrorCode.LOW_STREAM_ENCODING_ERROR:case AgoraRTCErrorCode.SET_ENCODING_PARAMETER_ERROR:case AgoraRTCErrorCode.TRACK_STATE_UNREACHABLE:case AgoraRTCErrorCode.INVALID_UINT_UID_FROM_STRING_UID:case AgoraRTCErrorCode.CAN_NOT_GET_PROXY_SERVER:case AgoraRTCErrorCode.UPDATE_TICKET_FAILED:case AgoraRTCErrorCode.INVALID_LOCAL_TRACK:case AgoraRTCErrorCode.INVALID_TRACK:case AgoraRTCErrorCode.SENDER_NOT_FOUND:case AgoraRTCErrorCode.CREATE_OFFER_FAILED:case AgoraRTCErrorCode.SET_ANSWER_FAILED:case AgoraRTCErrorCode.ICE_FAILED:case AgoraRTCErrorCode.PC_CLOSED:case AgoraRTCErrorCode.SENDER_REPLACE_FAILED:case AgoraRTCErrorCode.GET_LOCAL_CAPABILITIES_FAILED:case AgoraRTCErrorCode.GET_LOCAL_CONNECTION_PARAMS_FAILED:case AgoraRTCErrorCode.SUBSCRIBE_FAILED:case AgoraRTCErrorCode.UNSUBSCRIBE_FAILED:case AgoraRTCErrorCode.GATEWAY_P2P_LOST:case AgoraRTCErrorCode.NO_ICE_CANDIDATE:case AgoraRTCErrorCode.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS:case AgoraRTCErrorCode.EXIST_DISABLED_VIDEO_TRACK:case AgoraRTCErrorCode.INVALID_REMOTE_USER:case AgoraRTCErrorCode.REMOTE_USER_IS_NOT_PUBLISHED:case AgoraRTCErrorCode.CUSTOM_REPORT_SEND_FAILED:case AgoraRTCErrorCode.CUSTOM_REPORT_FREQUENCY_TOO_HIGH:case AgoraRTCErrorCode.FETCH_AUDIO_FILE_FAILED:case AgoraRTCErrorCode.READ_LOCAL_AUDIO_FILE_ERROR:case AgoraRTCErrorCode.DECODE_AUDIO_FILE_FAILED:case AgoraRTCErrorCode.WS_ABORT:case AgoraRTCErrorCode.WS_DISCONNECT:case AgoraRTCErrorCode.WS_ERR:case AgoraRTCErrorCode.LIVE_STREAMING_TASK_CONFLICT:case AgoraRTCErrorCode.LIVE_STREAMING_INVALID_ARGUMENT:case AgoraRTCErrorCode.LIVE_STREAMING_INTERNAL_SERVER_ERROR:case AgoraRTCErrorCode.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED:case AgoraRTCErrorCode.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED:case AgoraRTCErrorCode.LIVE_STREAMING_CDN_ERROR:case AgoraRTCErrorCode.LIVE_STREAMING_INVALID_RAW_STREAM:case AgoraRTCErrorCode.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT:case AgoraRTCErrorCode.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE:case AgoraRTCErrorCode.LIVE_STREAMING_WARN_FREQUENT_REQUEST:case AgoraRTCErrorCode.WEBGL_INTERNAL_ERROR:case AgoraRTCErrorCode.BEAUTY_PROCESSOR_INTERNAL_ERROR:case AgoraRTCErrorCode.CROSS_CHANNEL_WAIT_STATUS_ERROR:case AgoraRTCErrorCode.CROSS_CHANNEL_FAILED_JOIN_SRC:case AgoraRTCErrorCode.CROSS_CHANNEL_FAILED_JOIN_DEST:case AgoraRTCErrorCode.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST:case AgoraRTCErrorCode.CROSS_CHANNEL_SERVER_ERROR_RESPONSE:case AgoraRTCErrorCode.METADATA_OUT_OF_RANGE:case AgoraRTCErrorCode.LOCAL_AEC_ERROR:case AgoraRTCErrorCode.INVALID_PLUGIN:case AgoraRTCErrorCode.DISCONNECT_P2P:case AgoraRTCErrorCode.CONVERTING_IMAGEDATA_TO_BLOB_FAILED:case AgoraRTCErrorCode.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED:case AgoraRTCErrorCode.ADD_CANDIDATE_FAILED:case AgoraRTCErrorCode.EXTERNAL_SIGNAL_ABORT:case AgoraRTCErrorCode.IMAGE_MODERATION_UPLOAD_FAILED:case AgoraRTCErrorCode.P2P_MESSAGE_FAILED:case AgoraRTCErrorCode.PROHIBITED_OPERATION:default:return{code:eQ,reason:""}}}class MessageReport extends EventBase{constructor(eQ,AQ,iQ){super(AQ,"MessageReport"),_defineProperty$1(this,"messagecount",this.getInitMessageCount()),_defineProperty$1(this,"context",void 0),_defineProperty$1(this,"rtmMessageCategory",void 0),_defineProperty$1(this,"seq",Long$2.fromNumber(1,!0)),this.context=eQ,this.rtmMessageCategory=iQ}incGetSeq(){return this.seq=this.seq.add(1),this.seq}getInitMessageCount(){return{peerack10mscount:Long$2.fromNumber(0),peerack25mscount:Long$2.fromNumber(0),peerack50mscount:Long$2.fromNumber(0),peerack75mscount:Long$2.fromNumber(0),peerack100mscount:Long$2.fromNumber(0),peerack150mscount:Long$2.fromNumber(0),peerack200mscount:Long$2.fromNumber(0),peerack250mscount:Long$2.fromNumber(0),peerack300mscount:Long$2.fromNumber(0),peerack400mscount:Long$2.fromNumber(0),peerack500mscount:Long$2.fromNumber(0),peerack600mscount:Long$2.fromNumber(0),peerack800mscount:Long$2.fromNumber(0),peerack1000mscount:Long$2.fromNumber(0),peerack2000mscount:Long$2.fromNumber(0),peerack3000mscount:Long$2.fromNumber(0),peerack5000mscount:Long$2.fromNumber(0),peerack7000mscount:Long$2.fromNumber(0),peerackslowcount:Long$2.fromNumber(0),norecipientack10mscount:Long$2.fromNumber(0),norecipientack25mscount:Long$2.fromNumber(0),norecipientack50mscount:Long$2.fromNumber(0),norecipientack75mscount:Long$2.fromNumber(0),norecipientack100mscount:Long$2.fromNumber(0),norecipientack150mscount:Long$2.fromNumber(0),norecipientack200mscount:Long$2.fromNumber(0),norecipientack250mscount:Long$2.fromNumber(0),norecipientack300mscount:Long$2.fromNumber(0),norecipientack400mscount:Long$2.fromNumber(0),norecipientack500mscount:Long$2.fromNumber(0),norecipientack600mscount:Long$2.fromNumber(0),norecipientack800mscount:Long$2.fromNumber(0),norecipientack1000mscount:Long$2.fromNumber(0),norecipientack2000mscount:Long$2.fromNumber(0),norecipientack3000mscount:Long$2.fromNumber(0),norecipientack5000mscount:Long$2.fromNumber(0),norecipientack7000mscount:Long$2.fromNumber(0),norecipientackslowcount:Long$2.fromNumber(0),sentcount:Long$2.fromNumber(0),receivedcount:Long$2.fromNumber(0),acktimeoutcount:Long$2.fromNumber(0),toooftencount:0,receiverofflinecount:0,invalidmessagecount:0,unknowerrorcount:0,servercachedcount:0,timeoutcount:0,successcount:0}}updatePeerAckCount(eQ){const AQ=eQ/2,iQ=[[0,10],[10,25],[25,50],[50,75],[75,100],[100,150],[150,200],[200,250],[250,300],[300,400],[400,500],[500,600],[600,800],[800,1e3],[1e3,2e3],[2e3,3e3],[3e3,5e3],[5e3,7e3]];for(let nQ=0;nQ<iQ.length;nQ++){const sQ=iQ[nQ];if(inRange$1(AQ,sQ[0],sQ[1])){var oQ;const aQ="peerack".concat(sQ[1],"mscount");this.messagecount[aQ]=(oQ=this.messagecount[aQ])===null||oQ===void 0?void 0:oQ.add(1)}else if(AQ>7e3){var rQ;this.messagecount.peerackslowcount=(rQ=this.messagecount.peerackslowcount)===null||rQ===void 0?void 0:rQ.add(1)}}}updateNorecipientackCount(eQ){const AQ=eQ/2,iQ=[[0,10],[10,25],[25,50],[50,75],[75,100],[100,150],[150,200],[200,250],[250,300],[300,400],[400,500],[500,600],[600,800],[800,1e3],[1e3,2e3],[2e3,3e3],[3e3,5e3],[5e3,7e3]];for(let nQ=0;nQ<iQ.length;nQ++){const sQ=iQ[nQ];if(inRange$1(AQ,sQ[0],sQ[1])){var oQ;const aQ="norecipientack".concat(sQ[1],"mscount");this.messagecount[aQ]=(oQ=this.messagecount[aQ])===null||oQ===void 0?void 0:oQ.add(1)}else if(AQ>7e3){var rQ;this.messagecount.norecipientackslowcount=(rQ=this.messagecount.norecipientackslowcount)===null||rQ===void 0?void 0:rQ.add(1)}}}updateCommonCount(eQ){const AQ=this.messagecount[eQ];long.isLong(AQ)?this.messagecount[eQ]=AQ.add(1):this.messagecount[eQ]=AQ+1}report(){this.context.addReportEvents("RtmSdkMessageCount",new RtmSdkMessageCount(_objectSpread2(_objectSpread2({},this.messagecount),{},{vid:Long$2.fromString(this.context.vid||"0"),os:WEB_PLATFORM_TYPE,lts:Long$2.fromNumber(Date.now()),sid:this.context.sid,reportsequence:this.incGetSeq(),apimajorversion:VERSION_NO,apiminorversion:SUBVERSION,userid:this.context.uid,messagecategory:this.rtmMessageCategory}))),this.messagecount=_objectSpread2(_objectSpread2({},this.messagecount),{},{toooftencount:0,receiverofflinecount:0,invalidmessagecount:0,unknowerrorcount:0,servercachedcount:0,timeoutcount:0,successcount:0})}}class ChatManager extends EventBase{constructor(eQ){super(eQ,"ChatManager"),_defineProperty$1(this,"dialogueLru",new TLRUCache(void 0,{maxlen:LRU_MAX_ITEMS,ttl:DIALOGUE_EXPIRE_TIMEOUT}))}getChatInfo(eQ){const AQ=this.dialogueLru.get(eQ);if(this.dialogueLru.prune(),AQ){const{dialogue:oQ,sequence:rQ}=AQ,nQ=rQ.add(1),sQ={dialogue:oQ,sequence:nQ};return this.dialogueLru.set(eQ,{dialogue:oQ,sequence:nQ}),sQ}const iQ={dialogue:getRandomUInt64(),sequence:Long$2.fromNumber(1,!0)};return this.dialogueLru.set(eQ,iQ),iQ}}var AsyncAction$1={},Action$1={},Subscription$1={},isArray={};Object.defineProperty(isArray,"__esModule",{value:!0}),isArray.isArray=Array.isArray||function(tQ){return tQ&&typeof tQ.length=="number"};var isObject$1={};function isObject(tQ){return tQ!==null&&typeof tQ=="object"}Object.defineProperty(isObject$1,"__esModule",{value:!0}),isObject$1.isObject=isObject;var isFunction$1={};function isFunction(tQ){return typeof tQ=="function"}Object.defineProperty(isFunction$1,"__esModule",{value:!0}),isFunction$1.isFunction=isFunction;var UnsubscriptionError={};Object.defineProperty(UnsubscriptionError,"__esModule",{value:!0});var UnsubscriptionErrorImpl=function(){function tQ(eQ){return Error.call(this),this.message=eQ?eQ.length+` errors occurred during unsubscription:
`+eQ.map(function(AQ,iQ){return iQ+1+") "+AQ.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=eQ,this}return tQ.prototype=Object.create(Error.prototype),tQ}();UnsubscriptionError.UnsubscriptionError=UnsubscriptionErrorImpl,Object.defineProperty(Subscription$1,"__esModule",{value:!0});var isArray_1=isArray,isObject_1=isObject$1,isFunction_1=isFunction$1,UnsubscriptionError_1=UnsubscriptionError,Subscription=function(){function tQ(eQ){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,eQ&&(this._ctorUnsubscribe=!0,this._unsubscribe=eQ)}return tQ.prototype.unsubscribe=function(){var eQ;if(!this.closed){var AQ=this,iQ=AQ._parentOrParents,oQ=AQ._ctorUnsubscribe,rQ=AQ._unsubscribe,nQ=AQ._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,iQ instanceof tQ)iQ.remove(this);else if(iQ!==null)for(var sQ=0;sQ<iQ.length;++sQ)iQ[sQ].remove(this);if(isFunction_1.isFunction(rQ)){oQ&&(this._unsubscribe=void 0);try{rQ.call(this)}catch(gQ){eQ=gQ instanceof UnsubscriptionError_1.UnsubscriptionError?flattenUnsubscriptionErrors(gQ.errors):[gQ]}}if(isArray_1.isArray(nQ)){sQ=-1;for(var aQ=nQ.length;++sQ<aQ;){var cQ=nQ[sQ];if(isObject_1.isObject(cQ))try{cQ.unsubscribe()}catch(gQ){eQ=eQ||[],gQ instanceof UnsubscriptionError_1.UnsubscriptionError?eQ=eQ.concat(flattenUnsubscriptionErrors(gQ.errors)):eQ.push(gQ)}}}if(eQ)throw new UnsubscriptionError_1.UnsubscriptionError(eQ)}},tQ.prototype.add=function(eQ){var AQ=eQ;if(!eQ)return tQ.EMPTY;switch(typeof eQ){case"function":AQ=new tQ(eQ);case"object":if(AQ===this||AQ.closed||typeof AQ.unsubscribe!="function")return AQ;if(this.closed)return AQ.unsubscribe(),AQ;if(!(AQ instanceof tQ)){var iQ=AQ;(AQ=new tQ)._subscriptions=[iQ]}break;default:throw new Error("unrecognized teardown "+eQ+" added to Subscription.")}var oQ=AQ._parentOrParents;if(oQ===null)AQ._parentOrParents=this;else if(oQ instanceof tQ){if(oQ===this)return AQ;AQ._parentOrParents=[oQ,this]}else{if(oQ.indexOf(this)!==-1)return AQ;oQ.push(this)}var rQ=this._subscriptions;return rQ===null?this._subscriptions=[AQ]:rQ.push(AQ),AQ},tQ.prototype.remove=function(eQ){var AQ=this._subscriptions;if(AQ){var iQ=AQ.indexOf(eQ);iQ!==-1&&AQ.splice(iQ,1)}},tQ.EMPTY=function(eQ){return eQ.closed=!0,eQ}(new tQ),tQ}();function flattenUnsubscriptionErrors(tQ){return tQ.reduce(function(eQ,AQ){return eQ.concat(AQ instanceof UnsubscriptionError_1.UnsubscriptionError?AQ.errors:AQ)},[])}Subscription$1.Subscription=Subscription;var __extends$2=commonjsGlobal$1&&commonjsGlobal$1.__extends||function(){var tQ=function(eQ,AQ){return tQ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(iQ,oQ){iQ.__proto__=oQ}||function(iQ,oQ){for(var rQ in oQ)oQ.hasOwnProperty(rQ)&&(iQ[rQ]=oQ[rQ])},tQ(eQ,AQ)};return function(eQ,AQ){function iQ(){this.constructor=eQ}tQ(eQ,AQ),eQ.prototype=AQ===null?Object.create(AQ):(iQ.prototype=AQ.prototype,new iQ)}}();Object.defineProperty(Action$1,"__esModule",{value:!0});var Subscription_1=Subscription$1,Action=function(tQ){function eQ(AQ,iQ){return tQ.call(this)||this}return __extends$2(eQ,tQ),eQ.prototype.schedule=function(AQ,iQ){return this},eQ}(Subscription_1.Subscription);Action$1.Action=Action;var __extends$1=commonjsGlobal$1&&commonjsGlobal$1.__extends||function(){var tQ=function(eQ,AQ){return tQ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(iQ,oQ){iQ.__proto__=oQ}||function(iQ,oQ){for(var rQ in oQ)oQ.hasOwnProperty(rQ)&&(iQ[rQ]=oQ[rQ])},tQ(eQ,AQ)};return function(eQ,AQ){function iQ(){this.constructor=eQ}tQ(eQ,AQ),eQ.prototype=AQ===null?Object.create(AQ):(iQ.prototype=AQ.prototype,new iQ)}}();Object.defineProperty(AsyncAction$1,"__esModule",{value:!0});var Action_1=Action$1,AsyncAction=function(tQ){function eQ(AQ,iQ){var oQ=tQ.call(this,AQ,iQ)||this;return oQ.scheduler=AQ,oQ.work=iQ,oQ.pending=!1,oQ}return __extends$1(eQ,tQ),eQ.prototype.schedule=function(AQ,iQ){if(iQ===void 0&&(iQ=0),this.closed)return this;this.state=AQ;var oQ=this.id,rQ=this.scheduler;return oQ!=null&&(this.id=this.recycleAsyncId(rQ,oQ,iQ)),this.pending=!0,this.delay=iQ,this.id=this.id||this.requestAsyncId(rQ,this.id,iQ),this},eQ.prototype.requestAsyncId=function(AQ,iQ,oQ){return oQ===void 0&&(oQ=0),setInterval(AQ.flush.bind(AQ,this),oQ)},eQ.prototype.recycleAsyncId=function(AQ,iQ,oQ){if(oQ===void 0&&(oQ=0),oQ!==null&&this.delay===oQ&&this.pending===!1)return iQ;clearInterval(iQ)},eQ.prototype.execute=function(AQ,iQ){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var oQ=this._execute(AQ,iQ);if(oQ)return oQ;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},eQ.prototype._execute=function(AQ,iQ){var oQ=!1,rQ=void 0;try{this.work(AQ)}catch(nQ){oQ=!0,rQ=!!nQ&&nQ||new Error(nQ)}if(oQ)return this.unsubscribe(),rQ},eQ.prototype._unsubscribe=function(){var AQ=this.id,iQ=this.scheduler,oQ=iQ.actions,rQ=oQ.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,rQ!==-1&&oQ.splice(rQ,1),AQ!=null&&(this.id=this.recycleAsyncId(iQ,AQ,null)),this.delay=null},eQ}(Action_1.Action),AsyncAction_2=AsyncAction$1.AsyncAction=AsyncAction,AsyncScheduler$1={},Scheduler$1={};Object.defineProperty(Scheduler$1,"__esModule",{value:!0});var Scheduler=function(){function tQ(eQ,AQ){AQ===void 0&&(AQ=tQ.now),this.SchedulerAction=eQ,this.now=AQ}return tQ.prototype.schedule=function(eQ,AQ,iQ){return AQ===void 0&&(AQ=0),new this.SchedulerAction(this,eQ).schedule(iQ,AQ)},tQ.now=function(){return Date.now()},tQ}();Scheduler$1.Scheduler=Scheduler;var __extends=commonjsGlobal$1&&commonjsGlobal$1.__extends||function(){var tQ=function(eQ,AQ){return tQ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(iQ,oQ){iQ.__proto__=oQ}||function(iQ,oQ){for(var rQ in oQ)oQ.hasOwnProperty(rQ)&&(iQ[rQ]=oQ[rQ])},tQ(eQ,AQ)};return function(eQ,AQ){function iQ(){this.constructor=eQ}tQ(eQ,AQ),eQ.prototype=AQ===null?Object.create(AQ):(iQ.prototype=AQ.prototype,new iQ)}}();Object.defineProperty(AsyncScheduler$1,"__esModule",{value:!0});var Scheduler_1=Scheduler$1,AsyncScheduler=function(tQ){function eQ(AQ,iQ){iQ===void 0&&(iQ=Scheduler_1.Scheduler.now);var oQ=tQ.call(this,AQ,function(){return eQ.delegate&&eQ.delegate!==oQ?eQ.delegate.now():iQ()})||this;return oQ.actions=[],oQ.active=!1,oQ.scheduled=void 0,oQ}return __extends(eQ,tQ),eQ.prototype.schedule=function(AQ,iQ,oQ){return iQ===void 0&&(iQ=0),eQ.delegate&&eQ.delegate!==this?eQ.delegate.schedule(AQ,iQ,oQ):tQ.prototype.schedule.call(this,AQ,iQ,oQ)},eQ.prototype.flush=function(AQ){var iQ=this.actions;if(this.active)iQ.push(AQ);else{var oQ;this.active=!0;do if(oQ=AQ.execute(AQ.state,AQ.delay))break;while(AQ=iQ.shift());if(this.active=!1,oQ){for(;AQ=iQ.shift();)AQ.unsubscribe();throw oQ}}},eQ}(Scheduler_1.Scheduler),AsyncScheduler_2=AsyncScheduler$1.AsyncScheduler=AsyncScheduler;const blob=new Blob(["var fakeIdToId = {};onmessage = function (event) {	var data = event.data,		name = data.name,		fakeId = data.fakeId,		time;	if(data.hasOwnProperty('time')) {		time = data.time;	}	switch (name) {		case 'setInterval':			fakeIdToId[fakeId] = setInterval(function () {				postMessage({fakeId: fakeId});			}, time);			break;		case 'clearInterval':			if (fakeIdToId.hasOwnProperty (fakeId)) {				clearInterval(fakeIdToId[fakeId]);				delete fakeIdToId[fakeId];			}			break;	}}"]),workerScript=window.URL.createObjectURL(blob),fakeIdToCallback={};let lastFakeId=0;const maxFakeId=2147483647;function getFakeId(){do lastFakeId==maxFakeId?lastFakeId=0:lastFakeId++;while(fakeIdToCallback.hasOwnProperty(lastFakeId));return lastFakeId}const worker=new Worker(workerScript);function hackSetInterval(tQ,eQ){const AQ=getFakeId();return fakeIdToCallback[AQ]={callback:tQ,parameters:Array.prototype.slice.call(arguments,2)},worker.postMessage({name:"setInterval",fakeId:AQ,time:eQ}),AQ}function hackClearInterval(tQ){fakeIdToCallback.hasOwnProperty(tQ)&&(delete fakeIdToCallback[tQ],worker.postMessage({name:"clearInterval",fakeId:tQ}))}worker.onmessage=function(tQ){const eQ=tQ.data.fakeId;let AQ,iQ,oQ;fakeIdToCallback.hasOwnProperty(eQ)&&(AQ=fakeIdToCallback[eQ],oQ=AQ.callback,iQ=AQ.parameters,oQ.apply(window,iQ))};class HackAsyncAction extends AsyncAction_2{requestAsyncId(eQ,AQ){let iQ=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return hackSetInterval(eQ.flush.bind(eQ,this),iQ)}recycleAsyncId(eQ,AQ){let iQ=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(iQ!==null&&this.delay===iQ&&this.pending===!1)return AQ;hackClearInterval(AQ)}}const getHackAsyncScheduler=()=>new AsyncScheduler_2(HackAsyncAction);class MetadataItem{constructor(eQ){var AQ,iQ,oQ,rQ,nQ;_defineProperty$1(this,"key",void 0),_defineProperty$1(this,"value",void 0),_defineProperty$1(this,"revision",void 0),_defineProperty$1(this,"updateTs",void 0),_defineProperty$1(this,"authorUserId",void 0),this.key=(AQ=eQ==null?void 0:eQ.key)!==null&&AQ!==void 0?AQ:"",this.value=(iQ=eQ==null?void 0:eQ.value)!==null&&iQ!==void 0?iQ:"",this.revision=(oQ=eQ==null?void 0:eQ.revision)!==null&&oQ!==void 0?oQ:-1,this.updateTs=(rQ=eQ==null?void 0:eQ.updateTs)!==null&&rQ!==void 0?rQ:0,this.authorUserId=(nQ=eQ==null?void 0:eQ.authorUserId)!==null&&nQ!==void 0?nQ:""}setKey(eQ){if(typeof eQ!="string"){const{code:AQ,reason:iQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_KEY);throw new RtmInvalidArgumentError(OperationName.storage,[iQ],AQ)}this.key=eQ,this.key=eQ}getKey(){if(typeof this.key=="string")return this.key;throw new RtmInternalError("Cannot get MetaDataItem key")}setValue(eQ){if(typeof eQ!="string"&&!isNull$1(null)){const{code:AQ,reason:iQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_VALUE);throw new RtmInvalidArgumentError(OperationName.storage,[iQ],AQ)}this.value=eQ}getValue(){if(typeof this.value=="string"||isNull$1(null))return this.value;throw new RtmInternalError("Cannot get MetaDataItem value")}setRevision(eQ){if(typeof eQ!="number"||eQ%1!=0){const{code:AQ,reason:iQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_REVISION);throw new RtmInvalidArgumentError(OperationName.storage,[iQ],AQ)}this.revision=eQ}getRevision(){if(typeof this.revision=="number")return this.revision;throw new RtmInternalError("Cannot get MetaDataItem revision")}getUpdateTs(){return this.updateTs}getAuthorUserId(){return this.authorUserId}}let StatePrefixEnum=function(tQ){return tQ.STATE_REVISION_KEY_PREFIX="_rev_",tQ.STATE_TIMESTAMP_PREFIX="_t_",tQ.STATE_AUTHOR_PREFIX="_m_",tQ.STATE_REVISION="_rev",tQ.STATE_INTERNAL_PREFIX="_",tQ}({});function getRequestInfo(tQ,eQ){const AQ={[StatePrefixEnum.STATE_REVISION]:eQ!==void 0&&eQ>=0?eQ:void 0};for(let iQ=0;iQ<tQ.length;iQ++){const oQ=tQ[iQ];AQ[oQ.getKey()]=oQ.getValue(),AQ["".concat(StatePrefixEnum.STATE_REVISION_KEY_PREFIX).concat(oQ.getKey())]=oQ.getRevision()>=0||oQ.getRevision()===-2?oQ.getRevision():void 0}return omitBy$1(AQ,isUndefined$1)}function covertStateStringToMetaData(tQ){const eQ=JSON.parse(tQ),AQ={majorRevision:eQ[StatePrefixEnum.STATE_REVISION],items:[]},iQ=omit$1(eQ,StatePrefixEnum.STATE_REVISION),oQ=Object.keys(iQ).filter(rQ=>rQ[0]!=="_");return AQ.items=oQ.map(rQ=>new MetadataItem({key:rQ,value:iQ[rQ],revision:iQ["".concat(StatePrefixEnum.STATE_REVISION_KEY_PREFIX).concat(rQ)],updateTs:iQ["".concat(StatePrefixEnum.STATE_TIMESTAMP_PREFIX).concat(rQ)],authorUserId:iQ["".concat(StatePrefixEnum.STATE_AUTHOR_PREFIX).concat(rQ)]})),AQ}class LockSession extends EventBase{constructor(eQ,AQ,iQ,oQ,rQ,nQ){super(iQ,"LockSession"),_defineProperty$1(this,"context",void 0),_defineProperty$1(this,"instanceId",void 0),_defineProperty$1(this,"getLoginSockets",void 0),_defineProperty$1(this,"incGetSeq",void 0),_defineProperty$1(this,"genTimeoutError",void 0),_defineProperty$1(this,"locksWithRetryNoRes",new Map),_defineProperty$1(this,"notifyAcquireRetryReject",new Subject),this.context=eQ,this.instanceId=AQ,this.getLoginSockets=oQ,this.incGetSeq=rQ,this.genTimeoutError=nQ}setLock(eQ,AQ,iQ){const oQ=OperationName.setLock,rQ=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&rQ.length===0){const{code:sQ,reason:aQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(oQ,[aQ],sQ)}const nQ=this.incGetSeq();return rQ.forEach(sQ=>{var aQ;sQ.sendPacket("StateLockCreate",{target:eQ,requestUuid:"".concat(nQ,"_").concat(this.instanceId),lock:AQ,ttl:Long$2.fromNumber((aQ=iQ==null?void 0:iQ.ttl)!==null&&aQ!==void 0?aQ:getParameter("LOCK_TTL")),flags:new Long$2(1048577,0,!0)})}),race(this.genTimeoutError(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_TIMEOUT),...rQ.map(sQ=>sQ.fromReceived("StateLockCreateResult").pipe(first(aQ=>{let{requestUuid:cQ}=aQ;return"".concat(nQ,"_").concat(this.instanceId)===cQ}),map$1(aQ=>{let{code:cQ}=aQ;const{code:gQ,reason:IQ}=convertLockServerCodeToSdkCode(cQ);if(gQ!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(oQ,[IQ],gQ)}))))}removeLock(eQ,AQ){const iQ=OperationName.removeLock,oQ=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&oQ.length===0){const{code:nQ,reason:sQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(iQ,[sQ],nQ)}const rQ=this.incGetSeq();return oQ.forEach(nQ=>{nQ.sendPacket("StateLockDelete",{target:eQ,lock:AQ,requestUuid:"".concat(rQ,"_").concat(this.instanceId),flags:new Long$2(1048577,0,!0)})}),race(this.genTimeoutError(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_TIMEOUT),...oQ.map(nQ=>nQ.fromReceived("StateLockDeleteResult").pipe(first(sQ=>{let{requestUuid:aQ}=sQ;return"".concat(rQ,"_").concat(this.instanceId)===aQ}),map$1(sQ=>{let{code:aQ}=sQ;const{code:cQ,reason:gQ}=convertLockServerCodeToSdkCode(aQ);if(cQ!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(iQ,[gQ],cQ)}))))}acquireLock(eQ,AQ,iQ){var oQ;const rQ=OperationName.acquireLock,nQ=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&nQ.length===0){const{code:lQ,reason:uQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(rQ,[uQ],lQ)}const sQ=getPrefixLockName(AQ),{reqSeq:aQ,resolve:cQ,reject:gQ}=(oQ=this.locksWithRetryNoRes.get("".concat(eQ).concat(sQ)))!==null&&oQ!==void 0?oQ:{},IQ=cQ??(iQ==null?void 0:iQ.resolve),EQ=gQ??(iQ==null?void 0:iQ.reject),CQ=aQ??this.incGetSeq(),dQ=Long$2.fromNumber(Date.now());return this.context.addReportEvents("SyncLockAcquireEvent",{code:0,target:eQ,lock:AQ,ttl:Long$2.fromNumber(0),flags:new Long$2(1048577,0,!0),uuid:"",lts:Long$2.fromNumber(Date.now()),vid:Long$2.fromString(this.context.vid||"0"),ip:"",userid:this.context.uid,sid:this.context.sid,lockrev:Long$2.fromNumber(0),leaseid:this.context.uid,eventtype:"Acquire",sdktype:4,requestts:dQ,replyts:Long$2.fromNumber(Date.now()),usersid:this.context.sid,sdkip:""}),nQ.forEach(lQ=>{lQ.sendPacket("StateLockAcquire",{target:eQ,requestUuid:"".concat(CQ,"_").concat(this.instanceId),lock:AQ,ttl:new Long$2(0,0,!0),flags:iQ!=null&&iQ.retry?new Long$2(1310721,0,!0):new Long$2(1048577,0,!0)})}),IQ&&EQ&&this.locksWithRetryNoRes.set("".concat(eQ).concat(sQ),{reqSeq:CQ,resolve:IQ,reject:EQ}),iQ!=null&&iQ.retry&&(iQ==null?void 0:iQ.checkTimeout)===!1?race(...nQ.map(lQ=>lQ.fromReceived("StateLockAcquireResult").pipe(first(uQ=>{let{requestUuid:hQ}=uQ;return"".concat(CQ,"_").concat(this.instanceId)===hQ}),tap(uQ=>{let{lock:hQ,code:BQ,target:QQ,lockRev:fQ}=uQ;this.log("acquire lock with lock(".concat(AQ,"), channel: ").concat(replaceRangeWithAsterisk(eQ),", retry: ",!0,", serverCode is ").concat(BQ));const{code:_Q,reason:RQ}=convertLockServerCodeToSdkCode(BQ);this.context.addReportEvents("SyncLockAcquireEvent",{code:_Q,target:QQ,lock:AQ,ttl:Long$2.fromNumber(0),flags:new Long$2(1310721,0,!0),uuid:"",lts:Long$2.fromNumber(Date.now()),vid:Long$2.fromString(this.context.vid||"0"),ip:lQ.ip,userid:this.context.uid,sid:this.context.sid,lockrev:fQ,leaseid:this.context.uid,eventtype:"AcquireResult",sdktype:4,requestts:dQ,replyts:Long$2.fromNumber(Date.now()),usersid:this.context.sid,sdkip:""}),_Q!==RTMErrorCode.RTM_ERROR_OK||hQ===AQ&&QQ===eQ||(this.log("RTM service Error: acquired unexpected lock on channel '%s', lock '%s', member '%s'",replaceRangeWithAsterisk(eQ),replaceRangeWithAsterisk(hQ),replaceRangeWithAsterisk(this.context.uid||"")),this.releaseLock(QQ,hQ).toPromise())}),map$1(uQ=>{let{code:hQ,target:BQ,lock:QQ,lockRev:fQ,reason:_Q}=uQ;const{code:RQ,reason:wQ}=convertLockServerCodeToSdkCode(hQ);if(RQ!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(rQ,[wQ],RQ);return this.emit("acquireSuccess",{prefixChannelName:eQ,lockName:AQ,revision:fQ.toNumber()}),{target:BQ,lock:QQ,lockRev:fQ,reason:_Q,code:hQ}})))).pipe(takeUntil(this.notifyAcquireRetryReject.pipe(filter(lQ=>lQ==="".concat(eQ).concat(sQ)))),finalize(()=>{this.locksWithRetryNoRes.delete("".concat(eQ).concat(sQ))})):race(this.genTimeoutError(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_TIMEOUT),...nQ.map(lQ=>lQ.fromReceived("StateLockAcquireResult").pipe(first(uQ=>{let{requestUuid:hQ}=uQ;return"".concat(CQ,"_").concat(this.instanceId)===hQ}),tap(uQ=>{let{lock:hQ,code:BQ,target:QQ,lockRev:fQ}=uQ;this.log("acquire lock with lock(".concat(AQ,"), channel: ").concat(replaceRangeWithAsterisk(eQ),", retry: ",!1,", serverCode is ").concat(BQ));const{code:_Q,reason:RQ}=convertLockServerCodeToSdkCode(BQ);this.context.addReportEvents("SyncLockAcquireEvent",{code:_Q,target:QQ,lock:AQ,ttl:Long$2.fromNumber(0),flags:new Long$2(1048577,0,!0),uuid:"",lts:Long$2.fromNumber(Date.now()),vid:Long$2.fromString(this.context.vid||"0"),ip:lQ.ip,userid:this.context.uid,sid:this.context.sid,lockrev:fQ,leaseid:this.context.uid,eventtype:"AcquireResult",sdktype:4,requestts:dQ,replyts:Long$2.fromNumber(Date.now()),usersid:this.context.sid,sdkip:""}),_Q!==RTMErrorCode.RTM_ERROR_OK||hQ===AQ&&QQ===eQ||(this.log("RTM service Error: acquired unexpected lock on channel '%s', lock '%s', member '%s'",replaceRangeWithAsterisk(eQ),replaceRangeWithAsterisk(hQ),replaceRangeWithAsterisk(this.context.uid||"")),this.releaseLock(QQ,hQ).toPromise())}),map$1(uQ=>{let{code:hQ,target:BQ,lock:QQ,lockRev:fQ,reason:_Q}=uQ;const{code:RQ,reason:wQ}=convertLockServerCodeToSdkCode(hQ);if(RQ!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(rQ,[wQ],RQ);return this.emit("acquireSuccess",{prefixChannelName:eQ,lockName:AQ,revision:fQ.toNumber()}),{target:BQ,lock:QQ,lockRev:fQ,reason:_Q,code:hQ}})))).pipe(finalize(()=>{this.locksWithRetryNoRes.delete("".concat(eQ).concat(sQ))}))}releaseLock(eQ,AQ){const iQ=OperationName.releaseLock,oQ=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&oQ.length===0){const{code:sQ,reason:aQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(iQ,[aQ],sQ)}const rQ=this.incGetSeq(),nQ=Long$2.fromNumber(Date.now());return this.context.addReportEvents("SyncLockReleaseEvent",{code:0,target:eQ,lock:AQ,flags:new Long$2(1048577,0,!0),uuid:"",lts:Long$2.fromNumber(Date.now()),vid:Long$2.fromString(this.context.vid||"0"),ip:"",userid:this.context.uid,sid:this.context.sid,leaseid:this.context.uid,eventtype:"Release",sdktype:4,requestts:nQ,replyts:Long$2.fromNumber(Date.now()),usersid:this.context.sid,sdkip:""}),oQ.forEach(sQ=>{sQ.sendPacket("StateLockRelease",{target:eQ,requestUuid:"".concat(rQ,"_").concat(this.instanceId),lock:AQ,flags:new Long$2(1048577,0,!0)})}),race(this.genTimeoutError(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_TIMEOUT),...oQ.map(sQ=>sQ.fromReceived("StateLockReleaseResult").pipe(first(aQ=>{let{requestUuid:cQ}=aQ;return"".concat(rQ,"_").concat(this.instanceId)===cQ}),map$1(aQ=>{let{code:cQ}=aQ;const{code:gQ,reason:IQ}=convertLockServerCodeToSdkCode(cQ);if(this.context.addReportEvents("SyncLockReleaseEvent",{code:gQ,target:eQ,lock:AQ,flags:new Long$2(1048577,0,!0),uuid:"",lts:Long$2.fromNumber(Date.now()),vid:Long$2.fromString(this.context.vid||"0"),ip:"",userid:this.context.uid,sid:this.context.sid,leaseid:this.context.uid,eventtype:"ReleaseResult",sdktype:4,requestts:nQ,replyts:Long$2.fromNumber(Date.now()),usersid:this.context.sid,sdkip:""}),gQ!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(iQ,[IQ],gQ);this.emit("releaseSuccess",{channelName:eQ,lockName:AQ})}))))}revokeLock(eQ,AQ,iQ){const oQ=OperationName.revokeLock,rQ=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&rQ.length===0){const{code:aQ,reason:cQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(oQ,[cQ],aQ)}const nQ=this.incGetSeq(),sQ=Long$2.fromNumber(Date.now());return this.context.addReportEvents("SyncLockDisableEvent",{code:0,target:eQ,lock:AQ,flags:new Long$2(1048577,0,!0),uuid:"",lts:Long$2.fromNumber(Date.now()),vid:Long$2.fromString(this.context.vid||"0"),ip:"",userid:this.context.uid,sid:this.context.sid,leaseid:iQ,eventtype:"Disable",sdktype:4,requestts:sQ,replyts:Long$2.fromNumber(Date.now()),usersid:this.context.sid,sdkip:""}),rQ.forEach(aQ=>{aQ.sendPacket("StateLockDisable",{target:eQ,requestUuid:"".concat(nQ,"_").concat(this.instanceId),lock:AQ,userId:iQ,flags:new Long$2(1048577,0,!0)})}),race(this.genTimeoutError(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_TIMEOUT),...rQ.map(aQ=>aQ.fromReceived("StateLockDisableResult").pipe(first(cQ=>{let{requestUuid:gQ}=cQ;return"".concat(nQ,"_").concat(this.instanceId)===gQ}),map$1(cQ=>{let{code:gQ}=cQ;const{code:IQ,reason:EQ}=convertLockServerCodeToSdkCode(gQ);if(this.context.addReportEvents("SyncLockDisableEvent",{code:IQ,target:eQ,lock:AQ,flags:new Long$2(1048577,0,!0),uuid:"",lts:Long$2.fromNumber(Date.now()),vid:Long$2.fromString(this.context.vid||"0"),ip:"",userid:this.context.uid,sid:this.context.sid,leaseid:iQ,eventtype:"DisableResult",sdktype:4,requestts:sQ,replyts:Long$2.fromNumber(Date.now()),usersid:this.context.sid,sdkip:""}),IQ!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(oQ,[EQ],IQ)}))))}getLocks(eQ){const AQ=OperationName.getLock,iQ=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&iQ.length===0){const{code:rQ,reason:nQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(AQ,[nQ],rQ)}const oQ=this.incGetSeq();return iQ.forEach(rQ=>{rQ.sendPacket("StateLockList",{target:eQ,sequence:oQ,flags:new Long$2(1048577,0,!0)})}),race(this.genTimeoutError(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_TIMEOUT),...iQ.map(rQ=>rQ.fromReceived("StateLockListResult").pipe(first(nQ=>{let{sequence:sQ}=nQ;return oQ.eq(sQ)}),map$1(nQ=>{let{code:sQ,lockStates:aQ}=nQ;const{code:cQ,reason:gQ}=convertLockServerCodeToSdkCode(sQ);if(cQ!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(AQ,[gQ],cQ);return aQ}))))}clearLocksWithRetry(){this.locksWithRetryNoRes.forEach((eQ,AQ)=>{const{reject:iQ}=eQ,{code:oQ,reason:rQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_ACQUIRE_FAILED);iQ(new RtmUnavailableError(OperationName.acquireLock,[rQ],oQ)),this.notifyAcquireRetryReject.next(AQ)}),this.locksWithRetryNoRes.clear()}}class StorageSession extends EventBase{constructor(eQ,AQ,iQ){let oQ=arguments.length>3&&arguments[3]!==void 0?arguments[3]:new Map,rQ=arguments.length>4?arguments[4]:void 0,nQ=arguments.length>5?arguments[5]:void 0,sQ=arguments.length>6?arguments[6]:void 0;super(iQ,"StorageSession"),_defineProperty$1(this,"context",void 0),_defineProperty$1(this,"instanceId",void 0),_defineProperty$1(this,"getLoginSockets",void 0),_defineProperty$1(this,"incGetSeq",void 0),_defineProperty$1(this,"genTimeoutError",void 0),_defineProperty$1(this,"operationsTimeCache",{}),_defineProperty$1(this,"userMetaEventInfos",new Map),this.context=eQ,this.instanceId=AQ,this.userMetaEventInfos=oQ,this.getLoginSockets=rQ,this.incGetSeq=nQ,this.genTimeoutError=sQ}setChannelMetadata(eQ){let AQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},iQ=arguments.length>2?arguments[2]:void 0,oQ=arguments.length>3?arguments[3]:void 0,rQ=arguments.length>4?arguments[4]:void 0;const nQ=OperationName.setChannelMetadata,sQ=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&sQ.length===0){const{code:CQ,reason:dQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(nQ,[dQ],CQ)}const aQ=JSON.stringify(getRequestInfo(eQ,AQ.majorRevision));validateMetaDataSize(nQ,aQ);const cQ=1<<17,gQ=this.incGetSeq(),IQ=Date.now(),EQ=AQ==null?void 0:AQ.majorRevision;return sQ.forEach(CQ=>{CQ.sendPacket("StateModify",{sequence:gQ,target:iQ,requestUuid:"".concat(gQ,"_").concat(this.instanceId),value:aQ,lock:oQ??"",lockRev:Long$2.fromNumber(rQ??0),baseRevision:Long$2.fromNumber(EQ>=0?EQ:0),author:AQ.enableRecordUserId?this.context.uid:"",flags:AQ.enableRecordTs?new Long$2(1572865|(EQ>=0?cQ:0),0,!0):new Long$2(1048577|(EQ>=0?cQ:0),0,!0)})}),race(this.genTimeoutError(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),...sQ.map(CQ=>CQ.fromReceived("StateRequestResult").pipe(first(dQ=>{let{sequence:lQ}=dQ;return gQ.eq(lQ)}),map$1(dQ=>{let{code:lQ}=dQ;const{code:uQ,reason:hQ}=convertMetadataServerCodeToSdkCode(lQ);if(this.context.addReportEvents("SyncOperateEvent",{lts:Long$2.fromNumber(Date.now()),ip:"",userid:this.context.uid,vid:Long$2.fromString(this.context.vid||"0"),sid:this.context.sid,usersid:this.context.sid,requestts:Long$2.fromNumber(IQ),replyts:Long$2.fromNumber(Date.now()),target:iQ,eventtype:"Set",revision:Long$2.fromNumber(AQ.majorRevision),uuid:"".concat(gQ,"_").concat(this.instanceId),sdktype:4,flags:AQ.enableRecordTs?new Long$2(524289,0,!0):new Long$2(1,0,!0),code:uQ,seq:gQ,index:{index1:this.context.uid,index2:this.context.appId,index3:"logUpload=".concat(this.context.config.logUpload)},lock:oQ??"",lockrev:Long$2.fromNumber(rQ??0),subtarget:this.context.uid,sdkip:""}),uQ!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(nQ,[hQ],uQ)}))))}getChannelMetadata(eQ){const AQ=OperationName.getChannelMetadata,iQ=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&iQ.length===0){const{code:nQ,reason:sQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(AQ,[sQ],nQ)}const oQ=this.incGetSeq(),rQ=Date.now();return iQ.forEach(nQ=>{nQ.sendPacket("StateGet",{target:eQ,subTarget:"",lock:"",sequence:oQ,flags:new Long$2(1048577,0,!0),lockRev:Long$2.fromNumber(0)})}),race(this.genTimeoutError(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),...iQ.map(nQ=>nQ.fromReceived("StateGetResult").pipe(first(sQ=>{let{sequence:aQ}=sQ;return oQ.eq(aQ)}),map$1(sQ=>{let{code:aQ,allStates:cQ}=sQ;const{code:gQ,reason:IQ}=convertMetadataServerCodeToSdkCode(aQ);if(this.context.addReportEvents("SyncOperateEvent",{lts:Long$2.fromNumber(Date.now()),ip:"",userid:this.context.uid,vid:Long$2.fromString(this.context.vid||"0"),sid:this.context.sid,usersid:this.context.sid,requestts:Long$2.fromNumber(rQ),replyts:Long$2.fromNumber(Date.now()),target:eQ,eventtype:"Get",revision:Long$2.fromNumber(0),uuid:"".concat(oQ,"_").concat(this.instanceId),sdktype:4,flags:new Long$2(1,0,!0),code:gQ,seq:oQ,index:{index1:this.context.uid,index2:this.context.appId,index3:"logUpload=".concat(this.context.config.logUpload)},lock:"",lockrev:Long$2.fromNumber(0),subtarget:this.context.uid,sdkip:""}),gQ!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(AQ,[IQ],gQ);return cQ}))))}removeChannelMetadata(eQ){let AQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},iQ=arguments.length>2?arguments[2]:void 0,oQ=arguments.length>3?arguments[3]:void 0,rQ=arguments.length>4?arguments[4]:void 0;const nQ=OperationName.removeChannelMetadata,sQ=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&sQ.length===0){const{code:CQ,reason:dQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(nQ,[dQ],CQ)}const aQ=1<<17,cQ=AQ==null?void 0:AQ.majorRevision,gQ=this.incGetSeq(),IQ=JSON.stringify(getRequestInfo(cloneDeep$1(eQ).map(CQ=>(CQ.setValue(null),CQ)),AQ.majorRevision));validateMetaDataSize(nQ,IQ);const EQ=Date.now();return sQ.forEach(CQ=>{CQ.sendPacket("StateModify",{sequence:gQ,target:iQ,requestUuid:"".concat(gQ,"_").concat(this.instanceId),lock:oQ??"",lockRev:Long$2.fromNumber(rQ??0),value:IQ,baseRevision:Long$2.fromNumber(cQ>=0?cQ:0),author:AQ.enableRecordUserId?this.context.uid:"",flags:AQ.enableRecordTs?new Long$2(1572865|(cQ>=0?aQ:0),0,!0):new Long$2(1048577|(cQ>=0?aQ:0),0,!0)})}),race(this.genTimeoutError(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),...sQ.map(CQ=>CQ.fromReceived("StateRequestResult").pipe(first(dQ=>{let{sequence:lQ}=dQ;return gQ.eq(lQ)}),map$1(dQ=>{let{code:lQ}=dQ;const{code:uQ,reason:hQ}=convertMetadataServerCodeToSdkCode(lQ);if(this.context.addReportEvents("SyncOperateEvent",{lts:Long$2.fromNumber(Date.now()),ip:"",userid:this.context.uid,vid:Long$2.fromString(this.context.vid||"0"),sid:this.context.sid,usersid:this.context.sid,requestts:Long$2.fromNumber(EQ),replyts:Long$2.fromNumber(Date.now()),target:iQ,eventtype:"Delete",revision:Long$2.fromNumber(AQ.majorRevision),uuid:"".concat(gQ,"_").concat(this.instanceId),sdktype:4,flags:AQ.enableRecordTs?new Long$2(524289,0,!0):new Long$2(1,0,!0),code:uQ,seq:gQ,index:{index1:this.context.uid,index2:this.context.appId,index3:"logUpload=".concat(this.context.config.logUpload)},lock:oQ??"",lockrev:Long$2.fromNumber(rQ??0),subtarget:this.context.uid,sdkip:""}),uQ!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(nQ,[hQ],uQ)}))))}clearChannelMetadata(){let eQ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},AQ=arguments.length>1?arguments[1]:void 0,iQ=arguments.length>2?arguments[2]:void 0,oQ=arguments.length>3?arguments[3]:void 0;const rQ=OperationName.removeChannelMetadata,nQ=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&nQ.length===0){const{code:IQ,reason:EQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(rQ,[EQ],IQ)}const sQ=1<<17,aQ=eQ==null?void 0:eQ.majorRevision,cQ=this.incGetSeq(),gQ=Date.now();return nQ.forEach(IQ=>{IQ.sendPacket("StateSet",{sequence:cQ,target:AQ,requestUuid:"".concat(cQ,"_").concat(this.instanceId),lock:iQ??"",lockRev:Long$2.fromNumber(oQ??0),value:JSON.stringify({}),baseRevision:Long$2.fromNumber(aQ>=0?aQ:0),author:eQ.enableRecordUserId?this.context.uid:"",flags:eQ.enableRecordTs?new Long$2(1638401|(aQ>=0?sQ:0),0,!0):new Long$2(1114113|(aQ>=0?sQ:0),0,!0)})}),race(this.genTimeoutError(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),...nQ.map(IQ=>IQ.fromReceived("StateRequestResult").pipe(first(EQ=>{let{sequence:CQ}=EQ;return cQ.eq(CQ)}),map$1(EQ=>{let{code:CQ}=EQ;const{code:dQ,reason:lQ}=convertMetadataServerCodeToSdkCode(CQ);if(this.context.addReportEvents("SyncOperateEvent",{lts:Long$2.fromNumber(Date.now()),ip:"",userid:this.context.uid,vid:Long$2.fromString(this.context.vid||"0"),sid:this.context.sid,usersid:this.context.sid,requestts:Long$2.fromNumber(gQ),replyts:Long$2.fromNumber(Date.now()),target:AQ,eventtype:"Clear",revision:Long$2.fromNumber(eQ.majorRevision),uuid:"".concat(cQ,"_").concat(this.instanceId),sdktype:4,flags:eQ.enableRecordTs?new Long$2(589825,0,!0):new Long$2(65537,0,!0),code:dQ,seq:cQ,index:{index1:this.context.uid,index2:this.context.appId,index3:"logUpload=".concat(this.context.config.logUpload)},lock:iQ??"",lockrev:Long$2.fromNumber(oQ??0),subtarget:this.context.uid,sdkip:""}),dQ!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(rQ,[lQ],dQ)}))))}updateChannelMetadata(eQ){let AQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},iQ=arguments.length>2?arguments[2]:void 0,oQ=arguments.length>3?arguments[3]:void 0,rQ=arguments.length>4?arguments[4]:void 0;const nQ=OperationName.updateChannelMetadata,sQ=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&sQ.length===0){const{code:CQ,reason:dQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(nQ,[dQ],CQ)}const aQ=1<<17,cQ=AQ==null?void 0:AQ.majorRevision,gQ=this.incGetSeq(),IQ=JSON.stringify(getRequestInfo(cloneDeep$1(eQ).map(CQ=>(CQ.getRevision()===-1&&CQ.setRevision(-2),CQ)),AQ.majorRevision));validateMetaDataSize(nQ,IQ);const EQ=Date.now();return sQ.forEach(CQ=>{CQ.sendPacket("StateModify",{sequence:gQ,target:iQ,requestUuid:"".concat(gQ,"_").concat(this.instanceId),lock:oQ??"",lockRev:Long$2.fromNumber(rQ??0),value:IQ,baseRevision:Long$2.fromNumber(cQ>=0?cQ:0),author:AQ.enableRecordUserId?this.context.uid:"",flags:AQ.enableRecordTs?new Long$2(1572865|(cQ>=0?aQ:0),0,!0):new Long$2(1048577|(cQ>=0?aQ:0),0,!0)})}),race(this.genTimeoutError(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),...sQ.map(CQ=>CQ.fromReceived("StateRequestResult").pipe(first(dQ=>{let{sequence:lQ}=dQ;return gQ.eq(lQ)}),map$1(dQ=>{let{code:lQ}=dQ;const{code:uQ,reason:hQ}=convertMetadataServerCodeToSdkCode(lQ);if(this.context.addReportEvents("SyncOperateEvent",{lts:Long$2.fromNumber(Date.now()),ip:"",userid:this.context.uid,vid:Long$2.fromString(this.context.vid||"0"),sid:this.context.sid,usersid:this.context.sid,requestts:Long$2.fromNumber(EQ),replyts:Long$2.fromNumber(Date.now()),target:iQ,eventtype:"Update",revision:Long$2.fromNumber(AQ.majorRevision),uuid:"".concat(gQ,"_").concat(this.instanceId),sdktype:4,flags:AQ.enableRecordTs?new Long$2(524289,0,!0):new Long$2(1,0,!0),code:uQ,seq:gQ,index:{index1:this.context.uid,index2:this.context.appId,index3:"logUpload=".concat(this.context.config.logUpload)},lock:oQ??"",lockrev:Long$2.fromNumber(rQ??0),subtarget:this.context.uid,sdkip:""}),uQ!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(nQ,[hQ],uQ)}))))}setUserMetadata(eQ){let AQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},iQ=arguments.length>2?arguments[2]:void 0;const oQ=OperationName.setUserMetadata,rQ=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&rQ.length===0){const{code:CQ,reason:dQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(oQ,[dQ],CQ)}const nQ=1<<19,sQ=1<<20,aQ=1<<17,cQ=this.incGetSeq(),gQ=Date.now(),IQ=AQ==null?void 0:AQ.majorRevision,EQ=JSON.stringify(getRequestInfo(eQ,AQ.majorRevision));return validateMetaDataSize(oQ,EQ),rQ.forEach(CQ=>{CQ.sendPacket("StateModify",{sequence:cQ,target:iQ??this.context.uid,requestUuid:"".concat(cQ,"_").concat(this.instanceId),value:EQ,lock:"",lockRev:Long$2.fromNumber(0),baseRevision:Long$2.fromNumber(IQ>=0?IQ:0),author:AQ.enableRecordUserId?this.context.uid:"",flags:AQ.enableRecordTs?new Long$2(1572864|(IQ>=0?aQ:0),0,!0):new Long$2(sQ|(IQ>=0?aQ:0),0,!0)})}),race(this.genTimeoutError(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),...rQ.map(CQ=>CQ.fromReceived("StateRequestResult").pipe(first(dQ=>{let{sequence:lQ}=dQ;return cQ.eq(lQ)}),tap(dQ=>{let{code:lQ}=dQ;const{code:uQ,reason:hQ}=convertMetadataServerCodeToSdkCode(lQ);if(this.context.addReportEvents("SyncOperateEvent",{lts:Long$2.fromNumber(Date.now()),ip:"",userid:this.context.uid,vid:Long$2.fromString(this.context.vid||"0"),sid:this.context.sid,usersid:this.context.sid,requestts:Long$2.fromNumber(gQ),replyts:Long$2.fromNumber(Date.now()),target:this.context.uid,eventtype:"Set",revision:Long$2.fromNumber(AQ.majorRevision),uuid:"".concat(cQ,"_").concat(this.instanceId),sdktype:4,flags:AQ.enableRecordTs?new Long$2(nQ,0,!0):Long$2.fromNumber(0),code:uQ,seq:cQ,index:{index1:this.context.uid,index2:this.context.appId,index3:"logUpload=".concat(this.context.config.logUpload)},lock:"",lockrev:Long$2.fromNumber(0),subtarget:this.context.uid,sdkip:""}),uQ!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(oQ,[hQ],uQ)}))))}getUserMetadata(eQ){const AQ=OperationName.getUserMetadata,iQ=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&iQ.length===0){const{code:nQ,reason:sQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(AQ,[sQ],nQ)}const oQ=this.incGetSeq(),rQ=Date.now();return iQ.forEach(nQ=>{nQ.sendPacket("StateGet",{target:eQ,subTarget:"",lock:"",sequence:oQ,flags:new Long$2(1048576,0,!0),lockRev:Long$2.fromNumber(0)})}),race(this.genTimeoutError(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),...iQ.map(nQ=>nQ.fromReceived("StateGetResult").pipe(first(sQ=>{let{sequence:aQ}=sQ;return oQ.eq(aQ)}),map$1(sQ=>{let{code:aQ,allStates:cQ}=sQ;const{code:gQ,reason:IQ}=convertMetadataServerCodeToSdkCode(aQ);if(this.context.addReportEvents("SyncOperateEvent",{lts:Long$2.fromNumber(Date.now()),ip:"",userid:this.context.uid,vid:Long$2.fromString(this.context.vid||"0"),sid:this.context.sid,usersid:this.context.sid,requestts:Long$2.fromNumber(rQ),replyts:Long$2.fromNumber(Date.now()),target:eQ,eventtype:"Get",revision:Long$2.fromNumber(0),uuid:"".concat(oQ,"_").concat(this.instanceId),sdktype:4,flags:Long$2.fromNumber(0),code:gQ,seq:oQ,index:{index1:this.context.uid,index2:this.context.appId,index3:"logUpload=".concat(this.context.config.logUpload)},lock:"",lockrev:Long$2.fromNumber(0),subtarget:this.context.uid,sdkip:""}),gQ!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(AQ,[IQ],gQ);return cQ}))))}removeUserMetadata(eQ){let AQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},iQ=arguments.length>2?arguments[2]:void 0;const oQ=OperationName.removeUserMetadata,rQ=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&rQ.length===0){const{code:CQ,reason:dQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(oQ,[dQ],CQ)}const nQ=1<<19,sQ=1<<20,aQ=1<<17,cQ=AQ==null?void 0:AQ.majorRevision,gQ=this.incGetSeq(),IQ=JSON.stringify(getRequestInfo(cloneDeep$1(eQ).map(CQ=>(CQ.setValue(null),CQ)),AQ.majorRevision));validateMetaDataSize(oQ,IQ);const EQ=Date.now();return rQ.forEach(CQ=>{CQ.sendPacket("StateModify",{sequence:gQ,target:iQ??this.context.uid,requestUuid:"".concat(gQ,"_").concat(this.instanceId),lock:"",lockRev:Long$2.fromNumber(0),value:IQ,baseRevision:Long$2.fromNumber(cQ>=0?cQ:0),author:AQ.enableRecordUserId?this.context.uid:"",flags:AQ.enableRecordTs?new Long$2(1572864|(cQ>=0?aQ:0),0,!0):new Long$2(sQ|(cQ>=0?aQ:0),0,!0)})}),race(this.genTimeoutError(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),...rQ.map(CQ=>CQ.fromReceived("StateRequestResult").pipe(first(dQ=>{let{sequence:lQ}=dQ;return gQ.eq(lQ)}),tap(dQ=>{let{code:lQ}=dQ;const{code:uQ,reason:hQ}=convertMetadataServerCodeToSdkCode(lQ);if(this.context.addReportEvents("SyncOperateEvent",{lts:Long$2.fromNumber(Date.now()),ip:"",userid:this.context.uid,vid:Long$2.fromString(this.context.vid||"0"),sid:this.context.sid,usersid:this.context.sid,requestts:Long$2.fromNumber(EQ),replyts:Long$2.fromNumber(Date.now()),target:this.context.uid,eventtype:"Delete",revision:Long$2.fromNumber(AQ.majorRevision),uuid:"".concat(gQ,"_").concat(this.instanceId),sdktype:4,flags:AQ.enableRecordTs?new Long$2(nQ,0,!0):Long$2.fromNumber(0),code:uQ,seq:gQ,index:{index1:this.context.uid,index2:this.context.appId,index3:"logUpload=".concat(this.context.config.logUpload)},lock:"",lockrev:Long$2.fromNumber(0),subtarget:this.context.uid,sdkip:""}),uQ!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(oQ,[hQ],uQ)}))))}clearUserMetadata(){let eQ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},AQ=arguments.length>1?arguments[1]:void 0;const iQ=OperationName.removeUserMetadata,oQ=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&oQ.length===0){const{code:gQ,reason:IQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(iQ,[IQ],gQ)}const rQ=1<<19,nQ=1<<17,sQ=eQ==null?void 0:eQ.majorRevision,aQ=this.incGetSeq(),cQ=Date.now();return oQ.forEach(gQ=>{gQ.sendPacket("StateSet",{sequence:aQ,target:AQ??this.context.uid,requestUuid:"".concat(aQ,"_").concat(this.instanceId),lock:"",lockRev:Long$2.fromNumber(0),value:JSON.stringify({}),baseRevision:Long$2.fromNumber(sQ>=0?sQ:0),author:eQ.enableRecordUserId?this.context.uid:"",flags:eQ.enableRecordTs?new Long$2(1638400|(sQ>=0?nQ:0),0,!0):new Long$2(1114112|(sQ>=0?nQ:0),0,!0)})}),race(this.genTimeoutError(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),...oQ.map(gQ=>gQ.fromReceived("StateRequestResult").pipe(first(IQ=>{let{sequence:EQ}=IQ;return aQ.eq(EQ)}),tap(IQ=>{let{code:EQ}=IQ;const{code:CQ,reason:dQ}=convertMetadataServerCodeToSdkCode(EQ);if(this.context.addReportEvents("SyncOperateEvent",{lts:Long$2.fromNumber(Date.now()),ip:"",userid:this.context.uid,vid:Long$2.fromString(this.context.vid||"0"),sid:this.context.sid,usersid:this.context.sid,requestts:Long$2.fromNumber(cQ),replyts:Long$2.fromNumber(Date.now()),target:this.context.uid,eventtype:"Clear",revision:Long$2.fromNumber(eQ==null?void 0:eQ.majorRevision),uuid:"".concat(aQ,"_").concat(this.instanceId),sdktype:4,flags:eQ.enableRecordTs?new Long$2(rQ,0,!0):Long$2.fromNumber(0),code:CQ,seq:aQ,index:{index1:this.context.uid,index2:this.context.appId,index3:"logUpload=".concat(this.context.config.logUpload)},lock:"",lockrev:Long$2.fromNumber(0),subtarget:this.context.uid,sdkip:""}),CQ!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(iQ,[dQ],CQ)}))))}updateUserMetadata(eQ){let AQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},iQ=arguments.length>2?arguments[2]:void 0;const oQ=OperationName.updateUserMetadata,rQ=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&rQ.length===0){const{code:CQ,reason:dQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(oQ,[dQ],CQ)}const nQ=1<<19,sQ=1<<20,aQ=1<<17,cQ=AQ==null?void 0:AQ.majorRevision,gQ=this.incGetSeq(),IQ=JSON.stringify(getRequestInfo(cloneDeep$1(eQ).map(CQ=>(CQ.getRevision()===-1&&CQ.setRevision(-2),CQ)),AQ.majorRevision));validateMetaDataSize(oQ,IQ);const EQ=Date.now();return rQ.forEach(CQ=>{CQ.sendPacket("StateModify",{sequence:gQ,target:iQ??this.context.uid,requestUuid:"".concat(gQ,"_").concat(this.instanceId),lock:"",lockRev:Long$2.fromNumber(0),value:IQ,baseRevision:Long$2.fromNumber(cQ>=0?cQ:0),author:AQ.enableRecordUserId?this.context.uid:"",flags:AQ.enableRecordTs?new Long$2(1572864|(cQ>=0?aQ:0),0,!0):new Long$2(sQ|(cQ>=0?aQ:0),0,!0)})}),race(this.genTimeoutError(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),...rQ.map(CQ=>CQ.fromReceived("StateRequestResult").pipe(first(dQ=>{let{sequence:lQ}=dQ;return gQ.eq(lQ)}),tap(dQ=>{let{code:lQ}=dQ;const{code:uQ,reason:hQ}=convertMetadataServerCodeToSdkCode(lQ);if(this.context.addReportEvents("SyncOperateEvent",{lts:Long$2.fromNumber(Date.now()),ip:"",userid:this.context.uid,vid:Long$2.fromString(this.context.vid||"0"),sid:this.context.sid,usersid:this.context.sid,requestts:Long$2.fromNumber(EQ),replyts:Long$2.fromNumber(Date.now()),target:this.context.uid,eventtype:"Update",revision:Long$2.fromNumber(AQ.majorRevision),uuid:"".concat(gQ,"_").concat(this.instanceId),sdktype:4,flags:AQ.enableRecordTs?new Long$2(nQ,0,!0):Long$2.fromNumber(0),code:uQ,seq:gQ,index:{index1:this.context.uid,index2:this.context.appId,index3:"logUpload=".concat(this.context.config.logUpload)},lock:"",lockrev:Long$2.fromNumber(0),subtarget:this.context.uid,sdkip:""}),uQ!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(oQ,[hQ],uQ)}))))}unsubscribeUserMetadata(eQ){const AQ=OperationName.unsubscribeUserMetadata,iQ=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&iQ.length===0){const{code:nQ,reason:sQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(AQ,[sQ],nQ)}const oQ=this.incGetSeq(),rQ=Date.now();iQ.forEach(nQ=>{nQ.sendPacket("StateUnsubscribe",{sequence:oQ,target:eQ,subTarget:"",flags:Long$2.fromNumber(0)})}),this.userMetaEventInfos.delete(eQ),this.context.addReportEvents("SyncSubscribeEvent",{lts:Long$2.fromNumber(Date.now()),userid:this.context.uid,vid:Long$2.fromString(this.context.vid||"0"),sid:this.context.sid,usersid:this.context.sid,target:eQ,requestts:Long$2.fromNumber(rQ),replyts:Long$2.fromNumber(Date.now()),eventtype:"UnSubscribe",sdktype:4,flags:Long$2.fromNumber(0),code:0,seq:oQ,index:{index1:this.context.uid,index2:this.context.appId,index3:"logUpload=".concat(this.context.config.logUpload)},subtarget:this.context.uid})}}const{inflate,deflate}=UZIP;class RegistrarSession extends EventBase{static sendMessageAck(eQ,AQ){const iQ=new MessageOption(eQ.options);(iQ.isInvitation()||iQ.isPeerMessage())&&AQ.sendPacket("Ack",{code:0,dialogue:eQ.dialogue,instance:eQ.instance,sequence:eQ.sequence})}constructor(eQ,AQ,iQ,oQ,rQ,nQ,sQ,aQ,cQ,gQ){super(oQ,"Session"),_defineProperty$1(this,"loginOperation",OperationName.login),_defineProperty$1(this,"chatManager",void 0),_defineProperty$1(this,"msgDedupLru",new LRUCache(void 0,{maxlen:MSG_DEDUP_MAX_LEN})),_defineProperty$1(this,"startTime",Date.now()),_defineProperty$1(this,"seq",Long$2.fromNumber(1,!0)),_defineProperty$1(this,"userJoinOptions",new UserJoinOptions(!1)),_defineProperty$1(this,"seqSentStatuses",[!1,!1]),_defineProperty$1(this,"dialogueSequenceLru",new LRUCache(void 0,{maxlen:LRU_MAX_ITEMS})),_defineProperty$1(this,"loggedOut",!1),_defineProperty$1(this,"curLoginSockets",[void 0,void 0]),_defineProperty$1(this,"loginSocketSubs",[{channels:new Map,receivers:[],lockSubs:new Map,userMetadataSubs:new Map,metadataSubs:new Map},{channels:new Map,receivers:[],lockSubs:new Map,userMetadataSubs:new Map,metadataSubs:new Map}]),_defineProperty$1(this,"lastLoginSockets",[new ReplaySubject(1),new ReplaySubject(1)]),_defineProperty$1(this,"dialPendingMsgSubjectMap",new Map),_defineProperty$1(this,"context",void 0),_defineProperty$1(this,"connection",void 0),_defineProperty$1(this,"instanceId",void 0),_defineProperty$1(this,"lastPingTime",void 0),_defineProperty$1(this,"chanelStringMessageReport",void 0),_defineProperty$1(this,"chanelRawMessageReport",void 0),_defineProperty$1(this,"p2pSMsgNoOfflineReport",void 0),_defineProperty$1(this,"p2pRMsgNoOfflineReport",void 0),_defineProperty$1(this,"lockSnapshotLastTime",new Map),_defineProperty$1(this,"lockEventInfos",new Map),_defineProperty$1(this,"channelMetaEventInfos",new Map),_defineProperty$1(this,"userMetaEventInfos",new Map),_defineProperty$1(this,"initEncryption",!1),_defineProperty$1(this,"key",""),_defineProperty$1(this,"iv",""),_defineProperty$1(this,"keyLength",0),_defineProperty$1(this,"operationsTimeCache",{}),_defineProperty$1(this,"lockSession",void 0),_defineProperty$1(this,"storageSession",void 0),_defineProperty$1(this,"updateLastSubOrJoinOptionsCache",void 0),_defineProperty$1(this,"getLastSubscribeOrJoinOptions",void 0),_defineProperty$1(this,"manualShakeHand",void 0),_defineProperty$1(this,"sendTick",void 0),_defineProperty$1(this,"initSync",void 0),_defineProperty$1(this,"loginSubject$",new Subject),_defineProperty$1(this,"initRegConnSuccess$",new Subject),_defineProperty$1(this,"emitUserJoined",!1),_defineProperty$1(this,"firstInitSyncSeq",void 0),_defineProperty$1(this,"networkOnlineSubject",new Subject),_defineProperty$1(this,"connSyncIndex",[0,0]),_defineProperty$1(this,"registerSocketsFailureListener",()=>{this.connection.once("socketsFailure",()=>{this.log("registrar: socketsFailure, creating a new connection, start reLogin..."),defer(()=>(this.connection.removeAllListeners(),this.connection=new Connection(this.context,this.logger,!0),this.emit("login-request"),this.loginHandler(!0))).pipe(retryWhen(IQ=>IQ.pipe(tap(EQ=>{let CQ=!1;if(isTimeout(EQ)&&!this.connection.cancelLogin&&(CQ=!0),this.logError(EQ),this.log("reLogin need retry: %s, cancel login: %s",CQ,this.connection.cancelLogin),CQ)return delay(getParameter("RECONNECTING_AP_INTERVAL"));throw EQ}))),takeUntil(this.loginSubject$)).subscribe(()=>{this.log("new connection connected")})})}),this.context=eQ,this.context.startTime=this.startTime,this.connection=AQ,this.instanceId=iQ,this.chatManager=new ChatManager(oQ),this.lastPingTime=[0,0],this.setMaxListeners(512),this.log("The instanceId is %s",this.instanceId.toString()),this.lockSession=new LockSession(eQ,iQ,oQ,this.getLoginSockets.bind(this),this.incGetSeq.bind(this),RegistrarSession.genTimeoutError.bind(this)),this.lockSession.on("releaseSuccess",IQ=>{this.emit("releaseSuccess",IQ)}),this.lockSession.on("acquireSuccess",IQ=>{this.emit("acquireSuccess",IQ)}),this.connection.on("syncTicketUpdated",IQ=>{let{ticket:EQ,vid:CQ}=IQ;this.emit("syncTicketUpdated",{ticket:EQ,vid:CQ})}),this.storageSession=new StorageSession(eQ,iQ,oQ,this.userMetaEventInfos,this.getLoginSockets.bind(this),this.incGetSeq.bind(this),RegistrarSession.genTimeoutError.bind(this)),this.updateLastSubOrJoinOptionsCache=rQ,this.getLastSubscribeOrJoinOptions=nQ,this.manualShakeHand=sQ,this.sendTick=aQ,this.initSync=cQ,gQ!=null&&gQ.key&&(this.initEncryption=gQ.initEncryption,this.key=gQ.key,this.iv=gQ.iv,this.keyLength=gQ.keyLength),this.chanelStringMessageReport=new MessageReport(eQ,oQ,RtmMessageCategoryEnum.ChannelSMsg),this.chanelRawMessageReport=new MessageReport(eQ,oQ,RtmMessageCategoryEnum.ChannelRMsg),this.p2pSMsgNoOfflineReport=new MessageReport(eQ,oQ,RtmMessageCategoryEnum.P2pSMsgNoOfflineFlag),this.p2pRMsgNoOfflineReport=new MessageReport(eQ,oQ,RtmMessageCategoryEnum.P2pRMsgNoOfflineFlag)}getVirtualSyncSocket(){return this.getLoginSockets().filter(eQ=>eQ.env===this.context.connSyncEnv)}loginHandler(){let eQ=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.context.connSyncEnv=void 0,this.loggedOut&&eQ){const{code:rQ,reason:nQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOGIN_ABORTED);throw new RtmInvalidStatusError(this.loginOperation,[nQ+"logout when login retrying"],rQ)}eQ&&this.registerSocketsFailureListener(),this.connection.initConnection();const{seq:AQ}=this,iQ=this.getSocketLoginObservables(this.connection.lastOpenSockets,AQ);let oQ;return this.initLoginsSocketsReceivers(iQ,eQ,!1),this.initKeepAliveSender(),this.initLoginReceiver(),this.context.linkIntervals=[...LINK_INTERVALS],this.log("start login, log for debug, login - timeout"),merge(...iQ,fromEvent(this.connection,"connectionInitFailure").pipe(tap(rQ=>{if(isRtmError(rQ)||isTimeout(rQ))throw rQ;const{code:nQ,reason:sQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOGIN_ABORTED);throw new RtmUnavailableError(this.loginOperation,[sQ],nQ)})),fromEvent(this,"login-cancel").pipe(tap(()=>{throw this.context.syncConnecting=!1,this.connection.handleCancelLogin()})),this.networkOnlineSubject.pipe(tap(()=>{this.log("network change, will retry connect in 2s");const rQ=new TimeoutError;throw rQ.name="network-change",this.context.linkIntervals=[...LINK_INTERVALS],rQ}))).pipe(timeout(LOGIN_RESP_TIMEOUT),take(1),concatMap(async rQ=>{try{await timeoutPromise(this.connSyncInLogin(rQ,eQ),DEFAULT_RPC_TIMEOUT_TIME,"init sync timeout",RTMErrorCode.RTM_ERROR_LOGIN_TIMEOUT,!0)}catch(nQ){if(this.connection.cancelLogin)throw nQ;if(!getParameter("DECOUPLE_SYNC"))throw rQ.forceReconnect(),isTimeout(nQ)?new TimeoutError:nQ}return eQ&&this.emitUserJoined&&(this.emit("userJoined",rQ.env),this.emitUserJoined=!1),rQ}),catchError(rQ=>(rQ instanceof TimeoutError&&(rQ&&rQ.name==="network-change"?this.emit("net-change-abort-reconn"):(this.warn("client ".concat(eQ?"re-":"","login timeout")),this.emit("login-timeout",eQ))),rQ&&rQ.code===RTMErrorCode.RTM_ERROR_TOKEN_EXPIRED&&(this.warn("token expired when login, isRetrying: %s",eQ),eQ&&this.emit("tokenExpired"),this.connection.apClient.apFinish$.next(void 0),this.connection.stopLogin()),this.clearSockets(0,eQ),throwError(rQ))),retryWhen(rQ=>rQ.pipe(switchMap((nQ,sQ)=>{if(this.connection.apClient.apFinish$.next(void 0),oQ=this.getFallBackTimer(),this.connection.cancelLogin&&!eQ)throw this.connection.handleCancelLogin();if(nQ instanceof TimeoutError)return merge(fromEvent(this,"login-cancel").pipe(tap(()=>{throw this.context.syncConnecting=!1,this.connection.handleCancelLogin()})),race(interval(oQ),this.networkOnlineSubject.pipe(tap(()=>{this.log("network is online, will retry connect now")}))).pipe(take(1),takeUntil(this.connection.apClient.apFinish$),tap(()=>{if(this.connection.cancelLogin)throw this.connection.handleCancelLogin();this.emit("login-request"),this.initLoginsSocketsReceivers(iQ,eQ,!0),this.initKeepAliveSender(),this.initLoginReceiver(),this.connection.subKeeperSubject(),this.connection.initConnection(),this.log("retryWhen---interval")})));throw nQ}),catchError(nQ=>throwError(nQ)))),takeUntil(this.loginSubject$),tap(()=>{eQ||this.registerSocketsFailureListener()}),tap(()=>{this.manualShakeHand()}),finalize(()=>{eQ||this.connection.apClient.apFinish$.next(void 0),this.loginSubject$.next(void 0),this.connection.endLogin$.next(void 0)}))}getFallBackTimer(){return 1e3*(this.context.linkIntervals.length>=1?this.context.linkIntervals.splice(0,1)[0]:SUSPENDED_TIME_INTERVAL)}async connSyncInLogin(eQ,AQ){const iQ=this.context.connSyncEnv===void 0&&this.context.syncConnecting===!1;iQ&&(this.context.syncConnecting=!0),this.info("ENV_%d(%s): First reg logged response received, need connect sync: %s, connSyncEnv: %d",eQ.env,eQ.name,iQ,this.context.connSyncEnv);const oQ=getParameter("DECOUPLE_SYNC");if(iQ){try{await timeoutPromise(this.requestFirstSyncInit(eQ),2e3,"syncInitAck timeout",RTMErrorCode.RTM_ERROR_LOGIN_TIMEOUT,!0)}catch(rQ){throw this.warn("ENV_%d(%s): First reg connect sync failed",eQ.env,eQ.name),this.context.syncConnecting=!1,this.warn(rQ),oQ&&!this.connection.cancelLogin&&this.handleSyncDisconnected(eQ),rQ}try{this.context.connSyncEnv=eQ.env,this.log("ENV_".concat(eQ.env," - ").concat(eQ.name,": reg connect sync done by concatMap when ").concat(AQ?"reLogging":"logging",", start logging sync..., syncEnv: ").concat(this.context.connSyncEnv)),await this.initSync(),this.log("ENV_".concat(eQ.env," - ").concat(eQ.name,": logged sync when ").concat(AQ?"reLogging":"logging","."))}catch(rQ){throw this.warn("First init sync error, ".concat(rQ)),this.context.connSyncEnv=void 0,this.warn("change connSyncEnv: %d to undefined in first sync init error",eQ.env),this.emit("syncDisconnected"),oQ&&!this.connection.cancelLogin&&this.handleSyncDisconnected(eQ),rQ}finally{this.context.syncConnecting=!1}}}async logoutHandler(eQ){this.loggedOut=!0,this.connection.apClient.apFinish$.next(void 0),this.connection.stopLogin(),this.incGetSeq();const AQ=this.getLoginSockets(),iQ=AQ.map(rQ=>(rQ.sendPacket("UserQuit2",{flags:eQ?new Long$2(1,0,!0):Long$2.fromNumber(0)}),this.connection.waitClosing(rQ)));this.clearSockets(LOGOUT_SOCKET_CLOSE_TIMEOUT);const oQ=AQ.map(rQ=>rQ.env);return[0,1].filter(rQ=>!oQ.includes(rQ)).forEach(rQ=>{this.connection.closeSocket(rQ,0)}),this.lockSession.clearLocksWithRetry(),merge(...iQ).toPromise()}async requestChannelJoin(eQ){const AQ=OperationName.subscribe;if(this.getLoginSockets().length===0){const{code:nQ,reason:sQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(AQ,[sQ],nQ)}const iQ=fromEvent(this,"channelLeft").pipe(filter(nQ=>eQ===nQ),take(1)),oQ=this.incGetSeq(),rQ=this.lastLoginSockets.map(nQ=>nQ.pipe(switchMap((sQ,aQ)=>{aQ!==0&&this.incSeqIfNeeded(sQ.env);const cQ=aQ===0?oQ:this.seq;return sQ.sendPacket("GroupEnter",{account:eQ,seq:cQ}),sQ.fromReceived("GroupReply").pipe(first(gQ=>{let{seq:IQ}=gQ;return cQ.eq(IQ)}),tap(gQ=>{let{code:IQ}=gQ;if(IQ!==0){const{code:EQ,reason:CQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_FAILED);throw this.warn("channel join failed, server code is %d",IQ),this.updateLastSubOrJoinOptionsCache(eQ,"withMessage",!1),new RtmUnavailableError(AQ,[CQ],{code:EQ,serverCode:IQ})}this.updateLastSubOrJoinOptionsCache(eQ,"withMessage",!0)}))}),takeUntil(iQ),share()));rQ.forEach((nQ,sQ)=>{const aQ=()=>{this.loginSocketSubs[sQ].channels.delete(eQ)};this.loginSocketSubs[sQ].channels.set(eQ,nQ.subscribe({error:aQ,complete:aQ}))}),await merge(...rQ).pipe(take(1),timeout(COMMON_REQUEST_TIMEOUT),catchError(nQ=>{if(isRtmError(nQ))return throwError(nQ);!(nQ instanceof TimeoutError)&&this.logError(nQ);const{code:sQ,reason:aQ}=getErrorInfoByCode(nQ instanceof TimeoutError?RTMErrorCode.RTM_ERROR_CHANNEL_SUBSCRIBE_TIMEOUT:RTMErrorCode.RTM_ERROR_CHANNEL_SUBSCRIBE_FAILED);return throwError(new RtmUnavailableError(AQ,[aQ],sQ))})).toPromise()}requestChannelLeave(eQ){this.getLoginSockets().forEach(AQ=>{AQ.sendPacket("GroupLeave2",{account:eQ,flags:Long$2.fromNumber(0)})}),this.updateLastSubOrJoinOptionsCache(eQ,"withMessage",!1)}requestUpdateEdgeTicket(eQ){const AQ=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&AQ.length===0){const{code:oQ,reason:rQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(OperationName.login,[rQ],oQ)}const iQ=this.incGetSeq();return AQ.forEach(oQ=>{oQ.sendPacket("UserRenewTokenReq",{instance:this.instanceId,seq:iQ,account:this.context.uid,ticket:eQ})}),race(RegistrarSession.genTimeoutError(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),...AQ.map(oQ=>oQ.fromReceived("UserRenewTokenResp").pipe(first(rQ=>{let{seq:nQ}=rQ;return iQ.eq(nQ)}),tap(rQ=>{let{code:nQ}=rQ;if(nQ!==0){const{code:sQ,reason:aQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_TOKEN);throw new RtmUnavailableError(OperationName.login,[aQ],{serverCode:nQ,code:sQ})}}))))}requestGetChannelMetadata(eQ){return this.storageSession.getChannelMetadata(eQ)}requestGetLocalMetaData(eQ){return this.storageSession.getUserMetadata(eQ)}requestUpdateChannelMetadata(eQ){let AQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},iQ=arguments.length>2?arguments[2]:void 0,oQ=arguments.length>3?arguments[3]:void 0,rQ=arguments.length>4?arguments[4]:void 0;return this.storageSession.updateChannelMetadata(eQ,AQ,iQ,oQ,rQ)}requestDeleteChannelMetadata(eQ){let AQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},iQ=arguments.length>2?arguments[2]:void 0,oQ=arguments.length>3?arguments[3]:void 0,rQ=arguments.length>4?arguments[4]:void 0;return this.storageSession.removeChannelMetadata(eQ,AQ,iQ,oQ,rQ)}requestSetChannelMetadata(eQ){let AQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},iQ=arguments.length>2?arguments[2]:void 0,oQ=arguments.length>3?arguments[3]:void 0,rQ=arguments.length>4?arguments[4]:void 0;return this.storageSession.setChannelMetadata(eQ,AQ,iQ,oQ,rQ)}requestClearChannelMetadata(){let eQ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},AQ=arguments.length>1?arguments[1]:void 0,iQ=arguments.length>2?arguments[2]:void 0,oQ=arguments.length>3?arguments[3]:void 0;return this.storageSession.clearChannelMetadata(eQ,AQ,iQ,oQ)}requestUpdateLocalMetadata(eQ){let AQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},iQ=arguments.length>2?arguments[2]:void 0;return this.storageSession.updateUserMetadata(eQ,AQ,iQ)}requestDeleteLocalMetadata(eQ){let AQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},iQ=arguments.length>2?arguments[2]:void 0;return this.storageSession.removeUserMetadata(eQ,AQ,iQ)}requestSetLocalMetadata(eQ){let AQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},iQ=arguments.length>2?arguments[2]:void 0;return this.storageSession.setUserMetadata(eQ,AQ,iQ)}requestClearLocalMetadata(){let eQ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},AQ=arguments.length>1?arguments[1]:void 0;return this.storageSession.clearUserMetadata(eQ,AQ)}async requestSubscribeUserMetadata(eQ,AQ){const iQ=OperationName.subscribeUserMetadata,oQ=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&oQ.length===0){const{code:cQ,reason:gQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(iQ,[gQ],cQ)}const rQ=fromEvent(this,"unSubUserMetadata").pipe(filter(cQ=>eQ===cQ),take(1)),nQ=this.incGetSeq(),sQ=Date.now(),aQ=this.lastLoginSockets.map(cQ=>cQ.pipe(switchMap((gQ,IQ)=>{IQ!==0&&this.incSeqIfNeeded(gQ.env);const EQ=IQ===0?nQ:this.seq;return gQ.sendPacket("StateSubscribe",{sequence:EQ,target:eQ,subTarget:"",flags:Long$2.fromNumber(0)}),gQ.fromReceived("StateSubscribeResult").pipe(first(CQ=>{let{sequence:dQ}=CQ;return EQ.eq(dQ)}),tap(CQ=>{let{code:dQ}=CQ;const{code:lQ,reason:uQ}=convertServerCodeToSdkCodeForSub(dQ);if(lQ!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(iQ,[uQ],lQ);this.context.userMetadataSub.add(eQ),this.context.addReportEvents("SyncSubscribeEvent",{lts:Long$2.fromNumber(Date.now()),userid:this.context.uid,vid:Long$2.fromString(this.context.vid||"0"),sid:this.context.sid,usersid:this.context.sid,target:eQ,requestts:Long$2.fromNumber(sQ),replyts:Long$2.fromNumber(Date.now()),eventtype:"Subscribe",sdktype:4,flags:Long$2.fromNumber(0),code:0,seq:nQ,index:{index1:this.context.uid,index2:this.context.appId,index3:"logUpload=".concat(this.context.config.logUpload)},subtarget:this.context.uid})}))}),takeUntil(rQ),share()));aQ.forEach((cQ,gQ)=>{const IQ=()=>{this.loginSocketSubs[gQ].userMetadataSubs.delete(eQ)};this.loginSocketSubs[gQ].userMetadataSubs.set(eQ,cQ.subscribe({error:IQ,complete:IQ}))}),await merge(...aQ).pipe(take(1),timeout(COMMON_REQUEST_TIMEOUT),catchError(cQ=>(cQ instanceof TimeoutError&&this.warn("subscribe user metadata timeout"),throwError(cQ)))).toPromise()}requestUnsubscribeUserMetadata(eQ){this.storageSession.unsubscribeUserMetadata(eQ),this.emit("unSubUserMetadata",eQ)}requestUnsubscribeChannelMetadata(eQ){const AQ=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&AQ.length===0)return;const iQ=this.incGetSeq();AQ.forEach(oQ=>{oQ.sendPacket("StateUnsubscribe",{sequence:iQ,target:eQ,subTarget:"",flags:new Long$2(1,0,!0)})}),this.channelMetaEventInfos.delete(eQ),this.context.addReportEvents("SyncSubscribeEvent",{lts:Long$2.fromNumber(Date.now()),userid:this.context.uid,vid:Long$2.fromString(this.context.vid||"0"),sid:this.context.sid,usersid:this.context.sid,target:eQ,requestts:Long$2.fromNumber(Date.now()),replyts:Long$2.fromNumber(Date.now()),eventtype:"UnSubscribe",sdktype:4,flags:new Long$2(1,0,!0),code:0,seq:iQ,index:{index1:this.context.uid,index2:this.context.appId,index3:"logUpload=".concat(this.context.config.logUpload)},subtarget:this.context.uid}),this.updateLastSubOrJoinOptionsCache(eQ,"withMetadata",!1)}async requestSubscribeChannelMetadata(eQ,AQ){const iQ=OperationName.subscribe,oQ=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&oQ.length===0){const{code:cQ,reason:gQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(iQ,[gQ],cQ)}const rQ=fromEvent(this,"unSubChannelMetadata").pipe(filter(cQ=>eQ===cQ),take(1)),nQ=this.incGetSeq(),sQ=Date.now(),aQ=this.lastLoginSockets.map(cQ=>cQ.pipe(switchMap((gQ,IQ)=>{IQ!==0&&this.incSeqIfNeeded(gQ.env);const EQ=IQ===0?nQ:this.seq;return gQ.sendPacket("StateSubscribe",{sequence:EQ,target:eQ,subTarget:"",flags:new Long$2(1,0,!0)}),gQ.fromReceived("StateSubscribeResult").pipe(first(CQ=>{let{sequence:dQ}=CQ;return EQ.eq(dQ)}),tap(CQ=>{let{code:dQ}=CQ;const{code:lQ,reason:uQ}=convertServerCodeToSdkCodeForSub(dQ);this.context.addReportEvents("SyncSubscribeEvent",{lts:Long$2.fromNumber(Date.now()),userid:this.context.uid,vid:Long$2.fromString(this.context.vid||"0"),sid:this.context.sid,usersid:this.context.sid,target:eQ,requestts:Long$2.fromNumber(sQ),replyts:Long$2.fromNumber(Date.now()),eventtype:"Subscribe",sdktype:4,flags:Long$2.fromNumber(0),code:lQ,seq:nQ,index:{index1:this.context.uid,index2:this.context.appId,index3:"logUpload=".concat(this.context.config.logUpload)},subtarget:this.context.uid}),lQ!==RTMErrorCode.RTM_ERROR_OK?(this.updateLastSubOrJoinOptionsCache(eQ,"withMetadata",!1),this.warn("Subscribe channel metadata failure. The response code from the RTM service is ".concat(dQ))):this.updateLastSubOrJoinOptionsCache(eQ,"withMetadata",!0)}))}),takeUntil(rQ),share()));aQ.forEach((cQ,gQ)=>{const IQ=()=>{this.loginSocketSubs[gQ].metadataSubs.delete(eQ)};this.loginSocketSubs[gQ].metadataSubs.set(eQ,cQ.subscribe({error:IQ,complete:IQ}))}),await merge(...aQ).pipe(take(1),timeout(COMMON_REQUEST_TIMEOUT),catchError(cQ=>(cQ instanceof TimeoutError&&this.warn("subscribe channel metadata timeout"),throwError(cQ)))).toPromise()}requestUnsubscribeLock(eQ){const AQ=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&AQ.length===0)return;const iQ=this.incGetSeq();AQ.forEach(oQ=>{oQ.sendPacket("StateLockUnsubscribe",{sequence:iQ,target:eQ,flags:new Long$2(1048577,0,!0)})}),this.lockSnapshotLastTime.delete(eQ),this.updateLastSubOrJoinOptionsCache(eQ,"withLock",!1)}async requestSubscribeLock(eQ){const AQ=OperationName.subscribe,iQ=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&iQ.length===0){const{code:sQ,reason:aQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(AQ,[aQ],sQ)}const oQ=fromEvent(this,"unSubChannelLock").pipe(filter(sQ=>eQ===sQ),take(1),tap(sQ=>{this.lockSnapshotLastTime.delete(sQ)})),rQ=this.incGetSeq(),nQ=this.lastLoginSockets.map(sQ=>sQ.pipe(switchMap((aQ,cQ)=>{cQ!==0&&this.incSeqIfNeeded(aQ.env);const gQ=cQ===0?rQ:this.seq;return aQ.sendPacket("StateLockSubscribe",{sequence:gQ,target:eQ,flags:new Long$2(1048577,0,!0)}),aQ.fromReceived("StateLockSubscribeResult").pipe(first(IQ=>{let{sequence:EQ}=IQ;return gQ.eq(EQ)}),tap(IQ=>{let{code:EQ}=IQ;const{code:CQ,reason:dQ}=convertServerCodeToSdkCodeForSub(EQ);CQ!==RTMErrorCode.RTM_ERROR_OK?(this.updateLastSubOrJoinOptionsCache(eQ,"withLock",!1),this.warn("Subscribe lock failure. The response code from the RTM service is ".concat(EQ))):this.updateLastSubOrJoinOptionsCache(eQ,"withLock",!0)}))}),takeUntil(oQ),share()));nQ.forEach((sQ,aQ)=>{const cQ=()=>{this.loginSocketSubs[aQ].lockSubs.delete(eQ)};this.loginSocketSubs[aQ].lockSubs.set(eQ,sQ.subscribe({error:cQ,complete:cQ}))}),await merge(...nQ).pipe(take(1),timeout(COMMON_REQUEST_TIMEOUT),catchError(sQ=>(sQ instanceof TimeoutError&&this.warn("subscribe channel lock timeout"),throwError(sQ)))).toPromise()}requestSetLock(eQ,AQ,iQ){return this.lockSession.setLock(eQ,AQ,iQ)}requestRemoveLock(eQ,AQ){return this.lockSession.removeLock(eQ,AQ)}requestAcquireLock(eQ,AQ,iQ){return this.lockSession.acquireLock(eQ,AQ,iQ)}requestReleaseLock(eQ,AQ){return this.lockSession.releaseLock(eQ,AQ)}requestDisableLock(eQ,AQ,iQ){return this.lockSession.revokeLock(eQ,AQ,iQ)}requestGetLock(eQ){return this.lockSession.getLocks(eQ)}requestGetMessages(eQ){let{channelName:AQ,channelType:iQ,startTime:oQ,endTime:rQ,count:nQ}=eQ;const sQ=OperationName.getMessages,aQ=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&aQ.length===0){const{code:IQ,reason:EQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(sQ,[EQ],IQ)}const cQ=this.incGetSeq(),gQ=cQ+"_"+this.instanceId;return aQ.forEach(IQ=>{IQ.sendPacket("StateHistoryGet2",{dst:AQ,uuid:gQ,startTime:Long$2.fromNumber(oQ),endTime:Long$2.fromNumber(rQ),count:nQ,flags:new Long$2(iQ==="MESSAGE"?1:0,0,!0)})}),race(RegistrarSession.genTimeoutError(RTMErrorCode.RTM_ERROR_HISTORY_OPERATION_TIMEOUT),...aQ.map(IQ=>IQ.fromReceived("StateHistoryGetResult2").pipe(first(EQ=>{let{uuid:CQ}=EQ;return gQ===CQ}),map$1(EQ=>{if(EQ.code!==RTMErrorCode.RTM_ERROR_OK){const{code:CQ,reason:dQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_HISTORY_OPERATION_FAILED);throw new RtmUnavailableError(sQ,[dQ],CQ)}{const{messages:CQ,flags:dQ,oldestTime:lQ,more:uQ}=EQ;return{messageList:CQ.map(BQ=>{var QQ;const{options:fQ,payload:_Q,src:RQ,ms:wQ,details:bQ}=BQ,NQ=new MessageOption(fQ),UQ=NQ.isZlibCompressed(),PQ=NQ.isEncryption(),OQ=(QQ=NQ.getEncrytionComplement())!==null&&QQ!==void 0?QQ:0,YQ=NQ.isTextMessage(),{customType:SQ=new Uint8Array}=bQ,xQ=new TextDecoder().decode(SQ);if(YQ){const VQ=UQ?inflate(concatenateUint8Array(_Q,Uint8Array.of(0,0,0,0))):_Q,TQ=VQ.byteLength-Long$2.fromValue(OQ).toNumber();return{message:new TextDecoder().decode(PQ&&this.initEncryption?decrypt(VQ,this.key,this.iv,this.keyLength).slice(0,TQ):VQ),customType:xQ,messageType:MessageType$1.STRING,publisher:RQ,timestamp:wQ==null?void 0:wQ.toNumber()}}{const VQ=UQ?inflate(_Q):_Q,TQ=VQ.byteLength-Long$2.fromValue(OQ).toNumber();return{message:PQ&&this.initEncryption?decrypt(VQ,this.key,this.iv,this.keyLength).slice(0,TQ):VQ,customType:xQ,messageType:MessageType$1.BINARY,publisher:RQ,timestamp:wQ==null?void 0:wQ.toNumber()}}}),newStart:uQ?lQ.toNumber():0}}}))))}async sendRawMessage(eQ,AQ,iQ){let oQ=arguments.length>3&&arguments[3]!==void 0&&arguments[3],rQ=arguments.length>4?arguments[4]:void 0,nQ=arguments.length>5?arguments[5]:void 0,sQ=arguments.length>6?arguments[6]:void 0;const aQ=OperationName.publish,cQ=Date.now(),gQ=oQ?RtmMessageCategoryEnum.P2pRMsgNoOfflineFlag:RtmMessageCategoryEnum.ChannelRMsg;if(!(isValidId(iQ)&&eQ instanceof Uint8Array&&typeof AQ=="string")){const{code:QQ,reason:fQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED);throw new RtmInvalidArgumentError(aQ,[fQ],QQ)}if(eQ.byteLength+new Blob([AQ]).size+new Blob([nQ??""]).size>TEXT_MESSAGE_MAX_TEXT_BYTES){this.emit("messageCount",{messageCategory:gQ,type:"common",key:"sentcount"}),this.emit("messageCount",{messageCategory:gQ,type:"common",key:"invalidmessagecount"});const{code:QQ,reason:fQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_MESSAGE_LENGTH_EXCEED_LIMITATION);throw new RtmLimitExceededError(aQ,[fQ],QQ)}const IQ=this.initEncryption;let EQ=eQ;if(IQ)try{EQ=encrypt(eQ,this.key,this.iv,this.keyLength)}catch{const{code:fQ,reason:_Q}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_ENCRYPT_MESSAGE_FAILED);throw new RtmUnavailableError(aQ,[_Q],fQ)}const CQ=!getParameter("DISABLE_MESSAGE_COMPRESSION")&&EQ.byteLength>=MESSAGE_MIN_COMPRESSION_LEN,{dialogue:dQ,sequence:lQ}=this.chatManager.getChatInfo(oQ?K_P2P_MESSAGE_PREFIX+iQ:iQ),uQ=this.instanceId;this.log('A%s %s raw message is sending to %s: "'.concat(uQ,"-").concat(dQ,"#").concat(lQ,'"'),CQ?" compressed":"",oQ?"peer":"channel",replaceRangeWithAsterisk(iQ));const{code:hQ}=await from(this.sendMessageToRetry(QQ=>({MiscMap:_objectSpread2({description:new TextEncoder().encode(AQ)},nQ?{customType:new TextEncoder().encode(nQ)}:{}),sequence:lQ,dialogue:dQ,instance:uQ,dst:iQ,ms:Long$2.fromNumber(Date.now(),!0),options:new MessageOption({IterationNumber:QQ,CompressionMethod:CQ?"Zlib":"Uncompressed",MessageType:oQ?"PeerRawMessage":"ChannelRawMessage",ToCache:!1,ToArchive:!1,enableEncryption:IQ,encrytionComplement:EQ.byteLength-eQ.byteLength,kHistory:sQ?1:0}).toLong(),payload:CQ?deflate(EQ):EQ,src:this.context.uid}),!0,oQ)).pipe(timeout(rQ===void 0?MESSAGE_SEND_TIMEOUT:rQ),catchError(QQ=>(QQ instanceof TimeoutError&&(this.emit("messageCount",{messageCategory:gQ,type:"common",key:"sentcount"}),this.emit("messageCount",{messageCategory:gQ,type:"common",key:"timeoutcount"}),this.warn("Send message timeout")),throwError(QQ)))).toPromise(),BQ=hQ===0;return this.emit("messageCount",{messageCategory:gQ,type:"common",key:"sentcount"}),BQ&&(this.emit("messageCount",{messageCategory:gQ,type:"common",key:"successcount"}),this.emit("messageCount",{messageCategory:gQ,type:oQ?"peer":"recipient",delay:getElapse(cQ).toNumber()})),hQ!==0&&this.throwPeerMsgFailed(aQ,hQ),{hasPeerReceived:BQ}}throwPeerMsgFailed(eQ,AQ){const{code:iQ,reason:oQ}=getErrorInfoByCode(AQ===K_ACK_PEER_OFFLINE?RTMErrorCode.RTM_ERROR_CHANNEL_RECEIVER_OFFLINE:RTMErrorCode.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED);throw new RtmUnavailableError(eQ,[oQ],iQ)}async sendTextMessage(eQ,AQ){let iQ=arguments.length>2&&arguments[2]!==void 0&&arguments[2],oQ=arguments.length>3?arguments[3]:void 0,rQ=arguments.length>4?arguments[4]:void 0,nQ=arguments.length>5?arguments[5]:void 0;const sQ=OperationName.publish,aQ=Date.now(),cQ=iQ?RtmMessageCategoryEnum.P2pSMsgNoOfflineFlag:RtmMessageCategoryEnum.ChannelSMsg;if(!isValidId(AQ)){const{code:BQ,reason:QQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED);throw new RtmInvalidArgumentError(sQ,[QQ],BQ)}if(new Blob([eQ]).size+new Blob([rQ??""]).size>TEXT_MESSAGE_MAX_TEXT_BYTES){this.emit("messageCount",{messageCategory:cQ,type:"common",key:"sentcount"}),this.emit("messageCount",{messageCategory:cQ,type:"common",key:"invalidmessagecount"});const{code:BQ,reason:QQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_MESSAGE_LENGTH_EXCEED_LIMITATION);throw new RtmLimitExceededError(sQ,[QQ],BQ)}const gQ=this.initEncryption;let IQ=new TextEncoder().encode(eQ);if(gQ)try{IQ=encrypt(eQ,this.key,this.iv,this.keyLength)}catch{const{code:QQ,reason:fQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_ENCRYPT_MESSAGE_FAILED);throw new RtmUnavailableError(sQ,[fQ],QQ)}const EQ=!getParameter("DISABLE_MESSAGE_COMPRESSION")&&(gQ?new Blob([new TextDecoder().decode(IQ)]).size:new Blob([eQ]).size)>=MESSAGE_MIN_COMPRESSION_LEN,{dialogue:CQ,sequence:dQ}=this.chatManager.getChatInfo(iQ?K_P2P_MESSAGE_PREFIX+AQ:AQ),lQ=this.instanceId;this.log('A%s %s message is sending to %s: "'.concat(lQ,"-").concat(CQ,"#").concat(dQ,'"'),EQ?" compressed":"",iQ?"peer":"channel",replaceRangeWithAsterisk(AQ));const{code:uQ}=await from(this.sendMessageToRetry(BQ=>({MiscMap:_objectSpread2({},rQ?{customType:new TextEncoder().encode(rQ)}:{}),sequence:dQ,dialogue:CQ,instance:lQ,dst:AQ,ms:Long$2.fromNumber(Date.now(),!0),options:new MessageOption({IterationNumber:BQ,CompressionMethod:EQ?"Zlib":"Uncompressed",MessageType:iQ?"PeerTextMessage":"ChannelTextMessage",ToCache:!1,ToArchive:!1,enableEncryption:gQ,encrytionComplement:IQ.byteLength-new TextEncoder().encode(eQ).byteLength,kHistory:nQ?1:0}).toLong(),payload:EQ?deflate(IQ):IQ,src:this.context.uid}),!0,iQ)).pipe(timeout(oQ===void 0?MESSAGE_SEND_TIMEOUT:oQ),catchError(BQ=>(BQ instanceof TimeoutError&&(this.emit("messageCount",{messageCategory:cQ,type:"common",key:"sentcount"}),this.emit("messageCount",{messageCategory:cQ,type:"common",key:"timeoutcount"}),this.warn("Send message timeout")),throwError(BQ)))).toPromise(),hQ=uQ===0;return this.emit("messageCount",{messageCategory:cQ,type:"common",key:"sentcount"}),hQ&&(this.emit("messageCount",{messageCategory:cQ,type:"common",key:"successcount"}),this.emit("messageCount",{messageCategory:cQ,type:iQ?"peer":"recipient",delay:getElapse(aQ).toNumber()})),uQ!==0&&this.throwPeerMsgFailed(sQ,uQ),{hasPeerReceived:hQ}}cleanLoginSubs(eQ,AQ){Object.entries(this.loginSocketSubs[eQ]).forEach(iQ=>{let[oQ,rQ]=iQ;["channels","lockSubs","userMetadataSubs","metadataSubs"].includes(oQ)&&AQ||(Array.isArray(rQ)||rQ instanceof Map?rQ.forEach(nQ=>nQ.unsubscribe()):rQ&&rQ.unsubscribe())}),this.loginSocketSubs[eQ]={channels:AQ?this.loginSocketSubs[eQ].channels:new Map,lockSubs:AQ?this.loginSocketSubs[eQ].lockSubs:new Map,userMetadataSubs:AQ?this.loginSocketSubs[eQ].userMetadataSubs:new Map,metadataSubs:AQ?this.loginSocketSubs[eQ].metadataSubs:new Map,receivers:[]}}async sendMessageToRetry(eQ,AQ,iQ){let oQ=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;this.log("Attempt to send the message ".concat(AQ?" with retrying, %o":"without retrying"),{retryTimes:oQ});const rQ=this.getLoginSockets();if(this.context.hasLoggedIn===!1&&rQ.length===0){const{code:IQ,reason:EQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(OperationName.publish,[EQ],IQ)}const nQ=eQ(oQ);rQ.forEach(IQ=>{IQ.sendPacket("Message",nQ)});const{dialogue:sQ,sequence:aQ,instance:cQ}=nQ,gQ=rQ.map(IQ=>IQ.fromReceived("Ack").pipe(filter(EQ=>sQ.eq(EQ.dialogue)&&aQ.eq(EQ.sequence)&&cQ.eq(EQ.instance)&&EQ.code!==K_ACK_MISS)));try{const{code:IQ}=await merge(...gQ).pipe(timeout(MESSAGE_RETRY_TIMEOUT+(iQ?500:0)),catchError(EQ=>(isTimeout(EQ)&&this.warn("Message send timeout, retry times %d",oQ),throwError(EQ))),take(1)).toPromise();return this.log("The message has been acked, %o",{code:IQ}),{code:IQ,retryTimes:oQ}}catch(IQ){if(IQ instanceof TimeoutError&&AQ)return this.sendMessageToRetry(eQ,!1,iQ,oQ+1);throw IQ}}initLoginsSocketsReceivers(eQ,AQ,iQ){const oQ=Date.now();eQ.forEach((rQ,nQ)=>{const{login:sQ}=this.loginSocketSubs[nQ];sQ===void 0||iQ||sQ.unsubscribe(),this.loginSocketSubs[nQ].login=rQ.pipe(tap(aQ=>{this.log("Env_%s: acquired socket %s",nQ,aQ.name);const cQ=Date.now();this.context.addReportEvents("Link",{ackedServerIp:aQ.address,destServerIp:aQ.ip,ec:0,sc:0,elapse:getElapse(this.startTime),lts:Long$2.fromNumber(cQ),responseTime:cQ-oQ,sid:getSid(this.instanceId),userId:this.context.uid,version:VERSION_NO,subVersion:SUBVERSION,connectionsequence:Long$2.fromNumber(0),linktype:4,linkflag:Long$2.fromNumber(0),linkenv:aQ.env}),this.emitUserJoined=!0,AQ&&this.connection.apClient.apFinish$.next(void 0),iQ&&this.initRegConnSuccess$.next(void 0)})).subscribe(this.lastLoginSockets[nQ])})}initKeepAliveSender(){this.lastLoginSockets.map(eQ=>eQ.pipe(switchMap(AQ=>{var iQ;return(iQ=this.loginSocketSubs[AQ.env].pingTimer)===null||iQ===void 0||iQ.unsubscribe(),AQ.loggedIn&&this.startPingTimer(AQ,!0),EMPTY}))).forEach((eQ,AQ)=>{const{keepAlive:iQ}=this.loginSocketSubs[AQ];iQ!==void 0&&iQ.unsubscribe(),this.loginSocketSubs[AQ].keepAlive=eQ.subscribe({error:()=>{}})})}startPingTimer(eQ){let AQ=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const iQ=of(eQ).pipe(delay(AQ?0:this.context.heartbeatInterval,isMobile$1()?void 0:getHackAsyncScheduler()),tap(()=>{!eQ.isActiveClose&&this.sendPing(eQ),iQ.unsubscribe()})).subscribe();this.loginSocketSubs[eQ.env].pingTimer=iQ}initLoginReceiver(){race(...this.lastLoginSockets.map(nQ=>nQ.pipe(switchMap(sQ=>sQ.fromReceived("UserTicketNearlyExpire").pipe(throttleTime(5e3),tap(this.onUserTicketNearlyExpire(sQ))))))).subscribe({error:nQ=>{this.logError("TokenPrivilegeWillExpireReceivers error: %o",nQ)}});const eQ=fromEvent(this,"messageCount"),AQ=eQ.pipe(filter(nQ=>nQ.messageCategory===RtmMessageCategoryEnum.ChannelSMsg));AQ.subscribe(nQ=>this.updateMessageCount(nQ)),AQ.pipe(bufferTime(6e3)).subscribe(nQ=>{nQ.length&&this.chanelStringMessageReport.report()}),merge(of(void 0),AQ).pipe(switchMap(()=>interval(36e5))).subscribe(()=>{this.chanelStringMessageReport.report()});const iQ=eQ.pipe(filter(nQ=>nQ.messageCategory===RtmMessageCategoryEnum.ChannelRMsg));iQ.subscribe(nQ=>this.updateMessageCount(nQ)),iQ.pipe(bufferTime(6e3)).subscribe(nQ=>{nQ.length&&this.chanelRawMessageReport.report()}),merge(of(void 0),iQ).pipe(switchMap(()=>interval(36e5))).subscribe(()=>{this.chanelRawMessageReport.report()});const oQ=eQ.pipe(filter(nQ=>nQ.messageCategory===RtmMessageCategoryEnum.P2pSMsgNoOfflineFlag));oQ.subscribe(nQ=>this.updateMessageCount(nQ)),oQ.pipe(bufferTime(6e3)).subscribe(nQ=>{nQ.length&&this.p2pSMsgNoOfflineReport.report()}),merge(of(void 0),oQ).pipe(switchMap(()=>interval(36e5))).subscribe(()=>{this.p2pSMsgNoOfflineReport.report()});const rQ=eQ.pipe(filter(nQ=>nQ.messageCategory===RtmMessageCategoryEnum.P2pRMsgNoOfflineFlag));rQ.subscribe(nQ=>this.updateMessageCount(nQ)),rQ.pipe(bufferTime(6e3)).subscribe(nQ=>{nQ.length&&this.p2pRMsgNoOfflineReport.report()}),merge(of(void 0),rQ).pipe(switchMap(()=>interval(36e5))).subscribe(()=>{this.p2pSMsgNoOfflineReport.report()}),this.lastLoginSockets.map(nQ=>nQ.pipe(switchMap(sQ=>merge(fromEvent(sQ,"reconnect").pipe(tap(this.onSocketReconnect(sQ))),sQ.fromReceived("Message").pipe(tap(this.onMessage(sQ))),sQ.fromReceived("StateLockSubscribeEvent").pipe(tap(this.onLockEvent())),sQ.fromReceived("StateUpdate").pipe(tap(this.onStateUpdate())),sQ.fromReceived("Pong3").pipe(tap(this.onPong())),sQ.fromReceived("UserDrop").pipe(tap(this.onUserDrop(sQ))),sQ.fromReceived("GroupDrop").pipe(tap(this.onGroupDrop())),sQ.fromReceived("StateLockUpdate").pipe(tap(this.onLockUpdate())),sQ.fromReceived("SyncFin").pipe(tap(this.onSyncFin(sQ))),sQ.fromReceived("SyncInitAck").pipe(tap(this.onSyncInitAck(sQ))),sQ.receivedSyncPacket.pipe(tap(this.onSyncPacket()))).pipe(mapTo(void 0))))).forEach((nQ,sQ)=>{this.loginSocketSubs[sQ].receivers.forEach(aQ=>aQ.unsubscribe()),this.loginSocketSubs[sQ].receivers.push(nQ.subscribe({error:aQ=>{this.logError("socketReceiver error: %o",aQ)},complete:()=>{this.log("socketReceiver complete: %o")}}))})}handleConfig(eQ){if(typeof eQ["presence.interval"]!==void 0&&isUintString(eQ["presence.interval"])){const AQ=Number(eQ["presence.interval"]);AQ>K_PRESENCE_INTERVAL_MAX?eQ["presence.interval"]=String(K_PRESENCE_INTERVAL_MAX):AQ<K_PRESENCE_INTERVAL_MIN&&(eQ["presence.interval"]=String(K_PRESENCE_INTERVAL_MIN))}else eQ["presence.interval"]=String(K_PRESENCE_INTERVAL_DEFAULT);if(typeof eQ["presence.occupancy"]!==void 0&&isUintString(eQ["presence.occupancy"])){const AQ=Number(eQ["presence.occupancy"]);AQ>K_INTERVAL_THRESHOLD_MAX?eQ["presence.occupancy"]=String(K_INTERVAL_THRESHOLD_MAX):AQ<K_INTERVAL_THRESHOLD_MIN&&(eQ["presence.occupancy"]=String(K_INTERVAL_THRESHOLD_MIN))}else eQ["presence.occupancy"]=String(K_DEFAULT_INTERVAL_THRESHOLD);if(typeof eQ["presence.debounce"]!==void 0&&isUintString(eQ["presence.debounce"])){const AQ=Number(eQ["presence.debounce"]);AQ>K_INTERVAL_THRESHOLD_MAX?eQ["presence.debounce"]=String(K_INTERVAL_THRESHOLD_MAX):AQ<K_INTERVAL_THRESHOLD_MIN&&(eQ["presence.debounce"]=String(K_INTERVAL_THRESHOLD_MIN))}else eQ["presence.debounce"]=String(K_DEBOUNCE_DEFAULT)}requestSocketLogin(eQ,AQ,iQ,oQ){const rQ=defer(()=>{if(this.emit("login-request"),this.userJoinOptions=new UserJoinOptions(AQ),this.log("ENV_%d(%s):socket send UserJoin2, socket.isActiveClose: %s, isRejoin: %s",eQ.env,eQ.name,eQ.isActiveClose,AQ),this.loggedOut)return this.log("close other socket, ignore this login request"),void eQ.close();eQ.isActiveClose||eQ.sendPacket("UserJoin2",{account:this.context.uid,instance:this.instanceId,opt:this.userJoinOptions.toLong(),seq:iQ,ticket:eQ.ticket,detail:{[UserJoinDetailKey.kDetailKeyVendorConfig]:new Uint8Array,[UserJoinDetailKey.kDetailKeyKeepAliveInterval]:new TextEncoder().encode(String(this.context.heartbeatInterval/1e3))}})}),nQ=eQ.fromReceived("UserResp2").pipe(first(sQ=>iQ.eq(sQ.seq)),tap(sQ=>{if(this.loggedOut)return this.log("ENV_%d(%s): other socket is closing, will close this socket, ignore this resp",eQ.env,eQ.name),EMPTY;const{code:aQ}=sQ;if(aQ!==0){let gQ=String(aQ);this.clearSockets();let IQ=RTMErrorCode.RTM_ERROR_LOGIN_REJECTED;switch(aQ){case RegServerErrorCode.kCertificateInvalid:case RegServerErrorCode.kTicketParseError:case RegServerErrorCode.kTicketIllegalLength:case RegServerErrorCode.kTicketNotAuth:case RegServerErrorCode.kTicketUnknownVersion:IQ=RTMErrorCode.RTM_ERROR_INVALID_TOKEN;break;case RegServerErrorCode.kTimestampExpired:this.warn("token expired when received userResp, isReJoin: %s",AQ),AQ&&this.emit("tokenExpired"),this.connection.apClient.apFinish$.next(void 0),this.connection.stopLogin(),IQ=RTMErrorCode.RTM_ERROR_TOKEN_EXPIRED;break;case RegServerErrorCode.kUserRejectedByConsoleConfig:IQ=RTMErrorCode.RTM_ERROR_LOGIN_NOT_AUTHORIZED,gQ="NOT_ENABLE_RTM";case RegServerErrorCode.kFail:case RegServerErrorCode.kServiceTooHeavy:}this.logError("Connected to gateway success but the Rtm server rejected login, server code is %s",gQ);const{code:EQ,reason:CQ}=getErrorInfoByCode(IQ);throw new RtmUnavailableError(this.loginOperation,[CQ+" userResp error, detail: ".concat(gQ)],EQ)}try{let gQ;const{detail:{1:IQ}}=sQ;gQ=JSON.parse(new TextDecoder().decode(IQ)),this.handleConfig(gQ);const EQ={};for(const CQ in gQ)CQ[0]!=="_"&&(EQ[CQ]=gQ[CQ]);this.log("user console config: %o",EQ),this.emit("appConfig",gQ)}catch(gQ){this.logError("parse user console config error: %o",gQ)}var cQ;return eQ.attemptsSinceLastError=0,eQ.loggedIn=!0,AQ&&((cQ=this.loginSocketSubs[eQ.env].pingTimer)===null||cQ===void 0||cQ.unsubscribe(),this.startPingTimer(eQ,!0)),this.log("ENV_%d logged in",eQ.env),eQ}),mapTo(eQ),timeout(6e3));return concat(rQ,nQ).pipe(filter(sQ=>sQ!==void 0),tap(()=>{this.log("ENV_%d(%s): Login response received",oQ,eQ.name),this.curLoginSockets[oQ]=eQ}),concatMap(async sQ=>{const aQ=this.context.connSyncEnv===void 0&&this.context.syncConnecting===!1&&AQ;if(aQ&&(this.context.syncConnecting=!0),AQ&&this.info("ENV_%d(%s): reg logged response received when reconnecting, need connect sync: %s, connSyncEnv: %d",sQ.env,sQ.name,aQ,this.context.connSyncEnv),aQ){this.emitUserJoined=!1;try{await timeoutPromise(this.requestFirstSyncInit(sQ),2e3,"syncInitAck timeout",RTMErrorCode.RTM_ERROR_LOGIN_TIMEOUT),this.context.connSyncEnv=sQ.env,this.log("ENV_".concat(sQ.env," - ").concat(sQ.name,": reg connect sync done by concatMap when sdk reconnecting, start logging sync..., connSyncEnv: ").concat(this.context.connSyncEnv)),await this.initSync(),this.log("ENV_".concat(sQ.env," - ").concat(sQ.name,": logged sync when sdk reconnecting."))}catch(cQ){if(this.warn("First sync init error when sdk reconnecting, ".concat(cQ)),this.context.connSyncEnv=void 0,this.warn("change connSyncEnv %d to undefined in requestSocketLogin",sQ.env),this.emit("syncDisconnected"),!getParameter("DECOUPLE_SYNC"))throw sQ.forceReconnect(),new TimeoutError;this.handleSyncDisconnected(sQ)}finally{this.context.syncConnecting=!1,this.emitUserJoined=!0}}return AQ&&this.emitUserJoined&&(this.emit("userJoined",sQ.env),this.emitUserJoined=!1),sQ}),catchError(sQ=>{var aQ;return sQ instanceof TimeoutError&&(aQ=this.curLoginSockets[eQ.env===0?1:0])!==null&&aQ!==void 0&&aQ.isActiveClose?(this.log("ENV_%d(%s): other socket is closing, will close this socket",eQ.env,eQ.name),EMPTY):sQ instanceof TimeoutError?(!AQ&&this.warn("ENV_%d(%s): sdk connect sync or reg response timeout, rejoin: %s",eQ.env,eQ.name,AQ),sQ.name="loginRespTimeout",setTimeout(()=>{eQ.emit("connectionFailure"),eQ.close()},SOCKET_RETRY_INTERVAL),of(eQ).pipe(delay(6e3))):(this.emit("banEdgeIP",eQ.ip),throwError(sQ))}))}getSocketLoginObservables(eQ,AQ){return eQ.map((iQ,oQ)=>iQ.pipe(switchMap((rQ,nQ)=>(this.incSeqIfNeeded(rQ.env),this.requestSocketLogin(rQ,nQ!==0,nQ===0?AQ:this.seq,oQ))),share()))}incSeqIfNeeded(eQ){if(![0,1].includes(eQ))throw new CommonError({INVALID_ENV:"The env argument is not 0 or 1"});this.seqSentStatuses[eQ]&&(this.seq=this.seq.add(1),this.seqSentStatuses=[!1,!1]),this.seqSentStatuses[eQ]=!0}incGetSeq(){return this.seq=this.seq.add(1),this.seqSentStatuses=[!0,!0],this.seq}getLoginSockets(){return compact$1(this.curLoginSockets)}emitMessage(eQ,AQ){var iQ;const{options:oQ,payload:rQ,src:nQ,dst:sQ,instance:aQ,dialogue:cQ,sequence:gQ,ms:IQ,MiscMap:EQ={}}=eQ;this.dialogueSequenceLru.set(cQ.toString(),gQ);const CQ="".concat(aQ,"-").concat(cQ,"#").concat(gQ);if(this.msgDedupLru.has(CQ))return void this.warn("Env_%d: Messages out-of-order or not start with 1: %s",AQ,CQ);this.msgDedupLru.set(CQ,void 0);const dQ=new MessageOption(oQ);this.lastLoginSockets.forEach(async fQ=>{const _Q=await fQ.pipe(take(1)).toPromise();RegistrarSession.sendMessageAck(eQ,_Q)});const lQ=dQ.isZlibCompressed(),uQ=dQ.isEncryption(),hQ=(iQ=dQ.getEncrytionComplement())!==null&&iQ!==void 0?iQ:0,{customType:BQ=new Uint8Array}=EQ,QQ=new TextDecoder().decode(BQ);if(!uQ||this.key)if(uQ||!this.key){if(dQ.isTextMessage()){const fQ=dQ.isPeerTextMessage(),_Q=lQ?inflate(concatenateUint8Array(rQ,Uint8Array.of(0,0,0,0))):rQ,RQ=_Q.byteLength-Long$2.fromValue(hQ).toNumber(),wQ=new TextDecoder().decode(uQ?decrypt(_Q,this.key,this.iv,this.keyLength).slice(0,RQ):_Q);this.info("Received a %s %s text message from %s to %s, %s",lQ?" compressed":"",fQ?"peer":"channel",replaceRangeWithAsterisk(nQ),replaceRangeWithAsterisk(sQ),CQ),fQ?this.emit("messageCount",{messageCategory:RtmMessageCategoryEnum.P2pSMsgNoOfflineFlag,type:"common",key:"receivedcount"}):this.emit("messageCount",{messageCategory:RtmMessageCategoryEnum.ChannelSMsg,type:"common",key:"receivedcount"}),this.emit("channelTextMessage",{channelId:sQ,memberId:nQ,text:wQ,properties:{serverReceivedTs:IQ.toNumber()},customType:QQ,channelType:fQ?"USER":"MESSAGE"})}else if(dQ.isRawMessage()){const fQ=dQ.isRawPeerMessage(),{description:_Q}=EQ,RQ=_Q===void 0?"":decodeUint8ArrayToString(_Q),wQ=lQ?inflate(rQ):rQ,bQ=wQ.byteLength-Long$2.fromValue(hQ).toNumber(),NQ=uQ?decrypt(wQ,this.key,this.iv,this.keyLength).slice(0,bQ):wQ;this.info("Received a %s %s raw message from %s to %s, %s",lQ?" compressed":"",fQ?"peer":"channel",replaceRangeWithAsterisk(nQ),replaceRangeWithAsterisk(sQ),CQ),fQ?this.emit("messageCount",{messageCategory:RtmMessageCategoryEnum.P2pRMsgNoOfflineFlag,type:"common",key:"receivedcount"}):this.emit("messageCount",{messageCategory:RtmMessageCategoryEnum.ChannelRMsg,type:"common",key:"receivedcount"}),this.emit("channelRawMessage",{desc:RQ,raw:NQ,channelId:sQ,memberId:nQ,properties:{serverReceivedTs:IQ.toNumber()},customType:QQ,channelType:fQ?"USER":"MESSAGE"})}}else this.warn("Received a message without encryption but the key is ready, %s",CQ);else this.warn("Received a message with encryption but the key is not ready yet, %s",CQ)}onSocketReconnect(eQ){return()=>{const AQ=[0,1].filter(rQ=>rQ!==eQ.env)[0],iQ=this.connection.curOpenSockets[AQ],oQ=this.context.connSyncEnv===eQ.env;this.log("ENV_".concat(eQ.env,"(").concat(eQ.name,"): received a reconnect event from ").concat(eQ.address,", otherSocketState: ").concat(iQ==null?void 0:iQ.loggedIn,", syncEnv: ").concat(oQ)),oQ&&this.handleSyncDisconnected(eQ),iQ&&!iQ.loggedIn&&(this.log("ENV_".concat(eQ.env,"(").concat(eQ.name,"): will emit connectionLost")),!oQ&&this.handleSyncDisconnected(iQ),this.emit("connectionLost"),this.emitUserJoined=!0)}}onUserTicketNearlyExpire(eQ){return AQ=>{const{ticket:iQ}=AQ;iQ===eQ.ticket&&this.emit("tokenPrivilegeWillExpire")}}onGroupDrop(){return eQ=>{let{account:AQ}=eQ;this.context.addReportEvents("ChnLeave",{cname:AQ,lts:Long$2.fromNumber(Date.now()),elapse:getElapse(this.startTime),errCode:RTMErrorCode.RTM_ERROR_CHANNEL_IN_ERROR_STATE,sid:getSid(this.instanceId),userId:this.context.uid}),[0,1].forEach(iQ=>this.loginSocketSubs[iQ].channels.delete(AQ)),this.logError("the user is kicked out of the channel: ".concat(AQ))}}onStateUpdate(){return eQ=>{let{flags:AQ,allStates:iQ,target:oQ}=eQ;const rQ=covertStateStringToMetaData(iQ);var nQ,sQ;!AQ.and(new Long$2(0,2,!0)).isZero()&&this.log("metadata is cleared."),AQ.and(new Long$2(1,0,!0)).isZero()?rQ.majorRevision>=((nQ=this.userMetaEventInfos.get(oQ))!==null&&nQ!==void 0?nQ:0)&&this.emit("userMetaDataUpdated",{uid:oQ,data:rQ}):rQ.majorRevision>=((sQ=this.channelMetaEventInfos.get(oQ))!==null&&sQ!==void 0?sQ:0)&&this.emit("channelMetaDataUpdated",{channelId:oQ,data:rQ})}}onLockUpdate(){return eQ=>{const{target:AQ,flags:iQ,code:oQ,lock:rQ}=eQ,{channelName:nQ,channelType:sQ}=getChannelDetailByName(AQ);if(this.context.addReportEvents("SyncLockUpdateEvent",{vid:Long$2.fromValue(this.context.vid||"0"),code:oQ,sid:this.context.sid,lts:Long$2.fromNumber(Date.now()),userid:this.context.uid,replyts:Long$2.fromNumber(Date.now()),target:AQ,eventtype:oQ===MetadataRequestErrorCode.kLockWatching?"Watch":"Expire",sdktype:4,flags:iQ,lock:rQ,usersid:this.context.sid,ip:"",sdkip:""}),oQ===MetadataRequestErrorCode.kLockWatching)this.emit("lockWatching",{prefixChannelName:AQ,lockName:rQ});else if(oQ===MetadataRequestErrorCode.kLockExpired){const aQ={channelType:sQ,channelName:nQ,eventType:"EXPIRED",lockName:rQ,ttl:0,publisher:"",snapshot:[],owner:"",timestamp:getUTCTimeBaseREG(this.context.offsetTime)};this.emit("lockExpired",aQ)}}}async requestFirstSyncInit(eQ){let AQ=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];const iQ=this.incGetSeq();return AQ&&(this.firstInitSyncSeq=iQ),this.log("ENV_".concat(eQ.env," - ").concat(eQ.name,": request ").concat(AQ?"first":""," sync init")),eQ.sendPacket(getParameter("DECOUPLE_SYNC")?"SyncInit2":"SyncInit",{seq:iQ}),eQ.fromReceived("SyncInitAck").pipe(first(oQ=>oQ.seq.eq(iQ)),map$1(async oQ=>{if(oQ.code!==0)throw this.context.connSyncEnv=void 0,this.warn("change connSyncEnv %d to undefined in requestFirstSyncInit",eQ.env),new Error("reg connect sync error, code is ".concat(oQ.code));this.log("reg connect sync succeed, change sync connected"),this.emit("syncConnected")})).toPromise()}onSyncFin(eQ){return AQ=>{let{code:iQ}=AQ;this.warn("ENV_%d: reg and sync conn is fin, connSyncEnv is %d, code is %d, %s",eQ.env,this.context.connSyncEnv,iQ,eQ.name),isNil$1(this.context.connSyncEnv)||this.context.connSyncEnv!==eQ.env||this.handleSyncDisconnected(eQ)}}onSyncInitAck(eQ){return async AQ=>{let{code:iQ,seq:oQ}=AQ;if(this.firstInitSyncSeq&&oQ.eq(this.firstInitSyncSeq))this.log("first sync init, ignore.");else if(iQ!==0)this.warn("reg connect sync error, code: ".concat(iQ)),getParameter("DECOUPLE_SYNC")||(eQ.emit("connectionFailure"),eQ.close()),this.context.connSyncEnv=void 0,this.warn("change connSyncEnv %d to undefined in onSyncInitAck error",eQ.env);else{this.context.connSyncEnv=eQ.env,this.log("sync init ack success, will emit sync connected, connSyncEnv: %d",this.context.connSyncEnv),this.emit("syncConnected");try{await this.initSync(),this.emitUserJoined&&(this.emit("userJoined",eQ.env),this.emitUserJoined=!1)}catch(rQ){this.log("received syncInitAck and sync init error:",rQ),getParameter("DECOUPLE_SYNC")?this.handleSyncDisconnected(eQ):eQ.forceReconnect()}}}}setSyncInitTimer(eQ){this.connSyncIndex.some(AQ=>AQ===1)||(this.connSyncIndex[eQ.env]=1,timeoutPromise(this.requestFirstSyncInit(eQ,!1),5e3,"syncInitAck timeout",RTMErrorCode.RTM_ERROR_LOGIN_TIMEOUT,!0).catch(AQ=>{this.warn("Request sync init error: %o",AQ),isNil$1(this.context.connSyncEnv)&&!eQ.isActiveClose&&setTimeout(()=>this.handleSyncDisconnected(eQ),isTimeout(AQ)?0:5e3)}).finally(()=>{this.connSyncIndex[eQ.env]=0}))}handleSyncDisconnected(eQ){if(!isNil$1(this.context.connSyncEnv)&&this.context.connSyncEnv!==eQ.env)return void this.warn("connSyncEnv is not equal to socket env");this.emit("syncDisconnected"),this.context.connSyncEnv=void 0;const AQ=[0,1].filter(oQ=>oQ!==eQ.env)[0],iQ=this.connection.curOpenSockets[AQ];iQ&&iQ.loggedIn?(this.info("use another env to connect sync, env: %d(%s)",iQ.env,iQ.name),this.setSyncInitTimer(iQ)):!getParameter("DECOUPLE_SYNC")||iQ!=null&&iQ.loggedIn||(this.info("use same env to connect sync, env: %d(%s)",eQ.env,eQ.name),this.setSyncInitTimer(eQ))}onSyncPacket(){return eQ=>{this.emit("syncPacket",eQ)}}onLockEvent(){return eQ=>{var AQ,iQ,oQ;let{target:rQ,lockStates:nQ,eventType:sQ}=eQ;if(!((AQ=(iQ=this.getLastSubscribeOrJoinOptions().get(rQ))===null||iQ===void 0?void 0:iQ.withLock)!==null&&AQ!==void 0&&AQ))return;const{channelName:aQ,channelType:cQ}=getChannelDetailByName(rQ);if(sQ===LockEventType.LockUnknown)return void this.log("RTM service Error: lockEvent type is 0 on channel '%s', channelType 's%', member '%s'",replaceRangeWithAsterisk(aQ),cQ,replaceRangeWithAsterisk(this.context.uid||""));const gQ=getUTCTimeBaseREG(this.context.offsetTime),IQ=new Date().getTime();if(sQ===LockEventType.LockSnapshot&&nQ.length===0){var EQ;if(this.lockSnapshotLastTime.has(rQ)||IQ-((EQ=this.lockSnapshotLastTime.get(rQ))!==null&&EQ!==void 0?EQ:0)<=LAST_PONG_RECEIVED_TS_FIELD_NUMBER)return;const GQ={channelType:cQ,channelName:aQ,eventType:"SNAPSHOT",lockName:"",ttl:0,publisher:"",snapshot:[],owner:"",timestamp:gQ};return this.log("received snapshot lockEvent is empty on channel(".concat(rQ,"), emit channelLockEvent")),this.lockSnapshotLastTime.set(rQ,IQ),void this.emit("channelLockEvent",GQ)}let CQ="SNAPSHOT",dQ=0,lQ=!1,uQ="",hQ=null;try{var BQ,QQ;!((BQ=nQ[0])===null||BQ===void 0)&&BQ.lockState&&(hQ=JSON.parse((QQ=nQ[0])===null||QQ===void 0?void 0:QQ.lockState))}catch(GQ){this.warn("parse lockState error: %o",GQ)}switch(sQ){case LockEventType.LockAdded:var fQ;CQ="SET",dQ=(fQ=hQ)===null||fQ===void 0?void 0:fQ.create_ttl;break;case LockEventType.LockModified:var _Q,RQ,wQ,bQ;(_Q=hQ)!==null&&_Q!==void 0&&_Q.user?(CQ="ACQUIRED",dQ=(RQ=hQ)===null||RQ===void 0?void 0:RQ.create_ttl,uQ=(wQ=hQ)===null||wQ===void 0?void 0:wQ.user):(CQ="RELEASED",dQ=(bQ=hQ)===null||bQ===void 0?void 0:bQ.create_ttl);break;case LockEventType.LockRemoved:CQ="REMOVED",dQ=0;break;case LockEventType.LockSnapshot:CQ="SNAPSHOT",lQ=!0}const NQ={channelType:cQ,channelName:aQ,eventType:CQ,lockName:lQ?"":(oQ=nQ[0].lockName)!==null&&oQ!==void 0?oQ:"",ttl:dQ,publisher:"",snapshot:[],owner:uQ,timestamp:gQ};if(this.log("received lockEvent: %o",NQ,hQ),lQ){var UQ;!this.lockSnapshotLastTime.has(rQ)&&IQ-((UQ=this.lockSnapshotLastTime.get(rQ))!==null&&UQ!==void 0?UQ:0)>LAST_PONG_RECEIVED_TS_FIELD_NUMBER&&(this.log("received snapshot lockEvent, emit channelLockEvent"),this.lockSnapshotLastTime.set(rQ,IQ),NQ.snapshot=nQ.map(GQ=>{var vQ,pQ,yQ,mQ,LQ,HQ,$Q,A0,n0,qQ,I0;let c0=null;try{GQ.lockState&&(c0=JSON.parse(GQ.lockState))}catch(a0){this.warn("parse lockState error: %o",a0)}const g0={prefixChannelName:rQ,lockName:(vQ=GQ.lockName)!==null&&vQ!==void 0?vQ:"",owner:(pQ=(yQ=c0)===null||yQ===void 0?void 0:yQ.user)!==null&&pQ!==void 0?pQ:"",ttl:(mQ=(LQ=c0)===null||LQ===void 0?void 0:LQ.create_ttl)!==null&&mQ!==void 0?mQ:getParameter("LOCK_TTL"),revision:(HQ=($Q=c0)===null||$Q===void 0?void 0:$Q._rev)!==null&&HQ!==void 0?HQ:0};return this.updateLockSnapshotCache(g0),{lockName:GQ.lockName,owner:(A0=(n0=c0)===null||n0===void 0?void 0:n0.user)!==null&&A0!==void 0?A0:"",ttl:(qQ=(I0=c0)===null||I0===void 0?void 0:I0.create_ttl)!==null&&qQ!==void 0?qQ:getParameter("LOCK_TTL")}}),this.emit("channelLockEvent",NQ))}else{var PQ,OQ,YQ,SQ;this.log("received incremental lockEvent, emit channelLockEvent");const GQ=hQ._rev||0,vQ=((PQ=this.lockEventInfos.get(rQ))===null||PQ===void 0||(PQ=PQ.get((OQ=nQ[0].lockName)!==null&&OQ!==void 0?OQ:""))===null||PQ===void 0?void 0:PQ.revision)||0;let pQ=!1;if((CQ!=="RELEASED"&&GQ>vQ||CQ==="RELEASED"&&GQ>=vQ&&(YQ=this.lockEventInfos.get(rQ))!==null&&YQ!==void 0&&(YQ=YQ.get((SQ=nQ[0].lockName)!==null&&SQ!==void 0?SQ:""))!==null&&YQ!==void 0&&YQ.owner)&&(pQ=!0),pQ){var xQ,VQ,TQ,kQ;this.emit("channelLockEvent",NQ);const yQ={prefixChannelName:rQ,lockName:(xQ=nQ[0].lockName)!==null&&xQ!==void 0?xQ:"",owner:(VQ=hQ.user)!==null&&VQ!==void 0?VQ:null,ttl:(TQ=hQ.create_ttl)!==null&&TQ!==void 0?TQ:null,revision:(kQ=hQ._rev)!==null&&kQ!==void 0?kQ:null};this.updateLockCache(yQ)}}}}updateLockCache(eQ){var AQ;const{lockName:iQ,prefixChannelName:oQ}=eQ;this.lockEventInfos.get(oQ)||this.lockEventInfos.set(oQ,new Map);const rQ=(AQ=this.lockEventInfos.get(oQ))!==null&&AQ!==void 0?AQ:new Map;rQ.set(iQ,eQ),this.lockEventInfos.set(oQ,rQ)}updateLockSnapshotCache(eQ){var AQ;const{lockName:iQ,prefixChannelName:oQ}=eQ,rQ=(AQ=this.lockEventInfos.get(oQ))!==null&&AQ!==void 0?AQ:new Map;rQ.set(iQ,eQ),this.lockEventInfos.set(oQ,rQ)}onUserDrop(eQ){return AQ=>{let{code:iQ}=AQ;if(iQ===RegServerErrorCode.kConnectionTimeout)return void this.warn("connection timeout");if(this.context.addReportEvents("KickedOff",{code:0,elapse:getElapse(this.startTime),linkId:parseInt(eQ.name.split("-")[1],10),lts:Long$2.fromNumber(Date.now()),server:eQ.address,serverCode:iQ,sid:getSid(this.instanceId),userId:this.context.uid}),iQ===RegServerErrorCode.kJoinTooFrequently)return void this.warn("Login too often and kicked off, reconnect and login");if(iQ===RegServerErrorCode.kUserInstanceConflict)return this.warn("The instance ID conflicts, reconnecting"),this.instanceId=getRandomUInt64(),this.context.instanceId=this.instanceId,this.context.sid=getSid(this.instanceId),void this.emit("instanceChanged",this.instanceId);[RegServerErrorCode.kTimestampExpired,RegServerErrorCode.kRejoined,RegServerErrorCode.kUidBanned,RegServerErrorCode.kIpBanned,RegServerErrorCode.kChannelBanned,RegServerErrorCode.kUserBannedByAuth].includes(iQ)&&(this.emit("syncDisconnected"),this.emit("userDrop",iQ),this.connection.cancelLogin=!0,this.emit("login-cancel"),this.clearSockets())}}clearSockets(){let eQ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,AQ=arguments.length>1&&arguments[1]!==void 0&&arguments[1];[0,1].forEach(iQ=>{this.cleanLoginSubs(iQ,AQ),this.connection.closeSocket(iQ,eQ)})}onMessage(eQ){return AQ=>{const{dialogue:iQ,instance:oQ,sequence:rQ,options:nQ,src:sQ}=AQ,aQ=iQ.toString(),cQ=this.dialPendingMsgSubjectMap.get(aQ),gQ="".concat(oQ,"-").concat(iQ,"#").concat(rQ);if(cQ)return cQ.next(AQ),void this.log("Env_%d: The dialogue has pending messages, next: %s",eQ.env,gQ);const IQ=this.dialogueSequenceLru.get(aQ),EQ=!IQ&&rQ.eq(1),CQ=IQ!==void 0&&rQ.sub(IQ).eq(1);if(EQ||CQ)return void this.emitMessage(AQ,eQ.env);if(IQ){if(rQ.lte(IQ))return;this.log("Env_%d: The message pended, the sequence is not continuous with the last: %s",eQ.env,gQ)}else this.log("Env_%d: The message pended, the first sequence is not equal to 1: %s",eQ.env,gQ);const dQ=new Subject;this.dialPendingMsgSubjectMap.set(aQ,dQ);const lQ=dQ.pipe(observeOn(asyncScheduler),scan((BQ,QQ)=>[...BQ,QQ],[]),map$1(BQ=>[...BQ].sort((QQ,fQ)=>{let{sequence:_Q}=QQ,{sequence:RQ}=fQ;return _Q.eq(RQ)?0:_Q.gt(RQ)?1:-1})),shareReplay(1)),uQ=new MessageOption(nQ),hQ=!uQ.isFromCache()&&!uQ.isBufferedMessage();lQ.pipe(takeUntil(timer(hQ?ONLINE_MESSAGE_DEDUP_DELAY:OFFLINE_MESSAGE_DEDUP_DELAY)),first(BQ=>{if(BQ.length<2)return!1;for(let QQ=IQ===void 0?Long$2.fromNumber(1,!0):IQ.add(1),fQ=0;fQ<BQ.length;QQ=QQ.add(1),fQ++)if(!BQ[fQ].sequence.eq(QQ))return!1;return!0}),finalize(()=>{this.dialPendingMsgSubjectMap.delete(aQ)})).subscribe(BQ=>{BQ.forEach(QQ=>{this.emitMessage(QQ,eQ.env),this.log("Env_%d: The message queue has fully ordered, emitting: %s",eQ.env,"".concat(QQ.instance,"-").concat(QQ.dialogue,"#").concat(QQ.sequence))})},BQ=>{BQ instanceof EmptyError&&lQ.pipe(take(1)).subscribe(QQ=>QQ.forEach(fQ=>{this.log("Env_%d: The message pending queue expired, emitting: %s",eQ.env,"".concat(fQ.instance,"-").concat(fQ.dialogue,"#").concat(fQ.sequence)),this.emitMessage(fQ,eQ.env)}))}),dQ.next(AQ)}}handleHeartbeatTimeout(eQ){var AQ;const iQ=this.context.heartbeatInterval+((AQ=getParameter("RTM_LINK_KEEP_ALIVE_TIMEOUT"))!==null&&AQ!==void 0?AQ:CONFIGURABLE_KEY_RTM_LINK_KEEP_ALIVE_TIMEOUT)-2*SOCKET_RETRY_INTERVAL;this.warn("ENV_".concat(eQ.env,"(").concat(eQ.name,"): registrar forceReconnect, the last received packet is the same as it was ").concat(iQ/1e3,"s ago ")),eQ.forceReconnect()}onPong(){return eQ=>{let{serverMs:AQ}=eQ;this.context.pongTime=AQ.toNumber(),this.context.offsetTime=this.context.pongTime-new Date().getTime(),document.hidden&&this.getLoginSockets().forEach(iQ=>{!iQ.isActiveClose&&this.sendPing(iQ)})}}sendPing(eQ){var AQ;if(Date.now()-this.lastPingTime[eQ.env]<=this.context.heartbeatInterval||!eQ.loggedIn)return;this.incSeqIfNeeded(eQ.env);const iQ=this.seq,oQ=this.context.heartbeatInterval+((AQ=getParameter("RTM_LINK_KEEP_ALIVE_TIMEOUT"))!==null&&AQ!==void 0?AQ:CONFIGURABLE_KEY_RTM_LINK_KEEP_ALIVE_TIMEOUT)-2*SOCKET_RETRY_INTERVAL;eQ.sendPacket("Ping3",{ms:Long$2.fromNumber(Date.now(),!0),seq:iQ,flags:new Long$2(3,0,!0)}),this.lastPingTime[eQ.env]=Date.now(),eQ.env===this.context.connSyncEnv&&this.manualShakeHand();const rQ=eQ.fromReceived("Pong3").pipe(filter(nQ=>{let{seq:sQ}=nQ;return sQ.eq(iQ)}),take(1),tap(nQ=>{let{serverMs:sQ}=nQ;this.context.pongTime=sQ.toNumber(),this.context.offsetTime=this.context.pongTime-new Date().getTime(),this.startPingTimer(eQ)}),timeout(oQ),catchError(nQ=>(eQ.loggedIn===!1||(this.logError("ENV: %d, loggedIn: %s, received pong error, e: %o",eQ.env,eQ.loggedIn,nQ),nQ instanceof TimeoutError&&this.handleHeartbeatTimeout(eQ)),EMPTY)),finalize(()=>{rQ.unsubscribe()})).subscribe()}updateMessageCount(eQ){const AQ={[RtmMessageCategoryEnum.ChannelRMsg]:this.chanelRawMessageReport,[RtmMessageCategoryEnum.ChannelSMsg]:this.chanelStringMessageReport,[RtmMessageCategoryEnum.P2pRMsgNoOfflineFlag]:this.p2pRMsgNoOfflineReport,[RtmMessageCategoryEnum.P2pSMsgNoOfflineFlag]:this.p2pSMsgNoOfflineReport,3:void 0,4:void 0,7:void 0,8:void 0,9:void 0,10:void 0}[eQ.messageCategory];eQ.type==="common"?AQ==null||AQ.updateCommonCount(eQ.key):eQ.type==="peer"?AQ==null||AQ.updatePeerAckCount(eQ.delay):AQ==null||AQ.updateNorecipientackCount(eQ.delay)}clearLockSnapshotLastTime(){this.lockSnapshotLastTime.clear()}notifyNetworkChange(eQ){this.networkOnlineSubject.next(eQ)}}_defineProperty$1(RegistrarSession,"genTimeoutError",(tQ,eQ)=>of(void 0).pipe(delay(eQ===void 0?COMMON_REQUEST_TIMEOUT:eQ),map$1(()=>{throw new RtmTimeoutError(OperationName.rtm,[getErrorInfoByCode(tQ).reason||"Request timed out after ".concat((eQ===void 0?COMMON_REQUEST_TIMEOUT:eQ)/1e3,"s")],tQ)})));class CollectionEvent{constructor(eQ,AQ,iQ,oQ){this.document=eQ,this.path=AQ,this.type=iQ,this.value=oQ}}var CollectionEventType;(function(tQ){tQ.Put="Put",tQ.Insert="Insert",tQ.Delete="Delete",tQ.DocSyncEnd="DocSyncEnd"})(CollectionEventType||(CollectionEventType={}));var CollectionEventType$1=CollectionEventType;class SyncCounter{constructor(eQ,AQ,iQ,oQ,rQ){this.docInstance=eQ,this.path=AQ,this.documentIn=iQ,this.collectionIn=oQ,this.client=rQ}Set(eQ){if(Math.round(eQ)!=eQ)throw new TypeError("The value is expected to be an int, but a double was got.");if(!checkAll(this.documentIn,this.collectionIn.writable))throw new Error("The current collection is forbidden to write the Document : "+this.documentIn);const AQ=Module._rte_crdt_path_create();parsePath(this.path,AQ);const iQ=Module._rte_crdt_nested_value_create();if(Module._rte_crdt_document_get(this.docInstance,null,AQ,iQ)!==0)throw Module._rte_crdt_nested_value_destroy(iQ),Module._rte_crdt_path_destroy(AQ),new Error("The counter no longer exists.");counterCheckAndReplace(iQ,AQ,this.docInstance),Module._rte_crdt_document_batch_write_begin(this.docInstance),setValue(this.docInstance,null,eQ,AQ,!0),Module._rte_crdt_document_batch_write_end(this.docInstance),Module._rte_crdt_nested_value_destroy(iQ),Module._rte_crdt_path_destroy(AQ),this.client.connected&&tickLoop(this.client)}Inc(){let eQ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;if(Math.round(eQ)!=eQ)throw new TypeError("The delta is expected to be an int, but a double was got.");if(!checkAll(this.documentIn,this.collectionIn.writable))throw new Error("The current collection is forbidden to write the Document : "+this.documentIn);const AQ=Module._rte_crdt_path_create();parsePath(this.path,AQ);const iQ=Module._rte_crdt_nested_value_create();if(Module._rte_crdt_document_get(this.docInstance,null,AQ,iQ)!==0)throw Module._rte_crdt_nested_value_destroy(iQ),Module._rte_crdt_path_destroy(AQ),new Error("The counter no longer exists.");counterCheckAndReplace(iQ,AQ,this.docInstance),Module._rte_crdt_document_batch_write_begin(this.docInstance),Module._rte_crdt_document_increment(this.docInstance,null,AQ,BigInt(eQ)),Module._rte_crdt_document_batch_write_end(this.docInstance),Module._rte_crdt_nested_value_destroy(iQ),Module._rte_crdt_path_destroy(AQ),this.client.connected&&tickLoop(this.client)}Dec(){let eQ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;if(Math.round(eQ)!=eQ)throw new TypeError("The delta is expected to be an int, but a double was got.");if(!checkAll(this.documentIn,this.collectionIn.writable))throw new Error("The current collection is forbidden to write the Document : "+this.documentIn);const AQ=Module._rte_crdt_path_create();parsePath(this.path,AQ);const iQ=Module._rte_crdt_nested_value_create();if(Module._rte_crdt_document_get(this.docInstance,null,AQ,iQ)!==0)throw Module._rte_crdt_nested_value_destroy(iQ),Module._rte_crdt_path_destroy(AQ),new Error("The counter no longer exists.");counterCheckAndReplace(iQ,AQ,this.docInstance),Module._rte_crdt_document_batch_write_begin(this.docInstance),Module._rte_crdt_document_increment(this.docInstance,null,AQ,-BigInt(eQ)),Module._rte_crdt_document_batch_write_end(this.docInstance),Module._rte_crdt_nested_value_destroy(iQ),Module._rte_crdt_path_destroy(AQ),this.client.connected&&tickLoop(this.client)}Value(){if(!checkAll(this.documentIn,this.collectionIn.readable))throw new Error("The current collection is forbidden to read the Document : "+this.documentIn);let eQ;const AQ=Module._rte_crdt_path_create();parsePath(this.path,AQ);const iQ=Module._rte_crdt_nested_value_create();if(Module._rte_crdt_document_get(this.docInstance,null,AQ,iQ)!==0)throw Module._rte_crdt_nested_value_destroy(iQ),Module._rte_crdt_path_destroy(AQ),new Error("The counter no longer exists.");return counterCheckAndReplace(iQ,AQ,this.docInstance),eQ=getScalarValue(iQ),Module._rte_crdt_nested_value_destroy(iQ),Module._rte_crdt_path_destroy(AQ),eQ}}class List{constructor(eQ,AQ,iQ,oQ,rQ){this.docInstance=eQ,this.path=AQ,this.documentIn=iQ,this.collectionIn=oQ,this.client=rQ}Insert(eQ,AQ){if(Math.round(eQ)!=eQ)throw new TypeError("The index is expected to be an int, but a double was got.");if(!checkAll(this.documentIn,this.collectionIn.writable))throw new Error("The current collection is forbidden to write the Document : "+this.documentIn);const iQ=Module._rte_crdt_path_create();parsePath(this.path,iQ);const oQ=Module._rte_crdt_nested_value_create();if(Module._rte_crdt_document_get(this.docInstance,null,iQ,oQ)!==0||!Module._rte_crdt_nested_value_is_list(oQ))throw Module._rte_crdt_nested_value_destroy(oQ),Module._rte_crdt_path_destroy(iQ),new Error("The list no longer exists.");{const rQ=Module._rte_crdt_nested_value_iterator_create(oQ);let nQ=0;for(;Module._rte_crdt_nested_value_iterator_next_value(rQ,null)!==305;)nQ+=1;if(Module._rte_crdt_nested_value_iterator_destroy(rQ),eQ<0||eQ>nQ)throw Module._rte_crdt_nested_value_destroy(oQ),Module._rte_crdt_path_destroy(iQ),new Error("The index is out of bound.");Module._rte_crdt_document_batch_write_begin(this.docInstance);for(let sQ=0;sQ<AQ.length;sQ++){const aQ=AQ[sQ];setValue(this.docInstance,eQ,aQ,iQ),eQ+=1}Module._rte_crdt_document_batch_write_end(this.docInstance)}Module._rte_crdt_nested_value_destroy(oQ),Module._rte_crdt_path_destroy(iQ),this.client.connected&&tickLoop(this.client)}Append(eQ){if(!checkAll(this.documentIn,this.collectionIn.writable))throw new Error("The current collection is forbidden to write the Document : "+this.documentIn);const AQ=Module._rte_crdt_path_create();parsePath(this.path,AQ);const iQ=Module._rte_crdt_nested_value_create();if(Module._rte_crdt_document_get(this.docInstance,null,AQ,iQ)!==0||!Module._rte_crdt_nested_value_is_list(iQ))throw Module._rte_crdt_nested_value_destroy(iQ),Module._rte_crdt_path_destroy(AQ),new Error("The list no longer exists.");{const oQ=Module._rte_crdt_nested_value_iterator_create(iQ);let rQ=0;for(;Module._rte_crdt_nested_value_iterator_next_value(oQ,null)!==305;)rQ+=1;Module._rte_crdt_nested_value_iterator_destroy(oQ),Module._rte_crdt_document_batch_write_begin(this.docInstance);for(let nQ=0;nQ<eQ.length;nQ++){const sQ=eQ[nQ];setValue(this.docInstance,rQ,sQ,AQ),rQ+=1}Module._rte_crdt_document_batch_write_end(this.docInstance)}Module._rte_crdt_nested_value_destroy(iQ),Module._rte_crdt_path_destroy(AQ),this.client.connected&&tickLoop(this.client)}Remove(eQ){for(let nQ=0;nQ<eQ.length;nQ++){const sQ=eQ[nQ];if(Math.round(sQ)!=sQ)throw new TypeError("The indexes is expected to be an array of int, but a double was got in the array.")}if(!checkAll(this.documentIn,this.collectionIn.writable))throw new Error("The current collection is forbidden to write the Document : "+this.documentIn);let AQ=eQ.filter((nQ,sQ,aQ)=>aQ.indexOf(nQ)===sQ),iQ=AQ.sort();const oQ=Module._rte_crdt_path_create();parsePath(this.path,oQ);const rQ=Module._rte_crdt_nested_value_create();if(Module._rte_crdt_document_get(this.docInstance,null,oQ,rQ)!==0||!Module._rte_crdt_nested_value_is_list(rQ))throw Module._rte_crdt_nested_value_destroy(rQ),Module._rte_crdt_path_destroy(oQ),new Error("The list no longer exists.");{const nQ=Module._rte_crdt_nested_value_iterator_create(rQ);let sQ=0;for(;Module._rte_crdt_nested_value_iterator_next_value(nQ,null)!==305;)sQ+=1;Module._rte_crdt_nested_value_iterator_destroy(nQ);for(let cQ=0;cQ<eQ.length;cQ++){const gQ=eQ[cQ];if(gQ<0||gQ>sQ)throw Module._rte_crdt_nested_value_destroy(rQ),Module._rte_crdt_path_destroy(oQ),new Error("The index is out of bound.")}let aQ=0;Module._rte_crdt_document_batch_write_begin(this.docInstance);for(let cQ=0;cQ<iQ.length;cQ++){let gQ=iQ[cQ];const IQ=Module._rte_crdt_path_create();gQ-=aQ,parsePath(this.path+"["+gQ.toString()+"]",IQ),Module._rte_crdt_document_delete(this.docInstance,null,IQ),aQ+=1,Module._rte_crdt_path_destroy(IQ)}Module._rte_crdt_document_batch_write_end(this.docInstance)}Module._rte_crdt_nested_value_destroy(rQ),Module._rte_crdt_path_destroy(oQ),this.client.connected&&tickLoop(this.client)}Value(){if(!checkAll(this.documentIn,this.collectionIn.readable))throw new Error("The current collection is forbidden to read the Document : "+this.documentIn);let eQ=[];const AQ=Module._rte_crdt_path_create();parsePath(this.path,AQ);const iQ=Module._rte_crdt_nested_value_create();if(Module._rte_crdt_document_get(this.docInstance,null,AQ,iQ)!==0||!Module._rte_crdt_nested_value_is_list(iQ))throw Module._rte_crdt_nested_value_destroy(iQ),Module._rte_crdt_path_destroy(AQ),new Error("The list no longer exists.");return getAll(this.docInstance,iQ,eQ,!0),Module._rte_crdt_path_destroy(AQ),Module._rte_crdt_nested_value_destroy(iQ),eQ}}class Map$1{constructor(eQ,AQ,iQ,oQ,rQ){this.docInstance=eQ,this.path=AQ,this.documentIn=iQ,this.collectionIn=oQ,this.client=rQ}Set(eQ){if(!isDict(eQ))throw new TypeError("The value should be in JSON format");if(!checkAll(this.documentIn,this.collectionIn.writable))throw new Error("The current collection is forbidden to write the Document : "+this.documentIn);const AQ=Module._rte_crdt_path_create();parsePath(this.path,AQ);const iQ=Module._rte_crdt_nested_value_create();if(Module._rte_crdt_document_get(this.docInstance,null,AQ,iQ)!==0||!Module._rte_crdt_nested_value_is_map(iQ))throw Module._rte_crdt_nested_value_destroy(iQ),Module._rte_crdt_path_destroy(AQ),new Error("The map no longer exists.");Module._rte_crdt_document_batch_write_begin(this.docInstance);for(let oQ=0,rQ=Object.entries(eQ);oQ<rQ.length;oQ++){const[nQ,sQ]=rQ[oQ];setValue(this.docInstance,nQ,sQ,AQ)}Module._rte_crdt_document_batch_write_end(this.docInstance),Module._rte_crdt_nested_value_destroy(iQ),Module._rte_crdt_path_destroy(AQ),this.client.connected&&tickLoop(this.client)}Delete(eQ){if(!checkAll(this.documentIn,this.collectionIn.writable))throw new Error("The current collection is forbidden to write the Document : "+this.documentIn);const AQ=Module._rte_crdt_path_create();parsePath(this.path,AQ);const iQ=Module._rte_crdt_nested_value_create();if(Module._rte_crdt_document_get(this.docInstance,null,AQ,iQ)!==0||!Module._rte_crdt_nested_value_is_map(iQ))throw Module._rte_crdt_nested_value_destroy(iQ),Module._rte_crdt_path_destroy(AQ),new Error("The map no longer exists.");Module._rte_crdt_document_batch_write_begin(this.docInstance);for(let oQ=0;oQ<eQ.length;oQ++){const rQ=eQ[oQ],nQ=Module._rte_crdt_path_clone(AQ),sQ=getPtrWithStr(rQ);Module._rte_crdt_path_add_property(nQ,sQ,getRealLenWithStrBI(rQ)),releasePtr(sQ),Module._rte_crdt_document_delete(this.docInstance,null,nQ),Module._rte_crdt_path_destroy(nQ)}Module._rte_crdt_document_batch_write_end(this.docInstance),Module._rte_crdt_nested_value_destroy(iQ),Module._rte_crdt_path_destroy(AQ),this.client.connected&&tickLoop(this.client)}Value(){if(!checkAll(this.documentIn,this.collectionIn.readable))throw new Error("The current collection is forbidden to read the Document : "+this.documentIn);let eQ={};const AQ=Module._rte_crdt_path_create();parsePath(this.path,AQ);const iQ=Module._rte_crdt_nested_value_create();if(Module._rte_crdt_document_get(this.docInstance,null,AQ,iQ)!==0||!Module._rte_crdt_nested_value_is_map(iQ))throw Module._rte_crdt_nested_value_destroy(iQ),Module._rte_crdt_path_destroy(AQ),new Error("The map no longer exists.");return getAll(this.docInstance,iQ,eQ,!1),Module._rte_crdt_nested_value_destroy(iQ),Module._rte_crdt_path_destroy(AQ),eQ}}class SyncDocument{constructor(eQ,AQ,iQ,oQ){this.docInstance=eQ,this.name=AQ,this.collectionIn=iQ,this.client=oQ}Set(eQ){if(!isDict(eQ))throw new TypeError("The value should be in JSON format");if(!checkAll(this.name,this.collectionIn.writable))throw new Error("The current collection is forbidden to write the Document : "+this.name);Module._rte_crdt_document_batch_write_begin(this.docInstance);const AQ=Module._rte_crdt_path_create();for(let iQ=0,oQ=Object.entries(eQ);iQ<oQ.length;iQ++){const[rQ,nQ]=oQ[iQ];setValue(this.docInstance,rQ,nQ,AQ)}Module._rte_crdt_document_batch_write_end(this.docInstance),Module._rte_crdt_path_destroy(AQ),this.client.connected&&tickLoop(this.client)}Update(eQ,AQ){if(!checkAll(this.name,this.collectionIn.writable))throw new Error("The current collection is forbidden to write the Document : "+this.name);Module._rte_crdt_document_batch_write_begin(this.docInstance);const iQ=Module._rte_crdt_path_create();parsePath(eQ,iQ,!0),setValue(this.docInstance,null,AQ,iQ),Module._rte_crdt_document_batch_write_end(this.docInstance),this.client.connected&&tickLoop(this.client)}Del(eQ){if(!checkAll(this.name,this.collectionIn.writable))throw new Error("The current collection is forbidden to write the Document : "+this.name);Module._rte_crdt_document_batch_write_begin(this.docInstance);for(let AQ=0;AQ<eQ.length;AQ++){const iQ=eQ[AQ],oQ=Module._rte_crdt_path_create();parsePath(iQ,oQ,!0),Module._rte_crdt_document_delete(this.docInstance,null,oQ),Module._rte_crdt_path_destroy(oQ)}Module._rte_crdt_document_batch_write_end(this.docInstance),this.client.connected&&tickLoop(this.client)}Get(){if(!checkAll(this.name,this.collectionIn.readable))throw new Error("The current collection is forbidden to read the Document : "+this.name);let eQ={};const AQ=Module._rte_crdt_path_create(),iQ=Module._rte_crdt_nested_value_create();try{return Module._rte_crdt_document_get(this.docInstance,null,AQ,iQ),getAll(this.docInstance,iQ,eQ,!1),Module._rte_crdt_path_destroy(AQ),Module._rte_crdt_nested_value_destroy(iQ),eQ}catch(oQ){Module._rte_crdt_path_destroy(AQ),Module._rte_crdt_nested_value_destroy(iQ),logger("The Error Stack is : ".concat(oQ.Stack),this.collectionIn.getLogger,"error")}}Counter(eQ,AQ){const iQ=Module._rte_crdt_path_create();parsePath(eQ,iQ,!0);const oQ=Module._rte_crdt_nested_value_create();let rQ;try{rQ=Module._rte_crdt_document_get(this.docInstance,null,iQ,oQ)}catch{throw Module._rte_crdt_nested_value_destroy(oQ),Module._rte_crdt_path_destroy(iQ),new Error("The path is invalid")}if(rQ!=0){if(!AQ)throw new Error("The given path leads to an empty field and the 'create' is false.");Module._rte_crdt_document_batch_write_begin(this.docInstance),setValue(this.docInstance,null,0,iQ,!0),Module._rte_crdt_document_batch_write_end(this.docInstance)}else{if(!Module._rte_crdt_nested_value_is_scalar(oQ))throw Module._rte_crdt_nested_value_destroy(oQ),Module._rte_crdt_path_destroy(iQ),new TypeError("The given path does not lead to a counter.");{const nQ=Module._rte_crdt_nested_value_get_scalar(oQ);if(!Module._rte_crdt_scalar_value_is_counter(nQ)&&!Module._rte_crdt_scalar_value_is_i64(nQ))throw new TypeError("The given path does not lead to a counter.");if(Module._rte_crdt_scalar_value_is_i64(nQ)){const sQ=getScalarValue(oQ);Module._rte_crdt_document_batch_write_begin(this.docInstance),setValue(this.docInstance,null,sQ,iQ,!0),Module._rte_crdt_document_batch_write_end(this.docInstance)}}}return Module._rte_crdt_nested_value_destroy(oQ),Module._rte_crdt_path_destroy(iQ),new SyncCounter(this.docInstance,eQ,this.name,this.collectionIn,this.client)}Map(eQ,AQ){const iQ=Module._rte_crdt_path_create();parsePath(eQ,iQ,!0);const oQ=Module._rte_crdt_nested_value_create();let rQ;try{rQ=Module._rte_crdt_document_get(this.docInstance,null,iQ,oQ)}catch{throw Module._rte_crdt_nested_value_destroy(oQ),Module._rte_crdt_path_destroy(iQ),new Error("The path is invalid!")}if(rQ!=0){if(!AQ)throw new Error("The given path leads to an empty field and the 'create' is false.");Module._rte_crdt_document_batch_write_begin(this.docInstance),setValue(this.docInstance,null,{},iQ),Module._rte_crdt_document_batch_write_end(this.docInstance)}else if(!Module._rte_crdt_nested_value_is_map(oQ))throw Module._rte_crdt_nested_value_destroy(oQ),Module._rte_crdt_path_destroy(iQ),new TypeError("The given path does not lead to a map.");return Module._rte_crdt_nested_value_destroy(oQ),Module._rte_crdt_path_destroy(iQ),new Map$1(this.docInstance,eQ,this.name,this.collectionIn,this.client)}List(eQ,AQ){const iQ=Module._rte_crdt_path_create();parsePath(eQ,iQ,!0);const oQ=Module._rte_crdt_nested_value_create();let rQ;try{rQ=Module._rte_crdt_document_get(this.docInstance,null,iQ,oQ)}catch{throw Module._rte_crdt_nested_value_destroy(oQ),Module._rte_crdt_path_destroy(iQ),new Error("The path is invalid!")}if(rQ!=0){if(!AQ)throw new Error("The given path leads to an empty field and the 'create' is false.");Module._rte_crdt_document_batch_write_begin(this.docInstance),setValue(this.docInstance,null,[],iQ),Module._rte_crdt_document_batch_write_end(this.docInstance)}else if(!Module._rte_crdt_nested_value_is_list(oQ))throw Module._rte_crdt_nested_value_destroy(oQ),Module._rte_crdt_path_destroy(iQ),new TypeError("The given path does not lead to a list.");return Module._rte_crdt_nested_value_destroy(oQ),Module._rte_crdt_path_destroy(iQ),new List(this.docInstance,eQ,this.name,this.collectionIn,this.client)}Keepalive(eQ){if(!isInteger(eQ))throw new TypeError("The ttl is expected to be an interger, but a double was got.");const AQ=getPtrWithStr(this.collectionIn.dbIn),iQ=getPtrWithStr(this.collectionIn.name),oQ=getPtrWithStr(this.name);Module._sync_client_keepalive(this.client.clientPtr,AQ,iQ,oQ,eQ),releasePtr(AQ),releasePtr(iQ),releasePtr(oQ)}}class SyncCollection{constructor(eQ,AQ,iQ,oQ,rQ,nQ,sQ){this.colPtr=eQ,this.name=AQ,this.client=iQ,this.readable=oQ,this.writable=rQ,this.dbIn=nQ,this.channel=new eventsExports.EventEmitter,this.cb=null,this.getLogger=sQ}PutDoc(eQ){if(!checkAll(eQ,this.writable))throw new Error("The current collection is forbidden to write the Document : "+eQ);const AQ=getPtrWithStr(eQ);Module._rte_crdt_collection_put_doc(this.colPtr,AQ,getRealLenWithStrBI(eQ));const iQ=getPtrWithStr(this.name);releasePtr(AQ),releasePtr(iQ),this.client.connected&&tickLoop(this.client)}DelDoc(eQ){if(!checkAll(eQ,this.writable))throw new Error("The current collection is forbidden to write the Document : "+eQ);const AQ=getPtrWithStr(eQ),iQ=getPtrWithStr(this.name);Module._rte_crdt_collection_delete_doc(this.colPtr,AQ,getRealLenWithStrBI(eQ)),releasePtr(AQ),releasePtr(iQ),this.client.connected&&tickLoop(this.client)}Docs(){let eQ=new Map,AQ=Module._rte_crdt_collection_iterator_create(this.colPtr,null,BigInt(0)),iQ=0;const oQ=Module._malloc(4),rQ=Module._malloc(4);for(;iQ=Module._rte_crdt_collection_iterator_next(AQ,rQ,oQ),iQ!==305;){const nQ=Module.getValue(rQ,"i32"),sQ=Module.UTF8ToString(nQ).valueOf(),aQ=getPtrWithStr(sQ),cQ=Module._rte_crdt_collection_ref_doc(this.colPtr,aQ,getRealLenWithStrBI(sQ));releasePtr(aQ);const gQ=new SyncDocument(cQ,sQ,this,this.client);eQ.set(sQ,gQ)}return releasePtr(oQ),releasePtr(rQ),eQ}Doc(eQ){const AQ=getPtrWithStr(eQ),iQ=Module._rte_crdt_collection_ref_doc(this.colPtr,AQ,getRealLenWithStrBI(eQ));return releasePtr(AQ),iQ!=0?new SyncDocument(iQ,eQ,this,this.client):null}Subscribe(){return this.cb!==null?(logger("The Collection : ".concat(this.name," has already been subscribed."),this.getLogger,"info"),null):(this.cb=subscribe(this,this.channel),this.channel)}UnSubscribe(){this.channel.removeAllListeners(),this.cb!=null&&(Module.removeFunction(this.cb),this.cb=null),logger("The Collection : ".concat(this.name," has been unsubscribed successfully."),this.getLogger,"info")}}class SyncDatabase{constructor(eQ,AQ){this.name=eQ,this.client=AQ,this.colls=new Map,this.keepAliveTimers=new Map}async CreateCollection(eQ,AQ,iQ){if(this.colls.has(eQ))throw new Error("The collection : ".concat(eQ," has alreay existed in this database."));try{await promisify(createCollection)({client:this.client,db:this.name,coll:eQ,readable:AQ})}catch(aQ){logger("Collection init failed by the error : ".concat(aQ),this.client.getLogger,"error")}const oQ=getPtrWithStr(eQ),rQ=getPtrWithStr(this.name),nQ=Module._sync_client_get_coll(this.client.clientPtr,rQ,oQ);releasePtr(oQ),releasePtr(rQ);const sQ=new SyncCollection(nQ,eQ,this.client,AQ,iQ,this.name,this.client.getLogger);this.colls.set(eQ,sQ)}DestroyCollection(eQ){let AQ=!1;if(this.colls.has(eQ)){const iQ=this.colls.get(eQ);if(iQ!=null){const oQ=getPtrWithStr(iQ.name),rQ=getPtrWithStr(this.name);Module._sync_client_delete_coll(this.client.clientPtr,rQ,oQ),releasePtr(oQ),releasePtr(rQ),this.colls.delete(eQ),AQ=!0}}logger(AQ?"The Collection : ".concat(eQ," has been destroyed successfully."):"The operation to destroy the Collection : ".concat(eQ," is failed."),this.client.getLogger,"info")}Coll(eQ){return this.colls.has(eQ)?this.colls.get(eQ):null}SetAutoKeepalive(eQ,AQ,iQ){if(!isInteger(iQ)||iQ<=0)throw new TypeError("The ttl is expected to be a positive integer.");const oQ=getPtrWithStr(this.name),rQ=getPtrWithStr(eQ),nQ=getPtrWithStr(AQ);Module._sync_client_set_doc_ttl(this.client.clientPtr,oQ,rQ,nQ,iQ),releasePtr(oQ),releasePtr(rQ),releasePtr(nQ),this.client.connected&&tickLoop(this.client)}CancelAutoKeepalive(eQ,AQ){const iQ=getPtrWithStr(this.name),oQ=getPtrWithStr(eQ),rQ=getPtrWithStr(AQ);Module._sync_client_set_doc_ttl(this.client.clientPtr,iQ,oQ,rQ,0),releasePtr(iQ),releasePtr(oQ),releasePtr(rQ),this.client.connected&&tickLoop(this.client)}SetAutoKeepaliveRPC(eQ,AQ,iQ){if(!isInteger(iQ)||iQ<=0)throw new TypeError("The ttl is expected to be a positive integer.");const oQ=eQ+" "+AQ,rQ=getPtrWithStr(this.name),nQ=getPtrWithStr(eQ),sQ=getPtrWithStr(AQ);if(Module._sync_client_keepalive(this.client.clientPtr,rQ,nQ,sQ,iQ),releasePtr(rQ),releasePtr(nQ),releasePtr(sQ),this.client.connected){tickLoop(this.client);let aQ=setInterval(()=>{const cQ=getPtrWithStr(this.name),gQ=getPtrWithStr(eQ),IQ=getPtrWithStr(AQ);Module._sync_client_keepalive(this.client.clientPtr,cQ,gQ,IQ,iQ),releasePtr(cQ),releasePtr(gQ),releasePtr(IQ),tickLoop(this.client)},1e3*iQ/2);this.keepAliveTimers.set(oQ,aQ)}}RemoveAutoKeepaliveRPC(eQ,AQ){let iQ=eQ+" "+AQ;if(this.keepAliveTimers.has(iQ)){let oQ=this.keepAliveTimers.get(iQ);clearInterval(oQ)}}GetAutoKeepaliveRPC(){return Array.from(this.keepAliveTimers.keys())}}function checkIfContainsStart(tQ){for(let eQ=0;eQ<tQ.length;eQ++)if(tQ[eQ]==="*")return!0;return!1}function promisify(tQ){return typeof tQ!="function"?tQ:function(){let eQ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise((AQ,iQ)=>{tQ(Object.assign(Object.assign(Object.assign({},eQ),{success:AQ,fail:iQ})))})}}function isDict(tQ){return!(typeof tQ!="object"||tQ===null||tQ instanceof Array||tQ instanceof Date)}function toRegex(tQ){let eQ="";for(let AQ=0;AQ<tQ.length;AQ++){const iQ=tQ.charAt(AQ);iQ==="*"&&(eQ+="."),eQ+=iQ}return new RegExp(eQ)}function checkRegex(tQ,eQ){for(let AQ=0;AQ<eQ.length;AQ++){let iQ=eQ[AQ];if(iQ.includes("*")&&toRegex(iQ).test(tQ))return!0}return!1}function isInteger(tQ){return Math.round(tQ)===tQ}function checkAll(tQ,eQ){return!(!checkIfContainsStart(eQ)&&eQ.length>0&&!eQ.includes(tQ)&&!checkRegex(tQ,eQ))}function logger(tQ,eQ,AQ){if(eQ!==null)switch(AQ){case"info":eQ().handleInfoLog(tQ);break;case"warn":eQ().handleWarnLog(tQ);break;case"error":eQ().handleErrorLog(tQ)}else{let iQ=new Date;console.log(iQ+iQ.getMilliseconds().toString()+" : "+tQ)}}function getMallocLenWithStr(tQ){return new Blob([tQ]).size+1}function getPtrWithStr(tQ){const eQ=Module._malloc(getMallocLenWithStr(tQ));return Module.stringToUTF8(tQ,eQ,getMallocLenWithStr(tQ)),eQ}function releasePtr(tQ){tQ!=null&&(Module._free(tQ),tQ=null)}function getRealLenWithStrBI(tQ){const eQ=new Blob([tQ]).size;return BigInt(eQ)}function setValue(tQ,eQ,AQ,iQ){let oQ=arguments.length>4&&arguments[4]!==void 0&&arguments[4];const rQ=Module._rte_crdt_value_create(),nQ=Module._rte_crdt_path_clone(iQ);if(typeof AQ=="object"&&AQ!=null&&AQ!=null)if(Array.isArray(AQ)){Module._rte_crdt_value_set_list(rQ),constructPathAndPut(eQ,tQ,nQ,rQ);let sQ=0;for(let aQ=0;aQ<AQ.length;aQ++)setValue(tQ,sQ,AQ[aQ],nQ),sQ+=1}else{Module._rte_crdt_value_set_map(rQ),constructPathAndPut(eQ,tQ,nQ,rQ);for(let sQ=0,aQ=Object.entries(AQ);sQ<aQ.length;sQ++){const[cQ,gQ]=aQ[sQ];setValue(tQ,cQ,gQ,nQ)}}else{const sQ=Module._rte_crdt_value_set_scalar(rQ);switch(typeof AQ){case"number":oQ?Module._rte_crdt_scalar_value_set_counter(sQ,BigInt(AQ)):isInteger(AQ)?Module._rte_crdt_scalar_value_set_i64(sQ,BigInt(AQ)):Module._rte_crdt_scalar_value_set_double(sQ,AQ);break;case"boolean":Module._rte_crdt_scalar_value_set_bool(sQ,AQ);break;case"string":const aQ=getPtrWithStr(AQ);Module._rte_crdt_scalar_value_set_bytes(sQ,aQ,getRealLenWithStrBI(AQ)),releasePtr(aQ);break;default:Module._rte_crdt_scalar_value_set_null(sQ)}constructPathAndPut(eQ,tQ,nQ,rQ)}Module._rte_crdt_path_destroy(nQ),Module._rte_crdt_value_destroy(rQ)}function constructPathAndPut(tQ,eQ,AQ,iQ){if(typeof tQ=="string"){const oQ=getPtrWithStr(tQ);Module._rte_crdt_path_add_property(AQ,oQ,getRealLenWithStrBI(tQ)),releasePtr(oQ)}else tQ!=null&&(Module._rte_crdt_path_add_index(AQ,BigInt(tQ)),Module._rte_crdt_document_insert(eQ,null,AQ,iQ));if(Module._rte_crdt_document_put(eQ,null,AQ,iQ)!=0)throw Error("The path is invalid!")}function getScalarValue(tQ){var eQ;let AQ;if(AQ=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1]?Module._rte_crdt_nested_value_get_scalar(tQ):Module._rte_crdt_value_get_scalar(tQ),Module._rte_crdt_scalar_value_is_i64(AQ)){const iQ=Module._malloc(4);Module._rte_crdt_scalar_value_get_i64(AQ,iQ),eQ=Module.getValue(iQ,"i64"),eQ=Number(eQ),releasePtr(iQ)}else if(Module._rte_crdt_scalar_value_is_double(AQ)){const iQ=Module._malloc(8);Module._rte_crdt_scalar_value_get_double(AQ,iQ),eQ=Module.getValue(iQ,"double"),eQ=Number(eQ),releasePtr(iQ)}else if(Module._rte_crdt_scalar_value_is_bytes(AQ)){const iQ=Module._malloc(4),oQ=Module._malloc(4);Module._rte_crdt_scalar_value_get_bytes(AQ,oQ,iQ);const rQ=Module.getValue(oQ,"i32");eQ=Module.UTF8ToString(rQ).valueOf(),releasePtr(iQ),releasePtr(oQ)}else if(Module._rte_crdt_scalar_value_is_bool(AQ)){const iQ=Module._malloc(1);Module._rte_crdt_scalar_value_get_bool(AQ,iQ),eQ=Module.getValue(iQ)==1,releasePtr(iQ)}else if(Module._rte_crdt_scalar_value_is_counter(AQ)){const iQ=Module._malloc(4);Module._rte_crdt_scalar_value_get_counter(AQ,iQ),eQ=Module.getValue(iQ,"i64"),eQ=Number(eQ),releasePtr(iQ)}else eQ=null;return eQ}function parsePath(tQ,eQ){if(arguments.length>2&&arguments[2]!==void 0&&arguments[2]){const oQ=getPtrWithStr(tQ);return Module._rte_crdt_path_add_property(eQ,oQ,getRealLenWithStrBI(tQ)),void releasePtr(oQ)}let AQ="",iQ=!1;for(let oQ=0;oQ<tQ.length;oQ++){const rQ=tQ[oQ];rQ!=="["?rQ!=="]"?rQ!=="."?AQ+=rQ:(AQ.length>0&&(addPropertyOrIndex(AQ,eQ,iQ),AQ=""),iQ=!1):(addPropertyOrIndex(AQ,eQ,iQ),iQ=!1,AQ=""):(AQ.length>0&&(addPropertyOrIndex(AQ,eQ,iQ),AQ=""),iQ=!0)}AQ.length>0&&addPropertyOrIndex(AQ,eQ,iQ)}function addPropertyOrIndex(tQ,eQ,AQ){if(!isNaN(tQ)&&AQ){const iQ=Number(tQ);Module._rte_crdt_path_add_index(eQ,BigInt(iQ))}else{const iQ=getPtrWithStr(tQ);Module._rte_crdt_path_add_property(eQ,iQ,getRealLenWithStrBI(tQ)),releasePtr(iQ)}}function getAll(tQ,eQ,AQ,iQ){const oQ=Module._rte_crdt_nested_value_iterator_create(eQ),rQ=Module._malloc(4),nQ=Module._malloc(4),sQ=Module._malloc(4);let aQ=0;for(;;)if(iQ){if(aQ=Module._rte_crdt_nested_value_iterator_next_value(oQ,sQ),aQ===305)break;const cQ=Module.getValue(sQ,"i32");if(Module._rte_crdt_nested_value_is_scalar(cQ))AQ.push(getScalarValue(cQ));else if(Module._rte_crdt_nested_value_is_map(cQ)){let gQ={};AQ.push(gQ),getAll(tQ,cQ,gQ,!1)}else if(Module._rte_crdt_nested_value_is_list(cQ)){let gQ=[];AQ.push(gQ),getAll(tQ,cQ,gQ,!0)}}else{if(aQ=Module._rte_crdt_nested_value_iterator_next_key_value(oQ,rQ,nQ,sQ),aQ===305)break;const cQ=Module.UTF8ToString(Module.getValue(rQ,"i32")).valueOf(),gQ=Module.getValue(sQ,"i32");if(Module._rte_crdt_nested_value_is_scalar(gQ))AQ[cQ]=getScalarValue(gQ);else if(Module._rte_crdt_nested_value_is_map(gQ)){let IQ={};AQ[cQ]=IQ,getAll(tQ,gQ,IQ,!1)}else if(Module._rte_crdt_nested_value_is_list(gQ)){let IQ=[];AQ[cQ]=IQ,getAll(tQ,gQ,IQ,!0)}}releasePtr(rQ),releasePtr(nQ),releasePtr(sQ),Module._rte_crdt_nested_value_iterator_destroy(oQ)}function getPtrStringList(tQ){const eQ=tQ.length,AQ=eQ===0?0:Module._malloc(4*eQ);let iQ=AQ,oQ=[];for(let rQ=0;rQ<tQ.length;rQ++){let nQ=getPtrWithStr(tQ[rQ]);oQ.push(nQ),Module.setValue(iQ,nQ,"i32"),iQ+=4}return[AQ,oQ]}function counterCheckAndReplace(tQ,eQ,AQ){if(!Module._rte_crdt_nested_value_is_scalar(tQ))throw Module._rte_crdt_nested_value_destroy(tQ),Module._rte_crdt_path_destroy(eQ),new TypeError("The counter no longer exists.");const iQ=Module._rte_crdt_nested_value_get_scalar(tQ);if(!Module._rte_crdt_scalar_value_is_counter(iQ)){if(!Module._rte_crdt_scalar_value_is_i64(iQ))throw Module._rte_crdt_nested_value_destroy(tQ),Module._rte_crdt_path_destroy(eQ),new Error("The counter no longer exists.");{const oQ=getScalarValue(tQ);Module._rte_crdt_document_batch_write_begin(AQ),setValue(AQ,null,oQ,eQ,!0),Module._rte_crdt_document_batch_write_end(AQ)}}}function getRangeEndStringPtr(tQ){const eQ=Module.lengthBytesUTF8(tQ)+1,AQ=Module._malloc(eQ);return Module.stringToUTF8(tQ,AQ,eQ),Module.HEAPU8[AQ+eQ-1]=1,AQ}function getTick(tQ,eQ){const AQ=Module._sync_client_tick(eQ,tQ),iQ=Module._sync_buffer_data(tQ),oQ=Number(Module._sync_buffer_length(tQ));return{resDeepCopy:new Uint8Array(Module.HEAPU8.buffer,iQ,oQ).slice(),tikGetRes:AQ}}function tickLoop(tQ){let eQ=0;for(;eQ!=305;){const{resDeepCopy:AQ,tikGetRes:iQ}=getTick(tQ.tickBufferPtr,tQ.clientPtr);if(eQ=iQ,eQ===101)Module._sync_client_reset_connection(tQ.clientPtr);else{if(AQ.length==0)continue;tQ.reuseConn!==null?tQ.reuseConn().sendPacket(AQ):tQ.ws.send(AQ),logger("send tick",tQ.getLogger,"info")}}}function getShakehand(tQ,eQ){const AQ=Module._sync_client_shakehand(eQ,tQ),iQ=Module._sync_buffer_data(tQ),oQ=Number(Module._sync_buffer_length(tQ));return{resDeepCopy:new Uint8Array(Module.HEAPU8.buffer,iQ,oQ).slice(),shakehandRes:AQ}}function shakehandOnce(tQ){const{resDeepCopy:eQ,shakehandRes:AQ}=getShakehand(tQ.shakehandBufferPtr,tQ.clientPtr);tQ.reuseConn!==null?tQ.reuseConn().sendPacket(eQ):tQ.ws.send(eQ)}async function recvMsg(tQ,eQ){eQ?tQ.ws.addEventListener("message",async function(AQ){try{const iQ=await AQ.data.arrayBuffer(),oQ=new Uint8Array(iQ),rQ=oQ.length*oQ.BYTES_PER_ELEMENT,nQ=Module._malloc(rQ);Module.HEAPU8.set(oQ,nQ);const sQ=Module._sync_client_on_recv(tQ.clientPtr,nQ,BigInt(rQ),tQ.tickBufferPtr);if(Module._free(nQ),sQ===101)Module._sync_client_reset_connection(tQ.clientPtr);else{const aQ=new Uint8Array(Module.HEAPU8.buffer,Module._sync_buffer_data(tQ.tickBufferPtr),Number(Module._sync_buffer_length(tQ.tickBufferPtr))).slice();aQ.length!=0&&tQ.ws.send(aQ)}}catch(iQ){logger("recvError : ".concat(iQ),tQ.getLogger,"error")}}):tQ.ws.on("message",AQ=>{try{const iQ=new Uint8Array(AQ),oQ=iQ.length*iQ.BYTES_PER_ELEMENT,rQ=Module._malloc(oQ);Module.HEAPU8.set(iQ,rQ);const nQ=Module._sync_client_on_recv(tQ.clientPtr,rQ,BigInt(oQ),tQ.tickBufferPtr);if(Module._free(rQ),nQ===101)Module._sync_client_reset_connection(tQ.clientPtr);else{const sQ=new Uint8Array(Module.HEAPU8.buffer,Module._sync_buffer_data(tQ.tickBufferPtr),Number(Module._sync_buffer_length(tQ.tickBufferPtr))).slice();sQ.length!=0&&tQ.ws.send(sQ)}}catch(iQ){logger("recvError : ".concat(iQ),tQ.getLogger,"error")}})}async function fetchHelper(tQ,eQ){tQ.tickBufferPtr=Module._sync_buffer_create();try{let AQ="ws://60.191.137.101:6390/ws";eQ&&(tQ.ws=new WebSocket(AQ)),tQ.ws.onopen=()=>{tQ.manualTick||(tickLoop(tQ),tQ.connected=!0,tQ.timer=setInterval(()=>{tQ.ws.readyState==3?(tQ.connected=!1,logger("The connection is time out...",tQ.getLogger,"info")):(tQ.connected=!0,tickLoop(tQ))},2e3))},recvMsg(tQ,eQ)}catch(AQ){logger("fetchError : ".concat(AQ),tQ.getLogger,"error")}}const createCollCallBackMap=new Map,dbConnectCallBackMap=new Map,dbDisConnectCallBackMap=new Map;let createCollCallBackFunc,dbConnectCallBackFunc,dbDisConnectCallBackFunc;function initFunc(tQ){createCollCallBackFunc=Module.addFunction((eQ,AQ,iQ,oQ)=>{const{resolvePromise:rQ,rejectPromise:nQ}=createCollCallBackMap.get(oQ);releasePtr(oQ),eQ===0?(logger("init success",tQ,"info"),rQ(eQ)):nQ(eQ)},"viiii"),dbConnectCallBackFunc=Module.addFunction((eQ,AQ,iQ,oQ,rQ)=>{const{resolvePromise:nQ,rejectPromise:sQ}=dbConnectCallBackMap.get(rQ);releasePtr(rQ),eQ===0?(logger("db connect success",tQ,"info"),nQ(eQ)):sQ(eQ)},"viiiji"),dbDisConnectCallBackFunc=Module.addFunction((eQ,AQ,iQ)=>{const{resolvePromise:oQ,rejectPromise:rQ}=dbDisConnectCallBackMap.get(iQ);releasePtr(iQ),eQ===0?(logger("db disconnect success",tQ,"info"),oQ(eQ)):rQ(eQ)},"viii"),tQ!==null&&(Module.rtejsLog=(eQ,AQ)=>{switch(eQ){case 0:tQ().handleDebugLog(AQ," ----------rtejslog");break;case 1:tQ().handleInfoLog(AQ," ----------rtejslog");break;case 2:tQ().handleWarnLog(AQ," ----------rtejslog");break;case 3:tQ().handleErrorLog(AQ," ----------rtejslog")}})}async function createCollection(tQ){const{client:eQ,db:AQ,coll:iQ,readable:oQ,success:rQ,fail:nQ}=tQ,sQ=getPtrWithStr(iQ),aQ=getPtrWithStr(AQ),cQ=getPtrWithStr(iQ),[gQ,IQ]=getPtrStringList(oQ),EQ=uuid_1.v4(),CQ=getPtrWithStr(EQ);createCollCallBackMap.set(sQ,{resolvePromise:rQ,rejectPromise:nQ}),Module._sync_client_create_coll(eQ.clientPtr,aQ,cQ,gQ,oQ.length,CQ,getRealLenWithStrBI(EQ),createCollCallBackFunc,sQ),releasePtr(aQ),releasePtr(cQ),releasePtr(CQ);for(let dQ=0;dQ<IQ.length;dQ++)releasePtr(IQ[dQ]);eQ.connected&&tickLoop(eQ)}async function connectDatabase(tQ){const{client:eQ,databaseName:AQ,success:iQ,fail:oQ}=tQ,rQ=getPtrWithStr(AQ),nQ=rQ;dbConnectCallBackMap.set(nQ,{resolvePromise:iQ,rejectPromise:oQ});let sQ=getPtrWithStr("");Module._sync_client_connect_database(eQ.clientPtr,rQ,sQ,getRealLenWithStrBI(""),dbConnectCallBackFunc,nQ),releasePtr(sQ),eQ.connected&&tickLoop(eQ)}async function disconnectDatabase(tQ){const{client:eQ,databaseName:AQ,success:iQ,fail:oQ}=tQ,rQ=getPtrWithStr(AQ),nQ=rQ;dbDisConnectCallBackMap.set(nQ,{resolvePromise:iQ,rejectPromise:oQ}),Module._sync_client_disconnect_database(eQ.clientPtr,rQ,dbDisConnectCallBackFunc,nQ),eQ.connected&&tickLoop(eQ)}async function queryDoc(tQ){const{client:eQ,database:AQ,coll:iQ,option:oQ,buffer:rQ,success:nQ,fail:sQ}=tQ,aQ=Module.addFunction((CQ,dQ,lQ,uQ,hQ,BQ)=>{if(CQ===0){rQ.SetCount(Number(uQ)),hQ===1&&rQ.SetMore(!0);for(let QQ=0;QQ<Number(uQ);QQ++){const fQ=Module.getValue(dQ,"i32"),_Q=Module.getValue(lQ,"i32"),RQ=Module.UTF8ToString(fQ).valueOf(),wQ=Module.UTF8ToString(_Q).valueOf();rQ.SetDocs(RQ,wQ),dQ+=4,lQ+=4}nQ(CQ)}else sQ(CQ);Module.removeFunction(aQ)},"viiijii"),cQ=getPtrWithStr(AQ),gQ=getPtrWithStr(iQ);let IQ=0,EQ=0;IQ=oQ.startIncluded||oQ.start.length==0?getPtrWithStr(oQ.start):getRangeEndStringPtr(oQ.start),EQ=oQ.endIncluded&&oQ.end.length!=0?getRangeEndStringPtr(oQ.end):getPtrWithStr(oQ.end),Module._sync_client_query_doc(eQ.clientPtr,cQ,gQ,IQ,EQ,BigInt(oQ.limit),oQ.keysOnly,oQ.countOnly,aQ,0),eQ.connected&&tickLoop(eQ)}function subscribe(tQ,eQ){const AQ=Module.addFunction((aQ,cQ,gQ,IQ,EQ,CQ,dQ)=>{const lQ=Module.UTF8ToString(gQ),uQ=Module._rte_crdt_path_iterator_create(IQ);let hQ,BQ=0,QQ="";for(;;){const fQ=Module._malloc(4),_Q=Module._malloc(4);Module.setValue(_Q,0,"i64");const RQ=Module._malloc(4),wQ=Module._malloc(4);if(BQ=Module._rte_crdt_path_iterator_next(uQ,fQ,_Q,RQ),BQ===305){releasePtr(fQ),releasePtr(_Q),releasePtr(RQ),releasePtr(wQ);break}if(QQ.length===0){if(fQ!=0){const bQ=Module.getValue(fQ,"i32");QQ+=Module.UTF8ToString(bQ).valueOf()}}else{const bQ=Module.getValue(_Q,"i64");if(Number(bQ)>0){const NQ=Module.getValue(fQ,"i32");QQ+="."+Module.UTF8ToString(NQ).valueOf()}else{const NQ=Module.getValue(RQ,"i64");QQ+="["+Number(NQ).toString()+"]"}}releasePtr(fQ),releasePtr(_Q),releasePtr(RQ),releasePtr(wQ)}switch(hQ=Module._rte_crdt_value_is_list(CQ)?[]:Module._rte_crdt_value_is_map(CQ)?{}:getScalarValue(CQ,!1),EQ){case 0:iQ.push(new CollectionEvent(lQ,QQ,CollectionEventType$1.Insert,hQ));break;case 1:oQ?iQ.push(new CollectionEvent(lQ,QQ,CollectionEventType$1.Put,hQ)):eQ.listenerCount("document-events")!=0&&(iQ=[new CollectionEvent(lQ,"",CollectionEventType$1.Put,null)],eQ.emit("document-events",iQ));break;case 2:oQ?iQ.push(new CollectionEvent(lQ,QQ,CollectionEventType$1.Delete,hQ)):eQ.listenerCount("document-events")!=0&&checkAll(lQ,tQ.readable)&&(iQ=[new CollectionEvent(lQ,"",CollectionEventType$1.Delete,null)],eQ.emit("document-events",iQ));break;case 6:iQ=[],oQ=!0;break;case 7:eQ.listenerCount("document-events")!=0&&eQ.emit("document-events",iQ),oQ=!1;break;case 8:eQ.listenerCount("document-events")!=0&&eQ.emit("document-events",[new CollectionEvent(lQ,"",CollectionEventType$1.DocSyncEnd,null)])}},"viiiiiii");let iQ=[],oQ=!1;const rQ=getPtrWithStr(tQ.dbIn),nQ=getPtrWithStr(tQ.name),sQ=Module._sync_client_subscribe(tQ.client.clientPtr,rQ,nQ,AQ,0);if(releasePtr(rQ),releasePtr(nQ),sQ===0)return logger("The Collection : ".concat(tQ.name," has been subscribed successfully!"),tQ.getLogger,"info"),AQ;logger("The Collection : ".concat(tQ.name," has not been subscribed successfully!"),tQ.getLogger,"info")}function exceptionCallback(tQ){tQ.exceptionCb=Module.addFunction((eQ,AQ,iQ)=>{let oQ=Module.UTF8ToString(eQ).valueOf(),rQ=Module.UTF8ToString(AQ).valueOf();tQ.exceptionChan.listenerCount("exception")!=0&&tQ.exceptionChan.emit("exception",[oQ,rQ])},"viii"),Module._sync_client_set_exception_callback(tQ.clientPtr,tQ.exceptionCb,0)}var createModule=function(){let tQ=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var eQ,AQ,iQ=tQ;iQ.ready=new Promise((DQ,MQ)=>{eQ=DQ,AQ=MQ});var oQ=Object.assign({},iQ),rQ="./this.program",nQ=typeof window=="object",sQ=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var aQ,cQ="";(nQ||sQ)&&(sQ?cQ=self.location.href:typeof document<"u"&&document.currentScript&&(cQ=document.currentScript.src),cQ=cQ.indexOf("blob:")!==0?cQ.substr(0,cQ.replace(/[?#].*/,"").lastIndexOf("/")+1):"",sQ&&(aQ=DQ=>{var MQ=new XMLHttpRequest;return MQ.open("GET",DQ,!1),MQ.responseType="arraybuffer",MQ.send(null),new Uint8Array(MQ.response)})),iQ.print||console.log.bind(console);var gQ,IQ,EQ=iQ.printErr||console.error.bind(console);Object.assign(iQ,oQ),oQ=null,iQ.arguments&&iQ.arguments,iQ.thisProgram&&(rQ=iQ.thisProgram),iQ.quit&&iQ.quit,iQ.wasmBinary&&(gQ=iQ.wasmBinary),iQ.noExitRuntime,typeof WebAssembly!="object"&&YQ("no native wasm support detected");var CQ,dQ,lQ,uQ,hQ,BQ,QQ,fQ,_Q,RQ=!1;function wQ(){var DQ=IQ.buffer;iQ.HEAP8=CQ=new Int8Array(DQ),iQ.HEAP16=lQ=new Int16Array(DQ),iQ.HEAPU8=dQ=new Uint8Array(DQ),iQ.HEAPU16=new Uint16Array(DQ),iQ.HEAP32=uQ=new Int32Array(DQ),iQ.HEAPU32=hQ=new Uint32Array(DQ),iQ.HEAPF32=BQ=new Float32Array(DQ),iQ.HEAPF64=fQ=new Float64Array(DQ),iQ.HEAP64=QQ=new BigInt64Array(DQ),iQ.HEAPU64=new BigUint64Array(DQ)}var bQ=[],NQ=[],UQ=[],PQ=0,OQ=null;function YQ(DQ){iQ.onAbort&&iQ.onAbort(DQ),EQ(DQ="Aborted("+DQ+")"),RQ=!0,DQ+=". Build with -sASSERTIONS for more info.";var MQ=new WebAssembly.RuntimeError(DQ);throw AQ(MQ),MQ}var SQ,xQ,VQ="data:application/octet-stream;base64,";function TQ(DQ){return DQ.startsWith(VQ)}function kQ(DQ){if(DQ==SQ&&gQ)return new Uint8Array(gQ);var MQ=function(KQ){if(TQ(KQ))return function(JQ){try{for(var ZQ=atob(JQ),XQ=new Uint8Array(ZQ.length),WQ=0;WQ<ZQ.length;++WQ)XQ[WQ]=ZQ.charCodeAt(WQ);return XQ}catch{throw new Error("Converting base64 string to bytes failed.")}}(KQ.slice(37))}(DQ);if(MQ)return MQ;if(aQ)return aQ(DQ);throw"both async and sync fetching of the wasm failed"}function GQ(DQ,MQ,KQ){return function(JQ){return Promise.resolve().then(()=>kQ(JQ))}(DQ).then(JQ=>WebAssembly.instantiate(JQ,MQ)).then(JQ=>JQ).then(KQ,JQ=>{EQ("failed to asynchronously prepare wasm: ".concat(JQ)),YQ(JQ)})}TQ(SQ="data:application/octet-stream;base64,AGFzbQEAAAABhAVNYAJ/fwBgAX8AYAF/AX9gAn9/AX9gA39/fwBgA39/fwF/YAR/f39/AGAEf39/fwF/YAZ/f39/f38Bf2AFf39/f38Bf2AFf39/f38AYAJ/fgBgBn9/f39/fwBgCH9/f39/f39/AX9gA39/fgBgB39/f39/f38Bf2AAAGAFf35+fn4AYAABf2ABfwF+YAV/f39/fgF/YAV/f35/fwBgB39/f39/f38AYAJ/fwF+YAR/f35/AGAEf39/fwF+YAR/fn5/AGAKf39/f39/f39/fwBgCn9/f39/f39/f38Bf2ACfn8Bf2ADf35/AX9gAn9+AX5gBX9/f398AX9gAAF8YAJ+fwBgAn9+AX9gAn98AGAAAX5gCH9/f39/f39/AGABfgF/YAF+AX5gDH9/f39/f39/f39/fwF/YAV/f39+fwBgB39/fn9/f38Bf2AEf39+fwF/YAN/fn8AYAZ/f39/fn8Bf2APf39/f39/f39/f39/f39/AGALf39/f39/f39/f38Bf2AHf39/f39+fgF/YAZ/f39/fn4Bf2AGf39/fn9/AGADf39+AX9gB39/f39+f38AYAR+fn5+AX9gB39/f35/f38BfmACfn4BfGABfwF8YAV/f39/fgBgBn9/fn9/fwF/YAJ8fwBgA39/fwF8YAN/f38BfWACfn4BfWADfn5+AX9gBn98f39/fwF/YAJ8fwF8YAR/f39+AX5gBn9/f39+fwBgCH9/f39/fn9/AX9gEH9/f39/f39/fn5/f39/f38Bf2AJf39/f39+f39/AX9gCn9/f39/fn9/f38Bf2AGf39/fn9/AX9gCX9/f39/f35/fwBgBn9+f39/fwBgBH9/f34BfwI9CgFhAWEABgFhAWIAEAFhAWMACQFhAWQAAwFhAWUAAwFhAWYAEgFhAWcAIQFhAWgAAgFhAWkAIQFhAWoAAAPxDu8OAgECAwMCAwIQAyICAAECAQIAAwUABQMCAQMAAwICAgMBAAADAxEBBAMSAwACERMCAgEBAwQBAQICAQUCAQACAgEBAAECAAIEAAICAAADAQMEBQADAAYAGgoCAgMCAAMCAwIAAhAAAgACAwAEAwUDACMRAAMFAgAJAgAAAQIHFwAAAgQDAAIBAwADCAAAAgIAAAEFBQICAwMDAwoBCAMCAAEDAgsHFRsTAQEKAgIDAAED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IwBBEGsiAyQAAkACQAJAIAIQwgMEQCAAIQEgACACEHkMAQsgAkHv////B0sNASADQQhqIAAgAhC0AkEBahCGAiADKAIMGiAAIAMoAggiARCKASAAIAMoAgwQiQEgACACEG8LIAEgBCACQQFqEIwBIANBEGokAAwBCxBuAAsgAAtAAQJ/AkACfyAAIAAoAhAiAUYEQCAAIQEgACgCAEEQagwBCyABRQ0BIAEoAgBBFGoLIQIgASACKAIAEQEACyAACwUAEAEACygBAX8gACABKAIAIAEgAS0ACyIAwEEASCICGyABKAIEIAAgAhsQ1AULKwEBfwNAIAEgAKdB/wBxIABC/wBWIgJBB3RywBD8ASAAQgeIIQAgAg0ACwvsAQECfyAAQazSATYCOCAAQZjSATYCACAAQbjSASgCACIBNgIAIAAgAUEMaygCAGpBvNIBKAIANgIAIAAgACgCAEEMaygCAGoiAkEANgIUIAIgAEEEaiIBNgIYIAJBADYCDCACQoKggIDgADcCBCACIAFFNgIQIAJBIGpBAEEoEB0aIAJBHGoQ2gkgAkKAgICAcDcCSCAAQZjSATYCACAAQazSATYCOCABQdjOATYCACABQQRqENoJIAFCADcCGCABQgA3AhAgAUIANwIIIAFCADcCICABQcjPATYCACABQRA2AjAgAUIANwIoIAALhQECBH4DfyABKAIEIQYgAAJ/AkADQCAGRSACQj9Wcg0BIAEoAgAiBywAACIIrUL/AIMiBCAChiIFIAKIIARSDQEgASAGQQFrIgY2AgQgASAHQQFqNgIAIAJCB3whAiADIAV8IQMgCEEASA0ACyAAIAM3AwBBAQwBCyAAQQA6AABBAAs6AAgLBgAgABALCzYBAX9BASAAIABBAU0bIQACQANAIAAQRSIBDQFByMMCKAIAIgEEQCABERAADAELCxABAAsgAQuuAQEGfyMAQRBrIgIkACAAKAIAIQMgAkEEaiIEIABBCGoQ9AIgAigCBCAEIAIsAA9BAEgbIQVBoK0CKAIABEBBqK0CKAIAIQYjAEEQayIBJAAgASAFNgIIIAEgAzYCDCABIAY2AgRBoK0CKAIAIgNFBEAQEgALIAMgAUEMaiABQQhqIAFBBGogAygCACgCGBEGACABQRBqJAALIAQQChogAEEEahDdARogAkEQaiQACwwAQZCsAigCACAATAs2ACAALAALQQBIBEAgACgCABALCyAAIAEpAgA3AgAgACABKAIINgIIIAFBADoACyABQQA6AAALjwEBBH8jAEEQayIDJAAgASgCACEEIAMgASgCBCABLQALIgIgAsBBAEgiAhs2AgwgAyAEIAEgAhs2AgggACgCACAAIAAtAAsiBMBBAEgiAhsgAygCCCADKAIMIgEgACgCBCAEIAIbIgAgACABSyIEGxDEBSICQX8gBCAAIAFJGyACGyEFIANBEGokACAFQR92CykBAX8gAgRAIAAhAwNAIAMgAToAACADQQFqIQMgAkEBayICDQALCyAACyoBAX8CQCAAEAwiAiABSQRAIAAgASACaxCzCQwBCyAAIAAQISABEMcJCwszAQF/IAIEQCAAIQMDQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQQFrIgINAAsLIAALCQAgABAhIAFqCxIAIAAQiwEEQCAAKAIADwsgAAsKACAAKAIAEKUEC5ABAQV/AkAgACgCBCIFIAAtAAsiAiACwCIGQQBIGyABKAIEIAEtAAsiBCAEwCIEQQBIG0cNACABKAIAIAEgBEEASBshASAGQQBOBEADQCACRSEDIAJFDQIgAC0AACABLQAARw0CIAFBAWohASAAQQFqIQAgAkEBayECDAALAAsgACgCACABIAUQxAVFIQMLIAMLDAAgACABQRxqENkJCz4AIABBADYCCCAAQgA3AgAgACABKAIANgIAIAAgASgCBDYCBCAAIAEoAgg2AgggAUEANgIIIAFCADcCACAACxsBAX8jAEEQayIBJAAgABCtCiABQRBqJAAgAAsbAQF/QQohASAAEIsBBH8gABCHAkEBawVBCgsLiwICA38CfgJAIAApA3AiBFBFIAQgACkDeCAAKAIEIgEgACgCLCICa6x8IgVXcUUEQCMAQRBrIgIkAEF/IQECQCAAEOIKDQAgACACQQ9qQQEgACgCIBEFAEEBRw0AIAItAA8hAQsgAkEQaiQAIAEiA0EATg0BIAAoAgQhASAAKAIsIQILIABCfzcDcCAAIAE2AmggACAFIAIgAWusfDcDeEF/DwsgBUIBfCEFIAAoAgQhASAAKAIIIQICQCAAKQNwIgRQDQAgBCAFfSIEIAIgAWusWQ0AIAEgBKdqIQILIAAgAjYCaCAAIAUgACgCLCIAIAFrrHw3A3ggACABTwRAIAFBAWsgAzoAAAsgAwtoAQZ/IwBBEGsiAyQAIABBIGohBCABQSBqIQUDQAJAIAEgBUYNAEEBIQIgACAERg0AIAAtAAAiBiABLQAAIgdJDQBBACECIAYgB0sNACABQQFqIQEgAEEBaiEADAELCyADQRBqJAAgAgsLACAAQcDTABChCQtyAQN/AkAgARC3CSICIAAQ6QUiA00EQCAAECEiAyABIAJBAnQiBBBbGiMAQRBrIgEkACAAIAIQrgIgAUEANgIMIAMgBGogAUEMahCAASABQRBqJAAMAQsgACADIAIgA2sgABAMIgBBACAAIAIgARCyCQsLCQAgACABEOcECxAAIAAQnwogARCfCnNBAXMLEAAgABCgCiABEKAKc0EBcwt1AQF+IAAgASAEfiACIAN+fCADQiCIIgIgAUIgiCIEfnwgA0L/////D4MiAyABQv////8PgyIBfiIFQiCIIAMgBH58IgNCIIh8IAEgAn4gA0L/////D4N8IgFCIIh8NwMIIAAgBUL/////D4MgAUIghoQ3AwALeAIDfwF9IwBBEGsiAiQAIABBAUHAACAALQAea3QiATYCECAAIAEQqws2AgwgACgCECIBQYCAgIB4RiEDIABBgICAgHgCfyAAKgIYIAGzlCIEQwAAgE9dIARDAAAAAGBxBEAgBKkMAQtBAAsgAxs2AhQgAkEQaiQAC2ACAX8BfgNAIAAoAgwgAkEDdGoiAygCAARAIAMpAgAhBCADIAEpAgA3AgAgASAENwIAIAEgBKdBgAJqNgIAIAJBAWoiAkEAIAIgACgCEEcbIQIMAQsLIAMgASkCADcCAAtbACAAIAEpAwA3AwAgACABKQMINwMIIABBGGogAUEYahB2GiAAQThqIAFBOGoQsQMaIAAgAS0AaDoAaCAAIAEpA2A3A2AgACABKQNYNwNYIAAgASkDUDcDUCAAC+8CAQZ/QfC0Ai0AAARAQey0AigCAA8LIwBBIGsiAiQAAkACQANAIAJBCGoiBCAAQQJ0IgNqAn9BASAAdEH/////B3EiBUEBckUEQCADKAIADAELIABBg8kAQdPSACAFGxCbCgsiAzYCACADQX9GDQEgAEEBaiIAQQZHDQALQQAQmgpFBEBBiNgBIQEgBEGI2AFBGBDHA0UNAkGg2AEhASAEQaDYAUEYEMcDRQ0CQQAhAEHEswItAABFBEADQCAAQQJ0QZSzAmogAEHT0gAQmwo2AgAgAEEBaiIAQQZHDQALQcSzAkEBOgAAQayzAkGUswIoAgA2AgALQZSzAiEBIAJBCGoiAEGUswJBGBDHA0UNAkGsswIhASAAQayzAkEYEMcDRQ0CQRgQRSIBRQ0BCyABIAIpAgg3AgAgASACKQIYNwIQIAEgAikCEDcCCAwBC0EAIQELIAJBIGokAEHwtAJBAToAAEHstAIgATYCACABCw0AIAApAwAgASkDAFQLAgALEQAgAC0ADARAIAAQChoLIAALwwoCBX8RfiMAQeAAayIFJAAgBEL///////8/gyEMIAIgBIVCgICAgICAgICAf4MhCiACQv///////z+DIg1CIIghDiAEQjCIp0H//wFxIQcCQAJAIAJCMIinQf//AXEiCUH//wFrQYKAfk8EQCAHQf//AWtBgYB+Sw0BCyABUCACQv///////////wCDIgtCgICAgICAwP//AFQgC0KAgICAgIDA//8AURtFBEAgAkKAgICAgIAghCEKDAILIANQIARC////////////AIMiAkKAgICAgIDA//8AVCACQoCAgICAgMD//wBRG0UEQCAEQoCAgICAgCCEIQogAyEBDAILIAEgC0KAgICAgIDA//8AhYRQBEAgAiADhFAEQEKAgICAgIDg//8AIQpCACEBDAMLIApCgICAgICAwP//AIQhCkIAIQEMAgsgAyACQoCAgICAgMD//wCFhFAEQCABIAuEIRlCACEBIBlQBEBCgICAgICA4P//ACEKDAMLIApCgICAgICAwP//AIQhCgwCCyABIAuEUARAQgAhAQwCCyACIAOEUARAQgAhAQwCCyALQv///////z9YBEAgBUHQAGogASANIAEgDSANUCIGG3kgBkEGdK18pyIGQQ9rEGFBECAGayEGIAUpA1giDUIgiCEOIAUpA1AhAQsgAkL///////8/Vg0AIAVBQGsgAyAMIAMgDCAMUCIIG3kgCEEGdK18pyIIQQ9rEGEgBiAIa0EQaiEGIAUpA0ghDCAFKQNAIQMLIANCD4YiC0KAgP7/D4MiAiABQiCIIgR+IhAgC0IgiCITIAFC/////w+DIgF+fCIPQiCGIhEgASACfnwiCyARVK0gAiANQv////8PgyINfiIV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ACACKAIINgIIIAAgAikDADcCACACQQA2AgggAkIANwMAIABBAToADCACEAoaCyACQSBqJAALDQAgACgCABCxChogAAsNACAAKAIAELcKGiAAC2IBA38jAEEQayICJAAgAEEgaiEDA0AgACADRwRAIAAtAAAhBCAAIAEtAAA6AAAgASAEOgAAIAFBAWohASAAQQFqIQAMAQsLIAIgATYCDCACIAM2AgggAigCDBogAkEQaiQACyYBAX4gACgCACIAKQMAIQIgACABKAIAIgApAwA3AwAgACACNwMACzkBAn8gAEEgaiECA0ACQCAAIAJGIgMNACAALQAAIAEtAABHDQAgAUEBaiEBIABBAWohAAwBCwsgAws3AQF/IwBBEGsiASQAIAEgADYCDCABKAIMIgAoAgAEQCAAELYIIAEoAgwoAgAQCwsgAUEQaiQACxEAIAAgASAAKAIAKAIcEQMAC78BAQN/IAAtAABBIHFFBEACQCABIQMCQCACIAAiASgCECIABH8gAAUgARDZCg0BIAEoAhALIAEoAhQiBWtLBEAgASADIAIgASgCJBEFABoMAgsCQCABKAJQQQBIDQAgAiEAA0AgACIERQ0BIAMgBEEBayIAai0AAEEKRw0ACyABIAMgBCABKAIkEQUAIARJDQEgAyAEaiEDIAIgBGshAiABKAIUIQULIAUgAyACEB8aIAEgASgCFCACajYCFAsLCwtKAQF/IAAgAUkEQCAAIAEgAhAfDwsgAgRAIAAgAmohAyABIAJqIQEDQCADQQFrIgMgAUEBayIBLQAAOgAAIAJBAWsiAg0ACwsgAAswAQF/IAAoAgQiAiAAKAIISQRAIAIgASgCADYCACAAIAJBBGo2AgQPCyAAIAEQ/wULEQAgACABEBAiAEEBOgAQIAALMAEBfyAAKAIEIgIgACgCCEkEQCACIAEpAwA3AwAgACACQQhqNgIEDwsgACABEPAFC6EBAQJ/AkAgABAMRSACIAFrQQVIcg0AIAEgAhCqBCACQQRrIQQgABAhIgIgABAMaiEFAkADQAJAIAIsAAAhACABIARPDQAgAEEATCAAQf8ATnJFBEAgASgCACACLAAARw0DCyABQQRqIQEgAiAFIAJrQQFKaiECDAELCyAAQQBMIABB/wBOcg0BIAIsAAAgBCgCAEEBa0sNAQsgA0EENgIACwsI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AC0AC0H/AHE6AAsLrgEBBn8jAEEQayICJAAgAkEIaiIDIAAQuAIaAkAgAy0AAEUNACACQQRqIgMgACAAKAIAQQxrKAIAahAkIAMQxQMhBCADECIgAiAAEMQDIQUgACAAKAIAQQxrKAIAaiIGEOMCIQcgAiAEIAUoAgAgBiAHIAEgBCgCACgCHBEUADYCBCADELYCRQ0AIAAgACgCAEEMaygCAGpBBRC5AgsgAkEIahC3AiACQRBqJAAgAAvGCQIEfwZ+IwBB8ABrIgYkACAEQv///////////wCDIQkCQAJAIAFQIgUgAkL///////////8AgyIKQoCAgICAgMD//wB9QoCAgICAgMCAgH9UIApQG0UEQCADQgBSIAlCgICAgICAwP//AH0iC0KAgICAgIDAgIB/ViALQoCAgICAgMCAgH9RGw0BCyAFIApCgICAgICAwP//AFQgCkKAgICAgIDA//8AURtFBEAgAkKAgICAgIAghCEEIAEhAwwCCyADUCAJQoCAgICAgMD//wBUIAlCgICAgICAwP//AFEbRQRAIARCgICAgICAIIQhBAwCCyABIApCgICAgICAwP//AIWEUARAQoCAgICAgOD//wAgAiABIAOFIAIgBIVCgICAgICAgICAf4WEUCIFGyEEQgAgASAFGyEDDAILIAMgCUKAgICAgIDA//8AhYRQDQEgASAKhFAEQCADIAmEQgBSDQIgASADgyEDIAIgBIMhBAwCCyADIAmEUEUNACABIQMgAiEEDAELIAMgASABIANUIAkgClYgCSAKURsiCBshCiAEIAIgCBsiC0L///////8/gyEJIAIgBCAIGyICQjCIp0H//wFxIQcgC0IwiKdB//8BcSIFRQRAIAZB4ABqIAogCSAKIAkgCVAiBRt5IAVBBnStfKciBUEPaxBhIAYpA2ghCSAGKQNgIQpBECAFayEFCyABIAMgCBshAyACQv///////z+DIQQgB0UEQCAGQdAAaiADIAQgAyAEIARQIgcbeSAHQQZ0rXynIgdBD2sQYUEQIAdrIQcgBikDWCEEIAYpA1AhAwsgBEIDhiADQj2IhEKAgICAgICABIQhASAJQgOGIApCPYiEIQ4gAiALhSENAn4gA0IDhiICIAUgB0YNABogBSAHayIHQf8ASwRAQgAhAUIBDAELIAZBQGsgAiABQYAB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QCACQSBqIAApAAggBIVCACAAKQAAQtvR0IWa2t+BZ4VCABAvIABBEGohACADQRBrIQMgAikDKCACKQMghSEEDAELCyAAIANqIgBBCGspAAAhBSAAQRBrKQAACyEGIAJBEGogBCAFhUIAIAZC29HQhZra34FnhUIAEC8gAiACKQMYIAIpAxCFQgAgAa1C29HQhZra34FnhUIAEC8gAikDCCEIIAIpAwAhByACQeAAaiQAIAggB4ULLgAgACAAKAIIQYCAgIB4cSABQf////8HcXI2AgggACAAKAIIQYCAgIB4cjYCCAsJACAAIAE2AgALCgAgAC0AC0EHdgsMACABIAIgABC8ChoLHAAgACABENEBIgEgACgCBEYEQBASAAsgAUEQagtGACAAKAIAIgAgASkDCBD6AyABLQBIQQFGBEAgACABQUBrKQMAEPoDCwJAIAEtAGhFDQAgASkDWFANACAAIAEpA2AQ+gMLCx0BAn8jAEEQayIBJAAgABCkCCECIAFBEGokACACCwkAIABBABCoBQsLACAAIAFBMBCeCQsPACAAIAFBmAlB6AgQqwkLjgEAIAAgASkDADcDACAAIAEoAgg2AgggAUIANwMAIAFBADYCCCAAQRBqIAFBEGpBOBAfGiAAQcgAaiABQcgAahAlGiAAIAEoAlw2AlwgACABKQJUNwJUIAFCADcCVCABQQA2AlwgACABKQN4NwN4IAAgASkDcDcDcCAAIAEpA2g3A2ggACABKQNgNwNgIAALNAEBfyABIAVPBEAQAQALIAQgACgCCCAAKAIAayADbSIAQQF0IgYgASABIAZJGyAAIAJPGwtOAQF/IAAoAgQiAiAAKAIIRwRAIAIgASkAADcAACACIAEpABg3ABggAiABKQAQNwAQIAIgASkACDcACCAAIAJBIGo2AgQPCyAAIAEQygkLBwAgABAmGgsPACAAIAAoAgAoAgwRAgALBwAgABAMRQsRACAAIAEgASgCACgCHBEAAAsRACAAIAEgASgCACgCGBEAAAsVACAAEKkKIAAoAgAiAARAIAAQCwsLEwAgACABIAIgACgCACgCDBEFAAsnAQF/IAJBAE4EfyAAKAIIIAJB/wFxQQJ0aigCACABcUEARwVBAAsLNwACf0EBIABBgAFJDQAaQQIgAEGAgAFJDQAaQQMgAEGAgIABSQ0AGkEE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LAALQQBODQAgAigCBEGBgIAESQ0AIAMoAhBFDQEgA0EWIAoQgAMQ/wIMAQsgChDGAyAANQI4QoCU69wDfnw3A3AgAEEgaiEBIABBzABqIQAgBARAIAogCkH+AGogAiADIApB8ABqIAUgBiAHIAEgBygCBCAHLQALIgEgAcBBAEgbGyAIIAkQrQshAyMAQRBrIgEkAEH4ABAYIgJBADYCACABIABBCGo2AgggAUEBNgIMIAJBCGogAxDKBBogAiAANgIEIAIgACgCACIENgIAIAQgAjYCBCAAIAI2AgAgACAAKAIIQQFqNgIIIAFBADYCBCABQQRqEJABIAFBEGokACADEL8CDAELIAogCkH+AGogAiADIApB8ABqIAUgBiAHIAEgBygCBCAHLQALIgEgAcBBAEgbGyAIIAkQrQshAyMAQRBrIgEkAEH4ABAYIgJBADYCACABIABBCGo2AgggAUEBNgIMIAJBCGogAxDKBBogAiAANgIAIAIgACgCBCIENgIEIAQgAjYCACAAIAI2AgQgACAAKAIIQQFqNgIIIAFBADYCBCABQQRqEJABIAFBEGokACADEL8CCyAKQYABaiQAC2gCAX8EfiMAQSBrIgEkACABQRBqIAApAwBCAELp2uDZjsH6751/QgAQLyABIAApAwggASkDGCABKQMQhXxCAELp2uDZjsH6751/QgAQLyABKQMIIQUgASkDACEEIAFBIGokACAFIASFCxIAIABBLGoQ4AQgAEEgahAPGgsLACAAQdjUABC3AwvKAwEHfyMAQbABayIFJAACQAJAIAIoAgAiCCACKAIEIglHBEAgAygCACEGIAMoAgQhBwwBCyADKAIAIgYgAygCBCIHRw0AIAVBADYCICAFQgA3AxggACAFQRhqIgAQ+QEaIAAQDxoMAQsgBUEANgKsASAFQgA3AqQBIAVBpAFqIAcgBmtBBXUgCSAIa0EFdWoQdCABQbwBaiEGIAIoAgQhByACKAIAIQIDQAJAAkAgAiAHRwRAIAYgAhChASIIIAEoAsABRwRAIAUgCEEgajYCGCAFQaQBaiAFQRhqEFwMAwsgBA0CQQAQGgRAIAVBHGoQFSEKIAVBADYCGCAKIAFB0ANqEBNBy88AEA0hCyAFQQxqIgMgAhCCBSALIAMQExogAxAKGiAFQRhqEBkLIABBADoADCAAQQA6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AgBB+d2rxQJHDQEgAEEANgIAIABBBGohCCABQZSsAiABGyEDA0AgBygCGCAETQRAAkBBACEBA0AgACgCCCECIAEgACgCBE8NASACIAFBBHRqKAIMIgIEQCADKAIIIAIgAygCBBEAAAsgAUEBaiEBDAALAAsFAkAgBygCHCAEQTBsaiICLQAgQQRxBEAgAigCBCAAIAIoAhBqKAIARw0BCyACKAIIQQJGBEAgACACKAIUaigCACIFRQ0BIAAgAigCEGooAgAhBkEAIQECQAJAAkACQCACKAIMQQ5rDgMAAQIDCwNAIAEgBkYNAyAFIAFBAnRqKAIAIgIEQCADKAIIIAIgAygCBBEAAAsgAUEBaiEBDAALAAsDQCABIAZGDQIgBSABQQN0aigCBCICBEAgAygCCCACIAMoAgQRAAALIAFBAWohAQwACwALA0AgASAGRg0BIAUgAUECdGooAgAgAxDjASABQQFqIQEMAAsACyADKAIIIAUgAygCBBEAAAwBCwJAAkACQCACKAIMQQ5rDgMAAQIDCyAAIAIoAhRqKAIAIgFFDQIgASACKAIcRg0CIAMoAgggASADKAIEEQAADAILIAggAigCFGooAgAiAUUNASACKAIcIgIEQCACKAIEIAFGDQILIAMoAgggASADKAIEEQAADAELIAAgAigCFGooAgAiAUUNACABIAIoAhxGDQAgASADEOMBCyAEQQFqIQQMAQsLIAIEQCADKAIIIAIgAygCBBEAAAsgAygCCCAAIAMoAgQRAAALDwtBhMgAQbXCAEGCGkH4PBAAAAsOACAAQQhqEBEaIAAQCwsKACAAQQhqEBEaCwwAIAEgAikDADcDAAsOACAAIAEQ2QJBAToAWAsPACAALQAQBEAQEgALIAALEgAgAC0AEEEFRwRAEBIACyAAC74CAQR/IAAoAgQgACgCCEkEQCAAIAAoAgQgARDuA0EYajYCBA8LIwBBIGsiBCQAIARBDGogACAAKAIEIAAoAgBrQRhtQQFqENsBIAAoAgQgACgCAGtBGG0gAEEIahC+ASICKAIIIAEQ7gMaIAIgAigCCEEYajYCCCAAKAIEIQMgACgCACEFIAIoAgQhAQNAIAMgBUcEQCABQRhrIANBGGsiAxDuAyEBDAELCyACIAE2AgQgACgCACEDIAAgATYCACACIAM2AgQgACgCBCEBIAAgAigCCDYCBCACIAE2AgggACgCCCEBIAAgAigCDDYCCCACIAE2AgwgAiACKAIENgIAIAIoAgQhAANAIAAgAigCCCIBRwRAIAIgAUEYayIBNgIIIAEQKgwBCwsgAigCACIABEAgABALCyAEQSBqJAALNQEBfwJAIAAtAAwiAiABLQAMRgRAIAJFDQEgACABEEwPCyACBEAgABCKBA8LIAAgARC0AwsLFAAgACABIAIgA0EsQd7oxS4QpgEL4QEBBH8jAEEQayIDJAAgAyABNgIEIwBBEGsiAiQAIAMgACACQQxqIAEQjggiBCgCACIBBH9BAAVBOBAYIQEgAiAAQQRqNgIEIAIgATYCACABQRBqIgEgAygCBCkDADcDACABQQhqEGYaIAJBAToACCAAIAIoAgwgBCACKAIAEP8DIAIoAgAhASACQQA2AgAgAigCACEAIAJBADYCACAABEAgAi0ACARAIABBGGoQ4QILIAAEQCAAEAsLC0EBCzoADCADIAE2AgggAkEQaiQAIAMoAgghBSADQRBqJAAgBUEYagsbACAAIAEpAwA3AwAgAEEIaiABQQhqEBAaIAALCQAgAEEoEKUJC9QBAQN/IAAoAgQhAiAAKAIAIQQgASgCBCEDA0AgAiAERwRAIANBKGsiAyACQShrIgIpAwA3AwAgAyACKAIINgIIIAJBADYCCCACQgA3AwAgAyACKQMQNwMQIAMgAikDGDcDGCADIAIoAiA2AiAgAkEANgIgIAJCADcDGAwBCwsgASADNgIEIAAoAgAhAiAAIAM2AgAgASACNgIEIAAoAgQhAiAAIAEoAgg2AgQgASACNgIIIAAoAgghAiAAIAEoAgw2AgggASACNgIMIAEgASgCBDYCAAsUACAAQRBqEA8aIABBBGoQiwQgAAs3AQF/IwBBEGsiASQAIAEgADYCDCABKAIMIgAoAgAEQCAAEMcIIAEoAgwoAgAQCwsgAUEQaiQAC14BA38jAEEQayIBJAAgASAANgIMIAEoAgwiACgCAARAIAAoAgAhAyAAKAIEIQIDQCACIANHBEAgAkGAAWsQfyECDAELCyAAIAM2AgQgASgCDCgCABALCyABQRBqJAALJgAgAEGwAWoQ2QggAEGQAWoQqQMgAEHwAGoQqQMgAEHkAGoQ2AgLVQEDfyMAQSBrIgIkACACQRBqIgMgARCcAiACQQhqIABBGGoiBCADEHUgAS0AUEUEQCADIAQgARB1CyAAIAApA0AgAS0AMEEAR618NwNAIAJBIGokAAvpAgIFfwF+IwBBEGsiBCQAAkAgASgCBCABKAIISQRAIAEgAhCuCQwBCyABIAIQrQkLIAEoAgRBDGsiBRA4IginQf8BcUGAAnIhAiAIIAExAB6IpyEDIAACfwNAIAEoAgwgA0EDdGoiBigCACIHIAJPBEACQCACIAdHDQAgBSABKAIAIAYoAgRBDGxqECNFDQAgARDABSABKAIAIAEoAgwgA0EDdGooAgRBDGxqIQJBAAwDCyADQQFqIgNBACADIAEoAhBHGyEDIAJBgAJqIQIMAQsLIAEoAgQgASgCAGtBDG0iBkEBayEFAkAgASgCFCAGSQRAIAEoAhRBgICAgHhGBEAgARDABRASAAsgASABLQAeQQFrOgAeIAEQTSABEDAgARD9CwwBCyAEIAU2AgwgBCACNgIIIAQgBCkCCDcDACABIAQgAxAxCyABKAIAIAVBDGxqIQJBAQs6AAQgACACNgIAIARBEGokAAvOAQEEfyMAQRBrIggkAAJAIABFBEAMAQsgBCgCDCEHIAIgAWsiCUEASgRAIAAgASAJIAAoAgAoAjARBQAgCUcNAQsgByADIAFrIgFrQQAgASAHSBsiAUEASgRAIAhBBGoiByABIAUQnQQgACAIKAIEIAcgCCwAD0EASBsgASAAKAIAKAIwEQUAIQUgBxAKGiABIAVHDQELIAMgAmsiAUEASgRAIAAgAiABIAAoAgAoAjARBQAgAUcNAQsgBEEANgIMIAAhBgsgCEEQaiQAIAYLIQAgAEEAOgAMIABBADoAACABLQAMBEAgACABELQDCyAACxEAIAAgARAlIgBBAToADCAACxcAIAEgAjYCACABQQhqIABBCGoQgwMaCx8BAX9BIBAYIgIgATYCACACQQhqIABBCGoQgwMaIAILrgEBA38jAEEQayICJAAgAiABOgAPAkACQAJ/IAAQiwEiBEUEQEEKIQEgABC3BAwBCyAAEIcCQQFrIQEgACgCBAsiAyABRgRAIAAgAUEBIAEgARDgBSAAECEaDAELIAAQIRogBA0AIAAiASADQQFqEHkMAQsgACgCACEBIAAgA0EBahBvCyABIANqIgAgAkEPahCDASACQQA6AA4gAEEBaiACQQ5qEIMBIAJBEGokAAtiAQJ/IwBBIGsiAiQAAkAgASAAKAIIIAAoAgAiA2tBDG1LBEAgAUHWqtWqAU8NASAAIAJBDGogASAAKAIEIANrQQxtIABBCGoQqgIiABCcBCAAELkDCyACQSBqJAAPCxABAAsLACAAIAE2AgAgAAsPACAAIAAoAgAoAiQRAgALEQAgACABIAEoAgAoAiARAAALEQAgACABIAEoAgAoAiwRAAALDAAgAEGChoAgNgAACxEAIAAQISAAEAxBAnRqEOwFCw4AIAAQISAAEAxqEOwFCxYAIAAgASACIAMgACgCACgCIBEHABoLGQAgAkEBEKEKIQEgACACNgIEIAAgATYCAAsOACAAKAIIQf////8HcQsSACABIAEgAkECdGogABCoChoLBwAgACABRgsOACAAIAEpAwA3AwAgAAuUAgIHfwJ+IwBBQGoiACQAQQAgAEEoahDCCgRAQdCtAigCABDbBQALIABBGGogAEEoahCKAiEEIAAgACgCMEHoB202AgwgAEEQaiAAQQxqEMEKIQUjAEEgayIBJAAjAEEQayIDJAAjAEEQayIGJAAjAEEQayICJAAgAiAEKQMAQsCEPX43AwAgAkEIaiACEIoCKQMAIQcgAkEQaiQAIAZBEGokACADIAc3AwggASADKQMINwMIIANBEGokACABKQMIIQcgASAFKQMANwMAIAEgByABKQMAfDcDECABQRhqIAFBEGoQigIpAwAhByABQSBqJAAgACAHNwMgIABBOGogAEEgahCKAikDACEIIABBQGskACAICxAAIABBIEYgAEEJa0EFSXILFQAgACABIAIgA0HwAEGTyaQSEKYBC2oBA38jAEEQayICJAAgAC0AMEH/AUcEQCMAQRBrIgEkACABQbDbACkDADcDCCACQQ9qIAAgAUEIakF/IAAtADAiAyADQf8BRhtBAnRqKAIAEQAAIAFBEGokAAsgAEH/AToAMCACQRBqJAALgQIBA38jAEEQayIHJAAgBigCBCEJIAYtAAshCCAAQQA2AgggAEIANwIAIABBE0ESIAEbIAkgCCAIwEEASBtqEGcgAEHrMRD9AiAAIAIQ/QICQCABRQRAIAAgAxCkBiAAIAQQowYgACAFEP0CDAELIAAgBBCjBiAHQQA2AgwgACAHQQxqQQQQdxoLAkAg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QcQAayIBNgIIIAEQhgEaDAELCyAAKAIAIgAEQCAAEAsLCxUAIAAgASACIANBxABBxIePHhCmAQsoACABLQBQRQRAIAFBOGoQciEBCyAAIAEpAwA3AwAgACABKQMINwMIC+MCAgd/AX4jAEEwayIBJAAgAC0AJUUEQCAAQQVqIQMgAUEANgIoIAFCADcDIEIBIAFBIGoQFANAIAAtAAQhAiAAKAI4IAAoAjQiBGtBLG2tIAhYBEACQCACRQ0AIAAoAiwiAkEEay0AAEUNACACQcQAaxCdAiABQSBqIAAoAixBP2tBIBB3GgsgASABKAIgIAFBIGogASwAKyICQQBIIgQbIAEoAiQgAkH/AXEgBButEK8DIAAtACUhByADIAEpABg3ABggAyABKQAQNwAQIAMgASkACDcACCADIAEpAAA3AAAgB0UEQCAAQQE6ACULIAFBIGoQChoFIAinIQUCQCACRQ0AIAVBxABsIgIgACgCKGoiBi0AQEUNACAGEJ0CIAFBIGogACgCKCACakEFakEgEHcaIAAoAjQhBAsgAUEgaiAEIAVBLGxqQQxqQSAQdxogCEIBfCEIDAELCwsgAUEwaiQACw8AIAAgARDUCEEBOgDAAQtRACAAAn8gAS0AhAEEQCABQcQAahCdAiAAIAEpAGE3ABggACABKQBZNwAQIAAgASkAUTcACCAAIAEpAEk3AABBAQwBCyAAQQA6AABBAAs6ACALTAAgAAJ/IAEtAEAEQCABEJ0CIAAgASkABTcAACAAIAEpAB03ABggACABKQAVNwAQIAAgASkADTcACEEBDAELIABBADoAAEEACzoAIAsnAQF/IAAgASgCACABIAEtAAsiAMBBAEgiAhsgASgCBCAAIAIbEHcLwgEBA38gACgCBCICIAAoAghJBEAgAiABKQIANwIAIAIgASgCCDYCCCABQgA3AgAgAUEANgIIIAAgAkEMajYCBA8LIwBBIGsiAyQAIANBDGogACAAKAIEIAAoAgBrQQxtQQFqEOICIAAoAgQgACgCAGtBDG0gAEEIahCqAiICKAIIIgQgASkCADcCACAEIAEoAgg2AgggAUIANwIAIAFBADYCCCACIAIoAghBDGo2AgggACACEJwEIAIQuQMgA0EgaiQAC40CAgN/AX4jAEEwayIBJAAgAEEIaiECAkACQAJAAkACQCAALQAgQQJrDgQAAwECBAsgACgCACICKAIEIAItAAsiAiACwEEASBtFDQMgACAAKQMIENoBDAMLIAFBADYCLCABQgA3AiQgAUEkaiIDIAIQXiABIAEoAiQ2AhggASkCKCEEIAFBADYCLCABIAQ3AhwgAUIANwIkIAAgAUEYaiIAELIDIAAQDxogAxAPGgwCCyAAIAIgACkDEBDJBQwBCyAAQRBqIAIQXiABIAAoAhA2AgwgASAAKAIUNgIQIAEgACgCGDYCFCAAQQA2AhggAEIANwMQIAAgAUEMaiIAELIDIAAQDxoLIAFBMGokAAuTBAIEfwF+IwBBQGoiAiQAIABBCGohAwJAAkACQAJAAkACQAJAIAAtACAOBgAFBAMBAgYLIAIgATcDGCADIAJBGGoQlAQMBQsgASADKQMAUQRAIAJCAjcDICACIAE3AxggAyACQRhqEPYIDAULIAJBADYCPCACQgA3AjQgAkE0aiIFQQIQ4AIgBSADEF4gAiACKQI4NwIkIAIgATcDGCACKAI0IQAgAkEANgI0IAIgADYCICACQgA3AjggAkEYaiEEIwBBEGsiACQAAkAgAy0AGEEDRgRAIAMgBBDtCAwBCyAAIAQ2AgwgACADNgIIIAAoAgwhAyAAKAIIIgQQpQEgBCADEOwIQQM6ABgLIABBEGokACACQSBqEA8aIAUQDxoMBAsgACkDECEGIAEgACkDCFEEQCAAIAZCAXw3AxAMBAsgACADIAYQyQUgAiABNwMYIAMgAkEYahCUBAwDCyABIAApAwhRBEAgAiAAKAIQNgIMIAIgACgCFDYCECACIAAoAhg2AhQgAEEANgIYIABCADcDECAAIAJBDGoiABCyAyAAEA8aIAJCAjcDICACIAE3AxggAyACQRhqEPYIDAMLIABBEGogAxBeIAMgATcDAAwCCyAAIAApAwgQ2gEgAiABNwMYIAMgAkEYahCUBAwBCyAAIAApAwgQ2gEgAiABNwMYIAMgAkEYahCUBAsgAkFAayQAC7gCAQN/IAAgAUcEfyABLQALIgPAIQIgACwAC0EATgRAIAJBAE4EQCAAIAEpAgA3AgAgACABKAIINgIIDwsgASgCACEEIAEoAgQhASMAQRBrIgIkAAJAIAFBCk0EQCAAIAEQeSAAIAQgARCMASACQQA6AA8gACABaiACQQ9qEIMBDAELIABBCiABQQprIAAQtwQiAEEAIAAgASAEEJ4ECyACQRBqJAAPCyABKAIAIAEgAkEASCICGyEEIAEoAgQgAyACGyEBIwBBEGsiAiQAAkAgASAAEIcCIgNJBEAgACgCACEDIAAgARBvIAMgBCABEIwBIAJBADoADyABIANqIAJBD2oQgwEMAQsgACADQQFrIAEgA2tBAWogACgCBCIAQQAgACABIAQQngQLIAJBEGokAEEABSAACxoLMAEBfyAAKAIEIgIgACgCCEcEQCACIAEpAwA3AwAgACACQQhqNgIEDwsgACABEPAFC/4CAgJ/AX4jAEEgayICJAAgAUEIaiEDAkACQANAIAEpAxgiBEIAUg0BIAJBEGogARCpASACLQAYRQRAIABBADoACCAAQQA6AAAgAEEAOgAQDAMLIAIpAxAiBEIAVQRAIAEgBDcDGCACIAEQFiACLQAIBEAgAikDACEEIAFBADoAICABQQE6ABAgASAENwMIDAILIABBADoACCAAQQA6AAAgAEEAOgAQDAMLIARCAFMEQCABQQE6ACAgAUIAIAR9NwMYDAELIAIgARAWIAItAAgEQCABIAIpAwA3AxggAS0AEARAIAFBADoAEAsgAUEAOgAgDAELCyAAQQA6AAggAEEAOgAAIABBADoAEAwBCyABIARCAX03AxggAS0AIARAIAJBEGogARAWIAACfyACLQAYRQRAIABBADoACEEADAELIAAgAikDEDcDCEEBCyIBOgAAIAAgAToAEAwBCyAAQQE6AAAgACADKQMANwMIIAAgAykDCDcDEAsgAkEgaiQACzsBAX8gACAGNgIAAkACQCAAKAIEIgcEQCAHKAIAIAVHDQEgB0EAEOMBCwwBCyAEIAMgAiABEAAACyAACxMAIAFBAXRB8KcCakECIAAQvAoLSgEBfyAAQQA2AgwgACADNgIQIAEEQCABEPwIIQQLIAAgBDYCACAAIAQgAkEMbGoiAjYCCCAAIAQgAUEMbGo2AgwgACACNgIEIAALEwAgABCfBCgCACAAKAIAa0ECdQsHACAAQRBqCw0AIAAoAgAgAUECdGoLFwAgABCLAQRAIAAgARBvDwsgACABEHkLYQEBfyMAQRBrIgIkACACIAA2AgwCQCAAIAFGDQADQCACIAFBAWsiATYCCCAAIAFPDQEgAigCDCACKAIIEMYKIAIgAigCDEEBaiIANgIMIAIoAgghAQwACwALIAJBEGokAAsJACAAQQgQ5QILuAEBBH8jAEEQayIIJAACQCAARQ0AIAQoAgwhBiACIAFrIgdBAEoEQCAAIAEgB0ECdiIHEP0FIAdHDQELIAYgAyABa0ECdSIBa0EAIAEgBkgbIgFBAEoEQCAAIAhBBGogASAFEP4JIgUQISABEP0FIQYgBRBBGiABIAZHDQELIAMgAmsiAUEASgRAIAAgAiABQQJ2IgEQ/QUgAUcNAQsgBCgCDBogBEEANgIMIAAhCQsgCEEQaiQAIAkLSgEBfyAAQQA2AgwgACADNgIQIAEEQCABEKsLIQQLIAAgBDYCACAAIAQgAkEDdGoiAjYCCCAAIAQgAUEDdGo2AgwgACACNgIEIAALDgAgACABKAIANgIAIAALJAAgAEELTwR/IABBEGpBcHEiACAAQQFrIgAgAEELRhsFQQoLCyQBAn8jAEEQayICJAAgACABEIgGIQMgAkEQaiQAIAEgACADGwsIACAAKAIARQuNAQEBfwJAIAAoAgQiASABKAIAQQxrKAIAaigCGEUNACAAKAIEIgEgASgCAEEMaygCAGoQugpFDQAgACgCBCIBIAEoAgBBDGsoAgBqKAIEQYDAAHFFDQAgACgCBCIBIAEoAgBBDGsoAgBqKAIYELkKQX9HDQAgACgCBCIAIAAoAgBBDGsoAgBqQQEQuQILC7MBAQF/IAAgATYCBCAAQQA6AAAgASABKAIAQQxrKAIAahC6CgRAIAEgASgCAEEMaygCAGooAkgiAQRAIwBBEGsiAiQAIAEgASgCAEEMaygCAGooAhgEQCACQQhqIAEQuAIaAkAgAi0ACEUNACABIAEoAgBBDGsoAgBqKAIYELkKQX9HDQAgASABKAIAQQxrKAIAakEBELkCCyACQQhqELcCCyACQRBqJAALIABBAToAAAsgAAsJACAAIAEQ/wgLCAAgAEH/AXELUAEBfgJAIANBwABxBEAgAiADQUBqrYghAUIAIQIMAQsgA0UNACACQcAAIANrrYYgASADrSIEiIQhASACIASIIQILIAAgATcDACAAIAI3AwgL2wECAX8CfkEBIQQCQCAAQgBSIAFC////////////AIMiBUKAgICAgIDA//8AViAFQoCAgICAgMD//wBRGw0AIAJCAFIgA0L/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AghBxABqNgIIIAAgAxCUAyADEJoCIAZBIGokAAsgACgCBBogBCAEKQCYATcDECAEIAQpAKABNwMYIAQgBCkAqAE3AyAgBCAEKQCQATcDCCABIAQtAIwBIAIgBEEIahCaBRogBRCeAwsgBEGwAWoQChogBEHAAWokAAsxAQJ+An9BASAAKQMAIgIgASkDACIDVA0AGkEAIAIgA1YNABogAEEIaiABQQhqEBwLCwwAIAAgARDUAkEBcwsbACAAIAFBgP///wdBBkH///8PQYCAgBAQtgMLFgAgAC0AQARAIAAQngMgAEEAOgBACwvkAQEFf0EBIQQCQCAAIAJGDQACQCABIAAQHARAQQAhBCAAKAJEIAEgAiADENgCDQEMAgsgASAAQQxqEH0EQCABIABBOGoQHEUNAUEAIQQgACgCRCABIAIgAxDYAkUNAiAAKAJIIAEgAiADENgCDQEMAgtBACEEIAAoAkQgASACIAMQ2AJFDQEgAygCACEHIAAoAhghBSAAKAIcIQgjAEEQayIGJAADQCAFIAhHBEAgBkEIaiAHIAUQtwggBUEEaiEFDAELCyAGQRBqJAAgACgCSCABIAIgAxDYAkUNAQtBASEECyAEC4cBACAAIAEQJSIAQQxqIAFBDGoQJRogAEEYaiABQRhqECUaIABBJGogAUEkahAlGiAAQQA6ADwgAEEAOgAwIAEtADwEQCAAIAEpAzA3AzAgACABKAI4NgI4IAFCADcDMCABQQA2AjggAEEBOgA8CyAAQUBrIAFBQGsQJRogACABKQNQNwNQIAALEAAgAC0AwAEEQCAAEPQBCwuNAwEEfyMAQRBrIgMkACABIAAQHCEFIAIgARAcIQQCfwJAIAVFBEBBACAERQ0CGiADIAEoAgg2AgggAyABKQIANwMAIAEgAigCCDYCCCABIAIpAgA3AgAgAiADKAIINgIIIAIgAykDADcCAEEBIAEgABAcRQ0CGiADIAAoAgg2AgggAyAAKQIANwMAIAAgASgCCDYCCCAAIAEpAgA3AgAgASADKAIINgIIIAEgAykDADcCAAwBCyAEBEAgAyAAKAIINgIIIAMgACkCADcDACAAIAIoAgg2AgggACACKQIANwIAIAIgAygCCDYCCCACIAMpAwA3AgBBAQwCCyADIAAoAgg2AgggAyAAKQIANwMAIAAgASgCCDYC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7AEiCigCCCIHIAhBLGxqIQgDQCAHIAhHBEAgB0EAQSwQHUEsaiEHDAELCyAKIAg2AgggBiAKEP4DIAoQ0QILIAxBIGokAAwBCyAHIAlLBEAgBiAIIAlBLGxqEKMFCwsgBUEANgIUIAVCADcCDCAELQAERQ0DIAVBDGogBSgCHCAFKAIYa0EsbUEBahCoByAEQShqIQYDQCAEKAIsIAQoAigiB2tBxABtrSANWARAAkAgBiAJEJYIIAUoAhwgBSgCGGtBLG1BAWogBSgCECAFKAIMa0HEAG1HDQAMBgsFIAVBDGogByANp0HEAGxqENACIA1CAXwhDQwBCwtB9soAQeknQdcCQfXEABAAAAUgBUEYaiAHIAKnQSxsahCnByACQgF8IQIMAQsACwALQbLJAEHpJ0GnAkH1xAAQAAALIAAgC0HEAGwiACABKAIoahCiASEGIAEoAiggAGogASAGQQRqEJcFIAEoAiggAGpBNGogBUEYahCqCCABKAIoIABqQShqIAVBDGoQqwggBUHcAGoiBCABKAIoIABqQgAgAxCMAyAGLQAEBEAgBkEoaiAEENACCyAFQdwAahCGARogBUEMahCvCCAFQRhqELAICyAFQaABaiQAC7oBAgR/BH4gASgCBCABKAIAIgRrQQN1IgIgACgCBCAAKAIAIgVrQQN1IgMgAiADSRutIQdBACEBAkADQCAGIAdSBEACQCAFIAanQQN0IgBqKQMAIgggACAEaikDACIJUQ0AIAggCVQEQEEDIQAgAUEBRg0EQQIhASACIANPDQEMBAtBAyEAIAFBAkYNA0EBIQEgAiADSw0DCyAGQgF8IQYMAQsLQQJBASABIAIgA0kbIAIgA0sbIQALIAALEAAgAC0AkAEEQBASAAsgAAsfACAAKAIEIAAoAghJBEAgACABEMkIDwsgACABEMgICxUAIAAgASACIANBHEHKpJLJABCmAQtAAQF/IAAoAggiAyACIAFraiECA0AgAiADRkUEQCADIAEoAgA2AgAgAUEEaiEBIANBBGohAwwBCwsgACACNgIIC94DAQN/IAAgARBMIABBDGogAUEMahBMIABBGGogAUEYahBMIABBJGogAUEkahDrASAAQTRqIAFBNGoQ6wECQCAAQcQAaiICLQAMIgMgAUHEAGoiBC0ADEYEQCADRQ0BIAIgBBDpBwwBCyADBEAgAhDKCAwBCyACIAQQtAMLIABB1ABqIAFB1ABqEPYCIABB9ABqIAFB9ABqEOsBIAAgASgClAE2ApQBIAAgASkCjAE3AowBIAAgASkChAE3AoQBIABBmAFqIAFBmAFqEEwgAEGkAWogAUGkAWoQTCAAQbABaiICEJcDAkAgAigCFEUEQANAIAIoAggiAyACKAIERwRAIANBBGsoAgAQCyACEOgHDAELCyACQQA2AhAMAQsgAkEAEOcHAkAgAhDlB0EBTQRAIAIQ5QdFDQELIAIoAghBBGsoAgAQCyACEOgHCwsgAhDmByACEKkKIAIQ5gcgAiABKAKwATYCACACIAEoArQBNgIEIAIgASgCuAE2AgggAiABKAK8ATYCDCABQgA3ArgBIAFCADcCsAEgAiABKALAATYCECACIAEoAsQBNgIUIAFCADcCwAEgAEHIAWogAUHIAWoQTCAAIAEpA9gBNwPYASAAQeABaiABQeABahAbC20BA38jAEEQayICJAAgAC0AkAFB/wFHBEAjAEEQayIBJAAgAUHI0wApAwA3AwggAkEPaiAAIAFBCGpBfyAALQCQASIDIANB/wFGG0ECdGooAgARAAAgAUEQaiQACyAAQf8BOgCQASACQRBqJAALbAECfyABIAAoAgQgACgCACABKAIEEIoIIgI2AgQgACgCACEDIAAgAjYCACABIAM2AgQgACgCBCECIAAgASgCCDYCBCABIAI2AgggACgCCCECIAAgASgCDDYCCCABIAI2AgwgASABKAIENgIACxsAIAAgAUHhw4cPQcQAQcOHjx5BxIePHhCUAQvlAwEHfyMAQRBrIgUkAAJAIAAoAgAgACgCBEYNACAFQQhqIAAgARDcAiAFKAIMIQIgBSgCCCEDA0ACQCAAKAIMIAJBA3RqIgYoAgAiBCADRgRAIAEgACgCACAGKAIEQQxsahAjIQggBSgCCCEDIAhFDQEgACgCDCAFKAIMIgJBA3RqKAIAIQQLIAMgBEcNAiACIgFBAWoiA0EAIAMgACICKAIQRxshAyACKAIMIgQgAUEDdGooAgQhBgNAIAQgAyIAQQN0aiIDKAIAIgdBgARPBEAgBCABQQN0aiIBIAMoAgQ2AgQgASAHQYACazYCACAAQQFqIgFBACABIAIoAhBHGyEDIAIoAgwhBCAAIQEMAQsLIAQgAUEDdGpCADcCACACKAIEIgAgAigCACIBa0EMbUEBayAGRwRAIAEgBkEMbGoiASAAQQxrEBsgARA4IAIxAB6IpyEEIAIoAgQgAigCAGtBDG1BAWshACACKAIQIQEgAigCDCEDA0AgAyAEQQN0aiIHKAIEIABHBEAgBEEBaiIEQQAgASAERxshBAwBCwsgByAGNgIECyACEMAFDAILIAUgA0GAAmoiAzYCCCAFIAUoAgxBAWoiAkEAIAIgACgCEEcbIgI2AgwMAAsACyAFQRBqJAAL2wEBA38jAEEQayICJAAgAkEIaiAAEJ0FIAIgABCEBCACKAIMIQEDQAJAIAIoAgQgAUYEQCAAQQA2AhQgACgCBCEBA0AgACgCCCABayIDQQlJDQIgASgCABALIAAgACgCBEEEaiIBNgIEDAALAAsgARB/GiACIAIoAgxBgAFqIgE2AgwgASACKAIIIgMoAgBrQYAgRw0BIAIgA0EEajYCCCACIAMoAgQiATYCDAwBCwtBECEBAkACQAJAIANBAnZBAWsOAgEAAgtBICEBCyAAIAE2AhALIAJBEGokAAunAQEDfyAAQeABahAKGiAAQcgBahAPGiAAQbABaiICEJcDIAIoAgghAyACKAIEIQEDQCABIANHBEAgASgCABALIAFBBGohAQwBCwsgAhCbASAAQaQBahAPGiAAQZgBahAPGiAAQfQAahA/IABB1ABqEDwgAEHEAGoiAS0ADARAIAEQ8gELIABBNGoQPyAAQSRqED8gAEEYahAPGiAAQQxqEA8aIAAQDxoLcQICfwF+IAJBIBCIASIFp0H/AXFBgAJyIQIgBSABMQAeiKchAyABKAIQIQQgASgCDCEBA0AgAiABIANBA3RqKAIAT0UEQCADQQFqIgNBACADIARHGyEDIAJBgAJqIQIMAQsLIAAgAzYCBCAAIAI2AgALiAEAIABBADoARCAAQQA6ADQgAEEAOgBQIABBQGtBADoAACAAQQA6ADAgAEEAQSUQHSIAQdQAahCPARogAEJ/NwOQASAAQQE7AYgBIABBADYChAEgAEEAOgCAASAAQQA6AHQgAEGYAWpBAEE8EB0aIABBADYC6AEgAEIANwPgASAAQgA3A9gBIAALUQECfyAAIAAoAgAiASgCBCICNgIAIAIEQCACIAA2AggLIAEgACgCCDYCCCAAKAII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CwsLZwECfyAAQf8BOgAQIABBADoAACMAQRBrIgIkACAAELkBIAEtABAiA0H/AUcEQCACQeAIKQMANwMIIAJBB2ogACABIAJBCGogA0ECdGooAgARBAAgACABLQAQOgAQCyACQRBqJAAgAAtfAQJ/IwBBEGsiAiQAIAJCACABKAIEIAEoAgBrQQN1rX03AwggACACQQhqENgBIAEoAgQhAyABKAIAIQEDQCABIANGBEAgAkEQaiQABSAAIAEQwgUgAUEIaiEBDAELCwscACAAIAFB4P///wdBBEH///8/QYCAgMAAELYDCw0AIAAgARAlQQE6AAwLCwAgACAAIAEQzwoLMQEBfyABIAVPBEAQAQALIAQgACgCCCAAKAIAayIAIAN1IgYgASABIAZJGyAAIAJPGws/AQJ/IwBBEGsiAiQAIAAtABgiA0H/AUcEQCACQQ9qIAAgA0ECdCABaigCABEAAAsgAEH/AToAGCACQRBqJAALSgECfyMAQRBrIgIkAEEIEBghAyACQQE2AgggAiACQQ9qNgIEIAMgATYCACADIAAoAgQ2AgQgAkEANgIAIAIQkAEgAkEQaiQAIAMLCQAgAEEMEJkECxEAIAAgAUEwajoAACAAQQFqCwsAIAQgAjYCAEEDCw8AIAAgACgCAEEEajYCAAsPACAAIAAoAgBBAWo2AgALHQAgACABQfj///8HQQJB/////wFBgICAgAIQtgMLNwECfyMAQRBrIgMkACADQQxqIgQgARAkIAIgBBDwAiIBEG02AgAgACABEGwgBBAiIANBEGokAAs2AQJ/IwBBEGsiAiQAIAJBDGoiAyAAECQgAxBwQaDxAUG68QEgARDgASADECIgAkEQaiQAIAELNwECfyMAQRBrIgMkACADQQxqIgQgARAkIAIgBBDyAiIBEG06AAAgACABEGwgBBAiIANBEGokAAsHACAAQQtJCxcAIAAgAzYCECAAIAI2AgwgACABNgIICxoAIAAgASABKAIAQQxrKAIAaigCGDYCACAACwsAIABB7LMCEOEBC4UCAgd/An4jAEEwayIAJABBASAAQRhqEMIKBEBB0K0CKAIAENsFAAsgAEEIaiAAQRhqEIoCIQQgACAAQSBqEMEKIQUjAEEgayIBJAAjAEEQayIDJAAjAEEQayIGJAAjAEEQayICJAAgAiAEKQMAQoCU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KAIINgIIIAVCADcCACAFQQA2AgggAyAEKQMANwMQIAMgBCgCEDYCICADIAQpAwg3AxggBEEANgIQIARCADcDCCABIANBKGo2AgQMAQsjAEEgayIKJAAgCkEMaiABIAEoAgQgASgCAGtBKG1BAWoQowEgASgCBCABKAIAa0EobSABQQhqEIcBIQMgBigCCCEEIAMoAggiBSAGKAIMIgkpAgA3AgAgBSAJKAIINgIIIAlCADcCACAJQQA2AgggBSAEKQMANwMQIAUgBCgCEDYCICAFIAQpAwg3AxggBEEANgIQIARCADcDCCADIAMoAghBKGo2AgggASADEPABIAMQ7wEgCkEgaiQAIAEoAgQaCyABKAIEIAEoAgBrQShtIgRBAWshAwJAIAEoAhQgBEkEQCABEKIDDAELIAIgAzYCDCACIAc2AgggAiACKQIINwMAIAEgAiAIEDELIAEoAgAhASAAQQE6AAQgACABIANBKGxqNgIAIAJBEGokAAsgBkEQaiQADwsgCEEBaiIEQQAgBCABKAIQRxshCCAHQYACaiEHDAALAAtCAQF/IwBBEGsiAiQAIABCADcCACAAQT46AB4gAEHNmbP6AzYCGCAAQgA3AhAgAEIANwIIIAAgARD2AiACQRBqJAALFQAgACABQQdBH0H8////AUEDEJsJCy4BAX8gACAAKAIAIgIgASACa0HIAG1ByABsaiIBQcgAaiAAKAIEIAEQzgUQlgQLGAAgACABKQMANwMAIABBCGogAUEIahAbCzcBAn4gACgCACEAA34gASACUQR+IAMFIAMgACACp0HIAGxqKQM4fEIBfCEDIAJCAXwhAgwBCwsLLgEBfyABKAIAIgIgASgCBDYCBCABKAIEIAI2AgAgACAAKAIIQQFrNgIIIAEQCwuBAQECfyAAKAIEIAAoAghJBEAgACABEJcKDwsjAEEgayIDJAAgA0EMaiAAIAAoAgQgACgCAGtB8ABtQQFqEI8EIAAoAgQgACgCAGtB8ABtIABBCGoQjQIiAigCCCABEDIaIAIgAigCCEHwAGo2AgggACACEOQKIAIQ9QIgA0EgaiQACxYAIAAtAAwEQCAAEA8aIABBADoADAsLNwEBfyMAQRBrIgEkACABIAA2AgwgASgCDCIAKAIABEAgABCuBSABKAIMKAIAEAsLIAFBEGokAAtCAQF/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IAcgBhCMAQsgAyAEIAVqIgprIQcgAyAKRwRAIAIgBGogBmogBCAJaiAFaiAHEIwBCyABQQFqIgFBC0cEQCAAIAkgARCzBAsgACACEIoBIAAgCCgCCBCJASAAIAQgBmogB2oiABBvIAhBADoADCAAIAJqIAhBDGoQgwEgCEEQaiQADwsQbgALBwAgAEEIagsVACAAIAEgAiADQcgAQeTxuBwQpgELCQAgACABEMYJCwcAIABBAkkLBABBBAsqAQF/IAAoAgQhAgNAIAEgAkZFBEAgAkHwAGsQQiECDAELCyAAIAE2AgQLHQAgAEEEahDbCUF/RgRAIAAgACgCACgCCBEBAAsLEQAgACABIAEoAgAoAigRAAALFAECfyAAKAIAIQIgAEEANgIAIAILCABB/////wcLBQBB/wALYQEBfyMAQRBrIgIkACACIAA2AgwCQCAAIAFGDQADQCACIAFBBGsiATYCCCAAIAFPDQEgAigCDCACKAIIELkEIAIgAigCDEEEaiIANgIMIAIoAgghAQwACwALIAJBEGokAAubAQEFfyMAQRBrIgQkACMAQRBrIgMkACAAIQUgAiEGA0AgASAFRwRAIAYgBRCSASAGQfAAaiEGIAVB8ABqIQUMAQsLIAMgBjYCDCADIAE2AgggAygCCCEBIAQgAiADKAIMIAJrQfAAbUHwAGxqNgIMIAQgACABIABrQfAAbUHwAGxqNgIIIANBEGokACAEKAIMIQcgBEEQaiQAIAcL0AEBAn8gAkGAEHEEQCAAQSs6AAAgAEEBaiEACyACQYAIcQRAIABBIzoAACAAQQFqIQALIAJBhAJxIgNBhAJHBEAgAEGu1AA7AAAgAEECaiEACyACQYCAAXEhAgNAIAEtAAAiBARAIAAgBDoAACAAQQFqIQAgAUEBaiEBDAELCyAAAn8CQCADQYACRwRAIANBBEcNAUHGAEHmACACGwwCC0HFAEHlACACGwwBC0HBAEHhACACGyADQYQCRg0AGkHHAEHnACACGws6AAAgA0GEAkcLqgEBAX8CQCADQYAQcUUNACACRSADQcoAcSIEQQhGIARBwABGcnINACAAQSs6AAAgAEEBaiEACyADQYAEcQRAIABBIzoAACAAQQFqIQALA0AgAS0AACIEBEAgACAEOgAAIABBAWohACABQQFqIQEMAQsLIAACf0Hv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BCIDRQ0AIAgoAhwiBARAIAMgBCgCBEYNAQsgAigCCCADIAIoAgQRAAALAkAgACAGSQRAIAEgAigCCCAGIABrIgQgAigCABEDACICNgIEIAJFDQMgAiAAIAVqIAQQHxoMAQsgAUEANgIEIAYgAGshBAsgASAENgIADAMLIARBAkcNACAIKAIcIQlBASEEIAgoAhggAiAGIAAtAAUiAGsgACAFahCuASEAAkAgA0UNACABKAIAIgdFIAcgCUZyDQACQCAARQRADAELIAcgACACEOYKQQBHIQQgASgCACEHCyAHIAIQ4wELIAEgADYCACAAQQBHIARxIQcLIAcPCyABIAYgBRD6AjYCAAtBAQvBAQECfyAApyECIABCIIinIgNFBEAgAiABEMsBDwsgASACQYABcjoAACABIAJBFXZBgAFyOgADIAEgAkEOdkGAAXI6AAIgASACQQd2QYABcjoAASADQQR0IAJBHHZyIQIgA0EHTQRAIAEgAjoABEEFDwsgASACQYABcjoABCADQQN2IQJBBSEDA0AgAkGAAUlFBEAgASADaiACQYABcjoAACACQQd2IQIgA0EBaiEDDAELCyABIANqIAI6AAAgA0EBagtSAQF/IABCIIinIgFFBEAgAKcQngEPCwJ/QQUgAUEISQ0AGkEGIAFBgAhJDQAaQQcgAUGAgAhJDQAaQQggAUGAgIAISQ0AGkEJQQogAEIAWRsLCw0AIABB6I4BQSgQHxoLIwAgACABKAIANgIAIABBBGogAUEEahAQGiAAIAEoAhA2AhALHwAgACABEBAiAEEMaiABQQxqEBAaIAAgASkCGDcCGAsMACAAIAFB+AgQkgkLEgAgAC0AKARAIABBCGoQhQELC28CAn8BfiACELEBIgWnQf8BcUGAAnIhAiAFIAExAB6IpyEDIAEoAhAhBCABKAIMIQEDQCACIAEgA0EDdGooAgBPRQRAIANBAWoiA0EAIAMgBEcbIQMgAkGAAmohAgwBCwsgACADNgIEIAAgAjYCAAuHBgEIfyMAQcABayIDJAAgACgCACEEIANCADcDiAEgA0IANwOAASADQgA3A3ggA0GQAWoQvwEgA0IANwO4ASADQgA3A7ABIwBBIGsiBSQAIANBhAFqIgYiAigCCCACKAIAIghrQfAAbUEPSQRAIAIgBUEMakEPIAIoAgQgCGtB8ABtIAJBCGoQjQIiAhDkCiACEPUCCyAFQSBqJAAgBCABpyIIQcgAbGoiAiEJIAJBDGohBSACKAIMQYAOaiECA0AgCSgCECACRgRAAkAgBSgCACIHIAUoAgBBgA5qIgYgB2tB8ABtQfAAbGohByACIAZHBEAgBSAHIAIgBmtB8ABtQfAAbGogBSgCBCAHEKsEEKQECyAEIAhByABsaiIEKAIAIAQoAgRGDQAjAEEgayIGJAAgA0H4AGoiAigCCCACKAIAIgdrQcgAbUEQSQRAIAIgBkEMakEQIAIoAgQgB2tByABtIAJBCGoQoAQiAhCWCSACEJcECyAGQSBqJAAgBCgCAEGACWohAgNAIAQoAgQgAkYEQCAEKAIAIgcgBCgCAEGACWoiBiAHa0HIAG1ByABsaiEHIAIgBkcEQCAEIAcgAiAGa0HIAG1ByABsaiAEKAIEIAcQzgUQlgQLBSADQfgAaiACEKwDIAJByABqIQIMAQsLCwUgBiACEIkEIAJB8ABqIQIMAQsLIANBCGogCSgCEEHwAGsQMiEGIAUQ3gcgBCAJKAIQIAUoAgBrQfAAba0iATcDOCAEKAIEIQUgBCgCACECA0AgAiAFRgRAAkAgAyADKAKIASADKAKEAWtB8ABtrSIBNwOwASADKAJ8IQUgAygCeCECA0AgAiAFRg0BIAMgASACKQM4fCIBNwOwASACQcgAaiECDAALAAsFIAQgASACKQM4fCIBNwM4IAJByABqIQIMAQsLIAQQxgIgA0H4AGoiAhDGAiAAIAAoAgAgCEHIAGxqQcgAaiACEIAHIABBDGogACgCDCAIQfAAbGogBhDUBCAGEEIaIAIQZBogA0HAAWokAAvxAQAgACABLwEAOwEAIAAgASgCDDYCDCAAIAEpAgQ3AgQgAUEANgIMIAFCADcCBCAAQRBqIAFBEGoQPRogACABKQMoNwMoIAAgASgCODYCOCAAIAEpAzA3AzAgAUEANgI4IAFCADcDMCAAIAEoAkQ2AkQgACABKQI8NwI8IAFCADcCPCABQQA2AkQgACABKAJQNgJQIAAgASkDSDcDSCABQgA3A0ggAUEANgJQIAAgASgCXDYCXCAAIAEpAlQ3AlQgAUEANgJcIAFCADcCVCAAIAEoAmg2AmggACABKQNgNwNgIAFCADcDYCABQQA2AmggAAsbAQF/IAAgARCfBSECIAFBKGoQERogARALIAILmwEBA38gASgCBCECIAAoAgAhBCAAKAIEIQMDQCADIARGRQRAIAJBEGsiAiADQRBrIgMpAwA3AwAgAiADKQMINwMIDAELCyABIAI2AgQgACgCACEDIAAgAjYCACABIAM2AgQgACgCBCECIAAgASgCCDYCBCABIAI2AgggACgCCCECIAAgASgCDDYCCCABIAI2AgwgASABKAIENgIAC6oGAwx/AX4BfCMAQaABayIGJAAgBkEYahAVIQUCQAJAAkACQCABLQAYDgICAAELIAVB0dIAEA0hDCAGQQxqIgMgAkEgEJ0EIAwgAxATGiACQQRqIQggAxAKGiABKAIAIgMoAgQhCSADKAIAIQMDQCADIAlGBEAgBUGgCRANGgwECyAFQaDLABANIAMQE0GkywAQDUGw0gAQDSENIAZBDGoiBCADQRBqIAgQzQQgDSAEEBMaIAQQChogD0IBfCIPIAEoAgAiBCgCBCAEKAIAa0Ewba1SBEAgBUGuygAQDRoLIAVB0tIAEA0hDiAGQQxqIgQgAkEgEJ0EIA4gBBATGiADQTBqIQMgBBAKGgwACwALIAEtABhBAkcEQBASAAsgBUHcwwAQDRogASgCACIBKAIEIQQgASgCACEDQQEhAQNAIAMgBEYEQCAFQdnDABANGgwDCyABRQRAIAVBztIAEA0aCyAGQQxqIgEgAyACEM0EIAUgARATGiADQSBqIQMgARAKGkEAIQEMAAsACyAGQQxqIQMjAEGQAWsiCCQAIAhBCGoQFSECAkACQAJAAkACQAJAAkACQEF/IAEtABAiBCAEQf8BRhsOBwABAgMEBQYHCyACIAEQ6AEpAwAQyQEaDAYLIAIgARByKQMAEHoaDAULIAEQrgYrAwAhECMAQRBrIgEkACABQQhqIAIQuAIaAkAgAS0ACEUNACABQQRqIgQgAiACKAIAQQxrKAIAahAkIAQQxQMhCSAEECIgASACEMQDIQcgAiACKAIAQQxrKAIAaiIKEOMCIQsgASAJIAcoAgAgCiALIBAgCSgCACgCIBEgADYCBCAEELYCRQ0AIAIgAigCAEEMaygCAGpBBRC5AgsgAUEIahC3AiABQRBqJAAMBAsgAkHKM0HFNyABEK0GLQAAGxANGgwDCyACQaTLABANIAEQrAYQE0GkywAQDRoMAgsgAiABEOkBKQMIEMkBGgwBCyACQbQrEA0aCyADIAJBBGoQ9AIgAhDdARogCEGQAWokACAFIAMQExogAxAKGgsgACAFQQRqEPQCIAUQ3QEaIAZBoAFqJAALMQEDfyAAKAIIIQEDQCABBEAgASgCACEDIAFBCGoQvwYgARALIAMhAQwBCwsgABDQAwsnACABBEAgACABKAIAEM8EIAAgASgCBBDPBCABQRBqEJYFIAEQCwsLJQAgACABRwRAIAAgASgCRBDQBCAAIAEoAkgQ0AQgARDqAxALCwuRBQELfyAAKAIAIQIjAEEQayIKJAAgCiAANgIMIApBDGohASMAQRBrIgYkAAJAIAJB2AJqIgMoAgAgAygCBEYNACAGQQhqIAMgARC4CCADKAIQIQUgASgCACEEIAMoAgAhByADKAIMIQggBigCDCECIAYoAgghAQNAIAEgCCACQQN0aiIJKAIARw0BIAcgCSgCBEECdGooAgAgBEcEQCAGIAFBgAJqIgE2AgggBiACQQFqIgJBACACIAVHGyICNgIMDAELCyMAQRBrIgckACACQQFqIgFBACABIAMoAhBHGyEFIAMoAgwiBCACQQN0aigCBCEIA0AgBCAFIgFBA3RqIgUoAgAiCUGABE8EQCAEIAJBA3RqIgIgBSgCBDYCBCACIAlBgAJrNgIAIAFBAWoiAkEAIAIgAygCEEcbIQUgAygCDCEEIAEhAgwBCwsgBCACQQN0akIANwIAIAMoAgQiAiADKAIAIgFrQQJ1QQFrIAhHBEAgASAIQQJ0aiACQQRrKAIAIgE2AgAgByABrUIAQpX4qfqXt96bnn9CABAvIAMoAgQiAiADKAIAa0ECdUEBayEBIAcpAwggBykDAIUgAzEAHoinIQQgAygCECEFIAMoAgwhCQNAIAkgBEEDdGoiCygCBCABRwRAIARBAWoiBEEAIAQgBUcbIQQMAQsLIAsgCDYCBAsgAyACQQRrNgIEIAdBEGokAAsgBkEQaiQAIApBEGokACAAQcADahBAIABBlANqIgIoAgwiAQRAIAEQCwsjAEEQayIBJAAgASACNgIMIAEoAgwiAigCAARAIAIQxAYgASgCDCgCABALCyABQRBqJAAgAEHwAmoiAS0AIARAIAEQ4QILIABBqAFqENoCC4QFAQN/IAAgASkCADcCACAAIAEoAgg2AgggAUIANwIAIAFBADYCCCAAQRBqIgFBADoARCABQQA6AEAgAUEAOgAAIAFBADoAhAEgAUGIAWoQZhojAEEQayIDJAAgAUGoAWoiAkIANwIAIAJBPjoAHiACQc2Zs/oDNgIYIAJCADcCECACQgA3AgggAhAwIAIoAgwiBARAIARBACACKAIQQQN0EB0aCyADQRBqJAAgASABQcwBajYCyAEgAUIANwLMASABQdgBakEAQS0QHRogAEEANgLQAiAAQQA2ArgCIABBADoApAIgACAAQZwCajYCmAIgAEIANwKcAiAAQdgCahBmGiAAQQA2AoADIAAgAEH4AmoiATYC/AIgACABNgL4AiMAQRBrIgIkACAAQYQDaiIBQgA3AgAgAUE+OgAeIAFBzZmz+gM2AhggAUIANwIQIAFCADcCCCABEDAgASgCDCIDBEAgA0EAIAEoAhBBA3QQHRoLIAJBEGokACAAQgA3ALUDIABCADcDsAMgAEIANwOoAyAAQcADaiIBQgA3AgAgAUIANwIQIAFCADcCCCMAQRBrIgMkACABQRhqIgJCADcCACACQT46AB4gAkHNmbP6AzYCGCACQgA3AhAgAkIANwIIIAIQMCACKAIMIgQEQCAEQQAgAigCEEEDdBAdGgsgA0EQaiQAIAFBADYCUCABQgA3AkggAUFAa0IANwIAIAFCADcCOCABQQA2AlggASABNgJUIABBnARqIgFCADcCACABQgA3AhAgAUIANwIIIAFBGGoQZhogAUEANgJQIAFCADcCSCABQUBrQgA3AgAgAUIANwI4IAFBADYCWCABIAE2AlQgAAswAQF/IAAoAgAhASAAQQA2AgAgAQRAIAAtAAgEQCABQQhqEL8GCyABBEAgARALCwsLwgMBBn8jAEEgayIHJAAgACgCACIDIAEgA2tB8ABtQfAAbGohBQJAIAAoAgQiASAAKAIISQRAIAEgBUYEQCAAIAIQlwoMAgsgACAFIAEgBUHwAGoQ4wggBSACEJIBDAELIAdBDGogACABIANrQfAAbUEBahCPBCAFIAAoAgBrQfAAbSAAQQhqEI0CIQEjAEEgayIIJAACQCABKAIIIgMgASgCDEcNACABKAIEIgQgASgCACIGSwRAIAEgBCADIAQgBCAGa0HwAG1BAWpBfm1B8ABsIgZqEKsEIgM2AgggASABKAIE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AWoPCyABIAIQVSABIAAQKUUEQCAEQQJqDwsgACABEFUgBEEDagUgBAsLOgEBfyAAKAIEIgIgACgCCEcEQCACIAEpAwA3AwAgAiABKQMINwMIIAAgAkEQajYCBA8LIAAgARDxBAuKDQEGfwNAIAFBIGshCQNAIAAhBANAAkACQAJAAkACQAJAAkACQCABIARrIgZBBXUiAA4GBwcABAECAwsgAUEgayIAIAQQKUUNBiAEIAAQVQ8LIAQgBEEgaiAEQUBrIAFBIGsQ/gQaDwsgBCAEQSBqIARBQGsgBEHgAGogAUEgaxD9BBoPCyAGQd8HTARAIAEhBiMAQSBrIgUkACAEIARBIGogBEFAayICEMUCGiAEQeAAaiEAA0AgBiAAIgFHBEAgACACECkEQCAFIAApABg3AxggBSAAKQAQNwMQIAUgACkACDcDCCAFIAApAAA3AwAgACEDA0ACQCADIAIiACkAADcAACADIAApABg3ABggAyAAKQAQNwAQIAMgACkACDcACCAAIARGBEAgBCEADAELIAAhAyAFIABBIGsiAhApDQELCyAAIAUpAwA3AAAgACAFKQMYNwAYIAAgBSkDEDcAECAAIAUpAwg3AAgLIAFBIGohACABIQIMAQsLIAVBIGokAA8LIANFBEAgASAERyIABH8gAARAAkAgASAEayIAQSFIDQAgAEEFdSICQQJrQQF2IQADQCAAQQBIDQEgBCACIAQgAEEFdGoQrgcgAEEBayEADAALAAsgASAEa0EFdSECIAEhAANAIAAgAUcEQCAAIAQQKQRAIAAgBBBVIAQgAiAEEK4HCyAAQSBqIQAMAQsLIAEgBGtBBXUhAANAIABBAUoEQCABIQNBACEGIwBBIGsiByQAAkAgACICQQJJDQAgByAEKQAYNwMYIAcgBCkAEDcDECAHIAQpAAg3AwggByAEKQAANwMAIAQhACACQQJrQQF2IQgDQCAGQQF0IglBAXIhASAGQQV0IABqQSBqIQUgAiAJQQJqIglMBH8gAQUgBUEgaiIGIAUgBSAGECkiBhshBSAJIAEgBhsLIQYgACAFKQAANwAAIAAgBSkAGDcAGCAAIAUpABA3ABAgACAFKQAINwAIIAUhACAGIAhMDQALIANBIGsiASAARgRAIAAgBykDADcAACAAIAcpAxg3ABggACAHKQMQNwAQIAAg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KAIAIAFGQQJ0aigCACEBDAALAAsgBEEBOgAMCwsgBgskACAAIAFBJhAfIgBBKGogAUEoahCrCCAAQTRqIAFBNGoQqggLKwEBfyAAKAIEIQIDQCABIAJGRQRAIAJBxABrEIYBIQIMAQsLIAAgATYCBAswACAAIAEQGyAAIAEpAiQ3AiQgACABKQIcNwIcIAAgASkCFDcCFCAAIAEpAgw3AgwLCwAgACABQSwQmAQLEwAgACABEIYEIAAgAS0AGDoAGAsUACAAQcQAaiIAELIIIAAgARCgAwslACAAKAIQIgBFBEAQEgALIAAgASACIAMgBCAAKAIAKAIYEQoAC5EBAQN/IAEoAgQhAiAAKAIAIQQgACgCBCEDA0AgAyAERkUEQCACQQhrIgIgA0EIayIDKQIANwIADAELCyABIAI2AgQgACgCACEDIAAgAjYCACABIAM2AgQgACgCBCECIAAgASgCCDYCBCABIAI2AgggACgCCCECIAAgASgCDDYCCCABIAI2AgwgASABKAIENgIACxsBAX8gACgCACECIAAgATYCACACBEAgAhALCwsPACAAIAAoAgRBKGsQzggLCwAgACABEFdBAXMLCQAgAEEoEJoEC2EBAn8jAEEgayICJAACQCABIAAoAgggACgCACIDa0EobUsEQCABQefMmTNPDQEgACACQQxqIAEgACgCBCADa0EobSAAQQhqEIcBIgAQ8AEgABDvAQsgAkEgaiQADwsQAQALIwAgACABKQIANwIAIAAgASgCCDYCCCAAQQxqIAFBDGoQJRoLDAAgACAAKAIAEM4IC/EBAgF/AX0CQCAAIAFGDQAgABBNIAAoAgAEQCAAEK4FIAAoAgAQCyAAQQA2AgggAEIANwIACyAAIAEoAgA2AgAgACABKAIENgIEIAAgASgCCDYCCCABQQA2AgggAUIANwIAIAEQrgUgASgCDCECIAFBADYCDCAAIAI2AgwgASgCECECIAFBADYCECAAIAI2AhAgASgCFCECIAFBADYCFCAAIAI2AhQgAS0AHiECIAFBPjoAHiAAIAI6AB4gASoCGCEDIAFBzZmz+gM2AhggACADOAIYIAEQMCABKAIMIgBFDQAgAEEAIAEoAhBBA3QQHRoLC2wCA38CfiABEDghBiABIAAoAgBrQTBtIQIgBiAAMQAeiKchASAAKAIQIQMgACgCDCEEA0AgBCABQQN0aigCBCACRkUEQCABQQFqIgFBACABIANHGyEBDAELCyAAIAEQ+AsgACgCACACQTBsagvMAwIEfwF+IwBBIGsiBCQAIAQgAjYCGCAEIAE2AhwgAEH4AmohAQJAIABBhANqIgUgBEEcahChAyICIAAoAogDRwRAIAEgAigCBEEIahC7CCAAIAApA6gDQgF8Igg3A6gDIAAoAvwCIAg3AxAgASACKAIEEIgEIAIgACgC/AI2AgQMAQsgACAAKQOoA0IBfDcDqAMgASAEQRhqIARBHGoiASAAQagDahC6CCAEIAAoAvwCNgIUIARBDGogBSABIARBFGoQuQgLIAMoAgQhBiADKAIAIQADQCAAIAZGBEAgBEEgaiQABSAAKAIAIQEgBCgCHCEDIAQoAhghBSMAQSBrIgIkACACIAU2AhggAiADNgIcIAFBjANqIQMCQCABQZgDaiIHIAJBHGoQoQMiBSABKAKcA0cEQCADIAUoAgRBCGoQuwggASABKQO4A0IBfCIINwO4AyABKAKQAyAINwMQIAMgBSgCBBCIBCAFIAEoApADNgIEDAELIAEgASkDuANCAXw3A7gDIAMgAkEYaiACQRxqIgMgAUG4A2oQugggAiABKAKQAzYCFCACQQxqIAcgAyACQRRqELkICyACQSBqJAAgAEEEaiEADAELCwsWACAALQAgBEAgABDhAiAAQQA6ACALCyUBAX8jAEEQayICJAAgAiABNgIMIAAgAkEMahCoAyACQRBqJAALGwAgACABEGoiASAAKAIERgRAEBIACyABQRBqC4sBAQJ/IwBBMGsiAiQAIABBJGoQ3gggAEE0ahDeCCAAQcQAaiIBIgAQygggAEEBOgAMIABBADYCCCAAQgA3AgAgAkEMaiIAQQBBJBAdGiACQRhqQgAQ3QgCQCABKAIEIAEoAghJBEAgASAAEMkIDAELIAEgABDICAsgASgCBBogABC9ARogAkEwaiQAC+QBAQN/IAAoAgQhAiAAKAIAIQQgASgCBCEDA0AgAiAERwRAIANBgAFrIgMgAkGAAWsiAikDADcDACADIAIoAgg2AgggAkEANgIIIAJCADcDACADIAIpAxA3AxAgAyACKAIgNgIgIAMgAikDGDcDGCACQQA2AiAgAkIANwMYIANBKGogAkEoahDZAhoMAQsLIAEgAzYCBCAAKAIAIQQgACADNgIAIAEgBDYCBCAAKAIEIQQgACABKAIINgIEIAEgBDYCCCAAKAIIIQQgACABKAIMNgIIIAEgBDYCDCABIAEoAgQ2AgALIwAgAEEAOgDAASAAQQA6AAAgAS0AwAEEQCAAIAEQngILIAALUAAgACgCAARAIAAQgQkgACgCABALIABBADYCCCAAQgA3AgALIAAgASgCADYCACAAIAEoAgQ2AgQgACABKAIINgIIIAFBADYCCCABQgA3AgALEgAgACABEBsgACABKQMQNwMQCwkAIABBGBCZBAuyAQEDfyAAKAIEIQIgACgCACEEIAEoAgQhAwNAIAIgBEcEQCADQRhrIgMgAkEYayICKQMANwMAIAMgAigCCDYCCCACQgA3AwAgAkEANgIIIAMgAikDEDcDEAwBCwsgASADNgIEIAAoAgAhAiAAIAM2AgAgASACNgIEIAAoAgQhAiAAIAEoAgg2AgQgASACNgIIIAAoAgghAiAAIAEoAgw2AgggASACNgIMIAEgASgCBDYCAAsRACAAIAEQECIAQgA3AxAgAAvfAgECfyMAQRBrIgUkACAAIAEgAiADEL4FIQYCQCAEIAMQHEUNACAFIAMoAgg2AgggBSADKQIANwMAIAMgBCgCCDYCCCADIAQpAgA3AgAgBCAFKAIINgIIIAQgBSkDADcCACADIAIQHEUEQCAGQQFqIQYMAQsgBSACKAIINgIIIAUgAikCADcDACACIAMoAgg2AgggAiADKQIANwIAIAMgBSgCCDYCCCADIAUpAwA3AgAgAiABEBxFBEAgBkECaiEGDAELIAUgASgCCDYCCCAFIAEpAgA3AwAgASACKAIINgIIIAEgAikCADcCACACIAUoAgg2AgggAiAFKQMANwIAIAEgABAcRQRAIAZBA2ohBgwBCyAFIAAoAgg2AgggBSAAKQIANwMAIAAgASgCCDYCCCAAIAEpAgA3AgAgASAFKAIINgIIIAEgBSkDADcCACAGQQRqIQYLIAVBEGokACAGC44CAQJ/IwBBEGsiBCQAIAAgASACENsCIQUCQCADIAIQHEUNACAEIAIoAgg2AgggBCACKQIANwMAIAIgAygCCDYCCCACIAMpAgA3AgAgAyAEKAIINgIIIAMgBCkDADcCACACIAEQHEUEQCAFQQFqIQUMAQsgBCABKAIINgIIIAQgASkCADcDACABIAIoAgg2AgggASACKQIANwIAIAIgBCgCCDYCCCACIAQpAwA3AgAgASAAEBxFBEAgBUECaiEFDAELIAQgACgCCDYCCCAEIAApAgA3AwAgACABKAIINgIIIAAgASkCADcCACABIAQoAgg2AgggASAEKQMANwIAIAVBA2ohBQsgBEEQaiQAIAULkA4BCH8jAEEQayIHJAADQCABQQxrIQkDQCAAIQQDQAJAAkACQAJAAkACQAJAAkAgASAEayIFQQxtIgAOBgcHAAQBAgMLIAFBDGsiACAEEBxFDQYgByAEKAIINgIIIAcgBCkCADcDACAEIAAoAgg2AgggBCAAKQIANwIAIAAgBygCCDYCCCAAIAcpAwA3AgAMBgsgBCAEQQxqIARBGGogAUEMaxC+BRoMBQsgBCAEQQxqIARBGGogBEEkaiABQQxrEL0FGgwECyAFQdMATARAIAEhAyMAQRBrIgUkACAEIARBDGogBEEYaiIBENsCGiAEQSRqIQADQCADIAAiAkcEQCAAIAEQHARAIAUgACgCCDYCCCAFIAApAgA3AwAgAEIANwIAIABBADYCCANAAkAgACABIgAQGyAAIARGBEAgBCEADAELIAUgAEEMayIBEBwNAQsLIAAgBRAbIAUQChoLIAJBDGohACACIQEMAQsLIAVBEGokAAwECyADRQRAIAEgBEcEfyMAQRBrIggkACABIgAgBEcEQCAAIARrIgFBDG0hAgJAIAFBDUgNACACQQJrQQF2IQEDQCABQQBIDQEgBCACIAQgAUEMbGoQ6gggAUEBayEBDAALAAsgACAEa0EMbSECIAAhAQNAIAAgAUcEQCABIAQQHARAIAggASgCCDYCCCAIIAEpAgA3AwAgASAEKAIINgIIIAEgBCkCADcCACAEIAgoAgg2AgggBCAIKQMANwIAIAQgAiAEEOoICyABQQxqIQEMAQsLIAAgBGtBDG0hAQNAIAFBAUoEQCAAIQJBACEFIwBBEGsiCyQAIAFBAk8EQCALIAQoAgg2AgggCyAEKQIANwMAIARCADcCACAEQQA2AgggBCEAIAFBAmtBAXYhCgNAIAVBAXQiCUEBciEDIAVBDGwgAGpBDGohBiABIAlBAmoiCUwEfyADBSAGQQxqIgUgBiAGIAUQHCIFGyEGIAkgAyAF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BQsdACAAIAFBkM4AbiIAEKkCIAEgAEGQzgBsaxDeBQsbACAAIAFB5ABuIgAQqQIgASAAQeQAbGsQqQILsQEBA38jAEEQayICJAAgAiABNgIMAkACQAJ/IAAQiwEiBEUEQEEBIQEgABC3BAwBCyAAEIcCQQFrIQEgACgCBAsiAyABRgRAIAAgAUEBIAEgARCxCSAAECEaDAELIAAQIRogBA0AIAAiASADQQFqEHkMAQsgACgCACEBIAAgA0EBahBvCyABIANBAnRqIgAgAkEMahCAASACQQA2AgggAEEEaiACQQhqEIABIAJBEGokAAvPAQEDfyMAQRBrIgUkACACQe////8HIAFrTQRAIAAQISEGIAVBBGoiByAAIAFB5////wNJBH8gBSABQQF0NgIMIAUgASACajYCBCAHIAVBDGoQtQIoAgAQtAJBAWoFQe////8HCxCGAiAFKAIEIQIgBSgCCBogBARAIAIgBiAEEIwBCyADIARHBEAgAiAEaiAEIAZqIAMgBGsQjAELIAFBAWoiAUELRwRAIAAgBiABELMECyAAIAIQigEgACAFKAIIEIkBIAVBEGokAA8LEG4ACw0AIAAgASACQn8Q2woLBwAgAEEMagsrAQJ/IAAoAgAhASMAQRBrIgAkACAAIAE2AgwgACgCDCECIABBEGokACACCxcAIAAoAggQM0cEQCAAKAIIEJUKCyAACwkAIABBIBDlAgs6AQJ/IwBBEGsiAyQAIAMgAjYCDCADQQhqIANBDGoQqwEhBCAAIAEQiwYhACAEEKoBIANBEGokACAACw8AIAAgACgCBEEBajYCBAs3AQJ/IwBBEGsiAiQAIAIgACgCADYCDCACIAIoAgwgAUECdGo2AgwgAigCDCEDIAJBEGokACADCxsBAX9BASEBIAAQiwEEfyAAEIcCQQFrBUEBCws0AQJ/IwBBEGsiAiQAIAIgACgCADYCDCACIAIoAgwgAWo2AgwgAigCDCEDIAJBEGokACADC5EBAQN/IAEoAgQhAiAAKAIAIQQgACgCBCEDA0AgAyAERkUEQCACQQhrIgIgA0EIayIDKQMANwMADAELCyABIAI2AgQgACgCACEDIAAgAjYCACABIAM2AgQgACgCBCECIAAgASgCCDYCBCABIAI2AgggACgCCCECIAAgASgCDDYCCCABIAI2AgwgASABKAIENgIACykBA38jAEEQayIBJAAgAUEMaiICIAA2AgAgAigCACEDIAFBEGokACADCzEAIAIoAgAhAgNAAkAgACABRwR/IAAoAgAgAkcNASAABSABCw8LIABBBGohAAwACwAL9QMBAX8jAEEQayIMJAAgDCAANgIMAkACQCAAIAVGBEAgAS0AAEUNAUEAIQAgAUEAOgAAIAQgBCgCACIBQQFqNgIAIAFBLjoAACAHEAxFDQIgCSgCACIBIAhrQZ8BSg0CIAooAgAhAiAJIAFBBGo2AgAgASACNgIADAILAkAgACAGRw0AIAcQDEUNACABLQAARQ0BQQAhACAJKAIAIgEgCGtBnwFKDQIgCigCACEAIAkgAUEEajYCACABIAA2AgBBACEAIApBADYCAAwCC0F/IQAgCyALQYABaiAMQQxqEO0FIAtrIgVB/ABKDQEgBUECdUGg8QFqLAAAIQYCQAJAIAVBe3EiAEHYAEcEQCAAQeAARw0BIAMgBCgCACIBRwRAQX8hACABQQFrLAAAEPMCIAIsAAAQ8wJHDQULIAQgAUEBajYCACABIAY6AABBACEADAQLIAJB0AA6AAAMAQsgBhDzAiIAIAIsAABHDQAgAiAAEJkKOgAAIAEtAABFDQAgAUEAOgAAIAcQDEUNACAJKAIAIgAgCGtBnwFKDQAgCigCACEBIAkgAEEEajYCACAAIAE2AgALIAQgBCgCACIAQQFqNgIAIAAgBjoAAEEAIQAgBUHUAEoNASAKIAooAgBBAWo2AgAMAQtBfyEACyAMQRBqJAAgAAtSAQJ/IwBBEGsiBiQAIAZBDGoiBSABECQgBRBwQaDxAUHA8QEgAhDgASADIAUQ8AIiARCXATYCACAEIAEQbTYCACAAIAEQbCAFECIgBkEQaiQAC2oBA38jAEEgayIDJAAgA0EMaiAAIAAoAgQgACgCAGtBA3VBAWoQvgMgACgCBCAAKAIAa0EDdSAAQQhqELICIgIoAggiBCABKQMANwMAIAIgBEEIajYCCCAAIAIQ6wUgAhCwAiADQSBqJAALMQAgAi0AACECA0ACQCAAIAFHBH8gAC0AACACRw0BIAAFIAELDwsgAEEBaiEADAALAAvpAwEBfyMAQRBrIgwkACAMIAA6AA8CQAJAIAAgBUYEQCABLQAARQ0BQQAhACABQQA6AAAgBCAEKAIAIgFBAWo2AgAgAUEuOgAAIAcQDEUNAiAJKAIAIgEgCGtBnwFKDQIgCigCACECIAkgAUEEajYCACABIAI2AgAMAgsCQCAAIAZHDQAgBxAMRQ0AIAEtAABFDQFBACEAIAkoAgAiASAIa0GfAUoNAiAKKAIAIQAgCSABQQRqNgIAIAEgADYCAEEAIQAgCkEANgIADAILQX8hACALIAtBIGogDEEPahDxBSALayIFQR9KDQEgBUGg8QFqLAAAIQYCQAJAAkACQCAFQX5xQRZrDgMBAgACCyADIAQoAgAiAUcEQCABQQFrLAAAEPMCIAIsAAAQ8wJHDQULIAQgAUEBajYCACABIAY6AABBACEADAQLIAJB0AA6AAAMAQsgBhDzAiIAIAIsAABHDQAgAiAAEJkKOgAAIAEtAABFDQAgAUEAOgAAIAcQDEUNACAJKAIAIgAgCGtBnwFKDQAgCigCACEBIAkgAEEEajYCACAAIAE2AgALIAQgBCgCACIAQQFqNgIAIAAgBjoAAEEAIQAgBUEVSg0BIAogCigCAEEBajYCAAwBC0F/IQALIAxBEGokACAAC1IBAn8jAEEQayIGJAAgBkEMaiIFIAEQJCAFEGtBoPEBQcDxASACEIUCIAMgBRDyAiIBEJcBOgAAIAQgARBtOgAAIAAgARBsIAUQIiAGQRBqJAALzgICBn8CfgJAIAAoAgAiAiAAKAIERg0AIAEQsQEhCCABKQMAIQkgACgCACEFAkAgACgCDCIGIAggADEAHoinIgNBA3RqIgIoAgAgCKdB/wFxIgRBgAJyRw0AIAkgBSACKAIEQQR0aiICKQMAUg0AIAEpAwggAikDCFENAQsCQCAGIANBAWoiAkEAIAIgACgCECIHRxsiA0EDdGooAgAgBEGABHJHBEAgASkDCCEIDAELIAEpAwghCCAJIAUgBiADQQN0aigCBEEEdGoiAikDAFINACAIIAIpAwhRDQELIARBgAZyIQEDQAJAIAYgA0EBaiICQQAgAiAHRxsiA0EDdGoiAigCACIEIAFGBEAgCSAFIAIoAgRBBHRqIgIpAwBSDQEgCCACKQMIUQ0DDAELIAEgBE0NACAAKAIEIQIMAgsgAUGAAmohAQwACwALIAILjQMBCH8gAAJ/AkAgACIBQQNxBEADQCABLQAAIgJFIAJBPUZyDQIgAUEBaiIBQQNxDQALCwJAIAEoAgAiAkF/cyACQYGChAhrcUGAgYKEeHENAANAIAJBvfr06QNzIgJBf3MgAkGBgoQIa3FBgIGChHhxDQEgASgCBCECIAFBBGohASACQYGChAhrIAJBf3NxQYCBgoR4cUUNAAsLA0AgASICLQAAIgUEQCABQQFqIQEgBUE9Rw0BCwsgAgwBCyABCyIBRgRAQQAPCwJAIAAgASAAayIFai0AAA0AQYizAigCACIDRQ0AIAMoAgAiAUUNAANAAkACfyAAIQJBACAFIgZFDQAaIAItAAAiBAR/AkADQCAEIAEtAAAiB0cgB0VyDQEgBkEBayIGRQ0BIAFBAWohASACLQABIQQgAkEBaiECIAQNAAtBACEECyAEBUEACyABLQAAawtFBEAgAygCACAFaiIBLQAAQT1GDQELIAMoAgQhASADQQRqIQMgAQ0BDAILCyABQQFqIQgLIAgLagECfyAAQcjTATYCACAAKAIoIQEDQCABBEBBACAAIAFBAWsiAUECdCICIAAoAiRqKAIAIAAoAiAgAmooAgARBAAMAQsLIABBHGoQIiAAKAIgEAsgACgCJBALIAAoAjAQCyAAKAI8EAsgAAsJACAAIAEQtQQLPQAjAEEQayIBJAAgASADNgIMIAEgBCACIAMgAmsiAhBbIAJqNgIIIAAgAUEMaiABQQhqEMcBIAFBEGokAAsxAQF/IwBBEGsiAyQAIAMgATYCDCADIAI2AgggACADQQxqIANBCGoQtAQgA0EQaiQACxgAIABBgICAgARPBEAQEgALIABBAnQQGAsdACMAQRBrIgMkACAAIAEgAhCsCiADQRBqJAAgAAuRAQEDfyABKAIEIQIgACgCACEEIAAoAgQhAwNAIAMgBEZFBEAgAkEEayICIANBBGsiAygCADYCAAwBCwsgASACNgIEIAAoAgAhAyAAIAI2AgAgASADNgIEIAAoAgQhAiAAIAEoAgg2AgQgASACNgIIIAAoAgghAiAAIAEoAgw2AgggASACNgIMIAEgASgCBDYCAAsTACAAIAEgAiAAKAIAKAIwEQUACwwAIABBBGoQvQogAAtrAQJ/IwBBIGsiAyQAIANBDGogACAAKAIEIAAoAgBrQQJ1QQFqELQKIAAoAgQgACgCAGtBAnUgAEEIahDIASICKAIIIAEoAgA2AgAgAiACKAIIQQRqNgIIIAAgAhD8BSACEJsBIANBIGokAAsNACAAIAEQZUEBOgBICygBAn8jAEEQayICJAAgASgCACAAKAIASCEDIAJBEGokACABIAAgAxsLEAAgACABNwMIIABCADcDAAsUACAAQdjOATYCACAAQQRqECIgAAsnAQF/IAAoAgAiAQRAIAAgATYCBCABEAsgAEEANgIIIABCADcCAAsLCQAgACABEL4KC7YBAQN/IwBBEGsiAyQAIAMgATYCCCADIAA2AgwgAyACNgIEIAEgABA0IQQgAiABEDQhAQJ/AkAgBEUEQEEAIAFFDQIaIANBCGoiASADQQRqEFZBASADKAIIIAAQNEUNAhogA0EMaiABEFYMAQsgAQRAIANBDGogA0EEahBWQQEMAgsgA0EMaiADQQhqIgAQVkEBIAIgAygCCBA0RQ0BGiAAIANBBGoQVgtBAgshBSADQRBqJAAgBQu6DgIJfwF+IwBBIGsiBCQAIAQgATYCGCAEIAA2AhwDQCAAIQUDQCABQQhrIQgDQAJAAkACQAJAAkACQAJAAkAgASAFayIHQQN1IgkOBgcHAAQBAgMLIAQgAUEIayIANgIYIAAgBRA0RQ0GIARBHGogBEEYahBWDAYLIAQgAUEIayIANgIYIAUgBUEIaiAFQRBqIAAgAhDLCgwFCyAEIAFBCGsiADYCGCAFIAVBCGogBUEQaiAFQRhqIAAgAhDKCgwECyAHQfcBTARAIwBBIGsiAiQAIAUgBUEIaiAFQRBqIgMQugQgBUEYaiEAA0ACQCACIAA2AhwgACABRg0AIAAgAxA0BEAgAiACKAIcKQMANwMQIAIgAzYCDCACKAIcIQADQAJAIAAgAigCDCkDADcDACAFIAIoAgwiAEYEQCAFIQAMAQsgAiAAQQhrIgM2AgwgAkEQaiADEDQNAQsLIAAgAikDEDcDAAsgAigCHCIDQQhqIQAMAQsLIAJBIGokAAwECyADRQRAIAEgBUYiAA0EIwBBEGsiBiQAIAYgBTYCDCAABH8gAQUCQCABIAVrIgBBCUgNACAAQQN1IgBBAmtBAXYhAgNAIAJBAEgNASAFIAAgBSACQQN0ahDECiACQQFrIQIMAAsACyABIAVrQQN1IQIgASEAA0ACQCAGIAA2AgggBigCDCEJIAAgAUYNACAAIAkQNARAIAZBCGogBkEMahBWIAYoAgwiACACIAAQxAoLIAYoAghBCGohAAwBCwsgASAJa0EDdSEAA0AgAEEBSgRAIwBBEGsiByQAIAcgCTYCDAJAIAAiAkECSQ0AIAcoAgwpAwAhDSAHKAIMIQVBACEAIwBBEGsiCCQAIAJBAmtBAXYhCwNAIAggAEEDdCAFakEIaiIKNgIMIABBAXQiA0EBciEAAkAgA0ECaiIDIAJODQAgCiAKQQhqEDRFDQAgCCAIKAIMQQhqNgIMIAMhAAsgBSAIKAIMKQMANwMAIAgoAgwhBSAAIAtMDQALIAhBEGokACAHIAFBCGsiADYCCCAAIAVGBEAgBSANNwMADAELIAUgBygCCCkDADcDACAHKAIIIA03AwAgBygCDCIDIQgjAEEQayIAJAACQCAFQQhqIgUgA2tBA3UiA0ECSA0AIAAgBUEIayIFNgIMIAAgCCADQQJrQQF2IgNBA3RqIgo2AgggCiAFEDRFDQAgACAAKAIMKQMANwMAAkADQCAAKAIMIAAoAggpAwA3AwAgACAAKAIIIgU2AgwgA0UNASAAIAggA0EBa0EBdiIDQQN0aiIFNgIIIAUgABA0DQALIAAoAgwhBQsgBSAAKQMANwMACyAAQRBqJAALIAdBEGokACACQQFrIQAgAUEIayEBDAELCyAGKAIICxogBkEQaiQADAQLIAQgBSAJQQJ0QXhxaiIGNgIUAn8gB0G5Pk8EQCAFIAUgCUEBdEF4cSIHaiAGIAYgB2ogCCACEMkKDAELIAUgBiAIEIYGCyEHIANBAWshAyAEIAU2AhAgBCAINgIMIAUgBCgCFBA0RQRAA0AgBCAEKAIMQQhrIgY2AgwgBiAEKAIQIglGBEAgBCAINgIMIAQgCUEIajYCECAFIAgQNCEMIAQoAhAhBiAMDQUDQCAGIAQoAgxGDQcgBSAGEDQEQCAEQRBqIARBDGoQViAEIAQoAhBBCGoiBjYCEAwHBSAEIAQoAhBBCGoiBjYCEAwBCwALAAsgBiAEKAIUEDRFDQALIARBEGogBEEMahBWIAdBAWohBwsgBCAEKAIQQQhqIgY2AhACQCAGIAQoAgxPDQADQCAGIAQoAhQQNARAIAQgBCgCEEEIaiIGNgIQDAELA0AgBCAEKAIMQQhrIgY2AgwgBiAEKAIUEDRFDQALIAQoAhAiBiAEKAIMSw0BIARBEGogBEEMahBWIAQoAhAiBiAEKAIURgRAIAQgBCgCDDYCFAsgB0EBaiEHIAQgBkEIaiIGNgIQDAALAAsCQCAGIAQoAhQiCEYNACAIIAYQNEUNACAHQQFqIQcgBEEQaiAEQRRqEFYLIAQoAhAhBgJAIAcNACAFIAYgAhDICiEHIAQoAhBBCGogASACEMgKBEAgBw0FIAQgBCgCECIBNgIYDAcLIAQoAhAhBiAHRQ0AIAZBCGohAAwCCyAGIABrIAEgBmtIBEAgACAGIAIgAxCHBiAEKAIQQQhqIQAMAgsgBkEIaiABIAIgAxCHBiAEIAQoAhAiATYCGAwGCyAEIAFBCGsiADYCGCAFIAVBCGogABC6BAwCCyAEIAA2AhwMBAsgBiAEKAIMRg0AA0ACQCAFIAYQNEUNAANAIAQgBCgCDEEIayIANgIMIAUgABA0DQALIAQoAhAiACAEKAIMSQRAIARBEGogBEEMahBWDAELIAQgADYCHCAAIQUMAwsgBCAEKAIQQQhqIgY2AhAMAAsACwsLCyAEQSBqJAALDQAgACgCACABKAIASQvSAwICfgJ/IwBBIGsiBCQAAkAgAUL///////////8AgyIDQoCAgICAgMCAPH0gA0KAgICAgIDA/8MAfVQEQCABQgSGIABCPIiEIQMgAEL//////////w+DIgBCgYCAgICAgIAIWgRAIANCgYCAgICAgIDAAHwhAgwCCyADQoCAgICAgICAQH0hAiAAQoCAgICAgICACFINASACIANCAYN8IQIMAQsgAFAgA0KAgICAgIDA//8AVCADQoCAgICAgMD//wBRG0UEQCABQgSGIABCPIiEQv////////8Dg0KAgICAgICA/P8AhCECDAELQoCAgICAgID4/wAhAiADQv///////7//wwBWDQBCACECIANCMIinIgVBkfcASQ0AIARBEGogACABQv///////z+DQoCAgICAgMAAhCICIAVBgfcAaxBhIAQgACACQYH4ACAFaxC7AiAEKQMIQgSGIAQpAwAiAEI8iIQhAiAEKQMQIAQpAxiEQgBSrSAAQv//////////D4OEIgBCgYCAgICAgIAIWgRAIAJCAXwhAgwBCyAAQoCAgICAgICACFINACACQgGDIAJ8IQILIARBIGokACACIAFCgICAgICAgICAf4OEvwtEAQF/IwBBEGsiBSQAIAUg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IARBCGohBiADKAIAQZCRAUcEQEH3H0GfwwBBkARB1iUQAAALIAMgBhBxIARBEGokACABIAEpA2giB0IBfDcDaCACQQhqIgNBAUHmACABLQBkIAdBACAFEI8CIABBADYCACAAIAIoAhA2AgwgACACKQMINwIEIAJBADYCECACQgA3AwggAxAKGiAFEAoaIAJBQGskAAsnAQF/IwBBEGsiAiQAIAIgATcDCCAAIAJBCGpBCBB3GiACQRBqJAALJwEBfyMAQRBrIgIkACACIAE6AA8gACACQQ9qQQEQdxogAkEQaiQAC7wCAQR/IAAoAgQgACgCCEkEQCAAIAAoAgQgARA9QRhqNgIEDwsjAEEgayIEJAAgBEEMaiAAIAAoAgQgACgCAGtBGG1BAWoQ2wEgACgCBCAAKAIAa0EYbSAAQQhqEL4BIgIoAgggARA9GiACIAIoAghBGGo2AgggACgCBCEDIAAoAgAhBSACKAIEIQEDQCADIAVHBEAgAUEYayADQRhrIgMQPSEBDAELCyACIAE2AgQgACgCACEDIAAgATYCACACIAM2AgQgACgCBCEBIAAgAigCCDYCBCACIAE2AgggACgCCCEBIAAgAigCDDYCCCACIAE2AgwgAiACKAIENgIAIAIoAgQhAANAIAAgAigCCCIBRwRAIAIgAUEYayIBNgIIIAEQERoMAQsLIAIoAgAiAARAIAAQCwsgBEEgaiQACwwAIAAgACgCBBCcBgtdAQR/AkAgACgCCEUNACAAKAIEIgEoAgAiAyAAKAIAIgIoAgQ2AgQgAigCBCADNgIAIABBADYCCANAIAAgAUYNASABKAIEIQQgAUEIahC/AiABEAsgBCEBDAALAAsLngMCBX8BfiMAQeAAayIEJAACQCABLQA0RQRAIABB09IAEA4aDAELEIsCIQgjAEEQayIDJAAgAyACOgAPIARBGGogAUHoAWogA0EPahDKAyADQRBqJAACQCAEKAIwIAJyRQRAIABB09IAEA4aDAELIAQgCELoB383AyggBEEANgIQIARCADcDCCMAQRBrIgMkACAEQRhqIgIoAgBBmOkARwRAQYwXQerCAEH7AkG4MBAAAAsgBEEIaiIFIAIQYxBnIAMgBTYCDCADQeIBNgIIIANBCGohBiACKAIAQZjpAEcEQEGMF0HqwgBBiQNB8CIQAAALIAIg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IAItAAA6AAALSwAgACABKQMANwMAIAAgASkDCDcDCCAAIAIoAgg2AhggACACKQIANwIQIAJCADcCACACQQA2AgggAEEBOgAgIABBKGogAxAyGiAACz4BAn8gACgCBCECA0AgAiAAKAIIIgFHBEAgACABQZgBayIBNgIIIAEQ3QYaDAELCyAAKAIAIgAEQCAAEAsLC7cBAQN/IAAoAgQhAyAAKAIAIQQgASgCBCECA0AgAyAERwRAIAJBmAFrIgIgA0GYAWsiAykDADcDACACIAMpAwg3AwggAkEQaiADQRBqEO4DGiACQShqIANBKGoQMhoMAQsLIAEgAjYCBCAAKAIAIQMgACACNgIAIAEgAzYCBCAAKAIEIQIgACABKAIINgIEIAEgAjYCCCAAKAIIIQIgACABKAIMNgIIIAEgAjYCDCABIAEoAgQ2AgALFQAgACABIAIgA0GYAUHs0LwNEKYBCxsAIAAgAUG1qN4GQZgBQevQvA1B7NC8DRCUAQs5AQF+IAAgASkDADcDACAAIAEpAwg3AwggAikDACEEIABBADoAICAAIAQ3AxAgAEEoaiADEDIaIAALDQAgACABQdjVABCSCQsMACABIAIrAwA5AwALCgAgASACEO0DGguXAQICfwF+IwBBEGsiAiQAQQIhAyAAKQMIIgQgACkDAFQEQAJAIAEtADBFDQAgACAEQgF8NwMIIAIgARCcAiAALQAoBEAgACACKQMANwMYIAAgAikDCDcDIAwBCyAAQRhqIgEgAikDADcDACABIAIpAwg3AwggAEEBOgAoCyAAIAApAxBCAXw3AxBBACEDCyACQRBqJAAgAwviAQIFfwJ+AkAgACgCACICIAAoAgQiA0cEQANAIAcgAyACa0HIAG2tIghUIQMgByAIWg0CAkACQCABIAIgB6ciBEHIAGwiBWoQ3AZBAWsOAgAEAQsgACgCACAFaiABENsGDQMLIAAoAhAgACgCDCICa0HwAG2tIAdWBEAgASACIARB8ABsahDaBkECRg0DCyAHQgF8IQcgACgCACECIAAoAgQhAwwACwALIAAoAhAhAiAAKAIMIQADQCAAIAJHIQMgACACRg0BIAEgABDaBiEGIABB8ABqIQAgBkECRw0ACwsgAwtAAgF/An5BASECIAApAwggASkDQHwiAyAAKQMAVAR/IAEpAzghBCAA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ACABEBQLIABBOGohAwJAIAAtAEhFBEBCACABEBQgAyABEEcMAQtCASABEBQgAxByKQMAIAEQFCADEHIpAwggARAUIARBCGogAiADEHJBCGoQyQILIAAxAFAgARAUIAAxAGggARAUAkAgAC0AaEUNACAAKQNYIAEQFCAAQeAAaiIDKQMAIAEQFCAAKQNYUA0AIARBCGogAiADEMkCCyAEQRBqJAALWAEBfyMAQRBrIgMkACADIAI2AgggAyABNgIMIAAgAygCDCIBKQIANwIAIAAgASgCCDYCCCABQgA3AgAgAUEANgIIIABBEGogAygCCBAyGiADQRBqJAAgAAstAQF/IAAoAighASAAKAIkIQADQCAAIAFHBEAgAEEBOgAgIABBKGohAAwBCwsLEAAgAC0AgAEEQCAAEH8aCwsSACAAIAEoAgAgASgCBBBRIAALmQMCB38CfiMAQcABayICJAACQCABKAIEIgRBCE0EQCAAQQA6ADggAEEAOgAADAELIAEoAgAiAygAAEGF36maeEcEQEEDEBoEQCACQThqEBUhByACQQM2AjQgB0G7LBANGiACQTRqEBkLIABBADoAOCAAQQA6AAAMAQsgAiADKAAEIgU2AjAgAy0ACCEGIAEgBEEJazYCBCABIANBCWo2AgAgAkEgaiABEBYgAi0AKEUEQCAAQQA6ADggAEEAOgAADAELIAIpAyAiCSABNQIEIgpWBEAgAEEAOgA4IABBADoAAAwBCyACIANBCGogCSAErSAKfSIKfEIIfRCvAyAAAn8gAigCMCACKAAARwRAQQMQGgRAIAJBOGoQFSEIIAJBAzYCNCAIQdcsEA0aIAJBNGoQGQsgAEEAOgAAQQAMAQsgAikDICEJIAAgAikAADcAGCAAIAIpABg3ADAgACACKQAQNwAoIAAgAikACDcAICAAIAo3AxAgACAJNwMIIAAgBjoABCAAIAU2AgBBAQs6ADgLIAJBwAFqJAALWQEBfyMAQRBrIgMkACADIAI2AgggAyABNgIMIAAgAygCDCIBKQIANwIAIAAgASgCCDYCCCABQgA3AgAgAUEANgIIIABBEGogAygCCBCHAxogA0EQaiQAIAALWQEBfyMAQRBrIgMkACADIAI2AgggAyABNgIMIAAgAygCDCIBKQIANwIAIAAgASgCCDYCCCABQgA3AgAgAUEANgIIIABBEGogAygCCBDmBBogA0EQaiQAIAALOwAgACgCFEGAgICAeEYEQCAAIAAoAgRBMGsQ9AYQEgALIAAgAC0AHkEBazoAHiAAEE0gABAwIAAQjwgLKgEBfyAAKAIEIQIDQCABIAJGRQRAIAJBMGsQ9QYhAgwBCwsgACABNgIECw4AIABBEGoQswEgABAKCxcAIAIoAgAhACACQQA2AgAgASAANgIACz0BAn8gACgCBCECA0AgAiAAKAIIIgFHBEAgACABQTBrIgE2AgggARD1BhoMAQsLIAAoAgAiAARAIAAQCwsLtgEBA38gACgCBCECIAAoAgAhAyABKAIEIQQDQCACIANHBEAgBEEwayIEIAJBMGsiAikDADcDACAEIAIoAgg2AgggAkIANwMAIAJBADYCCCAEQRBqIAJBEGoQhwMaDAELCyABIAQ2AgQgACgCACEDIAAgBDYCACABIAM2AgQgACgCBCEDIAAgASgCCDYCBCABIAM2AgggACgCCCEDIAAgASgCDDYCCCABIAM2AgwgASABKAIENgIACxcAIAAgARAQIgBBGGogAkEIahCTAiAACw4AIABBGGoQhQEgABAKC+IBAgV/An4CQCAAKAIAIgIgACgCBCIDRwRAA0AgByADIAJrQcgAba0iCFQhAyAHIAhaDQICQAJAIAEgAiAHpyIEQcgAbCIFahDaA0EBaw4CAAQBCyAAKAIAIAVqIAEQ+wYNAwsgACgCECAAKAIMIgJrQfAAba0gB1YEQCABIAIgBEHwAGxqENkDQQJGDQMLIAdCAXwhByAAKAIAIQIgACgCBCEDDAALAAsgACgCECECIAAoAgwhAANAIAAgAkchAyAAIAJGDQEgASAAENkDIQYgAEHwAGohACAGQQJHDQALCyADCzwBAn8gACgCBCECA0AgAiAAKAIIIgFHBEAgACABQQxrIgE2AgggARAPGgwBCwsgACgCACIABEAgABALCwuMAQEDfyAAKAIEIQMgACgCACEEIAEoAgQhAgNAIAMgBEcEQCACQQxrIANBDGsiAxAlIQIMAQsLIAEgAjYCBCAAKAIAIQMgACACNgIAIAEgAzYCBCAAKAIEIQIgACABKAIINgIEIAEgAjYCCCAAKAIIIQIgACABKAIMNgIIIAEgAjYCDCABIAEoAgQ2AgALKwEBfyABQQBIBEAQAQAL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BSgCBCAHEMwFQfAAajYCBAwBCyMAQSBrIgskACALQQxqIAUgBSgCBCAFKAIAa0HwAG1BAWoQjwQgBSgCBCAFKAIAa0HwAG0gBUEIahCNAiIEKAIIIAcQzAUaIAQgBCgCCEHwAGo2AgggBSAEEIMJIAQQggkgC0EgaiQACyAHENAFGkEACyEEIAJBGGoQhAkMAQsgCkEAOgAMIApBADoAAEEBIQQLIAJByABqELkBCyAsQgF8ISwgAkHgAGoQNhogBEUNAQsLIAUQvAkLIAJBkAJqJAAMEAsgK6dBAWsOBAMKAwkLCyArp0EBaw4DBAIDBQsgK6dBAWsNCwwKCyArp0EBaw0FDAQLIApBADoADCAKQQA6AAAMCwtCACEpIANCADcDOCADQQA6ADAgA0IANwMoIANBADoAICADQQA6ABggAyAErSAqQiCGhDcDECAqpyECA0AgAkUgKVBxDQogA0FAayADQRBqEI8JAkAgAy0AQEUNACADLQBQRQ0AIAMgAykDSDcDACAiIAMQXiADKQMoISkgAygCFCECDAELCyAKQQA6AAwgCkEAOgAADAoLIANBADoAMEIAISkgA0IANwMoIANBADoAICADQQA6ABggAyAErSAqQiCGhDcDECAqpyECA0AgAkUgKVBxDQkgA0FAayADQRBqEKcCAkAgAy0AQEUNACADLQBQRQ0AICEgExCmAiADKQMoISkgAygCFCECDAELCyAKQQA6AAwgCkEAOgAADAkLIANBADoAMEIAISkgA0IANwMoIANBADoAICADQQA6ABggAyAErSAqQiCGhDcDECAqpyECA0AgAkUgKVBxDQggA0FAayADQRBqEKcCAkAgAy0AQEUNACADLQBQRQ0AICAgExCmAiADKQMoISkgAygCFCECDAELCyAKQQA6AAwgCkEAOgAADAgLIAMgAjYCXCADIAQ2AlgMBgsgA0EAOgAwQgAhKSADQgA3AyggA0EAOgAgIANBADoAGCADIAStICpCIIaENwMQICqnIQIDQCACRSApUHENBiADQUBrIANBEGoQpwICQCADLQBARQ0AIAMtAFBFDQAgHyATEKYCIAMpAyghKSADKAIUIQIMAQsLIApBADoADCAKQQA6AAAMBgsgA0EAOgAwIANCADcDKCADQQA6ACQgA0EAOgAYIAMgBK0gKkIghoQ3AxACQANAIAMoAhRFBEAgAykDKFANAgsjAEEgayICJAAgA0FAayIFQQRqIQcgA0EQaiIEQQhqIQ0CQAJAA0AgBCkDGCIpQgBSDQEgAkEQaiAEEKkBIAItABhFBEAgBUEAOgAQIAVBADoABCAFQQA6AAAMAwsgAikDECIpQgBVBEAgBCApNwMYIAIgBBBSAkAgAi0ADCIMRQRAIAVBADoAECAFQQA6AAQgBUEAOgAADAELIA0gAhCNCSAEQQA6ACALIAIQNhogDA0BDAMLIClCAFMEQCAEQQE6ACAgBEIAICl9NwMYDAELIAIgBBAWIAItAAgEQCAEIAIpAwA3AxggDRCMCSAEQQA6ACAMAQsLIAVBADoAECAFQQA6AAQgBUEAOgAADAELIAQgKUIBfTcDGCAELQAgBEAgAkEQaiAEEFIgBQJ/IAItABxFBEAgB0EAOgAAQQAMAQsgByACKQMQNwIAIAcgAigCGDYCCCACQQA2AhggAkIANwMQQQELIgQ6ABAgBSAEOgAAIAJBEGoQNhoMAQsgBUEBOgAAIAdBADoADCAHQQA6AAAgDS0ADARAIAcgDRDNBQsLIAJBIGokAAJAIAMtAEAiDUUEQCAKQQA6AAwgCkEAOgAADAELAkAgCygCBCALKAIISQRAIAsoAgQiAkEAOgAMIAJBADoAACAQLQAMBEAgAiAQKQIANwIAIAIgECgCCDYCCCAQQgA3AgAgEEEANgIIIAJBAToADAsgCyACQRBqNgIEDAELIwBBIGsiBSQAIAVBDGogCyALKAIEIAsoAgBrQQR1QQFqEIEDIAsoAgQgCygCAGtBBHUgC0EIahDAAiICKAIIIgRBADoADCAEQQA6AAAgEC0ADARAIAQgECkCADcCACAEIBAoAgg2AgggEEIANwIAIBBBADYCCCAEQQE6AAwLIAIgAigCCEEQajYCCCALKAIEIQQgCygCACEMIAIoAgQhBwNAIAQgDEcEQCAHQRBrIgdBADoAACAHQQA6AAwgBEEQayIELQAMRQ0BIAcgBCkCADcCACAHIAQoAgg2AgggBEIANwIAIARBADYCCCAHQQE6AAwMAQsLIAIgBzYCBCALKAIAIQQgCyAHNgIAIAIgBDYCBCALKAIEIQQgCyACKAIINgIEIAIgBDYCCCALKAIIIQQgCyACKAIMNgIIIAIgBDYCDCACIAIoAgQ2AgAgAigCBCEEA0AgBCACKAIIIgdHBEAgAiAHQRBrIgc2AgggBxA2GgwBCwsgAigCACICBEAgAhALCyAFQSBqJAALCyAQEDYaIA0NAAsgGhA2GgwGCyAaEDYaDAQLQgAhKSADQgA3AzggA0EAOgAwIANCADcDKCADQQA6ACAgA0EAOgAYIAMgBK0gKkIghoQ3AxADQCACRSApUHENBCADQUBrIANBEGoQjwkgAy0AQARAIANBADoACCADQQA6AAAgAy0AUARAIANBAToACCADIAMpA0g3AwALAkAgFygCBCICIBcoAghJBEAgAiADKQMANwMAIAIgAykDCDcDCCAXIAJBEGo2AgQMAQsgFyADEI4JCyADKQMoISkgAygCFCECDAELCyAKQQA6AAwgCkEAOgAADAQLIANBADoAMEIAISkgA0IANwMoIANBADoAICADQQA6ABggAyAErSAqQiCGhDcDECAqpyECA0AgAkUgKVBxDQMgA0FAayADQRBqEKcCIAMtAEAEQCAdIBMQ0gUgAykDKCEpIAMoAhQhAgwBCwsgCkEAOgAMIApBADoAAAwDCyADQQA6ADBCACEpIANCADcDKCADQQA6ACAgA0EAOgAYIAMgBK0gKkIghoQ3AxAgKqchAgNAIAJFIClQcQ0CIANBQGsgA0EQahCnAiADLQBABEAgHCATENIFIAMpAyghKSADKAIUIQIMAQsLIApBADoADCAKQQA6AAAMAgsgA0EAOgAwQgAhKSADQgA3AyggA0EAOgAgIANBADoAGCADIAStICpCIIaENwMQICqnIQIDQCACRSApUHENASADQUBrIANBEGoQpwIgAy0AQARAIBsgExDSBSADKQMoISkgAygCFCECDAELCyAKQQA6AAwgCkEAOgAADAELIAYgFSgCCCICIAYoAgBqNgIAIAYgBigCBCACazYCBCAVQRBqIRUMAQsLIANB4ABqJAAgIxAPGgJAIAgtALwBRQRAQQMQGgRAIAhBFGoQFSEoIAhBAzYCECAoQYM8EA0aIAhBEGoQGQsgEUEAOgAYIBFBADoAAAwBCyAIIAYoAgg2AhAgCCAGKAIMNgIUIAggBigCEDYCGCAGQQA2AhAgBkIANwIIIAggCCkCtAE3AiAgCCAIKAKwATYCHCAIQQA2ArgBIAhCADcCsAEgESAIQRBqIgIQJSIEQQxqIAJB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IAAgAygCDCIAIABBEGoQ0wILIANBwAFqJAALkQMCBH8BfiMAQdAAayIDJAAgACACELgBIAItADBBAUYEQCADQQhqIABB8ABqIAIQdQsgAEEIaiEEAkACQCAALQBQBEAgACgCGCIFIAAoAhQiBmtB8ABtQR9JDQEgAyAAKAIINgIIIAMgACgCDDYCDCADIABBEGooAgA2AhAgAEEANgIQIABCADcDCCADIAU2AhggAyAGNgIUIAMgAEEcaigCADYCHCAAQQA2AhwgAEIANwIUIANBIGogAEEgahCbByADIABBQGsiBSkDADcDQCADIAApA0g3A0ggBCADQQhqEKwDIARCABDJBCAFIAUpAwBCAXw3AwAgBCACEPUBAn8gASAAKAIIIgApAzgiB1YEQCAAQcgAaiAHQn+FIAF8IAIQiQMMAQsgACABIAIQiQMLIQAgA0EIahBkGgwCCyADQgA3AxggA0IANwMQIANCADcDCCADQSBqEL8BIANCADcDSCADQgA3A0AgBCADQQhqIgAQjQUgABBkGgsgBCABIAIQiQMhAAsgA0HQAGokACAAC4ABAQF/IwBBMGsiAyQAIAMgASgCCDYCKCADIAEpAgA3AyAgAUIANwIAIAFBADYCCCADIAIpAwA3AwggAyACKAIQNgIYIAMgAikDCDcDECACQQA2AhAgAkIANwMIIAAgA0EgaiIAIANBCGoQqwcgA0EQahAKGiAAEAoaIANBMGokAAvNAgEGfyMAQSBrIgUkAAJAIAFBAkgNACABQQJrQQF2IgggAiAAayIDQQV1SA0AIAAgA0EEdSIDQQFqIgZBBXRqIQQgASADQQJqIgNKBEAgBEEgaiIHIAQgBCAHECkiBxshBCADIAYgBxshBgsgBCACECkNACAFIAIpABg3AxggBSACKQAQNwMQIAUgAikACDcDCCAFIAIpAAA3AwADQAJAIAIgBCIDKQAANwAAIAIgAykAGDcAGCACIAMpABA3ABAgAiADKQAINwAIIAYgCEoNACAAIAZBAXQiAkEBciIGQQV0aiEEIAEgAkECaiICSgRAIARBIGoiByAEIAQgBxApIgcbIQQgAiAGIAcbIQYLIAMhAiAEIAUQKUUNAQsLIAMgBSkDADcAACADIAUpAxg3ABggAyAFKQMQNwAQIAMgBSkDCDcACAsgBUEgaiQAC5IDAQd/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ECABQgA3AgAgAUEANgIIIABBADoAICAAQQQ6ABggARAKGgwBCyAAQQhqIAFBEGoQ0AEQugcLIAJBEGokAAvhAgINfwJ+IwBBMGsiBCQAIAMtADBBAUYEQCAEIAEpAwg3AxggBCABKQMANwMQIARBIGogAhAQIRAgBCAANgIMIARBBGohByADQRhqIQkgBEEQaiEKIARBDGohCyMAQRBrIgEkACADELEBIhGnQf8BcUGAAnIhAiARIABB5ABqIgAxAB6IpyEFIAAoAhAhDCADKQMIIREgAykDACESIAAoAgAhDSAAKAIMIQ4DQAJAAkACQCAOIAVBA3RqIgYoAgAiDyACRgRAIBIgDSAGKAIEQdABbGoiBikDAFINAiARIAYpAwhSDQIgB0EAOgAEIAcgBjYCAAwBCyACIA9NDQEgASADNgIMIAEgCzYCCCABIAo2AgQgASAJNgIAIAcgACACIAUgAUEMaiABELwHCyABQRBqJAAMAQsgBUEBaiIFQQAgBSAMRxshBSACQYACaiECDAELCyAQEAoaCyAEQTBqJAALZQEDfyMAQRBrIgEkACABIAA2AgwgASgCDCIAKAIABEAgACgCACEDIAAoAgQhAgNAIAIgA0cEQCACQfAAaxBCGiACQYABayECDAELCyAAIAM2AgQgASgCDCgCABALCyABQRBqJAALiAEBAX8gACABIAMQ7wMgAEHkAGogARCNARBpIQAjAEEQayIBJAACQAJAAkAgAy0AMA4CAQACCyABIABB8ABqIAMQdQwBCyAAQdgAaiADEP8EIAAgAykDCBDLAgsgAUIANwMIIAFCADcDACAAQQhqIAAgAiADIAQgASAFELQHIQYgAUEQaiQAIAYLsQEBBH8jAEHwAGsiBCQAIARB5ABqIgUgACABEPADIARBADoAWCAEIAI3A0ggBSAEQcgAaiIBEOoBIAEQKiAAKAIIIQcgBEE8aiAAKAIAEBAhACAEIAQoAmQ2AjAgBCkCaCECIARBADYCbCAEIAI3AjQgBEIANwJkIARBCGoiBiADEMkHIAcgACAEQTBqIgFBACAGEKQBIARBEGoQSiABEFggABAKGiAFEFggBEHwAGokAAsfACAAIAEgAxDvAyAAQeQAaiABEI0BEGkgAiADEKwHC7YBAQN/IwBB8ABrIgMkACADQeQAaiIEIAAgARDwAyAD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BjYCACAAIAI2AgQgASAFNgIEIAAgAiAEIAVrajYCCCABIAQ2AgggACgCDCECIAAgASgCDDYCDCABIAI2AgwgARCbAQsgA0EgaiQAC0ABAX8gACgCECICQcAASSACQSBJIAFycUUEQCAAKAIEKAIAEAsgACAAKAIEQQRqNgIEIAAgACgCEEEgazYCEAsLDwAgACAAKAIIQQRrEKcKC1AAIAAoAgAEQCAAEMcIIAAoAgAQCyAAQQA2AgggAEIANwIACyAAIAEoAgA2AgAgACABKAIENgIEIAAgASgCCDYCCCABQQA2AgggAUIANwIACxQAIAAgARAQIgAgAjQCADcDECAACz0BAn8gACgCBCECA0AgAiAAKAIIIgFHBEAgACABQSxrNgIIIAFBDGsQDxoMAQsLIAAoAgAiAARAIAAQCwsLuwEBA38gACgCBCEDIAAoAgAhBCABKAIEIQIDQCADIARHBEAgAkEsayICIANBLGsiAykCADcCACACIAMpAhg3AhggAiADKQIQNwIQIAIgAykCCDcCCCACQSBqIANBIGoQJRoMAQsLIAEgAjYCBCAAKAIAIQMgACACNgIAIAEgAzYCBCAAKAIEIQIgACABKAIINgIEIAEgAjYCCCAAKAIIIQIgACABKAIMNgIIIAEgAjYCDCABIAEoAgQ2AgALCQAgAEEoEJkEC8oBAQN/IAEoAgQhAyAAKAIAIQQgACgCBCECA0AgAiAERkUEQCADQShrIgMgAkEoayICKQMANwMAIAMgAkEIaigCADYCCCACQgA3AwAgAkEANgIIIAMgAikDIDcDICADIAIpAxg3AxggAyACKQMQNwMQDAELCyABIAM2AgQgACgCACECIAAgAzYCACABIAI2AgQgACgCBCECIAAgASgCCDYCBCABIAI2AgggACgCCCECIAAgASgCDDYCCCABIAI2AgwgASABKAIENgIACz4BAn8gACgCBCECA0AgAiAAKAIIIgFHBEAgACABQYABayIBNgIIIAEQ9gcaDAELCyAAKAIAIgAEQCAAEAsLC7cBAQN/IAAoAgQhAiAAKAIAIQMgASgCBCEEA0AgAiADRwRAIARBgAFrIgQgAkGAAWsiAikDADcDACAEIAIoAgg2AgggAkIANwMAIAJBADYCCCAEQRBqIAJBEGoQMhoMAQsLIAEgBDYCBCAAKAIAIQMgACAENgIAIAEgAzYCBCAAKAIEIQMgACABKAIINgIEIAEgAzYCCCAAKAIIIQMgACABKAIMNgIIIAEgAzYCDCABIAEoAgQ2AgALFgAgAC0ASARAIAAQZBogAEEAOgBICwuTAQAjAEEQayIAJAAgAigCACECIAAgAygCCDYCCCAAIAMpAgA3AwAgACACNgIMIwBBMGsiAiQAIAEgACgCDCIDKQMANwMAIAEgAykDCDcDCCAAKAIAKAIAIQMgAkEAOgAoIAJBADoACCABQRBqIAMgAkEIaiIBIAAoAggoAgAQjgUgARD8AyACQTBqJAAgAEEQaiQACxAAIAAgACgCBEHQAWsQgggLCwAgACABQSgQmAQL8QECAX8BfQJAIAAgAUYNACAAEE0gACgCAARAIAAQkQUgACgCABALIABBADYCCCAAQgA3AgALIAAgASgCADYCACAAIAEoAgQ2AgQgACABKAIINgIIIAFBADYCCCABQgA3AgAgARCRBSABKAIMIQIgAUEANgIMIAAgAjYCDCABKAIQIQIgAUEANgIQIAAgAjYCECABKAIUIQIgAUEANgIUIAAgAjYCFCABLQAeIQIgAUE+OgAeIAAgAjoAHiABKgIYIQMgAUHNmbP6AzYCGCAAIAM4AhggARAwIAEoAgwiAEUNACAAQQAgASgCEEEDdBAdGgsLDgAgAEEQahBCGiAAEAoLKwEBfyAAKAIEIQIDQCABIAJGRQRAIAJBgAFrEPYHIQIMAQsLIAAgATYCBAviAQIFfwJ+AkAgACgCACICIAAoAgQiA0cEQANAIAcgAyACa0HIAG2tIghUIQMgByAIWg0CAkACQCABIAIgB6ciBEHIAGwiBWoQ/QdBAWsOAgAEAQsgACgCACAFaiABEPgHDQMLIAAoAhAgACgCDCICa0HwAG2tIAdWBEAgASACIARB8ABsahCJCkECRg0DCyAHQgF8IQcgACgCACECIAAoAgQhAwwACwALIAAoAhAhAiAAKAIMIQADQCAAIAJHIQMgACACRg0BIAEgABCJCiEGIABB8ABqIQAgBkECRw0ACwsgAwvxAQIBfwF9AkAgACABRg0AIAAQTSAAKAIABEAgABCSBSAAKAIAEAsgAEEANgIIIABCADcCAAsgACABKAIANgIAIAAgASgCBDYCBCAAIAEoAgg2AgggAUEANgIIIAFCADcCACABEJIFIAEoAgwhAiABQQA2AgwgACACNgIMIAEoAhAhAiABQQA2AhAgACACNgIQIAEoAhQhAiABQQA2AhQgACACNgIUIAEtAB4hAiABQT46AB4gACACOgAeIAEqAhghAyABQc2Zs/oDNgIYIAAgAzgCGCABEDAgASgCDCIARQ0AIABBACABKAIQQQN0EB0aCwtkAQJ/IAAgASgCADYCACAAQQhqIgJBADoASCACQQA6AAAgAUEIaiIDLQBIBEAgAiADEIAGCyAAQdgAaiABQdgAahAlGiAAQeQAaiABQeQAahAlGiAAQfAAaiABQfAAahCDBCAAC6sBAQJ/IAAgASgCADYCACMAQRBrIgMkACAAQQRqIgJCADcCACACQT46AB4gAkHNmbP6AzYCGCACQgA3AhAgAkIANwIIIAIgAUEEahD5ByADQRBqJAAjAEEQayIDJAAgAEEkaiICQgA3AgAgAkE+OgAeIAJBzZmz+gM2AhggAkIANwIQIAJCADcCCCACIAFBJGoQ9QcgA0EQaiQAIABBxABqIAFBxABqEIMEIAALVQAgAEEAOgAgIABBADoAACABLQAgBEAgACABKQMANwMAIAAgASkDCDcDCCAAIAEoAhg2AhggACABKQMQNwMQIAFCADcDECABQQA2AhggAEEBOgAgCwtDAQF/QQEhAiABQRhqIAAoAgAQ9AUgASgCHEYEfyAAIAApAxAgASkDOHw3AxAgACAAKQMIIAEpA0B8NwMIQQAFQQELCxUAIAAgAUEDQf8DQfz//w9BBxCbCQs8AQF/IwBBEGsiASQAIAEgADYCDCABKAIMIgAoAgAEQCAAIAAoAgAQ5gggASgCDCgCABALCyABQRBqJAALFwEBfyAAKAIMIgEEQCABEAsLIAAQ/wcLEAAgAEGYAWoQ/AMgABCTAwsxAQF/IAAoAgQhAgNAIAEgAkZFBEAgAkHAAWsQgQggAkHQAWshAgwBCwsgACABNgIECy8BAX8gACgCBCECA0AgASACRkUEQCACQQxrEA8aIAJBLGshAgwBCwsgACABNgIECykBAX8gACgCBCECA0AgASACRkUEQCACQQxrEA8hAgwBCwsgACABNgIEC2ABAn8gAUHw////B0kEQCABQQpNBEAgAEEANgIIIABCADcCACAAIAE6AAsgAA8LIAFBD3JBAWoiAhAYIQMgACABNgIEIAAgAzYCACAAIAJBgICAgHhyNgIIIAAPCxABAAvrAwEIfyMAQRBrIgUkACAFIAE1AgBCAEKV+Kn6l7fem55/QgAQLyABIAAoAgBrQQN1IQIgBSkDCCAFKQMAhSAAMQAeiKchASAAKAIQIQMgACgCDCEEA0AgAiAEIAFBA3RqKAIERwRAIAFBAWoiAUEAIAEgA0cbIQEMAQsLIwBBEGsiBiQAIAFBAWoiA0EAIAMgACICKAIQRxshAyACKAIMIgQgAUEDdGooAgQhBwNAIAQgAyIAQQN0aiIDKAIAIghBgARPBEAgBCABQQN0aiIBIAMoAgQ2AgQgASAIQYACazYCACAAQQFqIgFBACABIAIoAhBHGyEDIAIoAgwhBCAAIQEMAQsLIAQgAUEDdGpCADcCACACKAIEIgEgAigCACIAa0EDdUEBayAHRwRAIAAgB0EDdGoiACABQQhrIgEoAgAiAzYCACAAIAEoAgQ2AgQgBiADrUIAQpX4qfqXt96bnn9CABAvIAIoAgQiASACKAIAa0EDdUEBayEAIAYpAwggBikDAIUgAjEAHoinIQQgAigCECEDIAIoAgwhCANAIAggBEEDdGoiCSgCBCAARwRAIARBAWoiBEEAIAMgBEcbIQQMAQsLIAkgBzYCBAsgAiABQQhrNgIEIAZBEGokACACKAIAGiAFQRBqJAALmwEBBX8jAEEQayIEJAAjAEEQayIDJAAgACEFIAIhBgNAIAEgBUcEQCAGIAUQ0wEgBkHEAGohBiAFQcQAaiEFDAELCyADIAY2AgwgAyABNgIIIAMoAgghASAEIAIgAygCDCACa0HEAG1BxABsajYCDCAEIAAgASAAa0HEAG1BxABsajYCCCADQRBqJAAgBCgCDCEHIARBEGokACAHCxUAIAAgACgCBCABEKIBQcQAajYCBAvcBgEHfyMAQSBrIggkACAAKAIAIgMgASADa0HEAG1BxABsaiEBAkAgACgCBCIHIAAoAghJBEAgASAHRgRAIAAgAhCICAwCCyAAKAIEIgMhBiABIAMgAUHEAGprQcQAbUHEAGxqIgUhBANAIAQgB08EQCAAIAY2AgQjAEEQayIGJAAjAEEQayIEJAAgAyEAIAUhBwNAIAEgB0cEQCAAQcQAayIAIAdBxABrIgcQ0wEMAQsLIAQgADYCDCAEIAU2AgggBCgCCCEAIAYgAyAEKAIMIANrQcQAbUHEAGxqNgIMIAYgASAAIAFrQcQAbUHEAGxqNgIIIARBEGokACAGKAIMGiAGQRBqJAAFIAYgBBCiAUHEAGohBiAEQcQAaiEEDAELCyABIAIQ0wEMAQsgCEEMaiAAIAcgA2tBxABtQQFqEJUDIAEgACgCAGtBxABtIABBCGoQmwIhAyMAQSBrIgckAAJAIAMoAggiBCADKAIMRw0AIAMoAgQiBSADKAIAIgZLBEAgAyAFIAQgBSAFIAZrQcQAbUEBakF+bUHEAGwiBmoQhwgiBDYCCCADIAMoAgQgBmo2AgQMAQsgB0EMakEBIAQgBmtBxABtQQF0IAQgBkYbIgUgBUECdiADKAIQEJsCIgUoAggiBCADKAIIIAMoAgQiBmtBxABtQcQAbGohCQNAIAQgCUcEQCAEIAYQogFBxABqIQQgBkHEAGohBgwBCwsgBSAJNgIIIAMoAgAhBCADIAUoAgA2AgAgBSAENgIAIAMoAgQhBCADIAUoAgQ2AgQgBSAENgIEIAMoAgghBCADIAUoAgg2AgggBSAENgIIIAMoAgwhBCADIAUoAgw2AgwgBSAENgIMIAUQmgIgAygCCCEECyAEIAIQogEaIAMgAygCCEHEAGo2AgggB0EgaiQAIAMgASAAKAIAIAMoAgQQigg2AgQgACgCBCEFIAMoAgghAgNAIAEgBUcEQCACIAEQogFBxABqIQIgAUHEAGohAQwBCwsgAyACNgIIIAAoAgAhASAAIAMoAgQ2AgAgAyABNgIEIAAoAgQhASAAIAMoAgg2AgQgAyABNgIIIAAoAgghASAAIAMoAgw2AgggAyABNgIMIAMgAygCBDYCACADEJoCCyAIQSBqJAALJAADQCAAIAFHBEAgAkHEAGsgAEHEAGsiABCiASECDAELCyACCyYAAkAgAC0AUEUNACABIABBCGoiABD9B0EBRw0AIAAgARD4BxoLCwwAIAAgAUHEABCTCQs9ACAAKAIEIAEQECIBIAIpABg3ACQgASACKQAQNwAcIAEgAikACDcAFCABIAIpAAA3AAwgACABQSxqNgIEC2kCAn8CfiAAQQRqIQMCQCAAKAIEIgRFBEAgAyEADAELIAIpAwAhBQNAIAQiACkDECIGIAVWBEAgACEDIAAoAgAiBA0BDAILIAUgBlgNASAAQQRqIQMgACgCBCIEDQALCyABIAA2AgAgAwsJACAAQTAQmgQLrgIBBX8gAUEBaiICQQAgAiAAKAIQRxshBCAAKAIMIgMgAUEDdGooAgQhBQNAIAMgBCICQQN0aiIEKAIAIgZBgARPBEAgAyABQQN0aiIBIAQoAgQ2AgQgASAGQYACazYCACACQQFqIgFBACABIAAoAhBHGyEEIAAoAgwhAyACIQEMAQsLIAMgAUEDdGpCADcCACAAKAIEIgEgACgCACICa0EobUEBayAFRwRAIAIgBUEobGoiAiABQShrIgEQGyACQRBqIAFBEGoQhgQgAhA4IAAxAB6IpyEDIAAoAgQgACgCAGtBKG1BAWshASAAKAIQIQIgACgCDCEEA0AgBCADQQN0aiIGKAIEIAFHBEAgA0EBaiIDQQAgAiADRxshAwwBCwsgBiAFNgIECyAAEKkFCysAIAFBIBD8ASAAIAEoAgg2AgggACABKQIANwIAIAFCADcCACABQQA2AggLKwAgACABIAIQoQIiASkCADcCACAAIAEoAgg2AgggAUIANwIAIAFBADYCCAtmAQJ/IwBBEGsiAyQAIAAgASgCBCABLQALIgAgAMBBAEgbIgBBAWoQhQgiAigCACACIAIsAAtBAEgbIAEoAgAgASABLAALQQBIGyAAEFsgAGoiAEEvOgAAIABBADoAASADQRBqJAALQQECfyAAKALcAiECIAAoAtgCIQADQCAAIAJHBEAgACgCACIDLQCQAwRAIANB8AJqIAEQlgMLIABBBGohAAwBCwsLlAsCEn8CfiMAQRBrIgkkACAJIAI2AgQgCSADNgIAIwBBEGsiCCQAIAkgASAIQQxqIAIQ0ggiESgCACICBH9BAAVBgAQQGCECIAggAUEEajYCBCAIIAI2AgAgCSgCBCEDIAkoAgAhBiMAQRBrIg0kACANIAY2AgggDSADNgIMIwBBEGsiECQAIAJBEGogDSgCDBAQQRBqIRUgEEEEaiANKAIIEBAhDiMAQRBrIgMkACAVQQBBJBAdIgRBJGoQZhogBEHEAGoQvwEjAEEQayICJAAgBEHkAGoiBUIANwIAIAVBPjoAHiAFQc2Zs/oDNgIYIAVCADcCECAFQgA3AgggBRAwIAUoAgwiBgRAIAZBACAFKAIQQQN0EB0aCyAFIQcgAkEQaiQAIARCADcDiAEgA0EANgIMIAMgBDYCCCADQQxqIQogA0EIaiELIwBBEGsiBiQAQdDTABCxASIWp0H/AXFBgAJyIQIgFiAFMQAeiKchDCAFKAIQIQ9B2NMAKQMAIRZB0NMAKQMAIRcgBSgCACESIAUoAgwhEwNAAkACQAJAIBMgDEEDdGoiBSgCACIUIAJGBEAgFyASIAUoAgRB0AFsaiIFKQMAUg0CIBYgBSkDCFINAiADQQA6AAQgAyAFNgIADAELIAIgFE0NASAGQdDTADYCDCAGIAs2AgggBkGx0wA2AgQgBiAKNgIAIAIhBSAGQQxqIQsjAEEQayIKJAACQCAHIgIoAgQgAigCCEkEQCACQQhqIAIoAgQiByALIAYQ8gcgAiAHQdABajYCBAwBCyMAQSBrIg8kACACQQhqIgcgD0EMaiACIAIoAgQgAigCAGtB0AFtQQFqEI8FIAIoAgQgAigCAGtB0AFtIAcQlQUiBygCCCALIAYQ8gcgByAHKAIIQdABajYCCCACIAcQlAUgBxCTBSAPQSBqJAALIAIoAgQaIAIoAgQgAigCAGtB0AFtIgtBAWshBwJAIAIoAhQgC0kEQCACEJAFDAELIAogBzYCDCAKIAU2AgggCiAKKQIINwMAIAIgCiAMEDELIAIoAgAhAiADQQE6AAQgAyACIAdB0AFsajYCACAKQRBqJAALIAZBEGokAAwBCyAMQQFqIgxBACAMIA9HGyEMIAJBgAJqIQIMAQsLIANBEGokACAEQgA3A5ABIARBADYCmAEjAEEQayIDJAAgBEGcAWoiAkIANwIAIAJBPjoAHiACQc2Zs/oDNgIYIAJCADcCECACQgA3AgggAhAwIAIoAgwiBgRAIAZBACACKAIQQQN0EB0aCyADQRBqJAAjAEEQayIDJAAgBEG8AWoiAkIANwIAIAJBPjoAHiACQc2Zs/oDNgIYIAJCADcCECACQgA3AgggAhAwIAIoAgwiBgRAIAZBACACKAIQQQN0EB0aCyADQRBqJAAgBEIANwP4ASAEQgA3A/ABIARCADcD6AEgBEIANwPgASAEQYACahCPARogBCAOKAIINgKoAiAEIA4pAgA3AqACIA5CADcCACAOQQA2AgggBEIANwO4AiAEQcACahCPARogBEHgAmpBAEE4EB0aIARBmANqEI8BGiAEQgA3AL0DIARCADcDuAMgBEIANwPIAyAEQgA3A9ADIARBADYC2AMjAEEQayICJAAgBCACQQRqIARBoAJqEBAiAxD7AyEWIAMQChogAkEQaiQAIAQgFjcDsAIgBCAWEM0CIA4QChogEEEQaiQAIA1BEGokACAIQQE6AAggASAIKAIMIBEgCCgCABD/AyAIKAIAIQIgCEEANgIAIAgoAgAhASAIQQA2AgAgAQRAIAgtAAgEQCABQRBqEJYFCyABBEAgARALCwtBAQs6AAwgCSACNgIIIAhBEGokACAAIAkoAgg2AgAgACAJLQAMOgAEIAlBEGokAAuWAgEDfyAAKAIEIAAoAgAiA2tBxABtIgIgAUkEQCMAQSBrIgMkAAJAIAEgAmsiAiAAKAIIIAAoAgQiAWtBxABtTQRAIAAoAgQiASACQcQAbGohAgNAIAEgAkYEQCAAIAI2AgQFIAFBADoAQCABQQA6AAAgAUHEAGohAQwBCwsMAQsgA0EMaiAAIAEgACgCAGtBxABtIAJqEJUDIAAoAgQgACgCAGtBxABtIABBCGoQmwIiBCgCCCIBIAJBxABsaiECA0AgASACRwRAIAFBADoAQCABQQA6AAAgAUHEAGohAQwBCwsgBCACNgIIIAAgBBCUAyAEEJoCCyADQSBqJAAPCyABIAJJBEAgACADIAFBxABsahChBQsLpgECAn8BfgJAIAAoAgAiAiAAKAIEIgNHBEADQCAEIAMgAmtByABtrVoNAiACIASnIgNByABsaiABEJcIIAAoAhAgACgCDCICa0HwAG2tIARWBEAgASACIANB8ABsahCOAQsgBEIBfCEEIAAoAgAhAiAAKAIEIQMMAAsACyAAKAIQIQIgACgCDCEAA0AgACACRg0BIAEgABCOASAAQfAAaiEADAALAAsLsQEBAn8CQCAAKAIEIAAoAghJBEAgACABIAIQjQgMAQsjAEEgayIEJAAgBEEMaiAAIAAoAgQgACgCAGtBLG1BAWoQ0gIgACgCBCAAKAIAa0EsbSAAQQhqEOwBIgMoAgggARAQIgEgAikAGDcAJCABIAIpABA3ABwgASACKQAINwAUIAEgAikAADcADCADIAMoAghBLGo2AgggACADEP4DIAMQ0QIgBEEgaiQACyAAKAIEGgtNACAAENcCIAEoAgAhASACKAIAIQIgAEIANwIoIABBADoAJSAAQQA6AAUgACACOgAEIAAgATYCACAAQgA3AjAgAEIANwI4IABBAToAQAvIBQIFfwF+IwBBEGsiBiQAIAIQOCIKp0H/AXFBgAJyIQggCiABMQAeiKchBwNAAkACQCABKAIMIAdBA3RqIgUoAgAiCSAIRgRAIAIgASgCACAFKAIEQTBsahAjRQ0CIAEoAgAhASAFKAIEIQIgAEEAOgAEIAAgASACQTBsajYCAAwBCyAIIAlNDQEgBiACNgIMIAYgBDYCCCAGIAM2AgQjAEEQayICJAACQCABKAIEIAEoAghJBEAgBikCBCEKIAEoAgQiAyAGKAIMIgQpAgA3AgAgAyAEKAIINgIIIARCADcCACAEQQA2AgggAyAKpyIEKQMANwMQIAMgBCgCEDYCICADIAQpAwg3AxggBEEANgIQIARCADcDCCADIApCIIinLQAAOgAoIAEgA0EwajYCBAwBCyMAQSBrIgkkACAJQQxqIAEgASgCBCABKAIAa0EwbUEBahCZBSABKAIEIAEoAgBrQTBtIAFBCGoQmAUhAyAGKQIEIQogAygCCCIEIAYoAgwiBSkCADcCACAEIAUoAgg2AgggBUIANwIAIAVBADYCCCAEIAqnIgUpAwA3AxAgBCAFKAIQNgIgIAQgBSkDCDcDGCAFQQA2AhAgBUIANwMIIAQgCkIgiKctAAA6ACggAyADKAIIQTBqNgIIIAEgAxDvCyADEO4LIAlBIGokAAsgASgCBBogASgCBCABKAIAa0EwbSIEQQFrIQMCQCABKAIUIARJBEAgASgCFEGAgICAeEYEQCABELQIEBIACyABIAEtAB5BAWs6AB4gARBNIAEQMCABEI8IDAELIAIgAzYCDCACIAg2AgggAiACKQIINwMAIAEgAiAHEDELIAEoAgAhASAAQQE6AAQgACABIANBMGxqNgIAIAJBEGokAAsgBkEQaiQADwsgB0EBaiIHQQAgByABKAIQRxshByAIQYACaiEIDAALAAuuAgEGfyMAQaABayICJAAgAEGYAmoiBiABELoBIgQgAEGcAmpHBEAgAEHAAmohBSAAKALQAgRAIAJBlAFqIAEQECEDIAJBADoAgAEgAkEGOgB4IAJBADYCkAEgAkIANwKIASAFIAMgAkGIAWoiB0EFIAJB4ABqEKQBIAJB6ABqEEogBxBYIAMQChoLIAJBQGsiAyAAQZwEaiABEKcDIAAgBEEgaiADEIEEIAYgBBCABCAALQCkAkUEQCAAIAEQlAgLIAAgASACQUBrEOMHIAAoAtACBEAgAkE0aiABEBAhACACQQA6ACAgAkEGOgAYIAJBADYCMCACQgA3AiggBSAAIAJBKGoiAUECIAIQpAEgAkEIahBKIAEQWCAAEAoaCyACQUBrEDwLIAJBoAFqJAALZgICfgN/IAEQOCEDIAEgACgCAGtBKG0hBCADIAAxAB6IpyEBIAAoAhAhBSAAKAIMIQYDQCAEIAYgAUEDdGooAgRHBEAgAUEBaiIBQQAgASAFRxshAQwBCwsgACABEJAIIAAoAgAaC+gDAQZ/IwBB8ABrIgUkAAJAIABBqAFqIgcgARCRASIGIAAoAqwBRwRAIAZBEGoiASACENUCBEAgBEUNAiACIAEQ1AJFDQIgBUHQAGogBEGQAWogBiABELwBDAILIAEpAwAgACkD8AFWBEAgAEHIAWogARDtASAGEJYDCyAFIAIpAwA3A1AgBSACKAIQNgJgIAUgAikDCDcDWCACQQA2AhAgAkIANwMIIAVBADoAaCABIAVB0ABqIgIQpAUgBUHYAGoQChogASkDACAAKQPwAVgNASAAIABBxABqIAYgARDTAiACIABByAFqIAEQ7QEgBhD2AQwBCwJAIABBiAFqIgggARBqIgYgACgCjAFGIglFBEAgBkEQaiIKIAIQ1QIEQCAERQ0DIAIgChDUAkUNAyAFQdAAaiAEQfAAaiAGELsBDAMLIAAgACABEKADIAAoAjQgACgCOEYEQCAAENcCCyAIIAYQnAggAikDACAAKQPwAVYNASADIAEQmwgMAgsgAikDACAAKQPwAVgNAQsgBUEAOgAnIAVB0ABqIgQgByABIAIgBUEnahCaCCAAIABBxABqIAUoAlAiASABQRBqIgIQ0wIgBCAAQcgBaiACEO0BIAEQ9gEgCQ0AIAMgARCbCAsgBUHwAGokAAuTCgEKfyMAQcABayIIJAACQAJAIABBiAFqIgogARBqIgUgACgCjAFHBEAgBUEQaiIGIAIQ1QJFDQEgBEUNAiACIAYQ1AJFDQIgCEEMaiAEQfAAaiAFELsBDAILIABBqAFqIgYgARCRASIFIAAoAqwBRwRAIAIgBUEQaiIJENQCBEAgBARAIAhBDGogBEGQAWogBSAJELwBC0EAIQkMAwsgCSkDACAAKQPwAVYEQCAAIAUQpQUgAEHIAWogCRDtASAFEJYDCyAGIAUQsAUaDAELIAAtAIQCRQ0AIAIpAwAgACkD6AFWDQBBDCEJQQMQGkUNASAIQRBqEBUhDiAIQQM2AgwgDkGZ0AAQDSACKQMAEHpBztIAEA0gAkEIahATGiAIQQxqEBkMAQtBACEJIAMtALwDBH9BAQUgA0HAA2oiBUHUAGohBgNAAkAgBigCACIEIAVGDQAgASAEEBxFBEAgASAEQQxqEH1FDQELIAUgBCgCRCIHRwRAIARBxABqIQYgASAHQThqEBwNAgsgBEHIAGohBgwBCwsgBCAFRwtFDQAgCEEMaiAKIAEgAhCCBCAILQAQRQRAIAgoAgxBEGogAhCGBAsgACAAIAgoAgwiACAAQRBqENMCIAgoAgwhACMAQdABayIBJAAgA0HAAmohCiADKALQAgRAIAFBxAFqIAAQECECIAFBADoAsAEgAUEGOgCoASABQQA2AsABIAFCADcCuAEgCiACIAFBuAFqIgRBBCABQZABahCkASABQZgBahBKIAQQWCACEAoaCyABQfAAaiIFIANBnARqIAAQpwMgA0GYAmoiAiAAELoBIgQgA0GcAmpHBEAgAyAEQSBqIAUQgQQgAiAEEIAECyABQeQAaiACIAAgAxCVCCABKAJkIQIgAy0ApAJFBEAgAyAAEJQICyACIAJBEGoiBzYC7AMgAiADNgLoAyABQcwAaiIEIANBsANqEJMIIAFB2ABqIgUgBCAAEJIIIAFB5ABqIgYgBRCRCCACQfADaiAGEBsgBhAKGiAFEAoaIAQQChogAyACQSBqIAcgAUHwAGoQsQUgAygC3AIhBiADKALYAiEEA0AgBCAGRgRAAkAgASgCcCABKAJ0Rg0AIANBmAFqIAAQtAUhCyABKAJ0IQwgASgCcCEEA0AgBCAMRg0BIAQoAgAhAiMAQTBrIgYkACACQShqIAZBJGogABAQIgUgBkEIaiALEO4BIgcQrQcgB0EIahAKGiAFEAoaIAIoAgghDSACKAIEIQUDQCAFIA1HBEAgBSgCACEHIwBBgAJrIgIkACACQfgBaiAHQfACaiAAEKoDIAItAPwBRQRAIAJBCGoiB0EAQfABEB0aIAcQmgMhByACKAL4AUEQaiAHEJIDIAcQmAMLIAJBgAJqJAAgBUEEaiEFDAELCyAGQTBqJAAgBEEEaiEEDAALAAsFIAQoAgAhBSMAQYACayICJAAgAkH4AWogBUGUA2ogABCqAyACLQD8AUUEQCACQQhqIgVBAEHwARAdGiAFEJoDIQUgAigC+AFBEGogBRCSAyAFEJgDCyACQYACaiQAIARBBGohBAwBCwsgAygC0AIEQCABQUBrIAAQECEAIAFBADoAKCABQQY6ACAgAUEANgI8IAFCADcCNCAKIAAgAUE0aiICQQEgAUEIahCkASABQRBqEEogAhBYIAAQChoLIAFB8ABqEDwgAUHQAWokAAsgCEHAAWokACAJC0QAIwBBEGsiACQAIAIoAgAhAiAAIAMpAgA3AwAgACACNgIMIAEgACgCDBAQQRBqIAAoAgAgACgCBBCcBRogAEEQaiQAC1kBAX8jAEEQayIDJAAgAyACNgIIIAMgATYCDCAAIAMoAgwiASkCADcCACAAIAEoAgg2AgggAUIANwIAIAFBADYCCCAAQRBqIAMoAggQ7gEaIANBEGokACAACykAIAAgARAQIgAgAikDADcDECAAQRhqIAMQEBogAEEoaiAEENkCGiAACysBAX8gACgCBCECA0AgASACRkUEQCACQYACaxCjCCECDAELCyAAIAE2AgQLDgAgAEEQahCYAyAAEAoLSgEBfyAAQgA3AgAgAEE+OgAeIABBzZmz+gM2AhggAEIANwIQIABCADcCCCAAEDAgACgCDCIBBEAgAUEAIAAoAhBBA3QQHRoLIAALNgEBfyMAQRBrIgIkACACIAE2AgwgACACKAIMEBAiAEEQakEAQfABEB0QmgMaIAJBEGokACAACxAAIAAgACgCBEGAAmsQoggLXQAgACABKQIANwIAIAAgASgCCDYCCCABQgA3AgAgAUEANgIIIAAgAikDADcDECAAIAMoAgg2AiAgACADKQIANwIYIANCADcCACADQQA2AgggAEEoaiAEENkCGiAACxYAIABBKGoQqwMgAEEYahAKGiAAEAoLMQEBfwNAIAEEQCACIAEgAUEQaiAAEBwiAxshAiABQQRqIAEgAxsoAgAhAQwBCwsgAgtQACAAKAIABEAgABCuCCAAKAIAEAsgAEEANgIIIABCADcCAAsgACABKAIANgIAIAAgASgCBDYCBCAAIAEoAgg2AgggAUEANgIIIAFCADcCAAtQ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kAEgBUEQaiQAC3wBAn8jAEEQayIDJABBGBAYIQIgAyAAQQhqNgIIIANBATYCDCACIAEpAwg3AxAgAiABKQMANwMIIAIgADYCACACIAAoAgQiATYCBCABIAI2AgAgACACNgIEIAAgACgCCEEBajYCCCADQQA2AgQgA0EEahCQASADQRBqJAALOwEBfyMAQRBrIgMkACADIAI2AgggAyABNgIMIAAgAygCDBAQIgBBEGogAygCCBDuARogA0EQaiQAIAALGAAgACABEBAiAEEQaiABQRBqEO4BGiAAC2kBAn8jAEEgayIDJAAgA0EMaiAAIAAoAgQgACgCAGtBKG1BAWoQowEgACgCBCAAKAIAa0EobSAAQQhqEIcBIgIoAgggARC9CBogAiACKAIIQShqNgIIIAAgAhDwASACEO8BIANBIGokAAsUACAAIAAoAgQgARC9CEEoajYCBAsWACAAQShqENYBIABBGGoQChogABAKC2EBAX8gAEGAgICAeCABIAFBAEgbIgEQrAUgACABIAAoAgQgACgCAGtBKG0iAiABIAJLGxCLDSEBAkAgACgCEARAIAEgAC0AHk8NAQsgACABOgAeIAAQTSAAEDAgABCrBQsLFwAgAEHI4/E4TwRAEBIACyAAQSRsEBgLPQECfyAAKAIEIQIDQCACIAAoAggiAUcEQCAAIAFBJGsiATYCCCABEL0BGgwBCwsgACgCACIABEAgABALCwuNAQEDfyAAKAIEIQMgACgCACEEIAEoAgQhAgNAIAMgBEcEQCACQSRrIANBJGsiAxClAyECDAELCyABIAI2AgQgACgCACEDIAAgAjYCACABIAM2AgQgACgCBCECIAAgASgCCDYCBCABIAI2AgggACgCCCECIAAgASgCDDYCCCABIAI2AgwgASABKAIENgIAC0oBAX8gAEEANgIMIAAgAzYCECABBEAgARDCCCEECyAAIAQ2AgAgACAEIAJBJGxqIgI2AgggACAEIAFBJGxqNgIMIAAgAjYCBCAACzkBAX8gAUEASARAEAEAC0H/////ByAAKAIIIAAoAgBrIgBBAXQiAiABIAEgAkkbIABB/////wNPGwswAQJ/IAAoAgAhAiAAKAIEIQEDQCABIAJHBEAgAUEkaxC9ASEBDAELCyAAIAI2AgQLnQEBBH8jAEEgayIDJAAgACgCBCAA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ACFOIAFCADcCxAIgAUHEAmogASgC0AIQrAUCQANAAkACQAJAIAEpA9ACIE5WBEAgAUHgAWogBRBSIAEtAOwBRQ0BIAFBsAJqIAUQFiABLQC4AkUNASABQaACaiAFEFICfyABLQCsAkUEQCAEQQA6AMABIARBADoAAEEBDAELIAEgASkDsAI3AwAgCyABKQOgAjcCACALIAEoAqgCNgIIIAFBADYCqAIgAUIANwOgAgJAIAFBxAJqIgIoAgQiBiACKAIISQRAIAYgASkC4AE3AgAgBiABKALoATYCCCABQgA3AuABIAFBADYC6AEgBiABKQMANwMQIAYgASgCEDYCICAGIAEpAwg3AxggAUEANgIQIAFCADcDCCACIAZBKGo2AgQMAQsjAEEgayIPJAAgD0EMaiACIAIoAgQgAigCAGtBKG1BAWoQowEgAigCBCACKAIAa0EobSACQQhqEIcBIgYoAggiCCABKQLgATcCACAIIAEoAugBNgIIIAFCADcC4AEgAUEANgLoASAIIAEpAwA3AxAgCCABKAIQNgIgIAggASkDCDcDGCABQQA2AhAgAUIANwMIIAYgBigCCEEoajYCCCACIAYQ8AEgBhDvASAPQSBqJAAgAigCBBoLIAsQChpBAAshAiABQaACahA2GgwCCyABQbACaiAFEBYgAS0AuAJFBEAgBEEAOgDAASAEQQA6AAAMAwsgAUEANgKcAkIAIU4gAUIANwKUAiABQZQCaiABKAKwAhCqBwJ/AkADQCBOIAEpA7ACWg0BIAFBoAJqIAUQFgJAIAEtAKgCRQ0AIAFBADoAISABQQA6AAAgASkDoAJQRQRAIAFBgAJqIAUQFiABLQCIAkUNASAFKAIEIgZBIEkNASAFKAIAIgItAAAhCCABIAIpABg3APcBIAEgAikAETcD8AEgASACKQAJNwPoASABIAIpAAE3A+ABIAUgBkEgazYCBCAFIAJBIGo2AgAgASAIOgABIAEgASkDgAI8AAAgASABKQD3ATcAGSABIAEpA/ABNwASIAEgASkD6AE3AAogASABKQPgATcAAiABQQE6ACELIE5CAXwhTgJAIAFBlAJqIgIoAgQiBiACKAIIRwRAIAIgBiABQSIQH0EiajYCBAwBCyMAQSBrIggkACAIQQxqIAIgAigCBCACKAIAa0EibUEBahDzBCACKAIE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ASABKAKsAjYCrAMgAUEANgKkAiABQQA2AqgCIAFBADYCrAIgAUEAOgC8AyABQQA6ALADIAEtAIQBBEAgASABKQN4NwKwAyABIAEoAoABNgK4AyABQQA2AoABIAFCADcDeCABQQE6ALwDCyABIAEpAnA3AsQDIAEgASgCbDYCwAMgAUEANgJ0IAFCADcCbCABIE43A9ADIAQgAUGAA2oiBBDnASAEEKsDCyABQewAahDzASABQfgAahA2GgsgAUGkAmoQ8wEMAgsgBEEAOgBYIARBADoAAEEBIQYLIE5CAXwhTiABQdABahA/IAZFDQELCyABQcQCahDyAQsgAUHgAmoQPwsgAUHwAmoQPwsgAUGQBGokAAJ/IAMtAMACRQRAQQMQGgRAIA8QFSE0IANBAzYCECA0Qb3RABANIBIQExogA0EQahAZCyAOQQA6ANgBIA5BADoAAEEBDAELIBQgAygCyAIiASAUKAIAajYCACAUIBQoAgQgAWs2AgQgA0H8AmohBSADQegCaiECIANB2AJqIQYgA0HoAWohBwJAIANBjANqIgEoAgQgASgCCEkEQCABIAEoAgQgBSACIAYgBxCnCEGAAWo2AgQMAQsjAEEgayIIJAAgCEEMaiABIAEoAgQgASgCAGtBB3VBAWoQ1gIgASgCBCABKAIAa0EHdSABQQhqENcBIgQoAgggBSACIAYgBxCnCBogBCAEKAIIQYABajYCCCABIAQQtgUgBBDgCCAIQSBqJAALIAEoAgQaQQALIQEgA0HoAWoiBC0AWARAIAQQqwMLDAILIANBEGogA0GoA2oQtwUiASADKAKMAzYCyAEgASADKAKQAzYCzAEgASADKAKUAzYC0AEgA0EANgKUAyADQgA3AowDIA4gARC3BSIEQcgBaiABQcgBahAlGiAEQQE6ANgBIAEQ4ggMBAsgDkEAOgDYASAOQQA6AABBASEBCyADQdgCahA2GgwBCyAOQQA6ANgBIA5BADoAAEEBIQELIFFCAXwhUSADQfwCahA2GiABRQ0BCwsgA0GMA2oQ4QgLIANBqANqENoCCyADQYAFaiQAIBQtAOgBIiQEQCMAQfADayISJAAgDigCzAEhByAOKALIASEJAkACQCAOLQDAAQRAIA5B8ABqIQEDQCAHIAlGBEAgACgCAEEQaiEEIABBCGohDyASQbACaiAO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RQ0AIAMhAUEDEBpFDQAgKxAVIUsgD0EDNgIEIEsgJhATQfLRABANIBcQExogD0EEahAZCyAqEFggAw0BCyAXQYABaiEXDAELCyAPQaACaiQAIAEiCQ0AAkAgACgCACIBLQCkAg0AIAAoAvQCIQMgACgC8AIhCQNAIAMgCUcEQCABQZgCaiAJELoBIgQgACgCACIBQZwCakYNAiAJQQxqIQkgBC0A5AMNAQwCCwtBARAaBEAgEkGkAWoQFSFMIBJBATYCoAEgTCAAKAIAQbADahATQYPRABANIAAoAgAQExogEkGgAWoQGQsgACgCACIBQQE6AKQCIAEoAtwCIQMgASgC2AIhCQNAIAMgCUcEQCAJKAIAIgEtAJADBEAgAUHwAmoQsgULIAlBBGohCQwBCwtBACEJIAAoAgAiACgCuAJFDQEgEkGgAWogAEGoAmoQPSIAQQAQswUgABARGgwBC0EAIQkLIBJB8ANqJAALIBRBEGoiAC0A2AEEQCAAEOIICyAkRQ0BDAILQQMQGkUNACAUQRRqEBUhTSAUQQM2AhAgTSAAKAIAQbADahATQabLABANGiAUQRBqEBkLQQkhCQsgFEHwAWokACAJCy8BA38gAC0AISICQQBHIAEtACEiA0EAR3MhBCACRSADRXIEfyAEBSAAIAEQjQQLC6ABAQJ/IAEgAiAAKAIAIAEoAgQQowo2AgQgACgCBCEEIAEoAgghAwNAIAIgBEcEQCADIAIQMkHwAGohAyACQfAAaiECDAELCyABIAM2AgggACgCACECIAAgASgCBDYCACABIAI2AgQgACgCBCECIAAgASgCCDYCBCABIAI2AgggACgCCCECIAAgASgCDDYCCCABIAI2AgwgASABKAIENgIACzcBAX8jAEEQayIBJAAgASAANgIMIAEoAgwiACgCAARAIAAQzwggASgCDCgCABALCyABQRBqJAALNwEBfyMAQRBrIgEkACABIAA2AgwgASgCDCIAKAIABEAgABDMCCABKAIMKAIAEAsLIAFBEGokAAvbAQEBfyAAIAFB4QAQHyIAQeQAaiICKAIABEAgAhDPCCACKAIAEAsgAkEANgIIIAJCADcCAAsgACABKAJkNgJkIAAgASgCaDYCaCAAIAEoAmw2AmwgAUEANgJsIAFCADcCZCAAQfAAaiABQfAAahCvBSAAQZAB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IQQgASgCBCECA0AgAyAERwRAIAJB8ABrIANB8ABrIgMQzAUhAgwBCwsgASACNgIEIAAoAgAhAyAAIAI2AgAgASADNgIEIAAoAgQhAiAAIAEoAgg2AgQgASACNgIIIAAoAgghAiAAIAEoAgw2AgggASACNgIMIAEgASgCBDYCAAsRACAALQAoBEAgAEEIahBGCwsUACAAIAAoAgQgARBlQcgAajYCBAvKAgECfyMAQUBqIgMkAAJAAkAgAUIFVg0AAkACQAJAAkACQCABp0EBaw4FAQIDBQQACyADQQE6ADggA0EANgIgIAAgA0EYahDkAiADQSBqEEYMBQsgA0EgaiADIAIQcyICEHMiBEECOgAYIAAgA0EYahDkAiAEEEYgAhA7DAQLIANBAToAOCADQQE2AiAgACADQRhqEOQCIANBIGoQRgwDCyADQQA6ADggACADQRhqEOQCIANBIGoQRgwCCwJAIAJFDQACQAJAIAItABAOAgABAgsgAikDACEBIANBAzoAOCADIAE3AyAgACADQRhqEOQCIANBIGoQRgwDCyACKQMAIQEgA0EDOgA4IAMgATcDICAAIANBGGoQ5AIgA0EgahBGDAILIABBADoAKCAAQQA6AAAMAQsgAEEAOgAoIABBADoAAAsgA0FAayQACwsAIAAgACABEPkICwkAIABBGBDlAgulAQEDfyABKAIEIQIgACgCACEEIAAoAgQhAwNAIAMgBEZFBEAgAkEYayICIANBGGsiAykDADcDACACIAMpAxA3AxAgAiADKQMINwMIDAELCyABIAI2AgQgACgCACEDIAAgAjYCACABIAM2AgQgACgCBCECIAAgASgCCDYCBCABIAI2AgggACgCCCECIAAgASgCDDYCCCABIAI2AgwgASABKAIENgIACzsBAn8gACgCBCECA0AgAiAAKAIIIgFHBEAgACABQRhrIgE2AgggARA7DAELCyAAKAIAIgAEQCAAEAsLC4wBAQN/IAAoAgQhAyAAKAIAIQQgASgCBCECA0AgAyAERwRAIAJBGGsgA0EYayIDEHMhAgwBCwsgASACNgIEIAAoAgAhAyAAIAI2AgAgASADNgIEIAAoAgQhAiAAIAEoAgg2AgQgASACNgIIIAAoAgghAiAAIAEoAgw2AgggASACNgIMIAEgASgCBDYCAAsWACAALQAMBEAg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CkcEQCAEQQJ0IgMgAmogBkECdGogAyAJaiAFQQJ0aiAHEIgCCyABQQFqIgFBAkcEQCAAIAkgARChBAsgACACEIoBIAAgCCgCCBCJASAAIAQgBmogB2oiABBvIAhBADYCDCACIABBAnRqIAhBDGoQgAEgCEEQaiQADwsQbgALbwEDfyMAQRBrIgQkACABBEAgASAAECciAyAAEAwiAmtLBEAgACADIAEgA2sgAmogAiACEOAFCyACIAAQISIDaiABQQAQtAkgACABIAJqIgAQrgIgBEEAOgAPIAAgA2ogBEEPahCDAQsgBEEQaiQACz0BAX8jAEEQayIDJAAgAyACOgAPA0AgAQRAIAAgAy0ADzoAACABQQFrIQEgAEEBaiEADAELCyADQRBqJAALFgAgACABIAJCgICAgICAgICAfxDbCgsJACAAEDM2AgALIwECfyAAIQEDQCABIgJBBGohASACKAIADQALIAIgAGtBAnULDwAgACAAKAIAQQRrNgIACwoAIAAoAgBBBGsLLAAgACgCABogACgCABogABCrAhogACgCABogABCoARogACgCABogABCrAhoLMAAjAEEQayICJAACQCAAIAFGBEAgAUEAOgB4DAELIAJBD2ogARDGCQsgAkEQaiQACw8AIAAtAAwEQCAAENEFCwssAQF/IAAoAgQhAgNAIAEgAkcEQCAAEKwCGiACQQRrIQIMAQsLIAAgATYCBAsJACAAQQA2AgALJgAgACgCABogACgCABogABCrAhogACgCABogABCrAhogACgCABoLSwEBfyMAQRBrIgMkAAJAAkAgAkEeSw0AIAEtAHgNACABQQE6AHgMAQsgA0EPaiACEMgJIQELIANBEGokACAAIAI2AgQgACABNgIAC0QBAn8jAEEQayIBJAAgABCsAhogAUH/////AzYCDCABQf////8HNgIIIAFBDGogAUEIahC2BCgCACECIAFBEGokACACCwsAIABBADYCACAACw4AIABBDGoQ0QUgABBACycBAn8jAEEQayIBJAAgASAANgIMIAFBDGoQ4wUhAiABQRBqJAAgAgs3AQF/IwBBEGsiAyQAIAMgARDECTYCDCADIAIQxAk2AgggACADQQxqIANBCGoQtAQgA0EQaiQACwkAIAFBBBCmCgsvAQF/IwBBEGsiAyQAIAAgAhCuAiAD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IgokACAJAn8gAARAIAIQ7gkhAAJAIAEEQCAKQQRqIgEgABCBAiADIAooAgQ2AAAgASAAEIACDAELIApBBGoiASAAEKYEIAMgCigCBDYAACABIAAQmQELIAggARBgIAEQChogBCAAEJcBOgAAIAUgABBtOgAAIApBBGoiASAAEGwgBiABEGAgARAKGiABIAAQmgEgByABEGAgCkEEahAKGiAAEP8BDAELIAIQ7QkhAAJAIAEEQCAKQQRqIgEgABCBAiADIAooAgQ2AAAgASAAEIACDAELIApBBGoiASAAEKYEIAMgCigCBDYAACABIAAQmQELIAggARBgIAEQChogBCAAEJcBOgAAIAUgABBtOgAAIApBBGoiASAAEGwgBiABEGAgARAKGiABIAAQmgEgByABEGAgCkEEahAKGiAAEP8BCzYCACAKQRBqJAALCwAgAEGstAIQ4QELCwAgAEG0tAIQ4QELHwEBfyABKAIAELEKIQIgACABKAIANgIEIAAgAjYCAAvzDwEKfyMAQZAEayILJAAgCyAKNgKIBCALIAE2AowEAkAgACALQYwEahAtBEAgBSAFKAIAQQRyNgIAQQAhAAwBCyALQdsDNgJIIAsgC0HoAGogC0HwAGogC0HIAGoiARBEIg8oAgAiCjYCZCALIApBkANqNgJgIAEQJiERIAtBPGoQJiEMIAtBMGoQJiEOIAtBJGoQJiENIAtBGGoQJiEQIwBBEGsiCiQAIAsCfyACBEAgCkEEaiIBIAMQ6QkiAhCBAiALIAooAgQ2AFwgASACEIACIA0gARDAASABEEEaIAEgAhCZASAOIAEQwAEgARBBGiALIAIQlwE2AlggCyACEG02AlQgASACEGwgESABEGAgARAKGiABIAIQmgEgDCABEMABIAEQQRogAhD/AQwBCyAKQQRqIgEgAxDoCSICEIECIAsgCigCBDYAXCABIAIQgAIgDSABEMABIAEQQRogASACEJkBIA4gARDAASABEEEaIAsgAhCXATYCWCALIAIQbTYCVCABIAIQbCARIAEQYCABEAoaIAEgAhCaASAMIAEQwAEgARBBGiACEP8BCzYCFCAKQRBqJAAgCSAIKAIANgIAIARBgARxIRRBACEDQQAhAQNAIAEhAgJAAkACQAJAIANBBEYNACAAIAtBjARqEC0NAEEAIQoCQAJAAkAC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ASEGIAUgBSgCACIIQQFqNgIAIAggBjoAAAsgCSAHIAIgBSgCABCFAiAFIAUoAgAgAiAHa2oiBTYCACAEIAUgAyABIABraiABIAJGGzYCACAKQQRqEAoaIApBEGokAA8LIAkgBsAQWSEGIAUgBSgCACIIQQFqNgIAIAggBjoAACAHIQYMAAsAC9kDAQh/IwBBEGsiCiQAIAYQayELIApBBGoiByAGEPICIgYQbAJAIAcQmAEEQCALIAAgAiADEIUCIAUgAyACIABraiIGNgIADAELIAUgAzYCAAJAAkAgACIHLQAAIghBK2sOAwABAAELIAsgCMAQWSEHIAUgBSgCACIIQQFqNgIAIAggBzoAACAAQQFqIQcLAkAgAiAHa0ECSA0AIActAABBMEcNACAHLQABQSByQfgARw0AIAtBMBBZIQggBSAFKAIAIglBAWo2AgAgCSAIOgAAIAsgBywAARBZIQggBSAFKAIAIglBAWo2AgAgCSAIOgAAIAdBAmohBwsgByACEK8CQQAhCSAGEG0hDUEAIQggByEGA38gAiAGTQR/IAMgByAAa2ogBSgCABCvAiAFKAIABQJAIApBBGoiDCAIECAtAABFDQAgCSAKQQRqIAgQICwAAEcNACAFIAUoAgAiCUEBajYCACAJIA06AAAgCCAIIAwQDEEBa0lqIQhBACEJCyALIAYsAAAQWSEMIAUgBSgCACIOQQFqNgIAIA4gDDoAACAGQQFqIQYgCUEBaiEJDAELCyEGCyAEIAYgAyABIABraiABIAJGGzYCACAKQQRqEAoaIApBEGokAAubAwEDfyMAQdACayIAJAAgACACNgLIAiAAIAE2AswCIAMQxgEhBiADIABB0AFqEMADIQcgAEHEAWogAyAAQcQCahC/AyAAQbgBahAmIgEgARAnEB4gACABQQAQICICNgK0ASAAIABBEGo2AgwgAEEANgIIA0ACQCAAQcwCaiAAQcgCahAtDQAgACgCtAEgARAMIAJqRgRAIAEQDCEDIAEgARAMQQF0EB4gASABECcQHiAAIAMgAUEAECAiAmo2ArQBCyAAQcwCaiIDEEggBiACIABBtAFqIABBCGogACgCxAIgAEHEAWogAEEQaiAAQQxqIAcQ7wINACADEFMaDAELCwJAIABBxAFqEAxFDQAgACgCDCIDIABBEGprQZ8BSg0A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AiACKAIEQQFyNgIEIAkgBiAJKAIAQQFxckECcjYCACABIAZqIgIgAigCBEEBcjYCBCABIAYQuwQLAkAgACgCBCICQQNxRQ0AIAJBeHEiASAFQRBqTQ0AIAAgBSACQQFxckECcjYCBCAAIAVqIgQgASAFayICQQNyNgIEIAAgAWoiASABKAIEQQFyNgIEIAQgAhC7BAsgAEEIagsLIgBFDQEaIAggADYCDEEAIQELIAELIQBBACAIKAIMIAAbIQELIAhBEGokACABDQBByMMCKAIAIgBFDQAgABEQAAwBCwsgAQ8LIAAQGAsHACABIABrCyMAA0AgACABRwRAIAJB8ABrIABB8ABrIgAQMiECDAELCyACCwkAIAAgARCiCgsHACAAQQhLCxMAIAEQpQoEQCAAEAsPCyAAEAsLJQEBfyAAKAIIIQIDQCABIAJGRQRAIAAgAkEEayICNgIIDAELCwuBAQEDfyMAQRBrIgQkACMAQSBrIgMkACADQRhqIAAgARD5BSADQRBqIANBDGoiASADKAIYIAMoAhwgAhD4BSADIAAgAygCEBD3BTYCDCADIAIgAygCFBC1BDYCCCAEQQhqIAEgA0EIahDHASADQSBqJAAgBCgCDCEFIARBEGokACAFCwwAIAAgACgCBBCnCgsJACAAEN0BEAsLDgBBACAAIABBfxCJAhsLqQEBA38jAEEQayIDJAAgASACEKQKIgVB7////wdNBEACQCAFEMIDBEAgACAFEHkgACEEDAELIANBCGogACAFELQCQQFqEIYCIAMoAgwaIAAgAygCCCIEEIoBIAAgAygCDBCJASAAIAUQbwsDQCABIAJHBEAgBCABEIMBIARBAWohBCABQQFqIQEMAQsLIANBADoAByAEIANBB2oQgwEgA0EQaiQADwsQbgALEAAgAEIANwIAIABBADYCCAsPACAAIAAoAhggAWo2AhgLFwAgACACNgIcIAAgATYCFCAAIAE2AhgLVwECfwJAIAAoAgAiAkUNAAJ/IAIoAhgiAyACKAIcRgRAIAIgASACKAIAKAI0EQMADAELIAIgA0EEajYCGCADIAE2AgAgAQtBfxCJAkUNACAAQQA2AgALCzEBAX8gACgCDCIBIAAoAhBGBEAgACAAKAIAKAIoEQIADwsgACABQQRqNgIMIAEoAgALJwEBfyAAKAIMIgEgACgCEEYEQCAAIAAoAgAoAiQRAgAPCyABKAIACycBAX8CQCAAKAIAIgJFDQAgAiABELYKQX8QiQJFDQAgAEEANgIACwsdACAAIAFB/P///wdBAUH/////A0GAgICABBC2AwsJACAAEP4FEAsLPQEBfyAAKAIYIgIgACgCHEYEQCAAIAEQugIgACgCACgCNBEDAA8LIAAgAkEBajYCGCACIAE6AAAgARC6Ags0AQF/IAAoAgwiASAAKAIQRgRAIAAgACgCACgCKBECAA8LIAAgAUEBajYCDCABLAAAELoCCyoBAX8gACgCDCIBIAAoAhBGBEAgACAAKAIAKAIkEQIADwsgASwAABC6AgsPACAAIAAoAgAoAhgRAgALCAAgACgCEEULBABBfwsOACAAIAAgAWogAhCoCgsIACAAEPYFGgsKACABIABrQQJ1C4QBAQN/IwBBEGsiBSQAIAVBADoADiMAQRBrIgMkACAAIAEQhQYhAQNAIAEEQCADIAA2AgwgAyADKAIMIAFBAXYiBEECdGo2AgwgASAEQX9zaiAEIAMoAgwgAhCIBiIEGyEBIAMoAgxBBGogACAEGyEADAELCyADQRBqJAAgBUEQaiQAIAALrQwBBn8jAEEQayIEJAAgBCAANgIMAkAgAEHTAU0EQEHQywFBkM0BIARBDGoQvwooAgAhAgwBCyAAQXxPBEAQEgALIAQgACAAQdIBbiIGQdIBbCICazYCCEGQzQFB0M4BIARBCGoQvwpBkM0Ba0ECdSEFA0AgBUECdEGQzQFqKAIAIAJqIQJBBSEAA0ACQCAAQS9GBEBB0wEhAANAIAIgAG4iASAASQ0FIAIgACABbEYNAiACIABBCmoiAW4iAyABSQ0FIAIgASADbEYNAiACIABBDGoiAW4iAyABSQ0FIAIgASADbEYNAiACIABBEGoiAW4iAyABSQ0FIAIgASADbEYNAiACIABBEmoiAW4iAyABSQ0FIAIgASADbEYNAiACIABBFmoiAW4iAyABSQ0FIAIgASADbEYNAiACIABBHGoiAW4iAyABSQ0FIAIgASADbEYNAiACIABBHmoiAW4iAyABSQ0FIAIgASADbEYNAiACIABBJGoiAW4iAyABSQ0FIAIgASADbEYNAiACIABBKGoiAW4iAyABSQ0FIAIgASADbEYNAiACIABBKmoiAW4iAyAB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QgBSDQEgAiAEQQFxaiECDAELIABQIAVCgICAgICAwP//AFQgBUKAgICAgIDA//8AURtFBEAgAUIZiKdB////AXFBgICA/gdyIQIMAQtBgICA/AchAiAFQv///////7+/wABWDQBBACECIAVCMIinIgRBkf4ASQ0AIANBEGogACABQv///////z+DQoCAgICAgMAAhCIFIARBgf4AaxBhIAMgACAFQYH/ACAEaxC7AiADKQMIIgBCGYinIQIgAykDACADKQMQIAMpAxiEQgBSrYQiBVAgAEL///8PgyIAQoCAgAhUIABCgICACFEbRQRAIAJBAWohAgwBCyAFIABCgICACIWEQgBSDQAgAkEBcSACaiECCyADQSBqJAAgAiABQiCIp0GAgICAeHFyvguqDwIFfw9+IwBB0AJrIgUkACAEQv///////z+DIQsgAkL///////8/gyEKIAIgBIVCgICAgICAgICAf4MhDSAEQjCIp0H//wFxIQgCQAJAIAJCMIinQf//AXEiCUH//wFrQYKAfk8EQCAIQf//AWtBgYB+Sw0BCyABUCACQv///////////wCDIgxCgICAgICAwP//AFQgDEKAgICAgIDA//8AURtFBEAgAkKAgICAgIAghCENDAILIANQIARC////////////AIMiAkKAgICAgIDA//8AVCACQoCAgICAgMD//wBRG0UEQCAEQoCAgICAgCCEIQ0gAyEBDAILIAEgDEKAgICAgIDA//8AhYRQBEAgAyACQoCAgICAgMD//wCFhFAEQEIAIQFCgICAgICA4P//ACENDAMLIA1CgICAgICAwP//AIQhDUIAIQEMAgsgAyACQoCAgICAgMD//wCFhFAEQEIAIQEMAgsgASAMhFAEQEKAgICAgIDg//8AIA0gAiADhFAbIQ1CACEBDAILIAIgA4RQBEAgDUKAgICAgIDA//8AhCENQgAhAQwCCyAMQv///////z9YBEAgBUHAAmogASAKIAEgCiAKUCIGG3kgBkEGdK18pyIGQQ9rEGFBECAGayEGIAUpA8gCIQogBSkDwAIhAQsgAkL///////8/Vg0AIAVBsAJqIAMgCyADIAsgC1AiBxt5IAdBBnStfKciB0EPaxBhIAYgB2pBEGshBiAFKQO4AiELIAUpA7ACIQMLIAVBoAJqIAtCgICAgICAwACEIhJCD4YgA0IxiIQiAkIAQoCAgICw5ryC9QAgAn0iBEIAEC8gBUGQAmpCACAFKQOoAn1CACAEQgAQLyAFQYACaiAFKQOYAkIBhiAFKQOQAkI/iIQiBEIAIAJCABAvIAVB8AFqIARCAEIAIAUpA4gCfUIAEC8gBUHgAWogBSkD+AFCAYYgBSkD8AFCP4iEIgRCACACQgAQLyAFQdABaiAEQgBCACAFKQPoAX1CABAvIAVBwAFqIAUpA9gBQgGGIAUpA9ABQj+IhCIEQgAgAkIAEC8gBUGwAWogBEIAQgAgBSkDyAF9QgAQLyAFQaABaiACQgAgBSkDuAFCAYYgBSkDsAFCP4iEQgF9IgJCABAvIAVBkAFqIANCD4ZCACACQgAQLyAFQfAAaiACQgBCACAFKQOoASAFKQOgASIMIAUpA5gBfCIEIAxUrXwgBEIBVq18fUIAEC8gBUGAAWpCASAEfUIAIAJCABAvIAYgCSAIa2ohBgJ/IAUpA3AiE0IBhiIOIAUpA4gBIg9CAYYgBSkDgAFCP4iEfCIQQufsAH0iFEIgiCICIApCgICAgICAwACEIhVCAYYiFkIgiCIEfiIRIAFCAYYiDEIgiCILIBAgFFatIA4gEFatIAUpA3hCAYYgE0I/iIQgD0I/iHx8fEIBfSITQiCIIhB+fCIOIBFUrSAOIA4gE0L/////D4MiEyABQj+IIhcgCkIBhoRC/////w+DIgp+fCIOVq18IAQgEH58IAQgE34iESAKIBB+fCIPIBFUrUIghiAPQiCIhHwgDiAOIA9CIIZ8Ig5WrXwgDiAOIBRC/////w+DIhQgCn4iESACIAt+fCIPIBFUrSAPIA8gEyAMQv7///8PgyIRfnwiD1atfHwiDlatfCAOIAQgFH4iGCAQIBF+fCIEIAIgCn58IgogCyATfnwiEEIgiCAKIBBWrSAEIBhUrSAEIApWrXx8QiCGhHwiBCAOVK18IAQgDyACIBF+IgIgCyAUfnwiC0IgiCACIAtWrUIghoR8IgIgD1StIAIgEEIghnwgAlStfHwiAiAEVK18IgRC/////////wBYBEAgFiAXhCEVIAVB0ABqIAIgBCADIBIQLyABQjGGIAUpA1h9IAUpA1AiAUIAUq19IQpCACABfSELIAZB/v8AagwBCyAFQeAAaiAEQj+GIAJCAYiEIgIgBEIBiCIEIAMgEhAvIAFCMIYgBSkDaH0gBSkDYCIMQgBSrX0hCkIAIAx9IQsgASEMIAZB//8AagsiBkH//wFOBEAgDUKAgICAgIDA//8AhCENQgAhAQwBCwJ+IAZBAEoEQCAKQgGGIAtCP4iEIQogBEL///////8/gyAGrUIwhoQhDCALQgGGDAELIAZBj39MBEBCACEBDAILIAVBQGsgAiAEQQEgBmsQuwIgBUEwaiAMIBUgBkHwAGoQYSAFQSBqIAMgEiAFKQNAIgIgBSkDSCIMEC8gBSkDOCAFKQMoQgGGIAUpAyAiAUI/iIR9IAUpAzAiBCABQgGGIgFUrX0hCiAEIAF9CyEEIAVBEGogAyASQgNCABAvIAUgAyASQgVCABAvIAwgAiACIAMgAkIBgyIBIAR8IgNUIAogASADVq18IgEgElYgASASURutfCICVq18IgQgAiACIARCgICAgICAwP//AFQgAyAFKQMQViABIAUpAxgiBFYgASAEURtxrXwiAlatfCIEIAIgBEKAgICAgIDA//8AVCADIAUpAwBWIAEgBSkDCCIDViABIANRG3GtfCIBIAJUrXwgDYQhDQsgACABNwMAIAAgDTcDCCAFQdACaiQAC8ABAgF/An5BfyEDAkAgAEIAUiABQv///////////wCDIgRCgICAgICAwP//AFYgBEKAgICAgIDA//8AURsNACACQv///////////wCDIgVCgICAgICAwP//AFYgBUKAgICAgIDA//8AUnENACAAIAQgBYSEUARAQQAPCyABIAKDQgBZBEAgASACUiABIAJTcQ0BIAAgASAChYRCAFIPCyAAQgBSIAEgAlUgASACURsNACAAIAEgAoWEQgBSIQMLIAMLcgEBfyMAQRBrIgMkAAJAIAAtABBBAUYEQCABIAIpAwA3AwAgASACKQMINwMIDAELIAMgAjYCDCADIAA2AgggAygCDCEBIAMoAggiABC5ASAAIAEpAwg3AwggACABKQMANwMAIABBAToAEAsgA0EQaiQACxIAIABFBEBBAA8LIAAgARCLBgspACABIAEoAgBBB2pBeHEiAUEQajYCACAAIAEpAwAgASkDCBCJBjkDAAuXGAMTfwF8An4jAEGwBGsiDCQAIAxBADYCLAJAIAG9IhpCAFMEQEEBIRBBigshEyABmiIBvSEaDAELIARBgBBx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AEgbOgAAIARBCHEhBiAMQRBqIQcDQCAHIgUCfyABmUQAAAAAAADgQWMEQCABqgwBC0GAgICAeAsiB0HAywFqLQAAIA1yOgAAIAYgA0EASnJFIAEgB7ehRAAAAAAAADBAoiIBRAAAAAAAAAAAYXEgBUEBaiIHIAxBEGprQQFHckUEQCAFQS46AAEgBUECaiEHCyABRAAAAAAAAAAAYg0AC0F/IQlB/f///wcgCyARIAprIgZqIg1rIANIDQAgAEEgIAIgDSADQQJqIAcgDEEQaiIHayIFIAVBAmsgA0gbIAUgAxsiCWoiAyAEEGIgACAIIAsQWiAAQTAgAiADIARBgIAEcxBiIAAgByAFEFogAEEwIAkgBWtBAEEAEGIgACAKIAYQWiAAQSAgAiADIARBgMAAcxBiIAMgAiACIANIGyEJCyAMQbAEaiQAIAkLMAAgABC5ASAAIAEoAgg2AgggACABKQIANwIAIAFCADcCACABQQA2AgggAEEAOgAQC7oCAAJAAkACQAJAAkACQAJAAkACQAJAAkAgAUEJaw4SAAgJCggJAQIDBAoJCgoICQUGBwsgAiACKAIAIgFBBGo2AgAgACABKAIANgIADwsgAiACKAIAIgFBBGo2AgAgACABMgEANwMADwsgAiACKAIAIgFBBGo2AgAgACABMwEANwMADwsgAiACKAIAIgFBBGo2AgAgACABMAAANwMADwsgAiACKAIAIgFBBGo2AgAgACABMQAANwMADwsgAiACKAIAQQdqQXhxIgFBCGo2AgAgACABKwMAOQMADwsgACACENEKCw8LIAIgAigCACIBQQRqNgIAIAAgATQCADcDAA8LIAIgAigCACIBQQRqNgIAIAAgATUCADcDAA8LIAIgAigCAEEHakF4cSIBQQhqNgIAIAAgASkDADcDAAttAQR/IAAoAgAsAAAQrAFFBEBBAA8LA0AgACgCACEDQX8hASACQcyZs+YATQRAQX8gAywAAEEwayIEIAJBCmwiAWogBCABQf////8Hc0obIQELIAAgA0EBajYCACABIQIgAywAARCsAQ0ACyABC4kTAhZ/AX4jAEHQAGsiBiQAIAYgATYCTCAGQTdqIRYgBkE4aiEQAkACQAJAA0BBACEFA0AgASELIAUgD0H/////B3NKDQIgBSAPaiEPAkACQAJAIAEiBS0AACIH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A/ACCyEWIA4gFTcDKCAOIBY3AyAgBEGQxgBqJAAgDikDKCEVIA4pAyAhFgwECyABKQNwQgBZBEAgASABKAIEQQFrNgIECwwBCwJAAn8gASgCBCICIAEoAmhHBEAgASACQQFqNgIEIAItAAAMAQsgARAoC0EoRgRAQQEhBgwBC0KAgICAgIDg//8AIRUgASkDcEIAUw0DIAEgASgCBEEBazYCBAwDCwNAAn8gASgCBCICIAEoAmhHBEAgASACQQFqNgIEIAItAAAMAQsgARAoCyICQTBrQQpJIAJBwQBrQRpJciACQd8ARnJFIAJB4QBrQRpPcUUEQCAGQQFqIQYMAQsLQoCAgICAgOD//wAhFSACQSlGDQIgASkDcCIYQgBZBEAgASABKAIEQQFrNgIECwJAIAMEQCAGDQEMBAsMAQsDQCAYQgBZBEAgASABKAIEQQFrNgIECyAGQQFrIgYNAAsMAgtB0K0CQRw2AgAgAUIAEK0BC0IAIRULIAAgFjcDACAAIBU3AwggDkEwaiQAC8oGAgV/BH4jAEGAAWsiBSQAAkACQAJAIAMgBEIAQgAQvAJFDQACfyAEQv///////z+DIQsCfyAEQjCIp0H//wFxIgZB//8BRwRAQQQgBg0BGkECQQMgAyALhFAbDAILIAMgC4RQCwshCSACQjCIpyIIQf//AXEiB0H//wFGDQAgCQ0BCyAFQRBqIAEgAiADIAQQNyAFIAUpAxAiAiAFKQMYIgEgAiABEM0KIAUpAwghAiAFKQMAIQQMAQsgASACQv///////////wCDIgsgAyAEQv///////////wCDIgoQvAJBAEwEQCABIAsgAyAKELwCBEAgASEEDAILIAVB8ABqIAEgAkIAQgAQNyAFKQN4IQIgBSkDcCEEDAELIARCMIinQf//AXEhBiAHBH4gAQUgBUHgAGogASALQgBCgICAgICAwLvAABA3IAUpA2giC0IwiKdB+ABrIQcgBSkDYAshBCAGRQRAIAVB0ABqIAMgCkIAQoCAgICAgMC7wAAQNyAFKQNYIgpCMIinQfgAayEGIAUpA1AhAwsgCkL///////8/g0KAgICAgIDAAIQhDCALQv///////z+DQoCAgICAgMAAhCELIAYgB0gEQANAAn4gCyAMfSADIARWrX0iCkIAWQRAIAogBCADfSIEhFAEQCAFQSBqIAEgAkIAQgAQNyAFKQMoIQIgBSkDICEEDAULIApCAYYgBEI/iIQMAQsgC0IBhiAEQj+IhAshCyAEQgGGIQQgB0EBayIHIAZKDQALIAYhBwsCQCALIAx9IAMgBFatfSIKQgBTBEAgCyEKDAELIAogBCADfSIEhEIAUg0AIAVBMGogASACQgBCABA3IAUpAzghAiAFKQMwIQQMAQsgCkL///////8/WARAA0AgBEI/iCENIAdBAWshByAEQgGGIQQgDSAKQgGGhCIKQoCAgICAgMAAVA0ACwsgCEGAgAJxIQYgB0EATARAIAVBQGsgBCAKQv///////z+DIAdB+ABqIAZyrUIwhoRCAEKAgICAgIDAwz8QNyAFKQNIIQIgBSkDQCEEDAELIApC////////P4MgBiAHcq1CMIaEIQILIAAgBDcDACAAIAI3AwggBUGAAWokAAu/AgEBfyMAQdAAayIEJAACQCADQYCAAU4EQCAEQSBqIAEgAkIAQoCAgICAgID//wAQNyAEKQMoIQIgBCkDICEBIANB//8BSQRAIANB//8AayEDDAILIARBEGogASACQgBCgICAgICAgP//ABA3Qf3/AiADIANB/f8CThtB/v8BayEDIAQpAxghAiAEKQMQIQEMAQsgA0GBgH9KDQAgBEFAayABIAJCAEKAgICAgICAORA3IAQpA0ghAiAEKQNAIQEgA0H0gH5LBEAgA0GN/wBqIQMMAQsgBEEwaiABIAJCAEKAgICAgICAORA3QeiBfSADIANB6IF9TBtBmv4BaiEDIAQpAzghAiAEKQMwIQELIAQgASACQgAgA0H//wBqrUIwhhA3IAAgBCkDCDcDCCAAIAQpAwA3AwAgBEHQAGokAAs1ACAAIAE3AwAgACACQv///////z+DIARCMIinQYCAAnEgAkIwiKdB//8BcXKtQjCGhDcDCAsOACAAKAIAIAEgAhDPCgt8AQJ/IAAgACgCSCIBQQFrIAFyNgJIIAAoAhQgACgCHEcEQCAAQQBBACAAKAIkEQUAGgsgAEEANgIcIABCADcDECAAKAIAIgFBBHEEQCAAIAFBIHI2AgBBfw8LIAAgACgCLCAAKAIwaiICNgIIIAAgAjYCBCABQRt0QR91CywBAn8jAEEQayICJAAgAiABNgIMIABB5ABBli4gARC9BCEDIAJBEGokACADC2wBAn8gASAAKAIEIAAoAgAgASgCBBCjCiICNgIEIAAoAgAhAyAAIAI2AgAgASADNgIEIAAoAgQhAiAAIAEoAgg2AgQgASACNgIIIAAoAgghAiAAIAEoAgw2AgggASACNgIMIAEgASgCBDYCAAsTACAAQQAgAUGgrAIoAgARBQAaC4QFAQt/IAEoAgAiBCgCHCELA0ACQCAEKAIYIApNBEBBAQ8LAkACQAJAAkAgCyAKQTBsaiIDKAIIQQFrDgMBAAECCyAAIAMoAhAiBmoiBCgCACIIRQ0BIAEgAygCFCIFaiEHIAAgBWohBQJAIAEgBmoiBigCAARAIAMoAgwQvQIhAyACKAIIIAMgBigCACAEKAIAamwgAigCABEDACIIRQ0EIAggBSgCACAEKAIAIANsEB8iCCAEKAIAIANsaiAHKAIAIAYoAgAgA2wQHxogBygCACIDBEAgAigCCCADIAIoAgQRAAALIAUoAgAiAwRAIAIoAgggAyACKAIEEQAACyAHIAg2AgAgBiAGKAIAIAQoAgBqNgIADAELIAYgCDYCACAHIAUoAgA2AgALIARBADYCACAFQQA2AgAMAQsgASADKAIQIgZqIQggACAGaiEGIAMtACBBBHEEQCAIKAIADQEgBCgCJCAEKAIoIAYoAgAQkAYiA0EASA0DIAQoAhwgA0EwbGohAwsgASADKAIUIgRqIQcgACAEaiEEIAMoAhwhBQJAAkACQAJAAkACQCADKAIMIgxBDmsOAwIBAAMLIAQoAgAiBUUNBSAHKAIAIglFDQQgBSAJIAIQ5gpFDQYMBQsgBCgCBCINRQ0EIAcoAgQhCSAFRQ0CIA0gBSgCBCIFRg0EIAlFIAUgCUZyDQMMBAsgBCgCACAFRg0DIAcoAgAgBUYNAgwDCyAGKAIARQ0CIAgoAgANAgwBCyAJDQELIAcgBCAMEL0CIgcQHxogBEEAIAcQHRogAygCEEUNACAIIAYoAgA2AgAgBkEANgIACyAKQQFqIQogASgCACEEDAILCwtBAAsuAQN/A0AgACACRgRAQQAPCyABIAJqIQQgAkEBaiECIAQtAABB/wBxRQ0AC0EBCz0BAX8jAEEQayICJAAgAC0AEEEGRwRAIAIgATYCDCACIAA2AgggAigCCCIAEDsgAEEGOgAQCyACQRBqJAALlwUBAn8jAEEgayIDJAAgACgCBCADEJEGIQQCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCAAKAIMDhEACwQDAgUBBAMFBAUGAAcICQoLIAIgASgCACADIARqEO0KIARqIgAgAyACKAIAEQQADAsLIAIgASgCACADIARqEMsBIARqIgAgAyACKAIAEQQADAoLIAIgASkDACADIARqEOoKIARqIgAgAyACKAIAEQQADAkLIAIgASkDACADIARqEMEEIARqIgAgAyACKAIAEQQADAgLIAMgAy0AAEEFcjoAACADIARqIAEoAgA2AAAgAiAEQQRqIgAgAyACKAIAEQQADAcLIAMgAy0AAEEBcjoAACADIARqIAEpAwA3AAAgAiAEQQhqIgAgAyACKAIAEQQADAYLIAMgBGogASgCAEEARzoAACACIARBAWoiACADIAIoAgARBAAMBQsgASgCACIBBH8gARDiAQVBAAshACADIAMtAABBAnI6AAAgAiAAIAMgBGoQywEgBGoiBCADIAIoAgARBAAgAiAAIAEgAigCABEEACAAIARqIQAMBAsgASgCACEAIAMgAy0AAEECcjoAACACIAAgAyAEahDLASAEaiIEIAMgAigCABEEACACIAAgASgCBCACKAIAEQQAIAAgBGohAAwDCyABKAIAIQAgAyADLQAAQQJyOgAAIABFBEAgAyAEakEAOgAAIAIgBEEBaiIAIAMgAigCABEEAAwDCyACIAAQYyIBIAMgBGoQywEgBGoiBCADIAIoAgARBAAgACACEHEgASAEaiEADAILQY7KAEG1wgBB6QxBgSEQAAALIAIgASgCACADIARqEOwKIARqIgAgAyACKAIAEQQACyADQSBqJAAgAAsSACAAQgGGIABCP4eFIAEQwQQLcQEBfyMAQRBrIgMkAAJAIAAtABBBBUYEQCABIAIpAwA3AwAgASACKQMINwMIDAELIAMgAjYCDCADIAA2AgggAygCDCEBIAMoAggiABA7IAAgASkDCDcDCCAAIAEpAwA3AwAgAEEFOgAQCyADQRBqJAALEgAgAEEBdCAAQR91cyABEMsBC2UAIABBAEgEQCABQQE6AAkgAUF/NgAFIAEgAEGAAXI6AAAgASAAQRx1QYABcjoABCABIABBFXZBgAFyOgADIAEgAEEOdkGAAXI6AAIgASAAQQd2QYABcjoAAUEKDwsgACABEMsBC4UBAQF/QQEhAgJAAkACQAJAAkACQAJAAkAgACgCDA4RAQEBAgICAQECAgMEAAEFBgYHCyABKAIARQ8LIAEoAgBFDwsgASkDAFAPCyABKgIAQwAAAABbDwsgASsDAEQAAAAAAAAAAGEPCyABKAIAIgBFDQEgAC0AAEUPCyABKAIARSECCyACCy8AIAAQOyAAIAEoAgg2AgggACABKQIANwIAIAFCADcCACABQQA2AgggAEEEOgAQCzIAIABB/JcBKAIANgIYIABB9JcBKQIANwIQIABB7JcBKQIANwIIIABB5JcBKQIANwIACw4AIABB4JYBQcgAEB8aCw0AIABBoJUBQSgQHxoLJgAgAEHclAEpAgA3AhAgAEHUlAEpAgA3AgggAEHMlAEpAgA3AgALDQAgAEHskwFBJBAfGgsNACAAQdCRAUEwEB8aCyYAIABBiJEBKQMANwMQIABBgJEBKQMANwMIIABB+JABKQMANwMACyYAIABBtJABKAIANgIQIABBrJABKQIANwIIIABBpJABKQIANwIACzIAIABB5I8BKAIANgIYIABB3I8BKQIANwIQIABB1I8BKQIANwIIIABBzI8BKQIANwIACzIAIABBmIwBKQMANwMYIABBkIwBKQMANwMQIABBiIwBKQMANwMIIABBgIwBKQMANwMAC0UBAX8jAEEQayIDJAACQCAALQAQQQRGBEAgASACEBsMAQsgAyACNgIMIAMgADYCCCADKAIIIAMoAgwQ7woLIANBEGokAAsOACAAQYiKAUHAABAfGgsmACAAQcSJASgCADYCECAAQbyJASkCADcCCCAAQbSJASkCADcCAAsNACAAQcCIAUE4EB8aCw0AIABB6OgAQTAQHxoLDgAgAEHw5QBB4AAQHxoLYQECfyMAQRBrIgMkAAJAIAAtABBBA0YEQCABIAItAAA6AAAMAQsgAyACNgIMIAMgADYCCCADKAIMIQQgAygCCCIAEDsgBC0AACEBIABBAzoAECAAIAE6AAALIANBEGokAAsNACAAQdDiAEEoEB8aC2MCAn8BfCMAQRBrIgMkAAJAIAAtABBBAkYEQCABIAIrAwA5AwAMAQsgAyACNgIMIAMgADYCCCADKAIMIQQgAygCCCIAEDsgBCsDACEFIABBAjoAECAAIAU5AwALIANBEGokAAtjAgJ/AX4jAEEQayIDJAACQCAALQAQQQFGBEAgASACKQMANwMADAELIAMgAjYCDCADIAA2AgggAygCDCEEIAMoAggiABA7IAQpAwAhBSAAQQE6ABAgACAFNwMACyADQRBqJAALFQAgAEG44AA2AgAgAEEIahAKGiAACw4AIABBCGoQChogABALCwoAIABBCGoQChoLYQICfwF+IwBBEGsiAyQAAkAgAC0AEEUEQCABIAIpAwA3AwAMAQsgAyACNgIMIAMgADYCCCADKAIMIQQgAygCCCIAEDsgBCkDACEFIABBADoAECAAIAU3AwALIANBEGokAAsVACAAQZTgADYCACAAQQhqEAoaIAALDAAgACgCACACEOgKCxYAIABBqN8ANgIAIABBBGoQtgEaIAALDwAgAEEEahC2ARogABALCwsAIABBBGoQtgEaCw4AIAAoAgAgASACEOsKCxYAIABBhN8ANgIAIABBBGoQtgEaIAALGgAgACABKAIANgIAIABBCGogAUEIahCDAxoLFQAgAEGY3gA2AgAgAEEQahARGiAACw4AIAAoAgAgASACEIALCw4AIAAoAgAgASACEIILCw4AIAAoAgAgASACEIMLCw4AIAAoAgAgASACEIcLC8YBAQd/An8gARCRAiEEAkAgACgCuAQiA0UNACAAKAK0BAJ/IANBAWsgBHEgA2kiAkEBTQ0AGiAEIAMgBEsNABogBCADcAsiBkECdGooAgAiBUUNACADQQFrIQcgAkEBSyEIA0AgBSgCACIFRQ0BIAUoAgQiAiAERwRAAkAgCEUEQCACIAdxIQIMAQsgAiADSQ0AIAIgA3AhAgsgAiAGRw0CDAELIAVBCGogARAjRQ0ACyAFDAELQQALIgFBFGogAEG0DWogARsLEQAgABBGIAAgARBzQQI6ABgLzwMBCH8jAEGQAWsiBCQAAkAgAC0ApAJFDQBBARAaBEAgBEEIahAVIQcgBEEBNgIEIAcgAEGwA2oQE0HBEBANGiAEQQRqEBkLIAAoArwBIQMgACgCuAEhAQNAIAEgA0YEQCAAIAApA+gBNwPwAQUgAUEBOgAoIAFBMGohAQwBCwsgAEGcAmohBiAAKAKYAiEAA0AgACAGRg0BIwBBkAFrIgMkAAJAIABBIGoiAS0AxANFDQAgASgCkAEgASgClAFGDQBBABAaBEAgA0EIahAV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AToAGCACIAM2AgALIABBEGokAAtLAQF/IAAoAgAhAyMAQRBrIgAkAAJAIAMtABhFBEAgASACEMYEDAELIAAgAjYCDCAAIAM2AgggACgCCCAAKAIMEK8GCyAAQRBqJAALZAEBfyMAQRBrIgMkACAAQQhqIQACQCABLwEAIgEEQCAAIAEgA0EEakHT0gAQDiIBEM4DDAELIANBBGoiASACKAIEIgIoAhAgAigCDBBRIABBACABEM4DCyABEAoaIANBEGokAAsNACAAIAFBmNkAEPoBCwsAIABBmNkAEPsBCwkAIAAQsgYQCwv4AQIEfwF+IwBBMGsiAyQAIABBCGohBQJ/IAEvAQAiAQRAIANBJGpB09IAEA4hAiADQRhqQdPSABAOIQAgA0EANgIUIANCADcCDCAFIAEgAiAAIANBDGoiARCzBiABDAELIANBJGoiASACKAIEKAIMEA4aIANBGGoiACACKAIEKAIQEA4aIANBDGoiBEEANgIIIARCADcCACAEIAIoAgQoAhQQ/QEDQCACKAIEIgY1AhQgB1YEQCAEIAYoAhggB6dBAnRqEIIDIAdCAXwhBwwBCwsgBUEAIAEgACAEELMGIAEhAiAECxBAIAAQChogAhAKGiADQTBqJAALDQAgACABQfTYABD6AQsLACAAQfTYABD7AQsJACAAELQGEAsLDQAgACABQdDYABD6AQsLACAAQdDYABD7AQuUAQEDfyMAQSBrIgEkACAAKAIMIgIEQCACQQAgACgCEEEDdBAdGgsgACgCBCAAKAIAa0EEdSEDQQAhAgNAIAIgA0YEQCABQSBqJAAFIAFBGGogACAAKAIAIAJBBHRqEMgEIAEgAjYCFCABIAEoAhg2AhAgASABKQIQNwMIIAAgAUEIaiABKAIcEDEgAkEBaiECDAELCwsJACAAELUGEAsLDQAgACABQazYABD6AQsLACAAQazYABD7AQsJACAAELYGEAsLDQAgACABQYjYABD6AQsLACAAQYjYABD7AQsJACAAELcGEAsLDQAgACABQeTXABD6AQsLACAAQeTXABD7AQsJACAAELgGEAsLfAECfyMAQRBrIgMkACAAQQhqIQACQCABLwEAIgEEQCAAIAEgA0EEakHT0gAQDiIBEM4DDAELIANBBGohAQJAIAIoAgQiAigCHCIERQRAIAFB09IAEA4aDAELIAEgAigCICAEEFELIABBACABEM4DCyABEAoaIANBEGokAAsNACAAIAFBwNcAEPoBCwsAIABBwNcAEPsBCwkAIAAQuQYQCwsJACAAENUEEAsLCQAgABDWBBALCwkAIAAQ1wQQCwsJACAAENgEEAsLCQAgABDCAhALCw4AIAAoAgAgASACEPkIC2sBAX8gACgCACEDIwBBEGsiACQAAkAgAy0AEEEERgRAIAEgAhClAgwBCyAAIAI2AgwgACADNgIIIwBBEGsiASQAIAAoAgggAUEEaiAAKAIMEBAiAhDvCiACEAoaIAFBEGokAAsgAEEQaiQAC2sBAX8gACgCACEDIwBBEGsiACQAAkAgAy0AGEECRgRAIAEgAhDXBgwBCyAAIAI2AgwgACADNgIIIwBBIGsiASQAIAAoAgggAUEIaiAAKAIMEO0DIgIQlgsgAhA7IAFBIGokAAsgAEEQaiQACwkAIABBBBCnCQsHACABEJkHCwcAIAEQmgcLBwAgARCRBwsHACABEJMHCwcAIAEQswELIAAgASACKQMANwMAIAEgAikDEDcDECABIAIpAwg3AwgLYgECfyMAQSBrIgIkAAJAIAEgACgCCCAAKAIAIgNrQQN1SwRAIAFBgICAgAJPDQEgACACQQxqIAEgACgCBCADa0EDdSAAQQhqELICIgAQpwUgABCwAgsgAkEgaiQADwsQAQALywEBA38gACgCACEDIwBBEGsiACQAAkAgAy0AkAFBAUYEQCABIAIoAgA2AgACQCABQQhqIgMtAEgiBCACQQhqIgUtAEhGBEAgBEUNASADIAUQrQMMAQsgBARAIAMQ8QcMAQsgAyAFEIAGCyABQdgAaiACQdgAahBMIAFB5ABqIAJB5ABqEEwgAUHwAGogAkHwAGoQ9gIMAQsgACACNgIMIAAgAzYCCCAAKAIMIQEgACgCCCICEJMDIAIgARD6B0EBOgCQAQsgAEEQaiQAC4kBAQF/IAAoAgAhAyMAQRBrIgAkAAJAIAMtAJABRQRAIAEgAigCADYCACABQQRqIAJBBGoQ+QcgAUEkaiACQSRqEPUHIAFBxABqIAJBxABqEPYCDAELIAAgAjYCDCAAIAM2AgggACgCDCEBIAAoAggiAhCTAyACIAEQ+wdBADoAkAELIABBEGokAAuXAQEBfyAAKAIAIQMjAEEQayIAJAACQCADLQAQQQFGBEAgASACEKUCDAELIAAgAjYCDCAAIAM2AggjAEEQayIDJAAgACgCCCEBIANBBGogACgCDBAQIQIgARAqIAEgAigCCDYCCCABIAIpAgA3AgAgAkIANwIAIAJBADYCCCABQQE6ABAgAhAKGiADQRBqJAALIABBEGokAAtoAgJ/AX4gACgCACEDIwBBEGsiACQAAkAgAy0AEEUEQCABIAIpAwA3AwAMAQsgACACNgIMIAAgAzYCCCAAKAIMIQQgACgCCCIBECogBCkDACEFIAFBADoAECABIAU3AwALIABBEGokAAsHACABEPQBCwkAIABBLBCpCQsJACAAQSgQ5QILCwAgACABQSgQlQkLCQAgAEEoEKkJCwkAIABBBxCoCQsKACABIAIQ+gcaCwoAIAEgAhD7BxoLlgEBA38jAEEgayIBJAAgACgCDCICBEAgAkEAIAAoAhBBA3QQHRoLIAAoAgQgACgCAGtB0AFtIQNBACECA0AgAiADRgRAIAFBIGokAAUgAUEYaiAAIAAoAgAgAkHQAWxqEMgEIAEgAjYCFCABIAEoAhg2AhAgASABKQIQNwMIIAAgAUEIaiABKAIcEDEgAkEBaiECDAELCws/ACABQQhqIQAgAS0AUARAIAAgARCXCAsgAUHwAGoQPCABQeQAahAPGiABQdgAahAPGiAALQBIBEAgABBkGgsL9QEBAn8gASgCCCECIAEoAgQhAANAIAAgAkYEQAJAIAFBJGohAiABKAIoIQMgASgCJCEAA0AgACADRg0BIAEgACkDGBDPAiAAQShqIQAMAAsACwUgASAAQRBqEI4BIABBgAFqIQAMAQsLIAFBxABqEDwgASgCMCIABEAgABALCyMAQRBrIgAkACAAIAI2AgwgACgCDCICKAIABEAgAhCRBSAAKAIMKAIAEAsLIABBEGokACABKAIQIgAEQCAAEAsLIwBBEGsiACQAIAAgAUEEajYCDCAAKAIMIgEoAgAEQCABEJIFIAAoAgwoAgAQCwsgAEEQaiQACwkAIABBMBClCQveAQEDfyAAKAIEIQIgACgCACEEIAEoAgQhAwNAIAIgBEcEQCADQTBrIgMgAkEwayICKQMANwMAIAMgAigCCDYCCCACQQA2AgggAkIANwMAIAMgAikDEDcDECADIAIoAiA2AiAgAyACKQMYNwMYIAJBADYCICACQgA3AxggAyACLQAoOgAoDAELCyABIAM2AgQgACgCACECIAAgAzYCACABIAI2AgQgACgCBCECIAAgASgCCDYCBCABIAI2AgggACgCCCECIAAgASgCDDYCCCABIAI2AgwgASABKAIENgIAC4kDAQR/IwBB8ABrIgMkAAJAIABBqAFqIgUgARCRASIEIAAoAqwBRwRAIARBEGoiASACENUCDQEgASkDACAAKQPwAVYEQCAAQcgBaiABEO0BIAQQlgMLIAMgAikDADcDUCADIAIoAhA2AmAgAyACKQMINwNYIAJBADYCECACQgA3AwggA0EAOgBoIAEgA0HQAGoiAhCkBSADQdgAahAKGiABKQMAIAApA/ABWA0BIAAgAEHEAGogBCABENMCIAIgAEHIAWogARDtASAEEPYBDAELAkAgAEGIAWoiBiABEGoiBCAAKAKMAUcEQCAEQRBqIAIQ1QINAiAAIAAgARCgAyAAKAI0IAAoAjhGBEAgABDXAgsgBiAEEJwIIAIpAwAgACkD8AFWDQEMAgsgAikDACAAKQPwAVgNAQsgA0EAOgAnIANB0ABqIgQgBSABIAIgA0EnahCaCCAAIABBxABqIAMoAlAiASABQRBqIgIQ0wIgBCAAQcgBaiACEO0BIAEQ9gELIANB8ABqJAALlAEBA38jAEEgayIBJAAgACgCDCICBEAgAkEAIAAoAhBBA3QQHRoLIAAoAgQgACgCAGtBBXUhA0EAIQIDQCACIANGBEAgAUEgaiQABSABQRhqIAAgACgCACACQQV0ahCZAyABIAI2AhQgASABKAIYNgIQIAEgASkCEDcDCCAAIAFBCGogASgCHBAxIAJBAWohAgwBCwsLWQEBfwJAIAAtABAiAiABLQAQRgRAIAJFDQEgACABKQMANwMAIAAgASkDCDcDCA8LIAIEQCAAQQA6ABAPCyAAIAEpAwA3AwAgACABKQMINwMIIABBAToAEAsLPgECfyAAKAIEIQIDQCACIAAoAggiAUcEQCAAIAFBgAJrIgE2AgggARCjCBoMAQsLIAAoAgAiAARAIAAQCwsLhAQBBX8gACgCBCEFIAAoAgAhBiABKAIEIQQDQCAFIAZHBEAgBEGAAmsiBCAFQYACayIFIgIpAwA3AwAgBCACKAIINgIIIAJCADcDACACQQA2Aggg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IAIgAyAEQQAQmgkLEQAgACABIAIgAyAEQQAQmQkLEQAgACABIAIgAyAEQQEQmgkLEQAgACABIAIgAyAEQQEQmQkLzQEBAX8jAEEgayIFJAAgBSABNgIcAkAgAigCBEEBcUUEQCAAIAEgAiADIAQgACgCACgCGBEJACECDAELIAVBEGoiACACECQgABDyAiEBIAAQIgJAIAQEQCAAIAEQmgEMAQsgBUEQaiABEJkBCyAFIAVBEGoQggE2AgwDQCAFIAVBEGoiABCEAjYCCCAFQQxqIgEgBUEIahDFAQRAIAVBHGogASIAKAIALAAAELMKIAAQvQMMAQUgBSgCHCECIAAQChoLCwsgBUEgaiQAIAIL8AIBBH8jAEHAAmsiACQAIAAgAjYCuAIgACABNgK8AiAAQcQBahAmIQYgAEEQaiICIAMQJCACEHBBoPEBQbrxASAAQdABahDgASACECIgAEG4AWoQJiIDIAMQJxAeIAAgA0EAECAiATYCtAEgACACNgIMIABBADYCCANAAkAgAEG8AmogAEG4AmoQLQ0AIAAoArQBIAMQDCABakYEQCADEAwhAiADIAMQDEEBdBAeIAMgAxAnEB4gACACIANBABAgIgFqNgK0AQsgAEG8AmoiAhBIQRAgASAAQbQBaiAAQQhqQQAgBiAAQRBqIABBDGogAEHQAWoQ7wINACACEFMaDAELCyADIAAoArQBIAFrEB4gAxAhIQkQMyEHIAAgBTYCACAJIAcgABCFCkEBRwRAIARBBDYCAAsgAEG8AmogAEG4AmoQLQRAIAQgBCgCAEECcjYCAAsgACgCvAIhCCADEAoaIAYQChogAEHAAmokACAICwkAIABBAxCnCQvRAwIBfgF/IwBBgANrIgAkACAAIAI2AvgCIAAgATYC/AIgAEHcAWogAyAAQfABaiAAQewBaiAAQegBahDvBSAAQdABahAmIgEgARAnEB4gACABQQAQICICNgLMASAAIABBIGo2AhwgAEEANgIYIABBAToAFyAAQcUAOgAWA0ACQCAAQfwCaiAAQfgCahAtDQAgACgCzAEgARAMIAJqRgRAIAEQDCEDIAEgARAMQQF0EB4gASABECcQHiAAIAMgAUEAECAiAmo2AswBCyAAQfwCaiIDEEggAEEXaiAAQRZqIAIgAEHMAWogACgC7AEgACgC6AEgAEHcAWogAEEgaiAAQRxqIABBGGogAEHwAWoQ7gUNACADEFMaDAELCwJAIABB3AFqEAxFDQAgAC0AF0UNACAAKAIcIgMgAEEgamtBnwFKDQAgACADQQRqNgIcIAMgACgCGDYCAAsgACACIAAoAswBIAQQhgogACkDACEGIAUgACkDCDcDCCAFIAY3AwAgAEHcAWogAEEgaiAAKAIcIAQQXyAAQfwCaiAAQfgCahAtBEAgBCAEKAIAQQJyNgIACyAAKAL8AiEHIAEQChogAEHcAWoQChogAEGAA2okACAHC7oDAQF/IwBB8AJrIgAkACAAIAI2AugCIAAgATYC7AIgAEHMAWogAyAAQeABaiAAQdwBaiAAQdgBahDvBSAAQcABahAmIgEgARAnEB4gACABQQAQICICNgK8ASAAIABBEGo2AgwgAEEANgIIIABBAToAByAAQcUAOgAGA0ACQCAAQewCaiAAQegCahAtDQAgACgCvAEgARAMIAJqRgRAIAEQDCEDIAEgARAMQQF0EB4gASABECcQHiAAIAMgAUEAECAiAmo2ArwBCyAAQewCaiIDEEggAEEHaiAAQQZqIAIgAEG8AWogACgC3AEgACgC2AEgAEHMAWogAEEQaiAAQQxqIABBCGogAEHgAWoQ7gUNACADEFMaDAELCwJAIABBzAFqEAxFDQAgAC0AB0UNACAAKAIMIgMgAEEQamtBnwFKDQAgACADQQRqNgIMIAMgACgCCDYCAAsgBSACIAAoArwBIAQQhwo5AwAgAEHMAWogAEEQaiAAKAIMIAQQXyAAQewCaiAAQegCahAtBEAgBCAEKAIAQQJyNgIACyAAKALsAiEGIAEQChogAEHMAWoQChogAEHwAmokACAGC7oDAQF/IwBB8AJrIgAkACAAIAI2AugCIAAgATYC7AIgAEHMAWogAyAAQeABaiAAQdwBaiAAQdgBahDvBSAAQcABahAmIgEgARAnEB4gACABQQAQICICNgK8ASAAIABBEGo2AgwgAEEANgIIIABBAToAByAAQcUAOgAGA0ACQCAAQewCaiAAQegCahAtDQAgACgCvAEgARAMIAJqRgRAIAEQDCEDIAEgARAMQQF0EB4gASABECcQHiAAIAMgAUEAECAiAmo2ArwBCyAAQewCaiIDEEggAEEHaiAAQQZqIAIgAEG8AWogACgC3AEgACgC2AEgAEHMAWogAEEQaiAAQQxqIABBCGogAEHgAWoQ7gUNACADEFMaDAELCwJAIABBzAFqEAxFDQAgAC0AB0UNACAAKAIMIgMgAEEQamtBnwFKDQAgACADQQRqNgIMIAMgACgCCDYCAAsgBSACIAAoArwBIAQQiAo4AgAgAEHMAWogAEEQaiAAKAIMIAQQXyAAQewCaiAAQegCahAtBEAgBCAEKAIAQQJyNgIACyAAKALsAiEGIAEQChogAEHMAWoQChogAEHwAmokACAGC5sDAQN/IwBB0AJrIgAkACAAIAI2AsgCIAAgATYCzAIgAxDGASEGIAMgAEHQAWoQwAMhByAAQcQBaiADIABBxAJqEL8DIABBuAFqECYiASABECcQHiAAIAFBABAgIgI2ArQBIAAgAEEQajYCDCAAQQA2AggDQAJAIABBzAJqIABByAJqEC0NACAAKAK0ASABEAwgAmpGBEAgARAMIQMgASABEAxBAXQQHiABIAEQJxAeIAAgAyABQQAQICICajYCtAELIABBzAJqIgMQSCAGIAIgAEG0AWogAEEIaiAAKALEAiAAQcQBaiAAQRBqIABBDGogBxDvAg0AIAMQUxoMAQsLAkAgAEHEAWoQDEUNACAAKAIMIgMgAEEQamtBnwFKDQAgACADQQRqNgIMIAMgACgCCDYCAAsgBSACIAAoArQBIAQgBhCKCjcDACAAQcQBaiAAQRBqIAAoAgwgBBBfIABBzAJqIABByAJqEC0EQCAEIAQoAgBBAnI2AgALIAAoAswCIQggARAKGiAAQcQBahAKGiAAQdACaiQAIAgLmwMBA38jAEHQAmsiACQAIAAgAjYCyAIgACABNgLMAiADEMYBIQYgAyAAQdABahDAAyEHIABBxAFqIAMgAEHEAmoQvwMgAEG4AWoQJiIBIAEQJxAeIAAgAUEAECAiAjYCtAEgACAAQRBqNgIMIABBADYCCANAAkAgAEHMAmogAEHIAmoQLQ0AIAAoArQBIAEQDCACakYEQCABEAwhAyABIAEQDEEBdBAeIAEgARAnEB4gACADIAFBABAgIgJqNgK0AQsgAEHMAmoiAxBIIAYgAiAAQbQBaiAAQQhqIAAoAsQCIABBxAFqIABBEGogAEEMaiAHEO8CDQAgAxBTGgwBCwsCQCAAQcQBahAMRQ0AIAAoAgwiAyAAQRBqa0GfAUoNACAAIANBBGo2AgwgAyAAKAIINgIACyAFIAIgACgCtAEgBCAGEI0KOwEAIABBxAFqIABBEGogACgCDCAEEF8gAEHMAmogAEHIAmoQLQRAIAQgBCgCAEECcjYCAAsgACgCzAIhCCABEAoaIABBxAFqEAoaIABB0AJqJAAgCAubAwEDfyMAQdACayIAJAAgACACNgLIAiAAIAE2AswCIAMQxgEhBiADIABB0AFqEMADIQcgAEHEAWogAyAAQcQCahC/AyAAQbgBahAmIgEgARAnEB4gACABQQAQICICNgK0ASAAIABBEGo2AgwgAEEANgIIA0ACQCAAQcwCaiAAQcgCahAtDQAgACgCtAEgARAMIAJqRgRAIAEQDCEDIAEgARAMQQF0EB4gASABECcQHiAAIAMgAUEAECAiAmo2ArQBCyAAQcwCaiIDEEggBiACIABBtAFqIABBCGogACgCxAIgAEHEAWogAEEQaiAAQQxqIAcQ7wINACADEFMaDAELCwJAIABBxAFqEAxFDQAgACgCDCIDIABBEGprQZ8BSg0AIAAgA0EEajYCDCADIAAoAgg2AgALIAUgAiAAKAK0ASAEIAYQjgo3AwAgAEHEAWogAEEQaiAAKAIMIAQQXyAAQcwCaiAAQcgCahAtBEAgBCAEKAIAQQJyNgIACyAAKALMAiEIIAEQChogAEHEAWoQChogAEHQAmokACAIC5sDAQN/IwBB0AJrIgAkACAAIAI2AsgCIAAgATYCzAIgAxDGASEGIAMgAEHQAWoQwAMhByAAQcQBaiADIABBxAJqEL8DIABBuAFqECYiASABECcQHiAAIAFBABAgIgI2ArQBIAAgAEEQajYCDCAAQQA2AggDQAJAIABBzAJqIABByAJqEC0NACAAKAK0ASABEAwgAmpGBEAgARAMIQMgASABEAxBAXQQHiABIAEQJxAeIAAgAyABQQAQICICajYCtAELIABBzAJqIgMQSCAGIAIgAEG0AWogAEEIaiAAKALEAiAAQcQBaiAAQRBqIABBDGogBxDvAg0AIAMQUxoMAQsLAkAgAEHEAWoQDEUNACAAKAIMIgMgAEEQamtBnwFKDQAgACADQQRqNgIMIAMgACgCCDYCAAsgBSACIAAoArQBIAQgBhCPCjYCACAAQcQBaiAAQRBqIAAoAgwgBBBfIABB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IApBEGpB09IAEA4iEiAKQQRqQdPSABAOIhMQsAEgExAKGiASEAoaIBEQChogDxAKGiAJEAoaIAYQERogABARGiAHEAoaIA4QChogDRAKGiAMEAoaIBAQChogCkGgAmokACAIEBEaIAQQChogAxAKGiACEAoaIAEQChogC0HQAGokAEEAC8ADAQp/IwBBQGoiBCQAIARBNGogARAOIQcgBCACNgIEIARBCGogARAOIQIgBCADNgIUQRgQGCIBQbjgADYCACABIAQoAgQ2AgQgASACKAIINgIQIAEgAikCADcCCCACQgA3AgAgAkEANgIIIAEgAzYCFCAEIAE2AigjAEGwAWsiASQAIAFCADcCmAEgAUIANwKgASABQgA3AKUBIAFCADcCkAEgAUGg1gA2AowBIAFBjAFqIgMgAUGAAWogBxAQIgUQxwYgBRAKGiADEIsCQugHfxDGBiABQQA2AnggAUIANwNwIAMgAUHwAGoiBRCmCyABQUBrIARBGGoiCRA9IQhBIBAYIgZB5NcANgIAIAZBCGogCBA9GiABIAY2AmggAEGxAiAFIAFB2ABqIgBBASABQTRqQdPSABAOIgYgAUEoakHT0gAQDiIKIAFBHGpB09IAEA4iCyABQRBqQdPSABAOIgwgAUEEakHT0gAQDiINELABIA0QChogDBAKGiALEAoaIAoQChogBhAKGiAAEBEaIAgQERogBRAKGiADEMICGiABQbABaiQAIAkQERogAhAKGiAHEAoaIARBQGskAEEAC/0EAQp/IwBB0ABrIggkACAIQcQAaiABEA4hDCAIQThqIgkgAiADpxBRIAggBDYCDCAIQRBqIAEQDiEKIAggBTYCHEEYEBgiAUGU4AA2AgAgASAIKAIMNgIEIAEgCigCCDYCECABIAopAgA3AgggCkIANwIAIApBADYCCCABIAU2AhQgCCABNgIwIAhBIGohDSMAQcABayIGJAAgBkIANwKoASAGQgA3ArABIAZCADcAtQEgBkIANwKgASAGQaDWADYCnAEgBkGcAWoiByAGQZABaiAMEBAiARDHBiABEAoaIAkoAgQgCS0ACyIBIAHAQQBIGwRAIAYgCSgCCDYCiAEgBiAJKQIANwOAASAJQgA3AgAgCUEANgIIIAZBgAFqIgshAiAHKAIERQRAIAdBKBAYIgE2AgQgARDDBAsgB0EUaiIBIAIQGyAHKAIYIQUgBygCBCIEIAcoAhQgASAHLQAfIgLAQQBIIgEbNgIgIAQgBSACIAEbNgIcIAsQChoLIAZBnAFqIg4QiwJC6Ad/EMYGIAZBADYCeCAGQgA3A3AgDiAGQfAAaiIPEKYLIAZBQGsgDRA9IQdBIBAYIgFBwNcANgIAIAFBCGogBxA9GiAGIAE2AmggAEGvAiAPIAZB2ABqIgtBASAGQTRqQdPSABAOIgUgBkEoakHT0gAQDiIEIAZBHGpB09IAEA4iAiAGQRBqQdPSABAOIgEgBkEEakHT0gAQDiIAELABIAAQChogARAKGiACEAoaIAQQChogBRAKGiALEBEaIAcQERogDxAKGiAOEMICGiAGQcABaiQAIA0QERogChAKGiAJEAoaIAwQChogCEHQAGokAEEAC/EDAQd/IwBBMGsiCSQAIAlBJGogARAOIgshBSAJQRhqIAIQDiEGIAlBDGogAxAOIQcjAEEQayIIJAAgCCAENgIMIwBBEGsiBCQAIwBBEGsiAyQAQTgQGCECIAMgAEGoBGoiCkEEaiIBNgIIIAMgAjYCBCACIAUoAgg2AhggAiAFKQIANwIQIAVCADcCACAFQQA2AgggAiAGKAIINgIkIAIgBikCADcCHCAGQgA3AgAgBkEANgIIIAIgBygCCDYCMCACIAcpAgA3AiggB0IANwIAIAdBADYCCCACIAgoAgw2AjQgA0EBOgAMIAMoAgRBEGohBQJAIAooAgQiAkUEQCABIQAMAQsDQCAFIAIiAEEQaiICELEGBEAgACEBIAAoAgAiAg0BDAILIAIgBRCxBkUNASAAQQRqIQEgACgCBCICDQALCyADIAA2AgAgBCABKAIAIgIEf0EABSAKIAMoAgAgASADKAIEEP8DIAMoAgQhAiADQQA2AgRBAQs6AAwgBCACNgIIIAMoAgQhACADQQA2AgQgAARAIAMtAAwEQCAAQRBqELoGCyAABEAgABALCwsgA0EQaiQAIAggBCgCCDYCBCAIIAQtAAw6AAggBEEQaiQAIAhBEGokACAHEAoaIAYQChogCxAKGiAJQTBqJABBAAvjAQICfwF+IwBBIGsiAyQAIANBADYCHCADQgA3AhQgA0EUaiACEP0BA38gAiAERgR/IAMgAygCFDYCCCADKQIYIQUgA0EANgIcIAMgBTcCDCADQgA3AhQjAEEQayIBJAAgASADQQhqIgIoAgA2AgQgASACKAIENgIIIAEgAigCCDYCDCACQQA2AgggAkIANwIAIABByANqIAFBBGoiBBC4BSAAQQE6AOADIAQQQCABQRBqJAAgAhBAIANBFGoQQCADQSBqJABBAAUgA0EUaiABIARBAnRqEIIDIARBAWohBAwBCwsLRwEBfyMAQSBrIgMkACADIAI2AhAgAyABNgIMIANB8N8ANgIIIAMgA0EIaiIBNgIYIABB4A1qIAEQzAEgARARGiADQSBqJAALCwBBkKwCIAA2AgALswMBB38jAEEgayIDJAAgA0HM3wA2AgggAyADQQhqIgQ2AhgjAEEgayIFJAAgBUEIaiAEEIMDIQAjAEEQayICJAACQCAAQZCtAkYNAEGgrQIoAgAhASAAIAAoAhAiBkYEQCABQZCtAkYEQCAAIAIgACgCACgCDBEAACAAKAIQIgEgASgCACgCEBEBACAAQQA2AhBBoK0CKAIAIgEgACABKAIAKAIMEQAAQaCtAigCACIBIAEoAgAoAhARAQBBoK0CQQA2AgAgACAANgIQIAJBkK0CIAIoAgAoAgwRAAAgAiACKAIAKAIQEQEAQaCtAkGQrQI2AgAMAgsgAEGQrQIgACgCACgCDBEAACAAKAIQIgEgASgCACgCEBEBACAAQaCtAigCADYCEEGgrQJBkK0CNgIADAELIAFBkK0CRgRAQZCtAiAAQZCtAigCACgCDBEAAEGgrQIoAgAiASABKAIAKAIQEQEAQaCtAiAAKAIQNgIAIAAgADYCEAwBCyAAIAE2AhBBoK0CIAY2AgALIAJBEGokACAAEBEaIAVBIGokAEGorQJBADYCACAEEBEaIANBIGokAAs/AQF/IAAoAgAiAiAAKAIERgRAQbECDwsgASACKAIIIAJBCGogAiwAE0EASBs2AgAgACAAKAIAKAIANgIAQQALWgEEfyMAQSBrIgIkAEEIEBghAyAAIAJBFGogARAOIgQQlQsoAgghBSAAIAJBCGogARAOIgAQlQsaIANBADYCBCADIAU2AgAgABAKGiAEEAoaIAJBIGokACADC+YEAQh/IwBBIGsiByQAIAdBFGogARAOIQQgB0EIaiACEA4hBiMAQZACayIDJABBARAaBEAgA0GEAWoQFSEKIANBATYCgAEgCkGn0gAQDSAEEBNB684AEA0gBhATGiADQYABahAZCyAAQbQEaiIIIAQQ2wQiAiAGEJICIgkEfyMAQRBrIgUkACAJKAIAGiAFQQRqIgEgAiAJEL0GIAEQ0wQgBUEQaiQAQQEFQQALBEAgAEHIBGogBBCFAyAGENQDIgEgASkDAEIBfDcDAAsgCCAEENsEKAIMRQRAIAggBBCSAiIFBEAjAEEQayICJAAgBSgCABogAkEEaiIBIAggBRC9BiABELwGIAJBEGokAAsLAkAgAC0AsA0EQCAAQfgGaiICIAQQugEgAEH8BmpGDQEgA0GAAWogAiAEENUBEM4BIQUgA0HoAGogBhBdIQEgA0IANwMYIANCADcDECAFIANBEGogARDVAyABECogA0HHAGogBRDNAQJ+IAIgBBDVAUHkAGpBiNYAEI0BIgEtAJABRQRAIAEoAgggASgCBGtBB3WtDAELIAEQaSIBKQNIQgAgAS0AUBsLUARAIABB4ARqIANBOGogBBAQIgAQzQYgABAKGgsgBRCyAQwBCyAAKAKkBEGYAmogAEGYBGoiARC6ASAAKAKkBCIAQZwCakYNACADQYABaiAAQZgCaiABENUBEM4BIQEgA0EgaiAGEF0hACADQgA3AwggA0IANwMAIAEgAyAAENUDIAAQKiADQccAaiABEM0BIAEQsgELIANBkAJqJAAgBhAKGiAEEAoaIAdBIGokAAs9AQJ/IwBBIGsiAyQAIAAgA0EUaiABEA4iACADQQhqIAIQDiIBENwEIQQgARAKGiAAEAoaIANBIGokACAEC4sCAQN/IwBB0ABrIgUkACAAIAVBxABqIAEQDiIBIAVBOGogAhAOIgIQ3AQhByAFIAEoAgg2AgggBSABKQIANwMAIAFCADcCACABQQA2AgggBSACKAIINgIUIAUgAikCADcCDCACQgA3AgAgAkEANgIIIAUgBDYCHCAFIAM2AhhBJBAYIgBBqN8ANgIAIAAgBSgCCDYCDCAAIAUpAwA3AgQgBUEANgIIIAVCADcDACAAIAUoAhQ2AhggACAFKQIMNwIQIAVBADYCFCAFQgA3AgwgACAFKQMYNwIcIAUgADYCMCAHIAVBIGoiABCdCyAAEBEaIAUQtgEaIAIQChogARAKGiAFQdAAaiQAQQAL7hACFH8CfSMAQZABayIKJAAgCkEANgKMASAKQgA3AoQBIApBhAFqIAQQ/QEDQCAEIAtGBEAgCkH4AGogARAOIRMgCkHsAGogAhAOIQMgCkHgAGoiFyAFIAanEFEgCiAKKAKEATYCVCAKKQKIASEGIApBADYCjAEgCiAGNwJYIApCADcChAEgCkHUAGohFiMAQfADayIJJAAgAEG0BGogExDbBCEEIAkgFzYCwAIjAEEgayIQJAAgECADNgIUIBAgCUGAAmo2AhAgECAJQcACajYCDCAQQYDWADYCCEEAIQUjAEEQayIRJAAgAxCRAiEOIBACfwJAIAQoAgQiDUUNACAEKAIAAn8gDUEBayAOcSANaSIMQQFNDQAaIA4gDSAOSw0AGiAOIA1wCyIFQQJ0aigCACIPRQ0AIA1BAWshEiAMQQFLIQwDQCAPKAIAIg9FDQEgDiAPKAIEIgtHBEACQCAMRQRAIAsgEnEhCwwBCyALIA1JDQAgCyANcCELCyAFIAtHDQILIA9BCGogAxAjRQ0AC0EADAELQeAIEBghDyARIARBCGo2AgggESAPNgIEIwBBEGsiFCQAIBAoAhQhDCAUIBAoAhA2AgggFCAQKQIINwMAIBQgDDYCDCAPQQhqIBQoAgwQEEEQaiEYIBQoAgQoAgAhDCMAQRBrIgskACALIAw2AgwjAEEQayIVJAAgFSALKAIMIgwoAgg2AgggFSAMKQIANwMAIAxCADcCACAMQQA2AgggGCAVENIEIRkgFRAKGiAZQfgEahDBBiAVQRBqJAAgC0EQaiQAIBRBEGokACARQQE6AAwgD0EANgIAIA8gDjYCBAJAQQAgDSAEKAIMQQFqsyIeIAQqAhAiHSANs5ReGw0AIAQgDSANQQFrcUEARyANQQNJciANQQF0ciIMAn8gHiAdlY0iHUMAAIBPXSAdQwAAAABgcQRAIB2pDAELQQALIgUgBSAMSRsQhAMgBCgCBCINIA1BAWsiBXFFBEAgBSAOcSEFDAELIA0gDksEQCAOIQUMAQsgDiANcCEFCwJAIAVBAnQiBSAEKAIAaigCACIORQRAIBEoAgQgBCgCCDYCACAEIBEoAgQ2AgggBCgCACAFaiAEQQhqNgIAIBEoAgQiDigCACIFRQ0BIAUoAgQhDwJAIA0gDUEBayIFcUUEQCAFIA9xIQ8MAQsgDSAPSw0AIA8gDXAhDwsgBCgCACAPQQJ0aiAONgIADAELIBEoAgQgDigCADYCACAOIBEoAgQ2AgALIBEoAgQhDyARQQA2AgQgBCAEKAIMQQFqNgIMIBFBBGoQ0wRBAQs6ABwgECAPNgIYIBFBEGokACAJIBAoAhg2AugDIAkgEC0AHDoA7AMgEEEgaiQAAkAgCS0A7ANFDQAgCSgC6AMiBEGQBWogBEEYahDdBCAJKALoA0EYaiEMIAlB3ANqIAMQECEOIwBBEGsiBSQAIAxBsANqIgQgDhAbIAxBiAJqIAVBBGogBBAQIgQQGyAEEAoaIAVBEGokACAOEAoaIAkoAugDIgRBAToArAIgBEEBOgDUAyAAQcgEaiATEIUDIAMQ1AMiBCAEKQMAQgF8NwMAIAAtALANBEAgAEH4BmoiBSATELoBIABB/AZqRgRAIABB4ARqIAlB0ANqIBMQECIEENMDIAQQChoLQQEQGgRAIAlBxAJqEBUhGiAJQQE2AsACIBpBr80AEA0gExATQc7SABANIAMQExogCUHAAmoQGQsgCUGAAmogBSATENUBEM4BIRIgCUIANwP4ASAJQgA3A/ABIAlB2AFqIAMQXSEEIAlBAToA0AEgCUIANwMwIAlBATYCuAEgCUIANwMoIBIgCUEoaiAEIAlBsAFqIAlB8AFqEMMCIAlBuAFqEEogBBAqIAlBkAFqIQwgCUHEAmohDiAWKAIEIQUgFigCACELA0AgBSALRgRAIAlBwAJqIBIQzQEgEhCyAQwDC0EBEBoEQCAOEBUhGyAJQQE2AsACIBtBrtAAEA0gCxATGiAJQcACahAZCyAJIAkpA/gBNwPIAiAJIAkpA/ABNwPAAiAMIAsoAgg2AgggDCALKQIANwIAIAtCADcCACALQQA2AgggCSAJKQPIAjcDICAJQQA6AKgBIAlBBDoAoAEgCSAJKQPAAjcDGCASIAlBGGpCACAJQYgBahDeBiAMEEogC0EMaiELDAALAAsgCUHAAmogACgCpARBmAJqIABBmARqIgUQugEgACgCpAQiBEGcAmpGBH8gBCAJQfwAaiAFEBAiBBDTAyAEEAoaIAAoAqQEBSAEC0GYAmogBRDVARDOASEFIAlB4ABqIAMQXSEEIAlBADoAWCAJQQU6AFAgCUIBNwNIIAlCADcDECAJQgE3A0AgCUIANwMIIAUgCUEIaiAEIAlBOGpBABDDAiAJQUBrEEogBBAqIAlBgAJqIAUQzQEgBRCyAQsgCUHwA2okACAWEEAgFxAKGiADEAoaIBMQChogACAKQcgAaiABEA4iAyAKQTxqIAIQDiIBENwEIRwgCiADKAIINgIIIAogAykCADcDACADQgA3AgAgA0EANgIIIAogASgCCDYCFCAKIAEpAgA3AgwgAUIANwIAIAFBADYCCCAKIAg2AhwgCiAHNgIYQSQQGCICQYTfADYCACACIAooAgg2AgwgAiAKKQMANwIEIApBADYCCCAKQgA3AwAgAiAKKAIUNgIYIAIgCikCDDcCECAKQQA2AhQgCkIANwIMIAIgCikDGDcCHCAKIAI2AjAgHCAKQSBqIgAQmAYgABARGiAKELYBGiABEAoaIAMQChogCkGEAWoQQCAKQZABaiQABSAKQYQBaiADIAtBAnRqEIIDIAtBAWohCwwBCwsLewEDfyAAQeAEaiIDENEIIABBvARqIgEhAgNAAkAgAigCACICRQRAIAMQlwsDQCABKAIAIgFFDQIgAUEcaiEAA0AgACgCACIARQ0BIABBGGoQlwsMAAsACwALIAJBHGohAANAIAAoAgAiAEUNAiAAQRhqENEIDAALAAsLC7oBAQN/IwBBEGsiAiQAIAAQkAIgAEHwA2ohAQNAIAEoAgAiAQRAIAFBkAVqENkEDAEFAkAgAEG8BGohAwNAIAMoAgAiA0UNASADQRxqIQEDQCABKAIAIgFFDQEgAUGQBWoQ2QQMAAsACwALCwsgAiAAQeAEajYCDCAAQdgJaiACQQxqEJkLIABBowpqQYACOwAAIABBgwpqQQA6AAAgAEGACmpBgAI7AQAgAEHgCWpBADoAACACQRBqJAALlBEBDX8jAEEQayIIJAAjAEHAAWsiBiQAIAZBADYCLCAGQgA3AiQgBkEAOgASIAZBJGohCwJAAkAgAqciBEEESQ0AIAAtAIQDIQcgBiABLwACOwEQIARBBGshBQJ/IAdFBEAgBUUNAiAGIAEtAAQ6ABIgBEENa0F3Sw0CIAYgASkABTcDGCAEQQ9rIgRBfUsNAiAGIAEvAA02AiAgAUEPagwBCyAFQQhJDQEgBiABKQAENwMYIARBfHFBDEYNASAGIAEoAAw2AiAgBEEQayEEIAFBEGoLIQEgBEECSQ0AIARBAmshBSABLwAAIgfBIglBAE4EfyABQQJqBSAFRQ0BIAlB//8BcSABLQACQQ90ciEHIARBA2shBSABQQNqCyEEIAUgB0kNACAGQTRqIgEgBCAHEFEgCyABEBsgARAKGgJAIAYvARAiBEHmAEYgBEHKAUZyDQBBARAaRQ0AIAZBOGoQFSEMIAZBATYCNCAMQYzJABANIAYvARAQaEGWyQAQDSAGKQMYEHpBhckAEA0gBigCIBBoGiABEBkLIAYgCygCCDYCCCAGIAspAgA3AwAgBigCICEEIAYpAxghAiAGLQASIQkgBi8BECEHIAtCADcCACALQQA2AggjAEHwAWsiASQAIAEgAjcD6AECQAJAIAAoAiwiBUUNACAFIAAgByAEQf//A3EgBSgCACgCCBEHAEUNAEECEBoEQCABQdwAahAVIQ0gAUECNgJYIA1BrjoQDSAAEBNB5swAEA0gBxBoQZ7MABANIAQQaBogAUHYAGoQGQsgABCQAiAIQbACNgIAIAhBBGpB09IAEA4aDAELIAAQxgM3A4ABAkACQAJAAkACQAJAAkACQCAHQckBaw4JAgEGAgYGAwYEAAsCQAJAIAdB5gBrDgMABwEGCyAIQQA2AgAgCEEEakHT0gAQDhoMCAsgAUIANwJkIAEgAUHcAGoiBTYCYCABQgA3AmwgAUEAOgB0IAFBADYCWCABIAU2AlwCQAJAIAQNAEHIiQFBACAGKAIEIAYtAAsiBCAEwEEASCIEGyAGKAIAIAYgBBsQrgEhBCABQdgAaiIFQQE6ABwgBSAENgIAIARFDQAgAUHIAGogAEGYA2ogBRDKAwJAIAEoAkhFBEAgCEEANgIAIAhBBGogAUHMAGoQEBoMAQsgCEHlADYCACAIQQRqQdPSABAOGgsgAUHMAGoQChoMAQsgCEHlADYCACAIQQRqQdPSABAOGgsgAUHYAGoQyAYMBwsgAUFAayAGKAIINgIAIAEgBikCADcDOCAGQgA3AgAgBkEANgIIIAFB2ABqIQcjAEEgayIEJAAgBEIANwIYIARCADcCECAEQcDaADYCDCAEQajqAEEAIAFBOGoiBSgCBCAFLQALIgkgCcBBAEgiCRsgBSgCACAFIAkbEK4BIgk2AhACQCAJRQRAIAdB09IAEA4aDAELIAcgAEHIAmogBEEMahDKAwsgBEEMahCdBhogBEEgaiQAIAhBADYCACAIIAEoAmA2AgwgCCABKQNYNwIEIAFBADYCYCABQgA3A1ggBxAKGiAFEAoaDAYLIAEgBigCCDYCMCABIAYpAgA3AyggBkIANwIAIAZBADYCCCABQShqIQUjAEEQayIHJAACQCAALQCEAwRAIAdBADYCDCAHQYTaADYCCCAERQRAIAdBwIsBQQAgBSgCBCAFLQALIgogCsBBAEgiChsgBSgCACAFIAobEK4BNgIMCyAAIAkgAiAEIAdBCGoiBBCvASAEEKAGGgwBCyAHQQA2AgwgB0GY2gA2AgggBEUEQCAHQeDnAEEAIAUoAgQgBS0ACyIKIArAQQBIIgobIAUoAgAgBSAKGxCuATYCDAsgACAJIAIgBCAHQQhqIgQQrwEgBBCfBhoLIAdBEGokACAFEAoaIAEgACgCgAM2AmAgASAAKQL4AjcDWCAAQgA3A/gCIABBADYCgAMgAEH4AmpB09IAEOcEIAhBAEHlACAALQA0GzYCACAIIAEoAmA2AgwgCCABKQNYNwIEIAFBADYCYCABQgA3A1ggAUHYAGoQChoMBQsCQCAALQA8BEAgAUHYAGogAEEBEKgGDAELIAFBADYCYCABQgA3A1gLIAhBADYCACAIIAEoAmA2AgwgCCABKQNYNwIEIAFBADYCYCABQgA3A1ggAUHYAGoQChoMBAsgASAGKAIINgIgIAEgBikCADcDGCAGQgA3AgAgBkEANgIIIAFBGGohBSMAQRBrIgckACAHQQA2AgwgB0Gs2gA2AgggBEH//wNxIgRFBEAgB0Go6ABBACAFKAIEIAUtAAsiCiAKwEEASCIKGyAFKAIAIAUgChsQrgE2AgwLIAAgCSACIAQgB0EIaiIAEK8BIAAQngYaIAdBEGokACAFEAoaIAhBADYCACAIQQRqQdPSABAOGgwDCyAHQTNGDQELAkAgACgCmAEEQCABIAYoAgg2AhAgASAGKQIANwMIIAZCADcCACAGQQA2AggjAEEgayIFJAAgBSAJOgAdIAUgBzsBHiAFIAI3AxAgBSAEOwEOIAAoApgBIgRFBEAQEgALIAQgBUEeaiAFQR1qIAVBEGogBUEOaiABQQhqIgkgBCgCACgCGBEIACEOIAVBIGokACAJEAoaIA4NAQtBAhAaRQ0AIAFB3ABqEBUhDyABQQI2AlggD0HZzAAQDSAHEGgaIAFB2ABqEBkLIABB2ABqIgAgAUHoAWoQrAsiBCAAQQRqRwRAIAAgBBDLBBoLIAhBADYCACAIQQRqQdPSABAOGgwBCyAIQQA2AgAgCEEEakHT0gAQDhoLIAFB8AFqJAAgBhAKGgwBCyAIQa8CNgIAIAhBBGpB09IAEA4aCyALEAoaIAZBwAFqJAAgAyAIQQRqIgAQGyAIKAIAIRAgABAKGiAIQRBqJAAgEAs0AQJ/IwBBEGsiAiQAIAIgABCiBiABIAJBBGoiABAbIAIoAgAhAyAAEAoaIAJBEGokACADC4IgAhV/An4jAEEQayILJAAjAEHAAWsiByQAEMYDIRgCQAJAIAAiAy0ANEUNACAAKQOAASAANQJIQoCU69wDfnwgGFkNAEECEBoEQCAHQThqEBUhDSAHQQI2AjQgDUHuOxANGiAHQTRqEBkLIAMQkAIgC0HlADYCACALQQRqQdPSABAOGgwBCyMAQeABayICJAAgAkG0AWoQgAMhCCACQQA2ArABIAJCADcCqAEgA0HMAGohBSADKAJQIQAgAkEcaiEKA0ACQAJAAkAgACAFRwRAIAApAzAgGFkNASAALwEIIQQgAygCLCIGRQ0CIAYgAyAEQSwgBigCACgCCBEHAEUNAiADLQA0RQ0CQQIQGgRAIAJBHGoQFSEOIAJBAjYCGCAOQa46EA0gAxATQebMABANIAQQaEGezAAQDUEsEGgaIAJBGGoQGQsgAxCQAgsgA0HcAGohBSADQdgAaiEGIAJBHGohCiADKAJYIQADQCAAIAVGDQMgGCAAKQMgVQRAAkAgAygCLCIERQ0AIAQgAyAALwEYIglBLCAEKAIAKAIIEQcARQ0AIAMtADRFDQBBAhAaBEAgAkEcahAVIQ8gAkECNgIYIA9BrjoQDSADEBNB5swAEA0gCRBoQZ7MABANQSwQaBogAkEYahAZCyADEJACDAULIAIgAEEoahA9IQQgAigCEARAIAJBqAFqIAQQpQYLQQIQGgRAIAoQFSEQIAJBAjYCGCAQQYfNABANIAApAxAQekGSygAQDRogAkEYahAZCyAGIAAQywQhACAEEBEaBSAAENQBIQALDAALAAsgACgCBCEADAILIAIgAEEYahA9IQYgAigCEARAIAJBqAFqIAYQpQYLQQIQGgRAIAoQFSERIAJBAjYCGCARQe/MABANIAQQaEGSygAQDRogAkEYahAZCyAAKAIAIgkgACgCBCIENgIEIAAoAgQgCTYCACAFIAUoAghBAWs2AgggAEEIahC/AiAAEAsgBCEAIAYQERoMAQsLIAIoAqwBIQQgAigCqAEhAANAIAAgBEcEQCACQRhqIAAQgwMiBUEsIAgQ/wIgBRARGiAAQRhqIQAMAQsLIwBBEGsiACQAIAAgAkGoAWo2AgwgACgCDCIFKAIABEAgBSgCACEGIAUoAgQhBANAIAQgBkcEQCAEQRhrEBEhBAwBCwsgBSAGNgIEIAAoAgwoAgAQCwsgAEEQaiQAIAJB4AFqJAACQCADLQA0IAMtADVyDQAgAy0AhAMEQCMAQYACayIEJAAgAy0ANEUEQEEBEBoEQCAEQfQAahAVIRIgBEEBNgJwIBJBiykQDRogBEHwAGoQGQsgA0EBOgA1IARB8ABqIgBCADcDQCAAQgA3A1AgAEIANwNIIAAQ+wogAEEENgIYIABBQGsiAiAEQeQAaiADQYgDahAQIgUQGyAAIAAoAkAgAiAALABLQQBIGzYCJCAFEAoaEIsCIRcgAEEONgIcIAAgF0LoB383AxAjAEEQayIFJAAgAEHMAGoiBiADKALMAyADKALIA2tBDG0QdCADKALMAyEIIAMoAsgDIQIDQCACIAhGBEAgACAAKAJMIgI2AjQgACAAKAJQIAJrQQJ1NgIwIAVBEGokAAUgBSACKAIAIAIgAiwAC0EASBs2AgwgBiAFQQxqEFwgAkEMaiECDAELCyAAIAMoAkg2AjggBEEANgJgIARCADcDWCMAQRBrIgIkACAAKAIAQciKAUcEQEHHFUGfwwBB7QBBuy8QAAALIARB2ABqIgUgABBjEGcgAiAFNgIMIAJB4gE2AgggACgCAEHIigFHBEBBxxVBn8MAQfsAQfYhEAAACyAAIAJBCGoQcSACQRBqJAAgBCADNgJEIARB/NoANgJAIAQgBEFAayICNgJQIANB5QAgBSACQQAgBEE0akHT0gAQDiIGIARBKGpB09IAEA4iCCAEQRxqQdPSABAOIgogBEEQakHT0gAQDiIJIARBBGpB09IAEA4iDBCwASAMEAoaIAkQChogChAKGiAIEAoaIAYQChogAhARGiAFEAoaIABBzABqEA8aIABBQGsQChoLIARBgAJqJAAMAQsjAEGAAmsiACQAIAMtADRFBEBBARAaBEAgAEH0AGoQFSETIABBATYCcCATQe8oEA0aIABB8ABqEBkLIANBAToANSAAQfAAaiIEIANBgAJqEMsDIABBBDYCfCAAIAMoAhA2AoABIAQgAygCACADIAMsAAtBAEgbNgIYIAAgAy0ADDYCjAEgABCLAkLoB383A5ABIAAgAygCODYCmAEgBCADQRRqIgIoAgAgAiACLAALQQBIGzYCLCAAQQE2AsABIABBADYCaCAAQgA3A2AjAEEQayICJAAgBCgCAEHQ5gBHBEBBghVB6sIAQccBQY4vEAAACyAAQeAAaiIFIAQQYxBnIAIgBTYCDCACQeIBNgIIIAQoAgBB0OYARwRAQYIVQerCAEHVAUHKIRAAAAsgBCACQQhqEHEgAkEQaiQAIAAgAzYCTCAAQdjaADYCSCAAIABByABqIgI2AlggA0HLASAFIAJBACAAQTxqQdPSABAOIgYgAEEwakHT0gAQDiIIIABBJGpB09IAEA4iCiAAQRhqQdPSABAOIgkgAEEMakHT0gAQDiIMELABIAwQChogCRAKGiAKEAoaIAgQChogBhAKGiACEBEaIAUQChogBCgCPBALIwBBEGsiAiQAIAIgBEHgAGo2AgwgAigCDCIFKAIABEAgBSgCACEGIAUoAgQhBANAIAQgBkcEQCAEQcwAaxCqCyEEDAELCyAFIAY2AgQgAigCDCgCABALCyACQRBqJAALIABBgAJqJAALIwBBoAJrIgQkACAHQShqIgVCADcCACAFQQA2AgggAygCVARAIARBsAFqIAMoAlBBCGoQygQhACADKAJQIgIoAgAiBiACKAIENgIEIAIoAgQgBjYCACADIAMoAlRBAWs2AlQgAkEIahC/AiACEAsgBEEANgKoASAEQgA3A6ABAkAgAy0AhAMEQCAEQaABaiAAQQRqEBsMAQsgBEEIahCAAyICIABBMGoiBigCACAGIAYsAAtBAEgbNgIQIAIgAEE8aiIGKAIAIAYgBiwAC0EASBs2AhwgAiAAQQRqEKkLIAIgAEHUAGoiBigCACAGIAYsAAtBAEgbNgIgIAIgAEHgAGoiBigCACAGIAYsAAtBAEgbNgIkIAIgAEHIAGogA0EgaiAAKAJMIAAtAFMiBiAGwEEASBsbEKgLIAIgBEGgAWoQpwsLIAMgAykDaCIXQgF8NwNoIAQgFzcDmAEgBEEIaiICIAMtAIQDIAAvAQAgAy0AZCAXIAAoAiBBAEcgBEGgAWoQjwIgBSACEBsgAhAKGkEBEBoEQCAEQQxqEBUhFCAEQQE2AgggFEGEzwAQDSAALwEAEGgaIAIQGQsgACgCIARAIARBCGoiBiAALwEAOwEAIAYgACkDKDcDCCAGQRBqIABBEGoQPRojAEEQayIFJAAgBSAEQZgBaiIINgIEIwBBEGsiAiQAIAUgA0HYAGoiCiACQQxqIAgQjggiDCgCACIJBH9BAAVBwAAQGCEIIAIgCkEEajYCBCACIAg2AgAgBSgCBCkDACEXIAhBADYCOCAIQgA3AyAgCEEAOwEYIAggFzcDECACQQE6AAggCiACKAIMIAwgAigCABD/AyACKAIAIQkgAkEANgIAIAIoAgAhCCACQQA2AgAgCARAIAItAAgEQCAIQShqEBEaCyAIBEAgCBALCwtBAQs6AAwgBSAJNgIIIAJBEGokACAFKAIIIRUgBUEQaiQAIBVBGGoiAiAGLwEAOwEAIAIgBikDCDcDCCACQRBqIAZBEGoiAhDMASACEBEaCyAEQaABahAKGiAAEL8CCyAEQaACaiQAAkAgAy0AhANFBEAgBygCLCAHLQAzIgAgAMBBAEgbDQEgAy0ANEUNASADKQN4IhdQRQRAIBggF30gAzUCRELAhD1+Vw0CCyAHQTRqEIADIQAgB0EcaiIEIANBmAJqEMsDIAAgBBCpCyAAIANBIGoQqAsgB0EANgIYIAdCADcDECAAIAdBEGoiABCnCyADIAMpA2giF0IBfDcDaCAHQQRqIgJBAEEpIAMtAGQgF0EAIAAQjwIgB0EoaiACEBsgAhAKGiADIBg3A3ggABAKGiAEEAoaIAMtAIQDRQ0BCyAHKAIsIActADMiACAAwEEASBsNACADLQDgAwRAIAdBNGohBSMAQUBqIgQkAAJAIAMtADRFBEAgBUHT0gAQDhoMAQsQiwIaIARBEGoiAEIANwMgIABBADYCKCAAEPkKIwBBEGsiBiQAIABBIGoiCCADKALMAyADKALIA2tBDG0QdCADKALMAyEKIAMoAsgDIQIDQCACIApGBEAgACAAKAIgIgI2AhAgACAAKAIkIAJrQQJ1NgIMIAZBEGokAAUgBiACKAIAIAIgAiwAC0EASBs2AgwgCCAGQQxqEFwgAkEMaiECDAELCyAAIAMpA9gDNwMYIARBADYCCCAEQgA3AwAjAEEQayICJAAgACgCAEGgjAFHBEBB2BlBn8MAQccBQYwyEAAACyAEIAAQYxBnIAIgBDYCDCACQeIBNgIIIAAoAgBBoIwBRwRAQdgZQZ/DAEHVAUG/JBAAAAsgACACQQhqEHEgAkEQaiQAIAMgAykDaCIXQgF8NwNoIAVBAUGtAiADLQBkIBdBACAEEI8CIAQQChogAEEgahAPGgsgBEFAayQAIAdBKGogBRAbIAUQChogA0EAOgDgAwwBCwJAIAMoAkAiAEUNACAYIAMpA3B9IACtQsCEPX5XDQAgB0E0aiEEIwBBEGsiACQAAkAgAy0ANEUEQCAEQdPSABAOGgwBCyAAIAMQogYgBCAAKAIMNgIIIAQgACkCBDcCACAAQQA2AgwgAEIANwIEIABBBGoQChoLIABBEGokACAHQShqIAQQGyAEEAoaIAMgGDcDcAwBCyADLQA0RQ0AIAdBNGoiBCADQZgCahDLAyAHKAI4IActAD8iACAAwEEASBsEQCADIAMpA2giF0IBfDcDaCAHQRxqIgBBAUGwAiADLQBkIBdBACAEEI8CIAdBKGogABAbIAAQChoLIAdBNGoQChoLQQAhAAJAIAcoAiwgBy0AMyIEIATAQQBIGw0AIAMtAIQDBEAgB0E0aiIAIAMQqQYgB0EoaiAAEBsgABAKGkGxAiEADAELIAdBNGoiACADIBggAykDcH0gAzUCQELAhD1+VRCoBiAHQShqIAAQGyAAEAoaQbECIQAgBygCLCAHLAAzIgRB/wFxIARBAEgbRQ0AIAMgGDcDcAsgCyAANgIAIAsgBygCMDYCDCALIAcpAyg3AgQgB0EANgIwIAdCADcDKCAHQShqEAoaCyAHQcABaiQAIAEgC0EEaiIAEBsgCygCACEWIAAQChogC0EQaiQAIBYLFgAgACgCBCAALQALIgAgAMBBAEgbrQsSACAAKAIAIAAgACwAC0EASBsLEAAgAARAIAAQChoLIAAQCwudCQIRfwJ9IwBBIGsiCyQAIAsgAjYCECALIAE2AgwgC0Hg3gA2AgggCyALQQhqIg82AhgjAEHgAGsiCCQAIAhBzABqQY0mEA4hDSAIIABBmARqNgJIIwBBIGsiBiQAIAYgDTYCFCAGIAhBxwBqNgIQIAYgCEHIAGo2AgwgBkGs3AA2AghBACECIwBBEGsiCSQAIA0QkQIhASAGAn8CQCAAQegDaiIFKAIEIgNFDQAgBSgCAAJ/IANBAWsgAXEgA2kiB0EBTQ0AGiABIAEgA0kNABogASADcAsiAkECdGooAgAiBEUNACADQQFrIQogB0EBSyEMA0AgBCgCACIERQ0BIAEgBCgCBCIHRwRAAkAgDEUEQCAHIApxIQcMAQsgAyAHSw0AIAcgA3AhBwsgAiAHRw0CCyAEQQhqIA0QI0UNAAtBAAwBC0HgCBAYIQcgCSAFQQhqNgIIIAkgBzYCBCMAQRBrIgQkACAGKAIUIQogBCAGKAIQNgIIIAQgBikCCDcDACAEIAo2AgwgB0EIaiIMIAQoAgwiCikCADcCACAMIAooAgg2AgggCkIANwIAIApBADYCCCAEKAIEKAIAIQ4jAEEQayIKJAAgCiAONgIMIwBBEGsiDiQAIAxBEGogDkEEaiAKKAIMEBAiDBDSBCERIAwQChogEUH4BGoQwQYgDkEQaiQAIApBEGokACAEQRBqJAAgCUEBOgAMIAdBADYCACAHIAE2AgQCQEEAIAMgBSgCDEEBarMiFCAFKgIQIhUgA7OUXhsNACAFIAMgA0EBa3FBAEcgA0EDSXIgA0EBdHIiAgJ/IBQgFZWNIhRDAACAT10gFEMAAAAAYHEEQCAUqQwBC0EACyIDIAIgA0sbEIQDIAUoAgQiAyADQQFrIgJxRQRAIAEgAnEhAgwBCyABIANJBEAgASECDAELIAEgA3AhAgsCQCACQQJ0IgIgBSgCAGooAgAiAUUEQCAJKAIEIAUoAgg2AgAgBSAJKAIENgIIIAUoAgAgAmogBUEIajYCACAJKAIEIgEoAgAiAkUNASACKAIEIQQCQCADIANBAWsiAnFFBEAgAiAEcSEEDAELIAMgBEsNACAEIANwIQQLIAUoAgAgBEECdGogATYCAAwBCyAJKAIEIAEoAgA2AgAgASAJKAIENgIACyAJKAIEIQQgCUEANgIEIAUgBSgCDEEBajYCDCAJQQRqENMEQQELOgAcIAYgBDYCGCAJQRBqJAAgCCAGKAIYNgJYIAggBi0AHDoAXCAGQSBqJAAgCCgCWCEBIA0QChogAUGQBWogAUEYaiIBEN0EIAAgATYCpAQgCCAANgIIIAhBEGogDxA9IRMgASESIwBBEGsiBSQAIwBBEGsiACQAIAhBKGoiAUEANgIQQSgQGCECIABBATYCCCAAIABBD2o2AgQgAkGY3gA2AgAgAkEIaiIEIAhBCGoiBigCADYCACAEQQhqIAZBCGoQPRogAEEANgIAIAEgAjYCECAAEJABIABBEGokACAFQRBqJAAgEiABEJgGIAEQERogExARGiAIQeAAaiQAIA8QERogC0EgaiQAQQAL7ggBBX8jAEEwayIIJAAgCEEkaiABEA4hByAIQRhqIAIQDiEJIAhBDGogAxAOIQIjAEHwBGsiBSQAIABB/AZqIQYgAEH4BmoiAyAHELoBIQECQCAERQRAIAEgBkYNASADIAcQ1QEhBCAFQegDahCXBiEAIAVCADcDKCAFQgA3AyAgBUGABGoiAyAEIAVBIGogABCUAiAFQcAEaiADEL4CEJoGIQYgBUGIBGoiARCOAiAAECoCQCAGLQAoRQ0AIAUgBhC1ASIAKQMQNwOYAyAFIAApAwg3A5ADIAVB0ANqIAkQXSEAIAUgBSkDmAM3AxggBSAFKQOQAzcDECADIAQgBUEQaiAAEJQCIAYgAxC+AhCYCyABEI4CIAAQKiAGLQAoRQ0AIAMgBBDOASEBIAUgBhC1ASIAKQMQNwOYAyAFIAApAwg3A5ADIAVBuANqIAIQXSEAIAUgBSkDmAM3AwggBSAFKQOQAzcDACABIAUgABDVAyAAECogBUGQA2ogARDNASABELIBCyAGEMcEDAELIAEgBkYEQCAAQeAEaiAFQYQDaiAHEBAiABDTAyAAEAoaCyADIAcQ1QEhAyAFQgA3A/gCIAVCADcD8AIgBUHYAmoQlwYhASAFQgA3A3ggBUIANwNwIAVBgARqIgAgAyAFQfAAaiABEJQCIAVBwARqIAAQvgIQmgYhBiAFQYgEahCOAiABECoCQCAGLQAoRQRAIAAgAxDOASEBIAVBwAJqEJcGIQAgBUEBOgC4AiAFQgA3A2ggBUEANgKgAiAFQgA3A2AgASAFQeAAaiAAIAVBmAJqIAVB8AJqEMMCIAVBoAJqEEogABAqIAVBkANqIAEQzQEgARCyAQwBCyAFIAYQtQEiACkDCDcD8AIgBSAAKQMQNwP4AgsgBSAFKQP4AjcDmAMgBSAFKQPwAjcDkAMgBUGAAmogCRBdIQEgBSAFKQOYAzcDWCAFIAUpA5ADNwNQIAVBgARqIgAgAyAFQdAAaiABEJQCIAYgABC+AhCYCyAFQYgEahCOAiABECoCQCAGLQAoRQRAIAAgAxDOASEBIAUgBSkD+AI3A5gDIAUgBSkD8AI3A5ADIAVB6AFqIAkQXSEAIAVBAToA4AEgBSAFKQOYAzcDSCAFQQA2AsgBIAUgBSkDkAM3A0AgASAFQUBrIAAgBUHAAWogBUHwAmoQwwIgBUHIAWoQSiAAECogBUGQA2ogARDNASABELIBDAELIAUgBhC1ASIAKQMINwPwAiAFIAApAxA3A/gCCyAFQYAEaiADEM4BIQEgBSAFKQP4AjcDmAMgBSAFKQPwAjcDkAMgBUGoAWogAhBdIQAgBUEAOgCgASAFQQE6AJgBIAUgBSkDmAM3AzggBSAErTcDiAEgBSAFKQOQAzcDMCABIAVBMGogACAFQYABakEAEMMCIAVBiAFqEEogABAqIAVBkANqIAEQzQEgARCyASAGEMcECyAFQfAEaiQAIAIQChogCRAKGiAHEAoaIAhBMGokAAsJACAAIAE2AjgLCQAgACABNgJICwkAIAAgATYCQAvjAwEFfyAABEAgAEHgDWoQERogAEHIDWoQERogAEG0DWoQzgQgAEHYCWoiAS0A0AMEQCABENEECyAAQeAEahC+BiAAQcgEaiIDKAIIIQEDQCABBEAgASgCACEEIAFBCGoQwgYgARALIAQhAQwBCwsgAxDQAyAAQbQEaiIDKAIIIQEDQCABBEAgASgCACEFIAFBCGoQuwYgARALIAUhAQwBCwsgAxDQAyAAQagEaiAAKAKsBBDPAyAAQZgEahAKGiAAQYwEahBAIABB/ANqIAAoAoAEEJYGIABB6ANqEM4EIABByANqEEAgAEGwA2oQERogAEGYA2oQERogAEGIA2oQChogAEH4AmoQChogAEHgAmoQERogAEHIAmoQERogAEGwAmoQERogAEGYAmoQERogAEGAAmoQERogAEHoAWoQERogAEHQAWoQERogAEG4AWoQERogAEGgAWoQERogAEGIAWoQERogAEHYAGoQpgYgAEHMAGoQpwYgACgCMCIBBEAgASABKAIEIgJBAWs2AgQgAkUEQCABIAEoAgAoAggRAQACQCABQQhqIgIoAgAEQCACENsJQX9HDQELIAEgASgCACgCEBEBAAsLCyAAQSBqEAoaIABBFGoQChogABAKGgsgABALC7YMAQ9/IwBBMGsi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BEBBAA8LQQAgAEEIaiAALQAgGwsdAQF/IAAtACBBAUYEfyAAELUBKAIAQQFGBUEACwsbAQF/IAAtACBBAUYEfyAAELUBKAIABUEBC0ULCAAgAC0AIEULEgAgAARAIABBCGoQSgsgABALCxgBAX9BKBAYIgFBCGogAEEIahCbBhogAQsfAQF/QSgQGCIAQgA3AwggAEEAOgAgIABBADoAGCAACwkAQZCtAhARGguHAgEHfyMAQbABayIDJAAgACgCBCEAAkAgAS8BACIBBEBBAhAaBEAgA0EoahAVIQYgA0ECNgIkIAZBq8wAEA0gARBoGiADQSRqEBkLIAFB5QBGDQEgABCQAgwBC0EBEBoEQCADQShqEBUhByADQQE2AiQgB0HOzQAQDSEIIANBGGoiASACKAIEKAIgEA4aIAggARATQb/NABANIQkgA0EMaiIEIAIoAgQoAiwQDhogCSAEEBMaIAQQChogARAKGiADQSRqEBkLIABBATsBNCAAKALwAkUNACADQSRqIgEgAigCBCICKAI0IAIoAjAQUSAAQeACaiABEKgDIAEQChoLIANBsAFqJAALFQAgAUH82gA2AgAgASAAKAIENgIECx0BAX9BCBAYIgFB/NoANgIAIAEgACgCBDYCBCABC/YBAQV/IwBBoAFrIgMkACAAKAIEIQACQCABLwEAIgEEQEECEBoEQCADQRhqEBUhBSADQQI2AhQgBUGrzAAQDSABEGgaIANBFGoQGQsgAUHlAEYNASAAEJACDAELIAAoArABBEAgAEGgAWogAhCoAwtBARAaBEAgA0EYahAVIQYgA0EBNgIUIAZBzs0AEA0hByADQQhqIgEgAigCBCgCNBAOGiAHIAEQExogARAKGiADQRRqEBkLIABCADcDeCAAQQE7ATQgACgCwAJFDQAgA0EUaiIBIABBsAJqIAIQygMgAEH4AmogARAbIAEQChoLIANBoAFqJAALFQAgAUHY2gA2AgAgASAAKAIENgIECx0BAX9BCBAYIgFB2NoANgIAIAEgACgCBDYCBCABCwkAIAAQnQYQCwsJACAAEJ4GEAsLCQAgABCfBhALCwkAIAAQoAYQCwsLu+4BiQMAQYAIC9NKAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAAFgAAABcAAAAYAAAAGQAAABoAAAAbAAAAHAAAAB0AAAAeAAAAHwAAACAAAAAhAAAAIgAAACMAAAAkAAAAJQAAAAAAAAAmAAAAJwAAAH0AaW5maW5pdHkARmVicnVhcnkASmFudWFyeQBKdWx5AERpZ2VzdE9ubHkAQ291bnRPbmx5AEtleXNPbmx5AEhhc2hLZXkAUm91dGluZ0tleQBVbmlxdWVLZXkAU3luY0tleQBzaXplb2ZfZWx0X2luX3JlcGVhdGVkX2FycmF5AFRodXJzZGF5AFR1ZXNkYXkAV2VkbmVzZGF5AFNhdHVyZGF5AFN1bmRheQBNb25kYXkARnJpZGF5AE1heQAlbS8lZC8leQBDb25uSW5kZXgATmFtZXNwYWNlSW5kZXgALSsgICAwWDB4AC0wWCswWCAwWC0weCsweCAweABfX25leHRfcHJpbWUgb3ZlcmZsb3cATm92AFRodQBUaW1lb3V0AEF1Z3VzdABDUlNZTkNfX1ZBTFVFX1RZUEVfX0xpc3QAQ3JzeW5jX19SYW5nZURvY3NSZXF1ZXN0AGNyc3luYy5SYW5nZURvY3NSZXF1ZXN0AEdhbGFjdHVzX19Fc3RhYmxpc2hSZXF1ZXN0AENyc3luY19fRXN0YWJsaXNoUmVxdWVzdABnYWxhY3R1cy5Fc3RhYmxpc2hSZXF1ZXN0AGNyc3luYy5Fc3RhYmxpc2hSZXF1ZXN0AENyc3luY19fVXBkYXRlUmVxdWVzdABjcnN5bmMuVXBkYXRlUmVxdWVzdABDcnN5bmNfX0RhdGFiYXNlUmVxdWVzdABjcnN5bmMuRGF0YWJhc2VSZXF1ZXN0AEdhbGFjdHVzX19TaGFrZUhhbmRSZXF1ZXN0AGdhbGFjdHVzLlNoYWtlSGFuZFJlcXVlc3QAQ3JzeW5jX19RdWVyeURvY1JlcXVlc3QAY3JzeW5jLlF1ZXJ5RG9jUmVxdWVzdABDcnN5bmNfX1B1dERvY1JlcXVlc3QAY3JzeW5jLlB1dERvY1JlcXVlc3QAQ3JzeW5jX19HZXREb2NSZXF1ZXN0AGNyc3luYy5HZXREb2NSZXF1ZXN0AENyc3luY19fRGVsRG9jUmVxdWVzdABjcnN5bmMuRGVsRG9jUmVxdWVzdABCZXN0AENSU1lOQ19fVVBEQVRFX01FVEhPRF9fTGlzdEluc2VydABTdGFydAByZWNlaXZlZCBlbXB0eSBzbmFwc2hvdABmYWlsIHRvIHJlY3Ygc25hcHNob3QAc2VuZGluZyBzbmFwc2hvdABDb25uZWN0aW9uQ291bnQAU3RyZWFtQ291bnQAIGNyZWF0ZSBjaGVja3BvaW50AEVuZHBvaW50AENyc3luY19fVGlja2V0RXZlbnQAY3JzeW5jLlRpY2tldEV2ZW50AENyc3luY19fUGVybWlzc2lvbkV2ZW50AGNyc3luYy5QZXJtaXNzaW9uRXZlbnQAQ3JzeW5jX19LZWVwYWxpdmVFdmVudABjcnN5bmMuS2VlcGFsaXZlRXZlbnQAQ29udGVudABzaG91bGQgaGF2ZSBvbmx5IHVzZWQgaGFzaGVzIHRoYXQgYXJlIGluIHRoZSBkb2N1bWVudABDcnN5bmNfX0RvY3VtZW50AGNyc3luYy5Eb2N1bWVudABJbnN0YW50AExpbWl0AENSU1lOQ19fVVBEQVRFX01FVEhPRF9fQ291bnRlclNldABDUlNZTkNfX1VQREFURV9NRVRIT0RfX1NldABDUlNZTkNfX1ZBTFVFX1RZUEVfX0RpY3QAIGNvbXBhY3QAT2N0AENSU1lOQ19fVkFMVUVfVFlQRV9fRmxvYXQAU2F0AGdhbGFjdHVzAERvY3VtZW50cwBDbGllbnRzAEdyYW50cwBUaWNrZXRzAENsdXN0ZXJzAE9wdGlvbnMAUGVybXMASXRlbXMAUGF0aHMAZGlmZnMARm9yYmlkcwBMb2FkcwBEb2NzAFRzACVzAEFwcgBtZXNzYWdlLT5iYXNlLmRlc2NyaXB0b3IgPT0gJmNyc3luY19fcmFuZ2VfZG9jc19yZXF1ZXN0X19kZXNjcmlwdG9yAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmZ2FsYWN0dXNfX2VzdGFibGlzaF9yZXF1ZXN0X19kZXNjcmlwdG9yAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmY3JzeW5jX19lc3RhYmxpc2hfcmVxdWVzdF9fZGVzY3JpcHRvcgBtZXNzYWdlLT5iYXNlLmRlc2NyaXB0b3IgPT0gJmNyc3luY19fdXBkYXRlX3JlcXVlc3RfX2Rlc2NyaXB0b3IAbWVzc2FnZS0+YmFzZS5kZXNjcmlwdG9yID09ICZjcnN5bmNfX2RhdGFiYXNlX3JlcXVlc3RfX2Rlc2NyaXB0b3IAbWVzc2FnZS0+YmFzZS5kZXNjcmlwdG9yID09ICZnYWxhY3R1c19fc2hha2VfaGFuZF9yZXF1ZXN0X19kZXNjcmlwdG9yAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmY3JzeW5jX19xdWVyeV9kb2NfcmVxdWVzdF9fZGVzY3JpcHRvcgBtZXNzYWdlLT5iYXNlLmRlc2NyaXB0b3IgPT0gJmNyc3luY19fcHV0X2RvY19yZXF1ZXN0X19kZXNjcmlwdG9yAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmY3JzeW5jX19nZXRfZG9jX3JlcXVlc3RfX2Rlc2NyaXB0b3IAbWVzc2FnZS0+YmFzZS5kZXNjcmlwdG9yID09ICZjcnN5bmNfX2RlbF9kb2NfcmVxdWVzdF9fZGVzY3JpcHRvcgBtZXNzYWdlLT5iYXNlLmRlc2NyaXB0b3IgPT0gJmNyc3luY19fdGlja2V0X2V2ZW50X19kZXNjcmlwdG9yAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmY3JzeW5jX19wZXJtaXNzaW9uX2V2ZW50X19kZXNjcmlwdG9yAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmY3JzeW5jX19rZWVwYWxpdmVfZXZlbnRfX2Rlc2NyaXB0b3IAbWVzc2FnZS0+YmFzZS5kZXNjcmlwdG9yID09ICZnYWxhY3R1c19fZXh0X2hlYWRlcl9fZGVzY3JpcHRvcgBtZXNzYWdlLT5iYXNlLmRlc2NyaXB0b3IgPT0gJmdhbGFjdHVzX19yZW5ld19rZXlfcmVzcG9uc2VfX2Rlc2NyaXB0b3IAbWVzc2FnZS0+YmFzZS5kZXNjcmlwdG9yID09ICZjcnN5bmNfX3JhbmdlX2RvY3NfcmVzcG9uc2VfX2Rlc2NyaXB0b3IAbWVzc2FnZS0+YmFzZS5kZXNjcmlwdG9yID09ICZnYWxhY3R1c19fZXN0YWJsaXNoX3Jlc3BvbnNlX19kZXNjcmlwdG9yAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmY3JzeW5jX19lc3RhYmxpc2hfcmVzcG9uc2VfX2Rlc2NyaXB0b3IAbWVzc2FnZS0+YmFzZS5kZXNjcmlwdG9yID09ICZnYWxhY3R1c19fc2hha2VfaGFuZF9yZXNwb25zZV9fZGVzY3JpcHRvcgBtZXNzYWdlLT5iYXNlLmRlc2NyaXB0b3IgPT0gJmNyc3luY19fcXVlcnlfZG9jX3Jlc3BvbnNlX19kZXNjcmlwdG9yAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmY3JzeW5jX19nZXRfZG9jX3Jlc3BvbnNlX19kZXNjcmlwdG9yAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmY3JzeW5jX19zeW5jX21lc3NhZ2VfX2Rlc2NyaXB0b3IAbWVzc2FnZS0+YmFzZS5kZXNjcmlwdG9yID09ICZjcnN5bmNfX3NoYWtlaGFuZF9fZGVzY3JpcHRvcgB2ZWN0b3IAQ2x1c3RlcgBwcm90b2J1Zl9jX21lc3NhZ2VfcGFja190b19idWZmZXIAcmVwZWF0ZWRfZmllbGRfcGFja190b19idWZmZXIAcmVxdWlyZWRfZmllbGRfcGFja190b19idWZmZXIAY3JzeW5jX19yYW5nZV9kb2NzX3JlcXVlc3RfX3BhY2tfdG9fYnVmZmVyAGdhbGFjdHVzX19lc3RhYmxpc2hfcmVxdWVzdF9fcGFja190b19idWZmZXIAY3JzeW5jX19lc3RhYmxpc2hfcmVxdWVzdF9fcGFja190b19idWZmZXIAY3JzeW5jX191cGRhdGVfcmVxdWVzdF9fcGFja190b19idWZmZXIAY3JzeW5jX19kYXRhYmFzZV9yZXF1ZXN0X19wYWNrX3RvX2J1ZmZlcgBnYWxhY3R1c19fc2hha2VfaGFuZF9yZXF1ZXN0X19wYWNrX3RvX2J1ZmZlcgBjcnN5bmNfX3F1ZXJ5X2RvY19yZXF1ZXN0X19wYWNrX3RvX2J1ZmZlcgBjcnN5bmNfX3B1dF9kb2NfcmVxdWVzdF9fcGFja190b19idWZmZXIAY3JzeW5jX19nZXRfZG9jX3JlcXVlc3RfX3BhY2tfdG9fYnVmZmVyAGNyc3luY19fZGVsX2RvY19yZXF1ZXN0X19wYWNrX3RvX2J1ZmZlcgBjcnN5bmNfX3RpY2tldF9ldmVudF9fcGFja190b19idWZmZXIAY3JzeW5jX19rZWVwYWxpdmVfZXZlbnRfX3BhY2tfdG9fYnVmZmVyAGdhbGFjdHVzX19leHRfaGVhZGVyX19wYWNrX3RvX2J1ZmZlcgBjcnN5bmNfX3N5bmNfbWVzc2FnZV9fcGFja190b19idWZmZXIAY3JzeW5jX19zaGFrZWhhbmRfX3BhY2tfdG9fYnVmZmVyAGNvbHVtbnMgb3V0IG9mIG9yZGVyAF9mb2xkZXIATGVhZGVyAEdhbGFjdHVzX19FeHRIZWFkZXIAZ2FsYWN0dXMuRXh0SGVhZGVyAE9jdG9iZXIATm92ZW1iZXIAU2VwdGVtYmVyAHBhcnNlX21lbWJlcgBwYXJzZV9wYWNrZWRfcmVwZWF0ZWRfbWVtYmVyAERlY2VtYmVyAExvY2FsQWRkcgBSZW1vdGVBZGRyAGlvc19iYXNlOjpjbGVhcgBNYXIARGlmZlNlcQBtZWRpYV9zZXJ2ZXJfbGlicmFyeS9jcmR0L2RvY3VtZW50LmNwcABtZWRpYV9zZXJ2ZXJfbGlicmFyeS9jcmR0L21lcmtsZV9zZWFyY2hfdHJlZS5jcHAAU2VwAE9wACVJOiVNOiVTICVwAEdhbGFjdHVzX19QZWVySW5mbwBnYWxhY3R1cy5QZWVySW5mbwBTdW4ASnVuAFBlcm1Kc29uAEJpRGlyZWN0aW9uAFRyeSB0byBlc3RhYmxpc2ggY29ubmVjdGlvbgBUcnkgdG8gZXN0YWJsaXNoIG5ld3N5bmMgY29ubmVjdGlvbgBDb2xsZWN0aW9uAENyc3luY19fT3BlcmF0aW9uAGNyc3luYy5PcGVyYXRpb24AQ3JzeW5jX19QZXJtaXNzaW9uAGNyc3luYy5QZXJtaXNzaW9uAFZlcnNpb24ATW9uAHRtcCA9PSBwYXlsb2FkX2xlbgBuYW4ASmFuAFF1b3J1bQBDcnN5bmNfX0tlZXBhbGl2ZUl0ZW0AY3JzeW5jLktlZXBhbGl2ZUl0ZW0AQ3JzeW5jX19JdGVtAGNyc3luYy5JdGVtAEluc2VydEVsZW0ASnVsAFR0bABHYWxhY3R1c19fUGVlclByb3RvY29sAGdhbGFjdHVzLlBlZXJQcm90b2NvbABudWxsAENvbGwAQXByaWwARXhpc3RzRmFpbABfZXBoZW1lcmFsAExvY2FsAHByb3RvYnVmX2NfbWVzc2FnZV91bnBhY2sARnJpAGdldF9wYWNrZWRfcGF5bG9hZF9sZW5ndGgAUGF0aABvcCBmaWVsZCBjb3VudCBkb2VzIG5vdCBtYXRjaABtYWdpYyBudW1iZXIgZG9lcyBub3QgbWF0Y2gAY2hlY2tzdW0gZG9lcyBub3QgbWF0Y2gATWFyY2gALi9tZWRpYV9zZXJ2ZXJfbGlicmFyeS9jcmR0L21lcmtsZV9zZWFyY2hfdHJlZS5oAEF1ZwAgcmVjdiBlcnIgbXNnAGJhc2ljX3N0cmluZwBDUlNZTkNfX1ZBTFVFX1RZUEVfX1N0cmluZwBGbGFnAGluZgBHYWxhY3R1c19fSW50ZXJlc3REaWZmAGdhbGFjdHVzLkludGVyZXN0RGlmZgAlLjBMZgAlTGYAcHJvdG9idWZfY19tZXNzYWdlX2dldF9wYWNrZWRfc2l6ZQByZXF1aXJlZF9maWVsZF9nZXRfcGFja2VkX3NpemUAY3JzeW5jX19yYW5nZV9kb2NzX3JlcXVlc3RfX2dldF9wYWNrZWRfc2l6ZQBnYWxhY3R1c19fZXN0YWJsaXNoX3JlcXVlc3RfX2dldF9wYWNrZWRfc2l6ZQBjcnN5bmNfX2VzdGFibGlzaF9yZXF1ZXN0X19nZXRfcGFja2VkX3NpemUAY3JzeW5jX191cGRhdGVfcmVxdWVzdF9fZ2V0X3BhY2tlZF9zaXplAGNyc3luY19fZGF0YWJhc2VfcmVxdWVzdF9fZ2V0X3BhY2tlZF9zaXplAGdhbGFjdHVzX19zaGFrZV9oYW5kX3JlcXVlc3RfX2dldF9wYWNrZWRfc2l6ZQBjcnN5bmNfX3F1ZXJ5X2RvY19yZXF1ZXN0X19nZXRfcGFja2VkX3NpemUAY3JzeW5jX19wdXRfZG9jX3JlcXVlc3RfX2dldF9wYWNrZWRfc2l6ZQBjcnN5bmNfX2dldF9kb2NfcmVxdWVzdF9fZ2V0X3BhY2tlZF9zaXplAGNyc3luY19fZGVsX2RvY19yZXF1ZXN0X19nZXRfcGFja2VkX3NpemUAY3JzeW5jX190aWNrZXRfZXZlbnRfX2dldF9wYWNrZWRfc2l6ZQBjcnN5bmNfX2tlZXBhbGl2ZV9ldmVudF9fZ2V0X3BhY2tlZF9zaXplAGdhbGFjdHVzX19leHRfaGVhZGVyX19nZXRfcGFja2VkX3NpemUAY3JzeW5jX19zeW5jX21lc3NhZ2VfX2dldF9wYWNrZWRfc2l6ZQBjcnN5bmNfX3NoYWtlaGFuZF9fZ2V0X3BhY2tlZF9zaXplAHRydWUAVmFsdWUAVHVlAFJlbW90ZQBDUlNZTkNfX09QRVJBVElPTl9fV3JpdGUAQ1JTWU5DX19VUERBVEVfTUVUSE9EX19EZWxldGUALCByZXNldCBjb25uZWN0aW9uIHN0YXRlAENyZWF0ZQBDUlNZTkNfX1VQREFURV9NRVRIT0RfX1VwZGF0ZQBUcmF2ZXJzZQBHYWxhY3R1c19fUmVuZXdLZXlSZXNwb25zZQBnYWxhY3R1cy5SZW5ld0tleVJlc3BvbnNlAENyc3luY19fUmFuZ2VEb2NzUmVzcG9uc2UAY3JzeW5jLlJhbmdlRG9jc1Jlc3BvbnNlAEdhbGFjdHVzX19Fc3RhYmxpc2hSZXNwb25zZQBDcnN5bmNfX0VzdGFibGlzaFJlc3BvbnNlAGdhbGFjdHVzLkVzdGFibGlzaFJlc3BvbnNlAGNyc3luYy5Fc3RhYmxpc2hSZXNwb25zZQBHYWxhY3R1c19fU2hha2VIYW5kUmVzcG9uc2UAZ2FsYWN0dXMuU2hha2VIYW5kUmVzcG9uc2UAQ3JzeW5jX19RdWVyeURvY1Jlc3BvbnNlAGNyc3luYy5RdWVyeURvY1Jlc3BvbnNlAENyc3luY19fR2V0RG9jUmVzcG9uc2UAY3JzeW5jLkdldERvY1Jlc3BvbnNlAGZhbHNlAERhdGFiYXNlAGNoYW5nZSBpcyBlYXJsaWVyIHRoYW4gcGVlciBiYXNlAFNjb3JlAE1vcmUAQ2xpZW50VHlwZQBDcnN5bmNfX1ZhbHVlVHlwZQBjcnN5bmMuVmFsdWVUeXBlAEp1bmUATmFtZQBBdmFpbGFibGUAQ3JzeW5jX19Qcml2aWxlZ2UAY3JzeW5jLlByaXZpbGVnZQBDcnN5bmNfX1N5bmNNZXNzYWdlAGNyc3luYy5TeW5jTWVzc2FnZQBiYXNlIGlzIG5vdCBiZWZvcmUgc2hhcmVkIGhlYWRzLCB0byBwcm9iZSBtb2RlAHJlY3YgZXJyLCB0byBwcm9iZSBtb2RlAGJhc2UgaXMgbm90IGJlZm9yZSBsYXN0IHN5bmMsIHRvIHByb2JlIG1vZGUAR2FsYWN0dXNfX1BlZXJNb2RlAGdhbGFjdHVzLlBlZXJNb2RlAEFzeW5jTW9kZQBBZGFwdG9yIHN1Z2dlc3QgZGlzY29ubmVjdCBmb3IgbmFtZXNwYWNlAE5hbWVzcGFjZQBDcnN5bmNfX1VwZGF0ZU1ldGhvZABjcnN5bmMuVXBkYXRlTWV0aG9kAGNoZWNrcG9pbnQgbm90IGZvdW5kAFVwdGltZUluU2Vjb25kAEdldENoYW5nZXNUb1NlbmQAQ3JzeW5jX19TaGFrZWhhbmQAY3JzeW5jLlNoYWtlaGFuZABFbmQAUmVtb3ZlZABjb25uZWN0aW9uIHRpbWVvdXRlZABkZWNvZGUgb3BzIGZhaWxlZABwYXJzZSBmb2xkZXIgbXNnIGZhaWxlZABjbG9ja19nZXR0aW1lKENMT0NLX1JFQUxUSU1FKSBmYWlsZWQAY2xvY2tfZ2V0dGltZShDTE9DS19NT05PVE9OSUMpIGZhaWxlZABwcm90b2J1Zl9jX21lc3NhZ2VfZnJlZV91bnBhY2tlZABjcnN5bmNfX2RhdGFiYXNlX3JlcXVlc3RfX2ZyZWVfdW5wYWNrZWQAY3JzeW5jX19wZXJtaXNzaW9uX2V2ZW50X19mcmVlX3VucGFja2VkAGdhbGFjdHVzX19yZW5ld19rZXlfcmVzcG9uc2VfX2ZyZWVfdW5wYWNrZWQAY3JzeW5jX19yYW5nZV9kb2NzX3Jlc3BvbnNlX19mcmVlX3VucGFja2VkAGdhbGFjdHVzX19lc3RhYmxpc2hfcmVzcG9uc2VfX2ZyZWVfdW5wYWNrZWQAY3JzeW5jX19lc3RhYmxpc2hfcmVzcG9uc2VfX2ZyZWVfdW5wYWNrZWQAZ2FsYWN0dXNfX3NoYWtlX2hhbmRfcmVzcG9uc2VfX2ZyZWVfdW5wYWNrZWQAY3JzeW5jX19xdWVyeV9kb2NfcmVzcG9uc2VfX2ZyZWVfdW5wYWNrZWQAY3JzeW5jX19nZXRfZG9jX3Jlc3BvbnNlX19mcmVlX3VucGFja2VkAGNyc3luY19fc3luY19tZXNzYWdlX19mcmVlX3VucGFja2VkAGhlYWRzIGVxdWFsLCBwZWVyIHN5bmNlZABXZWQAcGFja19idWZmZXJfcGFja2VkX3BheWxvYWQAR2FsYWN0dXNfX1F1b3J1bUxvYWQAZ2FsYWN0dXMuUXVvcnVtTG9hZABUb3RhbExvYWQAQ1JTWU5DX19PUEVSQVRJT05fX1JlYWQATGVhc2VJZABBdXRvQ3JlYXRlRG9jAGNyc3luYwBzdGFydCBhIHJvdW5kIG9mIHN5bmMAc3RhcnQgYSByb3VuZCBvZiB0b21ic3RvbmUgc3luYwBDUlNZTkNfX1VQREFURV9NRVRIT0RfX0NvdW50ZXJJbmMARGVjAG1lZGlhX3NlcnZlcl9saWJyYXJ5L3RoaXJkX3BhcnR5L2V0Y2QtYy9wcm90b2J1Zi1jLmMAbWVkaWFfc2VydmVyX2xpYnJhcnkvdGhpcmRfcGFydHkvZXRjZC1jL3Byb3h5LnBiLWMuYwBtZWRpYV9zZXJ2ZXJfbGlicmFyeS90aGlyZF9wYXJ0eS9ldGNkLWMvY3JzeW5jLnBiLWMuYwBGZWIAXQBdWwBBWgBHQUxBQ1RVU19fUEVFUl9NT0RFX19QRUVSX01PREVfUFJPWFkAJWEgJWIgJWQgJUg6JU06JVMgJVkAUE9TSVgAR0FMQUNUVVNfX1BFRVJfTU9ERV9fUEVFUl9NT0RFX0NMVVNURVJfQ0xJRU5UAEdBTEFDVFVTX19QRUVSX01PREVfX1BFRVJfTU9ERV9DTElFTlQAU3BsaXRPZmZMVABHQUxBQ1RVU19fUEVFUl9NT0RFX19QRUVSX01PREVfU0lERUNBUl9ESVJFQ1QAR0FMQUNUVVNfX1BFRVJfTU9ERV9fUEVFUl9NT0RFX0VNUwAlSDolTTolUwBHQUxBQ1RVU19fUEVFUl9NT0RFX19QRUVSX01PREVfTUlHUkFUT1IAR0FMQUNUVVNfX1BFRVJfTU9ERV9fUEVFUl9NT0RFX0NPT1JESU5BVE9SAEdBTEFDVFVTX19QRUVSX01PREVfX1BFRVJfTU9ERV9TWU5DX0NFTlRFUgBHQUxBQ1RVU19fUEVFUl9NT0RFX19QRUVSX01PREVfU0lERUNBUgBHQUxBQ1RVU19fUEVFUl9QUk9UT0NPTF9fUFJPVE9DT0xfVENQAE5BTgBQTQBBTQBUVEwAcnYtPmRlc2NyaXB0b3IgIT0gTlVMTABMQ19BTEwATEFORwBJTkYASUQAR0FMQUNUVVNfX1BFRVJfUFJPVE9DT0xfX1BST1RPQ09MX0dSUEMAKChtZXNzYWdlKS0+ZGVzY3JpcHRvciktPm1hZ2ljID09IFBST1RPQlVGX0NfX01FU1NBR0VfREVTQ1JJUFRPUl9NQUdJQwAoZGVzYyktPm1hZ2ljID09IFBST1RPQlVGX0NfX01FU1NBR0VfREVTQ1JJUFRPUl9NQUdJQwBJREMALCBlcnI6AHJlY3YgdXJpOgAsIHNlcWlkOgAwMTIzNDU2Nzg5AEMuVVRGLTgAbm9kZS5jaGlsZHJlbl8uc2l6ZSgpID09IG5vZGUuZWxlbWVudHNfLnNpemUoKSArIDEAY2hpbGRyZW5fLnNpemUoKSA9PSBlbGVtZW50c18uc2l6ZSgpICsgMQAwAC8AIGFscmVhZHkgdGltZW91dC4ALCBpZ25vcmUuACwAK3RvbWJzdG9uZSsAKG51bGwpACFzeW5jX3N0YXRlLnRoZWlyX2hhdmUtPmVtcHR5KCkAIWVsZW1lbnRzXy5lbXB0eSgpAGd0X2VsZW1zLnNpemUoKSArIDEgPT0gZ3RfY2hpbGRyZW4uc2l6ZSgpACAgICAiACBjb2xsIG1zZyB0eXBlIGRvZXMgbm90IG1hdGNoIQBzeW5jIG1zZyB0eXBlIGRvZXMgbm90IG1hdGNoIQBQdXJlIHZpcnR1YWwgZnVuY3Rpb24gY2FsbGVkIQBTZXQgbmFtZXNwYWNlIGFzIABwdXJnZWQgdG8gACB3aXRoIGVycm5vIABGYWlsZWQgdG8gZXN0YWJsaXNoIGNvbm4gAFJlY2VpdmUgd3JvbmcgdGVybSAAVW5rbm93biB1cmkgACBvbiB1cmkgAGNvbW1hbmQgAFJlY2VpdmUgdW5rb3duIHNlcWlkIABdIABkZXAgbm90IG1ldDogACBpbml0aWFsIGRvY3M6IAB1cGRhdGUgZm9sZGVyOiAALCBsb2NhbF9hZGRyOiAAZXN0YWJsaXNoIGNvbm5lY3Rpb24gc3VjY2Vzc2Z1bGx5LCByZW1vdGVfYWRkcjogAGludmFsaWQgb3AgYWN0aW9uOiAALCBnZW5lcmF0aW9uOiAALCBjdXJyZW50IHZlcnNpb246IAAsIHZlcnNpb246IABjb21wYWN0IG51bTogAHNuYXBzaG90dGluZywgY2hh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////tGkAANUBAADWAQAAGGkAAFBpAABkaQAALGkAADgAAAAAAAAApGgAAMgBAADJAQAAyP///8j///+kaAAAygEAAMsBAABOU3QzX18yMTliYXNpY19vc3RyaW5nc3RyZWFtSWNOU18xMWNoYXJfdHJhaXRzSWNFRU5TXzlhbGxvY2F0b3JJY0VFRUUAAABIlQAAbGkAAKRoAAAAAAAA5GkAANcBAADYAQAATlN0M19fMjhpb3NfYmFzZUUAAAAglQAA0GkAAAAAAAD/////////////////////////////////////////////////////////////////AAECAwQFBgcICf////////8KCwwNDg8QERITFBUWFxgZGhscHR4fICEiI////////woLDA0ODxAREhMUFRYXGBkaGxwdHh8gISIj/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wABAgQHAwYFAAAAAAAAAAIAAMADAADABAAAwAUAAMAGAADABwAAwAgAAMAJAADACgAAwAsAAMAMAADADQAAwA4AAMAPAADAEAAAwBEAAMASAADAEwAAwBQAAMAVAADAFgAAwBcAAMAYAADAGQAAwBoAAMAbAADAHAAAwB0AAMAeAADAHwAAwAAAALMBAADDAgAAwwMAAMMEAADDBQAAwwYAAMMHAADDCAAAwwkAAMMKAADDCwAAwwwAAMMNAADTDgAAww8AAMMAAAy7AQAMwwIADMMDAAzDBAAM2wAAAADeEgSVAAAAAP///////////////9BrAAAUAAAAQy5VVEYtOABBoNgBCwLkawBBwNgBC0pMQ19DVFlQRQAAAABMQ19OVU1FUklDAABMQ19USU1FAAAAAABMQ19DT0xMQVRFAABMQ19NT05FVEFSWQBMQ19NRVNTQUdFUwCQbgBBlN0BC/kDAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAA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AgAAxwIAAMgCAABOU3QzX18yMTBtb25leXB1bmN0SXdMYjFFRUUApJUAACiMAAAAAAAAAgAAAIR/AAACAAAA4IoAAAIAAAAAAAAA6IwAABACAADJAgAA7gEAAMoCAADLAgAATlN0M19fMjltb25leV9nZXRJY05TXzE5aXN0cmVhbWJ1Zl9pdGVyYXRvckljTlNfMTFjaGFyX3RyYWl0c0ljRUVFRUVFAE5TdDNfXzIxMV9fbW9uZXlfZ2V0SWNFRQAAIJUAAMaMAACklQAAgIwAAAAAAAACAAAAhH8AAAIAAADgjABBjJoCC5oBjI0AABACAADMAgAA7gEAAM0CAADOAgAATlN0M19fMjltb25leV9nZXRJd05TXzE5aXN0cmVhbWJ1Zl9pdGVyYXRvckl3TlNfMTFjaGFyX3RyYWl0c0l3RUVFRUVFAE5TdDNfXzIxMV9fbW9uZXlfZ2V0SXdFRQAAIJUAAGqNAACklQAAJI0AAAAAAAACAAAAhH8AAAIAAACEjQBBsJsCC5oBMI4AABACAADPAgAA7gEAANACAADRAgAATlN0M19fMjltb25leV9wdXRJY05TXzE5b3N0cmVhbWJ1Zl9pdGVyYXRvckljTlNfMTFjaGFyX3RyYWl0c0ljRUVFRUVFAE5TdDNfXzIxMV9fbW9uZXlfcHV0SWNFRQAAIJUAAA6OAACklQAAyI0AAAAAAAACAAAAhH8AAAIAAAAojgBB1JwCC5oB1I4AABACAADSAgAA7gEAANMCAADUAgAATlN0M19fMjltb25leV9wdXRJd05TXzE5b3N0cmVhbWJ1Zl9pdGVyYXRvckl3TlNfMTFjaGFyX3RyYWl0c0l3RUVFRUVFAE5TdDNfXzIxMV9fbW9uZXlfcHV0SXdFRQAAIJUAALKOAACklQAAbI4AAAAAAAACAAAAhH8AAAIAAADMjgBB+J0CC7kITI8AABACAADVAgAA7gEAANYCAADXAgAA2AIAAE5TdDNfXzI4bWVzc2FnZXNJY0VFAE5TdDNfXzIxM21lc3NhZ2VzX2Jhc2VFAAAAACCVAAApjwAApJUAABSPAAAAAAAAAgAAAIR/AAACAAAARI8AAAIAAAAAAAAApI8AABACAADZAgAA7gEAANoCAADbAgAA3AIAAE5TdDNfXzI4bWVzc2FnZXNJd0VFAAAAAKSVAACM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")||(xQ=SQ,SQ=iQ.locateFile?iQ.locateFile(xQ,cQ):cQ+xQ);var vQ,pQ=DQ=>{for(;DQ.length>0;)DQ.shift()(iQ)},yQ=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,mQ=(DQ,MQ)=>DQ?((KQ,JQ,ZQ)=>{for(var XQ=JQ+ZQ,WQ=JQ;KQ[WQ]&&!(WQ>=XQ);)++WQ;if(WQ-JQ>16&&KQ.buffer&&yQ)return yQ.decode(KQ.subarray(JQ,WQ));for(var zQ="";JQ<WQ;){var t0=KQ[JQ++];if(128&t0){var d0=63&KQ[JQ++];if((224&t0)!=192){var Q0=63&KQ[JQ++];if((t0=(240&t0)==224?(15&t0)<<12|d0<<6|Q0:(7&t0)<<18|d0<<12|Q0<<6|63&KQ[JQ++])<65536)zQ+=String.fromCharCode(t0);else{var y0=t0-65536;zQ+=String.fromCharCode(55296|y0>>10,56320|1023&y0)}}else zQ+=String.fromCharCode((31&t0)<<6|d0)}else zQ+=String.fromCharCode(t0)}return zQ})(dQ,DQ,MQ):"",LQ=DQ=>{var MQ=(DQ-IQ.buffer.byteLength+65535)/65536;try{return IQ.grow(MQ),wQ(),1}catch{}},HQ={},$Q=()=>{if(!$Q.strings){var DQ={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:rQ||"./this.program"};for(var MQ in HQ)HQ[MQ]===void 0?delete DQ[MQ]:DQ[MQ]=HQ[MQ];var KQ=[];for(var MQ in DQ)KQ.push("".concat(MQ,"=").concat(DQ[MQ]));$Q.strings=KQ}return $Q.strings},A0=DQ=>DQ%4==0&&(DQ%100!=0||DQ%400==0),n0=[31,29,31,30,31,30,31,31,30,31,30,31],qQ=[31,28,31,30,31,30,31,31,30,31,30,31],I0=DQ=>{for(var MQ=0,KQ=0;KQ<DQ.length;++KQ){var JQ=DQ.charCodeAt(KQ);JQ<=127?MQ++:JQ<=2047?MQ+=2:JQ>=55296&&JQ<=57343?(MQ+=4,++KQ):MQ+=3}return MQ},c0=(DQ,MQ,KQ,JQ)=>{if(!(JQ>0))return 0;for(var ZQ=KQ,XQ=KQ+JQ-1,WQ=0;WQ<DQ.length;++WQ){var zQ=DQ.charCodeAt(WQ);if(zQ>=55296&&zQ<=57343&&(zQ=65536+((1023&zQ)<<10)|1023&DQ.charCodeAt(++WQ)),zQ<=127){if(KQ>=XQ)break;MQ[KQ++]=zQ}else if(zQ<=2047){if(KQ+1>=XQ)break;MQ[KQ++]=192|zQ>>6,MQ[KQ++]=128|63&zQ}else if(zQ<=65535){if(KQ+2>=XQ)break;MQ[KQ++]=224|zQ>>12,MQ[KQ++]=128|zQ>>6&63,MQ[KQ++]=128|63&zQ}else{if(KQ+3>=XQ)break;MQ[KQ++]=240|zQ>>18,MQ[KQ++]=128|zQ>>12&63,MQ[KQ++]=128|zQ>>6&63,MQ[KQ++]=128|63&zQ}}return MQ[KQ]=0,KQ-ZQ},g0=(DQ,MQ,KQ,JQ)=>{var ZQ=hQ[JQ+40>>2],XQ={tm_sec:uQ[JQ>>2],tm_min:uQ[JQ+4>>2],tm_hour:uQ[JQ+8>>2],tm_mday:uQ[JQ+12>>2],tm_mon:uQ[JQ+16>>2],tm_year:uQ[JQ+20>>2],tm_wday:uQ[JQ+24>>2],tm_yday:uQ[JQ+28>>2],tm_isdst:uQ[JQ+32>>2],tm_gmtoff:uQ[JQ+36>>2],tm_zone:ZQ?mQ(ZQ):""},WQ=mQ(KQ),zQ={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var t0 in zQ)WQ=WQ.replace(new RegExp(t0,"g"),zQ[t0]);var d0=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Q0=["January","February","March","April","May","June","July","August","September","October","November","December"];function y0(jQ,e0,u0){for(var l0=typeof jQ=="number"?jQ.toString():jQ||"";l0.length<e0;)l0=u0[0]+l0;return l0}function B0(jQ,e0){return y0(jQ,e0,"0")}function D0(jQ,e0){function u0(_0){return _0<0?-1:_0>0?1:0}var l0;return(l0=u0(jQ.getFullYear()-e0.getFullYear()))===0&&(l0=u0(jQ.getMonth()-e0.getMonth()))===0&&(l0=u0(jQ.getDate()-e0.getDate())),l0}function w0(jQ){switch(jQ.getDay()){case 0:return new Date(jQ.getFullYear()-1,11,29);case 1:return jQ;case 2:return new Date(jQ.getFullYear(),0,3);case 3:return new Date(jQ.getFullYear(),0,2);case 4:return new Date(jQ.getFullYear(),0,1);case 5:return new Date(jQ.getFullYear()-1,11,31);case 6:return new Date(jQ.getFullYear()-1,11,30)}}function b0(jQ){var e0=((Y0,v0)=>{for(var p0=new Date(Y0.getTime());v0>0;){var J0=A0(p0.getFullYear()),M0=p0.getMonth(),G0=(J0?n0:qQ)[M0];if(!(v0>G0-p0.getDate()))return p0.setDate(p0.getDate()+v0),p0;v0-=G0-p0.getDate()+1,p0.setDate(1),M0<11?p0.setMonth(M0+1):(p0.setMonth(0),p0.setFullYear(p0.getFullYear()+1))}return p0})(new Date(jQ.tm_year+1900,0,1),jQ.tm_yday),u0=new Date(e0.getFullYear(),0,4),l0=new Date(e0.getFullYear()+1,0,4),_0=w0(u0),x0=w0(l0);return D0(_0,e0)<=0?D0(x0,e0)<=0?e0.getFullYear()+1:e0.getFullYear():e0.getFullYear()-1}var O0={"%a":jQ=>d0[jQ.tm_wday].substring(0,3),"%A":jQ=>d0[jQ.tm_wday],"%b":jQ=>Q0[jQ.tm_mon].substring(0,3),"%B":jQ=>Q0[jQ.tm_mon],"%C":jQ=>B0((jQ.tm_year+1900)/100|0,2),"%d":jQ=>B0(jQ.tm_mday,2),"%e":jQ=>y0(jQ.tm_mday,2," "),"%g":jQ=>b0(jQ).toString().substring(2),"%G":jQ=>b0(jQ),"%H":jQ=>B0(jQ.tm_hour,2),"%I":jQ=>{var e0=jQ.tm_hour;return e0==0?e0=12:e0>12&&(e0-=12),B0(e0,2)},"%j":jQ=>B0(jQ.tm_mday+((e0,u0)=>{for(var l0=0,_0=0;_0<=u0;l0+=e0[_0++]);return l0})(A0(jQ.tm_year+1900)?n0:qQ,jQ.tm_mon-1),3),"%m":jQ=>B0(jQ.tm_mon+1,2),"%M":jQ=>B0(jQ.tm_min,2),"%n":()=>`
`,"%p":jQ=>jQ.tm_hour>=0&&jQ.tm_hour<12?"AM":"PM","%S":jQ=>B0(jQ.tm_sec,2),"%t":()=>"	","%u":jQ=>jQ.tm_wday||7,"%U":jQ=>{var e0=jQ.tm_yday+7-jQ.tm_wday;return B0(Math.floor(e0/7),2)},"%V":jQ=>{var e0=Math.floor((jQ.tm_yday+7-(jQ.tm_wday+6)%7)/7);if((jQ.tm_wday+371-jQ.tm_yday-2)%7<=2&&e0++,e0){if(e0==53){var u0=(jQ.tm_wday+371-jQ.tm_yday)%7;u0==4||u0==3&&A0(jQ.tm_year)||(e0=1)}}else{e0=52;var l0=(jQ.tm_wday+7-jQ.tm_yday-1)%7;(l0==4||l0==5&&A0(jQ.tm_year%400-1))&&e0++}return B0(e0,2)},"%w":jQ=>jQ.tm_wday,"%W":jQ=>{var e0=jQ.tm_yday+7-(jQ.tm_wday+6)%7;return B0(Math.floor(e0/7),2)},"%y":jQ=>(jQ.tm_year+1900).toString().substring(2),"%Y":jQ=>jQ.tm_year+1900,"%z":jQ=>{var e0=jQ.tm_gmtoff,u0=e0>=0;return e0=(e0=Math.abs(e0)/60)/60*100+e0%60,(u0?"+":"-")+String("0000"+e0).slice(-4)},"%Z":jQ=>jQ.tm_zone,"%%":()=>"%"};for(var t0 in WQ=WQ.replace(/%%/g,"\0\0"),O0)WQ.includes(t0)&&(WQ=WQ.replace(new RegExp(t0,"g"),O0[t0](XQ)));WQ=WQ.replace(/\0\0/g,"%");var k0,L0,N0,U0,P0,T0=(L0=I0(k0=WQ)+1,N0=new Array(L0),c0(k0,N0,0,N0.length),N0);return T0.length>MQ?0:(U0=T0,P0=DQ,CQ.set(U0,P0),T0.length-1)},a0=(DQ,MQ)=>{DQ<128?MQ.push(DQ):MQ.push(DQ%128|128,DQ>>7)},f0=(DQ,MQ)=>{if(typeof WebAssembly.Function=="function")return new WebAssembly.Function((XQ=>{for(var WQ={i:"i32",j:"i64",f:"f32",d:"f64",p:"i32"},zQ={parameters:[],results:XQ[0]=="v"?[]:[WQ[XQ[0]]]},t0=1;t0<XQ.length;++t0)zQ.parameters.push(WQ[XQ[t0]]);return zQ})(MQ),DQ);var KQ=[1];((XQ,WQ)=>{var zQ=XQ.slice(0,1),t0=XQ.slice(1),d0={i:127,p:127,j:126,f:125,d:124};WQ.push(96),a0(t0.length,WQ);for(var Q0=0;Q0<t0.length;++Q0)WQ.push(d0[t0[Q0]]);zQ=="v"?WQ.push(0):WQ.push(1,d0[zQ])})(MQ,KQ);var JQ=[0,97,115,109,1,0,0,0,1];a0(KQ.length,JQ),JQ.push.apply(JQ,KQ),JQ.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var ZQ=new WebAssembly.Module(new Uint8Array(JQ));return new WebAssembly.Instance(ZQ,{e:{f:DQ}}).exports.f},r0=DQ=>_Q.get(DQ),o0=void 0,i0=DQ=>(o0||(o0=new WeakMap,((MQ,KQ)=>{if(o0)for(var JQ=MQ;JQ<MQ+KQ;JQ++){var ZQ=r0(JQ);ZQ&&o0.set(ZQ,JQ)}})(0,_Q.length)),o0.get(DQ)||0),E0=[],h0=(DQ,MQ)=>_Q.set(DQ,MQ),s0={a:(DQ,MQ,KQ,JQ)=>{YQ("Assertion failed: ".concat(mQ(DQ),", at: ")+[MQ?mQ(MQ):"unknown filename",KQ,JQ?mQ(JQ):"unknown function"])},f:()=>!0,b:()=>{YQ("")},g:()=>Date.now(),i:()=>performance.now(),h:DQ=>{var MQ=dQ.length,KQ=2147483648;if((DQ>>>=0)>KQ)return!1;for(var JQ,ZQ,XQ=1;XQ<=4;XQ*=2){var WQ=MQ*(1+.2/XQ);WQ=Math.min(WQ,DQ+100663296);var zQ=Math.min(KQ,(JQ=Math.max(DQ,WQ))+((ZQ=65536)-JQ%ZQ)%ZQ);if(LQ(zQ))return!0}return!1},d:(DQ,MQ)=>{var KQ=0;return $Q().forEach((JQ,ZQ)=>{var XQ=MQ+KQ;hQ[DQ+4*ZQ>>2]=XQ,((WQ,zQ)=>{for(var t0=0;t0<WQ.length;++t0)CQ[0|zQ++]=WQ.charCodeAt(t0);CQ[0|zQ]=0})(JQ,XQ),KQ+=JQ.length+1}),0},e:(DQ,MQ)=>{var KQ=$Q();hQ[DQ>>2]=KQ.length;var JQ=0;return KQ.forEach(ZQ=>JQ+=ZQ.length+1),hQ[MQ>>2]=JQ,0},j:function(DQ,MQ){iQ.rtejsLog(DQ,mQ(MQ))},c:(DQ,MQ,KQ,JQ,ZQ)=>g0(DQ,MQ,KQ,JQ)},FQ=function(){var DQ,MQ,KQ,JQ={a:s0};function ZQ(XQ,WQ){var zQ,t0=XQ.exports;return IQ=(FQ=t0).k,wQ(),_Q=FQ.m,zQ=FQ.l,NQ.unshift(zQ),function(){if(PQ--,iQ.monitorRunDependencies&&iQ.monitorRunDependencies(PQ),PQ==0&&OQ){var d0=OQ;OQ=null,d0()}}(),t0}if(PQ++,iQ.monitorRunDependencies&&iQ.monitorRunDependencies(PQ),iQ.instantiateWasm)try{return iQ.instantiateWasm(JQ,ZQ)}catch(XQ){EQ("Module.instantiateWasm callback failed with error: ".concat(XQ)),AQ(XQ)}return(DQ=SQ,MQ=JQ,KQ=function(XQ){ZQ(XQ.instance)},GQ(DQ,MQ,KQ)).catch(AQ),{}}();function C0(){function DQ(){vQ||(vQ=!0,iQ.calledRun=!0,RQ||(pQ(NQ),eQ(iQ),iQ.onRuntimeInitialized&&iQ.onRuntimeInitialized(),function(){if(iQ.postRun)for(typeof iQ.postRun=="function"&&(iQ.postRun=[iQ.postRun]);iQ.postRun.length;)MQ=iQ.postRun.shift(),UQ.unshift(MQ);var MQ;pQ(UQ)}()))}PQ>0||(function(){if(iQ.preRun)for(typeof iQ.preRun=="function"&&(iQ.preRun=[iQ.preRun]);iQ.preRun.length;)MQ=iQ.preRun.shift(),bQ.unshift(MQ);var MQ;pQ(bQ)}(),PQ>0||(iQ.setStatus?(iQ.setStatus("Running..."),setTimeout(function(){setTimeout(function(){iQ.setStatus("")},1),DQ()},1)):DQ()))}if(iQ._free=DQ=>(iQ._free=FQ.n)(DQ),iQ._malloc=DQ=>(iQ._malloc=FQ.o)(DQ),iQ._rte_crdt_value_create=()=>(iQ._rte_crdt_value_create=FQ.p)(),iQ._rte_crdt_value_clone=DQ=>(iQ._rte_crdt_value_clone=FQ.q)(DQ),iQ._rte_crdt_value_destroy=DQ=>(iQ._rte_crdt_value_destroy=FQ.r)(DQ),iQ._rte_crdt_value_is_scalar=DQ=>(iQ._rte_crdt_value_is_scalar=FQ.s)(DQ),iQ._rte_crdt_value_is_map=DQ=>(iQ._rte_crdt_value_is_map=FQ.t)(DQ),iQ._rte_crdt_value_is_list=DQ=>(iQ._rte_crdt_value_is_list=FQ.u)(DQ),iQ._rte_crdt_value_get_scalar=DQ=>(iQ._rte_crdt_value_get_scalar=FQ.v)(DQ),iQ._rte_crdt_value_set_scalar=DQ=>(iQ._rte_crdt_value_set_scalar=FQ.w)(DQ),iQ._rte_crdt_value_set_map=DQ=>(iQ._rte_crdt_value_set_map=FQ.x)(DQ),iQ._rte_crdt_value_set_list=DQ=>(iQ._rte_crdt_value_set_list=FQ.y)(DQ),iQ._rte_crdt_scalar_value_set_i64=(DQ,MQ)=>(iQ._rte_crdt_scalar_value_set_i64=FQ.z)(DQ,MQ),iQ._rte_crdt_scalar_value_set_u64=(DQ,MQ)=>(iQ._rte_crdt_scalar_value_set_u64=FQ.A)(DQ,MQ),iQ._rte_crdt_scalar_value_set_double=(DQ,MQ)=>(iQ._rte_crdt_scalar_value_set_double=FQ.B)(DQ,MQ),iQ._rte_crdt_scalar_value_set_bool=(DQ,MQ)=>(iQ._rte_crdt_scalar_value_set_bool=FQ.C)(DQ,MQ),iQ._rte_crdt_scalar_value_set_bytes=(DQ,MQ,KQ)=>(iQ._rte_crdt_scalar_value_set_bytes=FQ.D)(DQ,MQ,KQ),iQ._rte_crdt_scalar_value_set_null=DQ=>(iQ._rte_crdt_scalar_value_set_null=FQ.E)(DQ),iQ._rte_crdt_scalar_value_set_counter=(DQ,MQ)=>(iQ._rte_crdt_scalar_value_set_counter=FQ.F)(DQ,MQ),iQ._rte_crdt_scalar_value_is_i64=DQ=>(iQ._rte_crdt_scalar_value_is_i64=FQ.G)(DQ),iQ._rte_crdt_scalar_value_is_u64=DQ=>(iQ._rte_crdt_scalar_value_is_u64=FQ.H)(DQ),iQ._rte_crdt_scalar_value_is_double=DQ=>(iQ._rte_crdt_scalar_value_is_double=FQ.I)(DQ),iQ._rte_crdt_scalar_value_is_bool=DQ=>(iQ._rte_crdt_scalar_value_is_bool=FQ.J)(DQ),iQ._rte_crdt_scalar_value_is_bytes=DQ=>(iQ._rte_crdt_scalar_value_is_bytes=FQ.K)(DQ),iQ._rte_crdt_scalar_value_is_null=DQ=>(iQ._rte_crdt_scalar_value_is_null=FQ.L)(DQ),iQ._rte_crdt_scalar_value_is_counter=DQ=>(iQ._rte_crdt_scalar_value_is_counter=FQ.M)(DQ),iQ._rte_crdt_scalar_value_get_i64=(DQ,MQ)=>(iQ._rte_crdt_scalar_value_get_i64=FQ.N)(DQ,MQ),iQ._rte_crdt_scalar_value_get_u64=(DQ,MQ)=>(iQ._rte_crdt_scalar_value_get_u64=FQ.O)(DQ,MQ),iQ._rte_crdt_scalar_value_get_double=(DQ,MQ)=>(iQ._rte_crdt_scalar_value_get_double=FQ.P)(DQ,MQ),iQ._rte_crdt_scalar_value_get_bool=(DQ,MQ)=>(iQ._rte_crdt_scalar_value_get_bool=FQ.Q)(DQ,MQ),iQ._rte_crdt_scalar_value_get_bytes=(DQ,MQ,KQ)=>(iQ._rte_crdt_scalar_value_get_bytes=FQ.R)(DQ,MQ,KQ),iQ._rte_crdt_scalar_value_get_counter=(DQ,MQ)=>(iQ._rte_crdt_scalar_value_get_counter=FQ.S)(DQ,MQ),iQ._rte_crdt_nested_value_create=()=>(iQ._rte_crdt_nested_value_create=FQ.T)(),iQ._rte_crdt_nested_value_destroy=DQ=>(iQ._rte_crdt_nested_value_destroy=FQ.U)(DQ),iQ._rte_crdt_nested_value_print=DQ=>(iQ._rte_crdt_nested_value_print=FQ.V)(DQ),iQ._rte_crdt_nested_value_is_scalar=DQ=>(iQ._rte_crdt_nested_value_is_scalar=FQ.W)(DQ),iQ._rte_crdt_nested_value_is_map=DQ=>(iQ._rte_crdt_nested_value_is_map=FQ.X)(DQ),iQ._rte_crdt_nested_value_is_list=DQ=>(iQ._rte_crdt_nested_value_is_list=FQ.Y)(DQ),iQ._rte_crdt_nested_value_get_scalar=DQ=>(iQ._rte_crdt_nested_value_get_scalar=FQ.Z)(DQ),iQ._rte_crdt_nested_value_iterator_create=DQ=>(iQ._rte_crdt_nested_value_iterator_create=FQ._)(DQ),iQ._rte_crdt_nested_value_iterator_destroy=DQ=>(iQ._rte_crdt_nested_value_iterator_destroy=FQ.$)(DQ),iQ._rte_crdt_nested_value_iterator_next_key_value=(DQ,MQ,KQ,JQ)=>(iQ._rte_crdt_nested_value_iterator_next_key_value=FQ.aa)(DQ,MQ,KQ,JQ),iQ._rte_crdt_nested_value_iterator_next_value=(DQ,MQ)=>(iQ._rte_crdt_nested_value_iterator_next_value=FQ.ba)(DQ,MQ),iQ._rte_crdt_path_create=()=>(iQ._rte_crdt_path_create=FQ.ca)(),iQ._rte_crdt_path_clone=DQ=>(iQ._rte_crdt_path_clone=FQ.da)(DQ),iQ._rte_crdt_path_destroy=DQ=>(iQ._rte_crdt_path_destroy=FQ.ea)(DQ),iQ._rte_crdt_path_add_property=(DQ,MQ,KQ)=>(iQ._rte_crdt_path_add_property=FQ.fa)(DQ,MQ,KQ),iQ._rte_crdt_path_add_index=(DQ,MQ)=>(iQ._rte_crdt_path_add_index=FQ.ga)(DQ,MQ),iQ._rte_crdt_path_iterator_create=DQ=>(iQ._rte_crdt_path_iterator_create=FQ.ha)(DQ),iQ._rte_crdt_path_iterator_destroy=DQ=>(iQ._rte_crdt_path_iterator_destroy=FQ.ia)(DQ),iQ._rte_crdt_path_iterator_next=(DQ,MQ,KQ,JQ)=>(iQ._rte_crdt_path_iterator_next=FQ.ja)(DQ,MQ,KQ,JQ),iQ._rte_crdt_document_destroy=DQ=>(iQ._rte_crdt_document_destroy=FQ.ka)(DQ),iQ._rte_crdt_document_get=(DQ,MQ,KQ,JQ)=>(iQ._rte_crdt_document_get=FQ.la)(DQ,MQ,KQ,JQ),iQ._rte_crdt_document_batch_write_begin=DQ=>(iQ._rte_crdt_document_batch_write_begin=FQ.ma)(DQ),iQ._rte_crdt_document_batch_write_end=DQ=>(iQ._rte_crdt_document_batch_write_end=FQ.na)(DQ),iQ._rte_crdt_document_put=(DQ,MQ,KQ,JQ)=>(iQ._rte_crdt_document_put=FQ.oa)(DQ,MQ,KQ,JQ),iQ._rte_crdt_document_insert=(DQ,MQ,KQ,JQ)=>(iQ._rte_crdt_document_insert=FQ.pa)(DQ,MQ,KQ,JQ),iQ._rte_crdt_document_delete=(DQ,MQ,KQ)=>(iQ._rte_crdt_document_delete=FQ.qa)(DQ,MQ,KQ),iQ._rte_crdt_document_increment=(DQ,MQ,KQ,JQ)=>(iQ._rte_crdt_document_increment=FQ.ra)(DQ,MQ,KQ,JQ),iQ._rte_crdt_collection_put_doc=(DQ,MQ,KQ)=>(iQ._rte_crdt_collection_put_doc=FQ.sa)(DQ,MQ,KQ),iQ._rte_crdt_collection_delete_doc=(DQ,MQ,KQ)=>(iQ._rte_crdt_collection_delete_doc=FQ.ta)(DQ,MQ,KQ),iQ._rte_crdt_collection_ref_doc=(DQ,MQ,KQ)=>(iQ._rte_crdt_collection_ref_doc=FQ.ua)(DQ,MQ,KQ),iQ._rte_crdt_collection_iterator_create=(DQ,MQ,KQ)=>(iQ._rte_crdt_collection_iterator_create=FQ.va)(DQ,MQ,KQ),iQ._rte_crdt_collection_iterator_destroy=DQ=>(iQ._rte_crdt_collection_iterator_destroy=FQ.wa)(DQ),iQ._rte_crdt_collection_iterator_next=(DQ,MQ,KQ)=>(iQ._rte_crdt_collection_iterator_next=FQ.xa)(DQ,MQ,KQ),iQ._rte_crdt_collection_init=(DQ,MQ,KQ)=>(iQ._rte_crdt_collection_init=FQ.ya)(DQ,MQ,KQ),iQ._rte_crdt_collection_subscribe=(DQ,MQ,KQ)=>(iQ._rte_crdt_collection_subscribe=FQ.za)(DQ,MQ,KQ),iQ._sync_client_create=(DQ,MQ,KQ)=>(iQ._sync_client_create=FQ.Aa)(DQ,MQ,KQ),iQ._sync_client_destroy=DQ=>(iQ._sync_client_destroy=FQ.Ba)(DQ),iQ._sync_client_set_shakehand_interval=(DQ,MQ)=>(iQ._sync_client_set_shakehand_interval=FQ.Ca)(DQ,MQ),iQ._sync_client_set_connection_timeout=(DQ,MQ)=>(iQ._sync_client_set_connection_timeout=FQ.Da)(DQ,MQ),iQ._sync_client_set_request_timeout=(DQ,MQ)=>(iQ._sync_client_set_request_timeout=FQ.Ea)(DQ,MQ),iQ._sync_client_set_doc_ttl=(DQ,MQ,KQ,JQ,ZQ)=>(iQ._sync_client_set_doc_ttl=FQ.Fa)(DQ,MQ,KQ,JQ,ZQ),iQ._sync_client_init=(DQ,MQ,KQ)=>(iQ._sync_client_init=FQ.Ga)(DQ,MQ,KQ),iQ._sync_buffer_create=()=>(iQ._sync_buffer_create=FQ.Ha)(),iQ._sync_buffer_destroy=DQ=>(iQ._sync_buffer_destroy=FQ.Ia)(DQ),iQ._sync_buffer_data=DQ=>(iQ._sync_buffer_data=FQ.Ja)(DQ),iQ._sync_buffer_length=DQ=>(iQ._sync_buffer_length=FQ.Ka)(DQ),iQ._sync_client_tick=(DQ,MQ)=>(iQ._sync_client_tick=FQ.La)(DQ,MQ),iQ._sync_client_shakehand=(DQ,MQ)=>(iQ._sync_client_shakehand=FQ.Ma)(DQ,MQ),iQ._sync_client_on_recv=(DQ,MQ,KQ,JQ)=>(iQ._sync_client_on_recv=FQ.Na)(DQ,MQ,KQ,JQ),iQ._sync_client_reset_connection=DQ=>(iQ._sync_client_reset_connection=FQ.Oa)(DQ),iQ._sync_client_compact=DQ=>(iQ._sync_client_compact=FQ.Pa)(DQ),iQ._sync_client_create_coll=(DQ,MQ,KQ,JQ,ZQ,XQ,WQ,zQ,t0)=>(iQ._sync_client_create_coll=FQ.Qa)(DQ,MQ,KQ,JQ,ZQ,XQ,WQ,zQ,t0),iQ._sync_client_subscribe=(DQ,MQ,KQ,JQ,ZQ)=>(iQ._sync_client_subscribe=FQ.Ra)(DQ,MQ,KQ,JQ,ZQ),iQ._sync_client_get_coll=(DQ,MQ,KQ)=>(iQ._sync_client_get_coll=FQ.Sa)(DQ,MQ,KQ),iQ._sync_client_delete_coll=(DQ,MQ,KQ)=>(iQ._sync_client_delete_coll=FQ.Ta)(DQ,MQ,KQ),iQ._sync_collection_iterator_create=(DQ,MQ)=>(iQ._sync_collection_iterator_create=FQ.Ua)(DQ,MQ),iQ._sync_collection_iterator_next=(DQ,MQ)=>(iQ._sync_collection_iterator_next=FQ.Va)(DQ,MQ),iQ._sync_client_enable_js_logging=()=>(iQ._sync_client_enable_js_logging=FQ.Wa)(),iQ._sync_client_set_log_level=DQ=>(iQ._sync_client_set_log_level=FQ.Xa)(DQ),iQ._sync_client_set_exception_callback=(DQ,MQ,KQ)=>(iQ._sync_client_set_exception_callback=FQ.Ya)(DQ,MQ,KQ),iQ._sync_client_renew_tickets=(DQ,MQ,KQ)=>(iQ._sync_client_renew_tickets=FQ.Za)(DQ,MQ,KQ),iQ._sync_client_keepalive=(DQ,MQ,KQ,JQ,ZQ)=>(iQ._sync_client_keepalive=FQ._a)(DQ,MQ,KQ,JQ,ZQ),iQ._sync_client_connect_database=(DQ,MQ,KQ,JQ,ZQ,XQ)=>(iQ._sync_client_connect_database=FQ.$a)(DQ,MQ,KQ,JQ,ZQ,XQ),iQ._sync_client_disconnect_database=(DQ,MQ,KQ,JQ)=>(iQ._sync_client_disconnect_database=FQ.ab)(DQ,MQ,KQ,JQ),iQ._sync_client_query_doc=(DQ,MQ,KQ,JQ,ZQ,XQ,WQ,zQ,t0,d0)=>(iQ._sync_client_query_doc=FQ.bb)(DQ,MQ,KQ,JQ,ZQ,XQ,WQ,zQ,t0,d0),iQ._sync_client_put_doc=(DQ,MQ,KQ,JQ,ZQ,XQ,WQ,zQ,t0)=>(iQ._sync_client_put_doc=FQ.cb)(DQ,MQ,KQ,JQ,ZQ,XQ,WQ,zQ,t0),iQ._sync_client_delete_doc=(DQ,MQ,KQ,JQ,ZQ,XQ)=>(iQ._sync_client_delete_doc=FQ.db)(DQ,MQ,KQ,JQ,ZQ,XQ),iQ._sync_client_update_doc=(DQ,MQ,KQ,JQ,ZQ,XQ,WQ,zQ,t0,d0,Q0,y0,B0,D0,w0,b0)=>(iQ._sync_client_update_doc=FQ.eb)(DQ,MQ,KQ,JQ,ZQ,XQ,WQ,zQ,t0,d0,Q0,y0,B0,D0,w0,b0),iQ._sync_client_range_docs=(DQ,MQ,KQ,JQ,ZQ,XQ,WQ,zQ)=>(iQ._sync_client_range_docs=FQ.fb)(DQ,MQ,KQ,JQ,ZQ,XQ,WQ,zQ),iQ._sync_client_get_doc=(DQ,MQ,KQ,JQ,ZQ,XQ,WQ)=>(iQ._sync_client_get_doc=FQ.gb)(DQ,MQ,KQ,JQ,ZQ,XQ,WQ),iQ._sync_client_set_permission_callback=(DQ,MQ,KQ)=>(iQ._sync_client_set_permission_callback=FQ.hb)(DQ,MQ,KQ),iQ.___start_em_js=38440,iQ.___stop_em_js=38534,iQ.addFunction=(DQ,MQ)=>{var KQ=i0(DQ);if(KQ)return KQ;var JQ=(()=>{if(E0.length)return E0.pop();try{_Q.grow(1)}catch(XQ){throw XQ instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":XQ}return _Q.length-1})();try{h0(JQ,DQ)}catch(XQ){if(!(XQ instanceof TypeError))throw XQ;var ZQ=f0(DQ,MQ);h0(JQ,ZQ)}return o0.set(DQ,JQ),JQ},iQ.removeFunction=DQ=>{o0.delete(r0(DQ)),E0.push(DQ)},iQ.setValue=function(DQ,MQ){let KQ=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"i8";switch(KQ.endsWith("*")&&(KQ="*"),KQ){case"i1":case"i8":CQ[0|DQ]=MQ;break;case"i16":lQ[DQ>>1]=MQ;break;case"i32":uQ[DQ>>2]=MQ;break;case"i64":QQ[DQ>>3]=BigInt(MQ);break;case"float":BQ[DQ>>2]=MQ;break;case"double":fQ[DQ>>3]=MQ;break;case"*":hQ[DQ>>2]=MQ;break;default:YQ("invalid type for setValue: ".concat(KQ))}},iQ.getValue=function(DQ){let MQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"i8";switch(MQ.endsWith("*")&&(MQ="*"),MQ){case"i1":case"i8":return CQ[0|DQ];case"i16":return lQ[DQ>>1];case"i32":return uQ[DQ>>2];case"i64":return QQ[DQ>>3];case"float":return BQ[DQ>>2];case"double":return fQ[DQ>>3];case"*":return hQ[DQ>>2];default:YQ("invalid type for getValue: ".concat(MQ))}},iQ.UTF8ToString=mQ,iQ.stringToUTF8=(DQ,MQ,KQ)=>c0(DQ,dQ,MQ,KQ),iQ.lengthBytesUTF8=I0,OQ=function DQ(){vQ||C0(),vQ||(OQ=DQ)},iQ.preInit)for(typeof iQ.preInit=="function"&&(iQ.preInit=[iQ.preInit]);iQ.preInit.length>0;)iQ.preInit.pop()();return C0(),tQ.ready};const getUTCTimestamp=()=>{const tQ=new Date;return"".concat(tQ.toISOString().split("T")[1].replace(/\..+/,""),".").concat(tQ.getMilliseconds())};let wasmReject,wasmResolve;const wasmPromise=new Promise((tQ,eQ)=>{wasmReject=eQ,wasmResolve=tQ});let Module,isBrowser;async function initWasm(tQ){Module=await wasmPromise,initFunc(tQ)}function setBrowser(tQ){isBrowser=tQ}createModule({rtejsLog:(tQ,eQ)=>{switch(tQ){case 0:console.debug(eQ," ----------rtejslog");break;case 1:console.info(eQ," ----------rtejslog");break;case 2:console.warn(eQ," ----------rtejslog");break;case 3:console.error(eQ," ----------rtejslog")}}}).then(tQ=>{wasmResolve(tQ),console.log(getUTCTimestamp(),"wasm-module initialized")}).catch(tQ=>{wasmReject(tQ)});class QueryDocBuffer{constructor(){this.docs=new Map,this.count=-1,this.more=!1}SetDocs(eQ,AQ){this.docs.set(eQ,AQ)}SetCount(eQ){if(!isInteger(eQ))throw new TypeError("The num is expected to be an integer, but a double was got.");this.count=eQ}SetMore(eQ){this.more=eQ}}class SyncClient{constructor(eQ){this.appId=eQ.appId,this.logLevel=eQ.logLevel,this.shakehandInterval=eQ.shakehandInterval,this.manualShakehand=eQ.manualShakehand,this.manualTick=eQ.manualTick,this.uuidPrefix=eQ.uuidPrefix,this.getLogger=eQ.getLogger,this.reuseConn=eQ.reuseConn,this.tickets=new Map,this.exceptionCb=null,this.exceptionChan=new eventsExports.EventEmitter;const AQ=getPtrWithStr(this.uuidPrefix+"_"+uuid_1.v4()),[iQ,oQ]=getPtrStringList(Array.from(this.tickets.values()));this.clientPtr=Module._sync_client_create(AQ,iQ,this.tickets.size);for(let rQ=0;rQ<oQ.length;rQ++)releasePtr(oQ[rQ]);releasePtr(AQ),this.timer=null,this.databaseConnected=new Map,this.tickBufferPtr=0,this.connected=!1,Module._sync_client_enable_js_logging(),Module._sync_client_set_log_level(this.logLevel),this.manualShakehand?(Module._sync_client_set_shakehand_interval(this.clientPtr,0),this.shakehandBufferPtr=Module._sync_buffer_create()):(Module._sync_client_set_shakehand_interval(this.clientPtr,this.shakehandInterval),this.shakehandBufferPtr=0),this.reuseConn!==null&&(this.tickBufferPtr=Module._sync_buffer_create(),this.reuseConn().internalEmitter.on("connected",()=>{this.connected=!0,this.manualTick||(tickLoop(this),this.timer=setInterval(()=>{tickLoop(this)},2e3))}),this.reuseConn().internalEmitter.on("disconnected",()=>{this.connected=!1,this.manualTick||clearInterval(this.timer),Module._sync_client_reset_connection(this.clientPtr)}),this.reuseConn().internalEmitter.on("received-packet",rQ=>{try{const nQ=rQ.length*rQ.BYTES_PER_ELEMENT,sQ=Module._malloc(nQ);Module.HEAPU8.set(rQ,sQ);const aQ=Module._sync_client_on_recv(this.clientPtr,sQ,BigInt(nQ),this.tickBufferPtr);if(Module._free(sQ),aQ===101)Module._sync_client_reset_connection(this.clientPtr);else{const cQ=new Uint8Array(Module.HEAPU8.buffer,Module._sync_buffer_data(this.tickBufferPtr),Number(Module._sync_buffer_length(this.tickBufferPtr))).slice();cQ.length!=0&&(this.reuseConn().sendPacket(cQ),logger(new Date().toString()+" : recv and send packet",this.getLogger,"info"))}}catch(nQ){let sQ=nQ;console.log(sQ),logger("recvError : ".concat(sQ),this.getLogger,"error")}}))}async Login(){if(this.reuseConn===null){if(!(this.tickets.size>0))throw new Error("Tickets should be set before logging in.");await fetchHelper(this,isBrowser),logger("Open the WebSocket successfully",this.getLogger,"info")}}Logout(){Module._sync_buffer_destroy(this.tickBufferPtr),this.reuseConn===null&&clearInterval(this.timer),this.manualShakehand&&Module._sync_buffer_destroy(this.shakehandBufferPtr),this.exceptionCb!=null&&Module.removeFunction(this.exceptionCb),this.connected=!1,logger("Logout successfully",this.getLogger,"info")}async ConnectDatabase(eQ){try{if(await promisify(connectDatabase)({client:this,databaseName:eQ}),!this.databaseConnected.has(eQ)){const AQ=new SyncDatabase(eQ,this);this.databaseConnected.set(eQ,AQ)}}catch(AQ){logger("Database connection failed by the error : ".concat(AQ),this.getLogger,"error")}}async DisConnectDatabase(eQ){if(this.databaseConnected.has(eQ))try{await promisify(disconnectDatabase)({client:this,databaseName:eQ}),this.databaseConnected.delete(eQ)}catch(AQ){logger("Database disconnection failed by the error : ".concat(AQ),this.getLogger,"error")}}Database(eQ){return this.databaseConnected.has(eQ)?this.databaseConnected.get(eQ):null}SetTicket(eQ,AQ){this.tickets.set(eQ,AQ);const[iQ,oQ]=getPtrStringList(Array.from(this.tickets.values()));Module._sync_client_renew_tickets(this.clientPtr,iQ,this.tickets.size),this.connected&&tickLoop(this),releasePtr(iQ);for(let rQ=0;rQ<oQ.length;rQ++)releasePtr(oQ[rQ])}RemoveTicket(eQ){if(this.tickets.has(eQ)){this.tickets.delete(eQ);const[AQ,iQ]=getPtrStringList(Array.from(this.tickets.values()));Module._sync_client_renew_tickets(this.clientPtr,AQ,this.tickets.size),this.connected&&tickLoop(this),releasePtr(AQ);for(let oQ=0;oQ<iQ.length;oQ++)releasePtr(iQ[oQ])}}async QueryDoc(eQ,AQ,iQ){const oQ=new QueryDocBuffer;try{await promisify(queryDoc)({client:this,database:eQ,coll:AQ,option:iQ,buffer:oQ})}catch(rQ){logger("Query Doc is failed by the error : ".concat(rQ),this.getLogger,"error")}if(oQ.count>=0)return iQ.countOnly?[null,oQ.count,oQ.more]:iQ.keysOnly?[Array.from(oQ.docs.keys()).sort(),oQ.count,oQ.more]:[new Map([...oQ.docs].sort()),oQ.count,oQ.more];throw new Error("The query doc operation is failed")}Shakehand(){if(!this.manualShakehand)throw new Error("The manualShakehand is set to false for this client.");shakehandOnce(this)}Tick(){if(!this.manualTick)throw new Error("The manualTick is set to false for this client.");tickLoop(this)}SetConnectionTimeout(eQ){if(!isInteger(eQ)||eQ<=0)throw new TypeError("The seconds is expected to be a positive integer.");Module._sync_client_set_connection_timeout(this.clientPtr,eQ)}GetConnectionState(){return this.connected}ExceptionCallback(){return this.exceptionCb!=null&&Module.removeFunction(this.exceptionCb),exceptionCallback(this),this.exceptionChan}}class SyncConfig{constructor(eQ,AQ,iQ,oQ,rQ,nQ){let sQ=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,aQ=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null;if(!isInteger(AQ))throw new TypeError("The logLevel is expected to be an int, but a double was got.");if(!isInteger(iQ))throw new TypeError("The shakehandInterval is expected to be an integer, but a double was got.");this.appId=eQ,this.logLevel=AQ,this.shakehandInterval=iQ,this.manualShakehand=oQ,this.manualTick=rQ,this.uuidPrefix=nQ,this.getLogger=sQ,this.reuseConn=aQ}}class QueryOption{constructor(eQ,AQ,iQ,oQ,rQ){let nQ=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5],sQ=arguments.length>6&&arguments[6]!==void 0&&arguments[6];if(!isInteger(rQ)||rQ<0)throw new TypeError("The limit is expected to be an int greater than or equal to zero, but a double or a negative int was got.");this.start=eQ,this.end=AQ,this.keysOnly=iQ,this.countOnly=oQ,this.limit=rQ,this.startIncluded=nQ,this.endIncluded=sQ}}async function CreateClient(tQ){return await initWasm(tQ.getLogger),typeof process=="object"?setBrowser(!1):typeof window=="object"&&setBrowser(!0),new SyncClient(tQ)}class VirtualSyncSocket{constructor(eQ){_defineProperty$1(this,"getSockets",void 0),_defineProperty$1(this,"internalEmitter",new eventsExports.EventEmitter),this.getSockets=eQ,this.internalEmitter.setMaxListeners(512)}sendPacket(eQ){var AQ,iQ;(AQ=this.getSockets()[0])===null||AQ===void 0||(iQ=AQ.sendSyncPacket)===null||iQ===void 0||iQ.call(AQ,eQ)}}const resetIntervalInfo=()=>({joined:new Set,left:new Set,timeout:new Set,stateChanged:new Set});class PresenceSession extends EventBase{constructor(eQ,AQ,iQ,oQ,rQ,nQ,sQ,aQ,cQ){super(iQ,"SessionSync"),_defineProperty$1(this,"syncClient",void 0),_defineProperty$1(this,"virtualSocket",void 0),_defineProperty$1(this,"ticket",void 0),_defineProperty$1(this,"operation",OperationName.login),_defineProperty$1(this,"startTime",Date.now()),_defineProperty$1(this,"seq",Long$2.fromNumber(1,!0)),_defineProperty$1(this,"seqSentStatuses",[!1]),_defineProperty$1(this,"context",void 0),_defineProperty$1(this,"vid",void 0),_defineProperty$1(this,"instanceId",void 0),_defineProperty$1(this,"clientPtr",0),_defineProperty$1(this,"channelsUsersStates",new Map),_defineProperty$1(this,"getConsoleConfig",void 0),_defineProperty$1(this,"getLocalStateCache",void 0),_defineProperty$1(this,"timeoutInSnapshot",new Map),_defineProperty$1(this,"timeoutUsersWithoutInterval",new Map),_defineProperty$1(this,"intervalMode",new Map),_defineProperty$1(this,"intervalTimerId",new Map),_defineProperty$1(this,"intervalSnapshot",new Map),_defineProperty$1(this,"intervalInfos",new Map),_defineProperty$1(this,"presenceTimeout",0),_defineProperty$1(this,"dbObj",void 0),_defineProperty$1(this,"getVirtualSyncSocket",void 0),_defineProperty$1(this,"updateLastSubOrJoinOptionsCache",void 0),_defineProperty$1(this,"getLastSubscribeOrJoinOptions",void 0),_defineProperty$1(this,"expiredPresenceEvent",new Map),_defineProperty$1(this,"_decoupleChannels",new Map),_defineProperty$1(this,"_decoupleChannelPromises",new Map),_defineProperty$1(this,"_intervals4CreateColl",[...CREATE_COLL_INTERVALS]),_defineProperty$1(this,"cacheCrdtState",void 0),_defineProperty$1(this,"controlInterval",(gQ,IQ)=>{var EQ,CQ,dQ;const lQ=(EQ=(CQ=this.channelsUsersStates.get(gQ))===null||CQ===void 0?void 0:CQ.size)!==null&&EQ!==void 0?EQ:0,uQ=Number(getParameter("PRESENCE_THRESHOLD")||((dQ=this.getConsoleConfig())===null||dQ===void 0?void 0:dQ["presence.occupancy"]))||0;switch(this.log("occupancy: %d, channelOccupancy: %d",uQ,lQ),this.log(this.intervalMode.get(gQ),gQ,"intervalMode"),IQ){case"open":var hQ,BQ;lQ>=uQ&&!this.intervalMode.get(gQ)&&(this.log("open interval mode in channel: ".concat(replaceRangeWithAsterisk(gQ))),this.intervalMode.set(gQ,!0),this.intervalSnapshot.set(gQ,this.getIntervalSnapshot(gQ)),this.intervalTimerId.set(gQ,setInterval(()=>{this.emit("presence-interval",gQ)},1e3*((hQ=getParameter("PRESENCE_INTERVAL"))!==null&&hQ!==void 0?hQ:Number((BQ=this.getConsoleConfig())===null||BQ===void 0?void 0:BQ["presence.interval"])))),this.intervalInfos.set(gQ,resetIntervalInfo()));break;case"close":lQ<uQ&&this.intervalMode.get(gQ)&&(this.log("close interval mode in channel: ".concat(replaceRangeWithAsterisk(gQ))),this.intervalMode.delete(gQ),this.emit("presence-interval",gQ,!0),this.clearIntervalById(this.intervalTimerId.get(gQ)),this.intervalTimerId.delete(gQ))}}),_defineProperty$1(this,"handlePresenceEvent",gQ=>IQ=>{console.log("events",IQ);const{channelName:EQ,channelType:CQ}=getChannelDetailByName(gQ),dQ={eventType:"SNAPSHOT",channelType:CQ,channelName:EQ,publisher:"",stateChanged:{},interval:null,snapshot:[],timestamp:getUTCTimeBaseREG(this.context.offsetTime)},lQ=IQ.length;try{for(let n0=0;n0<lQ;n0++){const{document:qQ,type:I0,path:c0,value:g0}=IQ[n0];if(dQ.publisher=qQ,I0==="DocSyncEnd"){if(qQ===this.context.uid){const a0=this.expiredPresenceEvent.get(gQ);a0&&(this.emit(a0,gQ),this.expiredPresenceEvent.delete(gQ))}return}if(I0==="Put"&&!c0&&!g0){var uQ;dQ.eventType="REMOTE_JOIN";const a0=this.requestGetState(gQ,qQ,!0);if((uQ=this.channelsUsersStates.get(gQ))===null||uQ===void 0||uQ.set(qQ,a0),qQ===this.context.uid)this.log('"'.concat(replaceRangeWithAsterisk(qQ),'" receive self presence event in channel("').concat(CQ,'"-"').concat(replaceRangeWithAsterisk(EQ),'"), type is JOIN.'));else{var hQ,BQ,QQ,fQ;this.log("remote user(".concat(replaceRangeWithAsterisk(qQ),') join channel("').concat(CQ,'"-"').concat(replaceRangeWithAsterisk(EQ),'") in presence subscribe callback')),this.intervalMode.get(gQ)?(this.log("interval mode"),(BQ=this.intervalInfos.get(gQ))!==null&&BQ!==void 0&&BQ.timeout.has(qQ)?(QQ=this.intervalInfos.get(gQ))===null||QQ===void 0||QQ.timeout.delete(qQ):(fQ=this.intervalInfos.get(gQ))===null||fQ===void 0||fQ.joined.add(qQ)):(this.log("emit presence,controlInterval open"),this.emit("presence",dQ),this.controlInterval(gQ,"open")),(hQ=this.timeoutUsersWithoutInterval.get(gQ))===null||hQ===void 0||hQ.delete(qQ)}return}if(I0==="Delete"&&!c0&&!g0){var _Q;if((_Q=this.channelsUsersStates.get(gQ))===null||_Q===void 0||_Q.delete(qQ),dQ.eventType="REMOTE_LEAVE",qQ===this.context.uid)this.log('"'.concat(replaceRangeWithAsterisk(qQ),'" receive self presence event in channel("').concat(CQ,'"-"').concat(replaceRangeWithAsterisk(EQ),'"), type is ').concat(dQ.eventType,". will need execute logout.")),this.emit("doc-timeout",gQ);else{var RQ,wQ;if((RQ=this.timeoutUsersWithoutInterval.get(gQ))!==null&&RQ!==void 0&&RQ.has(qQ))return(wQ=this.timeoutUsersWithoutInterval.get(gQ))===null||wQ===void 0||wQ.delete(qQ),void this.log("timeout user(".concat(replaceRangeWithAsterisk(qQ),") left, ignore"));if(this.intervalMode.get(gQ)){var bQ,NQ,UQ;(bQ=this.intervalInfos.get(gQ))!==null&&bQ!==void 0&&bQ.joined.has(qQ)?(NQ=this.intervalInfos.get(gQ))===null||NQ===void 0||NQ.joined.delete(qQ):(UQ=this.intervalInfos.get(gQ))===null||UQ===void 0||UQ.left.add(qQ),this.controlInterval(gQ,"close")}else this.emit("presence",dQ)}return}if(I0==="Delete"&&c0===K_PRESENCE_EXPIRED){var PQ;dQ.eventType="REMOTE_JOIN";const a0=this.requestGetState(gQ,qQ,!0);if((PQ=this.channelsUsersStates.get(gQ))===null||PQ===void 0||PQ.set(qQ,a0),qQ===this.context.uid)this.log('"'.concat(replaceRangeWithAsterisk(qQ),'" receive self presence event in channel("').concat(CQ,'"-"').concat(replaceRangeWithAsterisk(EQ),'"), type is REJOIN.'));else{var OQ,YQ,SQ,xQ;this.log("remote user(".concat(replaceRangeWithAsterisk(qQ),') rejoin channel("').concat(CQ,'"-"').concat(replaceRangeWithAsterisk(EQ),'") in presence subscribe callback')),this.intervalMode.get(gQ)?(YQ=this.intervalInfos.get(gQ))!==null&&YQ!==void 0&&YQ.timeout.has(qQ)?(SQ=this.intervalInfos.get(gQ))===null||SQ===void 0||SQ.timeout.delete(qQ):(xQ=this.intervalInfos.get(gQ))===null||xQ===void 0||xQ.joined.add(qQ):(this.emit("presence",dQ),this.controlInterval(gQ,"open")),(OQ=this.timeoutUsersWithoutInterval.get(gQ))===null||OQ===void 0||OQ.delete(qQ)}return}if(I0==="Put"&&c0===K_PRESENCE_EXPIRED){var VQ,TQ;if((VQ=this.channelsUsersStates.get(gQ))===null||VQ===void 0||VQ.delete(qQ),dQ.eventType="REMOTE_TIMEOUT",qQ===this.context.uid)this.log('"'.concat(replaceRangeWithAsterisk(qQ),'" receive self presence event in channel("').concat(CQ,'"-"').concat(replaceRangeWithAsterisk(EQ),'"), type is TIMEOUT.')),this.expiredPresenceEvent.set(gQ,"doc-timeout");else if(this.log("remote user(".concat(replaceRangeWithAsterisk(qQ),') timeout at channel("').concat(CQ,'"-"').concat(replaceRangeWithAsterisk(EQ),'") in presence subscribe callback')),this.intervalMode.get(gQ)){var kQ,GQ,vQ;(kQ=this.intervalInfos.get(gQ))!==null&&kQ!==void 0&&kQ.joined.has(qQ)?(GQ=this.intervalInfos.get(gQ))===null||GQ===void 0||GQ.joined.delete(qQ):(vQ=this.intervalInfos.get(gQ))===null||vQ===void 0||vQ.timeout.add(qQ),this.controlInterval(gQ,"close")}else if((TQ=this.timeoutUsersWithoutInterval.get(gQ))===null||TQ===void 0||!TQ.has(qQ)){var pQ;(pQ=this.timeoutUsersWithoutInterval.get(gQ))===null||pQ===void 0||pQ.add(qQ),this.emit("presence",dQ)}return}if(!checkKeyValidity(c0[0]))return void this.log("key is invalid in presence subscribe callback, key(".concat(c0,")"));if(I0==="Delete"&&c0&&!g0&&!IQ.some(a0=>a0.type==="Put"&&a0.path===K_PRESENCE_EXPIRED)){var yQ,mQ;dQ.eventType="REMOTE_STATE_CHANGED";const a0=(yQ=(mQ=this.channelsUsersStates.get(gQ))===null||mQ===void 0?void 0:mQ.get(qQ))!==null&&yQ!==void 0?yQ:{};if(delete a0[c0],dQ.stateChanged=a0,qQ===this.context.uid)this.log('"'.concat(replaceRangeWithAsterisk(qQ),'" receive self presence event in channel("').concat(CQ,'"-"').concat(replaceRangeWithAsterisk(EQ),'"), type is ').concat(dQ.eventType,", state is ").concat(dQ.stateChanged));else if(c0[0]!==K_SYNC_INTERNAL_KEY_PREFIX){var LQ;this.intervalMode.get(gQ)?(LQ=this.intervalInfos.get(gQ))===null||LQ===void 0||LQ.stateChanged.add(qQ):n0===findLastIndex$1(IQ,f0=>{let{type:r0}=f0;return r0===IQ[n0].type})&&this.emit("presence",dQ)}if(n0===lQ-1)return}if(I0==="Put"&&c0&&g0){var HQ,$Q;const a0=(HQ=($Q=this.channelsUsersStates.get(gQ))===null||$Q===void 0?void 0:$Q.get(qQ))!==null&&HQ!==void 0?HQ:{};if(dQ.eventType="REMOTE_STATE_CHANGED",a0[c0]=g0,dQ.stateChanged=a0,qQ===this.context.uid)this.log('"'.concat(replaceRangeWithAsterisk(qQ),'" receive self presence event in channel("').concat(CQ,'"-"').concat(replaceRangeWithAsterisk(EQ),'"), type is ').concat(dQ.eventType,", state is ").concat(dQ.stateChanged));else if(c0[0]!==K_SYNC_INTERNAL_KEY_PREFIX){var A0;this.intervalMode.get(gQ)?(A0=this.intervalInfos.get(gQ))===null||A0===void 0||A0.stateChanged.add(qQ):n0===lQ-1&&this.emit("presence",dQ)}if(n0===lQ-1)return}}}catch(n0){this.warn("handlePresenceEvent error: %o",n0)}}),this.context=eQ,this.context.startTime=this.startTime,this.updateLastSubOrJoinOptionsCache=oQ,this.getLastSubscribeOrJoinOptions=rQ,this.getConsoleConfig=nQ,this.getLocalStateCache=sQ,this.getVirtualSyncSocket=aQ,this.cacheCrdtState=cQ,getParameter("PRESENCE_RPC_TIMEOUT"),this.instanceId=AQ,this.setMaxListeners(512),this.log("The instanceId is %s",this.instanceId.toString()),this.on("presence-interval",(gQ,IQ)=>{var EQ,CQ,dQ,lQ,uQ,hQ,BQ,QQ;const{channelType:fQ,channelName:_Q}=getChannelDetailByName(gQ),RQ={eventType:"INTERVAL",channelType:fQ,channelName:_Q,publisher:"",stateChanged:{},interval:{join:{users:[],userCount:0},leave:{users:[],userCount:0},timeout:{users:[],userCount:0},userStateList:[]},snapshot:[],timestamp:getUTCTimeBaseREG(this.context.offsetTime)},{alreadyJoinedUsers:wQ,alreadyTimeoutUsers:bQ}=this.intervalSnapshot.get(gQ);(EQ=this.intervalInfos.get(gQ))===null||EQ===void 0||EQ.timeout.forEach(PQ=>{var OQ;wQ.includes(PQ)&&((OQ=RQ.interval)===null||OQ===void 0||OQ.timeout.users.push(PQ),RQ.interval.timeout.userCount++)}),(CQ=this.intervalInfos.get(gQ))===null||CQ===void 0||CQ.left.forEach(PQ=>{var OQ;wQ.includes(PQ)&&((OQ=RQ.interval)===null||OQ===void 0||OQ.leave.users.push(PQ),RQ.interval.leave.userCount++)}),(dQ=this.intervalInfos.get(gQ))===null||dQ===void 0||dQ.joined.forEach(PQ=>{RQ.interval.join.users.push(PQ),RQ.interval.join.userCount++});const NQ=wQ.filter(PQ=>{var OQ,YQ;return!((OQ=this.intervalInfos.get(gQ))!==null&&OQ!==void 0&&OQ.left.has(PQ)||(YQ=this.intervalInfos.get(gQ))!==null&&YQ!==void 0&&YQ.timeout.has(PQ))}).concat([...(lQ=(uQ=this.intervalInfos.get(gQ))===null||uQ===void 0?void 0:uQ.joined)!==null&&lQ!==void 0?lQ:new Set]),UQ=bQ.filter(PQ=>{var OQ,YQ;return!((OQ=this.intervalInfos.get(gQ))!==null&&OQ!==void 0&&OQ.joined.has(PQ)||(YQ=this.intervalInfos.get(gQ))!==null&&YQ!==void 0&&YQ.left.has(PQ))}).concat([...(hQ=(BQ=this.intervalInfos.get(gQ))===null||BQ===void 0?void 0:BQ.timeout)!==null&&hQ!==void 0?hQ:new Set]);if((QQ=this.intervalInfos.get(gQ))===null||QQ===void 0||QQ.stateChanged.forEach(PQ=>{if(NQ.includes(PQ)){var OQ,YQ,SQ;(OQ=this.intervalInfos.get(gQ))===null||OQ===void 0||OQ.stateChanged.delete(PQ);const xQ=(YQ=(SQ=this.channelsUsersStates.get(gQ))===null||SQ===void 0?void 0:SQ.get(PQ))!==null&&YQ!==void 0?YQ:{};RQ.interval.userStateList.push({userId:PQ,states:xQ,statesCount:Object.keys(xQ).length})}}),RQ.interval){const{join:PQ,leave:OQ,timeout:YQ,userStateList:SQ}=RQ.interval;(PQ.userCount>0||OQ.userCount>0||YQ.userCount>0||SQ.length>0)&&this.emit("presence",RQ)}this.intervalSnapshot.set(gQ,{alreadyJoinedUsers:NQ,alreadyTimeoutUsers:UQ}),this.intervalInfos.set(gQ,resetIntervalInfo()),IQ&&this.timeoutUsersWithoutInterval.set(gQ,new Set(UQ))})}updateTicket(eQ){const{ticket:AQ,vid:iQ}=eQ;this.ticket=AQ,this.vid=iQ}handlePacket(eQ){var AQ;const iQ=eQ.length,oQ=getSyncPacketUri(eQ);this.log("received packet, uri: %d, length: %d",oQ,iQ),(AQ=this.virtualSocket)===null||AQ===void 0||AQ.internalEmitter.emit("received-packet",eQ)}handleConnected(){var eQ;(eQ=this.virtualSocket)===null||eQ===void 0||eQ.internalEmitter.emit("connected")}handleDisconnected(){var eQ;(eQ=this.virtualSocket)===null||eQ===void 0||eQ.internalEmitter.emit("disconnected")}async initSync(){if(this.log("start logging sync..."),this.syncClient!==void 0)return this.log("not firstInit"),await this.connectDatabase(),this.cacheCrdtState(),this.manualShakeHand(),void this.handleConnected();let eQ=0;switch(this.context.rtmConfig.logLevel){case"debug":eQ=0;break;case"info":eQ=1;break;case"warn":eQ=2;break;default:eQ=3}const AQ=new VirtualSyncSocket(this.getVirtualSyncSocket);this.virtualSocket=AQ,AQ.internalEmitter.on("connected",()=>{this.log("virtual socket connected")}),AQ.internalEmitter.on("disconnected",()=>{this.warn("virtual socket disconnected")});const iQ=new SyncConfig(this.context.appId,eQ,3e3,!0,!0,this.context.uid,()=>({handleDebugLog:this.log,handleInfoLog:this.info,handleWarnLog:this.warn,handleErrorLog:this.logError}),()=>AQ);try{var oQ,rQ;const nQ=this.context.heartbeatInterval+((oQ=getParameter("RTM_LINK_KEEP_ALIVE_TIMEOUT"))!==null&&oQ!==void 0?oQ:CONFIGURABLE_KEY_RTM_LINK_KEEP_ALIVE_TIMEOUT),sQ=await CreateClient(iQ);this.log("create sync client success");const aQ=sQ.ExceptionCallback();aQ==null||aQ.addListener("exception",async cQ=>{var gQ;let[IQ,EQ]=cQ;if(this.logError("exception info: %o",{db:IQ,coll:EQ}),IQ!==PRESENCE_DATABASE)return;const CQ=this.getChannelNameFromCollName(EQ),{withPresence:dQ,beQuiet:lQ}=(gQ=this.getLastSubscribeOrJoinOptions().get(CQ))!==null&&gQ!==void 0?gQ:{};await Promise.all([dQ?this.unSubPresence(CQ):this.unsubScribeSelfPresence(CQ,!1),lQ?void 0:this.cacheStateAndDelDoc(CQ)]),this.leave(CQ),await this.join(CQ,dQ,!1),lQ||this.putChannelDocAndSetState(CQ),dQ&&this.subPresence(CQ)}),sQ.SetConnectionTimeout(nQ/1e3),this.handleConnected(),this.syncClient=sQ,sQ.SetTicket("rtm",(rQ=this.ticket)!==null&&rQ!==void 0?rQ:this.context.appId),this.sendTick(),this.log("send tick success, will connect database"),await this.connectDatabase()}catch(nQ){this.logError("init sync error: ".concat(nQ));const{code:sQ,reason:aQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOGIN_REJECTED);throw new RtmUnavailableError(this.operation,[aQ+"init sync error"],sQ)}}cacheStateAndDelDoc(eQ){this.getStateAndSetByLocal(eQ),this.delChannelDoc(eQ)}async connectDatabase(){var eQ,AQ;this.log("".concat(syncRpcStart,": syncClient connectDatabase")),await timeoutPromise(this==null||(eQ=this.syncClient)===null||eQ===void 0?void 0:eQ.ConnectDatabase(PRESENCE_DATABASE),DEFAULT_RPC_TIMEOUT_TIME,this.operation,RTMErrorCode.RTM_ERROR_LOGIN_TIMEOUT),this.sendTick(),this.log("".concat(syncRpcEnd,": syncClient connectDatabase"));const iQ=this==null||(AQ=this.syncClient)===null||AQ===void 0?void 0:AQ.Database(PRESENCE_DATABASE);this.dbObj=iQ}async renewKey(eQ){const AQ=OperationName.renewToken;try{var iQ;this.log("".concat(syncRpcStart,": ").concat(AQ)),(iQ=this.syncClient)===null||iQ===void 0||iQ.SetTicket("rtm",eQ),this.getSyncConnected()&&this.sendTick(),this.log("".concat(syncRpcEnd,": ").concat(AQ))}catch(oQ){this.logError("".concat(syncRpcEnd,": ").concat(AQ," by rpc failure. error is ").concat(oQ))}return!0}leave(eQ){var AQ;const iQ=this.getChannelCollName(eQ);(AQ=this.dbObj)===null||AQ===void 0||AQ.DestroyCollection(iQ),this.getSyncConnected()&&this.sendTick()}delChannelDoc(eQ){var AQ;if(this._decoupleChannels.has(eQ)&&getParameter("DECOUPLE_SYNC"))return;const iQ=this.getChannelCollName(eQ),oQ=this.getColl(iQ,!0,"delChannelDoc");(AQ=this.dbObj)===null||AQ===void 0||AQ.CancelAutoKeepalive(iQ,this.context.uid),oQ==null||oQ.DelDoc(this.context.uid),this.getSyncConnected()&&this.sendTick(),this.log("Delete channel(".concat(replaceRangeWithAsterisk(eQ),") document succeed.")),this.updateLastSubOrJoinOptionsCache(eQ,"beQuiet",!0)}async logoutHandler(){var eQ;this.log("".concat(syncRpcStart,": disconnectDatabase"));try{var AQ;await timeoutPromise((AQ=this.syncClient)===null||AQ===void 0?void 0:AQ.DisConnectDatabase(PRESENCE_DATABASE),DEFAULT_RPC_TIMEOUT_TIME,OperationName.logout,0)}catch{this.warn("disconnectDatabase timeout")}this.log("".concat(syncRpcEnd,": disconnectDatabase")),(eQ=this.syncClient)===null||eQ===void 0||eQ.Logout(),this.getSyncConnected()&&this.sendTick()}clearIntervalById(eQ){clearInterval(eQ)}getIntervalSnapshot(eQ){var AQ,iQ;const oQ=[...(AQ=this.timeoutUsersWithoutInterval.get(eQ))!==null&&AQ!==void 0?AQ:new Set],rQ=[];return(iQ=this.channelsUsersStates.get(eQ))===null||iQ===void 0||iQ.forEach((nQ,sQ)=>{oQ.includes(sQ)||rQ.push(sQ)}),{alreadyJoinedUsers:rQ,alreadyTimeoutUsers:oQ}}clearIntervalCacheOfChannel(eQ){this.timeoutInSnapshot.delete(eQ),this.intervalMode.delete(eQ),this.intervalTimerId.delete(eQ),this.intervalInfos.delete(eQ),this.timeoutUsersWithoutInterval.delete(eQ),this.intervalSnapshot.delete(eQ)}emitPresenceSnapshot(eQ){const AQ=this.getCollUsers(eQ,!0,{querySnapshot:!0}),iQ=new Map;this.timeoutInSnapshot.set(eQ,new Set),this.log("presence snapshot: %o",AQ);const oQ=AQ.filter(aQ=>{var cQ;let{userId:gQ,states:IQ}=aQ;return((cQ=this.timeoutInSnapshot.get(eQ))===null||cQ===void 0||!cQ.has(gQ))&&(iQ.set(gQ,IQ),!0)});this.channelsUsersStates.set(eQ,iQ);const{channelName:rQ,channelType:nQ}=getChannelDetailByName(eQ),sQ={eventType:"SNAPSHOT",channelType:nQ,channelName:rQ,publisher:"",stateChanged:{},interval:null,snapshot:oQ,timestamp:getUTCTimeBaseREG(this.context.offsetTime)};this.emit("presence",sQ)}async join(eQ,AQ){let iQ=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const oQ=!iQ,rQ=Date.now();try{var nQ;const sQ=iQ?"re-":"",aQ=eQ.includes(streamChannel_prefix),cQ=aQ?OperationName.join:OperationName.subscribe;this.validateSyncConnected(cQ);const gQ=this.getChannelCollName(eQ);if(this.getColl(gQ)!==null)return void this.log("".concat(sQ).concat(cQ," channel(").concat(replaceRangeWithAsterisk(eQ),") already."));this.log("".concat(syncRpcStart,": ").concat(sQ).concat(cQ," channel(").concat(replaceRangeWithAsterisk(eQ),")"));const IQ=Date.now();await timeoutPromise((nQ=this.dbObj)===null||nQ===void 0?void 0:nQ.CreateCollection(gQ,AQ?["*"]:[this.context.uid],AQ?["*"]:[this.context.uid]),COMMON_REQUEST_TIMEOUT,cQ,aQ?RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_FAILED:RTMErrorCode.RTM_ERROR_CHANNEL_SUBSCRIBE_TIMEOUT);const EQ=Date.now();this.log("".concat(syncRpcEnd,": ").concat(sQ).concat(cQ," channel(").concat(replaceRangeWithAsterisk(eQ),") succeed. cost: ").concat(EQ-IQ,"ms.")),AQ||this.withoutPresenceSubSelf(eQ)}catch(sQ){throw sQ}finally{if(oQ){const{channelName:sQ,channelType:aQ}=getChannelDetailByName(eQ),cQ=this.incGetSeq();this.context.addReportEvents("ChannelPresenceSnapshotEvent",{channelName:sQ,channelType:ChannelTypeEnum[aQ],userId:this.context.uid,sid:this.context.sid,lts:Long$2.fromNumber(Date.now()),elapse:Long$2.fromNumber(Date.now()-rQ),vid:Long$2.fromString(getParameter("VID").get(this.context.appId)||"0"),reqId:cQ})}}}async joinPresenceColl(eQ,AQ){var iQ,oQ,rQ;let nQ=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(this.info("joinPresenceColl: %s, customOperation: %s, withPresence: %s",eQ,nQ,AQ.withPresence),(iQ=this._decoupleChannels.get(eQ))!==null&&iQ!==void 0&&iQ.creating&&this.leave(eQ),this._decoupleChannels.has(eQ)||this._decoupleChannels.set(eQ,_objectSpread2(_objectSpread2({},AQ),{},{creating:!0})),this._decoupleChannels.has(eQ)&&nQ){const EQ=this._decoupleChannels.get(eQ);this._decoupleChannels.set(eQ,_objectSpread2(_objectSpread2(_objectSpread2({},EQ),AQ),{},{creating:!0}))}nQ||this._decoupleChannels.set(eQ,_objectSpread2(_objectSpread2({},AQ),{},{creating:!0}));const sQ=(oQ=(rQ=this._decoupleChannels.get(eQ))===null||rQ===void 0?void 0:rQ.createTs)!==null&&oQ!==void 0?oQ:Date.now();try{const{withPresence:EQ,reJoinCauseReconnect:CQ=!1}=AQ,dQ=this.join(eQ,EQ,CQ);this._decoupleChannelPromises.set(eQ,dQ),await dQ,this.info("onCreateCollection: %s",eQ),this.onCreateCollection(eQ,AQ),this._decoupleChannels.delete(eQ)}catch(EQ){var aQ,cQ;const CQ=(aQ=(cQ=this._decoupleChannels.get(eQ))===null||cQ===void 0?void 0:cQ.retryCnt)!==null&&aQ!==void 0?aQ:0;if(!getParameter("DECOUPLE_SYNC"))throw this._decoupleChannels.delete(eQ),EQ;var gQ;if(this.warn("joinPresenceColl error: %s, retryCnt: %d, withPresence: %s, error: %o",eQ,CQ,AQ.withPresence,EQ),this._decoupleChannels.has(eQ)&&(gQ=this._decoupleChannels.get(eQ))!==null&&gQ!==void 0&&gQ.creating){var IQ;const dQ=(IQ=this._decoupleChannels.get(eQ))!==null&&IQ!==void 0?IQ:AQ;this._decoupleChannels.set(eQ,_objectSpread2(_objectSpread2({},dQ),{},{createTs:sQ,creating:!1,retryCnt:CQ+1}))}}finally{this._decoupleChannelPromises.delete(eQ)}}onCreateCollection(eQ,AQ){const{needDelDoc:iQ,needPutDoc:oQ=!1,needSub:rQ=!1,reJoinCauseReconnect:nQ=!1}=AQ;iQ&&this.cacheStateAndDelDoc(eQ),oQ&&this.putChannelDocAndSetState(eQ,nQ),rQ&&this.subPresence(eQ)}intervalCreateColl(){this._decoupleChannels.forEach((eQ,AQ)=>{const iQ=Date.now(),{createTs:oQ=iQ,retryCnt:rQ=0}=eQ;iQ-oQ>=this._getExpectedRetryTs(rQ)&&!eQ.creating&&(this.info("intervalCreateColl, channel: %s, diff: %d, retryCnt: %d",AQ,iQ-oQ,rQ),this.joinPresenceColl(AQ,eQ,!1))})}withoutPresenceSubSelf(eQ){const AQ=this.getChannelCollName(eQ),iQ=this.getColl(AQ,!0,"withoutPresenceSubSelf"),oQ=iQ==null?void 0:iQ.Subscribe();oQ==null||oQ.addListener("document-events",rQ=>{const nQ=rQ.length;for(let sQ=0;sQ<nQ;sQ++){const{document:aQ,type:cQ,path:gQ,value:IQ}=rQ[sQ];if(aQ===this.context.uid){if(cQ==="DocSyncEnd"){const EQ=this.expiredPresenceEvent.get(eQ);return void(EQ&&(this.emit(EQ,eQ),this.expiredPresenceEvent.delete(eQ)))}cQ==="Put"&&gQ===K_PRESENCE_EXPIRED&&this.expiredPresenceEvent.set(eQ,"doc-timeout"),cQ!=="Delete"||gQ||IQ||this.emit("doc-deleted",eQ)}}})}unsubScribeSelfPresence(eQ){let AQ=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];const iQ=this._decoupleChannels.has(eQ);if(!getParameter("DECOUPLE_SYNC")||!iQ){const oQ=this.getChannelCollName(eQ),rQ=this.getColl(oQ,!0,"unSubPresence");rQ==null||rQ.UnSubscribe(),this.getSyncConnected()&&this.sendTick()}AQ&&this.getLocalStateCache().delete(eQ)}subPresence(eQ){var AQ;this.subAndAddPresenceEventListener(eQ),this.emitPresenceSnapshot(eQ),this.timeoutUsersWithoutInterval.set(eQ,(AQ=this.timeoutInSnapshot.get(eQ))!==null&&AQ!==void 0?AQ:new Set),this.controlInterval(eQ,"open"),this.updateLastSubOrJoinOptionsCache(eQ,"withPresence",!0)}unSubPresence(eQ){let AQ=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const iQ=this._decoupleChannels.has(eQ);if(!getParameter("DECOUPLE_SYNC")||!iQ){const oQ=this.getChannelCollName(eQ),rQ=this.getColl(oQ,!0,"unSubPresence");rQ==null||rQ.UnSubscribe(),this.getSyncConnected()&&this.sendTick()}this.clearIntervalById(this.intervalTimerId.get(eQ)),this.clearIntervalCacheOfChannel(eQ),AQ&&this.getLocalStateCache().delete(eQ),this.updateLastSubOrJoinOptionsCache(eQ,"withPresence",!1)}leaveRetryChannels(eQ){this.info("leaveRetryChannels: %o",eQ),eQ.forEach(AQ=>{this._decoupleChannels.delete(AQ),this._decoupleChannelPromises.delete(AQ)})}putChannelDocAndSetState(eQ){var AQ,iQ,oQ;let rQ=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];const nQ=this.getChannelCollName(eQ),sQ=this.getColl(nQ,!0,"putChannelDocAndSetState"),aQ={};((AQ=this.getLocalStateCache().get(eQ))!==null&&AQ!==void 0?AQ:new Map).forEach((CQ,dQ)=>{aQ[dQ]=CQ}),this.log("local states: %o, reJoinCauseReconnect: %s",aQ,rQ);const cQ=sQ==null?void 0:sQ.Doc(this.context.uid),gQ=!!cQ,IQ=(iQ=cQ==null?void 0:cQ.Get())!==null&&iQ!==void 0?iQ:{};this.log("remote doc exist: ".concat(gQ,", remote state: %o"),IQ),gQ&&IQ[K_PRESENCE_EXPIRED]&&(sQ==null||sQ.DelDoc(this.context.uid)),gQ&&!IQ[K_PRESENCE_EXPIRED]||(sQ==null||sQ.PutDoc(this.context.uid),this.log("Put channel(".concat(replaceRangeWithAsterisk(eQ),") document succeed.")));const EQ=sQ==null?void 0:sQ.Doc(this.context.uid);if((oQ=this.dbObj)===null||oQ===void 0||oQ.SetAutoKeepalive(nQ,this.context.uid,this.context.rtmConfig.presenceTimeout),this.getSyncConnected()&&this.sendTick(),rQ||this.getLocalStateCache().has(eQ)){if(this.log("update user state in channel(".concat(replaceRangeWithAsterisk(eQ),") local cache.")),!gQ||IQ[K_PRESENCE_EXPIRED])this.log("remote doc not exist or expired, directly set"),EQ==null||EQ.Set(aQ);else{const CQ=Object.keys(IQ).filter(lQ=>!aQ.hasOwnProperty(lQ)&&lQ!==K_PRESENCE_EXPIRED);CQ.length>0&&(EQ==null||EQ.Del(CQ));const dQ=Object.keys(aQ).filter(lQ=>!IQ.hasOwnProperty(lQ)||IQ[lQ]!==aQ[lQ]);dQ.length>0&&(EQ==null||EQ.Set(aQ)),this.log("diff state: %o",{addOrChangedKeys:dQ,needDelKeys:CQ})}this.getSyncConnected()&&this.sendTick()}else this.log("first join presence and without local state");this.updateLastSubOrJoinOptionsCache(eQ,"beQuiet",!1),this.getLocalStateCache().delete(eQ)}subAndAddPresenceEventListener(eQ){const AQ=this.getChannelCollName(eQ),iQ=this.getColl(AQ,!0,"subAndAddPresenceEventListener"),oQ=iQ==null?void 0:iQ.Subscribe();oQ==null||oQ.addListener("document-events",this.handlePresenceEvent(eQ))}requestSetState(eQ,AQ){const iQ=this.getChannelCollName(eQ),oQ=this.getColl(iQ,!0,"requestSetState"),rQ=oQ==null?void 0:oQ.Doc(this.context.uid);rQ==null||rQ.Set(AQ),this.getSyncConnected()&&this.sendTick()}requestRemoveState(eQ,AQ){var iQ;let oQ=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const rQ=this.getChannelCollName(eQ),nQ=this.getColl(rQ,!0,"requestRemoveState"),sQ=nQ==null?void 0:nQ.Doc(this.context.uid),aQ=(iQ=sQ==null?void 0:sQ.Get())!==null&&iQ!==void 0?iQ:{};sQ==null||sQ.Del(Object.keys(oQ?aQ:AQ)),this.getSyncConnected()&&this.sendTick()}requestGetState(eQ,AQ){var iQ;arguments.length>2&&arguments[2]!==void 0&&arguments[2]||AQ===this.context.uid||this.validateSyncConnected(OperationName.presenceGetState);const oQ=OperationName.presenceGetState,rQ=this.getChannelCollName(eQ),nQ=this.getColl(rQ,!0,"requestGetState"),sQ=nQ==null?void 0:nQ.Doc(AQ);if(isNil$1(sQ)){const{code:cQ,reason:gQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_PRESENCE_USER_NOT_EXIST);throw new RtmUnavailableError(oQ,[gQ],cQ)}const aQ=(iQ=sQ==null?void 0:sQ.Get())!==null&&iQ!==void 0?iQ:{};return this.delKeyExpired(aQ),aQ}getStateAndSetByLocal(eQ){const AQ=this==null?void 0:this.requestGetState(eQ,this.context.uid,!0),iQ=new Map;AQ&&Object.keys(AQ).forEach(oQ=>{iQ.set(oQ,AQ[oQ])}),this==null||this.getLocalStateCache().set(eQ,iQ)}async requestRpcGetState(eQ,AQ){const iQ=Date.now(),oQ=this.incGetSeq();let rQ=0;try{var nQ;const sQ=new QueryOption(AQ,"",!1,!1,1),[aQ]=await timeoutPromise((nQ=this.syncClient)===null||nQ===void 0?void 0:nQ.QueryDoc(PRESENCE_DATABASE,this.getChannelCollName(eQ),sQ),COMMON_REQUEST_TIMEOUT,OperationName.presenceGetState,RTMErrorCode.RTM_ERROR_PRESENCE_OPERATION_TIMEOUT);let cQ={};return aQ.forEach((gQ,IQ)=>{if(IQ===AQ){try{cQ=JSON.parse(gQ)}catch(EQ){this.warn("parse doc error: ".concat(EQ))}this.delKeyExpired(cQ)}}),cQ}catch(sQ){const{serverCode:aQ,errorCode:cQ}=sQ;throw rQ=aQ??rQ,sQ}finally{this.reportRpcEvent("getState",{requestts:iQ,reqSeq:oQ,errCode:rQ})}}async requestRpcWhereNow(eQ){const AQ=Date.now(),iQ=this.incGetSeq();let oQ=0;try{var rQ;this.validateSyncConnected(OperationName.whereNow);const nQ=!1,sQ=!1,aQ=GlobalPresenceString(this.vid)+"/"+eQ,cQ=new QueryOption(aQ,"",nQ,sQ,1);this.log("whereNow query options: %o",{start:aQ,end:"",keysOnly:nQ,countOnly:sQ,limit:1});const[gQ]=await timeoutPromise((rQ=this.syncClient)===null||rQ===void 0?void 0:rQ.QueryDoc(PRESENCE_DATABASE,K_GLOBAL_PRESENCE_COLLECTION,cQ),COMMON_REQUEST_TIMEOUT,OperationName.whereNow,RTMErrorCode.RTM_ERROR_PRESENCE_OPERATION_TIMEOUT),IQ={channels:[],totalChannel:0,timestamp:0};return gQ.forEach((EQ,CQ)=>{if(CQ===aQ){let dQ=null;try{dQ=JSON.parse(EQ),this.log("whereNow doc: %o",dQ)}catch(uQ){dQ={},this.warn("parse doc error: ".concat(uQ))}const lQ=Object.keys(dQ).filter(uQ=>uQ[0]!==K_SYNC_INTERNAL_KEY_PREFIX);this.log("whereNow channels: %o",lQ),lQ.forEach(uQ=>{const{channelName:hQ,channelType:BQ}=getChannelDetailByName(uQ);IQ.channels.push({channelName:hQ,channelType:BQ})}),IQ.totalChannel=lQ.length}}),IQ}catch(nQ){const{serverCode:sQ,errorCode:aQ}=nQ;throw oQ=sQ??aQ,nQ}finally{this.reportRpcEvent("whereNow",{requestts:AQ,reqSeq:iQ,errCode:oQ})}}async requestRPCWhoNow(eQ,AQ,iQ,oQ){const rQ=Date.now(),nQ=this.incGetSeq();let sQ=0;try{var aQ,cQ;const gQ=iQ&&!oQ,IQ=!iQ&&!oQ,EQ=Number(getParameter("PRESENCE_THRESHOLD")||((aQ=this.getConsoleConfig())===null||aQ===void 0?void 0:aQ["presence.occupancy"]))||0,CQ=IQ;IQ&&AQ&&this.warn("countOnly and page is not compatible. page of param will be ignored.");const dQ=new QueryOption(CQ?"":atob(AQ),"",gQ,IQ,CQ?0:EQ,!AQ,!0),lQ=this.getChannelCollName(eQ),[uQ,hQ,BQ]=await timeoutPromise((cQ=this.syncClient)===null||cQ===void 0?void 0:cQ.QueryDoc(PRESENCE_DATABASE,lQ,dQ),COMMON_REQUEST_TIMEOUT,OperationName.whoNow,RTMErrorCode.RTM_ERROR_PRESENCE_OPERATION_TIMEOUT),QQ=[],fQ={timestamp:0,occupants:QQ,nextPage:"",totalOccupancy:hQ};if(IQ)return fQ;{let _Q="";if(gQ?uQ.forEach(RQ=>{QQ.push({userId:RQ,states:{},statesCount:0}),QQ.length===uQ.length&&BQ&&(_Q=RQ)}):uQ.forEach((RQ,wQ)=>{let bQ={};try{oQ&&(bQ=JSON.parse(RQ))}catch(NQ){this.warn("parse doc error: ".concat(NQ))}this.delKeyExpired(bQ),QQ.push({userId:wQ,states:bQ,statesCount:Object.keys(bQ).length}),QQ.length===uQ.size&&BQ&&(_Q=wQ)}),BQ){const RQ=btoa(_Q);fQ.nextPage=RQ}return fQ}}catch(gQ){const{serverCode:IQ,errorCode:EQ}=gQ;throw sQ=IQ??EQ,gQ}finally{this.reportRpcEvent("whoNow",{requestts:rQ,reqSeq:nQ,errCode:sQ})}}delKeyExpired(eQ){delete eQ[K_PRESENCE_EXPIRED]}async requestWhoNow(eQ,AQ,iQ){let oQ=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"";if(this.validateSyncConnected(OperationName.whoNow),this.getColl(this.getChannelCollName(eQ))===null)return await this.requestRPCWhoNow(eQ,oQ,AQ,iQ);const rQ=this.getChannelCollName(eQ),nQ=this.getColl(rQ,!0,"requestWhoNow"),sQ=nQ?this.getCollUsers(eQ,iQ,{collObj:nQ}):[];return{occupants:AQ?sQ:[],totalOccupancy:sQ.length,nextPage:"",timestamp:0}}getCollUsers(eQ,AQ,iQ){var oQ,rQ;const nQ=this.getChannelCollName(eQ),sQ=(oQ=iQ==null?void 0:iQ.collObj)!==null&&oQ!==void 0?oQ:this.getColl(nQ,!0,"getCollUsers"),aQ=(rQ=sQ==null?void 0:sQ.Docs())!==null&&rQ!==void 0?rQ:new Map,cQ=[];return aQ.forEach((gQ,IQ)=>{const EQ=gQ.Get(),CQ=EQ[K_PRESENCE_EXPIRED];var dQ;this.delKeyExpired(EQ),CQ&&iQ!=null&&iQ.querySnapshot&&((dQ=this.timeoutInSnapshot.get(eQ))===null||dQ===void 0||dQ.add(IQ)),CQ||cQ.push({userId:IQ,states:AQ?EQ:{},statesCount:AQ?Object.keys(EQ).length:0})}),cQ}getColl(eQ){var AQ;let iQ=arguments.length>1&&arguments[1]!==void 0&&arguments[1],oQ=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";const rQ=(AQ=this.dbObj)===null||AQ===void 0?void 0:AQ.Coll(eQ);return rQ===null&&iQ&&this.warn("coll(".concat(eQ,") is null in ").concat(oQ,".")),rQ}getChannelCollName(eQ){return ChannelQueryString(this.vid,eQ)}getChannelNameFromCollName(eQ){const{prefixChannelName:AQ}=extractPrefixChannelName(eQ);return AQ??""}manualShakeHand(){var eQ;this.getSyncConnected()&&((eQ=this.syncClient)===null||eQ===void 0||eQ.Shakehand())}sendTick(){var eQ;(eQ=this.syncClient)===null||eQ===void 0||eQ.Tick()}validateSyncConnected(eQ){var AQ;if(!(!((AQ=this.syncClient)===null||AQ===void 0)&&AQ.GetConnectionState())){const{code:iQ,reason:oQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_PRESENCE_NOT_CONNECTED);throw new RtmUnavailableError(eQ,[oQ],iQ)}}getSyncConnected(){var eQ;return(eQ=this.syncClient)===null||eQ===void 0?void 0:eQ.GetConnectionState()}getSelfDoc(eQ){let AQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const iQ=this.getChannelCollName(eQ),oQ=this.getColl(iQ,!0,AQ);return oQ==null?void 0:oQ.Doc(this.context.uid)}incGetSeq(){return this.seq=this.seq.add(1),this.seq}reportRpcEvent(eQ,AQ){let{requestts:iQ,reqSeq:oQ,errCode:rQ}=AQ;this.context.addReportEvents("SyncOperateEvent",{lts:Long$2.fromNumber(Date.now()),ip:"",userid:this.context.uid,vid:Long$2.fromString(getParameter("VID").get(this.context.appId)||"0"),sid:this.context.sid,usersid:this.context.sid,requestts:Long$2.fromNumber(iQ),replyts:Long$2.fromNumber(Date.now()),target:this.context.uid,eventtype:eQ,revision:Long$2.fromNumber(0),uuid:"".concat(oQ,"_").concat(this.instanceId),sdktype:4,flags:Long$2.fromNumber(0),code:rQ,seq:oQ,index:{index1:this.context.uid,index2:this.context.appId,index3:"logUpload=".concat(this.context.config.logUpload)},lock:"",lockrev:Long$2.fromNumber(0),subtarget:this.context.uid,sdkip:""})}_getExpectedRetryTs(eQ){let AQ=0;const iQ=this._intervals4CreateColl.length;if(eQ>iQ)return 1e3*(this._intervals4CreateColl.reduce((oQ,rQ)=>oQ+rQ,0)+(eQ-iQ)*this._intervals4CreateColl[iQ-1]);for(let oQ=0;oQ<eQ;oQ++)AQ+=this._intervals4CreateColl[oQ];return 1e3*AQ}}const JOIN_LOCK_FLAG=1,JOIN_STORAGE_FLAG=2,JOIN_PRESENCE_FLAG=4,JOIN_MESSAGE_FLAG=8,JOIN_BE_QUIET_FLAG=16;class MainSession{constructor(eQ,AQ,iQ,oQ,rQ,nQ,sQ){_defineProperty$1(this,"context",void 0),_defineProperty$1(this,"registrarSession",void 0),_defineProperty$1(this,"presenceSession",void 0),_defineProperty$1(this,"lastSubscribeOrJoinOptions",new Map),this.context=eQ,this.presenceSession=new PresenceSession(eQ,iQ,AQ,()=>this.updateLastSubOrJoinOptionsCache,()=>this.lastSubscribeOrJoinOptions,oQ,rQ,this.getVirtualSyncSocket.bind(this),nQ);const aQ=new Connection(eQ,AQ,!1);this.registrarSession=new RegistrarSession(eQ,aQ,iQ,AQ,()=>this.updateLastSubOrJoinOptionsCache,()=>this.lastSubscribeOrJoinOptions,this.presenceSession.manualShakeHand.bind(this.presenceSession),this.presenceSession.sendTick.bind(this.presenceSession),this.presenceSession.initSync.bind(this.presenceSession),sQ),this.registrarSession.on("syncTicketUpdated",cQ=>{this.presenceSession.updateTicket(cQ)}),this.registrarSession.on("syncConnected",()=>{this.presenceSession.handleConnected()}),this.registrarSession.on("syncDisconnected",()=>{this.presenceSession.handleDisconnected()}),this.registrarSession.on("syncPacket",cQ=>{this.presenceSession.handlePacket(cQ)})}getRegistrarSession(){return this.registrarSession}getPresenceSession(){return this.presenceSession}updateLastSubOrJoinOptionsCache(eQ,AQ,iQ){const oQ=_objectSpread2(_objectSpread2({},this.lastSubscribeOrJoinOptions.get(eQ)),{},{[AQ]:iQ}),rQ=this.getNewJoinFlag(oQ);this.lastSubscribeOrJoinOptions.set(eQ,_objectSpread2(_objectSpread2({},oQ),{},{joinFlag:rQ}))}getVirtualSyncSocket(){return this.registrarSession.getVirtualSyncSocket()}notifyNetworkChange(eQ){this.registrarSession.notifyNetworkChange(eQ)}reportChnJoin(eQ,AQ,iQ){var oQ;const rQ=this.getNewJoinFlag(AQ),nQ=((oQ=this.lastSubscribeOrJoinOptions.get(eQ))===null||oQ===void 0?void 0:oQ.joinFlag)!==rQ;this.lastSubscribeOrJoinOptions.set(eQ,_objectSpread2(_objectSpread2({},AQ),{},{joinFlag:rQ})),eQ.startsWith(streamChannel_prefix)||nQ&&this.context.addReportEvents("ChnJoin",{cname:eQ,lts:Long$2.fromNumber(Date.now()),userId:this.context.uid,elapse:getElapse(this.getRegistrarSession().startTime),errCode:0,sid:getSid(this.getRegistrarSession().instanceId),joinFlag:new Long$2(rQ,0,!0),seq:Long$2.fromNumber(iQ)})}getNewJoinFlag(eQ){let AQ=0;return eQ!=null&&eQ.withPresence&&(AQ|=JOIN_PRESENCE_FLAG),eQ!=null&&eQ.withLock&&(AQ|=JOIN_LOCK_FLAG),eQ!=null&&eQ.withMetadata&&(AQ|=JOIN_STORAGE_FLAG),eQ!=null&&eQ.withMessage&&(AQ|=JOIN_MESSAGE_FLAG),eQ!=null&&eQ.beQuiet&&(AQ|=JOIN_BE_QUIET_FLAG),AQ}}function genGetMainSession(tQ){return()=>{const eQ=tQ();if(!eQ){const{code:AQ,reason:iQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError("Client is not logged in. Cannot do the operation",[iQ],AQ)}return eQ}}class LocalTopic extends EventBase{constructor(eQ,AQ,iQ,oQ){super(AQ,"LocalTopic"),_defineProperty$1(this,"context",void 0),_defineProperty$1(this,"topicName",void 0),_defineProperty$1(this,"localDatachannel",void 0),this.context=eQ,this.topicName=iQ,this.localDatachannel=oQ}encodeMessage(eQ,AQ,iQ,oQ,rQ){return StreamMessageProtocol.encode(_objectSpread2({messageType:oQ,payload:eQ,encrypted:iQ,payloadLength:AQ},rQ?{customType:rQ}:{})).finish()}async publishTopicMessage(eQ,AQ,iQ){const oQ=this.localDatachannel,rQ=this.topicName;if(!oQ){const{code:CQ,reason:dQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_TOPIC_NOT_JOINED);throw new RtmUnavailableError(eQ,[dQ],CQ)}if(oQ.readyState!=="open"){this.log("send topic(%s) message failed. readyState of datachannel is ".concat(oQ.readyState),rQ);const{code:CQ,reason:dQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED);throw new RtmUnavailableError(eQ,[dQ],CQ)}const{initEncryption:nQ,iv:sQ,key:aQ,keyLength:cQ}=this.context.encryptionInfo,gQ=nQ,IQ=typeof AQ=="string"?new TextEncoder().encode(AQ):AQ,EQ=IQ.byteLength;try{const CQ=gQ?encrypt(IQ,aQ,sQ,cQ):IQ,dQ=typeof AQ=="string"?1:0;oQ.send(this.encodeMessage(CQ,EQ,gQ,dQ,iQ==null?void 0:iQ.customType))}catch{const{code:dQ,reason:lQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_ENCRYPT_MESSAGE_FAILED);throw new RtmUnavailableError(eQ,[lQ],dQ)}}getDataChannel(){return this.localDatachannel}}class RemoteTopic extends EventBase{constructor(eQ,AQ,iQ,oQ,rQ){super(AQ,"RemoteTopic"),_defineProperty$1(this,"context",void 0),_defineProperty$1(this,"topicName",void 0),_defineProperty$1(this,"channelName",void 0),_defineProperty$1(this,"users",new Map),_defineProperty$1(this,"emitTopicMessage",void 0),_defineProperty$1(this,"internalEmitter",new EventEmitter$1),this.context=eQ,this.topicName=iQ,this.channelName=oQ,this.emitTopicMessage=rQ}addUserWithDc(eQ,AQ){this.users.set(eQ,AQ)}addUserWithoutDc(eQ,AQ){this.users.set(eQ,{subscribedState:"PRE_SUBSCRIBE",meta:"",id:0,user:AQ})}updateSubscribeState(eQ,AQ){const iQ=this.users.get(eQ);if(iQ){const{subscribedState:oQ,id:rQ,meta:nQ,datachannel:sQ,user:aQ}=iQ;let cQ=!1;switch(oQ){case"PRE_SUBSCRIBE":AQ==="UNSUBSCRIBE"?this.users.delete(eQ):AQ==="SUBSCRIBED"&&(cQ=!0);break;case"SUBSCRIBED":(AQ==="UNSUBSCRIBE"||AQ==="PRE_SUBSCRIBE")&&(cQ=!0);break;case"UNSUBSCRIBE":cQ=!0}cQ&&this.users.set(eQ,{subscribedState:AQ,id:rQ,meta:nQ,datachannel:sQ,user:aQ})}}updateUserDatachannelInfo(eQ,AQ){if(this.users.has(eQ)){const iQ=this.users.get(eQ);if(iQ){const{subscribedState:oQ,datachannel:rQ}=iQ,{meta:nQ,id:sQ,user:aQ}=AQ;this.users.set(eQ,{meta:nQ,id:sQ,subscribedState:oQ,datachannel:rQ,user:aQ})}}else this.warn("update user datachannel info failure, not pre_subscribe the user in the topic.")}fillUserDatachannel(eQ,AQ){const iQ=this.users.get(eQ);iQ&&this.users.set(eQ,_objectSpread2(_objectSpread2({},iQ),{},{datachannel:AQ}))}removeUser(eQ){this.users.delete(eQ)}removeUserDatachannel(eQ){const AQ=this.users.get(eQ);AQ&&this.users.set(eQ,_objectSpread2(_objectSpread2({},AQ),{},{datachannel:void 0}))}handleSubscription(eQ,AQ){this.fillUserDatachannel(AQ,eQ),this.addMessageEvent(eQ,AQ),this.updateSubscribeState(AQ,"SUBSCRIBED")}handleUnsubscription(eQ){this.internalEmitter.emit("unsubscribeTopicMessage",eQ),this.updateSubscribeState(eQ,"UNSUBSCRIBE")}getUsers(){return this.users}getSubscribedUsers(){return Array.from(this.users.keys()).filter(eQ=>{var AQ;return((AQ=this.users.get(eQ))===null||AQ===void 0?void 0:AQ.subscribedState)==="SUBSCRIBED"})}getPreSubscribedUsers(){return Array.from(this.users.keys()).filter(eQ=>{var AQ;return((AQ=this.users.get(eQ))===null||AQ===void 0?void 0:AQ.subscribedState)==="PRE_SUBSCRIBE"})}getAllSubscribedUserCount(){return this.getSubscribedUsers().length+this.getPreSubscribedUsers().length}decodeMessage(eQ){return StreamMessageProtocol.decode(eQ)}addMessageEvent(eQ,AQ){const iQ=oQ=>{const rQ=this.decodeMessage(new Uint8Array(oQ)),{encrypted:nQ,payloadLength:sQ,messageType:aQ,payload:cQ,customType:gQ}=rQ,{key:IQ,iv:EQ,keyLength:CQ}=this.context.encryptionInfo;if(nQ&&!IQ)return void this.warn("Received a message with encryption but the key is not ready yet.");if(!nQ&&IQ)return void this.warn("Received a message without encryption but the key is ready.");let dQ;dQ=aQ===1?new TextDecoder().decode(nQ?decrypt(cQ,IQ,EQ,CQ).slice(0,sQ):cQ):nQ?decrypt(cQ,IQ,EQ,CQ).slice(0,sQ):cQ,this.emitTopicMessage({channelName:this.channelName,channelType:"STREAM",topicName:this.topicName,message:dQ,publisher:AQ,messageType:aQ===1?"STRING":"BINARY",customType:gQ,timestamp:getUTCTimeBaseREG(this.context.offsetTime)})};eQ==null||eQ.on("open",()=>{this.warn("".concat(this.channelName,"(").concat(this.topicName,") remote dc opened."))}),eQ==null||eQ.on("close",()=>{this.warn("".concat(this.channelName,"(").concat(this.topicName,") remote dc closed."))}),eQ==null||eQ.on("error",oQ=>{this.warn("error occurs in ".concat(this.channelName,"(").concat(this.topicName,") remote dc. error is ").concat(oQ))}),eQ.on("message",iQ),this.log("".concat(this.channelName,"(").concat(this.topicName,") msg event added")),this.internalEmitter.on("unsubscribeTopicMessage",oQ=>{oQ===AQ&&eQ.off("message",iQ)})}}class ApiRateLimiter{constructor(){_defineProperty$1(this,"operationsTimeCache",{})}canMakeOperation(eQ,AQ){var iQ;let oQ=getParameter("API_RATE_LIMIT").get(eQ);AQ!=null&&AQ.times&&(oQ=AQ.times);const rQ=Date.now();if(this.operationsTimeCache[eQ]||(this.operationsTimeCache[eQ]=[]),this.operationsTimeCache[eQ]=this.operationsTimeCache[eQ].filter(cQ=>cQ>rQ-API_QPS_SECOND),this.operationsTimeCache[eQ].length<oQ)return void this.operationsTimeCache[eQ].push(rQ);const nQ=RTMErrorCode.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION,{code:sQ,reason:aQ}=getErrorInfoByCode((iQ=AQ==null?void 0:AQ.code)!==null&&iQ!==void 0?iQ:nQ);if(getParameter("ENABLE_API_RATE_LIMIT")===!0)throw new RtmUnavailableError(eQ,[aQ],sQ)}}const{SubscribeTopicErrorCode}=RTMStreamChannelStatusCode;class StreamChannelImpl extends EventBase{constructor(eQ,AQ,iQ,oQ,rQ,nQ,sQ,aQ,cQ,gQ){var IQ;switch(super(AQ,"StreamChannelImpl",!0),_defineProperty$1(this,"channelName",void 0),_defineProperty$1(this,"context",void 0),_defineProperty$1(this,"userId",void 0),_defineProperty$1(this,"appId",void 0),_defineProperty$1(this,"getMainSession",void 0),_defineProperty$1(this,"isJoinedChannel",!1),_defineProperty$1(this,"joinedAndSubscribed",!1),_defineProperty$1(this,"rtcClient",void 0),_defineProperty$1(this,"subscribeInfoMap",new Map),_defineProperty$1(this,"preSubscribeInfoMap",new Map),_defineProperty$1(this,"isReuseRtcClient",!1),_defineProperty$1(this,"internalEmitter",new EventEmitter$1),_defineProperty$1(this,"localTopics",new Map),_defineProperty$1(this,"remoteTopics",new Map),_defineProperty$1(this,"firstSnapshot",!0),_defineProperty$1(this,"emitRtmEvent",void 0),_defineProperty$1(this,"getStreamChannelList",void 0),_defineProperty$1(this,"getConsoleConfig",void 0),_defineProperty$1(this,"validateRtmConnection",void 0),_defineProperty$1(this,"getRtmLinkState",void 0),_defineProperty$1(this,"getChannelMetadataSub",void 0),_defineProperty$1(this,"apiRateLimit",new ApiRateLimiter),_defineProperty$1(this,"privatePermitUseMessageChn",!1),_defineProperty$1(this,"linkState","IDLE"),_defineProperty$1(this,"controlReconnectTimer",null),_defineProperty$1(this,"handleConnectionStateChange",async(CQ,dQ,lQ)=>{if(this.log("rtc state: pre(%s), now(%s), reason: %s.",dQ,CQ,lQ),dQ==="RECONNECTING"&&this.controlReconnectTimer&&clearTimeout(this.controlReconnectTimer),this.isJoinedChannel&&CQ==="DISCONNECTED"){if(this.firstSnapshot=!0,this.privatePermitUseMessageChn)if(await this.unSubLockAMeta(),lQ!=="LEAVE"&&lQ!=="UID_BANNED"){var uQ;const BQ=this.getPrefixChannelName();this.privatePermitUseMessageChn&&((uQ=this.getMainSession())===null||uQ===void 0||(uQ=uQ.getPresenceSession())===null||uQ===void 0||uQ.getStateAndSetByLocal(BQ)),await this.handleLeaveEffects(!1)}else await this.handleLeaveEffects();if(lQ&&lQ!=="LEAVE"){this.warn("streamChannel connection state change to DISCONNECTED, reason: %s",lQ);let BQ=LinkStateChangeReasonDescription.KICKED_OUT_BY_SERVER,QQ="KICKED_OUT_BY_SERVER";lQ===ConnectionDisconnectedReason.TOKEN_EXPIRE&&(BQ=LinkStateChangeReasonDescription.TOKEN_EXPIRED,QQ="TOKEN_EXPIRED"),this.updateLinkState("FAILED","SERVER_REJECT",QQ,BQ)}}CQ==="RECONNECTING"&&(this.updateLinkState("CONNECTING","AUTO_RECONNECT","AUTO_RECONNECT",LinkStateChangeReasonDescription.AUTO_RECONNECT),this.controlReconnectTimer=setTimeout(async()=>{this.warn("streamChannel reconnect timeout, force leave."),await this.leave()},RECONNECT_STREAM_CHANNEL_TIMEOUT)),CQ==="CONNECTED"&&this.isJoinedChannel&&this.updateLinkState("CONNECTED","RECONNECTED","RECONNECT_SUCCESS",LinkStateChangeReasonDescription.RECONNECT_SUCCESS);const hQ={channelName:this.channelName,state:CQ,reason:lQ??CQ==="CONNECTED"?"OK":"",timestamp:getUTCTimeBaseREG(this.context.offsetTime)};this.emitRtmEvent("status",hQ)}),_defineProperty$1(this,"handleUserPublishedList",CQ=>{if(!this.firstSnapshot)return void this.handleUpdatedTopicsInOffline(CQ);const dQ=[];if(CQ.forEach(lQ=>{var uQ;(uQ=lQ.dataChannels)===null||uQ===void 0||uQ.forEach(hQ=>{hQ.getConfig()&&dQ.push({user:lQ,config:hQ.getConfig(),dc:hQ})})}),this.firstSnapshot=!1,dQ.length!==0)this.handleReceivedDcs(dQ,"","SNAPSHOT");else{const lQ={eventType:"SNAPSHOT",channelName:this.channelName,publisher:"",topicInfos:[],totalTopics:0,timestamp:getUTCTimeBaseREG(this.context.offsetTime)};this.emitRtmEvent("topic",lQ)}}),_defineProperty$1(this,"handleUserPublished",(CQ,dQ,lQ)=>{var uQ;if(dQ!=="datachannel"||lQ===void 0)return;const hQ=(uQ=CQ.dataChannels)===null||uQ===void 0?void 0:uQ.find(BQ=>BQ.id===lQ.id);this.handleReceivedDcs([{user:CQ,config:lQ,dc:hQ}],CQ.uid.toString(),"REMOTE_JOIN")}),_defineProperty$1(this,"handleUserUnPublished",(CQ,dQ,lQ)=>{if(dQ!=="datachannel")return;const uQ=lQ==null?void 0:lQ.metadata;if(uQ===void 0)return;const hQ=this.decodeMetadata(uQ),BQ=hQ.topic,QQ=hQ.metadata;this._emitTopicLeft(BQ,CQ,QQ)}),_defineProperty$1(this,"handleTokenPrivilegeWillExpire",()=>{this.emitRtmEvent("tokenPrivilegeWillExpire",this.channelName)}),_defineProperty$1(this,"emitTopicMessage",CQ=>{this.emitRtmEvent("message",CQ)}),_defineProperty$1(this,"_emitTopicLeft",(CQ,dQ,lQ)=>{const uQ=dQ.uid.toString(),hQ=this.getInitTopicEventData("REMOTE_LEAVE",this.channelName,uQ,1);hQ.topicInfos.push({publishers:[{publisherUserId:uQ,publisherMeta:lQ}],topicName:CQ,totalPublisher:1}),this.emitRtmEvent("topic",hQ);const BQ=this.remoteTopics.get(CQ);BQ!=null&&BQ.getSubscribedUsers().includes(uQ)?BQ==null||BQ.addUserWithoutDc(uQ,dQ):this.deleteRemoteDc(CQ,uQ)}),(IQ=eQ.rtmConfig.logLevel)!==null&&IQ!==void 0?IQ:"none"){case"debug":AgoraRTC.setLogLevel(0);break;case"info":AgoraRTC.setLogLevel(1);break;case"warn":AgoraRTC.setLogLevel(2);break;case"none":AgoraRTC.setLogLevel(4);break;default:AgoraRTC.setLogLevel(3)}this.channelName=iQ.channelName,this.context=eQ,this.appId=iQ.appId,this.userId=iQ.userId,this.emitRtmEvent=oQ,this.getStreamChannelList=rQ,this.getConsoleConfig=nQ,this.validateRtmConnection=sQ,this.getRtmLinkState=aQ,this.getChannelMetadataSub=cQ,this.getMainSession=genGetMainSession(gQ),this.setMaxListeners(512),this.internalEmitter.setMaxListeners(512),eQ.rtmConfig.privateConfig&&!eQ.rtmConfig.privateConfig.serviceType.includes("MESSAGE")||(this.privatePermitUseMessageChn=!0),AgoraRTC.setParameter("ENABLE_DATASTREAM_2",!0),AgoraRTC.setParameter("DATASTREAM_MAX_RETRANSMITS",0),AgoraRTC.setParameter("AP_RTM",!0),this.context.config.logUpload&&AgoraRTC.setParameter("UPLOAD_LOG",!0);const EQ=[];this.isReuseRtcClient=EQ.length>0,this.log("Create streamChannel, isReuseRtcClient: ".concat(this.isReuseRtcClient)),this.rtcClient=this.isReuseRtcClient?EQ[0]:AgoraRTC.createClient({codec:"vp8",mode:"rtc"}),this.rtcClient.setRTMConfig({apRTM:!0,rtmFlag:3})}async handleLeaveEffects(){let eQ=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.clearLocalCache(),this.isJoinedChannel=!1,this.joinedAndSubscribed=!1,this.internalEmitter.emit("stream-channel-leaved",this.channelName),this.removeAllRtcListeners(),this.absent(eQ)}async unSubLockAMeta(){const eQ=this.getMainSession().getRegistrarSession(),AQ=this.getPrefixChannelName(),{withLock:iQ,withMetadata:oQ}=this.getLastSubOptions(AQ);iQ&&this.unSubLock(AQ),oQ&&this.unSubMetadata(AQ),eQ.emit("unSubChannelLock",AQ),eQ.emit("unSubChannelMetadata",AQ)}handleUpdatedTopicsInOffline(eQ){const AQ=new Map;this.remoteTopics.forEach((oQ,rQ)=>{AQ.set(rQ,oQ)});const iQ=new Map;eQ.forEach(oQ=>{var rQ;(rQ=oQ.dataChannels)===null||rQ===void 0||rQ.forEach(nQ=>{if(nQ.getConfig()){var sQ;const{metadata:aQ}=nQ.getConfig(),cQ=this.decodeMetadata(aQ),{topic:gQ}=cQ,IQ=(sQ=iQ.get(gQ))!==null&&sQ!==void 0?sQ:[];IQ.push({user:oQ,dc:nQ.getConfig()}),iQ.set(gQ,IQ)}})}),iQ.forEach((oQ,rQ)=>{var nQ,sQ;const aQ=(nQ=(sQ=AQ.get(rQ))===null||sQ===void 0?void 0:sQ.getUsers())!==null&&nQ!==void 0?nQ:new Map,cQ=oQ.filter(gQ=>{var IQ;let{user:EQ}=gQ;return!aQ.has(EQ.uid.toString())&&((IQ=aQ.get(EQ.uid.toString()))===null||IQ===void 0?void 0:IQ.subscribedState)!=="PRE_SUBSCRIBE"});cQ.length>0&&this.log("joined topic: %s, users: %o",rQ,Array.from(cQ.values()).map(gQ=>{var IQ;return(IQ=gQ.user)===null||IQ===void 0?void 0:IQ.uid})),cQ.forEach(gQ=>{let{user:IQ,dc:EQ}=gQ;this.handleUserPublished(IQ,"datachannel",EQ)})}),AQ.forEach((oQ,rQ)=>{var nQ;const sQ=oQ.getUsers(),aQ=(nQ=iQ.get(rQ))!==null&&nQ!==void 0?nQ:[],cQ=Array.from(sQ.values()).filter(gQ=>gQ.subscribedState!=="PRE_SUBSCRIBE"&&!aQ.find(IQ=>{var EQ;let{user:CQ}=IQ;return CQ.uid===((EQ=gQ.user)===null||EQ===void 0?void 0:EQ.uid)}));cQ.length>0&&this.log("left topic: %s, users: %o",rQ,Array.from(cQ.values()).map(gQ=>{var IQ;return(IQ=gQ.user)===null||IQ===void 0?void 0:IQ.uid})),cQ.forEach(gQ=>{this._emitTopicLeft(rQ,gQ.user,gQ.meta)})})}removeAllRtcListeners(){this.rtcClient.off("connection-state-change",this.handleConnectionStateChange),this.rtcClient.off("published-user-list",this.handleUserPublishedList),this.rtcClient.off("user-published",this.handleUserPublished),this.rtcClient.off("user-unpublished",this.handleUserUnPublished),this.rtcClient.off("token-privilege-will-expire",this.handleTokenPrivilegeWillExpire)}addAllRtcListeners(){this.rtcClient.on("connection-state-change",this.handleConnectionStateChange),this.rtcClient.on("published-user-list",this.handleUserPublishedList),this.rtcClient.on("user-published",this.handleUserPublished),this.rtcClient.on("user-unpublished",this.handleUserUnPublished),this.rtcClient.on("token-privilege-will-expire",this.handleTokenPrivilegeWillExpire)}async handleReceivedDcs(eQ,AQ,iQ){const oQ=new Map;for(let nQ=0;nQ<eQ.length;nQ++){var rQ;const{user:sQ,config:aQ,dc:cQ}=eQ[nQ],gQ=aQ==null?void 0:aQ.metadata;if(gQ===void 0){this.log("meta of datachannel is invalid. user(".concat(sQ,"), channel(").concat(this.channelName,"), dc(").concat(aQ,")"));continue}const IQ=sQ.uid.toString(),EQ=this.decodeMetadata(gQ),CQ=EQ.topic,dQ=EQ.metadata,lQ=aQ==null?void 0:aQ.id;oQ.has(CQ)||oQ.set(CQ,[]),(rQ=oQ.get(CQ))===null||rQ===void 0||rQ.push({publisherUserId:IQ,publisherMeta:dQ}),this.addOrUpdateRemoteDc(CQ,IQ,sQ,dQ,lQ,cQ);const uQ=this.remoteTopics.get(CQ);uQ!=null&&uQ.getPreSubscribedUsers().includes(IQ)&&await this.handlePreSubscribeTopic(CQ,IQ)}this.emitTopic(AQ,iQ,oQ)}emitTopic(eQ,AQ,iQ){const oQ=this.getInitTopicEventData(AQ,this.channelName,eQ,iQ.size);iQ.forEach((rQ,nQ)=>{oQ.topicInfos.push({publishers:rQ,topicName:nQ,totalPublisher:rQ.length})}),oQ.topicInfos.length===0&&this.log("length of topicInfos is 0 in emitTopic."),this.emitRtmEvent("topic",oQ)}getInitTopicEventData(eQ,AQ,iQ,oQ){return{eventType:eQ,channelName:AQ,publisher:iQ,topicInfos:[],totalTopics:oQ,timestamp:getUTCTimeBaseREG(this.context.offsetTime)}}userIdToRTCRemoteUser(eQ){return{uid:typeof this.userId=="number"?parseInt$2(eQ):eQ,hasAudio:!1,hasVideo:!1,dataChannels:[]}}addOrUpdateRemoteDc(eQ,AQ,iQ,oQ,rQ,nQ){if(!this.remoteTopics.has(eQ)){const aQ=new RemoteTopic(this.context,this.logger,eQ,this.channelName,this.emitTopicMessage);this.remoteTopics.set(eQ,aQ)}const sQ=this.remoteTopics.get(eQ);sQ.getUsers().has(AQ)?sQ.updateUserDatachannelInfo(AQ,{meta:oQ,id:rQ,user:iQ}):sQ.addUserWithDc(AQ,{subscribedState:"UNSUBSCRIBE",meta:oQ,id:rQ,datachannel:nQ,user:iQ})}deleteRemoteDc(eQ,AQ){const iQ=this.remoteTopics.get(eQ);iQ==null||iQ.removeUser(AQ),(iQ==null?void 0:iQ.getUsers().size)===0&&this.remoteTopics.delete(eQ)}deleteSub(eQ,AQ){var iQ,oQ;(iQ=this.subscribeInfoMap.get(eQ))===null||iQ===void 0||iQ.delete(AQ),(oQ=this.subscribeInfoMap.get(eQ))!==null&&oQ!==void 0&&oQ.size||this.subscribeInfoMap.delete(eQ)}decodeMetadata(eQ){return TopicMetadata.decode(new TextEncoder().encode(eQ))}async handlePreSubscribeTopic(eQ,AQ){const iQ=this.remoteTopics.get(eQ),oQ=iQ==null?void 0:iQ.getUsers().get(AQ);if(!oQ)return void this.log("handlePreSubscribeTopic failed. remoteDcInfo is undefined. topicName: ".concat(eQ,", userId: ").concat(replaceRangeWithAsterisk(AQ)));const{id:rQ,user:nQ}=oQ,sQ=await fromPromise(this.rtcClient.subscribe(nQ||this.userIdToRTCRemoteUser(AQ),"datachannel",rQ),cQ=>cQ);if(sQ.isErr()){var aQ;const cQ=sQ==null||(aQ=sQ.error)===null||aQ===void 0?void 0:aQ.code;this.log("subscribe predictive user(".concat(replaceRangeWithAsterisk(AQ),") in topic(").concat(eQ,") failed, code is ").concat(cQ))}if(sQ.isOk()){const cQ=sQ.value;this.log("pre-subtopic ".concat(this.channelName,"(").concat(eQ,") succeed.")),iQ==null||iQ.handleSubscription(cQ,AQ)}}async patchSubscribeTopic(eQ,AQ){var iQ;const oQ={succeedUsers:[],failedUsers:[],failedDetails:[],timestamp:0,topicName:eQ},rQ=this.remoteTopics.get(eQ),nQ=SUB_TOPIC_USER_LIMITATION-((iQ=rQ==null?void 0:rQ.getAllSubscribedUserCount())!==null&&iQ!==void 0?iQ:0),sQ=shuffle$1(AQ).filter((cQ,gQ)=>(gQ+1>nQ&&(oQ.failedDetails.push({user:cQ,errorCode:SubscribeTopicErrorCode.SUB_USER_EXCEED_LIMITATION,timestamp:0,topicName:eQ}),oQ.failedUsers.push(cQ)),gQ+1<=nQ));return this.log("subscribe topic(%s) users: %o",eQ,sQ.map(cQ=>replaceRangeWithAsterisk(cQ))),(await Promise.all(sQ.map(cQ=>{const gQ=rQ==null?void 0:rQ.getUsers().get(cQ);if(!gQ)throw this.warn("subscribe topic(".concat(eQ,")-user(").concat(replaceRangeWithAsterisk(cQ),") failed, user not in remoteTopic users.")),new Error;const{id:IQ,user:EQ}=gQ;return fromPromise(this.rtcClient.subscribe(EQ||this.userIdToRTCRemoteUser(cQ),"datachannel",IQ),CQ=>CQ)}))).map((cQ,gQ)=>({userId:sQ[gQ],result:cQ})).forEach(cQ=>{if(cQ.result.isErr()){var gQ,IQ;const EQ=(gQ=cQ.result.error)===null||gQ===void 0?void 0:gQ.code,CQ=SubscribeTopicErrorCode.UNKNOWN_ERROR;oQ.failedDetails.push({user:cQ.userId,errorCode:CQ,reason:"Subscribe topic failure, web_rtc code is ".concat(EQ,", the reason of web_rtc is that ").concat(cQ==null||(IQ=cQ.result)===null||IQ===void 0||(IQ=IQ.error)===null||IQ===void 0?void 0:IQ.toString()),timestamp:0,topicName:eQ}),oQ.failedUsers.push(cQ.userId),this.warn(cQ.result,"WEB_RTCerror"),this.log("subscribe user(".concat(cQ.userId,") in topic(").concat(eQ,") failed, code is ").concat(EQ))}else{oQ.succeedUsers.push(cQ.userId);const EQ=cQ.result.value;this.log("subtopic ".concat(this.channelName,"(").concat(eQ,") succeed.")),rQ==null||rQ.handleSubscription(EQ,cQ.userId)}}),oQ}clearLocalCache(){this.localTopics=new Map,this.remoteTopics=new Map,this.preSubscribeInfoMap=new Map,this.subscribeInfoMap=new Map}checkIsJoinedChannel(eQ){if(!this.isJoinedChannel||this.linkState!=="CONNECTED"){this.log("".concat(this.channelName," have not joined stream channel when ").concat(eQ));const{code:AQ,reason:iQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_NOT_JOINED);throw new RtmUnavailableError(eQ,[iQ],AQ)}}updatePrivateSettings(){const eQ=this.context.rtmConfig.privateConfig;if(eQ!=null&&eQ.accessPointHosts){var AQ;const iQ=eQ.logUploadHosts,oQ=eQ.eventUploadHosts,rQ=443;this.rtcClient.setLocalAccessPointsV2({accessPoints:{serverList:eQ.accessPointHosts,domain:"edge."+sample$1((AQ=eQ.originDomains)!==null&&AQ!==void 0?AQ:["agora.io"])},log:iQ?_objectSpread2({},getPrivateSettingsPortAndDomains(iQ,rQ)):void 0,report:oQ?_objectSpread2({},getPrivateSettingsPortAndDomains(oQ,rQ)):void 0})}else eQ&&this.warn("use private settings but apHosts is set to empty")}updateLinkState(eQ,AQ,iQ){let oQ=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"";if(this.linkState===eQ)return;this.privatePermitUseMessageChn&&this.context.sendReport("LinkStateChange",{elapse:getElapse(this.getMainSession().getRegistrarSession().startTime),lts:Long$2.fromNumber(Date.now()),reason:LinkStateChangeReason4Report[iQ],sid:getSid(this.getMainSession().getRegistrarSession().instanceId||Long$2.fromNumber(0)),vid:Long$2.fromString(getParameter("VID").get(this.context.appId)||"0"),userid:this.context.uid,currentState:linkStateCodeMap[eQ],previousState:linkStateCodeMap[this.linkState],operation:linkOperationCodeMap[AQ],serviceType:1,streamChannelName:this.channelName}),eQ!=="FAILED"&&eQ!=="IDLE"||(this.firstSnapshot=!0);const rQ={currentState:eQ,previousState:this.linkState,serviceType:"STREAM",operation:AQ,reason:oQ,reasonCode:iQ,affectedChannels:[this.channelName],unrestoredChannels:[],timestamp:getUTCTimeBaseREG(this.context.offsetTime),isResumed:eQ==="CONNECTED"&&this.isJoinedChannel};this.linkState=eQ,this.emitRtmEvent("linkState",rQ)}async join(eQ){let AQ=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const iQ=getParameter("AREA_CONFIG");if(iQ){const{areaCodes:hQ,excludedArea:BQ}=iQ;AgoraRTC.setArea({areaCode:hQ,excludedArea:BQ})}const oQ=getChannelNameByType(this.channelName,"STREAM"),rQ=OperationName.join,{currentResolve:nQ}=await this.context.operationControl.awaitPromise(rQ+oQ);try{if(this.linkState==="CONNECTING"){const{code:BQ,reason:QQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_DUPLICATE_OPERATION);throw new RtmUnavailableError(rQ,[QQ],BQ)}const hQ={timestamp:0};this.isJoinedChannel||this.updateLinkState("CONNECTING","JOIN",this.linkState==="IDLE"?"JOIN":"REJOIN",this.linkState==="IDLE"?LinkStateChangeReasonDescription.JOIN:LinkStateChangeReasonDescription.REJOIN);try{var sQ,aQ,cQ,gQ;if(this.updatePrivateSettings(),this.apiRateLimit.canMakeOperation("join"),this.privatePermitUseMessageChn){if(this.getRtmLinkState()!=="CONNECTED"){const{code:QQ,reason:fQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_CONNECTED);throw new RtmUnavailableError(rQ,[fQ],QQ)}this.validateRtmConnection(rQ),this.validateSessionExist(rQ),this._validateJoinOptions(eQ,rQ)}(sQ=eQ)!==null&&sQ!==void 0&&sQ.token&&validateToken(eQ.token,this.appId,rQ,QQ=>{this.warn(QQ)}),((aQ=eQ)===null||aQ===void 0?void 0:aQ.token)!==""&&((cQ=eQ)===null||cQ===void 0?void 0:cQ.token)!==void 0||(eQ=_objectSpread2(_objectSpread2({},eQ),{},{token:this.context.appId}));const BQ=(gQ=getParameter("STREAM_CHANNEL_COUNT"))!==null&&gQ!==void 0?gQ:SUB_STREAM_CHANNEL_LIMITATION;if(this.getStreamChannelList().length>=BQ){this.log("exceed join channel limit ".concat(BQ));const{code:QQ,reason:fQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_INSTANCE_EXCEED_LIMITATION);throw new RtmUnavailableError(rQ,[fQ],QQ)}}catch(BQ){var IQ;this.logError(BQ);const{reason:QQ}=BQ;throw this._handleJoinFailedState((IQ=BQ==null?void 0:BQ.errorCode)!==null&&IQ!==void 0?IQ:QQ),BQ}try{if(!this.isJoinedChannel){this.addAllRtcListeners();let BQ=!1;const QQ=AgoraRTC.__CLIENT_LIST__.map(fQ=>"channel(".concat(fQ.channelName,"), state: ").concat(fQ.connectionState,"}"));this.log("FusionSDK: ".concat(FUSION,". clientList of rtc: ").concat(QQ));try{this.log("Join streamChannel, isReuseRtcClient: ".concat(BQ)),this.internalEmitter.emit("stream-channel-joined",this.channelName);const fQ=this.rtcClient.connectionState;if(!(FUSION&&BQ)){if(!(fQ==="CONNECTED"||fQ==="CONNECTING"||fQ==="RECONNECTING")){var EQ,CQ,dQ;const _Q=(EQ=eQ)===null||EQ===void 0?void 0:EQ.token;this.context.config.cloudProxy&&((CQ=(dQ=this.context.rtmConfig.privateConfig)===null||dQ===void 0||(dQ=dQ.accessPointHosts)===null||dQ===void 0?void 0:dQ.length)!==null&&CQ!==void 0?CQ:0)===0&&this.rtcClient.startProxyServer(5),this.firstSnapshot=!0,await timeoutPromise(this.rtcClient.join(this.appId,this.channelName,_Q||null,this.userId),JOIN_TIMEOUT,rQ,RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_FAILED,!0)}}}catch(fQ){var lQ;if(this.internalEmitter.emit("stream-channel-leaved",this.channelName),await this._validCancelJoin(rQ),isRtmError(fQ))throw isTimeout(fQ)&&await this.rtcClient.leave(),fQ;this.warn(fQ);const _Q=(lQ=fQ==null?void 0:fQ.code)!==null&&lQ!==void 0?lQ:AgoraRTCErrorCode.UNEXPECTED_ERROR;if(_Q===AgoraRTCErrorCode.CAN_NOT_GET_GATEWAY_SERVER){const{code:bQ,reason:NQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_TOKEN);throw new RtmUnavailableError(rQ,[NQ],bQ)}if(_Q===AgoraRTCErrorCode.OPERATION_ABORTED){const{code:bQ,reason:NQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_CANCELED);throw new RtmUnavailableError(rQ,[NQ],bQ)}const{code:RQ,reason:wQ}=convertDataChannelJoinCodeToSdkCode(_Q,RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_FAILED);throw new RtmUnavailableError(rQ,[wQ+"Join channel failure, server code is ".concat(_Q)],RQ)}await this._validCancelJoin(rQ),this.updateLinkState("CONNECTED","JOIN","JOIN_SUCCESS",LinkStateChangeReasonDescription.JOIN_SUCCESS),this.isJoinedChannel=!0}return this.privatePermitUseMessageChn&&(this.log("stream channel joined success, start sub other options"),await this.subscribe(eQ,AQ)),this.joinedAndSubscribed=!0,nQ(hQ),hQ}catch(BQ){var uQ;nQ(!1);const{reason:QQ}=BQ;throw this.joinedAndSubscribed===!1&&this._handleJoinFailedState((uQ=BQ==null?void 0:BQ.errorCode)!==null&&uQ!==void 0?uQ:QQ),BQ}}catch(hQ){throw nQ(void 0),hQ}}async subMetadata(eQ){try{var AQ;await((AQ=this.getMainSession())===null||AQ===void 0?void 0:AQ.getRegistrarSession().requestSubscribeChannelMetadata(eQ,"JOIN")),this.getChannelMetadataSub().add(eQ)}catch(iQ){this.warn("sub channel metadata failure when sub channel(".concat(replaceRangeWithAsterisk(eQ),"), error is ").concat(iQ,"."))}}unSubMetadata(eQ){this.getMainSession().getRegistrarSession().requestUnsubscribeChannelMetadata(eQ),this.getChannelMetadataSub().delete(eQ)}async subLock(eQ){try{var AQ;await((AQ=this.getMainSession())===null||AQ===void 0?void 0:AQ.getRegistrarSession().requestSubscribeLock(eQ))}catch(iQ){this.warn("sub lock info failure when sub channel(".concat(replaceRangeWithAsterisk(eQ),"), error is ").concat(iQ,"."))}}unSubLock(eQ){const AQ=this.getMainSession(),iQ=AQ==null?void 0:AQ.getRegistrarSession();iQ==null||iQ.requestUnsubscribeLock(eQ)}leavePresenceColl(eQ){var AQ;(AQ=this.getMainSession())===null||AQ===void 0||AQ.getPresenceSession().leave(eQ)}subPresence(eQ){var AQ;(AQ=this.getMainSession())===null||AQ===void 0||AQ.getPresenceSession().subPresence(eQ)}unSubPresence(eQ){var AQ;let iQ=arguments.length>1&&arguments[1]!==void 0&&arguments[1];(AQ=this.getMainSession())===null||AQ===void 0||AQ.getPresenceSession().unSubPresence(eQ,iQ)}cacheStateAndDelDoc(eQ){var AQ;const iQ=(AQ=this.getMainSession())===null||AQ===void 0?void 0:AQ.getPresenceSession();iQ==null||iQ.cacheStateAndDelDoc(eQ)}async subscribe(eQ){var AQ,iQ;let oQ=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const rQ=OperationName.join,nQ=getChannelNameByType(this.channelName,"STREAM"),sQ=this.getMainSession(),aQ=!(sQ!=null&&sQ.lastSubscribeOrJoinOptions.has(nQ)),cQ=handleJoinOptionsAsDefault(eQ),{withLock:gQ,withMetadata:IQ,withPresence:EQ,beQuiet:CQ}=this.getLastSubOptions(nQ),dQ=getRandomInt(0,Number.MAX_SAFE_INTEGER);this.privatePermitUseMessageChn&&((AQ=this.getMainSession())===null||AQ===void 0||AQ.reportChnJoin(nQ,cQ,dQ));const lQ=getParameter("STORAGE_CHANNEL_SUB_ENABLED"),uQ=(cQ==null?void 0:cQ.withMetadata)&&!IQ&&(lQ!==void 0?String(lQ):this.getConsoleConfig()["storage.channel_subscribe_enabled"])==="true",{code:hQ,reason:BQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_FAILED),QQ=(cQ==null?void 0:cQ.beQuiet)&&!CQ&&!aQ,fQ=!(cQ!=null&&cQ.beQuiet)&&(aQ||CQ),_Q=(cQ==null?void 0:cQ.withPresence)&&!EQ,RQ=(iQ=this.getMainSession())===null||iQ===void 0?void 0:iQ.getRegistrarSession();try{var wQ,bQ;await Promise.all([uQ?this.subMetadata(nQ):void 0,cQ!=null&&cQ.withMetadata||!IQ?void 0:this.unSubMetadata(nQ),cQ!=null&&cQ.withLock&&!gQ?this.subLock(nQ):void 0,cQ!=null&&cQ.withLock||!gQ?void 0:this.unSubLock(nQ),aQ?await((wQ=this.getMainSession())===null||wQ===void 0?void 0:wQ.getPresenceSession().joinPresenceColl(nQ,{withPresence:cQ.withPresence,needPutDoc:fQ,needDelDoc:QQ,needSub:_Q,reJoinCauseReconnect:oQ})):(bQ=this.getMainSession())===null||bQ===void 0?void 0:bQ.getPresenceSession().onCreateCollection(nQ,{withPresence:cQ.withPresence,needPutDoc:fQ,needDelDoc:QQ,needSub:!1,reJoinCauseReconnect:oQ})])}catch(YQ){var NQ;throw RQ&&this.context.addReportEvents("ChnJoinRes",{cname:this.channelName,lts:Long$2.fromNumber(Date.now()),elapse:getElapse(RQ.startTime),errCode:YQ==null?void 0:YQ.errorCode,sid:getSid(RQ==null?void 0:RQ.instanceId),serverErrCode:(NQ=YQ.serverCode)!==null&&NQ!==void 0?NQ:YQ.errorCode,userId:this.context.uid,seq:Long$2.fromNumber(dQ)}),new RtmUnknownError(rQ,[BQ+YQ],hQ)}var UQ,PQ,OQ;cQ!=null&&cQ.withPresence&&!EQ&&EQ!==void 0&&((UQ=this.getMainSession())===null||UQ===void 0||UQ.getPresenceSession().unsubScribeSelfPresence(nQ,!1),this.leavePresenceColl(nQ),await((PQ=this.getMainSession())===null||PQ===void 0?void 0:PQ.getPresenceSession().joinPresenceColl(nQ,{withPresence:!0,needPutDoc:fQ,needDelDoc:QQ,needSub:_Q}))),cQ!=null&&cQ.withPresence||!EQ||(this.unSubPresence(nQ),this.leavePresenceColl(nQ),await((OQ=this.getMainSession())===null||OQ===void 0?void 0:OQ.getPresenceSession().joinPresenceColl(nQ,{withPresence:!1,needPutDoc:fQ,needDelDoc:QQ,needSub:_Q}))),RQ&&this.context.addReportEvents("ChnJoinRes",{cname:this.channelName,lts:Long$2.fromNumber(Date.now()),elapse:getElapse(RQ.startTime),errCode:0,sid:getSid(RQ.instanceId),serverErrCode:0,userId:this.context.uid,seq:Long$2.fromNumber(dQ)})}getPrefixChannelName(){return getChannelNameByType(this.channelName,"STREAM")}absent(eQ){var AQ,iQ,oQ,rQ;const nQ=this.getPrefixChannelName(),{withPresence:sQ,beQuiet:aQ}=this.getLastSubOptions(nQ);sQ&&this.unSubPresence(nQ,eQ);const cQ=!aQ;!sQ&&((AQ=this.getMainSession())===null||AQ===void 0||AQ.getPresenceSession().unsubScribeSelfPresence(nQ)),cQ&&((iQ=this.getMainSession())===null||iQ===void 0||iQ.getPresenceSession().delChannelDoc(nQ)),this.leavePresenceColl(nQ),(oQ=this.getMainSession())===null||oQ===void 0||oQ.getPresenceSession().leaveRetryChannels([nQ]),(rQ=this.getMainSession())===null||rQ===void 0||rQ.lastSubscribeOrJoinOptions.delete(nQ)}getLastSubOptions(eQ){var AQ,iQ;return(AQ=(iQ=this.getMainSession())===null||iQ===void 0?void 0:iQ.lastSubscribeOrJoinOptions.get(eQ))!==null&&AQ!==void 0?AQ:{}}async renewStreamChannelToken(eQ){const AQ=OperationName.renewToken;try{await this.rtcClient.renewToken(eQ)}catch(oQ){var iQ;this.logError(oQ);const rQ=(iQ=oQ==null?void 0:oQ.code)!==null&&iQ!==void 0?iQ:AgoraRTCErrorCode.UNEXPECTED_ERROR,{code:nQ,reason:sQ}=convertDataChannelJoinCodeToSdkCode(rQ,RTMErrorCode.RTM_ERROR_INVALID_TOKEN);throw new RtmUnavailableError(AQ,[sQ+"RenewToken of streamChannel failure, server code is ".concat(rQ)],nQ)}}localLeave(){this.isJoinedChannel=!1,this.joinedAndSubscribed=!1,this.removeAllRtcListeners(),this.clearLocalCache(),this.internalEmitter.emit("stream-channel-leaved",this.channelName)}async leave(){let eQ=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];const AQ=OperationName.leave;this.privatePermitUseMessageChn&&eQ&&(this.validateRtmConnection(AQ),this.validateSessionExist(AQ));const iQ={timestamp:0};if(this.linkState==="FAILED")return this.updateLinkState("IDLE","LEAVE","LEAVE",LinkStateChangeReasonDescription.LEAVE),this.localLeave(),iQ;if(this.linkState==="CONNECTING")return await this.rtcClient.leave(),this.updateLinkState("IDLE","LEAVE","LEAVE",LinkStateChangeReasonDescription.LEAVE),this.localLeave(),iQ;let oQ;this.checkIsJoinedChannel(AQ);const rQ=new Promise((sQ,aQ)=>{oQ=sQ});this.log("Leave streamChannel, isReuseRtcClient: ".concat(this.isReuseRtcClient));const nQ=[];try{const sQ=this.isReuseRtcClient&&FUSION;await Promise.all([sQ?this.fusionSdkLeave():this.rtcClient.leave(),...nQ.map(aQ=>fromPromise(this.rtcClient.unpublish(aQ),cQ=>cQ)),...this.isReuseRtcClient&&FUSION&&this.privatePermitUseMessageChn?[this.unSubLockAMeta(),this.handleLeaveEffects(),()=>{this.firstSnapshot=!0}]:[]]),this.context.config.cloudProxy&&!sQ&&this.rtcClient.stopProxyServer(),oQ(iQ)}catch(sQ){if(this.logError(sQ),isRtmError(sQ))throw sQ;const aQ=(sQ==null?void 0:sQ.code)||AgoraRTCErrorCode.UNEXPECTED_ERROR,{code:cQ,reason:gQ}=convertDataChannelJoinCodeToSdkCode(aQ,RTMErrorCode.RTM_ERROR_CHANNEL_LEAVE_FAILED);throw new RtmUnavailableError(AQ,[gQ+"Leave channel failure, server code is  ".concat(aQ)],cQ)}finally{this.updateLinkState("IDLE","LEAVE","LEAVE",LinkStateChangeReasonDescription.LEAVE)}return rQ}async fusionSdkJoin(){const eQ={channelName:this.channelName,state:"CONNECTING",reason:"OK",timestamp:getUTCTimeBaseREG(this.context.offsetTime)};this.emitRtmEvent("status",eQ),await this.rtcClient.setRTMConfig({apRTM:!0,rtmFlag:1}),this.isJoinedChannel=!0;const AQ={channelName:this.channelName,state:"CONNECTED",reason:"OK",timestamp:getUTCTimeBaseREG(this.context.offsetTime)};this.emitRtmEvent("status",AQ),this.handleUserPublishedList(this.rtcClient.remoteUsers)}async fusionSdkLeave(){const eQ={channelName:this.channelName,state:"DISCONNECTING",reason:"LEAVE",timestamp:getUTCTimeBaseREG(this.context.offsetTime)};this.emitRtmEvent("status",eQ),await this.rtcClient.setRTMConfig({apRTM:!0,rtmFlag:0}),this.isJoinedChannel=!1;const AQ={channelName:this.channelName,state:"DISCONNECTED",reason:"LEAVE",timestamp:getUTCTimeBaseREG(this.context.offsetTime)};this.emitRtmEvent("status",AQ)}async joinTopic(eQ,AQ){var iQ;const oQ=OperationName.joinTopic;this.apiRateLimit.canMakeOperation("joinTopic"),this.privatePermitUseMessageChn&&(this.validateRtmConnection(oQ),this.validateSessionExist(oQ)),validateTopicName(eQ,oQ),this.checkIsJoinedChannel(oQ);const rQ={timestamp:0,topicName:eQ};if(this.localTopics.has(eQ))return this.log("topic(%s) already exists",eQ),rQ;if(this.localTopics.size>=JOIN_TOPIC_LIMITATION){this.log("exceed create topic limit");const{code:cQ,reason:gQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_EXCEED_TOPIC_LIMITATION);throw new RtmUnavailableError(oQ,[gQ],cQ)}AQ={meta:null};const nQ=TopicMetadata.encode({metadata:(iQ=AQ)===null||iQ===void 0?void 0:iQ.meta,topic:eQ}).finish(),sQ=()=>{const cQ=Array.from(this.localTopics.values()).filter(gQ=>gQ!==void 0).filter(gQ=>(gQ==null?void 0:gQ.getDataChannel())!==void 0).map(gQ=>{var IQ;return gQ==null||(IQ=gQ.getDataChannel())===null||IQ===void 0?void 0:IQ.getConfig().id});for(let gQ=0;gQ<JOIN_TOPIC_LIMITATION;gQ++)if(cQ.findIndex(IQ=>IQ===gQ)===-1)return gQ;return-1};try{const cQ=sQ();this.localTopics.set(eQ,void 0);const gQ=await fromPromise(this.rtcClient.publish({id:cQ,ordered:!1,metadata:String.fromCharCode(...nQ)}),IQ=>IQ);if(gQ.isErr()){var aQ;this.localTopics.delete(eQ);const IQ=gQ==null||(aQ=gQ.error)===null||aQ===void 0?void 0:aQ.code;throw new RtmUnavailableError(oQ,["JoinTopic failure, code of rtcClient.publish api is ".concat(IQ)],RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_TOPIC_FAILED)}{const IQ=gQ.value,EQ=new LocalTopic(this.context,this.logger,eQ,IQ);IQ==null||IQ.on("open",()=>{this.warn("".concat(this.channelName,"(").concat(eQ,") remote dc opened."))}),IQ==null||IQ.on("close",()=>{this.warn("".concat(this.channelName,"(").concat(eQ,") remote dc closed."))}),IQ==null||IQ.on("error",CQ=>{this.warn("error occurs in ".concat(this.channelName,"(").concat(eQ,") remote dc. error is ").concat(CQ))}),this.localTopics.set(eQ,EQ)}}catch(cQ){throw cQ}return rQ}async publishTopicMessage(eQ,AQ,iQ){var oQ;const rQ=OperationName.publishTopicMessage;this.apiRateLimit.canMakeOperation("publishTopicMsg"),this.privatePermitUseMessageChn&&(this.validateRtmConnection(rQ),this.validateSessionExist(rQ));const nQ={timestamp:0,topicName:eQ};if(validateTopicName(eQ,rQ),this.checkIsJoinedChannel(rQ),iQ!=null&&iQ.customType&&validateCustomType(iQ==null?void 0:iQ.customType,rQ),typeof AQ=="string"&&!AQ){const{code:aQ,reason:cQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_INVALID_MESSAGE);throw new RtmInvalidArgumentError(rQ,[cQ],aQ)}if((typeof AQ=="string"?new TextEncoder().encode(AQ).buffer:AQ.buffer).byteLength+new Blob([(oQ=iQ==null?void 0:iQ.customType)!==null&&oQ!==void 0?oQ:""]).size>TOPIC_MESSAGE_SIZE){const{code:aQ,reason:cQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_MESSAGE_LENGTH_EXCEED_LIMITATION);throw new RtmInvalidArgumentError(rQ,[cQ],aQ)}if(this.rtcClient.connectionState!=="CONNECTED"){const{code:aQ,reason:cQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_NOT_JOINED);throw new RtmUnavailableError(rQ,[cQ],aQ)}const sQ=this.localTopics.get(eQ);if(!sQ){const{code:aQ,reason:cQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_TOPIC_NOT_JOINED);throw new RtmUnavailableError(rQ,[cQ],aQ)}return await(sQ==null?void 0:sQ.publishTopicMessage(rQ,AQ,iQ)),nQ}async leaveTopic(eQ){var AQ;const iQ=OperationName.leaveTopic;this.privatePermitUseMessageChn&&(this.validateRtmConnection(iQ),this.validateSessionExist(iQ));const oQ={timestamp:0,topicName:eQ};if(validateTopicName(eQ,iQ),this.checkIsJoinedChannel(iQ),!this.localTopics.has(eQ)){const{code:sQ,reason:aQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_TOPIC_NOT_JOINED);throw new RtmUnavailableError(iQ,[aQ],sQ)}const rQ=(AQ=this.localTopics.get(eQ))===null||AQ===void 0?void 0:AQ.getDataChannel();try{await this.rtcClient.unpublish(rQ),this.localTopics.delete(eQ)}catch(sQ){var nQ;this.logError(sQ);const aQ=(nQ=sQ==null?void 0:sQ.code)!==null&&nQ!==void 0?nQ:AgoraRTCErrorCode.UNEXPECTED_ERROR,{code:cQ,reason:gQ}=convertDataChannelJoinCodeToSdkCode(aQ,RTMErrorCode.RTM_ERROR_CHANNEL_IN_ERROR_STATE);throw new RtmUnavailableError(iQ,[gQ+"LeaveTopic failure, server code is  ".concat(aQ),cQ])}return oQ}async subscribeTopic(eQ,AQ){const iQ=OperationName.subscribeTopic;this.apiRateLimit.canMakeOperation("subscribeTopic"),this.privatePermitUseMessageChn&&(this.validateRtmConnection(iQ),this.validateSessionExist(iQ)),validateTopicName(eQ,iQ),this.checkIsJoinedChannel(iQ);const{currentResolve:oQ,currentReject:rQ}=await this.context.operationControl.awaitPromise(iQ+streamChannel_prefix+eQ);try{var nQ,sQ,aQ,cQ,gQ,IQ;const dQ=(nQ=AQ==null||(sQ=AQ.users)===null||sQ===void 0?void 0:sQ.filter(_Q=>!isValidId(_Q)))!==null&&nQ!==void 0?nQ:[];if(AQ!=null&&AQ.users&&(AQ.users=AQ==null||(aQ=AQ.users)===null||aQ===void 0?void 0:aQ.filter(_Q=>isValidId(_Q))),AQ!=null&&AQ.users&&(AQ.users=[...new Set(AQ.users)]),(()=>Array.from(this.remoteTopics.values()).filter(_Q=>_Q.getAllSubscribedUserCount()>0).length)()>SUB_TOPIC_LIMITATION){this.log("subscribed topic(%s) failed, exceed subscribe topic limit ".concat(SUB_TOPIC_LIMITATION),eQ);const{code:_Q,reason:RQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_EXCEED_TOPIC_LIMITATION);throw new RtmUnavailableError(iQ,[RQ],_Q)}const uQ=this.remoteTopics.get(eQ);if(((cQ=uQ==null?void 0:uQ.getAllSubscribedUserCount())!==null&&cQ!==void 0?cQ:0)>=SUB_TOPIC_USER_LIMITATION){this.log("subscribe topic(".concat(eQ,") exceed user limit: ").concat(SUB_TOPIC_USER_LIMITATION));const{code:_Q,reason:RQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_EXCEED_TOPIC_USER_LIMITATION);throw new RtmUnavailableError(iQ,[RQ],_Q)}const hQ={failedUsers:dQ,failedDetails:dQ.map(_Q=>({user:_Q,errorCode:SubscribeTopicErrorCode.INVALID_PARAMS,timestamp:0,topicName:eQ})),succeedUsers:[],timestamp:0,topicName:eQ};if(!(this.remoteTopics.has(eQ)||AQ!=null&&AQ.users&&AQ.users.length!==0)){if(this.localTopics.has(eQ))return oQ(void 0),hQ;const{code:_Q,reason:RQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_TOPIC_NOT_EXIST);throw new RtmUnavailableError(iQ,[RQ],_Q)}const BQ=new Set;if(!this.remoteTopics.has(eQ)&&((AQ==null||(gQ=AQ.users)===null||gQ===void 0?void 0:gQ.length)||0)>0){this.log("createTopicHere");const _Q=new RemoteTopic(this.context,this.logger,eQ,this.channelName,this.emitTopicMessage),RQ=SUB_TOPIC_USER_LIMITATION-(_Q==null?void 0:_Q.getAllSubscribedUserCount()),wQ=shuffle$1((AQ==null?void 0:AQ.users)||[]).filter((bQ,NQ)=>(NQ+1>RQ&&(hQ.failedDetails.push({user:bQ,errorCode:SubscribeTopicErrorCode.SUB_USER_EXCEED_LIMITATION,timestamp:0,topicName:eQ}),hQ.failedUsers.push(bQ)),NQ+1<=RQ));return this.log("shuffle pre subscribe topic(%s), users: %o",eQ,wQ.map(bQ=>replaceRangeWithAsterisk(bQ))),wQ.forEach(bQ=>{BQ.add(bQ),_Q.addUserWithoutDc(bQ),this.remoteTopics.set(eQ,_Q)}),this.log("".concat(eQ," not existent in channel").concat(this.channelName,".")),hQ.succeedUsers=[...BQ],this.log("subscribed ".concat(this.channelName,"(").concat(eQ,"), resp is %o"),hQ),oQ(void 0),hQ}let QQ=[];var EQ,CQ;AQ!=null&&AQ.users&&AQ.users.length!==0?QQ=(AQ==null||(EQ=AQ.users)===null||EQ===void 0?void 0:EQ.filter(_Q=>{const RQ=uQ==null?void 0:uQ.getPreSubscribedUsers().includes(_Q),wQ=uQ==null?void 0:uQ.getSubscribedUsers().includes(_Q),bQ=!(uQ!=null&&uQ.getUsers().has(_Q));return RQ||wQ?this.log("subscribe ".concat(replaceRangeWithAsterisk(_Q)," in topic(").concat(eQ,") already.")):bQ&&(uQ==null||uQ.addUserWithoutDc(_Q),this.log("pre subscribe user(".concat(replaceRangeWithAsterisk(_Q),")"))),this.log("can't sub the user ".concat(_Q,", isPreSubscribed: ").concat(RQ,", isSubscribed: ").concat(wQ,", isUserNotPublishTopic: ").concat(bQ)),!RQ&&!wQ&&!bQ}))||[]:((CQ=uQ==null?void 0:uQ.getUsers())!==null&&CQ!==void 0?CQ:new Map).forEach((_Q,RQ)=>{_Q.subscribedState==="UNSUBSCRIBE"&&QQ.push(RQ)});const fQ=await this.patchSubscribeTopic(eQ,QQ);return this.log("".concat(iQ," result: preSubUsers(").concat([...BQ],"), subUsers(").concat(fQ.succeedUsers,")")),hQ.succeedUsers=[...BQ,...fQ.succeedUsers],hQ.failedUsers=[...hQ.failedUsers,...fQ.failedUsers],hQ.failedDetails=[...hQ.failedDetails,...fQ.failedDetails],hQ.failedUsers.length===(AQ==null||(IQ=AQ.users)===null||IQ===void 0?void 0:IQ.length)||hQ.failedUsers.length,oQ(void 0),hQ}catch(dQ){throw rQ(dQ),dQ}}async unsubscribeTopic(eQ,AQ){var iQ,oQ,rQ;const nQ=OperationName.unsubscribeTopic;this.privatePermitUseMessageChn&&(this.validateRtmConnection(nQ),this.validateSessionExist(nQ)),validateTopicName(eQ,nQ),this.checkIsJoinedChannel(nQ);const sQ=this.remoteTopics.get(eQ);if(sQ==null||!sQ.getAllSubscribedUserCount()){const{code:IQ,reason:EQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_TOPIC_NOT_SUBSCRIBED);throw new RtmUnavailableError(nQ,[EQ],IQ)}const aQ=(iQ=AQ==null||(oQ=AQ.users)===null||oQ===void 0?void 0:oQ.filter(IQ=>!isValidId(IQ)))!==null&&iQ!==void 0?iQ:[],cQ={failedUsers:aQ,failedDetails:aQ.map(IQ=>({user:IQ,errorCode:SubscribeTopicErrorCode.INVALID_PARAMS,timestamp:0,topicName:eQ})),timestamp:0,succeedUsers:[],topicName:eQ};let gQ=[];AQ!=null&&AQ.users&&AQ.users.length!==0?gQ=AQ.users.filter(IQ=>isValidId(IQ)).filter(IQ=>{const EQ=sQ.getPreSubscribedUsers().includes(IQ),CQ=sQ.getSubscribedUsers().includes(IQ);return EQ?(this.deleteRemoteDc(eQ,IQ),cQ.succeedUsers.push(IQ)):CQ||(cQ.failedDetails.push({user:IQ,errorCode:SubscribeTopicErrorCode.NOT_SUBSCRIBED_USER,timestamp:0,topicName:eQ}),cQ.failedUsers.push(IQ)),CQ}):(sQ.getSubscribedUsers().forEach(IQ=>{gQ.push(IQ)}),sQ.getPreSubscribedUsers().forEach(IQ=>{this.deleteRemoteDc(eQ,IQ),cQ.succeedUsers.push(IQ)}));try{(await Promise.all(gQ.map(EQ=>{const CQ=sQ==null?void 0:sQ.getUsers().get(EQ);if(!CQ)throw this.warn("unsubscribe topic(".concat(eQ,")-user(").concat(replaceRangeWithAsterisk(EQ),") failed, user not in remoteTopic users.")),new Error;const{id:dQ,user:lQ}=CQ;return fromPromise(this.rtcClient.unsubscribe(lQ||this.userIdToRTCRemoteUser(EQ),"datachannel",dQ),uQ=>uQ)}))).map((EQ,CQ)=>({userId:gQ[CQ],result:EQ})).forEach(EQ=>{let{userId:CQ,result:dQ}=EQ;if(dQ.isErr()){var lQ,uQ,hQ;this.logError(dQ.error);const BQ=(lQ=dQ==null||(uQ=dQ.error)===null||uQ===void 0?void 0:uQ.code)!==null&&lQ!==void 0?lQ:AgoraRTCErrorCode.UNEXPECTED_ERROR;cQ.failedDetails.push({user:CQ,reason:"Unsubscribe topic failure, web_rtc code is ".concat(BQ,", the reason of web_rtc is that ").concat(dQ==null||(hQ=dQ.error)===null||hQ===void 0?void 0:hQ.toString()),timestamp:0,topicName:eQ}),cQ.failedUsers.push(CQ);const{code:QQ,reason:fQ}=convertDataChannelJoinCodeToSdkCode(BQ,RTMErrorCode.RTM_ERROR_CHANNEL_IN_ERROR_STATE);throw new RtmUnavailableError(nQ,[fQ+"unsubscribeTopic failure, server code is ".concat(BQ)],QQ)}cQ.succeedUsers.push(CQ),sQ.handleUnsubscription(CQ)})}catch(IQ){throw IQ}return cQ.failedUsers.length===(AQ==null||(rQ=AQ.users)===null||rQ===void 0?void 0:rQ.length)||cQ.failedUsers.length,this.log("".concat(nQ," success. sdk resp is %o"),cQ),cQ.succeedUsers.forEach(IQ=>{this.internalEmitter.emit("unsubscribeTopicMessage",eQ,IQ)}),{timestamp:0}}getSubscribedUserList(eQ){const AQ=OperationName.getSubscribedUserList;this.privatePermitUseMessageChn&&(this.validateRtmConnection(AQ),this.validateSessionExist(AQ)),validateTopicName(eQ,AQ),this.checkIsJoinedChannel(AQ);const iQ=this.remoteTopics.get(eQ);if(iQ==null||!iQ.getAllSubscribedUserCount()){const{code:rQ,reason:nQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_TOPIC_NOT_SUBSCRIBED);throw new RtmUnavailableError(AQ,[nQ],rQ)}const oQ={subscribed:[],timestamp:0,topicName:eQ};return oQ.subscribed=[...iQ.getSubscribedUsers(),...iQ.getPreSubscribedUsers()],oQ}validateSessionExist(eQ){if(this.getMainSession()===void 0){const{code:AQ,reason:iQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(eQ,[iQ],AQ)}}setStreamChannelParameter(eQ,AQ){AgoraRTC.setParameter(eQ,AQ)}_handleJoinFailedState(eQ){if(typeof eQ=="string")return void this.updateLinkState("FAILED","JOIN","JOIN_FAILED",eQ);if(eQ===RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_CANCELED)return;let AQ=LinkStateChangeReasonDescription.JOIN_FAILED,iQ="JOIN_FAILED";switch(eQ){case RTMErrorCode.RTM_ERROR_CHANNEL_INSTANCE_EXCEED_LIMITATION:AQ=LinkStateChangeReasonDescription.CHANNEL_INSTANCE_EXCEED_LIMITATION,iQ="CHANNEL_INSTANCE_EXCEED_LIMITATION";break;case RTMErrorCode.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION:AQ=LinkStateChangeReasonDescription.OPERATION_RATE_EXCEED_LIMITATION,iQ="OPERATION_RATE_EXCEED_LIMITATION";break;case RTMErrorCode.RTM_ERROR_INVALID_TOKEN:AQ=LinkStateChangeReasonDescription.INVALID_TOKEN,iQ="INVALID_TOKEN";break;case RTMErrorCode.RTM_ERROR_INCONSISTENT_APPID:AQ=LinkStateChangeReasonDescription.INCONSISTENT_APP_ID,iQ="INCONSISTENT_APP_ID";break;case RTMErrorCode.RTM_ERROR_DUPLICATE_OPERATION:case RTMErrorCode.RTM_ERROR_NOT_CONNECTED:case RTMErrorCode.RTM_ERROR_NOT_LOGIN:AQ=LinkStateChangeReasonDescription.CHANNEL_IN_ERROR_STATE,iQ="CHANNEL_IN_ERROR_STATE";break;case RTMErrorCode.RTM_ERROR_LOCK_NOT_AVAILABLE:AQ=LinkStateChangeReasonDescription.LOCK_NOT_AVAILABLE,iQ="LOCK_NOT_AVAILABLE";break;case RTMErrorCode.RTM_ERROR_STORAGE_NOT_AVAILABLE:AQ=LinkStateChangeReasonDescription.STORAGE_NOT_AVAILABLE,iQ="STORAGE_NOT_AVAILABLE";break;case RTMErrorCode.RTM_ERROR_CHANNEL_NOT_AVAILABLE:AQ=LinkStateChangeReasonDescription.STREAM_CHANNEL_NOT_AVAILABLE,iQ="STREAM_CHANNEL_NOT_AVAILABLE"}this.updateLinkState("FAILED","JOIN",iQ,AQ)}async _validCancelJoin(eQ){if(this.linkState==="IDLE"){const AQ=this.isReuseRtcClient&&FUSION;await(AQ?this.rtcClient.setRTMConfig({apRTM:!0,rtmFlag:0}):this.rtcClient.leave()),this.context.config.cloudProxy&&!AQ&&this.rtcClient.stopProxyServer();const{code:iQ,reason:oQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_CANCELED);throw new RtmUnavailableError(eQ,[oQ],iQ)}}_validateJoinOptions(eQ,AQ){const iQ=getParameter("STORAGE_CHANNEL_SUB_ENABLED"),oQ=(iQ!==void 0?String(iQ):this.getConsoleConfig()["storage.channel_subscribe_enabled"])==="true";if(eQ!=null&&eQ.withMetadata&&!oQ){const{code:sQ,reason:aQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_NOT_AVAILABLE);throw new RtmUnavailableError(AQ,[aQ],sQ)}const rQ=getParameter("LOCK_ENABLED"),nQ=(rQ!==void 0?String(rQ):this.getConsoleConfig()["lock.enabled"])==="true";if(eQ!=null&&eQ.withLock&&!nQ){const{code:sQ,reason:aQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_NOT_AVAILABLE);throw new RtmUnavailableError(AQ,[aQ],sQ)}}}var _class$5;let StreamChannel=(_class$5=class extends EventBase{constructor(tQ,eQ,AQ,iQ,oQ,rQ,nQ,sQ,aQ,cQ){super(eQ,"StreamChannel",!0),_defineProperty$1(this,"streamChannelImpl",void 0),this.streamChannelImpl=new StreamChannelImpl(tQ,eQ,AQ,iQ,oQ,rQ,nQ,sQ,aQ,cQ)}get isJoinedChannel(){return this.streamChannelImpl.isJoinedChannel}get channelName(){return this.streamChannelImpl.channelName}get _streamChannelImpl(){return this.streamChannelImpl}get internalEmitter(){return this.streamChannelImpl.internalEmitter}async join(tQ){return this.streamChannelImpl.join(tQ)}async renewStreamChannelToken(tQ){return this.streamChannelImpl.renewStreamChannelToken(tQ)}async leave(){return this.streamChannelImpl.leave()}async joinTopic(tQ,eQ){return this.streamChannelImpl.joinTopic(tQ,eQ)}async publishTopicMessage(tQ,eQ,AQ){return this.streamChannelImpl.publishTopicMessage(tQ,eQ,AQ)}async leaveTopic(tQ){return this.streamChannelImpl.leaveTopic(tQ)}async subscribeTopic(tQ,eQ){return this.streamChannelImpl.subscribeTopic(tQ,eQ)}async unsubscribeTopic(tQ,eQ){return this.streamChannelImpl.unsubscribeTopic(tQ,eQ)}getSubscribedUserList(tQ){return this.streamChannelImpl.getSubscribedUserList(tQ)}},_applyDecoratedDescriptor(_class$5.prototype,"join",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$5.prototype,"join"),_class$5.prototype),_applyDecoratedDescriptor(_class$5.prototype,"leave",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$5.prototype,"leave"),_class$5.prototype),_applyDecoratedDescriptor(_class$5.prototype,"joinTopic",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$5.prototype,"joinTopic"),_class$5.prototype),_applyDecoratedDescriptor(_class$5.prototype,"publishTopicMessage",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$5.prototype,"publishTopicMessage"),_class$5.prototype),_applyDecoratedDescriptor(_class$5.prototype,"leaveTopic",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$5.prototype,"leaveTopic"),_class$5.prototype),_applyDecoratedDescriptor(_class$5.prototype,"subscribeTopic",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$5.prototype,"subscribeTopic"),_class$5.prototype),_applyDecoratedDescriptor(_class$5.prototype,"unsubscribeTopic",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$5.prototype,"unsubscribeTopic"),_class$5.prototype),_applyDecoratedDescriptor(_class$5.prototype,"getSubscribedUserList",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$5.prototype,"getSubscribedUserList"),_class$5.prototype),_class$5);class Context extends EventBase{get couldUploadLog(){return this._couldUploadLog}get couldReportEvent(){return this._couldReportEvent}constructor(eQ,AQ,iQ,oQ,rQ,nQ){var sQ,aQ,cQ,gQ;super(oQ,"Context"),_defineProperty$1(this,"_token",void 0),_defineProperty$1(this,"config",void 0),_defineProperty$1(this,"_uid",void 0),_defineProperty$1(this,"_sid",""),_defineProperty$1(this,"_vid",void 0),_defineProperty$1(this,"_startTime",void 0),_defineProperty$1(this,"_area","CN"),_defineProperty$1(this,"_socketUseProxy",!1),_defineProperty$1(this,"appId",void 0),_defineProperty$1(this,"cloudProxy",!1),_defineProperty$1(this,"enablePrivate",!1),_defineProperty$1(this,"hasLoggedIn",!1),_defineProperty$1(this,"cloudProxyServers",[]),_defineProperty$1(this,"encryptionInfo",{key:"",iv:"",keyLength:0,initEncryption:!1}),_defineProperty$1(this,"rtmConfig",void 0),_defineProperty$1(this,"userMetadataSub",new Set),_defineProperty$1(this,"_pongTime",new Date().getTime()),_defineProperty$1(this,"_offsetTime",0),_defineProperty$1(this,"_heartbeatInterval",CONFIGURABLE_KEY_RTM_HEARTBEAT_INTERVAL),_defineProperty$1(this,"_syncConnecting",!1),_defineProperty$1(this,"_connSyncEnv",void 0),_defineProperty$1(this,"linkIntervals",[...LINK_INTERVALS]),_defineProperty$1(this,"instanceId",null),_defineProperty$1(this,"_useAp4Ipv6Reg",!1),_defineProperty$1(this,"_operationControl",void 0),_defineProperty$1(this,"_couldUploadLog",!1),_defineProperty$1(this,"_couldReportEvent",!1),this.appId=eQ,this.uid=AQ,this.config=iQ,this.rtmConfig=rQ,nQ&&(this.encryptionInfo=nQ),this.heartbeatInterval=rQ.heartbeatInterval?1e3*rQ.heartbeatInterval:void 0;const IQ=new OperationControl;this._operationControl=IQ,this.rtmConfig.privateConfig&&(this.enablePrivate=!0),(!this.rtmConfig.privateConfig||((sQ=(aQ=this.rtmConfig.privateConfig.logUploadHosts)===null||aQ===void 0?void 0:aQ.length)!==null&&sQ!==void 0?sQ:0)>0)&&(this._couldUploadLog=!0),(!this.rtmConfig.privateConfig||((cQ=(gQ=this.rtmConfig.privateConfig.eventUploadHosts)===null||gQ===void 0?void 0:gQ.length)!==null&&cQ!==void 0?cQ:0)>0)&&(this._couldReportEvent=!0)}set pongTime(eQ){this._pongTime=eQ}get pongTime(){return this._pongTime}set offsetTime(eQ){this._offsetTime=eQ}get offsetTime(){return this._offsetTime}set heartbeatInterval(eQ){this._heartbeatInterval=typeof eQ=="number"&&eQ?eQ<MIN_HEARTBEAT_INTERVAL?MIN_HEARTBEAT_INTERVAL:eQ>MAX_HEARTBEAT_INTERVAL?MAX_HEARTBEAT_INTERVAL:eQ:CONFIGURABLE_KEY_RTM_HEARTBEAT_INTERVAL}get heartbeatInterval(){var eQ,AQ;return(eQ=(AQ=getParameter("HEART_BEAT"))!==null&&AQ!==void 0?AQ:this._heartbeatInterval)!==null&&eQ!==void 0?eQ:CONFIGURABLE_KEY_RTM_HEARTBEAT_INTERVAL}set connSyncEnv(eQ){this._connSyncEnv=eQ}get connSyncEnv(){return this._connSyncEnv}set syncConnecting(eQ){this._syncConnecting=eQ}get syncConnecting(){return this._syncConnecting}set socketUseProxy(eQ){this.log("socketUseProxy is set to %s",eQ),this._socketUseProxy=eQ}get socketUseProxy(){return this._socketUseProxy&&getParameter("ENABLE_EDGE_AUTO_FALLBACK")}set token(eQ){this._token=typeof eQ=="string"&&eQ?eQ:void 0}set uid(eQ){if(this.log("The user ID is set to %s",replaceRangeWithAsterisk(eQ)),!isValidId(eQ))throw new RtmInternalError;this._uid=eQ}get uid(){if(typeof this._uid=="string"&&this._uid)return this._uid;throw new RtmInternalError("Cannot get illegal uid")}set vid(eQ){if(typeof eQ!="string")throw new RtmInternalError;this._vid=eQ}get vid(){return typeof this._vid=="string"?this._vid:(this.warn("Cannot get illegal vid"),"")}get key(){if(typeof this._token=="string"&&this._token)return this._token;if(typeof this.appId=="string"&&this.appId)return this.appId;throw new RtmInternalError("Cannot get illegal key")}get sid(){if(typeof this._sid=="string"&&this._sid)return this._sid;throw new RtmInternalError("Cannot get illegal sid")}set sid(eQ){if(this.log("sid is set to %s",eQ),typeof eQ!="string"||!eQ)throw new RtmInternalError;this._sid=eQ}get startTime(){if(typeof this._startTime=="number"&&this._startTime)return this._startTime;throw new RtmInternalError("Cannot get illegal startTime")}set startTime(eQ){if(this.log("startTime is set to %s",eQ),typeof eQ!="number"||!eQ)throw new RtmInternalError;this._startTime=eQ}get rtmArea(){if(typeof this._area=="string"&&this._area)return this._area;throw new RtmInternalError("Cannot get illegal area")}set rtmArea(eQ){this.log("area is set to %s",eQ),typeof eQ=="string"&&eQ?this._area=eQ:this.warn("set area failed")}get useAp4Ipv6Reg(){return this._useAp4Ipv6Reg}set useAp4Ipv6Reg(eQ){this.log("useAp4Ipv6Reg is set to ",eQ),this._useAp4Ipv6Reg=eQ}get operationControl(){return this._operationControl}addReportEvents(eQ,AQ){var iQ,oQ;addReportEvents(this.appId,eQ,AQ,(iQ=this.config.cloudProxy)!==null&&iQ!==void 0&&iQ,(oQ=this.rtmConfig.privateConfig)===null||oQ===void 0?void 0:oQ.eventUploadHosts,this.couldReportEvent,this.vid)}sendReport(eQ,AQ){var iQ,oQ;sendReport(this.appId,eQ,AQ,(iQ=this.config.cloudProxy)!==null&&iQ!==void 0&&iQ,(oQ=this.rtmConfig.privateConfig)===null||oQ===void 0?void 0:oQ.eventUploadHosts,this.couldReportEvent)}}class PresenceImpl extends EventBase{constructor(eQ,AQ,iQ,oQ,rQ){super(eQ,"PresenceImpl",!0),_defineProperty$1(this,"context",void 0),_defineProperty$1(this,"getMainSession",void 0),_defineProperty$1(this,"getRtmLinkState",void 0),_defineProperty$1(this,"getLocalStateCache",void 0),_defineProperty$1(this,"apiRateLimit",new ApiRateLimiter),this.context=AQ,this.getMainSession=genGetMainSession(iQ),this.getRtmLinkState=oQ,this.getLocalStateCache=rQ}async whoNow(eQ,AQ,iQ){var oQ,rQ,nQ;const sQ=OperationName.whoNow;this.apiRateLimit.canMakeOperation("whoNow"),validateChannelType(sQ,AQ);const aQ=(iQ==null?void 0:iQ.includedUserId)!==!1,cQ=(iQ==null?void 0:iQ.includedState)===!0,gQ=(oQ=iQ==null?void 0:iQ.page)!==null&&oQ!==void 0?oQ:"";if(this.validateRtmConnection(sQ),this.validateName(eQ,"channelName",sQ),(iQ==null?void 0:iQ.includedUserId)===!1&&(iQ==null?void 0:iQ.includedState)===!0){const{code:dQ,reason:lQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_PRESENCE_INVALID_ARGUMENT);throw new RtmInvalidArgumentError(sQ,[lQ+"include uid is false but include state is true"],dQ)}const IQ=getChannelNameByType(eQ,AQ),EQ=(rQ=this.getMainSession())===null||rQ===void 0?void 0:rQ.getPresenceSession(),CQ=(nQ=this.getMainSession())===null||nQ===void 0?void 0:nQ.lastSubscribeOrJoinOptions.get(IQ);return CQ&&CQ.withPresence?await(EQ==null?void 0:EQ.requestWhoNow(IQ,aQ,cQ)):await(EQ==null?void 0:EQ.requestRPCWhoNow(IQ,gQ,aQ,cQ))}async getOnlineUsers(eQ,AQ,iQ){try{return await this.whoNow(eQ,AQ,iQ)}catch(oQ){throw oQ instanceof RTMBaseError&&(oQ.operation=OperationName.getOnlineUsers),oQ}}async whereNow(eQ){var AQ;const iQ=OperationName.whereNow;return this.apiRateLimit.canMakeOperation("whereNow"),this.validateRtmConnection(iQ),this.validateName(eQ,"userId",iQ),await((AQ=this.getMainSession())===null||AQ===void 0?void 0:AQ.getPresenceSession()).requestRpcWhereNow(eQ)}async getUserChannels(eQ){try{return await this.whereNow(eQ)}catch(AQ){throw AQ instanceof RTMBaseError&&(AQ.operation=OperationName.getUserChannels),AQ}}async setState(eQ,AQ,iQ){const oQ=OperationName.presenceSetState;this.apiRateLimit.canMakeOperation("modifyState"),validateChannelType(oQ,AQ),this.validateRtmConnection(oQ,!1),this.validateName(eQ,"channelName",oQ);const rQ=getChannelNameByType(eQ,AQ),nQ=Object.keys(iQ).length,{states:sQ}=await this.getState(this.context.uid,eQ,AQ,!0),aQ=new Set([...Object.keys(sQ),...Object.keys(iQ)]).size;if(nQ===0){const{code:IQ,reason:EQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_PRESENCE_INVALID_ARGUMENT);throw new RtmInvalidArgumentError(oQ,[EQ+"state of parameter is empty"],IQ)}if(nQ>MAX_STATE_COUNT||aQ>MAX_STATE_COUNT){const{code:IQ,reason:EQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_PRESENCE_STATE_COUNT_OVERFLOW);throw new RtmLimitExceededError(oQ,[EQ],IQ)}if(this.getLocalStateCache().size>K_PRESENCE_MAX_CHANNEL_COUNT){const{code:IQ,reason:EQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_PRESENCE_CACHED_TOO_MANY_STATES);throw new RtmLimitExceededError(oQ,[EQ],IQ)}if(validStateOfPresence(iQ,oQ),this.needOperationByCrdt(rQ)){var cQ;const IQ=(cQ=this.getMainSession())===null||cQ===void 0?void 0:cQ.getPresenceSession();this.log("".concat(oQ," by crdt")),IQ.requestSetState(rQ,iQ)}var gQ;return(this.needOperationByLocal()||this.beQuietInChannel(rQ)||this.notInChannel(rQ))&&this.log("reconnecting, quiet or not in channel, ".concat(oQ," by local cache. decouple: ").concat(getParameter("DECOUPLE_SYNC"),", syncConnected: ").concat((gQ=this.getMainSession())===null||gQ===void 0?void 0:gQ.getPresenceSession().getSyncConnected())),this._updatePresenceStateCache(rQ,oQ,iQ),{timestamp:0}}async getState(eQ,AQ,iQ){let oQ=arguments.length>3&&arguments[3]!==void 0&&arguments[3];const rQ=OperationName.presenceGetState;oQ||this.apiRateLimit.canMakeOperation("getState"),validateChannelType(rQ,iQ),this.validateRtmConnection(rQ,!1),this.context.uid!==eQ&&this.validateSyncConnection(rQ),this.validateName(AQ,"channelName",rQ),this.validateName(eQ,"userId",rQ);const nQ=getChannelNameByType(AQ,iQ),sQ={statesCount:0,states:{},userId:eQ,timestamp:0};if(this.notInChannel(nQ))if(eQ===this.context.uid)this.log("not in channel, get self state by local cache"),this.getLocalState(nQ,rQ,sQ);else{var aQ;this.log("user(".concat(replaceRangeWithAsterisk(eQ),") not in channel, ").concat(rQ," by rpc api."));const cQ=(aQ=this.getMainSession())===null||aQ===void 0?void 0:aQ.getPresenceSession(),gQ=await cQ.requestRpcGetState(nQ,eQ);sQ.states=gQ,sQ.statesCount=Object.keys(gQ).length}else if(this.getMainSession().lastSubscribeOrJoinOptions.has(nQ)){let cQ=!1;if(eQ!==this.context.uid?(this.log("in channel, get other state by crdt"),cQ=!0):this.needOperationByCrdt(nQ)&&(this.log("in channel, has doc, get self state by crdt"),cQ=!0),cQ){const gQ=this.getCrdtState(nQ,eQ,oQ);sQ.statesCount=Object.keys(gQ).length,sQ.states=gQ}else this.log("in channel, get self state by local cache"),this.getLocalState(nQ,rQ,sQ)}return sQ}getCrdtState(eQ,AQ,iQ){var oQ;return((oQ=this.getMainSession())===null||oQ===void 0?void 0:oQ.getPresenceSession()).requestGetState(eQ,AQ,iQ)}getLocalState(eQ,AQ,iQ){var oQ;const rQ={},nQ=this.getLocalStateCache().get(eQ);nQ==null||nQ.forEach((sQ,aQ)=>{rQ[aQ]=sQ}),this.log("quiet or not in channel, ".concat(AQ," by local cache. decouple: ").concat(getParameter("DECOUPLE_SYNC"),", syncConnected: ").concat((oQ=this.getMainSession())===null||oQ===void 0?void 0:oQ.getPresenceSession().getSyncConnected())),iQ.states=rQ,iQ.statesCount=Object.keys(rQ).length}async removeState(eQ,AQ,iQ){var oQ,rQ,nQ,sQ,aQ,cQ,gQ;const IQ=OperationName.presenceRemoveState;this.apiRateLimit.canMakeOperation("modifyState"),validateChannelType(IQ,AQ),this.validateRtmConnection(IQ,!1),this.validateName(eQ,"channelName",IQ);const EQ=!(iQ!=null&&(oQ=iQ.states)!==null&&oQ!==void 0&&oQ.length);if(!EQ&&iQ!=null&&(rQ=iQ.states)!==null&&rQ!==void 0&&rQ.length&&new Set(iQ.states).size!==((nQ=iQ.states)===null||nQ===void 0?void 0:nQ.length)){const{code:hQ,reason:BQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_PRESENCE_STATE_DUPLICATE_KEY);throw new RtmInvalidArgumentError(IQ,[BQ],hQ)}if(((sQ=iQ==null||(aQ=iQ.states)===null||aQ===void 0?void 0:aQ.length)!==null&&sQ!==void 0?sQ:0)>MAX_STATE_COUNT){const{code:hQ,reason:BQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_PRESENCE_STATE_COUNT_OVERFLOW);throw new RtmLimitExceededError(IQ,[BQ],hQ)}iQ==null||(cQ=iQ.states)===null||cQ===void 0||cQ.forEach(hQ=>{validStateKeyOfPresence(hQ,IQ)});const CQ=getChannelNameByType(eQ,AQ),dQ={};if(iQ==null||(gQ=iQ.states)===null||gQ===void 0||gQ.forEach(hQ=>{dQ[hQ]=""}),this.needOperationByCrdt(CQ)){var lQ;this.log("".concat(IQ," by crdt. isClear: ").concat(EQ)),((lQ=this.getMainSession())===null||lQ===void 0?void 0:lQ.getPresenceSession()).requestRemoveState(CQ,dQ,EQ)}var uQ;return(this.needOperationByLocal()||this.beQuietInChannel(CQ)||this.notInChannel(CQ))&&this.log("reconnecting, quiet or not in channel, ".concat(IQ," by local cache. decouple: ").concat(getParameter("DECOUPLE_SYNC"),", syncConnected: ").concat((uQ=this.getMainSession())===null||uQ===void 0?void 0:uQ.getPresenceSession().getSyncConnected())),this._updatePresenceStateCache(CQ,IQ,dQ),{timestamp:0}}notInChannel(eQ){var AQ;return!(!this._noMainSession()&&(AQ=this.getMainSession())!==null&&AQ!==void 0&&AQ.lastSubscribeOrJoinOptions.has(eQ))}beQuietInChannel(eQ){var AQ;return((AQ=this.getMainSession())===null||AQ===void 0||(AQ=AQ.lastSubscribeOrJoinOptions.get(eQ))===null||AQ===void 0?void 0:AQ.beQuiet)===!0}validateName(eQ,AQ,iQ){if(!isValidId(eQ)){const oQ=AQ==="channelName"?RTMErrorCode.RTM_ERROR_INVALID_CHANNEL_NAME:RTMErrorCode.RTM_ERROR_INVALID_USER_ID,{code:rQ,reason:nQ}=getErrorInfoByCode(oQ);throw new RtmInvalidArgumentError(iQ,[nQ],rQ)}}validateSyncConnection(eQ){var AQ;if(!((AQ=this.getMainSession())===null||AQ===void 0?void 0:AQ.getPresenceSession()).getSyncConnected()){this.log("The sync service is not connected, cannot do the operation(".concat(eQ,")"));const{code:iQ,reason:oQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_PRESENCE_NOT_CONNECTED);throw new RtmInvalidStatusError(eQ,[oQ],iQ)}}validateRtmConnection(eQ){var AQ;let iQ=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(this.context.enablePrivate&&((AQ=this.context.rtmConfig.privateConfig)===null||AQ===void 0||!AQ.serviceType.includes("MESSAGE"))){const{code:rQ,reason:nQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_SERVICE_NOT_SUPPORTED);throw new RtmUnavailableError(eQ,nQ,rQ)}const oQ=this.getRtmLinkState();if(oQ==="IDLE"){this.log("The client state is ".concat(oQ,", cannot do the operation(").concat(eQ,")"));const{code:rQ,reason:nQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(eQ,[nQ],rQ)}iQ&&this.validateSyncConnection(eQ)}needOperationByLocal(){var eQ;const AQ=this.getRtmLinkState();return AQ!=="IDLE"&&AQ!=="CONNECTED"||!((eQ=this.getMainSession())!==null&&eQ!==void 0&&eQ.getPresenceSession().getSyncConnected()||!getParameter("DECOUPLE_SYNC"))}needOperationByCrdt(eQ){return!!this.getMainSession().getPresenceSession().getSelfDoc(eQ,"needOperationByCrdt")}_updatePresenceStateCache(eQ,AQ,iQ){var oQ;const rQ=(oQ=this.getLocalStateCache().get(eQ))!==null&&oQ!==void 0?oQ:new Map;if(AQ===OperationName.presenceSetState)for(const nQ in iQ)rQ.set(nQ,iQ[nQ]);else if(AQ===OperationName.presenceRemoveState)if(Object.keys(iQ).length===0)rQ.clear();else for(const nQ in iQ)rQ.delete(nQ);this.getLocalStateCache().set(eQ,rQ)}_noMainSession(){try{this.getMainSession()}catch(eQ){const{errorCode:AQ}=eQ;if(AQ===RTMErrorCode.RTM_ERROR_NOT_LOGIN)return!0}return!1}}var _class$4;let Presence=(_class$4=class extends EventBase{constructor(tQ,eQ,AQ,iQ,oQ){super(tQ,"Presence",!0),_defineProperty$1(this,"presenceImpl",void 0),this.presenceImpl=new PresenceImpl(tQ,eQ,AQ,iQ,oQ)}async whoNow(tQ,eQ,AQ){return await this.presenceImpl.whoNow(tQ,eQ,AQ)}async getOnlineUsers(tQ,eQ,AQ){return await this.presenceImpl.getOnlineUsers(tQ,eQ,AQ)}async whereNow(tQ){return await this.presenceImpl.whereNow(tQ)}async getUserChannels(tQ){return await this.presenceImpl.getUserChannels(tQ)}async setState(tQ,eQ,AQ){return await this.presenceImpl.setState(tQ,eQ,AQ)}async getState(tQ,eQ,AQ){return await this.presenceImpl.getState(tQ,eQ,AQ)}async removeState(tQ,eQ,AQ){return await this.presenceImpl.removeState(tQ,eQ,AQ)}},_applyDecoratedDescriptor(_class$4.prototype,"whoNow",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$4.prototype,"whoNow"),_class$4.prototype),_applyDecoratedDescriptor(_class$4.prototype,"getOnlineUsers",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$4.prototype,"getOnlineUsers"),_class$4.prototype),_applyDecoratedDescriptor(_class$4.prototype,"whereNow",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$4.prototype,"whereNow"),_class$4.prototype),_applyDecoratedDescriptor(_class$4.prototype,"getUserChannels",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$4.prototype,"getUserChannels"),_class$4.prototype),_applyDecoratedDescriptor(_class$4.prototype,"setState",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$4.prototype,"setState"),_class$4.prototype),_applyDecoratedDescriptor(_class$4.prototype,"getState",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$4.prototype,"getState"),_class$4.prototype),_applyDecoratedDescriptor(_class$4.prototype,"removeState",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$4.prototype,"removeState"),_class$4.prototype),_class$4);class LockImpl extends EventBase{constructor(eQ,AQ,iQ,oQ,rQ,nQ,sQ){super(eQ,"LockImpl",!0),_defineProperty$1(this,"context",void 0),_defineProperty$1(this,"getMainSession",void 0),_defineProperty$1(this,"localAcquiredLocks",void 0),_defineProperty$1(this,"setOperationNoRes",new Set),_defineProperty$1(this,"removeOperationNoRes",new Set),_defineProperty$1(this,"acquireOperationNoRes",new Map),_defineProperty$1(this,"releaseOperationNoRes",new Set),_defineProperty$1(this,"revokeOperationNoRes",new Set),_defineProperty$1(this,"watchingLocks",new Set),_defineProperty$1(this,"getRtmLinkState",void 0),_defineProperty$1(this,"onLockWatching",aQ=>{const{prefixChannelName:cQ,lockName:gQ}=aQ;this.watchingLocks.add("".concat(cQ).concat(getPrefixLockName(gQ)))}),_defineProperty$1(this,"getConsoleConfig",void 0),_defineProperty$1(this,"validateRtmConnection",void 0),_defineProperty$1(this,"apiRateLimit",new ApiRateLimiter),this.context=AQ,this.getMainSession=genGetMainSession(iQ),this.getRtmLinkState=rQ,this.getConsoleConfig=oQ,this.validateRtmConnection=nQ,this.localAcquiredLocks=sQ}async setLock(eQ,AQ,iQ,oQ){const rQ=OperationName.setLock;this.apiRateLimit.canMakeOperation("setLock"),validateChannelType(rQ,AQ),this.validateRtmConnection(rQ),this.validateEnableLock(rQ);const nQ={timestamp:0,channelName:eQ,channelType:AQ,lockName:iQ};this.validateChannelAndLock(eQ,iQ,rQ),(oQ==null?void 0:oQ.ttl)!==void 0&&(oQ.ttl<getParameter("LOCK_TTL")?oQ.ttl=getParameter("LOCK_TTL"):oQ.ttl>MAX_LOCK_TTL&&(oQ.ttl=MAX_LOCK_TTL));const sQ=getChannelNameByType(eQ,AQ),aQ=getPrefixLockName(iQ);this.setOperationNoRes.has("".concat(sQ).concat(aQ))&&this.throwInvalidOperationError(rQ),this.setOperationNoRes.add("".concat(sQ).concat(aQ));try{var cQ;await this.getMainSession().getRegistrarSession().requestSetLock(sQ,iQ,{ttl:(cQ=oQ==null?void 0:oQ.ttl)!==null&&cQ!==void 0?cQ:getParameter("LOCK_TTL")}).toPromise()}catch(gQ){if(isRtmError(gQ)){if(this.logError(gQ),isNoLogged(gQ))throw gQ;if(isTimeout(gQ)){const{code:IQ,reason:EQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_TIMEOUT);throw new RtmUnavailableError(rQ,[EQ],IQ)}if(gQ.code!=null){const{code:IQ,reason:EQ}=getErrorInfoByCode(gQ.code);throw new RtmUnavailableError(rQ,[EQ],IQ)}this.warn("error code is undefined, ".concat(gQ))}else this.warn("not rtm error, ".concat(gQ))}finally{this.setOperationNoRes.delete("".concat(sQ).concat(aQ))}return nQ}async removeLock(eQ,AQ,iQ){const oQ=OperationName.removeLock;this.apiRateLimit.canMakeOperation("removeLock"),validateChannelType(oQ,AQ),this.validateRtmConnection(oQ),this.validateEnableLock(oQ);const rQ={timestamp:0,channelName:eQ,channelType:AQ,lockName:iQ};this.validateChannelAndLock(eQ,iQ,oQ);const nQ=getChannelNameByType(eQ,AQ),sQ=getPrefixLockName(iQ);this.removeOperationNoRes.has("".concat(nQ).concat(sQ))&&this.throwInvalidOperationError(oQ),this.removeOperationNoRes.add("".concat(nQ).concat(sQ));try{await this.getMainSession().getRegistrarSession().requestRemoveLock(nQ,iQ).toPromise()}catch(aQ){if(isRtmError(aQ)){if(this.logError(aQ),isNoLogged(aQ))throw aQ;if(isTimeout(aQ)){const{code:cQ,reason:gQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_TIMEOUT);throw new RtmUnavailableError(oQ,[gQ],cQ)}if(aQ.code!=null){const{code:cQ,reason:gQ}=getErrorInfoByCode(aQ.code);throw new RtmUnavailableError(oQ,[gQ],cQ)}this.warn("error code is undefined, ".concat(aQ))}else this.warn("not rtm error, ".concat(aQ))}finally{this.removeOperationNoRes.delete("".concat(nQ).concat(sQ))}return rQ}async acquireLock(eQ,AQ,iQ,oQ){var rQ,nQ;const sQ=OperationName.acquireLock;this.apiRateLimit.canMakeOperation("acquireLock"),validateChannelType(sQ,AQ),this.validateRtmConnection(sQ),this.validateEnableLock(sQ),this.validateChannelAndLock(eQ,iQ,sQ);const aQ=getChannelNameByType(eQ,AQ),cQ=getPrefixLockName(iQ);if(!((rQ=this.localAcquiredLocks.get(aQ))===null||rQ===void 0)&&rQ.get(iQ)){const{code:CQ,reason:dQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_PERFORMING);throw new RtmUnavailableError(sQ,[dQ],CQ)}let gQ,IQ;this.acquireOperationNoRes.has("".concat(aQ).concat(cQ))&&this.throwInvalidOperationError(sQ),this.acquireOperationNoRes.set("".concat(aQ).concat(cQ),(nQ=oQ==null?void 0:oQ.retry)!==null&&nQ!==void 0&&nQ);const EQ=new Promise((CQ,dQ)=>{gQ=dQ,IQ=CQ});try{await this.getMainSession().getRegistrarSession().requestAcquireLock(aQ,iQ,{retry:oQ==null?void 0:oQ.retry,checkTimeout:this.getRtmLinkState()!=="CONNECTED",reject:gQ,resolve:IQ}).toPromise(),IQ({lockName:iQ,channelName:eQ,channelType:AQ,timestamp:0})}catch(CQ){if(this.logError(CQ),isRtmError(CQ))throw CQ;this.warn("acquireLock not match rtm error, ".concat(CQ))}finally{this.clearLockCacheForAcquire(aQ,cQ,oQ==null?void 0:oQ.retry)}return EQ}clearLockCacheForAcquire(eQ,AQ,iQ){this.acquireOperationNoRes.delete("".concat(eQ).concat(AQ)),iQ&&this.watchingLocks.delete("".concat(eQ).concat(AQ))}async releaseLock(eQ,AQ,iQ){var oQ;const rQ=OperationName.releaseLock;this.apiRateLimit.canMakeOperation("releaseLock"),validateChannelType(rQ,AQ),this.validateRtmConnection(rQ),this.validateEnableLock(rQ);const nQ={timestamp:0,channelName:eQ,channelType:AQ,lockName:iQ};this.validateChannelAndLock(eQ,iQ,rQ);const sQ=getChannelNameByType(eQ,AQ),aQ=getPrefixLockName(iQ);if(!(this.watchingLocks.has("".concat(sQ).concat(aQ))||(oQ=this.localAcquiredLocks.get(sQ))!==null&&oQ!==void 0&&oQ.get(iQ))){const{code:cQ,reason:gQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_NOT_ACQUIRED);throw new RtmUnavailableError(rQ,[gQ],cQ)}this.releaseOperationNoRes.has("".concat(sQ).concat(aQ))&&this.throwInvalidOperationError(rQ),this.releaseOperationNoRes.add("".concat(sQ).concat(aQ));try{await this.getMainSession().getRegistrarSession().requestReleaseLock(sQ,iQ).toPromise()}catch(cQ){if(isRtmError(cQ)){if(this.logError(cQ),isNoLogged(cQ))throw cQ;if(isTimeout(cQ)){const{code:gQ,reason:IQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_TIMEOUT);throw new RtmUnavailableError(rQ,[IQ],gQ)}if(cQ.code!=null){const{code:gQ,reason:IQ}=getErrorInfoByCode(cQ.code);throw new RtmUnavailableError(rQ,[IQ],gQ)}this.warn("error code is undefined, ".concat(cQ))}else this.warn("not rtm error, ".concat(cQ))}finally{this.releaseOperationNoRes.delete("".concat(sQ).concat(aQ))}return nQ}async revokeLock(eQ,AQ,iQ,oQ){const rQ=OperationName.revokeLock;this.apiRateLimit.canMakeOperation("revokeLock"),validateChannelType(rQ,AQ),this.validateRtmConnection(rQ),this.validateEnableLock(rQ);const nQ={timestamp:0,channelName:eQ,channelType:AQ,lockName:iQ};this.validateChannelAndLock(eQ,iQ,rQ),this.validateName(oQ,"owner",rQ);const sQ=getChannelNameByType(eQ,AQ),aQ=getPrefixLockName(iQ);this.revokeOperationNoRes.has("".concat(sQ).concat(aQ))&&this.throwInvalidOperationError(rQ),this.revokeOperationNoRes.add("".concat(sQ).concat(aQ));try{await this.getMainSession().getRegistrarSession().requestDisableLock(sQ,iQ,oQ).toPromise()}catch(cQ){if(isRtmError(cQ)){if(this.logError(cQ),isNoLogged(cQ))throw cQ;if(isTimeout(cQ)){const{code:gQ,reason:IQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_TIMEOUT);throw new RtmUnavailableError(rQ,[IQ],gQ)}if(cQ.code!=null){const{code:gQ,reason:IQ}=getErrorInfoByCode(cQ.code);throw new RtmUnavailableError(rQ,[IQ],gQ)}this.warn("error code is undefined, ".concat(cQ))}else this.warn("not rtm error, ".concat(cQ))}finally{this.revokeOperationNoRes.delete("".concat(sQ).concat(aQ))}return nQ}async getLock(eQ,AQ){const iQ=OperationName.getLock;this.apiRateLimit.canMakeOperation("getLock"),validateChannelType(iQ,AQ),this.validateRtmConnection(iQ),this.validateEnableLock(iQ);const oQ={timestamp:0,totalLocks:0,lockDetails:[],channelName:eQ,channelType:AQ};this.validateName(eQ,"channelName",iQ);const rQ=getChannelNameByType(eQ,AQ);try{const nQ=this.getMainSession().getRegistrarSession().requestGetLock(rQ),sQ=await nQ.toPromise();oQ.totalLocks=sQ.length,oQ.lockDetails=sQ.map(aQ=>{var cQ,gQ,IQ,EQ;let CQ=null;try{aQ!=null&&aQ.lockState&&(CQ=JSON.parse(aQ.lockState))}catch(dQ){this.warn("parse lockState error, ".concat(dQ))}return{lockName:(cQ=aQ.lockName)!==null&&cQ!==void 0?cQ:"",ttl:(gQ=CQ)===null||gQ===void 0?void 0:gQ.create_ttl,owner:(IQ=(EQ=CQ)===null||EQ===void 0?void 0:EQ.user)!==null&&IQ!==void 0?IQ:""}})}catch(nQ){if(isRtmError(nQ)){if(this.logError(nQ),isNoLogged(nQ))throw nQ;if(isTimeout(nQ)){const{code:sQ,reason:aQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_TIMEOUT);throw new RtmUnavailableError(iQ,[aQ],sQ)}if(nQ.code!=null){const{code:sQ,reason:aQ}=getErrorInfoByCode(nQ.code);throw new RtmUnavailableError(iQ,[aQ],sQ)}this.warn("error code is undefined, ".concat(nQ))}else this.warn("not rtm error, ".concat(nQ))}return oQ}validateName(eQ,AQ,iQ){if(!isValidId(eQ)){const oQ=AQ==="lockName"?RTMErrorCode.RTM_ERROR_LOCK_INVALID_NAME:AQ==="channelName"?RTMErrorCode.RTM_ERROR_INVALID_CHANNEL_NAME:RTMErrorCode.RTM_ERROR_INVALID_USER_ID,{code:rQ,reason:nQ}=getErrorInfoByCode(oQ);throw new RtmInvalidArgumentError(iQ,[nQ],rQ)}}validateChannelAndLock(eQ,AQ,iQ){if(this.validateName(eQ,"channelName",iQ),this.validateName(AQ,"lockName",iQ),!isValidId(AQ)||(AQ==null?void 0:AQ.length)>64){const{code:oQ,reason:rQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_INVALID_NAME);throw new RtmInvalidArgumentError(iQ,[rQ],oQ)}}throwInvalidOperationError(eQ){const{code:AQ,reason:iQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_PERFORMING);throw new RtmUnavailableError(eQ,[iQ],AQ)}validateEnableLock(eQ){const AQ=getParameter("LOCK_ENABLED");if((AQ!==void 0?String(AQ):this.getConsoleConfig()["lock.enabled"])!=="true"){const{code:iQ,reason:oQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_NOT_AVAILABLE);throw new RtmUnavailableError(eQ,[oQ],iQ)}}}var _class$3;let Lock=(_class$3=class extends EventBase{constructor(tQ,eQ,AQ,iQ,oQ,rQ,nQ){super(tQ,"Lock",!0),_defineProperty$1(this,"lockImpl",void 0),this.lockImpl=new LockImpl(tQ,eQ,AQ,iQ,oQ,rQ,nQ)}async setLock(tQ,eQ,AQ,iQ){return await this.lockImpl.setLock(tQ,eQ,AQ,iQ)}async removeLock(tQ,eQ,AQ){return await this.lockImpl.removeLock(tQ,eQ,AQ)}async acquireLock(tQ,eQ,AQ,iQ){return await this.lockImpl.acquireLock(tQ,eQ,AQ,iQ)}async releaseLock(tQ,eQ,AQ){return await this.lockImpl.releaseLock(tQ,eQ,AQ)}async revokeLock(tQ,eQ,AQ,iQ){return await this.lockImpl.revokeLock(tQ,eQ,AQ,iQ)}async getLock(tQ,eQ){return await this.lockImpl.getLock(tQ,eQ)}},_applyDecoratedDescriptor(_class$3.prototype,"setLock",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$3.prototype,"setLock"),_class$3.prototype),_applyDecoratedDescriptor(_class$3.prototype,"removeLock",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$3.prototype,"removeLock"),_class$3.prototype),_applyDecoratedDescriptor(_class$3.prototype,"acquireLock",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$3.prototype,"acquireLock"),_class$3.prototype),_applyDecoratedDescriptor(_class$3.prototype,"releaseLock",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$3.prototype,"releaseLock"),_class$3.prototype),_applyDecoratedDescriptor(_class$3.prototype,"revokeLock",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$3.prototype,"revokeLock"),_class$3.prototype),_applyDecoratedDescriptor(_class$3.prototype,"getLock",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$3.prototype,"getLock"),_class$3.prototype),_class$3);class StorageImpl extends EventBase{constructor(eQ,AQ,iQ,oQ,rQ,nQ){super(eQ,"StorageImpl",!0),_defineProperty$1(this,"context",void 0),_defineProperty$1(this,"getMainSession",void 0),_defineProperty$1(this,"localAcquiredLocks",void 0),_defineProperty$1(this,"getConsoleConfig",void 0),_defineProperty$1(this,"validateRtmConnection",void 0),_defineProperty$1(this,"apiRateLimit",new ApiRateLimiter),this.context=AQ,this.getMainSession=genGetMainSession(iQ),this.getConsoleConfig=oQ,this.validateRtmConnection=rQ,this.localAcquiredLocks=nQ}async setChannelMetadata(eQ,AQ,iQ,oQ){var rQ;const nQ=OperationName.setChannelMetadata;this.apiRateLimit.canMakeOperation("channelMetaModify"),validateChannelType(nQ,AQ),this.validateRtmConnection(nQ),this.validateEnableStorage(nQ);const sQ={totalCount:0,timestamp:0,channelName:eQ,channelType:AQ};this.validateSessionExist(nQ);const aQ=getChannelNameByType(eQ,AQ);let cQ;if(isValidId(eQ)||this.throwInvalidArgumentError("channelName",nQ),oQ!=null&&oQ.lockName){var gQ,IQ;(!isValidId(oQ.lockName)||(oQ==null||(gQ=oQ.lockName)===null||gQ===void 0?void 0:gQ.length)>64)&&this.throwInvalidArgumentError("lockName",nQ);const lQ=(IQ=this.localAcquiredLocks.get(aQ))===null||IQ===void 0?void 0:IQ.get(oQ.lockName);lQ!=null&&lQ.revision||this.throwNotAcquiredError(oQ==null?void 0:oQ.lockName,eQ,nQ),cQ=lQ==null?void 0:lQ.revision}const EQ=new Map;iQ.forEach(lQ=>{var uQ;const hQ=new MetadataItem;hQ.setKey(lQ.key),hQ.setRevision((uQ=lQ.revision)!==null&&uQ!==void 0?uQ:-1),hQ.setValue(lQ.value),EQ.set(lQ.key,hQ)});const CQ=[];EQ.forEach(lQ=>{CQ.push(lQ)});const dQ=(rQ=oQ==null?void 0:oQ.majorRevision)!==null&&rQ!==void 0?rQ:-1;validMetaDataItem(nQ,{items:CQ,maxMetaDataCount:MAX_METADATA_COUNT,maxMetaValueSize:RTM_METADATA_VALUE_MAX_LENGTH,majorRevision:dQ,type:"Set"});try{await this.getMainSession().getRegistrarSession().requestSetChannelMetadata(CQ,{majorRevision:dQ,enableRecordTs:oQ==null?void 0:oQ.addTimeStamp,enableRecordUserId:oQ==null?void 0:oQ.addUserId},aQ,oQ==null?void 0:oQ.lockName,cQ).toPromise()}catch(lQ){if(isRtmError(lQ)){if(this.logError(lQ),isNoLogged(lQ))throw lQ;if(isTimeout(lQ)){const{code:uQ,reason:hQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT);throw new RtmUnavailableError(nQ,[hQ],uQ)}if(lQ.code!=null){const{code:uQ,reason:hQ}=getErrorInfoByCode(lQ.code);throw new RtmUnavailableError(nQ,[hQ],uQ)}this.warn("error code is undefined, ".concat(lQ))}else this.warn("not rtm error, ".concat(lQ))}return sQ}async getChannelMetadata(eQ,AQ){const iQ=OperationName.getChannelMetadata;this.apiRateLimit.canMakeOperation("channelMetaGet"),validateChannelType(iQ,AQ),this.validateRtmConnection(iQ),this.validateEnableStorage(iQ);const oQ={totalCount:0,majorRevision:0,metadata:{},timestamp:0,channelName:eQ,channelType:AQ};this.validateSessionExist(iQ),isValidId(eQ)||this.throwInvalidArgumentError("channelName",iQ);try{const rQ=this.getMainSession().getRegistrarSession().requestGetChannelMetadata(getChannelNameByType(eQ,AQ)),nQ=await rQ.pipe(map$1(sQ=>covertStateStringToMetaData(sQ))).toPromise();oQ.majorRevision=nQ.majorRevision,oQ.totalCount=nQ.items.length,nQ.items.forEach(sQ=>{var aQ;oQ.metadata[sQ.getKey()]={value:(aQ=sQ.getValue())!==null&&aQ!==void 0?aQ:"",revision:sQ.getRevision(),updated:sQ.getUpdateTs(),authorUid:sQ.getAuthorUserId()}})}catch(rQ){if(isRtmError(rQ)){if(this.logError(rQ),isNoLogged(rQ))throw rQ;if(isTimeout(rQ)){const{code:nQ,reason:sQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT);throw new RtmUnavailableError(iQ,[sQ],nQ)}if(rQ.code!=null){const{code:nQ,reason:sQ}=getErrorInfoByCode(rQ.code);throw new RtmUnavailableError(iQ,[sQ],nQ)}this.warn("error code is undefined, ".concat(rQ))}else this.warn("not rtm error, ".concat(rQ))}return oQ}async removeChannelMetadata(eQ,AQ,iQ){const oQ=OperationName.removeChannelMetadata;this.apiRateLimit.canMakeOperation("channelMetaModify"),validateChannelType(oQ,AQ),this.validateRtmConnection(oQ),this.validateEnableStorage(oQ);const rQ={totalCount:0,timestamp:0,channelName:eQ,channelType:AQ},nQ=getChannelNameByType(eQ,AQ);this.validateSessionExist(oQ),isValidId(eQ)||this.throwInvalidArgumentError("channelName",oQ);const sQ=iQ==null?void 0:iQ.data,aQ=!sQ||sQ.length===0,cQ=new Map;sQ==null||sQ.forEach(BQ=>{var QQ,fQ;if(new Blob([(QQ=BQ.value)!==null&&QQ!==void 0?QQ:""]).size>RTM_METADATA_VALUE_MAX_LENGTH){const{code:RQ,reason:wQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_VALUE_LENGTH_OVERFLOW);throw new RtmLimitExceededError(oQ,[wQ],RQ)}const _Q=new MetadataItem;_Q.setKey(BQ.key),_Q.setRevision((fQ=BQ.revision)!==null&&fQ!==void 0?fQ:-1),cQ.set(BQ.key,_Q)});const gQ=[];var IQ;cQ.forEach(BQ=>{gQ.push(BQ)}),aQ?iQ!=null&&iQ.majorRevision&&validMetaDataMajorRevisionForRemove(oQ,iQ.majorRevision):validMetaDataItem(oQ,{items:gQ,maxMetaDataCount:MAX_METADATA_COUNT,maxMetaValueSize:RTM_METADATA_VALUE_MAX_LENGTH,majorRevision:(IQ=iQ==null?void 0:iQ.majorRevision)!==null&&IQ!==void 0?IQ:-1,type:"Delete"});let EQ;if(iQ!=null&&iQ.lockName){var CQ,dQ,lQ;(!isValidId(iQ.lockName)||(iQ==null||(CQ=iQ.lockName)===null||CQ===void 0?void 0:CQ.length)>64)&&this.throwInvalidArgumentError("lockName",oQ);const BQ=(dQ=this.localAcquiredLocks.get(nQ))===null||dQ===void 0?void 0:dQ.get(iQ.lockName);BQ!=null&&BQ.revision||this.throwNotAcquiredError(iQ==null?void 0:iQ.lockName,eQ,oQ),EQ=(lQ=BQ==null?void 0:BQ.revision)!==null&&lQ!==void 0?lQ:void 0}try{var uQ,hQ;await(aQ?this.getMainSession().getRegistrarSession().requestClearChannelMetadata({majorRevision:(uQ=iQ==null?void 0:iQ.majorRevision)!==null&&uQ!==void 0?uQ:-1,enableRecordTs:iQ==null?void 0:iQ.addTimeStamp,enableRecordUserId:iQ==null?void 0:iQ.addUserId},nQ,iQ==null?void 0:iQ.lockName,EQ).toPromise():this.getMainSession().getRegistrarSession().requestDeleteChannelMetadata(gQ,{majorRevision:(hQ=iQ==null?void 0:iQ.majorRevision)!==null&&hQ!==void 0?hQ:-1,enableRecordTs:iQ==null?void 0:iQ.addTimeStamp,enableRecordUserId:iQ==null?void 0:iQ.addUserId},nQ,iQ==null?void 0:iQ.lockName,EQ).toPromise())}catch(BQ){if(isRtmError(BQ)){if(this.logError(BQ),isNoLogged(BQ))throw BQ;if(isTimeout(BQ)){const{code:QQ,reason:fQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT);throw new RtmUnavailableError(oQ,[fQ],QQ)}if(BQ.code!=null){const{code:QQ,reason:fQ}=getErrorInfoByCode(BQ.code);throw new RtmUnavailableError(oQ,[fQ],QQ)}this.warn("error code is undefined, ".concat(BQ))}else this.warn("not rtm error, ".concat(BQ))}return rQ}async updateChannelMetadata(eQ,AQ,iQ,oQ){var rQ;const nQ=OperationName.updateChannelMetadata;this.apiRateLimit.canMakeOperation("channelMetaModify"),validateChannelType(nQ,AQ),this.validateRtmConnection(nQ),this.validateEnableStorage(nQ);const sQ={timestamp:0,totalCount:0,channelName:eQ,channelType:AQ},aQ=getChannelNameByType(eQ,AQ);this.validateSessionExist(nQ),isValidId(eQ)||this.throwInvalidArgumentError("channelName",nQ);const cQ=new Map;iQ.forEach(uQ=>{var hQ;const BQ=new MetadataItem;BQ.setKey(uQ.key),BQ.setRevision((hQ=uQ.revision)!==null&&hQ!==void 0?hQ:-1),BQ.setValue(uQ.value),cQ.set(uQ.key,BQ)});const gQ=[];let IQ;if(cQ.forEach(uQ=>{gQ.push(uQ)}),validMetaDataItem(nQ,{items:gQ,maxMetaDataCount:MAX_METADATA_COUNT,maxMetaValueSize:RTM_METADATA_VALUE_MAX_LENGTH,majorRevision:(rQ=oQ==null?void 0:oQ.majorRevision)!==null&&rQ!==void 0?rQ:-1,type:"Update"}),oQ!=null&&oQ.lockName){var EQ,CQ,dQ;(!isValidId(oQ.lockName)||(oQ==null||(EQ=oQ.lockName)===null||EQ===void 0?void 0:EQ.length)>64)&&this.throwInvalidArgumentError("lockName",nQ);const uQ=(CQ=this.localAcquiredLocks.get(aQ))===null||CQ===void 0?void 0:CQ.get(oQ.lockName);uQ!=null&&uQ.revision||this.throwNotAcquiredError(oQ==null?void 0:oQ.lockName,eQ,nQ),IQ=(dQ=uQ==null?void 0:uQ.revision)!==null&&dQ!==void 0?dQ:void 0}try{var lQ;await this.getMainSession().getRegistrarSession().requestUpdateChannelMetadata(gQ,{majorRevision:(lQ=oQ==null?void 0:oQ.majorRevision)!==null&&lQ!==void 0?lQ:-1,enableRecordTs:oQ==null?void 0:oQ.addTimeStamp,enableRecordUserId:oQ==null?void 0:oQ.addUserId},aQ,oQ==null?void 0:oQ.lockName,IQ).toPromise()}catch(uQ){if(isRtmError(uQ)){if(this.logError(uQ),isNoLogged(uQ))throw uQ;if(isTimeout(uQ)){const{code:hQ,reason:BQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT);throw new RtmUnavailableError(nQ,[BQ],hQ)}if(uQ.code!=null){const{code:hQ,reason:BQ}=getErrorInfoByCode(uQ.code);throw new RtmUnavailableError(nQ,[BQ],hQ)}this.warn("error code is undefined, ".concat(uQ))}else this.warn("not rtm error, ".concat(uQ))}return sQ}async setUserMetadata(eQ,AQ){var iQ;const oQ=OperationName.setUserMetadata;this.apiRateLimit.canMakeOperation("userMetaModify"),this.validateRtmConnection(oQ),this.validateEnableStorage(oQ);const rQ=AQ==null?void 0:AQ.userId,nQ={timestamp:0,totalCount:0,userId:rQ||this.context.uid};this.validateSessionExist(oQ),rQ&&!isValidId(rQ)&&this.throwInvalidArgumentError("userId",oQ);const sQ=new Map;eQ.forEach(gQ=>{var IQ;const EQ=new MetadataItem;EQ.setKey(gQ.key),EQ.setRevision((IQ=gQ.revision)!==null&&IQ!==void 0?IQ:-1),EQ.setValue(gQ.value),sQ.set(gQ.key,EQ)});const aQ=[];sQ.forEach(gQ=>{aQ.push(gQ)});const cQ=(iQ=AQ==null?void 0:AQ.majorRevision)!==null&&iQ!==void 0?iQ:-1;validMetaDataItem(oQ,{items:aQ,maxMetaDataCount:MAX_METADATA_COUNT,maxMetaValueSize:RTM_METADATA_VALUE_MAX_LENGTH,majorRevision:cQ,type:"Set"});try{await this.getMainSession().getRegistrarSession().requestSetLocalMetadata(aQ,{majorRevision:cQ,enableRecordTs:AQ==null?void 0:AQ.addTimeStamp,enableRecordUserId:AQ==null?void 0:AQ.addUserId},rQ).toPromise()}catch(gQ){if(isRtmError(gQ)){if(this.logError(gQ),isNoLogged(gQ))throw gQ;if(isTimeout(gQ)){const{code:IQ,reason:EQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT);throw new RtmUnavailableError(oQ,[EQ],IQ)}if(gQ.code!=null){const{code:IQ,reason:EQ}=getErrorInfoByCode(gQ.code);throw new RtmUnavailableError(oQ,[EQ],IQ)}this.warn("error code is undefined, ".concat(gQ))}else this.warn("not rtm error, ".concat(gQ))}return nQ}async getUserMetadata(eQ){const AQ=OperationName.getUserMetadata;this.apiRateLimit.canMakeOperation("userMetaGet"),this.validateRtmConnection(AQ),this.validateEnableStorage(AQ);const iQ=eQ==null?void 0:eQ.userId,oQ={timestamp:0,totalCount:0,majorRevision:0,metadata:{},userId:iQ||this.context.uid};this.validateSessionExist(AQ),iQ&&!isValidId(iQ)&&this.throwInvalidArgumentError("userId",AQ);try{const rQ=covertStateStringToMetaData(await this.getMainSession().getRegistrarSession().requestGetLocalMetaData(iQ||this.context.uid).toPromise());oQ.totalCount=rQ.items.length,oQ.majorRevision=rQ.majorRevision,rQ.items.forEach(nQ=>{var sQ;oQ.metadata[nQ.getKey()]={value:(sQ=nQ.getValue())!==null&&sQ!==void 0?sQ:"",revision:nQ.getRevision(),updated:nQ.getUpdateTs(),authorUid:nQ.getAuthorUserId()}})}catch(rQ){if(isRtmError(rQ)){if(this.logError(rQ),isNoLogged(rQ))throw rQ;if(isTimeout(rQ)){const{code:nQ,reason:sQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT);throw new RtmUnavailableError(AQ,[sQ],nQ)}if(rQ.code!=null){const{code:nQ,reason:sQ}=getErrorInfoByCode(rQ.code);throw new RtmUnavailableError(AQ,[sQ],nQ)}this.warn("error code is undefined, ".concat(rQ))}else this.warn("not rtm error, ".concat(rQ))}return oQ}async removeUserMetadata(eQ){const AQ=OperationName.removeUserMetadata;this.apiRateLimit.canMakeOperation("userMetaModify"),this.validateRtmConnection(AQ),this.validateEnableStorage(AQ);const iQ=eQ==null?void 0:eQ.userId,oQ={timestamp:0,totalCount:0,userId:iQ||this.context.uid};this.validateSessionExist(AQ),iQ&&!isValidId(iQ)&&this.throwInvalidArgumentError("userId",AQ);const rQ=eQ==null?void 0:eQ.data,nQ=!rQ||rQ.length===0,sQ=new Map;rQ==null||rQ.forEach(EQ=>{var CQ,dQ;if(new Blob([(CQ=EQ.value)!==null&&CQ!==void 0?CQ:""]).size>RTM_METADATA_VALUE_MAX_LENGTH){const{code:uQ,reason:hQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_VALUE_LENGTH_OVERFLOW);throw new RtmLimitExceededError(AQ,[hQ],uQ)}const lQ=new MetadataItem;lQ.setKey(EQ.key),lQ.setRevision((dQ=EQ.revision)!==null&&dQ!==void 0?dQ:-1),sQ.set(EQ.key,lQ)});const aQ=[];var cQ;sQ.forEach(EQ=>{aQ.push(EQ)}),nQ?eQ!=null&&eQ.majorRevision&&validMetaDataMajorRevisionForRemove(AQ,eQ.majorRevision):validMetaDataItem(AQ,{items:aQ,maxMetaDataCount:MAX_METADATA_COUNT,maxMetaValueSize:RTM_METADATA_VALUE_MAX_LENGTH,majorRevision:(cQ=eQ==null?void 0:eQ.majorRevision)!==null&&cQ!==void 0?cQ:-1,type:"Delete"});try{var gQ,IQ;await(nQ?this.getMainSession().getRegistrarSession().requestClearLocalMetadata({majorRevision:(gQ=eQ==null?void 0:eQ.majorRevision)!==null&&gQ!==void 0?gQ:-1,enableRecordTs:eQ==null?void 0:eQ.addTimeStamp,enableRecordUserId:eQ==null?void 0:eQ.addUserId},iQ).toPromise():this.getMainSession().getRegistrarSession().requestDeleteLocalMetadata(aQ,{majorRevision:(IQ=eQ==null?void 0:eQ.majorRevision)!==null&&IQ!==void 0?IQ:-1,enableRecordTs:eQ==null?void 0:eQ.addTimeStamp,enableRecordUserId:eQ==null?void 0:eQ.addUserId},iQ).toPromise())}catch(EQ){if(isRtmError(EQ)){if(this.logError(EQ),isNoLogged(EQ))throw EQ;if(isTimeout(EQ)){const{code:CQ,reason:dQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT);throw new RtmUnavailableError(AQ,[dQ],CQ)}if(EQ.code!=null){const{code:CQ,reason:dQ}=getErrorInfoByCode(EQ.code);throw new RtmUnavailableError(AQ,[dQ],CQ)}this.warn("error code is undefined, ".concat(EQ))}else this.warn("not rtm error, ".concat(EQ))}return oQ}async updateUserMetadata(eQ,AQ){var iQ;const oQ=OperationName.updateUserMetadata;this.apiRateLimit.canMakeOperation("userMetaModify"),this.validateRtmConnection(oQ),this.validateEnableStorage(oQ);const rQ=AQ==null?void 0:AQ.userId,nQ={timestamp:0,totalCount:0,userId:rQ||this.context.uid};this.validateSessionExist(oQ),rQ&&!isValidId(rQ)&&this.throwInvalidArgumentError("userId",oQ);const sQ=new Map;eQ==null||eQ.forEach(gQ=>{var IQ;const EQ=new MetadataItem;EQ.setKey(gQ.key),EQ.setRevision((IQ=gQ.revision)!==null&&IQ!==void 0?IQ:-1),EQ.setValue(gQ.value),sQ.set(gQ.key,EQ)});const aQ=[];sQ.forEach(gQ=>{aQ.push(gQ)}),validMetaDataItem(oQ,{items:aQ,maxMetaDataCount:MAX_METADATA_COUNT,maxMetaValueSize:RTM_METADATA_VALUE_MAX_LENGTH,majorRevision:(iQ=AQ==null?void 0:AQ.majorRevision)!==null&&iQ!==void 0?iQ:-1,type:"Update"});try{var cQ;await this.getMainSession().getRegistrarSession().requestUpdateLocalMetadata(aQ,{majorRevision:(cQ=AQ==null?void 0:AQ.majorRevision)!==null&&cQ!==void 0?cQ:-1,enableRecordTs:AQ==null?void 0:AQ.addTimeStamp,enableRecordUserId:AQ==null?void 0:AQ.addUserId},rQ).toPromise()}catch(gQ){if(isRtmError(gQ)){if(this.logError(gQ),isNoLogged(gQ))throw gQ;if(isTimeout(gQ)){const{code:IQ,reason:EQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT);throw new RtmUnavailableError(oQ,[EQ],IQ)}if(gQ.code!=null){const{code:IQ,reason:EQ}=getErrorInfoByCode(gQ.code);throw new RtmUnavailableError(oQ,[EQ],IQ)}this.warn("error code is undefined, ".concat(gQ))}else this.warn("not rtm error, ".concat(gQ))}return nQ}async subscribeUserMetadata(eQ){const AQ=OperationName.subscribeUserMetadata;this.apiRateLimit.canMakeOperation("userMetaSub"),this.validateRtmConnection(AQ),this.validateEnableStorage(AQ),this.validateEnableStorageSub(AQ);const iQ={timestamp:0,userId:eQ||this.context.uid};if(this.validateSessionExist(AQ),!isValidId(eQ)){const{code:oQ,reason:rQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_USER_ID);throw new RtmInvalidArgumentError(AQ,[rQ],oQ)}if(eQ.split("").includes(".")){const{code:oQ,reason:rQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_USER_ID);throw new RtmInvalidArgumentError(AQ,[rQ],oQ)}if(this.context.userMetadataSub.has(eQ))return iQ;if(this.context.userMetadataSub.size>=MAX_SUBSCRIPTION_USER){const{code:oQ,reason:rQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_SUBSCRIBE_USER_EXCEED_LIMITATION);throw new RtmLimitExceededError(AQ,[rQ],oQ)}try{await this.getMainSession().getRegistrarSession().requestSubscribeUserMetadata(eQ,"NORMAL"),this.context.userMetadataSub.add(eQ)}catch(oQ){if(isRtmError(oQ)){if(this.logError(oQ),isNoLogged(oQ))throw oQ;if(oQ.code){const{code:rQ,reason:nQ}=getErrorInfoByCode(oQ.code);throw new RtmUnavailableError(AQ,[nQ],rQ)}this.warn("error code is undefined, ".concat(oQ))}else{if(isTimeout(oQ)){const{code:rQ,reason:nQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT);throw this.getMainSession().getRegistrarSession().emit("unSubUserMetadata",eQ),new RtmUnavailableError(AQ,[nQ],rQ)}this.warn("".concat(AQ," occurs error not of rtm, ").concat(oQ))}}return iQ}async unsubscribeUserMetadata(eQ){const AQ=OperationName.unsubscribeUserMetadata;this.validateRtmConnection(AQ),this.validateEnableStorage(AQ);const iQ={timestamp:0,userId:eQ||this.context.uid};if(this.validateSessionExist(AQ),!isValidId(eQ)){const{code:oQ,reason:rQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_USER_ID);throw new RtmInvalidArgumentError(AQ,[rQ],oQ)}if(eQ.split("").includes(".")){const{code:oQ,reason:rQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_USER_ID);throw new RtmInvalidArgumentError(AQ,[rQ],oQ)}if(!this.context.userMetadataSub.has(eQ)){const{code:oQ,reason:rQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_NOT_SUBSCRIBE);throw new RtmInvalidStatusError(AQ,[rQ],oQ)}try{this.getMainSession().getRegistrarSession().requestUnsubscribeUserMetadata(eQ),this.context.userMetadataSub.delete(eQ)}catch(oQ){if(isRtmError(oQ))throw oQ}return iQ}throwNotAcquiredError(eQ,AQ,iQ){const{code:oQ,reason:rQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_LOCK_NOT_ACQUIRED);throw new RtmUnavailableError(iQ,[rQ],oQ)}throwInvalidArgumentError(eQ,AQ){const{code:iQ,reason:oQ}=getErrorInfoByCode(eQ==="userId"?RTMErrorCode.RTM_ERROR_INVALID_USER_ID:eQ==="channelName"?RTMErrorCode.RTM_ERROR_INVALID_CHANNEL_NAME:RTMErrorCode.RTM_ERROR_STORAGE_INVALID_LOCK_NAME);throw new RtmInvalidArgumentError(AQ,[oQ],iQ)}validateSessionExist(eQ){if(this.getMainSession()===void 0){const{code:AQ,reason:iQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(eQ,[iQ],AQ)}}validateEnableStorage(eQ){const AQ=getParameter("STORAGE_ENABLED");if((AQ!==void 0?String(AQ):this.getConsoleConfig()["storage.enabled"])!=="true"){const{code:iQ,reason:oQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_NOT_AVAILABLE);throw new RtmUnavailableError(eQ,[oQ],iQ)}}validateEnableStorageSub(eQ){const AQ=getParameter("STORAGE_USER_SUB_ENABLED");if((AQ!==void 0?String(AQ):this.getConsoleConfig()["storage.user_subscribe_enabled"])!=="true"){const{code:iQ,reason:oQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_NOT_AVAILABLE);throw new RtmUnavailableError(eQ,[oQ],iQ)}}}var _class$2;let RStorage=(_class$2=class extends EventBase{constructor(tQ,eQ,AQ,iQ,oQ,rQ){super(tQ,"Storage",!0),_defineProperty$1(this,"storageImpl",void 0),this.storageImpl=new StorageImpl(tQ,eQ,AQ,iQ,oQ,rQ)}async setChannelMetadata(tQ,eQ,AQ,iQ){return await this.storageImpl.setChannelMetadata(tQ,eQ,AQ,iQ)}async getChannelMetadata(tQ,eQ){return await this.storageImpl.getChannelMetadata(tQ,eQ)}async removeChannelMetadata(tQ,eQ,AQ){return await this.storageImpl.removeChannelMetadata(tQ,eQ,AQ)}async updateChannelMetadata(tQ,eQ,AQ,iQ){return await this.storageImpl.updateChannelMetadata(tQ,eQ,AQ,iQ)}async setUserMetadata(tQ,eQ){return await this.storageImpl.setUserMetadata(tQ,eQ)}async getUserMetadata(tQ){return await this.storageImpl.getUserMetadata(tQ)}async removeUserMetadata(tQ){return await this.storageImpl.removeUserMetadata(tQ)}async updateUserMetadata(tQ,eQ){return await this.storageImpl.updateUserMetadata(tQ,eQ)}async subscribeUserMetadata(tQ){return await this.storageImpl.subscribeUserMetadata(tQ)}async unsubscribeUserMetadata(tQ){return await this.storageImpl.unsubscribeUserMetadata(tQ)}},_applyDecoratedDescriptor(_class$2.prototype,"setChannelMetadata",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$2.prototype,"setChannelMetadata"),_class$2.prototype),_applyDecoratedDescriptor(_class$2.prototype,"getChannelMetadata",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$2.prototype,"getChannelMetadata"),_class$2.prototype),_applyDecoratedDescriptor(_class$2.prototype,"removeChannelMetadata",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$2.prototype,"removeChannelMetadata"),_class$2.prototype),_applyDecoratedDescriptor(_class$2.prototype,"updateChannelMetadata",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$2.prototype,"updateChannelMetadata"),_class$2.prototype),_applyDecoratedDescriptor(_class$2.prototype,"setUserMetadata",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$2.prototype,"setUserMetadata"),_class$2.prototype),_applyDecoratedDescriptor(_class$2.prototype,"getUserMetadata",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$2.prototype,"getUserMetadata"),_class$2.prototype),_applyDecoratedDescriptor(_class$2.prototype,"removeUserMetadata",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$2.prototype,"removeUserMetadata"),_class$2.prototype),_applyDecoratedDescriptor(_class$2.prototype,"updateUserMetadata",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$2.prototype,"updateUserMetadata"),_class$2.prototype),_applyDecoratedDescriptor(_class$2.prototype,"subscribeUserMetadata",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$2.prototype,"subscribeUserMetadata"),_class$2.prototype),_applyDecoratedDescriptor(_class$2.prototype,"unsubscribeUserMetadata",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$2.prototype,"unsubscribeUserMetadata"),_class$2.prototype),_class$2);class HistoryImpl extends EventBase{constructor(eQ,AQ,iQ,oQ,rQ){super(eQ,"HistoryImpl",!0),_defineProperty$1(this,"context",void 0),_defineProperty$1(this,"getConsoleConfig",void 0),_defineProperty$1(this,"getMainSession",void 0),_defineProperty$1(this,"validateRtmConnection",void 0),_defineProperty$1(this,"apiRateLimit",new ApiRateLimiter),this.context=AQ,this.getMainSession=genGetMainSession(iQ),this.getConsoleConfig=oQ,this.validateRtmConnection=rQ}async getMessages(eQ,AQ,iQ){var oQ,rQ,nQ,sQ;const aQ=OperationName.getMessages;if(this.apiRateLimit.canMakeOperation("getMessages"),validateHistoryChannelType(aQ,AQ),this.validateRtmConnection(aQ),this.validateEnableHistory(aQ),!isValidId(eQ)){this.warn("invalid channel name, ".concat(eQ));const{code:uQ,reason:hQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_CHANNEL_NAME);throw new RtmInvalidArgumentError(aQ,[hQ],uQ)}if(AQ==="USER"&&eQ!==this.context.uid){this.warn("operation not permit");const{code:uQ,reason:hQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_HISTORY_OPERATION_NOT_PERMITTED);throw new RtmInvalidArgumentError(aQ,[hQ],uQ)}const cQ=(oQ=iQ==null?void 0:iQ.start)!==null&&oQ!==void 0?oQ:0,gQ=(rQ=iQ==null?void 0:iQ.end)!==null&&rQ!==void 0?rQ:0;if(cQ>0&&gQ>0&&(cQ<=gQ||cQ-gQ>GET_MESSAGE_TIME_LIMIT)){this.warn("invalid start or end timestamp}");const{code:uQ,reason:hQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_HISTORY_INVALID_TIMESTAMP);throw new RtmInvalidArgumentError(aQ,[hQ],uQ)}const IQ=(nQ=getParameter("HISTORY_MSG_COUNT_LIMIT"))!==null&&nQ!==void 0?nQ:GET_MESSAGE_MAX_COUNT;let EQ=(sQ=iQ==null?void 0:iQ.messageCount)!==null&&sQ!==void 0?sQ:IQ;(EQ===0||EQ>IQ)&&(EQ=IQ);try{var CQ,dQ,lQ;const uQ=this.getMainSession().getRegistrarSession().requestGetMessages({channelName:eQ,channelType:AQ,count:EQ,startTime:cQ,endTime:gQ}),hQ=await uQ.toPromise();return{messageList:(CQ=hQ.messageList)!==null&&CQ!==void 0?CQ:[],count:(dQ=(lQ=hQ.messageList)===null||lQ===void 0?void 0:lQ.length)!==null&&dQ!==void 0?dQ:0,newStart:hQ.newStart,timestamp:0}}catch(uQ){if(isRtmError(uQ)){if(this.logError(uQ),isNoLogged(uQ))throw uQ;if(isTimeout(uQ)){const{code:hQ,reason:BQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_HISTORY_OPERATION_TIMEOUT);throw new RtmUnavailableError(aQ,[BQ],hQ)}if(uQ.code!=null){const{code:hQ,reason:BQ}=getErrorInfoByCode(uQ.code);throw new RtmUnavailableError(aQ,[BQ],hQ)}this.warn("error code is undefined, ".concat(uQ))}else this.warn("not rtm error, ".concat(uQ))}return{timestamp:0,messageList:[],count:0,newStart:0}}validateEnableHistory(eQ){if(this.getConsoleConfig()["history.enabled"]!=="true"){const{code:AQ,reason:iQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_HISTORY_NOT_AVAILABLE);throw new RtmUnavailableError(eQ,[iQ],AQ)}}}var _class$1;let History=(_class$1=class extends EventBase{constructor(tQ,eQ,AQ,iQ,oQ){super(tQ,"History",!0),_defineProperty$1(this,"historyImpl",void 0),this.historyImpl=new HistoryImpl(tQ,eQ,AQ,iQ,oQ)}async getMessages(tQ,eQ,AQ){return await this.historyImpl.getMessages(tQ,eQ,AQ)}},_applyDecoratedDescriptor(_class$1.prototype,"getMessages",[loggedSensitive],Object.getOwnPropertyDescriptor(_class$1.prototype,"getMessages"),_class$1.prototype),_class$1);var name="agora-rtm",exports$1={".":{require:"./dist/bundle.umd.js",import:"./dist/bundle.mjs",types:"./dist/types/index.d.ts"}},version="2.2.1",description="JavaScript SDK for Agora RTM",keywords=["agora","rtm","real-time-messaging","sdk","javascript","signaling","stream","messaging"],homepage="https://bitbucket.agoralab.co/projects/WEBRTC/repos/rtm.js",bugs={url:"https://agora-ticket.agora.io",email:"support@agora.io"},license="Apache",author="Agora Lab.",main="dist/bundle.umd.js",types="dist/types/index.d.ts",directories={lib:"src"},repository={type:"git",url:"git+ssh://git@git.agoralab.co/webrtc/rtm.js.git"},scripts={postinstall:"touch ./.env && node --experimental-import-meta-resolve ./scripts/patch.mjs","proto-gen":"npm run proto-gen:js && npm run proto-gen:ts","proto-gen:js":"pbjs -t static-module --no-create --no-decode --no-verify --no-service --no-convert --force-long --no-delimited -w es6 -o ./src/lib/compiled_proto/report.js ./src/third_party/report.proto && pbjs -t static-module --no-delimited --no-convert --no-verify --no-service --no-create --force-long -w es6 -o ./src/lib/compiled_proto/gateway.js ./src/third_party/gateway.proto && pbjs -t static-module --no-delimited --no-convert --no-verify --no-service --no-create --force-long -w es6 -o ./src/lib/compiled_proto/metadata.js ./src/third_party/metadata.proto","proto-gen:ts":"pbts --main --out ./src/lib/compiled_proto/report.d.ts ./src/lib/compiled_proto/report.js && pbts --main --out ./src/lib/compiled_proto/gateway.d.ts ./src/lib/compiled_proto/gateway.js && pbts --main --out ./src/lib/compiled_proto/metadata.d.ts ./src/lib/compiled_proto/metadata.js","build:types":"run-s dts:tsc dts:gen","dts:tsc":"tsc -p ./tsconfig.json","dts:gen":"rollup -c ./rollup.types.config.mjs",dev:"FUSION=false NODE_ENV=development rollup -c rollup.config.mjs -w","dev-fusion":"FUSION=true NODE_ENV=development rollup -c rollup.config.mjs -w",build:'NODE_OPTIONS="--max-old-space-size=8192" npm run build:web && NODE_OPTIONS="--max-old-space-size=8192" npm run build:cdn',"build:web":'cross-env GIT_COMMIT=$(git describe --tags --long --match "v*" --dirty) npx cross-env NODE_ENV=production npx rollup -c rollup.config.mjs',"build:cdn":'cross-env GIT_COMMIT=$(git describe --tags --long --match "v*" --dirty) npx cross-env NODE_ENV=production npx rollup -c rollup.config.web.mjs',prepublishOnly:"FUSION=false npm run build && npm run build:types && node ./prepublish.js",prepublishOnlyOversea:"cross-env FUSION=false OVERSEA=true npm run build && npm run build:types && cross-env OVERSEA=true node ./prepublish.js",prepublishOnlyFusion:"cross-env FUSION=true npm run build && npm run build:types && cross-env FUSION=true node ./prepublish.js",beautify:"concurrently -P 'npm:lint:*' -- --fix",lint:"npx eslint src/  --format codeframe",wb:"wb"},config={scripts:{commit:"npx git-cz"}},dependencies={"@thi.ng/cache":"^1.0.70","cross-env":"^7.0.3",debug:"^4.3.4",events:"^3.2.0","format-util":"^1.0.5",gud:"^1.0.0","is-mobile":"^3.1.1","is-what":"^3.14.1",lodash:"^4.17.21",long:"^4.0.0",neverthrow:"^5.0.1","node-forge":"^1.3.1",protobufjs:"^7.2.6",rxjs:"^6.6.3","rxjs-etc":"^10.6.0","rxjs-websockets":"^8.0.1","safe-json-stringify":"^1.2.0",uuid:"^3.4.0","agora-rtc-sdk-ng":"4.22.0"},devDependencies={"@ampproject/rollup-plugin-closure-compiler":"^0.27.0","@babel/core":"^7.23.7","@babel/eslint-parser":"^7.23.3","@babel/plugin-proposal-class-properties":"^7.13.0","@babel/plugin-proposal-decorators":"^7.13.5","@babel/plugin-syntax-import-attributes":"^7.23.3","@babel/plugin-transform-for-of":"^7.13.0","@babel/preset-env":"^7.13.5","@babel/preset-typescript":"^7.13.0","@rollup/plugin-babel":"^6.0.4","@rollup/plugin-commonjs":"^25.0.7","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@rollup/plugin-replace":"^5.0.5","@rollup/plugin-terser":"^0.4.4","@types/long":"^4.0.2","@types/node":"^14.18.63","@typescript-eslint/eslint-plugin":"^6.19.0","@typescript-eslint/parser":"^6.19.0","agora-rte-extension":"^1.2.3","babel-plugin-annotate-pure-calls":"^0.4.0","babel-plugin-const-enum":"1.0.1","babel-plugin-istanbul":"^6.0.0","babel-plugin-polyfill-corejs3":"^0.2.4","babel-plugin-polyfill-regenerator":"^0.2.2",concurrently:"^7.4.0","core-js":"^3.9.0","cross-zip":"^4.0.0",decomment:"^0.9.3","dotenv-extended":"^2.9.0",eslint:"^8.56.0","eslint-config-airbnb-typescript":"^17.1.0","eslint-formatter-codeframe":"^7.32.1","eslint-plugin-eslint-comments":"^3.2.0","eslint-plugin-import":"^2.29.1","eslint-plugin-prettier":"^5.1.3","eslint-plugin-simple-import-sort":"^10.0.0","fs-extra":"^9.1.0",jsdom:"^20.0.1",nodemon:"^2.0.22","npm-run-all":"^4.1.5",prettier:"3.2.3","protobufjs-cli":"~1.1.2","regenerator-runtime":"^0.14.0",rollup:"^4.9.2","rollup-plugin-dts":"^6.1.0","strict-event-emitter-types":"^2.0.0",touch:"^3.1.0",typedoc:"^0.23.0",typescript:"^5.3.3","utility-types":"^3.10.0","white-brand-cli":"^1.2.3"},optionalDependencies={"@fast-csv/parse":"^4.3.6","@types/debug":"4.1.5","@types/format-util":"^1.0.1","@types/google-closure-compiler":"^0.0.18","@types/lodash":"^4.14.168","@types/node-forge":"^1.3.1","@types/pako":"^1.0.1","@types/safe-json-stringify":"^1.1.2","@types/uuid":"^3.4.9","browserslist-useragent":"^3.0.3","rollup-plugin-livereload":"^2.0.0","rollup-plugin-serve":"^1.1.0","rollup-plugin-visualizer":"^5.12.0","typedoc-plugin-no-inherit":"^1.2.0"},pkg={name,exports:exports$1,version,description,keywords,homepage,bugs,license,author,main,types,directories,repository,scripts,config,dependencies,devDependencies,optionalDependencies};const configKey2PrivateParamKey={DECOUPLE_SYNC:"DECOUPLE_SYNC"},QUERY_INTERVAL=3e5,LOCAL_STORAGE_KEY="_agora_rtm_custom_config",defaultConfig$1={"_store log_rtm_only #173724":'["A",{"rtm.log.encrypt_log":false}]',"_store web_rtm_decoupled_sync #203228":'["A",{"DECOUPLE_SYNC":false}]',"_store two_rtm #108239":'["A",{"rtm.decouple_sync":true}]',"_store log_rtm #106907":'["A",{"rtc.log_encryption":false,"rtc.log_encryption_mode":0,"rtc.log_encryption_salt":""}]'};function getDeviceInfo(tQ){let eQ="Unknown",AQ="Unknown";return tQ.includes("Chrome")?eQ="Chrome":tQ.includes("Firefox")?eQ="Firefox":tQ.includes("Safari")&&!tQ.includes("Chrome")?eQ="Safari":tQ.includes("Edge")?eQ="Edge":(tQ.includes("Opera")||tQ.includes("OPR"))&&(eQ="Opera"),tQ.includes("Windows NT")?AQ="Windows":tQ.includes("Mac OS X")?AQ="Mac OS":tQ.includes("Android")?AQ="Android":tQ.includes("iPhone")||tQ.includes("iPad")?AQ="iOS":tQ.includes("Linux")&&(AQ="Linux"),{deviceName:eQ,osName:AQ}}class CustomConfig{constructor(eQ,AQ){var iQ;_defineProperty$1(this,"_appid",""),_defineProperty$1(this,"_sid",""),_defineProperty$1(this,"_timer",null),_defineProperty$1(this,"_device",""),_defineProperty$1(this,"_system",""),_defineProperty$1(this,"_systemGeneral",""),this._appid=eQ,this._sid=(iQ=AQ==null?void 0:AQ.sid)!==null&&iQ!==void 0?iQ:"",this._systemGeneral=navigator.userAgent;const{deviceName:oQ,osName:rQ}=getDeviceInfo(this._systemGeneral);this._device=oQ,this._system=rQ}init(eQ){this._sid=eQ;const AQ=this._getStorageConfig();if(AQ)for(const iQ in AQ)this._updateSdkConfig(iQ,AQ[iQ]);this._start()}stop(){this._timer&&(clearInterval(this._timer),this._timer=null)}async _query(){let eQ=defaultConfig$1??{};try{const AQ=await postWithAbortSignal("https://ap-web-1.agora.io/api/v1",{headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"54","Content-Type":"application/json"},body:{flag:64,cipher_method:0,features:{device:this._device,system:this._system,system_general:navigator.userAgent,vendor:this._appid,version:pkg.version,install_id:this._sid,session_id:this._sid,detail:""}}}),iQ=JSON.parse(AQ.responseText),{code:oQ,test_tags:rQ}=iQ;if(oQ!==0)return;eQ=rQ;for(const nQ in eQ)if(nQ.includes("web_rtm")){const[sQ,aQ]=JSON.parse(eQ[nQ]),cQ=this._getStorageConfig()||{};for(const gQ in aQ)Object.hasOwn(configKey2PrivateParamKey,gQ)&&(cQ[gQ]=aQ[gQ]);this._setStorageConfig(cQ)}}catch{}}async _start(){await this._query(),this._timer=setInterval(async()=>{await this._query()},QUERY_INTERVAL)}_getStorageConfig(){var eQ;const AQ=localStorage.getItem(LOCAL_STORAGE_KEY);return((eQ=JSON.parse(AQ??JSON.stringify({})))===null||eQ===void 0?void 0:eQ[this._appid])||null}_setStorageConfig(eQ){var AQ;const iQ=this._getStorageConfig()||{},oQ=JSON.parse((AQ=localStorage.getItem(LOCAL_STORAGE_KEY))!==null&&AQ!==void 0?AQ:"{}");oQ[this._appid]=_objectSpread2(_objectSpread2({},iQ),eQ),localStorage.setItem(LOCAL_STORAGE_KEY,JSON.stringify(oQ))}_updateSdkConfig(eQ,AQ){getParameter(configKey2PrivateParamKey[eQ])!==AQ&&setParameter(configKey2PrivateParamKey[eQ],AQ)}}var _exec,_window;const chromeVersion=(_exec=/Chrome\/([0-9.]+)/.exec((_window=window)===null||_window===void 0||(_window=_window.navigator)===null||_window===void 0?void 0:_window.userAgent))===null||_exec===void 0||(_exec=_exec[1])===null||_exec===void 0?void 0:_exec.split(".")[0];if(chromeVersion&&parseInt(chromeVersion,10)>=88&&!isMobile$1()){var _hiddenCanvas$getCont;const tQ=document.createElement("video"),eQ=document.createElement("canvas");tQ.setAttribute("style","display:none"),tQ.setAttribute("muted",""),tQ.muted=!0,tQ.setAttribute("autoplay",""),tQ.autoplay=!0,tQ.setAttribute("playsinline",""),eQ.setAttribute("style","display:none"),eQ.setAttribute("width","1"),eQ.setAttribute("height","1"),(_hiddenCanvas$getCont=eQ.getContext("2d"))===null||_hiddenCanvas$getCont===void 0||_hiddenCanvas$getCont.fillRect(0,0,1,1),tQ.srcObject=eQ==null?void 0:eQ.captureStream()}const connectionStateCodeMap={DISCONNECTED:1,CONNECTING:2,CONNECTED:3,RECONNECTING:4,FAILED:5},connectionStateChangeReason={CONNECTING:0,LOGIN_SUCCESS:10001,REJECTED_BY_SERVER:10,LOST:16,INTERRUPTED:2,LOGOUT:10002,SAME_UID_LOGIN:8,TOKEN_EXPIRED:9,PRESENCE_NOT_READY:10},LogFilter={LOG_FILTER_NONE:{error:!1,warn:!1,info:!1,track:!1,debug:!1},LOG_FILTER_ERROR:{error:!0,warn:!1,info:!1,track:!1,debug:!1},LOG_FILTER_WARN:{error:!0,warn:!0,info:!1,track:!1,debug:!1},LOG_FILTER_INFO:{error:!0,warn:!0,info:!0,track:!1,debug:!1},LOG_FILTER_DEBUG:{error:!0,warn:!0,info:!0,track:!0,debug:!0}},updateLogLevel=(tQ,eQ)=>{switch(tQ){case"debug":eQ.logFilter=LogFilter.LOG_FILTER_DEBUG;break;case"info":eQ.logFilter=LogFilter.LOG_FILTER_INFO;break;case"warn":eQ.logFilter=LogFilter.LOG_FILTER_WARN;break;case"none":eQ.logFilter=LogFilter.LOG_FILTER_NONE;break;default:eQ.logFilter=LogFilter.LOG_FILTER_ERROR}},updateWasmLogLevel=tQ=>{},defaultConsoleConfig={"-":0,app_key:"",region:"CN",enabled:String(getParameter("RTM2_ENABLED")),"presence.occupancy":String(K_DEFAULT_INTERVAL_THRESHOLD),"presence.interval":String(K_PRESENCE_INTERVAL_DEFAULT),"presence.debounce":String(K_DEBOUNCE_DEFAULT),"storage.enabled":String(!0),"storage.channel_subscribe_enabled":String(!0),"storage.user_subscribe_enabled":String(!0),"lock.enabled":String(!0),"history.enabled":String(!0)};class RTMImpl extends EventBase{constructor(eQ,AQ,iQ,oQ,rQ,nQ){var sQ,aQ;super(eQ,"RTMImpl",!0),_defineProperty$1(this,"userId",void 0),_defineProperty$1(this,"appId",void 0),_defineProperty$1(this,"processId",void 0),_defineProperty$1(this,"streamChannelList",[]),_defineProperty$1(this,"stChannelInstances",[]),_defineProperty$1(this,"token",void 0),_defineProperty$1(this,"cipherKey",void 0),_defineProperty$1(this,"cloudProxy",void 0),_defineProperty$1(this,"presenceTimeout",getParameter("PRESENCE_TIMEOUT")),_defineProperty$1(this,"presence",void 0),_defineProperty$1(this,"storage",void 0),_defineProperty$1(this,"lock",void 0),_defineProperty$1(this,"history",void 0),_defineProperty$1(this,"encryptionMode",void 0),_defineProperty$1(this,"salt",void 0),_defineProperty$1(this,"key",""),_defineProperty$1(this,"iv",""),_defineProperty$1(this,"keyLength",0),_defineProperty$1(this,"initEncryption",!1),_defineProperty$1(this,"useStringUserId",void 0),_defineProperty$1(this,"context",void 0),_defineProperty$1(this,"mainSession",void 0),_defineProperty$1(this,"loginPromise",void 0),_defineProperty$1(this,"lastLoginTime",void 0),_defineProperty$1(this,"connectionState","DISCONNECTED"),_defineProperty$1(this,"linkState","IDLE"),_defineProperty$1(this,"linkTimer",null),_defineProperty$1(this,"suspendedTimer",null),_defineProperty$1(this,"joinCheckTimer",null),_defineProperty$1(this,"suspended",!1),_defineProperty$1(this,"blacklistedIP",{}),_defineProperty$1(this,"reconnId",0),_defineProperty$1(this,"attributeDrafts",new Set),_defineProperty$1(this,"internalEmitter",new EventEmitter$1),_defineProperty$1(this,"localAcquiredLocks",new Map),_defineProperty$1(this,"consoleConfig",defaultConsoleConfig),_defineProperty$1(this,"channelMetadataSub",new Set),_defineProperty$1(this,"localStateCache",new Map),_defineProperty$1(this,"logLevel",void 0),_defineProperty$1(this,"apiRateLimit",new ApiRateLimiter),_defineProperty$1(this,"_lastOptions",void 0),_defineProperty$1(this,"_lastChannelMetaEventInfos",new Map),_defineProperty$1(this,"_lastUserMetaEventInfos",new Map),_defineProperty$1(this,"_createCollInterval",null),_defineProperty$1(this,"_customConfig",void 0),_defineProperty$1(this,"TokenPrivilegeWillExpireHandler",()=>{this.emit("tokenPrivilegeWillExpire","")}),_defineProperty$1(this,"userDropHandler",async lQ=>{if(this.connectionState==="FAILED")return;let uQ="INTERRUPTED",hQ=LinkStateChangeReasonDescription.UNKNOWN,BQ="UNKNOWN";switch(lQ){case 2:this.logError("Server banned because of token is expired, ticket expired."),uQ="TOKEN_EXPIRED",hQ=LinkStateChangeReasonDescription.TOKEN_EXPIRED,BQ="TOKEN_EXPIRED";break;case 11:this.logError("Kicked off by remote session"),uQ="SAME_UID_LOGIN",hQ=LinkStateChangeReasonDescription.SAME_UID_LOGIN,BQ="SAME_UID_LOGIN";break;case 10019:this.logError("Kicked off by authorization"),uQ="TOKEN_EXPIRED",hQ=LinkStateChangeReasonDescription.TOKEN_EXPIRED,BQ="TOKEN_EXPIRED";break;default:this.logError("User kicked off for unknown code: ".concat(lQ))}this.updateLinkState("FAILED","SERVER_REJECT",this.getUsedMessageChannelIds(),BQ,hQ),this.onConnectionStateChanged("FAILED",uQ)}),_defineProperty$1(this,"userMetaDataUpdatedHandler",lQ=>{var uQ,hQ,BQ,QQ,fQ;let{uid:_Q,data:RQ}=lQ;if(((uQ=(hQ=this.mainSession)===null||hQ===void 0?void 0:hQ.getRegistrarSession().userMetaEventInfos.get(_Q))!==null&&uQ!==void 0?uQ:-1)>=RQ.majorRevision||!this.context.userMetadataSub.has(_Q))return void this.log("user(".concat(replaceRangeWithAsterisk(_Q),") meta not changed or not subscribed, ignore."));const wQ={};RQ.items.map(PQ=>{var OQ;wQ[PQ==null?void 0:PQ.getKey()]={value:(OQ=PQ.getValue())!==null&&OQ!==void 0?OQ:"",revision:PQ.getRevision(),updated:PQ.getUpdateTs(),authorUid:PQ.getAuthorUserId()}});const bQ={totalCount:RQ==null||(BQ=RQ.items)===null||BQ===void 0?void 0:BQ.length,majorRevision:RQ==null?void 0:RQ.majorRevision,metadata:wQ};let NQ="UPDATE";(QQ=this.mainSession)!==null&&QQ!==void 0&&QQ.getRegistrarSession().userMetaEventInfos.has(_Q)||(NQ="SNAPSHOT");const UQ={channelType:"USER",channelName:"",publisher:_Q,storageType:"USER",data:bQ,eventType:NQ,timestamp:getUTCTimeBaseREG(this.context.offsetTime)};(fQ=this.mainSession)===null||fQ===void 0||fQ.getRegistrarSession().userMetaEventInfos.set(_Q,RQ.majorRevision),this.emit("storage",UQ)}),_defineProperty$1(this,"onChannelTextMessage",lQ=>{let{memberId:uQ,text:hQ,channelId:BQ,customType:QQ,channelType:fQ}=lQ;const _Q={channelName:BQ,channelType:fQ,topicName:"",message:hQ,publisher:uQ,messageType:"STRING",customType:QQ,timestamp:getUTCTimeBaseREG(this.context.offsetTime)};this.emit("message",_Q)}),_defineProperty$1(this,"onChannelRawMessage",lQ=>{let{raw:uQ,memberId:hQ,channelId:BQ,customType:QQ,channelType:fQ}=lQ;const _Q={channelName:BQ,channelType:fQ,topicName:"",message:uQ,publisher:hQ,messageType:"BINARY",customType:QQ,timestamp:getUTCTimeBaseREG(this.context.offsetTime)};this.emit("message",_Q)}),_defineProperty$1(this,"onChannelMetaDataUpdated",lQ=>{var uQ,hQ,BQ,QQ,fQ;let{channelId:_Q,data:RQ}=lQ;if(((uQ=(hQ=this.mainSession)===null||hQ===void 0?void 0:hQ.getRegistrarSession().channelMetaEventInfos.get(_Q))!==null&&uQ!==void 0?uQ:-1)>=RQ.majorRevision||!this.channelMetadataSub.has(_Q))return void this.log("channel(".concat(_Q,") meta not changed or not subscribed, ignore."));const{channelName:wQ,channelType:bQ}=getChannelDetailByName(_Q),NQ={};RQ.items.map(YQ=>{var SQ;NQ[YQ==null?void 0:YQ.getKey()]={value:(SQ=YQ.getValue())!==null&&SQ!==void 0?SQ:"",revision:YQ.getRevision(),updated:YQ.getUpdateTs(),authorUid:YQ.getAuthorUserId()}});const UQ={totalCount:RQ==null||(BQ=RQ.items)===null||BQ===void 0?void 0:BQ.length,majorRevision:RQ==null?void 0:RQ.majorRevision,metadata:NQ};let PQ="UPDATE";(QQ=this.mainSession)!==null&&QQ!==void 0&&QQ.getRegistrarSession().channelMetaEventInfos.has(_Q)||(PQ="SNAPSHOT");const OQ={channelType:bQ,channelName:wQ,publisher:"",storageType:"CHANNEL",data:UQ,eventType:PQ,timestamp:getUTCTimeBaseREG(this.context.offsetTime)};(fQ=this.mainSession)===null||fQ===void 0||fQ.getRegistrarSession().channelMetaEventInfos.set(_Q,RQ.majorRevision),this.emit("storage",OQ)}),_defineProperty$1(this,"onChannelLockEvent",lQ=>{var uQ,hQ;const{channelName:BQ,channelType:QQ}=lQ,fQ=getChannelNameByType(BQ,QQ);(uQ=(hQ=this.mainSession)===null||hQ===void 0||(hQ=hQ.lastSubscribeOrJoinOptions.get(fQ))===null||hQ===void 0?void 0:hQ.withLock)!==null&&uQ!==void 0&&uQ&&this.emit("lock",lQ)}),_defineProperty$1(this,"emitLockExpired",lQ=>{var uQ;const hQ=getChannelNameByType(lQ.channelName,lQ.channelType);(uQ=this.localAcquiredLocks.get(hQ))!==null&&uQ!==void 0&&uQ.get(lQ.lockName)&&(this.emit("lock",_objectSpread2(_objectSpread2({},lQ),{},{ttl:0})),this.updateLocalAcquiredLocksCache(hQ,lQ==null?void 0:lQ.lockName,"delete"))}),_defineProperty$1(this,"onLogout",()=>{var lQ,uQ,hQ;const BQ=OperationName.logout;this.validateMainSessionExist(BQ);try{this.clearChannel(this.getUsedChannelIds())}catch{}(lQ=this.mainSession)===null||lQ===void 0||lQ.getRegistrarSession().removeListener("channelTextMessage",this.onChannelTextMessage),(uQ=this.mainSession)===null||uQ===void 0||uQ.getRegistrarSession().removeListener("channelRawMessage",this.onChannelRawMessage),(hQ=this.mainSession)===null||hQ===void 0||hQ.getRegistrarSession().removeListener("channelMetaDataUpdated",this.onChannelMetaDataUpdated),this.internalEmitter.removeListener("LOGOUT",this.onLogout)});const cQ=OperationName.initRTM;if(!isValidAppId(iQ)){const{code:lQ,reason:uQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_APP_ID),hQ=new RtmUnavailableError(cQ,[uQ],lQ);throw this.logError(hQ),hQ}if(!isValidId(oQ)){const{code:lQ,reason:uQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_USER_ID),hQ=new RtmUnavailableError(cQ,[uQ],lQ);throw this.logError(hQ),hQ}if(nQ!=null&&nQ.logLevel&&updateLogLevel(nQ.logLevel,rQ),this.logLevel=(sQ=nQ==null?void 0:nQ.logLevel)!==null&&sQ!==void 0?sQ:"error",this.appId=iQ,this.userId=oQ,this.processId=AQ,this.setMaxListeners(512),this.internalEmitter.setMaxListeners(512),typeof(nQ==null?void 0:nQ.presenceTimeout)=="number"){let lQ=nQ.presenceTimeout;nQ.presenceTimeout>K_PRESENCE_TIMEOUT_MAX?lQ=K_PRESENCE_TIMEOUT_MAX:nQ.presenceTimeout<K_PRESENCE_TIMEOUT_MIN&&(lQ=K_PRESENCE_TIMEOUT_MIN),this.presenceTimeout=lQ}if((nQ==null?void 0:nQ.encryptionMode)==="AES_128_GCM"||(nQ==null?void 0:nQ.encryptionMode)==="AES_256_GCM"){var gQ,IQ;const lQ="detail: ";let uQ=lQ;if((nQ==null?void 0:nQ.cipherKey)===void 0)uQ+="not provide cipherKey but set encryptionMode.";else if(nQ.salt&&(nQ==null||(gQ=nQ.salt)===null||gQ===void 0?void 0:gQ.byteLength)>0&&(nQ==null||(IQ=nQ.salt)===null||IQ===void 0?void 0:IQ.byteLength)>SALT_LENGTH)uQ+="salt should be ".concat(SALT_LENGTH," bytes");else if(uQ===lQ){var EQ;this.keyLength=nQ.encryptionMode==="AES_128_GCM"?16:32;const hQ=new Uint8Array(SALT_LENGTH);hQ.set((EQ=nQ.salt)!==null&&EQ!==void 0?EQ:new Uint8Array([])),this.salt=hQ,this.cipherKey=nQ==null?void 0:nQ.cipherKey,this.encryptionMode=nQ.encryptionMode;try{const BQ=util$6.createBuffer(this.salt),QQ=pkcs5$1(this.cipherKey,BQ.getBytes(BQ.length()),KEY_ITERATIONS_COUNT,IV_LENGTH+this.keyLength,"sha256");this.key=QQ,this.iv=QQ.slice(-IV_LENGTH),QQ?(this.initEncryption=!0,this.log("initialize crypto key success.")):this.warn("generate crypto key failure using pbkdf2.")}catch(BQ){const{code:QQ,reason:fQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_ENCRYPTION_PARAMETER),_Q=new RtmUnavailableError(cQ,[fQ+BQ],QQ);throw this.logError(_Q),_Q}}if(uQ.length>lQ.length){const{code:hQ,reason:BQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_ENCRYPTION_PARAMETER),QQ=new RtmUnavailableError(cQ,[BQ+uQ],hQ);throw this.logError(QQ),QQ}}if((nQ==null?void 0:nQ.useStringUserId)===!1){if(!isUintString(oQ)){const{code:lQ,reason:uQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_USER_ID),hQ=new RtmInvalidArgumentError(cQ,[uQ],lQ);throw this.logError(hQ),hQ}this.useStringUserId=!1}else this.useStringUserId=!0;window.addEventListener("offline",()=>{this.warn("network-state-change: ONLINE -> OFFLINE")}),window.addEventListener("online",()=>{var lQ;this.log("network-state-change: OFFLINE -> ONLINE"),(lQ=this.mainSession)===null||lQ===void 0||lQ.notifyNetworkChange(!0)});const CQ=this.handlePrivateConfig(cQ,nQ),dQ=!CQ&&(aQ=rQ.cloudProxy)!==null&&aQ!==void 0&&aQ;nQ!=null&&nQ.privateConfig&&nQ.cloudProxy&&this._throwInvalidPrivateConfig(cQ," Use private config, not permit cloudProxy"),CQ&&areaConfig&&this._throwInvalidPrivateConfig(cQ," Use private config, not permit setArea"),this.context=new Context(iQ,oQ,_objectSpread2(_objectSpread2({},rQ),{},{cloudProxy:dQ}),eQ,{useStringUserId:this.useStringUserId,presenceTimeout:this.presenceTimeout,logLevel:this.logLevel,heartbeatInterval:nQ==null?void 0:nQ.heartbeatInterval,privateConfig:CQ?nQ==null?void 0:nQ.privateConfig:void 0},this!=null&&this.initEncryption?{key:this.key,iv:this.iv,keyLength:this.keyLength,initEncryption:this.initEncryption}:void 0),this.lock=new Lock(eQ,this.context,()=>this.mainSession,()=>this.consoleConfig,()=>this.linkState,this.validateRtmConnection.bind(this),this.localAcquiredLocks),this.presence=new Presence(eQ,this.context,()=>this.mainSession,()=>this.linkState,()=>this.localStateCache),this.storage=new RStorage(eQ,this.context,()=>this.mainSession,()=>this.consoleConfig,this.validateRtmConnection.bind(this),this.localAcquiredLocks),this.history=new History(eQ,this.context,()=>this.mainSession,()=>this.consoleConfig,this.validateRtmConnection.bind(this)),this.log("rtm use private config: %s, enable cloud proxy: %s",CQ,dQ),this._customConfig=new CustomConfig(this.appId)}async renewToken(eQ,AQ){var iQ;const oQ=OperationName.renewToken;this.apiRateLimit.canMakeOperation("renewToken"),this.validateRtmConnection(oQ),validateToken(eQ,this.appId,oQ,CQ=>{this.warn(CQ)});const rQ={timestamp:0};this.context.addReportEvents("RenewToken",{sid:this.context.sid,userId:this.context.uid,lts:Long$2.fromNumber(Date.now()),elapse:getElapse(this.context.startTime),cname:(iQ=AQ==null?void 0:AQ.channelName)!==null&&iQ!==void 0?iQ:"",token:eQ});let nQ=0;try{if(AQ==null||!AQ.channelName){var sQ,aQ,cQ;if(typeof eQ!="string"||eQ.length===0){const{code:uQ,reason:hQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_TOKEN);throw new RtmInvalidArgumentError(oQ,[hQ],uQ)}if(!["CONNECTED","RECONNECTING"].includes(this.connectionState)||this.linkState!=="CONNECTED"){const{code:uQ,reason:hQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_CONNECTED);throw new RtmInvalidStatusError(oQ,[hQ],uQ)}if(this.validateMainSessionExist(oQ),eQ===this.context.token)return{timestamp:0};try{var gQ=this.context.token;this.context.token=eQ;var[{ticket:IQ}]=await Promise.all([this.mainSession.getRegistrarSession().connection.apClient.getApEdgeInfo$(!1).pipe(throwIfEmpty(()=>new Error("No available edge address to connect")),retryWhen(uQ=>uQ.pipe(tap(hQ=>{if(isRtmError(hQ))throw hQ}),delay(2500),take(4))),take(1),timeout(COMMON_REQUEST_TIMEOUT),catchError(uQ=>(isTimeout(uQ)&&this.warn("renewToken timed out"),throwError(uQ)))).toPromise()])}catch(uQ){if(this.context.token=gQ,isTimeout(uQ)){const{code:hQ,reason:BQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOGIN_TIMEOUT);throw new RtmTimeoutError(oQ,[BQ],hQ)}{const{code:hQ,reason:BQ}=getErrorInfoByCode(uQ.code);throw new RtmUnauthenticatedError(oQ,[BQ],hQ)}}const CQ=(sQ=this.mainSession)===null||sQ===void 0?void 0:sQ.getRegistrarSession(),dQ=await CQ.requestUpdateEdgeTicket(IQ).toPromise();if(dQ.code!==0){const{code:uQ,reason:hQ}=getErrorInfoByCode(dQ.code);throw new RtmUnavailableError(oQ,[hQ],uQ)}CQ.curLoginSockets.filter(uQ=>uQ!==void 0).forEach(uQ=>uQ.ticket=IQ);const lQ=atob(IQ);return(aQ=this.mainSession)===null||aQ===void 0||aQ.getRegistrarSession().emit("syncTicketUpdated",{ticket:lQ,vid:this.context.vid}),await((cQ=this.mainSession)===null||cQ===void 0?void 0:cQ.getPresenceSession().renewKey(lQ)),rQ}if(!isValidId(AQ.channelName)){const{code:CQ,reason:dQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_CHANNEL_NAME);throw new RtmInvalidArgumentError(oQ,[dQ],CQ)}if(!this.streamChannelList.some(CQ=>CQ===AQ.channelName)){this.warn("renewToken: channel(".concat(AQ.channelName,") not join."));const{code:CQ,reason:dQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_CHANNEL_NAME);throw new RtmInvalidArgumentError(oQ,[dQ],CQ)}try{const CQ=this.stChannelInstances.find(dQ=>dQ.channelName===AQ.channelName);return await(CQ==null?void 0:CQ.renewStreamChannelToken(eQ)),rQ}catch(CQ){throw CQ}}catch(CQ){const{serverCode:dQ,errorCode:lQ}=CQ;throw nQ=dQ??lQ,CQ}finally{var EQ;this.context.addReportEvents("RenewTokenRes",{lts:Long$2.fromNumber(Date.now()),vid:Long$2.fromString(getParameter("VID").get(this.context.appId)||"0"),sid:this.context.sid,userId:this.context.uid,elapse:getElapse(this.context.startTime),cname:(EQ=AQ==null?void 0:AQ.channelName)!==null&&EQ!==void 0?EQ:"",token:eQ,apErrCode:nQ,regErrCode:nQ})}}async updateConfig(eQ){for(let AQ=0,iQ=getKeys(eQ);AQ<iQ.length;AQ++){const oQ=iQ[AQ];if(oQ==="logLevel"){eQ.logLevel&&(updateWasmLogLevel(eQ.logLevel),updateLogLevel(eQ.logLevel,this.context.config));continue}const rQ=eQ[oQ];rQ!=null&&(eQ.cloudProxy&&this.info("RTM cloud proxy enabled"),eQ.logUpload&&this.info("Log upload enabled"),this.context.config[oQ]=rQ)}return{timestamp:0}}async login(eQ){var AQ,iQ,oQ;const rQ=this.linkState==="FAILED";rQ&&this.cacheCrdtState();const nQ=Array.from((AQ=(iQ=this._lastOptions)===null||iQ===void 0?void 0:iQ.keys())!==null&&AQ!==void 0?AQ:[]),sQ=new Map;nQ.forEach(wQ=>{var bQ,NQ;(bQ=this._lastOptions)!==null&&bQ!==void 0&&bQ.has(wQ)&&sQ.set(wQ,(NQ=this._lastOptions)===null||NQ===void 0?void 0:NQ.get(wQ))});const aQ=[],cQ=OperationName.login;this.token=eQ==null?void 0:eQ.token;let gQ=this.token;if(this.linkState==="CONNECTING"){const{code:wQ,reason:bQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_DUPLICATE_OPERATION);throw new RtmUnavailableError(cQ,[bQ],wQ)}const IQ=this.context.instanceId===null,EQ=(oQ=this.context.instanceId)!==null&&oQ!==void 0?oQ:getRandomUInt64();if(this.context.instanceId=EQ,this.context.sid=getSid(EQ),this.linkState==="IDLE"&&this.updateLinkState("CONNECTING","LOGIN",[],"LOGIN",LinkStateChangeReasonDescription.LOGIN),["FAILED","SUSPENDED","DISCONNECTED"].includes(this.linkState)&&this.updateLinkState("CONNECTING","LOGIN",[],"RELOGIN",LinkStateChangeReasonDescription.RELOGIN),this.connectionState==="CONNECTED")return{timestamp:0};try{if(this.context.rtmConfig.privateConfig&&!this.context.rtmConfig.privateConfig.serviceType.includes("MESSAGE")){const{code:wQ,reason:bQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_SERVICE_NOT_SUPPORTED);throw new RtmUnavailableError(cQ,[bQ],wQ)}if(this.apiRateLimit.canMakeOperation("login"),this.token&&validateToken(this.token,this.appId,cQ,wQ=>{this.warn(wQ)}),this.connectionState!=="DISCONNECTED"&&this.connectionState!=="FAILED")return{timestamp:0};if(!isValidId(this.userId)){const{code:wQ,reason:bQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_USER_ID);throw new RtmInvalidArgumentError(cQ,[bQ],wQ)}if(this.token===this.context.appId&&(gQ=void 0),typeof gQ=="string"&&gQ)this.context.token=gQ;else if(typeof gQ!="string"&&!isNil$1(gQ)){const{code:wQ,reason:bQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_TOKEN);throw new RtmInvalidArgumentError(cQ,[bQ],wQ)}this.context.enablePrivate&&areaConfig&&this._throwInvalidPrivateConfig(cQ," Use private config, not permit setArea")}catch(wQ){const{errorCode:bQ}=wQ;throw this._handleLoginFailedState(bQ),wQ}const CQ={timestamp:0};if(this.linkState==="CONNECTED")return CQ;this.internalEmitter.once("LOGOUT",this.onLogout),changeBusyStatus(!0),this.info("RTM Client logging in as ".concat(replaceRangeWithAsterisk(this.userId))),IQ&&this.context.sendReport("Session",{appId:this.context.appId,did:navigator.userAgent,elapse:getElapse(this.mainSession&&this.mainSession.getRegistrarSession().startTime),index:{index1:this.userId,index2:this.context.appId,index3:"logUpload=".concat(this.context.config.logUpload)},installId:this.processId,lts:Long$2.fromNumber(Date.now()),os:WEB_PLATFORM_TYPE,sid:getSid(EQ),token:gQ||"",userId:this.userId,ver:VERSION,buildno:100*VERSION_NO+SUBVERSION,subVersion:SUBVERSION,version:VERSION_NO}),this._customConfig.init(this.context.sid);const dQ=Date.now();this.loginPromise=this.loginImpl({uid:this.userId,instanceId:EQ});try{var lQ,uQ;await this.loginPromise,this.checkVid(),this.onConnectionStateChanged("CONNECTED","LOGIN_SUCCESS"),this.context.addReportEvents("LoginResult",{lts:Long$2.fromNumber(Date.now()),vid:Long$2.fromString(getParameter("VID").get(this.context.appId)||"0"),sid:this.context.sid,code:(lQ=this.mainSession)!==null&&lQ!==void 0&&(lQ=lQ.getPresenceSession())!==null&&lQ!==void 0&&lQ.getSyncConnected()?0:RTMErrorCode.RTM_ERROR_PRESENCE_NOT_CONNECTED,elapse:getElapse((uQ=this.mainSession)===null||uQ===void 0?void 0:uQ.getRegistrarSession().startTime),userId:this.context.uid}),this.updateLinkState("CONNECTED","LOGIN",[...aQ],"LOGIN_SUCCESS",LinkStateChangeReasonDescription.LOGIN_SUCCESS);try{if(rQ){var hQ,BQ,QQ,fQ;((hQ=(BQ=this._lastChannelMetaEventInfos)===null||BQ===void 0?void 0:BQ.size)!==null&&hQ!==void 0?hQ:0)>0&&this.mainSession&&(this.mainSession.getRegistrarSession().channelMetaEventInfos=new Map(this._lastChannelMetaEventInfos)),((QQ=(fQ=this._lastUserMetaEventInfos)===null||fQ===void 0?void 0:fQ.size)!==null&&QQ!==void 0?QQ:0)>0&&this.mainSession&&(this.mainSession.getRegistrarSession().userMetaEventInfos=new Map(this._lastUserMetaEventInfos)),(await Promise.all([...nQ==null?void 0:nQ.map(bQ=>{const{channelName:NQ,channelType:UQ}=getChannelDetailByName(bQ),PQ=sQ.get(bQ);return PQ&&UQ==="MESSAGE"?this.subscribe(NQ,PQ,!0):PQ&&UQ==="STREAM"?(OQ=this.stChannelInstances.find(YQ=>YQ.channelName===NQ))===null||OQ===void 0||(OQ=OQ._streamChannelImpl)===null||OQ===void 0?void 0:OQ.subscribe(PQ,!0):[];var OQ}),this.reSubUserMetadata(),this.reSub()])).forEach((bQ,NQ)=>{NQ>=nQ.length||bQ instanceof RTMBaseError&&aQ.push(nQ[NQ])}),this._lastOptions=void 0,this._lastChannelMetaEventInfos=void 0,this._lastUserMetaEventInfos=void 0}}catch(wQ){console.error("restore failed",wQ),this.logError("restore failed ".concat(JSON.stringify(wQ)))}return CQ}catch(wQ){var _Q;if(isRtmError(wQ)&&((_Q=this.mainSession)===null||_Q===void 0||!_Q.getRegistrarSession().connection.cancelLogin)){var RQ;const{errorCode:bQ}=wQ;this.context.addReportEvents("Link",{ackedServerIp:"",destServerIp:"",ec:wQ.code||1,sc:wQ.serverCode,elapse:getElapse(this.mainSession&&this.mainSession.getRegistrarSession().startTime),lts:Long$2.fromNumber(Date.now()),responseTime:Date.now()-dQ,sid:getSid(EQ),userId:this.userId,version:VERSION_NO,subVersion:SUBVERSION,connectionsequence:Long$2.fromNumber(0),linktype:4,linkflag:Long$2.fromNumber(0),linkenv:0}),((RQ=this.mainSession)===null||RQ===void 0||(RQ=RQ.getRegistrarSession().connection)===null||RQ===void 0||!RQ.cancelLogin)&&this._handleLoginFailedState(bQ)}throw this.context.socketUseProxy=!1,wQ}finally{this.loginPromise=void 0,changeBusyStatus(!1),this.context.socketUseProxy&&this.log("port fallback to 443")}}async internalLogoutHandler(){let eQ=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],AQ=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];try{await this.logoutVosWeb();try{await this.logoutSync(AQ)}catch(iQ){throw iQ}}catch(iQ){throw console.error("internalLogoutHandler error",iQ),iQ}finally{eQ&&this.logoutRegistrar(),this.clearEffectsOfLogout()}}clearEffectsOfLogout(){this.channelMetadataSub.clear(),this.localAcquiredLocks.clear(),this.context.userMetadataSub.clear(),this.clearLinkTimers(),this.context.instanceId=null,this.context.hasLoggedIn=!1,this.deleteIntervalCreateColl(),this.internalEmitter.emit("LOGOUT"),this.localStateCache.clear()}async logoutVosWeb(){await Promise.all(this.stChannelInstances.filter(eQ=>(this.log("channel(".concat(eQ.channelName,"), isJoinedChannel: ").concat(eQ.isJoinedChannel)),eQ.isJoinedChannel)).map(eQ=>(eQ.removeAllListeners(),eQ._streamChannelImpl.leave(!1))))}reportEvents(){var eQ,AQ;if(!this.context.couldReportEvent)return;triggerReport(this.context.vid,this.context.appId,this.context.cloudProxy,(eQ=this.context.rtmConfig.privateConfig)===null||eQ===void 0?void 0:eQ.eventUploadHosts,this.context.couldReportEvent,!0);const iQ=(AQ=this.mainSession)===null||AQ===void 0?void 0:AQ.getRegistrarSession().connection.apClient.reportIntervalId;iQ&&clearEventReportTimer(iQ)}async logout(){var eQ,AQ;const iQ={timestamp:0},oQ=(eQ=this.mainSession)===null||eQ===void 0?void 0:eQ.getRegistrarSession(),rQ=oQ==null?void 0:oQ.connection;if(this.linkState!=="CONNECTING"&&this.linkState!=="SUSPENDED"&&this.linkState!=="DISCONNECTED"||(this.warn("logout: cancel login"),rQ&&(rQ.cancelLogin=!0),oQ==null||oQ.emit("login-cancel"),oQ==null||oQ.loginSubject$.next(),rQ==null||rQ.apClient.apFinish$.next(),rQ==null||rQ.endLogin$.next()),this.connectionState==="DISCONNECTED"&&this.linkState==="IDLE")return this.warn("Already in logout state: ".concat(this.connectionState)),iQ;if(this.mainSession&&getParameter("VID").get(this.context.appId)&&this.context.addReportEvents("Logout",{elapse:getElapse((AQ=this.mainSession)===null||AQ===void 0?void 0:AQ.getRegistrarSession().startTime),lts:Long$2.fromNumber(Date.now()),sid:getSid(this.mainSession.getRegistrarSession().instanceId),userId:this.userId,version:VERSION_NO,subVersion:SUBVERSION,connectionsequence:Long$2.fromNumber(0),linktype:4,linkflag:Long$2.fromNumber(0),linkenv:0}),this._customConfig.stop(),this.connectionState==="FAILED"||this.linkState==="FAILED"){this.linkState==="FAILED"&&this.updateLinkState("IDLE","LOGOUT",[],"LOGOUT",LinkStateChangeReasonDescription.LOGOUT),this.connectionState==="FAILED"&&this.onConnectionStateChanged("DISCONNECTED","LOGOUT");try{await this.internalLogoutHandler(!1,!1)}catch(sQ){this.logError("logout failed when linkState is FAILED: ".concat(sQ))}return iQ}if(this.connectionState==="RECONNECTING"||this.linkState==="DISCONNECTED"||this.linkState==="SUSPENDED"||this.linkState==="CONNECTING"){var nQ;this.info('Reset connection state from "RECONNECTING" to "DISCONNECTED"');try{await this.internalLogoutHandler(!0,!1)}catch(sQ){this.logError("logout failed when RECONNECTING: ".concat(sQ))}return this.linkState!=="DISCONNECTED"&&this.linkState!=="SUSPENDED"&&this.linkState!=="CONNECTING"&&((nQ=this.mainSession)===null||nQ===void 0?void 0:nQ.getRegistrarSession().connection.cancelLogin)!==!0||(this.updateLinkState("IDLE","LOGOUT",this.getUsedMessageChannelIds(),"LOGOUT",LinkStateChangeReasonDescription.LOGOUT),rQ&&(rQ.cancelLogin=!1)),this.onConnectionStateChanged("DISCONNECTED","LOST"),iQ}return await this.logoutImpl(!0,!0),this.updateLinkState("IDLE","LOGOUT",this.getUsedMessageChannelIds(),"LOGOUT",LinkStateChangeReasonDescription.LOGOUT),iQ}async logoutImpl(){let eQ=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],AQ=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];try{await this.internalLogoutHandler(eQ,AQ),this.log("logout success")}catch(iQ){this.logError("logout failed: ".concat(iQ))}finally{this.reportEvents(),this.onConnectionStateChanged("DISCONNECTED","LOGOUT")}}async logoutRegistrar(){const eQ=this.hasLock();return this.mainSession.getRegistrarSession().logoutHandler(eQ)}absent(eQ){var AQ,iQ,oQ;const{withPresence:rQ,beQuiet:nQ}=this.getLastSubOptions(eQ);rQ&&this.unSubPresence(eQ,!0),!rQ&&((AQ=this.mainSession)===null||AQ===void 0||AQ.getPresenceSession().unsubScribeSelfPresence(eQ)),!nQ&&((iQ=this.mainSession)===null||iQ===void 0||iQ.getPresenceSession().delChannelDoc(eQ)),this.leavePresenceColl(eQ),(oQ=this.mainSession)===null||oQ===void 0||oQ.getPresenceSession().leaveRetryChannels([eQ])}async logoutSync(){var eQ;let AQ=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];await Promise.all(this.getUsedChannelIds().map(oQ=>(this.reportChannelLeave(oQ,0),this.absent(oQ))));const iQ=(eQ=this.mainSession)===null||eQ===void 0?void 0:eQ.getPresenceSession();AQ&&await(iQ==null?void 0:iQ.logoutHandler())}async publish(eQ,AQ,iQ){const oQ=OperationName.publish;if(this.apiRateLimit.canMakeOperation("publish"),iQ!=null&&iQ.channelType&&(iQ==null?void 0:iQ.channelType)!=="USER"&&(iQ==null?void 0:iQ.channelType)!=="MESSAGE"){const{code:dQ,reason:lQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_CHANNEL_TYPE);throw new RtmInvalidArgumentError(oQ,[lQ],dQ)}if(this.validateRtmConnection(oQ),!isValidId(eQ)){const{code:dQ,reason:lQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_CHANNEL_NAME);throw new RtmInvalidArgumentError(oQ,[lQ],dQ)}if(validateMessageSize(AQ,oQ),iQ!=null&&iQ.customType&&validateCustomType(iQ==null?void 0:iQ.customType,oQ),iQ!=null&&iQ.storeInHistory&&this.consoleConfig["history.enabled"]!=="true"){const{code:dQ,reason:lQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_HISTORY_NOT_AVAILABLE);throw new RtmInvalidArgumentError(oQ,[lQ],dQ)}const rQ={timestamp:0,channelName:eQ},nQ=AQ instanceof Uint8Array?{rawMessage:AQ,messageType:"RAW"}:{text:AQ,messageType:"TEXT"},sQ=(iQ==null?void 0:iQ.channelType)==="USER";let aQ;if(aQ=sQ?nQ.messageType==="TEXT"?RtmMessageCategoryEnum.P2pSMsgNoOfflineFlag:RtmMessageCategoryEnum.P2pRMsgNoOfflineFlag:nQ.messageType==="TEXT"?RtmMessageCategoryEnum.ChannelSMsg:RtmMessageCategoryEnum.ChannelRMsg,validMessage(nQ,RTMErrorCode.RTM_ERROR_CHANNEL_INVALID_MESSAGE),this.connectionState==="RECONNECTING"){const dQ=Date.now();return await new Promise((lQ,uQ)=>{let hQ;const BQ=async()=>{const QQ=Date.now()-dQ;try{var fQ;await commonSendMessage({message:nQ,peerId:eQ,session:(fQ=this.mainSession)===null||fQ===void 0?void 0:fQ.getRegistrarSession(),diff:QQ,customType:iQ==null?void 0:iQ.customType,storeInHistory:iQ==null?void 0:iQ.storeInHistory,toPeer:sQ}),lQ()}catch(NQ){var _Q,RQ;const{code:UQ,reason:PQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED);var wQ,bQ;isTimeout(NQ)&&((wQ=this.mainSession)===null||wQ===void 0||wQ.getRegistrarSession().emit("messageCount",{messageCategory:aQ,type:"common",key:"sentcount"}),(bQ=this.mainSession)===null||bQ===void 0||bQ.getRegistrarSession().emit("messageCount",{messageCategory:aQ,type:"common",key:"timeoutcount"}),uQ(new RtmTimeoutError(oQ,[PQ],UQ))),isRtmError(NQ)&&uQ(NQ),(_Q=this.mainSession)===null||_Q===void 0||_Q.getRegistrarSession().emit("messageCount",{messageCategory:aQ,type:"common",key:"sentcount"}),(RQ=this.mainSession)===null||RQ===void 0||RQ.getRegistrarSession().emit("messageCount",{messageCategory:aQ,type:"common",key:"unknowerrorcount"}),uQ(new RtmUnavailableError(oQ,[PQ],UQ))}finally{clearTimeout(hQ)}};this.internalEmitter.once("RECONNECTED",BQ),hQ=setTimeout(()=>{this.internalEmitter.off("RECONNECTED",BQ);const{code:QQ,reason:fQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED);uQ(new RtmTimeoutError(oQ,[fQ],QQ))},9e3)}),rQ}try{var cQ;await commonSendMessage({message:nQ,peerId:eQ,session:(cQ=this.mainSession)===null||cQ===void 0?void 0:cQ.getRegistrarSession(),diff:0,customType:iQ==null?void 0:iQ.customType,storeInHistory:iQ==null?void 0:iQ.storeInHistory,toPeer:sQ})}catch(dQ){var gQ,IQ;if(isTimeout(dQ)){var EQ,CQ;(EQ=this.mainSession)===null||EQ===void 0||EQ.getRegistrarSession().emit("messageCount",{messageCategory:aQ,type:"common",key:"sentcount"}),(CQ=this.mainSession)===null||CQ===void 0||CQ.getRegistrarSession().emit("messageCount",{messageCategory:aQ,type:"common",key:"timeoutcount"});const{code:hQ,reason:BQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_TIMEOUT);throw new RtmTimeoutError(oQ,[BQ],hQ)}if(isRtmError(dQ))throw dQ;(gQ=this.mainSession)===null||gQ===void 0||gQ.getRegistrarSession().emit("messageCount",{messageCategory:aQ,type:"common",key:"sentcount"}),(IQ=this.mainSession)===null||IQ===void 0||IQ.getRegistrarSession().emit("messageCount",{messageCategory:aQ,type:"common",key:"unknowerrorcount"});const{code:lQ,reason:uQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED);throw new RtmUnknownError(oQ,[uQ],lQ)}return rQ}getLastSubOptions(eQ){var AQ,iQ;return(AQ=(iQ=this.mainSession)===null||iQ===void 0?void 0:iQ.lastSubscribeOrJoinOptions.get(eQ))!==null&&AQ!==void 0?AQ:{}}async subscribe(eQ,AQ){var iQ,oQ,rQ;let nQ=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const sQ=OperationName.subscribe;if(this.apiRateLimit.canMakeOperation("subscribe"),this.validateRtmConnection(sQ),this.validateMainSessionExist(sQ),this.linkState!=="CONNECTED"){const{code:bQ,reason:NQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_CONNECTED);throw new RtmInvalidStatusError(sQ,[NQ],bQ)}if(!isValidId(eQ)){const{code:bQ,reason:NQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_CHANNEL_NAME);throw new RtmInvalidArgumentError(sQ,[NQ],bQ)}const aQ=!((iQ=this.mainSession)!==null&&iQ!==void 0&&iQ.lastSubscribeOrJoinOptions.has(eQ)),cQ=this.getUsedMessageChannelIds(),gQ=(oQ=getParameter("MESSAGE_CHANNEL_COUNT"))!==null&&oQ!==void 0?oQ:MAX_JOINED_CHANNELS;if(aQ&&(this.getUsedChannelIds().length>=gQ||cQ.length>=gQ)){const{code:bQ,reason:NQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_INSTANCE_EXCEED_LIMITATION);throw new RtmLimitExceededError(sQ,[NQ],bQ)}this._validateJoinOptions(AQ,sQ);const IQ=handleSubOptionsAsDefault(AQ),EQ={timestamp:0,channelName:eQ},{currentResolve:CQ,currentReject:dQ}=await this.context.operationControl.awaitPromise(OperationName.subscribe+eQ),lQ=(rQ=this.mainSession)===null||rQ===void 0?void 0:rQ.getRegistrarSession(),uQ=getRandomInt(0,Number.MAX_SAFE_INTEGER);try{var hQ;const{withLock:bQ,withMessage:NQ,withMetadata:UQ,withPresence:PQ,beQuiet:OQ}=this.getLastSubOptions(eQ);if((hQ=this.mainSession)===null||hQ===void 0||hQ.reportChnJoin(eQ,IQ,uQ),IQ!=null&&IQ.withMessage&&!NQ)try{await this.subMessage(eQ,sQ)}catch(pQ){var BQ;throw lQ==null||lQ.emit("channelLeft",eQ),(BQ=this.mainSession)===null||BQ===void 0||BQ.lastSubscribeOrJoinOptions.delete(eQ),pQ}const YQ=getParameter("STORAGE_CHANNEL_SUB_ENABLED"),SQ=IQ.withMetadata&&!UQ&&(YQ!==void 0?String(YQ):this.consoleConfig["storage.channel_subscribe_enabled"])==="true",xQ=IQ.withLock&&!bQ,{code:VQ,reason:TQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_SUBSCRIBE_FAILED),kQ=(IQ==null?void 0:IQ.beQuiet)&&!OQ&&!aQ,GQ=!(IQ!=null&&IQ.beQuiet)&&(aQ||OQ),vQ=(IQ==null?void 0:IQ.withPresence)&&!PQ;try{var QQ,fQ;await Promise.all([IQ!=null&&IQ.withMessage||!NQ?void 0:this.unSubMessage(eQ),SQ?this.subMetadata(eQ):void 0,IQ!=null&&IQ.withMetadata||!UQ?void 0:this.unSubMetadata(eQ),xQ?this.subLock(eQ):void 0,IQ!=null&&IQ.withLock||!bQ?void 0:this.unSubLock(eQ),aQ?await((QQ=this.mainSession)===null||QQ===void 0?void 0:QQ.getPresenceSession().joinPresenceColl(eQ,{withPresence:IQ.withPresence,needPutDoc:GQ,needDelDoc:kQ,needSub:vQ,reJoinCauseReconnect:nQ})):(fQ=this.mainSession)===null||fQ===void 0?void 0:fQ.getPresenceSession().onCreateCollection(eQ,{withPresence:IQ.withPresence,needPutDoc:GQ,needDelDoc:kQ,needSub:!1,reJoinCauseReconnect:nQ})])}catch(pQ){throw new RtmUnknownError(sQ,[TQ+pQ],VQ)}var _Q,RQ,wQ;IQ!=null&&IQ.withPresence&&!PQ&&PQ!==void 0&&((_Q=this.mainSession)===null||_Q===void 0||_Q.getPresenceSession().unsubScribeSelfPresence(eQ,!1),this.leavePresenceColl(eQ),await((RQ=this.mainSession)===null||RQ===void 0?void 0:RQ.getPresenceSession().joinPresenceColl(eQ,{withPresence:!0,needPutDoc:GQ,needDelDoc:kQ,needSub:vQ}))),(IQ==null||!IQ.withPresence)&&PQ&&(this.unSubPresence(eQ),this.leavePresenceColl(eQ),await((wQ=this.mainSession)===null||wQ===void 0?void 0:wQ.getPresenceSession().joinPresenceColl(eQ,{withPresence:!1,needPutDoc:GQ,needDelDoc:kQ,needSub:vQ})))}catch(bQ){CQ(void 0);const{errorCode:NQ,serverCode:UQ}=bQ;throw lQ&&this.context.addReportEvents("ChnJoinRes",{cname:eQ,lts:Long$2.fromNumber(Date.now()),elapse:getElapse(lQ.startTime),errCode:NQ,sid:getSid(lQ==null?void 0:lQ.instanceId),serverErrCode:UQ??NQ,userId:this.context.uid,seq:Long$2.fromNumber(uQ)}),bQ}return lQ&&this.context.addReportEvents("ChnJoinRes",{cname:eQ,lts:Long$2.fromNumber(Date.now()),elapse:getElapse(lQ.startTime),errCode:0,sid:getSid(lQ.instanceId),serverErrCode:0,userId:this.context.uid,seq:Long$2.fromNumber(uQ)}),CQ(void 0),EQ}async unsubscribe(eQ){var AQ;const iQ=OperationName.unsubscribe;if(this.validateRtmConnection(iQ),!isValidId(eQ)){const{code:lQ,reason:uQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_CHANNEL_NAME);throw new RtmInvalidArgumentError(iQ,[uQ],lQ)}const oQ={timestamp:0,channelName:eQ};this.validateMainSessionExist(iQ);const rQ=(AQ=this.mainSession)===null||AQ===void 0?void 0:AQ.lastSubscribeOrJoinOptions.has(eQ);if(!rQ)return oQ;const{withPresence:nQ,withLock:sQ,withMetadata:aQ,withMessage:cQ,beQuiet:gQ}=this.getLastSubOptions(eQ);try{var IQ,EQ,CQ;this.reportChannelLeave(eQ,0);const lQ=!gQ;await Promise.all([cQ?this.unSubMessage(eQ):void 0,aQ?this.unSubMetadata(eQ):void 0,sQ?this.unSubLock(eQ):void 0,nQ?this.unSubPresence(eQ,!0):(IQ=this.mainSession)===null||IQ===void 0?void 0:IQ.getPresenceSession().unsubScribeSelfPresence(eQ),lQ?(EQ=this.mainSession)===null||EQ===void 0?void 0:EQ.getPresenceSession().delChannelDoc(eQ):void 0]),rQ&&this.leavePresenceColl(eQ),this.localAcquiredLocks.delete(eQ),(CQ=this.mainSession)===null||CQ===void 0||CQ.lastSubscribeOrJoinOptions.delete(eQ)}catch(lQ){let uQ;const hQ=RTMErrorCode.RTM_ERROR_CHANNEL_LEAVE_FAILED;if(this.logError(lQ),isRtmError(lQ))(lQ==null?void 0:lQ.code)===void 0&&(lQ.code=RTMErrorCode.RTM_ERROR_CHANNEL_LEAVE_FAILED),uQ=lQ;else{const{code:BQ,reason:QQ}=getErrorInfoByCode(hQ);uQ=new RtmUnknownError(iQ,[QQ],BQ)}throw uQ}finally{var dQ;(dQ=this.mainSession)===null||dQ===void 0||dQ.getPresenceSession().leaveRetryChannels([eQ])}return oQ}async subMessage(eQ,AQ){try{this.log("Joining the channel %s",replaceRangeWithAsterisk(eQ)),await this.mainSession.getRegistrarSession().requestChannelJoin(eQ),this.info("The channel %s joined successfully",replaceRangeWithAsterisk(eQ))}catch(iQ){if(this.logError(iQ),isRtmError(iQ))throw iQ;const{code:oQ,reason:rQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_SUBSCRIBE_FAILED);throw new RtmUnknownError(AQ,[rQ],oQ)}}async unSubMessage(eQ){this.mainSession.getRegistrarSession().requestChannelLeave(eQ),this.clearChannel([eQ])}async subMetadata(eQ){try{var AQ;await((AQ=this.mainSession)===null||AQ===void 0?void 0:AQ.getRegistrarSession().requestSubscribeChannelMetadata(eQ,"JOIN")),this.channelMetadataSub.add(eQ)}catch(iQ){this.warn("sub channel metadata failure when sub channel(".concat(replaceRangeWithAsterisk(eQ),"), error is ").concat(iQ,"."))}}unSubMetadata(eQ){this.mainSession.getRegistrarSession().requestUnsubscribeChannelMetadata(eQ),this.channelMetadataSub.delete(eQ)}async subLock(eQ){try{var AQ;await((AQ=this.mainSession)===null||AQ===void 0?void 0:AQ.getRegistrarSession().requestSubscribeLock(eQ))}catch(iQ){this.warn("sub lock info failure when sub channel(".concat(replaceRangeWithAsterisk(eQ),"), error is ").concat(iQ,"."))}}unSubLock(eQ){const AQ=this.mainSession,iQ=AQ==null?void 0:AQ.getRegistrarSession();iQ==null||iQ.requestUnsubscribeLock(eQ)}leavePresenceColl(eQ){var AQ;(AQ=this.mainSession)===null||AQ===void 0||AQ.getPresenceSession().leave(eQ)}subPresence(eQ){var AQ;(AQ=this.mainSession)===null||AQ===void 0||AQ.getPresenceSession().subPresence(eQ)}unSubPresence(eQ){var AQ;let iQ=arguments.length>1&&arguments[1]!==void 0&&arguments[1];(AQ=this.mainSession)===null||AQ===void 0||AQ.getPresenceSession().unSubPresence(eQ,iQ)}cacheStateAndDelDoc(eQ){var AQ;const iQ=(AQ=this.mainSession)===null||AQ===void 0?void 0:AQ.getPresenceSession();iQ==null||iQ.cacheStateAndDelDoc(eQ)}createStreamChannel(eQ){const AQ=OperationName.createStreamChannel;if(this.context.rtmConfig.privateConfig&&!this.context.rtmConfig.privateConfig.serviceType.includes("STREAM")){const{code:rQ,reason:nQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_SERVICE_NOT_SUPPORTED);throw new RtmUnavailableError(AQ,[nQ],rQ)}if(!isValidId(eQ)){const{code:rQ,reason:nQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_CHANNEL_NAME);throw new RtmInvalidArgumentError(AQ,[nQ],rQ)}const iQ=this.stChannelInstances.find(rQ=>rQ.channelName===eQ);if(iQ)return this.log("channel already exists ".concat(replaceRangeWithAsterisk(eQ))),iQ;const oQ=new StreamChannel(this.context,this.logger,{channelName:eQ,appId:this.appId,userId:this.useStringUserId===!1?parseInt(this.userId):this.userId},this.emit,()=>this.streamChannelList,()=>this.consoleConfig,this.validateRtmConnection.bind(this),()=>this.linkState,()=>this.channelMetadataSub,()=>this.mainSession);return this.stChannelInstances.push(oQ),oQ.internalEmitter.on("stream-channel-joined",rQ=>{this.streamChannelList.push(rQ)}),oQ.internalEmitter.on("stream-channel-leaved",rQ=>{this.streamChannelList=this.streamChannelList.filter(nQ=>nQ!==rQ),this.localAcquiredLocks.delete(getChannelNameByType(rQ,"STREAM"))}),oQ}addEventListener(eQ,AQ){this.on(eQ,AQ)}removeEventListener(eQ,AQ){this.off(eQ,AQ)}clearLinkTimers(){this.suspended=!1,this.suspendedTimer&&clearTimeout(this.suspendedTimer),this.suspendedTimer=null,this.context.linkIntervals=[...LINK_INTERVALS],this.linkTimer&&clearTimeout(this.linkTimer),this.linkTimer=null,this.joinCheckTimer&&clearTimeout(this.joinCheckTimer),this.joinCheckTimer=null}async loginImpl(eQ){let{uid:AQ,instanceId:iQ,forceLoginTime:oQ=0}=eQ;const rQ=OperationName.login;let nQ=iQ;if(this.lastLoginTime!==void 0&&Date.now()-this.lastLoginTime<1e3/LOGIN_QPS_LIMIT&&oQ>0){const{code:cQ,reason:gQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOGIN_ABORTED);throw new RtmInvokeTooOftenError(rQ,[gQ],cQ)}try{this.context.uid=AQ}catch{const{code:gQ,reason:IQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_USER_ID);throw new RtmInvalidArgumentError(rQ,[IQ],gQ)}oQ===0&&this.onConnectionStateChanged("CONNECTING","CONNECTING");const sQ=new MainSession(this.context,this.logger,nQ,()=>this.consoleConfig,()=>this.localStateCache,this.cacheCrdtState.bind(this),this!=null&&this.initEncryption?{key:this.key,iv:this.iv,keyLength:this.keyLength,initEncryption:this.initEncryption}:void 0);if(this.mainSession=sQ,oQ===0){const cQ=this.mainSession.getPresenceSession();cQ.on("doc-timeout",async gQ=>{await this.presenceReJoin(gQ)}),cQ.on("doc-deleted",async gQ=>{await this.presenceReJoin(gQ)}),cQ.on("presence",gQ=>{this.emit("presence",gQ)})}const aQ=sQ.getRegistrarSession();return aQ.on("connectionLost",()=>{this.connectionState!=="CONNECTED"&&this.linkState!=="CONNECTED"||(this.updateLinkState("DISCONNECTED","HEARTBEAT_TIMEOUT",this.getUsedMessageChannelIds(),"KEEP_ALIVE_TIMEOUT",LinkStateChangeReasonDescription.KEEP_ALIVE_TIMEOUT),this.onConnectionStateChanged("RECONNECTING","INTERRUPTED"),aQ.listenerCount("userJoined")===0&&aQ.on("userJoined",async()=>{this.log("received reconnected userJoined event"),this.linkState!=="CONNECTED"&&(await this.updateLinkState("CONNECTED","AUTO_RECONNECT",this.getUsedMessageChannelIds(),"RECONNECT_SUCCESS",LinkStateChangeReasonDescription.RECONNECT_SUCCESS,!this.suspended),this.onConnectionStateChanged("CONNECTED","LOGIN_SUCCESS"),this.clearLinkTimers())}),aQ==null||aQ.clearLockSnapshotLastTime())}),aQ.on("tokenExpired",async()=>{this.warn("reg session listen the token expired"),aQ.connection.apClient.apFinish$.next(void 0),aQ.connection.stopLogin(),this.userDropHandler(2)}),aQ.on("tokenPrivilegeWillExpire",this.TokenPrivilegeWillExpireHandler),aQ.once("userDrop",this.userDropHandler),aQ.on("instanceChanged",cQ=>nQ=cQ),aQ.on("banEdgeIP",cQ=>{this.banIP(cQ)}),aQ.on("userMetaDataUpdated",this.userMetaDataUpdatedHandler),aQ.on("channelTextMessage",this.onChannelTextMessage),aQ.on("channelRawMessage",this.onChannelRawMessage),aQ.on("channelMetaDataUpdated",this.onChannelMetaDataUpdated),aQ.on("channelLockEvent",this.onChannelLockEvent),aQ.on("lockWatching",this.lock.lockImpl.onLockWatching),aQ.on("lockExpired",this.emitLockExpired),aQ.on("acquireSuccess",cQ=>{let{prefixChannelName:gQ,lockName:IQ,revision:EQ}=cQ;this.updateLocalAcquiredLocksCache(gQ,IQ,"add",EQ)}),aQ.on("releaseSuccess",cQ=>{let{channelName:gQ,lockName:IQ}=cQ;this.updateLocalAcquiredLocksCache(gQ,IQ,"delete")}),aQ.on("appConfig",cQ=>{this.consoleConfig=cQ}),aQ.on("login-request",()=>{this.linkState!=="DISCONNECTED"&&this.linkState!=="SUSPENDED"||this.updateLinkState("CONNECTING","AUTO_RECONNECT",[],"AUTO_RECONNECT",LinkStateChangeReasonDescription.AUTO_RECONNECT)}),aQ.on("login-timeout",cQ=>{this.log("login - timeout"),this.suspended?this.updateLinkState("SUSPENDED","AUTO_RECONNECT",[],"RECONNECT_TIMEOUT",LinkStateChangeReasonDescription.RECONNECT_TIMEOUT):this.updateLinkState("DISCONNECTED","SERVER_TIMEOUT",[],cQ?"RECONNECT_TIMEOUT":"LOGIN_TIMEOUT",cQ?LinkStateChangeReasonDescription.RECONNECT_TIMEOUT:LinkStateChangeReasonDescription.LOGIN_TIMEOUT),isNil$1(this.suspendedTimer)&&(this.suspendedTimer=setTimeout(()=>{this.suspended=!0},115e3))}),aQ.on("net-change-abort-reconn",()=>{this.updateLinkState("DISCONNECTED","NETWORK_CHANGE",[],"NETWORK_CHANGE",LinkStateChangeReasonDescription.NETWORK_CHANGE)}),this.lastLoginTime=Date.now(),aQ.loginHandler().toPromise().then(()=>{this.context.hasLoggedIn=!0}).catch(cQ=>{if(cQ.name==="loginRespTimeout"&&oQ<2)return this.log("loginRespTimeout: internal re-login..."),aQ.removeAllListeners(),this.loginImpl({uid:AQ,instanceId:iQ,forceLoginTime:oQ+1});throw this.handleConnectionFailed("registrar",cQ)})}handleConnectionFailed(eQ,AQ){let iQ=arguments.length>2&&arguments[2]!==void 0?arguments[2]:OperationName.login;if(this.log("Login failed when connecting ".concat(eQ)),this.connectionState!=="CONNECTING")return AQ;if(isTimeout(AQ)){this.onConnectionStateChanged("DISCONNECTED","LOST");const{code:nQ,reason:sQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOGIN_TIMEOUT);throw new RtmTimeoutError(iQ,[sQ],nQ)}if((AQ==null?void 0:AQ.code)===RTMErrorCode.RTM_ERROR_TOKEN_EXPIRED)throw this.onConnectionStateChanged("DISCONNECTED","TOKEN_EXPIRED"),AQ;if((AQ==null?void 0:AQ.code)===RTMErrorCode.RTM_ERROR_LOGIN_CANCELED||(this.onConnectionStateChanged("DISCONNECTED","REJECTED_BY_SERVER"),isRtmError(AQ)))throw AQ;const{code:oQ,reason:rQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOGIN_ABORTED);throw new RtmUnavailableError(iQ,[rQ],oQ)}getUsedChannelIds(){var eQ,AQ;const iQ=(eQ=this._lastOptions)!==null&&eQ!==void 0?eQ:(AQ=this.mainSession)===null||AQ===void 0?void 0:AQ.lastSubscribeOrJoinOptions,oQ=iQ==null?void 0:iQ.keys();return[...oQ??[]]}getUsedMessageChannelIds(){return this.getUsedChannelIds().filter(eQ=>!eQ.startsWith(K_STREAM_CHANNEL_PREFIX))}async presenceReJoin(eQ){this.log("Try rejoin channel(".concat(eQ,") when reconnected."));try{var AQ;const{beQuiet:rQ}=this.getLastSubOptions(eQ),nQ=(AQ=this.mainSession)===null||AQ===void 0?void 0:AQ.getPresenceSession();if((nQ==null?void 0:nQ.getColl(nQ.getChannelCollName(eQ)))===null){var iQ;this.log("presence coll destroyed already, need re create, channelId is ",eQ);const{withPresence:sQ}=this.getLastSubOptions(eQ);await((iQ=this.mainSession)===null||iQ===void 0?void 0:iQ.getPresenceSession().joinPresenceColl(eQ,{needPutDoc:!rQ,withPresence:sQ!=null&&sQ,needDelDoc:!1,needSub:!1,reJoinCauseReconnect:!0},!1))}var oQ;rQ||(this.log("presence coll exists, need restore doc and states, channelId is ",eQ),(oQ=this.mainSession)===null||oQ===void 0||oQ.getPresenceSession().putChannelDocAndSetState(eQ,!0))}catch(rQ){this.warn("resume presence failed",rQ)}}async reSub(){const eQ=this.getUsedChannelIds();eQ&&eQ.length>0&&eQ.forEach(AQ=>{const iQ=this.localAcquiredLocks.get(AQ)||new Map;this.lock.lockImpl.acquireOperationNoRes.forEach((oQ,rQ)=>{var nQ;const sQ=rQ.slice(AQ.length).slice(lock_prefix.length);this.log("Try reacquireLock(".concat(sQ," from notResp lock queue when reconnected, isRetry: ").concat(oQ,").")),(nQ=this.mainSession)===null||nQ===void 0||(nQ=nQ.getRegistrarSession())===null||nQ===void 0||nQ.requestAcquireLock(AQ,sQ,{retry:oQ}).toPromise().then(aQ=>{this.log("reacquireLock(".concat(sQ,") succeed that want to acquire with retry true before connection lost, code is ").concat(aQ,"."))}).catch(aQ=>{this.warn("reacquireLock(".concat(sQ,") failed, ret is ").concat(aQ==null?void 0:aQ.errorCode))}).finally(()=>{this.lock.lockImpl.clearLockCacheForAcquire(AQ,getPrefixLockName(sQ),oQ)})}),iQ&&iQ.forEach((oQ,rQ)=>{var nQ;this.log("Try reacquireLock(".concat(rQ,") when reconnected."));const sQ=()=>{var aQ;const{channelName:cQ,channelType:gQ}=getChannelDetailByName(AQ),IQ={channelType:gQ,channelName:cQ,eventType:"EXPIRED",lockName:rQ,ttl:0,publisher:"",snapshot:[],owner:"",timestamp:getUTCTimeBaseREG(this.context.offsetTime)};this.emitLockExpired(IQ),(aQ=this.mainSession)===null||aQ===void 0||(aQ=aQ.getRegistrarSession())===null||aQ===void 0||aQ.requestReleaseLock(AQ,rQ).toPromise()};(nQ=this.mainSession)===null||nQ===void 0||(nQ=nQ.getRegistrarSession())===null||nQ===void 0||nQ.requestAcquireLock(AQ,rQ).toPromise().then(aQ=>{aQ.lockRev.toNumber()!==oQ.revision&&(this.log("newRev: ".concat(aQ.lockRev,", rev: ").concat(oQ.revision,", code: ").concat(aQ," for reacquire.")),sQ())}).catch(()=>{sQ()})})})}async reSubUserMetadata(){this.context.userMetadataSub.forEach(eQ=>{var AQ;(AQ=this.mainSession)===null||AQ===void 0||AQ.getRegistrarSession().requestSubscribeUserMetadata(eQ,"RECONNECTED")})}async onLinkReconnected(){await this.reSub(),this.internalEmitter.emit("RECONNECTED")}cacheCrdtState(){var eQ;const AQ=this.getUsedChannelIds(),iQ=(eQ=this.mainSession)===null||eQ===void 0?void 0:eQ.getPresenceSession();AQ.forEach(oQ=>{try{iQ==null||iQ.getStateAndSetByLocal(oQ)}catch(rQ){this.logError(rQ),rQ.code===RTMErrorCode.RTM_ERROR_PRESENCE_USER_NOT_EXIST&&this.localStateCache.delete(oQ)}})}onConnectionStateChanged(eQ,AQ){eQ==="RECONNECTING"&&(this.reconnId+=1),this.context.sendReport("ConnectionStateChange",{sid:getSid(this.context.instanceId||Long$2.fromNumber(0)),userId:this.context.uid,lts:Long$2.fromNumber(Date.now()),elapse:getElapse(this.mainSession&&this.mainSession.getRegistrarSession().startTime),oldState:connectionStateCodeMap[this.connectionState],newState:connectionStateCodeMap[eQ],reason:connectionStateChangeReason[AQ],reconnId:this.reconnId,version:VERSION_NO,subVersion:SUBVERSION,lastdonestep:0,failedstep:0,errorcode:Long$2.fromNumber(0),servererrorcode:Long$2.fromNumber(0),networkchangesequence:Long$2.fromNumber(0),networkchangeelapse:Long$2.fromNumber(0),statechangeelapse:Long$2.fromNumber(0)}),this.connectionState=eQ,eQ!=="FAILED"&&eQ!=="DISCONNECTED"||(this.reconnId=0,this.mainSession&&(this.mainSession.getPresenceSession().removeAllListeners(),this.mainSession.getRegistrarSession().removeAllListeners(),this.mainSession.getRegistrarSession().msgDedupLru.empty(),this.mainSession.getRegistrarSession().dialogueSequenceLru.empty(),this.mainSession.getRegistrarSession().dialPendingMsgSubjectMap.clear()),this.attributeDrafts.clear());const iQ={state:eQ,reason:AQ,timestamp:getUTCTimeBaseREG(this.context.offsetTime)};this.emit("status",iQ)}async updateLinkState(eQ,AQ){let iQ=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],oQ=arguments.length>3?arguments[3]:void 0,rQ=arguments.length>4?arguments[4]:void 0,nQ=arguments.length>5&&arguments[5]!==void 0&&arguments[5];if(eQ==="CONNECTED"&&this.setIntervalCreateColl(),this.linkState===eQ)return;if(this.context.sendReport("LinkStateChange",{elapse:getElapse(this.mainSession&&this.mainSession.getRegistrarSession().startTime),lts:Long$2.fromNumber(Date.now()),reason:LinkStateChangeReason4Report[oQ],sid:getSid(this.context.instanceId||Long$2.fromNumber(0)),vid:Long$2.fromString(getParameter("VID").get(this.context.appId)||"0"),userid:this.context.uid,currentState:linkStateCodeMap[eQ],previousState:linkStateCodeMap[this.linkState],operation:linkOperationCodeMap[AQ],serviceType:0,streamChannelName:""}),this.linkState==="CONNECTED"&&eQ==="DISCONNECTED"&&this.log("link disconnected"),this.linkState==="CONNECTED"&&eQ==="FAILED"){var sQ,aQ,cQ,gQ,IQ;!this._lastOptions&&((sQ=(aQ=this.mainSession)===null||aQ===void 0||(aQ=aQ.lastSubscribeOrJoinOptions)===null||aQ===void 0?void 0:aQ.size)!==null&&sQ!==void 0?sQ:0)>0&&(this._lastOptions=new Map((IQ=this.mainSession)===null||IQ===void 0?void 0:IQ.lastSubscribeOrJoinOptions)),this._lastChannelMetaEventInfos=new Map((cQ=this.mainSession)===null||cQ===void 0?void 0:cQ.getRegistrarSession().channelMetaEventInfos),this._lastUserMetaEventInfos=new Map((gQ=this.mainSession)===null||gQ===void 0?void 0:gQ.getRegistrarSession().userMetaEventInfos)}this.linkState==="CONNECTING"&&eQ==="CONNECTED"&&AQ==="AUTO_RECONNECT"&&await this.onLinkReconnected();const EQ={currentState:eQ,previousState:this.linkState,serviceType:"MESSAGE",operation:AQ,reason:rQ??AQ,reasonCode:oQ,affectedChannels:iQ,unrestoredChannels:[],timestamp:getUTCTimeBaseREG(this.context.offsetTime),isResumed:nQ};this.linkState=eQ,this.emit("linkState",EQ)}banIP(eQ){var AQ;this.log("ip banned",eQ);const iQ=(AQ=this.blacklistedIP[eQ])!==null&&AQ!==void 0?AQ:0;this.blacklistedIP[eQ]=iQ+1}updateLocalAcquiredLocksCache(eQ,AQ,iQ,oQ){var rQ;const nQ=(rQ=this.localAcquiredLocks.get(eQ))!==null&&rQ!==void 0?rQ:new Map;iQ==="delete"?nQ==null||nQ.delete(AQ):(nQ.set(AQ,{revision:oQ}),this.localAcquiredLocks.set(eQ,nQ))}clearChannel(eQ){var AQ;const iQ=(AQ=this.mainSession)===null||AQ===void 0?void 0:AQ.getRegistrarSession();for(let oQ=0;oQ<eQ.length;oQ++){const rQ=eQ[oQ];iQ==null||iQ.emit("channelLeft",rQ),iQ==null||iQ.emit("unSubChannelLock",rQ),iQ==null||iQ.emit("unSubChannelMetadata",rQ)}}hasLock(){let eQ=!1;return this.localAcquiredLocks.size>0&&this.localAcquiredLocks.forEach(AQ=>{AQ.size>0&&(eQ=!0)}),eQ}validateRtmConnection(eQ){var AQ;if(this.context.enablePrivate&&((AQ=this.context.rtmConfig.privateConfig)===null||AQ===void 0||!AQ.serviceType.includes("MESSAGE"))){const{code:iQ,reason:oQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_SERVICE_NOT_SUPPORTED);throw new RtmUnavailableError(eQ,oQ,iQ)}if(this.linkState==="IDLE"){this.log("The client state is ".concat(this.connectionState,", cannot do the operation(").concat(eQ,")"));const{code:iQ,reason:oQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmInvalidStatusError(eQ,[oQ],iQ)}}validateMainSessionExist(eQ){if(this.mainSession===void 0){const{code:AQ,reason:iQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_LOGIN);throw new RtmUnavailableError(eQ,[iQ],AQ)}}checkVid(){var eQ;const AQ=this.context.vid,iQ=(eQ=this.mainSession)===null||eQ===void 0?void 0:eQ.getPresenceSession().vid;AQ!==iQ&&this.warn("The vid of uniLbs(".concat(AQ,") is not the same as the vid of syncProxy(").concat(iQ,")"))}reportChannelLeave(eQ,AQ){this.context.addReportEvents("ChnLeave",{cname:eQ,lts:Long$2.fromNumber(Date.now()),elapse:getElapse(this.mainSession.getRegistrarSession().startTime),errCode:AQ,sid:getSid(this.mainSession.getRegistrarSession().instanceId),userId:this.userId})}handlePrivateConfig(eQ,AQ){var iQ,oQ,rQ,nQ,sQ,aQ,cQ,gQ,IQ;if(isEmptyObject(AQ==null?void 0:AQ.privateConfig)||isEmptyObject(AQ==null||(iQ=AQ.privateConfig)===null||iQ===void 0?void 0:iQ.serviceType)||AQ==null||!AQ.privateConfig)return!1;let EQ=!1,CQ="";const dQ=AQ==null||(oQ=AQ.privateConfig)===null||oQ===void 0?void 0:oQ.serviceType,lQ=AQ==null||(rQ=AQ.privateConfig)===null||rQ===void 0?void 0:rQ.accessPointHosts,uQ=AQ==null||(nQ=AQ.privateConfig)===null||nQ===void 0?void 0:nQ.eventUploadHosts,hQ=AQ==null||(sQ=AQ.privateConfig)===null||sQ===void 0?void 0:sQ.logUploadHosts,BQ=AQ==null||(aQ=AQ.privateConfig)===null||aQ===void 0?void 0:aQ.originDomains;return(dQ==null?void 0:dQ.length)!==0&&(((cQ=dQ==null?void 0:dQ.length)!==null&&cQ!==void 0?cQ:0)===0||dQ!=null&&dQ.includes("MESSAGE")||dQ!=null&&dQ.includes("STREAM")||(CQ=" ServiceType is illegal.",EQ=!0),((gQ=dQ==null?void 0:dQ.length)!==null&&gQ!==void 0?gQ:0)!==0&&((IQ=lQ==null?void 0:lQ.length)!==null&&IQ!==void 0?IQ:0)===0&&(EQ=!0),(lQ!=null&&lQ.some(QQ=>!validDomain(QQ))||BQ!=null&&BQ.some(QQ=>!validDomain(QQ))||uQ!=null&&uQ.some(QQ=>!validDomain(QQ))||hQ!=null&&hQ.some(QQ=>!validDomain(QQ)))&&(EQ=!0,CQ+=" Hosts or domains is illegal."),EQ&&this._throwInvalidPrivateConfig(eQ,CQ),!0)}setIntervalCreateColl(){this._createCollInterval&&clearInterval(this._createCollInterval),this._createCollInterval=setInterval(()=>{var eQ;this==null||(eQ=this.mainSession)===null||eQ===void 0||eQ.getPresenceSession().intervalCreateColl()},MONITOR_INTERVAL)}deleteIntervalCreateColl(){this._createCollInterval&&clearInterval(this._createCollInterval)}_throwInvalidPrivateConfig(eQ){let AQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{code:iQ,reason:oQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_PRIVATE_CONFIG),rQ=new RtmInvalidArgumentError(eQ,[oQ+AQ],iQ);throw this.logError(rQ),rQ}_handleLoginFailedState(eQ){let AQ=LinkStateChangeReasonDescription.LOGIN_REJECTED,iQ="LOGIN_REJECTED";switch(eQ){case RTMErrorCode.RTM_ERROR_INVALID_USER_ID:AQ=LinkStateChangeReasonDescription.INVALID_USER_ID,iQ="INVALID_USER_ID";break;case RTMErrorCode.RTM_ERROR_INVALID_TOKEN:AQ=LinkStateChangeReasonDescription.INVALID_TOKEN,iQ="INVALID_TOKEN";break;case RTMErrorCode.RTM_ERROR_INCONSISTENT_APPID:AQ=LinkStateChangeReasonDescription.INCONSISTENT_APP_ID,iQ="INCONSISTENT_APP_ID";break;case RTMErrorCode.RTM_ERROR_SERVICE_NOT_SUPPORTED:AQ=LinkStateChangeReasonDescription.SERVICE_NOT_SUPPORTED,iQ="SERVICE_NOT_SUPPORTED";break;case RTMErrorCode.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION:AQ=LinkStateChangeReasonDescription.OPERATION_RATE_EXCEED_LIMITATION,iQ="OPERATION_RATE_EXCEED_LIMITATION"}this.updateLinkState("FAILED","LOGIN",[],iQ,AQ)}_validateJoinOptions(eQ,AQ){const iQ=getParameter("STORAGE_CHANNEL_SUB_ENABLED"),oQ=(iQ!==void 0?String(iQ):this.consoleConfig["storage.channel_subscribe_enabled"])==="true";if(eQ!=null&&eQ.withMetadata&&!oQ){const{code:sQ,reason:aQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_NOT_AVAILABLE);throw new RtmUnavailableError(AQ,[aQ],sQ)}const rQ=getParameter("LOCK_ENABLED"),nQ=(rQ!==void 0?String(rQ):this.consoleConfig["lock.enabled"])==="true";if(eQ!=null&&eQ.withLock&&!nQ){const{code:sQ,reason:aQ}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_NOT_AVAILABLE);throw new RtmUnavailableError(AQ,[aQ],sQ)}}}var _class;const defaultConfig={logUpload:!1,logFilter:LogFilter.LOG_FILTER_ERROR,cloudProxy:!1};let RTM=(_class=class extends EventBase{constructor(tQ,eQ,AQ){var iQ,oQ,rQ,nQ,sQ,aQ,cQ,gQ,IQ;const EQ={logUpload:(iQ=AQ==null?void 0:AQ.logUpload)!==null&&iQ!==void 0?iQ:defaultConfig.logUpload,logFilter:defaultConfig.logFilter,cloudProxy:(oQ=AQ==null?void 0:AQ.cloudProxy)!==null&&oQ!==void 0?oQ:defaultConfig.cloudProxy},CQ=_objectSpread2(_objectSpread2(_objectSpread2({},defaultConfig),EQ),{},{logFilter:_objectSpread2(_objectSpread2({},defaultConfig==null?void 0:defaultConfig.logFilter),EQ==null?void 0:EQ.logFilter)});(AQ!=null&&(rQ=AQ.privateConfig)!==null&&rQ!==void 0&&(rQ=rQ.serviceType)!==null&&rQ!==void 0&&rQ.includes("MESSAGE")||AQ!=null&&(nQ=AQ.privateConfig)!==null&&nQ!==void 0&&(nQ=nQ.serviceType)!==null&&nQ!==void 0&&nQ.includes("STREAM"))&&((sQ=AQ==null||(aQ=AQ.privateConfig)===null||aQ===void 0||(aQ=aQ.accessPointHosts)===null||aQ===void 0?void 0:aQ.length)!==null&&sQ!==void 0?sQ:0)>0&&CQ.logUpload&&((cQ=AQ==null||(gQ=AQ.privateConfig)===null||gQ===void 0||(gQ=gQ.logUploadHosts)===null||gQ===void 0?void 0:gQ.length)!==null&&cQ!==void 0?cQ:0)<=0&&(CQ.logUpload=!1);const dQ=uuid$1(),lQ=initLoggerId(dQ,AQ==null||(IQ=AQ.privateConfig)===null||IQ===void 0?void 0:IQ.logUploadHosts),uQ=genInfoLogger(tQ,CQ,dQ,eQ),hQ=genWarnLogger(tQ,CQ,dQ,eQ),BQ=genErrorLogger(tQ,CQ,dQ,eQ),QQ=trackLoggerGenerator(tQ,lQ,CQ,dQ,eQ),fQ=debugLoggerGenerator(tQ,lQ,CQ,dQ,eQ),_Q=fQ("RTM:DEBUG","<Entry> "),RQ={genLogger:fQ,genTracker:QQ,info:uQ,warn:hQ,logError:BQ,loggerId:lQ};super(RQ,"RTM",!0),_defineProperty$1(this,"presence",void 0),_defineProperty$1(this,"storage",void 0),_defineProperty$1(this,"lock",void 0),_defineProperty$1(this,"history",void 0),_defineProperty$1(this,"rtmImpl",void 0),this.rtmImpl=new RTMImpl(RQ,dQ,tQ,eQ,CQ,AQ),this.lock=this.rtmImpl.lock,this.presence=this.rtmImpl.presence,this.storage=this.rtmImpl.storage,this.history=this.rtmImpl.history,uQ("The Agora RTM Web SDK version is %s, fusion is %s",VERSION,FUSION),uQ("The new process ID is %s",dQ),CQ.logUpload&&_Q("The uploaded logs address is:".concat("http://log-collector-query.dc3.agoralab.co/api/v3/download?namespace=web&process_id=process-").concat(dQ)),uQ('The Git commit ID is "'.concat(BUILD,'"')),uQ("The build is %s",BUILD),uQ("NODE_ENV is %s","production"),uQ("Creating an RTM instance"),uQ("The App ID is %s",replaceRange(tQ,4,10,"*".repeat(6)))}async renewToken(tQ,eQ){return await this.rtmImpl.renewToken(tQ,eQ)}updateConfig(tQ){return this.rtmImpl.updateConfig(tQ)}async login(tQ){return await this.rtmImpl.login(tQ)}async logout(){return await this.rtmImpl.logout()}async publish(tQ,eQ,AQ){return await this.rtmImpl.publish(tQ,eQ,AQ)}async subscribe(tQ,eQ){return await this.rtmImpl.subscribe(tQ,eQ)}async unsubscribe(tQ){return await this.rtmImpl.unsubscribe(tQ)}createStreamChannel(tQ){return this.rtmImpl.createStreamChannel(tQ)}addEventListener(tQ,eQ){this.rtmImpl.addEventListener(tQ,eQ)}removeEventListener(tQ,eQ){this.rtmImpl.removeEventListener(tQ,eQ)}},_applyDecoratedDescriptor(_class.prototype,"renewToken",[loggedSensitive],Object.getOwnPropertyDescriptor(_class.prototype,"renewToken"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"updateConfig",[loggedSensitive],Object.getOwnPropertyDescriptor(_class.prototype,"updateConfig"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"login",[loggedSensitive],Object.getOwnPropertyDescriptor(_class.prototype,"login"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"logout",[loggedSensitive],Object.getOwnPropertyDescriptor(_class.prototype,"logout"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"publish",[loggedSensitive],Object.getOwnPropertyDescriptor(_class.prototype,"publish"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"subscribe",[loggedSensitive],Object.getOwnPropertyDescriptor(_class.prototype,"subscribe"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"unsubscribe",[loggedSensitive],Object.getOwnPropertyDescriptor(_class.prototype,"unsubscribe"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"createStreamChannel",[loggedSensitive],Object.getOwnPropertyDescriptor(_class.prototype,"createStreamChannel"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"addEventListener",[loggedSensitive],Object.getOwnPropertyDescriptor(_class.prototype,"addEventListener"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"removeEventListener",[loggedSensitive],Object.getOwnPropertyDescriptor(_class.prototype,"removeEventListener"),_class.prototype),_class);var index={BUILD,VERSION,processId,RTM,getParameter,setArea,setParameter,constantsType:ConstantsType,RTMBaseError};return index})})(agoraRtm);const AgoraRTM=getDefaultExportFromCjs(agoraRtmExports),appid="3e0b7ae5b6954a498a9b5e232ee6da3f",token=null,rtcUid=Math.floor(Math.random()*2032),rtmUid=String(Math.floor(Math.random()*2032)),getRoomId=()=>{const tQ=window.location.search,eQ=new URLSearchParams(tQ);if(eQ.get("room"))return eQ.get("room").toLowerCase()};let roomId=getRoomId()||null;document.getElementById("form").roomname.value=roomId;let audioTracks={localAudioTrack:null,remoteAudioTracks:{}},micMuted=!0,rtcClient,rtmClient,channel,avatar;const initRtm=async tQ=>{rtmClient=AgoraRTM.createInstance(appid),await rtmClient.login({uid:rtmUid,token}),channel=rtmClient.createChannel(roomId),await channel.join(),await rtmClient.addOrUpdateLocalUserAttributes({name:tQ,userRtcUid:rtcUid.toString(),userAvatar:avatar}),getChannelMembers(),window.addEventListener("beforeunload",leaveRtmChannel),channel.on("MemberJoined",handleMemberJoined),channel.on("MemberLeft",handleMemberLeft)},initRtc=async()=>{rtcClient=$K.createClient({mode:"rtc",codec:"vp8"}),rtcClient.on("user-published",handleUserPublished),rtcClient.on("user-left",handleUserLeft),await rtcClient.join(appid,roomId,token,rtcUid),audioTracks.localAudioTrack=await $K.createMicrophoneAudioTrack(),audioTracks.localAudioTrack.setMuted(micMuted),await rtcClient.publish(audioTracks.localAudioTrack),initVolumeIndicator()};let initVolumeIndicator=async()=>{$K.setParameter("AUDIO_VOLUME_INDICATION_INTERVAL",200),rtcClient.enableAudioVolumeIndicator(),rtcClient.on("volume-indicator",tQ=>{tQ.forEach(eQ=>{console.log(`UID ${eQ.uid} Level ${eQ.level}`);try{let AQ=document.getElementsByClassName(`avatar-${eQ.uid}`)[0];eQ.level>=50?AQ.style.borderColor="#00ff00":AQ.style.borderColor="#fff"}catch(AQ){console.error(AQ)}})})},handleUserPublished=async(tQ,eQ)=>{await rtcClient.subscribe(tQ,eQ),eQ=="audio"&&(audioTracks.remoteAudioTracks[tQ.uid]=[tQ.audioTrack],tQ.audioTrack.play())},handleUserLeft=async tQ=>{delete audioTracks.remoteAudioTracks[tQ.uid]},handleMemberJoined=async tQ=>{let{name:eQ,userRtcUid:AQ,userAvatar:iQ}=await rtmClient.getUserAttributesByKeys(tQ,["name","userRtcUid","userAvatar"]),oQ=`
  <div class="speaker user-rtc-${AQ}" id="${tQ}">
    <img class="user-avatar avatar-${AQ}" src="${iQ}"/>
      <p>${eQ}</p>
  </div>`;document.getElementById("members").insertAdjacentHTML("beforeend",oQ)},handleMemberLeft=async tQ=>{document.getElementById(tQ).remove()},getChannelMembers=async()=>{let tQ=await channel.getMembers();for(let eQ=0;tQ.length>eQ;eQ++){let{name:AQ,userRtcUid:iQ,userAvatar:oQ}=await rtmClient.getUserAttributesByKeys(tQ[eQ],["name","userRtcUid","userAvatar"]),rQ=`
    <div class="speaker user-rtc-${iQ}" id="${tQ[eQ]}">
        <img class="user-avatar avatar-${iQ}" src="${oQ}"/>
        <p>${AQ}</p>
    </div>`;document.getElementById("members").insertAdjacentHTML("beforeend",rQ)}};const toggleMic=async tQ=>{micMuted?(tQ.target.src="/icons/mic.svg",tQ.target.style.backgroundColor="ivory",micMuted=!1):(tQ.target.src="/icons/mic-off.svg",tQ.target.style.backgroundColor="indianred",micMuted=!0),audioTracks.localAudioTrack.setMuted(micMuted)};let lobbyForm=document.getElementById("form");const enterRoom=async tQ=>{if(tQ.preventDefault(),!avatar){alert("Please select an avatar");return}roomId=tQ.target.roomname.value.toLowerCase(),window.history.replaceState(null,null,`?room=${roomId}`),initRtc();let eQ=tQ.target.displayname.value;initRtm(eQ),lobbyForm.style.display="none",document.getElementById("room-header").style.display="flex",document.getElementById("room-name").innerText=roomId};let leaveRtmChannel=async()=>{await channel.leave(),await rtmClient.logout()},leaveRoom=async()=>{audioTracks.localAudioTrack.stop(),audioTracks.localAudioTrack.close(),rtcClient.unpublish(),rtcClient.leave(),leaveRtmChannel(),document.getElementById("form").style.display="block",document.getElementById("room-header").style.display="none",document.getElementById("members").innerHTML=""};lobbyForm.addEventListener("submit",enterRoom);document.getElementById("leave-icon").addEventListener("click",leaveRoom);document.getElementById("mic-icon").addEventListener("click",toggleMic);const avatars=document.getElementsByClassName("avatar-selection");for(let tQ=0;tQ<avatars.length;tQ++)avatars[tQ].addEventListener("click",()=>{for(let eQ=0;eQ<avatars.length;eQ++)avatars[eQ].classList.remove("selected"),avatars[eQ].style.opacity="0.5";avatar=avatars[tQ].src,avatars[tQ].classList.add("selected"),avatars[tQ].style.opacity="1"});
